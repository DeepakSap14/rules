(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "../../dist/@aribaui/components/fesm5/aribaui-components.js":
/*!****************************************************************************************************!*\
  !*** /Users/fkolar/Documents/projects/MetaUI/dist/@aribaui/components/fesm5/aribaui-components.js ***!
  \****************************************************************************************************/
/*! exports provided: ErrorMessagesComponent, ModalContainer, ModalService, ModalComponent, CurrencyFormatPipe, BaseComponent, WidgetSizeColumns, DomUtilsService, EmbeddedItemDirective, EmbededItem, ErrorManagerService, GenericContainerComponent, IncludeComponentDirective, ComponentRegistry, AWCoreComponentModule, BaseFormComponent, DataTypeProviderRegistry, DataProvider, DataProviders, DataFinders, DataFinder, QueryType, FullTextArrayDataFinder, DATA_SOURCE, ArrayDataProvider, NgForSetDirective, AwNameDirective, AwNameStore, FormTableComponent, FormRowComponent, TopZoneComponent, LeftZoneComponent, MiddleZoneComponent, RightZoneComponent, BottomZoneComponent, AWFormTableModule, BasicNavigatorComponent, ButtonComponent, CheckBoxListComponent, CHOOSER_CONTROL_VALUE_ACCESSOR, ChooserComponent, ChooserState, DefaultSelectionState, ChooserSelectionState, CURRENCY_CONTROL_VALUE_ACCESSOR, CurrencyComponent, Money, DateAndTimeComponent, DATETIME_CONTROL_VALUE_ACCESSOR, DialogComponent, DialogHeaderComponent, DialogFooterComponent, ConfirmationComponent, ConfirmationHeaderComponent, ConfirmationFooterComponent, OverlayComponent, DropdownComponent, GCChooserState, GenericChooserComponent, HyperlinkComponent, INPUT_CONTROL_VALUE_ACCESSOR, InputFieldComponent, RadioButtonListComponent, StringComponent, TEXTAREA_CONTROL_VALUE_ACCESSOR, TextAreaComponent, OutlineForComponent, OutlineControlComponent, PageActionsComponent, PageContentComponent, PageFooterComponent, PageHeaderComponent, PageMenuItem, UserNotification, PageNotificationComponent, PageNotification, PageInitialized, PageDestroyed, PageWrapper, PageLifeCycleService, ObjectPageWrapperComponent, SectionComponent, SubSectionComponent, RichTextAreaComponent, EditorType, CheckboxComponent, RadioButtonComponent, StepperComponent, StepComponent, AWInputFieldModule, AWStringFieldModule, AWBasicNavigatorModule, AWButtonModule, AWHyperlinkModule, AWCardModule, AWCheckBoxModule, AWCheckBoxListModule, AWChooserModule, AWDropdownModule, AWCurrencyModule, AWDateAndTimeModule, AWDialogModule, AWGenericChooserModule, AWRadioButtonModule, AWRadioButtonListModule, AWTextAreaModule, AWPageNotificationModule, AWPageWrapperModule, AWRichTextAreaModule, AWSectionModule, AWStepperModule, ScrollableContainerComponent, AWScrollableContainerModule, AWConfirmationModule, ChooserDataSource, isDSChooserInitParams, HoverCardComponent, ListComponent, AWListModule, CardComponent, OutlineState, Datatable2Component, DTColumn2Component, DTHeaderComponent2, DTDetailRowComponent, DetailRowExpansionState, Datatable2State, isDTInitParams, DT2DataSource, DTMultiSelectColumnComponent, AWDatatable2Module, WizardProgressComponent, isOutlineNode, AWOutlineForModule, ToggleSwitchComponent, WizardProgressModule, ToggleSwitchModule, AribaComponentsModule, AribaComponentsTestProviderModule, SpyLifeCycleHooksDirective, ɵp, ɵq, ɵa, ɵr, ɵh, ɵg, ɵf, ɵb, ɵc, ɵm, ɵu, ɵv, ɵx, ɵw, ɵt, ɵd, ɵz, ɵo, ɵi, ɵy, ɵj, ɵe, ɵn, ɵl, ɵk */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorMessagesComponent", function() { return ErrorMessagesComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalContainer", function() { return ModalContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalService", function() { return ModalService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalComponent", function() { return ModalComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrencyFormatPipe", function() { return CurrencyFormatPipe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseComponent", function() { return BaseComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WidgetSizeColumns", function() { return WidgetSizeColumns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DomUtilsService", function() { return DomUtilsService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmbeddedItemDirective", function() { return EmbeddedItemDirective; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmbededItem", function() { return EmbededItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorManagerService", function() { return ErrorManagerService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GenericContainerComponent", function() { return GenericContainerComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IncludeComponentDirective", function() { return IncludeComponentDirective; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentRegistry", function() { return ComponentRegistry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWCoreComponentModule", function() { return AWCoreComponentModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseFormComponent", function() { return BaseFormComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataTypeProviderRegistry", function() { return DataTypeProviderRegistry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataProvider", function() { return DataProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataProviders", function() { return DataProviders; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataFinders", function() { return DataFinders; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataFinder", function() { return DataFinder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueryType", function() { return QueryType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FullTextArrayDataFinder", function() { return FullTextArrayDataFinder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DATA_SOURCE", function() { return DATA_SOURCE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArrayDataProvider", function() { return ArrayDataProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NgForSetDirective", function() { return NgForSetDirective; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AwNameDirective", function() { return AwNameDirective; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AwNameStore", function() { return AwNameStore; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormTableComponent", function() { return FormTableComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormRowComponent", function() { return FormRowComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopZoneComponent", function() { return TopZoneComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LeftZoneComponent", function() { return LeftZoneComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MiddleZoneComponent", function() { return MiddleZoneComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RightZoneComponent", function() { return RightZoneComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BottomZoneComponent", function() { return BottomZoneComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWFormTableModule", function() { return AWFormTableModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BasicNavigatorComponent", function() { return BasicNavigatorComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ButtonComponent", function() { return ButtonComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckBoxListComponent", function() { return CheckBoxListComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CHOOSER_CONTROL_VALUE_ACCESSOR", function() { return CHOOSER_CONTROL_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChooserComponent", function() { return ChooserComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChooserState", function() { return ChooserState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DefaultSelectionState", function() { return DefaultSelectionState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChooserSelectionState", function() { return ChooserSelectionState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CURRENCY_CONTROL_VALUE_ACCESSOR", function() { return CURRENCY_CONTROL_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrencyComponent", function() { return CurrencyComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Money", function() { return Money; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DateAndTimeComponent", function() { return DateAndTimeComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DATETIME_CONTROL_VALUE_ACCESSOR", function() { return DATETIME_CONTROL_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogComponent", function() { return DialogComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogHeaderComponent", function() { return DialogHeaderComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogFooterComponent", function() { return DialogFooterComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmationComponent", function() { return ConfirmationComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmationHeaderComponent", function() { return ConfirmationHeaderComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmationFooterComponent", function() { return ConfirmationFooterComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OverlayComponent", function() { return OverlayComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DropdownComponent", function() { return DropdownComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GCChooserState", function() { return GCChooserState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GenericChooserComponent", function() { return GenericChooserComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HyperlinkComponent", function() { return HyperlinkComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INPUT_CONTROL_VALUE_ACCESSOR", function() { return INPUT_CONTROL_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InputFieldComponent", function() { return InputFieldComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RadioButtonListComponent", function() { return RadioButtonListComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StringComponent", function() { return StringComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TEXTAREA_CONTROL_VALUE_ACCESSOR", function() { return TEXTAREA_CONTROL_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextAreaComponent", function() { return TextAreaComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutlineForComponent", function() { return OutlineForComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutlineControlComponent", function() { return OutlineControlComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageActionsComponent", function() { return PageActionsComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageContentComponent", function() { return PageContentComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageFooterComponent", function() { return PageFooterComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageHeaderComponent", function() { return PageHeaderComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageMenuItem", function() { return PageMenuItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserNotification", function() { return UserNotification; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageNotificationComponent", function() { return PageNotificationComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageNotification", function() { return PageNotification; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageInitialized", function() { return PageInitialized; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageDestroyed", function() { return PageDestroyed; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageWrapper", function() { return PageWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageLifeCycleService", function() { return PageLifeCycleService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectPageWrapperComponent", function() { return ObjectPageWrapperComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionComponent", function() { return SectionComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubSectionComponent", function() { return SubSectionComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RichTextAreaComponent", function() { return RichTextAreaComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditorType", function() { return EditorType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckboxComponent", function() { return CheckboxComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RadioButtonComponent", function() { return RadioButtonComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StepperComponent", function() { return StepperComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StepComponent", function() { return StepComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWInputFieldModule", function() { return AWInputFieldModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWStringFieldModule", function() { return AWStringFieldModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWBasicNavigatorModule", function() { return AWBasicNavigatorModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWButtonModule", function() { return AWButtonModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWHyperlinkModule", function() { return AWHyperlinkModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWCardModule", function() { return AWCardModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWCheckBoxModule", function() { return AWCheckBoxModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWCheckBoxListModule", function() { return AWCheckBoxListModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWChooserModule", function() { return AWChooserModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWDropdownModule", function() { return AWDropdownModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWCurrencyModule", function() { return AWCurrencyModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWDateAndTimeModule", function() { return AWDateAndTimeModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWDialogModule", function() { return AWDialogModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWGenericChooserModule", function() { return AWGenericChooserModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWRadioButtonModule", function() { return AWRadioButtonModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWRadioButtonListModule", function() { return AWRadioButtonListModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWTextAreaModule", function() { return AWTextAreaModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWPageNotificationModule", function() { return AWPageNotificationModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWPageWrapperModule", function() { return AWPageWrapperModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWRichTextAreaModule", function() { return AWRichTextAreaModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWSectionModule", function() { return AWSectionModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWStepperModule", function() { return AWStepperModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScrollableContainerComponent", function() { return ScrollableContainerComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWScrollableContainerModule", function() { return AWScrollableContainerModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWConfirmationModule", function() { return AWConfirmationModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChooserDataSource", function() { return ChooserDataSource; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDSChooserInitParams", function() { return isDSChooserInitParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HoverCardComponent", function() { return HoverCardComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListComponent", function() { return ListComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWListModule", function() { return AWListModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardComponent", function() { return CardComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutlineState", function() { return OutlineState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Datatable2Component", function() { return Datatable2Component; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DTColumn2Component", function() { return DTColumn2Component; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DTHeaderComponent2", function() { return DTHeaderComponent2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DTDetailRowComponent", function() { return DTDetailRowComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetailRowExpansionState", function() { return DetailRowExpansionState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Datatable2State", function() { return Datatable2State; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDTInitParams", function() { return isDTInitParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DT2DataSource", function() { return DT2DataSource; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DTMultiSelectColumnComponent", function() { return DTMultiSelectColumnComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWDatatable2Module", function() { return AWDatatable2Module; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WizardProgressComponent", function() { return WizardProgressComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isOutlineNode", function() { return isOutlineNode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWOutlineForModule", function() { return AWOutlineForModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToggleSwitchComponent", function() { return ToggleSwitchComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WizardProgressModule", function() { return WizardProgressModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToggleSwitchModule", function() { return ToggleSwitchModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AribaComponentsModule", function() { return AribaComponentsModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AribaComponentsTestProviderModule", function() { return AribaComponentsTestProviderModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpyLifeCycleHooksDirective", function() { return SpyLifeCycleHooksDirective; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵp", function() { return registerComponents; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵq", function() { return registerComponents$1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵa", function() { return DataSource; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵr", function() { return InfiniteScrollComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵh", function() { return CardZoneTitleComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵg", function() { return CardZoneBottomComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵf", function() { return CardZoneTopComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵb", function() { return AWCardModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵc", function() { return CB_LIST_CONTROL_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵm", function() { return CB_CONTROL_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵu", function() { return DTDetailRowExpanderComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵv", function() { return DTSingleSelectColumnComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵx", function() { return SetCellMaxWidthDirective; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵw", function() { return DTDraggableRowDirective; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵt", function() { return DTWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵd", function() { return DD_CONTROL_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵz", function() { return AWHoverCardModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵo", function() { return LB_CONTROL_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵi", function() { return InitNestingDirective; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵy", function() { return AWOverlayModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵj", function() { return SidenavComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵe", function() { return RB_LIST_CONTROL_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵn", function() { return RAB_CONTROL_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵl", function() { return EDITOR_CONTROL_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵk", function() { return SectionActionsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _aribaui_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aribaui/core */ "../../dist/@aribaui/core/fesm5/aribaui-core.js");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "../../node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "../../node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ "../../node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var primeng_components_inputtext_inputtext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primeng/components/inputtext/inputtext */ "../../node_modules/primeng/components/inputtext/inputtext.js");
/* harmony import */ var primeng_components_inputtext_inputtext__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(primeng_components_inputtext_inputtext__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var primeng_primeng__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primeng/primeng */ "../../node_modules/primeng/primeng.js");
/* harmony import */ var primeng_primeng__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(primeng_primeng__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var primeng_dialog__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! primeng/dialog */ "../../node_modules/primeng/dialog.js");
/* harmony import */ var primeng_dialog__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(primeng_dialog__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/animations */ "../../node_modules/@angular/animations/fesm5/animations.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var primeng_components_utils_objectutils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! primeng/components/utils/objectutils */ "../../node_modules/primeng/components/utils/objectutils.js");
/* harmony import */ var primeng_components_utils_objectutils__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(primeng_components_utils_objectutils__WEBPACK_IMPORTED_MODULE_13__);















/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * When we have a custom component like dropdown, radiobuttonlist and
 * many more we want to provide a custom content to it like so:
 *
 * ```
 *  <aw-dropdown [list]="listOfUsers" let somehowGetItemOut>
 *      {{item.userName}}
 *
 *   <aw-dropdown
 *
 * ```
 * Who else would know how to render list of objects..
 *
 * But its not possible in current form. if I do not provide Angular some as they call it this
 * syntactic sugar *,
 *
 *
 * ```
 *  <aw-dropdown *mySugerDirective=.....>
 *      {{item.userName}}
 *
 *   <aw-dropdown
 * ```
 *
 *
 * then angular will not know  inside is a template and I wont be able to get hold of TemplateRef
 * inside the component
 *
 * So the only way I found (expecting I do not want to change anything in terms of bindings and the
 * signature I use it. I have to use it like this:
 *
 * ```
 *  <aw-dropdown [list]="listOfUsers" let somehowGetItemOut>
 *      <ng-template let-item> {{item.userName}}</ng-template>
 *
 *   <aw-dropdown
 *
 * ```
 *
 *  This way it could work. Since I am inside ngFor I want to render the item into the correct
 * viewContainer of ngFor's current item.
 *
 *  This way I can also expose item outside using Angular's special local variable called:
 * $implicit.
 *
 * This gets even more complex if we try to pass this template 2 levels down, like in case of
 * RadioButtonList. But later on I might want to refactor this into custom NG FOR
 *
 * @deprecated in favor of ngTemplateOutlet (will be removed in the next version)
 *
 */
var EmbeddedItemDirective = /** @class */ (function () {
    function EmbeddedItemDirective(_viewContainer) {
        this._viewContainer = _viewContainer;
    }
    Object.defineProperty(EmbeddedItemDirective.prototype, "item", {
        set: /**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            this._implicitValue = item;
        },
        enumerable: true,
        configurable: true
    });
    /**
     *
     */
    /**
     *
     * @param {?} changes
     * @return {?}
     */
    EmbeddedItemDirective.prototype.ngOnChanges = /**
     *
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._viewRef)) {
            this._viewContainer.remove(this._viewContainer.indexOf(this._viewRef));
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.embeddedItem)) {
            /** @type {?} */
            var context = new EmbededItem(this._implicitValue);
            this._viewRef = this._viewContainer.createEmbeddedView(this.embeddedItem, context);
        }
    };
    EmbeddedItemDirective.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"], args: [{ selector: '[embeddedItem]' },] }
    ];
    /** @nocollapse */
    EmbeddedItemDirective.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }
    ]; };
    EmbeddedItemDirective.propDecorators = {
        embeddedItem: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        item: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return EmbeddedItemDirective;
}());
/**
 * Wrapper class around Angular's EmbeddedViewRef.context()
 *
 */
var  /**
 * Wrapper class around Angular's EmbeddedViewRef.context()
 *
 */
EmbededItem = /** @class */ (function () {
    function EmbededItem($implicit) {
        this.$implicit = $implicit;
    }
    return EmbededItem;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * GenericContainerComponent is used by include-component.directive to dynamically create an
 * HTMLElement and use this element to wrap a child component. This is very useful when we want to
 * modify a child by wrapping it with a border, a background, or bold its text.
 *
 * The wrapper element is dynamically created. It's element is specified by the tagName property in
 * the bindings \@Input.
 *
 *  ### Example.  Directly in html
 *
 *   app.html
 *      <aw-generic-container tagName="tagName" bindings="bindings">
 *          <my-component ..bindings..></my-component>
 *      </aw-generic-container>
 *
 *   app.component.ts
 *
 *       tagName = (bBold) ? 'h1' : 'span';
 *       bindings = {  style: 'background-color: red' }
 *
 */
var GenericContainerComponent = /** @class */ (function () {
    /**
     * param renderer - Renderer is used to create 'tagName' element.
     */
    function GenericContainerComponent(renderer, element) {
        this.renderer = renderer;
        this.element = element;
        this.nativeElement = element.nativeElement;
    }
    /**
     * During the initialization, verify that at least one input has been set.
     */
    /**
     * During the initialization, verify that at least one input has been set.
     * @return {?}
     */
    GenericContainerComponent.prototype.ngOnInit = /**
     * During the initialization, verify that at least one input has been set.
     * @return {?}
     */
    function () {
        // If there's no input, this component wouldn't know what to do and throw exception.
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.bindings) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.tagName)) {
            throw new Error('GenericContainerComponent input bindings or tagName ' +
                'have not been set.');
        }
        // If the tagName is blank, the get it from bindings.
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.tagName)) {
            this.tagName = this.bindings.get('tagName');
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.tagName)) {
                this.tagName = GenericContainerComponent.DefaultTagName;
            }
        }
        // Save first added
        this.childElement = this.nativeElement.firstChild;
        this.doRender();
    };
    /**
     * @return {?}
     */
    GenericContainerComponent.prototype.ngDoCheck = /**
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.childElement) &&
            this.childElement.parentNode !== this.nativeElement.firstChild) {
            this.nativeElement.firstChild.appendChild(this.childElement);
        }
    };
    /**
     * After content has been initialized. Create the tagName element. Apply all the bindings on to
     * the element as attribute. Finally, move the child element, <ng-content>, to inside the
     * wrapper component.
     * @return {?}
     */
    GenericContainerComponent.prototype.doRender = /**
     * After content has been initialized. Create the tagName element. Apply all the bindings on to
     * the element as attribute. Finally, move the child element, <ng-content>, to inside the
     * wrapper component.
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var el = this.renderer.createElement(this.tagName);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.nativeElement)) {
            this.renderer.appendChild(this.nativeElement, el);
        }
        // Loop through all the bindings and add them to the element.
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].iterable(this.bindings).forEach(function (v, k) {
            _this.renderer.setStyle(el, k, v);
        });
        // Attach the component to this divElement.
        el.appendChild(this.childElement);
    };
    /**
     * Default tagName if none is specified inside bindings.
     *
     */
    GenericContainerComponent.DefaultTagName = 'div';
    GenericContainerComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-generic-container',
                    template: '<ng-content></ng-content>'
                }] }
    ];
    /** @nocollapse */
    GenericContainerComponent.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer2"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }
    ]; };
    GenericContainerComponent.propDecorators = {
        bindings: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        tagName: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return GenericContainerComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *  Base component shares common functionality among all the components (layouts, widgets).
 *
 * @abstract
 */
var BaseComponent = /** @class */ (function () {
    function BaseComponent(env) {
        this.env = env;
        /**
         * Adds disabled flag to the component
         *
         */
        this.disabled = false;
        /**
         * Weather this component is visible
         * Default is false;
         */
        this.visible = false;
        /**
         * Tell  the component if we are in editing mode.
         *
         */
        this.editable = true;
        /**
         * Removes padding from the component. Usually used when we are nesting other component with
         * its own grid.
         */
        this.omitPadding = false;
        /**
         * Prefix for the correct asset path
         */
        this.assetFolder = 'assets';
        this.extBindings = new Map();
        this.omitPadding = false;
    }
    /**
     * @return {?}
     */
    BaseComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.assetFolder = this.env.getValue(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["AppConfig"].AssetFolder);
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    BaseComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
    };
    /**
     * @return {?}
     */
    BaseComponent.prototype.ngDoCheck = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    BaseComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
    };
    BaseComponent.propDecorators = {
        disabled: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        visible: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        editable: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        width: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        height: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        styleClass: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        omitPadding: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return BaseComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @enum {number} */
var WidgetSizeColumns = {
    xsmall: 1,
    small: 3,
    medium: 6,
    large: 9,
    xlarge: 12,
};
WidgetSizeColumns[WidgetSizeColumns.xsmall] = 'xsmall';
WidgetSizeColumns[WidgetSizeColumns.small] = 'small';
WidgetSizeColumns[WidgetSizeColumns.medium] = 'medium';
WidgetSizeColumns[WidgetSizeColumns.large] = 'large';
WidgetSizeColumns[WidgetSizeColumns.xlarge] = 'xlarge';
/**
 *  BaseFormComponnet extends BaseComponent for add specific form behavior
 *
 * @abstract
 */
var BaseFormComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(BaseFormComponent, _super);
    /**
     * Some of the BaseFormComponent can wrap other component and in these cases we want to
     * inherit some of the behavior from parent
     *
     * @Inject(Environment) public env: Environment : is tem a workaround as without inject
     * on this specific component it complains that Environment is unresolved symbol
     *
     */
    function BaseFormComponent(env, parentContainer) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        _this.parentContainer = parentContainer;
        /**
         *
         * Is current element visible
         */
        _this.hidden = false;
        /**
         * Renders required flex around the component
         *
         */
        _this.required = false;
        /**
         *  a text displayed when value is empty or NULL
         */
        _this.placeHolder = '';
        /**
         * Identify if this control is used directly or if its part of some other control
         * e.g. GenericChooser and managed by this control.
         * Meaning State is mananged outside of this component
         *
         */
        _this.isStandalone = true;
        _this.onModelChanged = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["noop"];
        _this.onModelTouched = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["noop"];
        return _this;
    }
    /**
     * @return {?}
     */
    BaseFormComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.parentContainer)) {
            this.formGroup = this.parentContainer.formGroup;
            this.editable = this.parentContainer.editable;
        }
        this.checkInitForm();
    };
    /**
     * Make sure that we have available formGroup and Name and ID
     *
     */
    /**
     * Make sure that we have available formGroup and Name and ID
     *
     * @return {?}
     */
    BaseFormComponent.prototype.checkInitForm = /**
     * Make sure that we have available formGroup and Name and ID
     *
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.env.currentForm)) {
            this.env.currentForm = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormGroup"]({});
        }
        /**
                 * Todo: Right now I just need to initialize name , but ideally it needs to be generated
                 * number basedon some semantics app.page.component if there are more component on the page
                 * then app.page.componentNumber. Simple solution is to is to get Elementref and query it.
                 */
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.name)) {
            this.name = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["uuid"])();
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.id)) {
            this.id = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["uuid"])();
        }
    };
    /**
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
    BaseFormComponent.prototype.doRegister = /**
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
    function (name, value) {
        /** @type {?} */
        var fControl;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.formGroup.controls[name])) {
            this.formGroup.registerControl(name, new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"](value));
            fControl = /** @type {?} */ (this.formGroup.controls[name]);
        }
        else {
            fControl = /** @type {?} */ (this.formGroup.controls[name]);
            /** @type {?} */
            var updatedValue = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(fControl.value) ? fControl.value : value;
            fControl.patchValue(updatedValue, { onlySelf: true, emitEvent: false });
        }
        return fControl;
    };
    /**
     * When we are dealing with Forms this is a helper method to register control
     *
     *
     * @param value default value to be pre-set
     */
    /**
     * When we are dealing with Forms this is a helper method to register control
     *
     *
     * @param {?} value default value to be pre-set
     * @return {?}
     */
    BaseFormComponent.prototype.registerFormControl = /**
     * When we are dealing with Forms this is a helper method to register control
     *
     *
     * @param {?} value default value to be pre-set
     * @return {?}
     */
    function (value) {
        this.formControl = this.doRegister(this.name, value);
        if (this.disabled) {
            this.formControl.disable();
        }
    };
    Object.defineProperty(BaseFormComponent.prototype, "formGroup", {
        get: /**
         * @return {?}
         */
        function () {
            return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._formGroup) ? this._formGroup : this.env.currentForm;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._formGroup = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Indicates if we can pass field type as a binding to the components. e.g. InputField need
     * such type to correctly render input type=text, number
     *
     * todo: is this needed? can we maybe pass this to the formRow?
     */
    /**
     * Indicates if we can pass field type as a binding to the components. e.g. InputField need
     * such type to correctly render input type=text, number
     *
     * todo: is this needed? can we maybe pass this to the formRow?
     * @return {?}
     */
    BaseFormComponent.prototype.canSetType = /**
     * Indicates if we can pass field type as a binding to the components. e.g. InputField need
     * such type to correctly render input type=text, number
     *
     * todo: is this needed? can we maybe pass this to the formRow?
     * @return {?}
     */
    function () {
        return false;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    BaseFormComponent.prototype.writeValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    BaseFormComponent.prototype.registerOnChange = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onModelChanged = fn;
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    BaseFormComponent.prototype.registerOnTouched = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onModelTouched = fn;
    };
    /*
         *  Supported layout constants. It is expected there will be more options as we currently
         *  support only these two there will be other variations of it. e.g. for stacked it will not
         *  be 1 columns like it is now but multiple columns
         *
         */
    BaseFormComponent.LayoutStacked = 'stacked';
    BaseFormComponent.LayoutInline = 'inline';
    /** @nocollapse */
    BaseFormComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"], decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"],] }] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return BaseFormComponent; }),] }] }
    ]; };
    BaseFormComponent.propDecorators = {
        name: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        id: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        hidden: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        required: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        placeHolder: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        isStandalone: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        formGroup: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return BaseFormComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Simple component rendering values in the read only mode. Just needed some component used
 * to render Strings in read only mode
 *
 *
 *  ### Example
 *
 * Using it inside form container along with label
 *
 *
 *  ```
 * \@Component({
 *              selector: 'userInfo' ,
 *              template: `
 *                      <aw-form-table [editable]="false" >
 *                          <aw-form-row [name]="fieldName"  [label]="label">
 *                                 <aw-string [value]="inputValue" ></aw-string>
 *                           </aw-form-row>
 *                      </aw-form-table>
 *
 *                  `
 *          })
 *          export class UserProfileComponent
 *          {
 *              inputValue: string = 'Some text';
 *              inputType: string = 'string';
 *              fieldName: string = 'firstName';
 *              label: string = 'My Name';
 *              required: boolean = true;
 *              editing: boolean = true;
 *              labelsOnTop: boolean = false;
 *
 *          }
 *
 *  ```
 *
 * You can also pass html tags.
 *
 */
var StringComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(StringComponent, _super);
    function StringComponent(env, sanitizer, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.sanitizer = sanitizer;
        _this.parentContainer = parentContainer;
        /**
         *  Value to be interpolated
         *
         */
        _this._value = '';
        return _this;
    }
    Object.defineProperty(StringComponent.prototype, "value", {
        get: /**
         * @return {?}
         */
        function () {
            return this.sanitizer.bypassSecurityTrustHtml(this._value);
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._value = value;
        },
        enumerable: true,
        configurable: true
    });
    StringComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-string',
                    template: "\n        <span class=\"w-string-field\" [innerHTML]=\"value\"></span>\n    ",
                    styles: [".w-string-field{display:inline-block}"]
                }] }
    ];
    /** @nocollapse */
    StringComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["DomSanitizer"] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return BaseFormComponent; }),] }] }
    ]; };
    StringComponent.propDecorators = {
        value: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return StringComponent;
}(BaseFormComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * A class holding a references to components. The methods are self-explanatory.
 *
 */
var ComponentRegistry = /** @class */ (function () {
    function ComponentRegistry(env) {
        this.env = env;
        this._nameToType = new Map();
    }
    /**
     * @param {?} references
     * @return {?}
     */
    ComponentRegistry.prototype.initialize = /**
     * @param {?} references
     * @return {?}
     */
    function (references) {
        this.registerTypes(references);
        /** @type {?} */
        var promise = new Promise(function (resolve) {
            resolve(true);
        });
        return promise;
    };
    /**
     * @param {?} name
     * @param {?} type
     * @return {?}
     */
    ComponentRegistry.prototype.registerType = /**
     * @param {?} name
     * @param {?} type
     * @return {?}
     */
    function (name, type) {
        if (!this.nameToType.has(name)) {
            this._nameToType.set(name, type);
        }
    };
    /**
     * @param {?} references
     * @return {?}
     */
    ComponentRegistry.prototype.registerTypes = /**
     * @param {?} references
     * @return {?}
     */
    function (references) {
        var _this = this;
        if (!Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isStringMap"])(references)) {
            return;
        }
        Object.keys(references).forEach(function (name) {
            _this.registerType(name, references[name]);
        });
    };
    Object.defineProperty(ComponentRegistry.prototype, "nameToType", {
        get: /**
         * @return {?}
         */
        function () {
            return this._nameToType;
        },
        enumerable: true,
        configurable: true
    });
    ComponentRegistry.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"] }
    ];
    /** @nocollapse */
    ComponentRegistry.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    return ComponentRegistry;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *  `IncludeComponent` directive dynamically instantiate and insert a components into the screen
 * based on the name. It can accepts bindings as well which will be automatically bound and applied
 * to the component
 *
 *  ### usage:
 *
 *  Instead of inserting component in the way:
 *
 *  ```
 *    <textfield value="some value">
 *
 *  ```
 *
 *  you can do so dynamically like this:
 *
 * ```
 *  <aw-include-component 'TextfieldComponent' [bindings]=bindings ></aw-include-component>
 * ```
 *
 * This is the main building block to dynamically generated UI.
 *
 *
 * Todo: Currently the way Angular API work and we use it to create programatically components
 * is too complext we need to create everything 3 different calls to place a component to the
 * container. What I want is is to create some kind of representation of ContainerElement and this
 * can be also parent for our BaseComponent with method add and remove content. Then we could have
 * some AWContent.
 *
 * e.g.: to replace applyContentElementIfAny where we have several calls to create and add
 * component to the view.
 *
 * ```ts
 *  let containerElement = AWConcreteTemplate(viewContainer, factoryResolver)
 *  containerElement.add('Clck Me')
 * ```
 *
 * To assemble different components together - not only adding string content
 *
 * ```ts
 *  let content = new AWContent(ButtonComponent, bindingsMap)
 *  content.add('Click Me');
 *  containerElement.add(content)
 *
 * ```
 *
 * add more component hierarchy:
 *
 * ```ts
 *  let content = new AWContent(HoverCardComponnets, bindingsMap)
 *  content.add(createLayout();
 *  containerElement.add(content)
 *
 * ```
 *
 *
 *
 *
 */
var IncludeComponentDirective = /** @class */ (function () {
    function IncludeComponentDirective(viewContainer, factoryResolver, cd, compRegistry) {
        this.viewContainer = viewContainer;
        this.factoryResolver = factoryResolver;
        this.cd = cd;
        this.compRegistry = compRegistry;
        /**
         * I use this flag to identify that component is rendering for first time or its updated during
         * change detection
         *
         */
        this.initRenderInProgress = false;
        /**
         * Not sure if we need this, but want to keep it here or maybe move it to some service so we
         * can cache created components and maybe reuse them.
         *
         */
        this.componentReferences = new Map();
        this.bindings = new Map();
    }
    /**
     * @return {?}
     */
    IncludeComponentDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.initRenderInProgress = true;
        // todo: check if this the right lifecycle callback, this is called only once and you want
        // to probably listen for changes, and change dection decide there is some change and we
        // need to re-draw the view
        this.viewContainer.clear();
        this.doRenderComponent();
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    IncludeComponentDirective.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(changes['name']) &&
            (changes['name'].currentValue !== changes['name'].previousValue)) {
            this.viewContainer.clear();
            this.doRenderComponent();
        }
    };
    /**
     * @return {?}
     */
    IncludeComponentDirective.prototype.ngAfterViewChecked = /**
     * @return {?}
     */
    function () {
        this.initRenderInProgress = false;
    };
    /**
     * @return {?}
     */
    IncludeComponentDirective.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        // check to see if we need to render and reposition DOM element both for wrapper and
        // content
        this.createWrapperElementIfAny();
        this.createContentElementIfAny();
    };
    /**
     * @return {?}
     */
    IncludeComponentDirective.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * Handles a case where we need to resolve additional component and wrap the current one.
     * Just like reateContentElementIfAny() this method needs to be executed after all
     * is created and initialized (inside the ngAfterViewInit() )
     *
     */
    /**
     * Handles a case where we need to resolve additional component and wrap the current one.
     * Just like reateContentElementIfAny() this method needs to be executed after all
     * is created and initialized (inside the ngAfterViewInit() )
     *
     * @return {?}
     */
    IncludeComponentDirective.prototype.createWrapperElementIfAny = /**
     * Handles a case where we need to resolve additional component and wrap the current one.
     * Just like reateContentElementIfAny() this method needs to be executed after all
     * is created and initialized (inside the ngAfterViewInit() )
     *
     * @return {?}
     */
    function () {
    };
    /**
     * Renders a component into actual View Container. The process goes as this.
     *  1. We retrieve component Type based on the component name, which creates componentRef
     *  2. Place the component onto the screen
     *  3. Read component metadata, mainly INPUTs and apply bindings for each of them
     *  4. Manually spin change detection to update the screen. Mainly for case where I need to
     * redraw a screen
     */
    /**
     * Renders a component into actual View Container. The process goes as this.
     *  1. We retrieve component Type based on the component name, which creates componentRef
     *  2. Place the component onto the screen
     *  3. Read component metadata, mainly INPUTs and apply bindings for each of them
     *  4. Manually spin change detection to update the screen. Mainly for case where I need to
     * redraw a screen
     * @return {?}
     */
    IncludeComponentDirective.prototype.doRenderComponent = /**
     * Renders a component into actual View Container. The process goes as this.
     *  1. We retrieve component Type based on the component name, which creates componentRef
     *  2. Place the component onto the screen
     *  3. Read component metadata, mainly INPUTs and apply bindings for each of them
     *  4. Manually spin change detection to update the screen. Mainly for case where I need to
     * redraw a screen
     * @return {?}
     */
    function () {
        var _this = this;
        this.placeTheComponent();
        // this.currentComponent.changeDetectorRef.detach();
        this.applyBindings(this.componentReference(), this.currentComponent, this.bindings);
        // this.currentComponent.changeDetectorRef.detectChanges();
        // Still not sure about this what all I should release here.
        this.currentComponent.onDestroy(function () {
            // this.bindings.clear();
            // this.bindings = undefined;
            //
            // this.componentReferences.clear();
            // this.componentReferences = undefined;
            // this.bindings.clear();
            // this.bindings = undefined;
            //
            // this.componentReferences.clear();
            // this.componentReferences = undefined;
            _this.destroy();
        });
    };
    /**
     * Place actual component onto the screen using ViewContainerRef
     *
     */
    /**
     * Place actual component onto the screen using ViewContainerRef
     *
     * @return {?}
     */
    IncludeComponentDirective.prototype.placeTheComponent = /**
     * Place actual component onto the screen using ViewContainerRef
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var reference = this.componentReference();
        this.currentComponent = this.viewContainer.createComponent(reference.resolvedCompFactory);
    };
    /**
     * When inserting Component that needs to have a content like e.g. hyperlink or button
     *
     * ```
     *   <button> MY NG CONTENT </button>
     *
     * ```
     *  this method applies and insert a child content into the main component. This method insert
     * a simple string. We are not wrapping existing component with another component here.
     *
     * @return need to run detect changes ? default is false
     */
    /**
     * When inserting Component that needs to have a content like e.g. hyperlink or button
     *
     * ```
     *   <button> MY NG CONTENT </button>
     *
     * ```
     *  this method applies and insert a child content into the main component. This method insert
     * a simple string. We are not wrapping existing component with another component here.
     *
     * @return {?} need to run detect changes ? default is false
     */
    IncludeComponentDirective.prototype.createContentElementIfAny = /**
     * When inserting Component that needs to have a content like e.g. hyperlink or button
     *
     * ```
     *   <button> MY NG CONTENT </button>
     *
     * ```
     *  this method applies and insert a child content into the main component. This method insert
     * a simple string. We are not wrapping existing component with another component here.
     *
     * @return {?} need to run detect changes ? default is false
     */
    function () {
        /** @type {?} */
        var detectChanges = false;
        /** @type {?} */
        var ngContent = this.ngContent();
        /** @type {?} */
        var ngContentElement = this.ngContentElement();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(ngContent)) {
            /** @type {?} */
            var awContentComponent = this.factoryResolver.resolveComponentFactory(StringComponent);
            /** @type {?} */
            var component = this.viewContainer.createComponent(awContentComponent, 0);
            (/** @type {?} */ (component.instance)).value = ngContent;
            /** @type {?} */
            var awContentContainer = this.currentComponent.location.nativeElement.firstChild;
            awContentContainer.appendChild(component.location.nativeElement);
            detectChanges = true;
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(ngContentElement)) ;
        return detectChanges;
    };
    /**
     *
     * Retrieve a NG Content from binding list and remove it so it its not prepagated down when
     * applying other bindings.
     *
     */
    /**
     *
     * Retrieve a NG Content from binding list and remove it so it its not prepagated down when
     * applying other bindings.
     *
     * @return {?}
     */
    IncludeComponentDirective.prototype.ngContent = /**
     *
     * Retrieve a NG Content from binding list and remove it so it its not prepagated down when
     * applying other bindings.
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var content;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(content = this.bindings.get(IncludeComponentDirective.NgContent))) {
            this.bindings.delete(IncludeComponentDirective.NgContent);
        }
        return content;
    };
    /**
     * @return {?}
     */
    IncludeComponentDirective.prototype.ngContentElement = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var content;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(content = this.bindings.get(IncludeComponentDirective.NgContentElement))) {
            this.bindings.delete(IncludeComponentDirective.NgContentElement);
        }
        return content;
    };
    /**
     * We need to convert a component name to actual a type and then use ComponentFactoryResolver
     * to instantiate a a component and save its information into our component references. The
     * reason why we have this component reference is we need to store Angular's component metadata
     * so we can iterate thru all the inputs and bind them to the context.
     *
     * returns {ComponentReference} a reference representing a compoent currently being rendered
     */
    /**
     * We need to convert a component name to actual a type and then use ComponentFactoryResolver
     * to instantiate a a component and save its information into our component references. The
     * reason why we have this component reference is we need to store Angular's component metadata
     * so we can iterate thru all the inputs and bind them to the context.
     *
     * returns {ComponentReference} a reference representing a compoent currently being rendered
     * @return {?}
     */
    IncludeComponentDirective.prototype.componentReference = /**
     * We need to convert a component name to actual a type and then use ComponentFactoryResolver
     * to instantiate a a component and save its information into our component references. The
     * reason why we have this component reference is we need to store Angular's component metadata
     * so we can iterate thru all the inputs and bind them to the context.
     *
     * returns {ComponentReference} a reference representing a compoent currently being rendered
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.resolvedComponentRef)) {
            return this.resolvedComponentRef;
        }
        /** @type {?} */
        var currType = this.resolveComponentType();
        /** @type {?} */
        var componentFactory = this.factoryResolver
            .resolveComponentFactory(currType);
        /** @type {?} */
        var componentMeta = this.resolveDirective(componentFactory);
        /** @type {?} */
        var compReference = {
            metadata: componentMeta,
            resolvedCompFactory: componentFactory,
            componentType: currType,
            componentName: this.name
        };
        this.resolvedComponentRef = compReference;
        return compReference;
    };
    /**
     * Iterates thru ComponentMetadata @Inputs() and check if we have available binding inside the
     * 'this.bindings'
     */
    /**
     * Iterates thru ComponentMetadata \@Inputs() and check if we have available binding inside the
     * 'this.bindings'
     * @param {?} cRef
     * @param {?} component
     * @param {?} bindings
     * @return {?}
     */
    IncludeComponentDirective.prototype.applyBindings = /**
     * Iterates thru ComponentMetadata \@Inputs() and check if we have available binding inside the
     * 'this.bindings'
     * @param {?} cRef
     * @param {?} component
     * @param {?} bindings
     * @return {?}
     */
    function (cRef, component, bindings) {
        /** @type {?} */
        var inputs = cRef.metadata.inputs;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(inputs) || inputs.length === 0) {
            return;
        }
        // should we do any type conversion?
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].iterable(bindings).forEach(function (v, k) {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(component.instance[k])) {
                component.instance[k] = v;
            }
        });
    };
    /**
     * Resolves a component Type based on the string literal
     *
     * @returns component type used by `ComponentFactoryResolver`
     *
     * todo: rename the method so its clear that it returns component type based on string.
     */
    /**
     * Resolves a component Type based on the string literal
     *
     * @return {?} component type used by `ComponentFactoryResolver`
     *
     * todo: rename the method so its clear that it returns component type based on string.
     */
    IncludeComponentDirective.prototype.resolveComponentType = /**
     * Resolves a component Type based on the string literal
     *
     * @return {?} component type used by `ComponentFactoryResolver`
     *
     * todo: rename the method so its clear that it returns component type based on string.
     */
    function () {
        /** @type {?} */
        var componentType = this.compRegistry.nameToType.get(this.name);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(componentType)) {
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(false, this.name + ' component does not exists. Create Dummy Component instead' +
                ' of throwing this error');
            return;
        }
        return componentType;
    };
    /**
     * @param {?} compFactory
     * @return {?}
     */
    IncludeComponentDirective.prototype.resolveDirective = /**
     * @param {?} compFactory
     * @return {?}
     */
    function (compFactory) {
        /** @type {?} */
        var compMeta = {
            inputs: [],
            outputs: []
        };
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(compFactory.inputs) && compFactory.inputs.length > 0) {
            compFactory.inputs.forEach(function (input) {
                compMeta.inputs.push(input.propName);
            });
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(compFactory.outputs) && compFactory.outputs.length > 0) {
            compFactory.outputs.forEach(function (output) {
                compMeta.outputs.push(output.propName);
            });
        }
        return compMeta;
    };
    /**
     * @return {?}
     */
    IncludeComponentDirective.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.currentComponent)) {
            this.currentComponent.destroy();
            this.currentComponent = undefined;
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.viewContainer)) {
            this.viewContainer.clear();
        }
    };
    /**
     * @return {?}
     */
    IncludeComponentDirective.prototype.destroy = /**
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.currentComponent)) {
            this.currentComponent = null;
            this.resolvedComponentRef = null;
        }
    };
    IncludeComponentDirective.NgContent = 'ngcontent';
    IncludeComponentDirective.NgContentElement = 'ngcontentElement';
    IncludeComponentDirective.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"], args: [{
                    selector: 'aw-include-component'
                },] }
    ];
    /** @nocollapse */
    IncludeComponentDirective.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] },
        { type: ComponentRegistry }
    ]; };
    IncludeComponentDirective.propDecorators = {
        name: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        bindings: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return IncludeComponentDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Error Manager is a service used by Forms components to map error codes into meaningful messages.
 * Currently it does not have much but once we plug in localization it will make more sense
 *
 *
 * todo: Once ng-translate is implemented replace this with ng-translate functionality so we can
 * externalize these messages into locale files.
 *
 */
var ErrorManagerService = /** @class */ (function () {
    function ErrorManagerService() {
        this.messages = {
            'required': 'Required field',
            'minlength': 'Field does not meet minimum length',
            'maxlength': 'Field does not meet maximum length',
            'customMsg': '%s',
            'metavalid': '%s'
        };
    }
    /**
     * @param {?} validatorName
     * @param {?=} validatorValue
     * @return {?}
     */
    ErrorManagerService.prototype.errorMessage = /**
     * @param {?} validatorName
     * @param {?=} validatorValue
     * @return {?}
     */
    function (validatorName, validatorValue) {
        /** @type {?} */
        var message = this.messages[validatorName];
        if (_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringWrapper"].contains(message, '%s')) {
            // todo: use ng-translate with proper message formatting
            return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringWrapper"].replace(message, '%s', validatorValue.msg);
        }
        return message;
    };
    ErrorManagerService.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"] }
    ];
    /** @nocollapse */
    ErrorManagerService.ctorParameters = function () { return []; };
    return ErrorManagerService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * ErrorMessagesComponent is used by form's component like FormRow to print its validation errors.
 * Its  based on ModelDriven (Reactive forms) and it reads errors from FormControl
 *
 *
 *
 */
var ErrorMessagesComponent = /** @class */ (function () {
    function ErrorMessagesComponent(errManager) {
        this.errManager = errManager;
    }
    /**
     * @return {?}
     */
    ErrorMessagesComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    ErrorMessagesComponent.prototype.hasMessage = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var msg = this.errorMsg;
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(msg);
    };
    Object.defineProperty(ErrorMessagesComponent.prototype, "errorMsg", {
        /**
         * Retrieve a messages if any registered by added validators
         *
         */
        get: /**
         * Retrieve a messages if any registered by added validators
         *
         * @return {?}
         */
        function () {
            for (var propertyName in this.control.errors) {
                if (this.control.errors.hasOwnProperty(propertyName) && this.control.touched) {
                    return this.errManager.errorMessage(propertyName, this.control.errors[propertyName]);
                }
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     *
     * Show errors? We currently shows errors if the control is not valid, it was touched by user.
     * Most of the type on blur event  and at last its not pristine anymore (its dirty)
     *
     */
    /**
     *
     * Show errors? We currently shows errors if the control is not valid, it was touched by user.
     * Most of the type on blur event  and at last its not pristine anymore (its dirty)
     *
     * @return {?}
     */
    ErrorMessagesComponent.prototype.showErrors = /**
     *
     * Show errors? We currently shows errors if the control is not valid, it was touched by user.
     * Most of the type on blur event  and at last its not pristine anymore (its dirty)
     *
     * @return {?}
     */
    function () {
        return !this.control.valid && !this.control.pristine && this.control.touched;
    };
    ErrorMessagesComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'a-error-messages',
                    template: "\n            <div class=\"ui-g\">\n                    <small *ngIf=\"hasMessage()\"\n                        class=\"ui-g-12 ui-message ui-messages-error ui-corner-all\">\n                        {{ errorMsg }}\n                    </small>\n            </div>\n    ",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    ErrorMessagesComponent.ctorParameters = function () { return [
        { type: ErrorManagerService }
    ]; };
    ErrorMessagesComponent.propDecorators = {
        control: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return ErrorMessagesComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Modal service is used to to create modal dialogs. It creates modal dialogs dynamically.
 * The service also keeps track of the created modal dialog and can close it by calling the
 * service's close()
 *
 * Modal service requires a ViewContainer to insert newly created modals. This is taken care
 * by the ModalComponent.
 *
 * Usage:
 *     Add   <aw-modal></aw-modal>  into your application main html. It needs to be on every
 *     page where a modal dialog will appear.
 *
 *    1.  Popup a dialog without creating your own component.
 *        Use the existing DialogComponent in widgets.
 *
 *             this.modalService.open<DialogComponent>(DialogComponent, {
 *                     title: 'My Popup Title',
 *                     body: 'My Popup Body'
 *              });
 *
 *
 *   2.   Creating your own Dialog Component to popup.
 *
 *         let componentRef = this.modalService.open<MyDialogComponent>(MyDialogComponent,
 * {inputs});
 *
 * \@Component({
 *                selector: 'aw-mydialog' ,
 *                           template: `
 *                                         <aw-dialog (onClose)="closePopup()">
 *                                              <ng-template #titleTemplate>
 *                                                 <span><i class="fa fa-envira" ></i>This is my
 *     Title </span>
 *                                              </ng-template>
 *                                              <ng-template #bodyTemplate>
 *                                                 <span><i class="fa fa-envira" ></i>This is my
 *     Body </span>
 *                                              </ng-template>
 *                                        </aw-dialog>
 *                                     `
 *         })
 *         export class MyDialogComponent extends DialogComponent implements OnInit {
 *                     constructor(private modalService: ModalService) {
 *                          super();
 *                       }
 *                     ngOnInit() { }
 *
 *                     closePopup() {
 *                            this.modalService.close();
 *                      }
 *         }
 */
var ModalService = /** @class */ (function () {
    /**
     * DI ComponentFactoryResolver to be used to create modal component.
     *
     * @param cfr
     */
    function ModalService(cfr) {
        this.cfr = cfr;
    }
    /**
     *  PlaceHolder for modal to be inserted.
     *
     * @param vcRef
     */
    /**
     *  PlaceHolder for modal to be inserted.
     *
     * @param {?} vcRef
     * @return {?}
     */
    ModalService.prototype.registerViewContainerRef = /**
     *  PlaceHolder for modal to be inserted.
     *
     * @param {?} vcRef
     * @return {?}
     */
    function (vcRef) {
        this.vcRef = vcRef;
    };
    /**
     * Opens the modal dialog by dynamically creating the component and adding it to vcRef.
     *
     */
    /**
     * Opens the modal dialog by dynamically creating the component and adding it to vcRef.
     *
     * @template T
     * @param {?} component
     * @param {?=} parameters
     * @return {?}
     */
    ModalService.prototype.open = /**
     * Opens the modal dialog by dynamically creating the component and adding it to vcRef.
     *
     * @template T
     * @param {?} component
     * @param {?=} parameters
     * @return {?}
     */
    function (component, parameters) {
        /** @type {?} */
        var cf = this.cfr.resolveComponentFactory(component);
        /** @type {?} */
        var componentRef = this.vcRef.createComponent(cf);
        // Auto set visiblity to true. So that the Dialog will display
        parameters = (parameters) ? parameters : {};
        parameters['visible'] = true;
        // Handle output parameters.
        ModalService.OUTPUT_PARAMETERS.forEach(function (param) {
            if (parameters[param]) {
                (/** @type {?} */ (componentRef.instance))[param].subscribe(parameters[param]);
                delete parameters[param];
            }
        });
        Object.assign(componentRef.instance, parameters);
        // had to cast it in order to avoid any index Error
        // Attach a destroy method to the newly created component.
        (/** @type {?} */ (componentRef.instance))['destroy'] = function () {
            componentRef.destroy();
        };
        // Save the instance, so it can be destroyed later.
        this.instance = componentRef;
        return componentRef;
    };
    /**
     * Calling close() will remove the modal from view.
     */
    /**
     * Calling close() will remove the modal from view.
     * @return {?}
     */
    ModalService.prototype.close = /**
     * Calling close() will remove the modal from view.
     * @return {?}
     */
    function () {
        if (this.instance) {
            this.instance.destroy();
            this.instance = null;
        }
    };
    /**
     * This is a static list of output parameter from Dialog, Confirmation components
     * that needs to be handled.
     *
     */
    ModalService.OUTPUT_PARAMETERS = ['onClose', 'onConfirm', 'onCancel'];
    ModalService.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"] }
    ];
    /** @nocollapse */
    ModalService.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }
    ]; };
    return ModalService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Place holder for all modal dialogs. This component works with the modalService by providing
 * a place holder for it to inject Dialog component into.
 */
var ModalComponent = /** @class */ (function () {
    function ModalComponent(modalService) {
        this.modalService = modalService;
    }
    /**
     * @return {?}
     */
    ModalComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.modalService.registerViewContainerRef(this.viewContainerRef);
    };
    ModalComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-modal',
                    template: "<div #modal></div>\n",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    ModalComponent.ctorParameters = function () { return [
        { type: ModalService }
    ]; };
    ModalComponent.propDecorators = {
        viewContainerRef: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: ['modal', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] },] }]
    };
    return ModalComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * This currency formatter will ignore null and empty string for value.
 * Issue : https://github.com/angular/angular/issues/8694  DI fails when extends other classes
 */
var CurrencyFormatPipe = /** @class */ (function () {
    function CurrencyFormatPipe(currencyPipe) {
        this.currencyPipe = currencyPipe;
    }
    /**
     * @param {?} value
     * @param {...?} args
     * @return {?}
     */
    CurrencyFormatPipe.prototype.transform = /**
     * @param {?} value
     * @param {...?} args
     * @return {?}
     */
    function (value) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        /** @type {?} */
        var currencyCode = 'USD';
        /** @type {?} */
        var symbolDisplay = true;
        /** @type {?} */
        var digits = '1.0-2';
        if (!value || value.length === 0) {
            return value;
        }
        if (args && args.length > 0) {
            /** @type {?} */
            var code = args[0];
            if (code && code.length > 0) {
                currencyCode = code;
            }
        }
        return this.currencyPipe.transform(value, currencyCode, symbolDisplay, digits);
    };
    CurrencyFormatPipe.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"], args: [{
                    name: 'currencyFormat',
                    pure: false
                },] }
    ];
    /** @nocollapse */
    CurrencyFormatPipe.ctorParameters = function () { return [
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_5__["CurrencyPipe"] }
    ]; };
    return CurrencyFormatPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Simple utility directive that is used by NG For cycle in situation where we need to call a
 * or execute some logic after each iteration
 */
var NgForSetDirective = /** @class */ (function () {
    function NgForSetDirective() {
        this.onItem = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    /**
     * @return {?}
     */
    NgForSetDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.onItem.emit('--');
    };
    NgForSetDirective.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"], args: [{
                    selector: '[ngForSet]'
                },] }
    ];
    /** @nocollapse */
    NgForSetDirective.ctorParameters = function () { return []; };
    NgForSetDirective.propDecorators = {
        onItem: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }]
    };
    return NgForSetDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Simple convenient service to work with the dom. All the future logic related to DOM manipulation
 * or traversal should be put into this service
 *
 */
var DomUtilsService = /** @class */ (function () {
    function DomUtilsService() {
    }
    /**
     * goes all the way up to the body and checks if there is a element identified by a 'selector'
     *
     */
    /**
     * goes all the way up to the body and checks if there is a element identified by a 'selector'
     *
     * @param {?} nativeElement
     * @param {?} selector
     * @return {?}
     */
    DomUtilsService.prototype.hasParent = /**
     * goes all the way up to the body and checks if there is a element identified by a 'selector'
     *
     * @param {?} nativeElement
     * @param {?} selector
     * @return {?}
     */
    function (nativeElement, selector) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.closest(nativeElement, selector));
    };
    /**
     *  Travels all the way up to the BODY and retrieve element identified by 'selector' or NULL if
     * not found
     *
     */
    /**
     *  Travels all the way up to the BODY and retrieve element identified by 'selector' or NULL if
     * not found
     *
     * @param {?} nativeElement
     * @param {?} selector
     * @return {?}
     */
    DomUtilsService.prototype.closest = /**
     *  Travels all the way up to the BODY and retrieve element identified by 'selector' or NULL if
     * not found
     *
     * @param {?} nativeElement
     * @param {?} selector
     * @return {?}
     */
    function (nativeElement, selector) {
        /** @type {?} */
        var firstChar = selector.charAt(0);
        /** @type {?} */
        var parentNode = nativeElement;
        while (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])((parentNode = parentNode.parentNode))) {
            if (firstChar === '.' && parentNode.classList.contains(selector.substr(1))) {
                return parentNode;
            }
            if (firstChar === '#' && parentNode.id === selector.substr(1)) {
                return parentNode;
            }
            // If selector is a tag
            if (parentNode.nodeType === 1 && parentNode.tagName.toLowerCase() === selector) {
                return parentNode;
            }
            if (parentNode.nodeType === 1 && parentNode.tagName === 'BODY') {
                return null;
            }
        }
        return null;
    };
    /**
     * When angular component is rendered along with NGContent it has its own _ngContent_INDEX
     * which always corresponds with _nghost_INDEX, this works fine if we have actual component
     * that is already rendered. If we are creating component programatically there is no way to
     * identify where the actual ng-content is placed within the component
     *
     * e.g. Consider following example:
     *
     *
     * Button Component Template:
     *
     * ```
     *  <span class=mybuttonTitle><ng-content></ng-content></span>
     * ```
     *
     * When you use button component as <aw-button>ClickMe</aw-button>  then its rendered as
     *
     * ```
     * <aw-button _nghost_123>
     *  <span _ngcontent_123 class=mybuttonTitle>ClickMe</span>
     * </aw-button>
     * ```
     *
     * But with programmatic API you instantiate Button and since it created without a Content it
     * looks like this;
     *
     *  ```
     * <aw-button _nghost_123>
     *  <span class=mybuttonTitle></span>
     * </aw-button>
     * ```
     *
     * Where do you place you child (content component)? Therefore utility css class was created
     * to wrap <ng-content> to get around this limitation.
     *
     *  ```
     *   <span class="u-ngcontent">
     *      <ng-content></ng-content>
     *   </span>
     *  ````
     *
     *
     *
     *
     */
    /**
     * When angular component is rendered along with NGContent it has its own _ngContent_INDEX
     * which always corresponds with _nghost_INDEX, this works fine if we have actual component
     * that is already rendered. If we are creating component programatically there is no way to
     * identify where the actual ng-content is placed within the component
     *
     * e.g. Consider following example:
     *
     *
     * Button Component Template:
     *
     * ```
     *  <span class=mybuttonTitle><ng-content></ng-content></span>
     * ```
     *
     * When you use button component as <aw-button>ClickMe</aw-button>  then its rendered as
     *
     * ```
     * <aw-button _nghost_123>
     *  <span _ngcontent_123 class=mybuttonTitle>ClickMe</span>
     * </aw-button>
     * ```
     *
     * But with programmatic API you instantiate Button and since it created without a Content it
     * looks like this;
     *
     *  ```
     * <aw-button _nghost_123>
     *  <span class=mybuttonTitle></span>
     * </aw-button>
     * ```
     *
     * Where do you place you child (content component)? Therefore utility css class was created
     * to wrap <ng-content> to get around this limitation.
     *
     *  ```
     *   <span class="u-ngcontent">
     *      <ng-content></ng-content>
     *   </span>
     *  ````
     *
     *
     *
     *
     * @param {?} parentNativeEl
     * @param {?} childNativeEl
     * @return {?}
     */
    DomUtilsService.prototype.insertIntoParentNgContent = /**
     * When angular component is rendered along with NGContent it has its own _ngContent_INDEX
     * which always corresponds with _nghost_INDEX, this works fine if we have actual component
     * that is already rendered. If we are creating component programatically there is no way to
     * identify where the actual ng-content is placed within the component
     *
     * e.g. Consider following example:
     *
     *
     * Button Component Template:
     *
     * ```
     *  <span class=mybuttonTitle><ng-content></ng-content></span>
     * ```
     *
     * When you use button component as <aw-button>ClickMe</aw-button>  then its rendered as
     *
     * ```
     * <aw-button _nghost_123>
     *  <span _ngcontent_123 class=mybuttonTitle>ClickMe</span>
     * </aw-button>
     * ```
     *
     * But with programmatic API you instantiate Button and since it created without a Content it
     * looks like this;
     *
     *  ```
     * <aw-button _nghost_123>
     *  <span class=mybuttonTitle></span>
     * </aw-button>
     * ```
     *
     * Where do you place you child (content component)? Therefore utility css class was created
     * to wrap <ng-content> to get around this limitation.
     *
     *  ```
     *   <span class="u-ngcontent">
     *      <ng-content></ng-content>
     *   </span>
     *  ````
     *
     *
     *
     *
     * @param {?} parentNativeEl
     * @param {?} childNativeEl
     * @return {?}
     */
    function (parentNativeEl, childNativeEl) {
        /** @type {?} */
        var ngContentParent = parentNativeEl;
        /** @type {?} */
        var foundNgContent = parentNativeEl.querySelector('.u-ngcontent');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(foundNgContent)) {
            // we don't cover a case where there could be multiple ngcontents
            ngContentParent = foundNgContent;
        }
        ngContentParent.appendChild(childNativeEl);
    };
    /**
     *
     * Retrieves current browser window width and height
     *
     */
    /**
     *
     * Retrieves current browser window width and height
     *
     * @return {?}
     */
    DomUtilsService.prototype.browserDimentions = /**
     *
     * Retrieves current browser window width and height
     *
     * @return {?}
     */
    function () {
        return {
            width: (window.innerWidth || document.documentElement.clientWidth
                || document.body.clientWidth),
            height: (window.innerHeight || document.documentElement.clientHeight
                || document.body.clientHeight)
        };
    };
    /**
     *
     * Retrieves elemements dimensions
     *
     */
    /**
     *
     * Retrieves elemements dimensions
     *
     * @param {?} element
     * @return {?}
     */
    DomUtilsService.prototype.elementDimensions = /**
     *
     * Retrieves elemements dimensions
     *
     * @param {?} element
     * @return {?}
     */
    function (element) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(element.getBoundingClientRect)) {
            return element.getBoundingClientRect();
        }
        return { left: 0, top: 0, right: 0, bottom: 0, x: 0, y: 0, width: 0, height: 0 };
    };
    DomUtilsService.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"] }
    ];
    /** @nocollapse */
    DomUtilsService.ctorParameters = function () { return []; };
    return DomUtilsService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * The Infinite Scroll allows you to perform an action when the user
 * scrolls a specified distance from the bottom or top of the page.
 *
 * The expression assigned to the `infinite` event is called when
 * the user scrolls to the specified distance. When this expression
 * has finished its tasks, it should call the `complete()` method
 * on the infinite scroll instance.
 *
 * ## Usage
 *
 * ```html
 *
 *  <div  *ngFor="let item of items">{{item}} </div>
 *   <aw-infinite-scroll (onLoad)="doInfinite($event)">
 *  </aw-infinite-scroll>
 *
 * ```
 *
 *
 * You can also set a threshold to change the distance when the lazy load kicks
 * in.
 * ## Usage
 *
 * ```html
 *
 *  <div  *ngFor="let item of items">{{item}} </div>
 *   <aw-infinite-scroll (onLoad)="doInfinite($event)"  [distance]="'15%'">
 *  </aw-infinite-scroll>
 *
 * ```
 */
var InfiniteScrollComponent = /** @class */ (function () {
    function InfiniteScrollComponent(_render, _zone, domUtils, _cd) {
        this._render = _render;
        this._zone = _zone;
        this.domUtils = domUtils;
        this._cd = _cd;
        this._lastCheck = 0;
        this._lastScrollTop = 0;
        this._thr = '10%';
        this._thrPx = 0;
        this._thrPc = 0.10;
        this._init = false;
        /**
         * \@internal
         */
        this.state = STATE_ENABLED;
        /**
         * \@output {event} Emitted when the scroll reaches
         * the threshold distance. From within your infinite handler,
         * you must call the infinite scroll's `complete()` method when
         * your async operation has completed.
         */
        this.onLoad = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         *
         * Lazy load current numbers. tell the app starting point and what is the size of loaded
         * list
         *
         */
        this.fetchSize = 0;
        this.loadOffset = 0;
    }
    Object.defineProperty(InfiniteScrollComponent.prototype, "distance", {
        /**
         * @input {string} The threshold distance from the bottom
         * of the content to call the `onLoad` output event when scrolled.
         * The threshold value can be either a percent, or
         * in pixels. For example, use the value of `10%` for the `infinite`
         * output event to get called when the user has scrolled 10%
         * from the bottom of the page. Use the value `100px` when the
         * scroll is within 100 pixels from the bottom of the page.
         * Default is `15%`.
         */
        get: /**
         * \@input {string} The threshold distance from the bottom
         * of the content to call the `onLoad` output event when scrolled.
         * The threshold value can be either a percent, or
         * in pixels. For example, use the value of `10%` for the `infinite`
         * output event to get called when the user has scrolled 10%
         * from the bottom of the page. Use the value `100px` when the
         * scroll is within 100 pixels from the bottom of the page.
         * Default is `15%`.
         * @return {?}
         */
        function () {
            return this._thr;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._thr = val;
            if (val.indexOf('%') > -1) {
                this._thrPx = 0;
                this._thrPc = (parseFloat(val) / 100);
            }
            else {
                this._thrPx = parseFloat(val);
                this._thrPc = 0;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(InfiniteScrollComponent.prototype, "enabled", {
        /**
         * @input {boolean} If true, Whether or not the infinite scroll should be
         * enabled or not. Setting to `false` will remove scroll event listeners
         * and hide the display.
         */
        set: /**
         * \@input {boolean} If true, Whether or not the infinite scroll should be
         * enabled or not. Setting to `false` will remove scroll event listeners
         * and hide the display.
         * @param {?} shouldEnable
         * @return {?}
         */
        function (shouldEnable) {
            this.enable(shouldEnable);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    InfiniteScrollComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this._render.addClass(document.body, 'has-infinite-scroll');
    };
    /**
     * @param {?} ev
     * @return {?}
     */
    InfiniteScrollComponent.prototype._onScroll = /**
     * @param {?} ev
     * @return {?}
     */
    function (ev) {
        if (this.state === STATE_LOADING || this.state === STATE_DISABLED) {
            return;
        }
        // must throttle the class by 100ms
        if (this._lastCheck + 100 > ev.timeStamp) {
            // no need to check less than every XXms
            return;
        }
        this._lastCheck = ev.timeStamp;
        /** @type {?} */
        var scrollTop = this.scrollTop();
        /** @type {?} */
        var winHeight = this.domUtils.browserDimentions().height;
        /** @type {?} */
        var height = Math.max(this._docBody.scrollHeight, this._docBody.offsetHeight, winHeight, this._content.scrollHeight, this._content.offsetHeight);
        if (!height) {
            // if there is no height of this element then do nothing
            return;
        }
        /** @type {?} */
        var threshold = this._thrPc ? (height * this._thrPc) : this._thrPx;
        /** @type {?} */
        var distanceFromInfinite = this._content.scrollHeight - winHeight - scrollTop - threshold;
        // console.log('Document height (' + height + ') , Distance from bottom '
        // + distanceFromInfinite + ',  => threshold = ' +
        //     this.distance + ' (' + threshold + ')');
        if (distanceFromInfinite < 0 && this._lastScrollTop < scrollTop) {
            this.fireOnLazyLoad();
        }
        else if (this._lastScrollTop > scrollTop && scrollTop < winHeight
            && this.loadOffset !== this.fetchSize) {
            this.fireOnLazyUnLoad();
        }
        this._lastScrollTop = scrollTop;
        return;
    };
    /**
     * Todo: refactor to one method
     * @return {?}
     */
    InfiniteScrollComponent.prototype.fireOnLazyLoad = /**
     * Todo: refactor to one method
     * @return {?}
     */
    function () {
        var _this = this;
        this._zone.run(function () {
            if (_this.state !== STATE_LOADING && _this.state !== STATE_DISABLED) {
                _this.state = STATE_LOADING;
                _this.onLoad.emit({
                    isLoad: true,
                    limit: _this.fetchSize,
                    offset: _this.loadOffset
                });
                // start on the next record
                // start on the next record
                _this.loadOffset += _this.fetchSize;
            }
        });
    };
    /**
     * @return {?}
     */
    InfiniteScrollComponent.prototype.fireOnLazyUnLoad = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this._zone.run(function () {
            if (_this.state !== STATE_LOADING && _this.state !== STATE_DISABLED) {
                _this.state = STATE_LOADING;
                // start on the next record
                // start on the next record
                _this.loadOffset = _this.fetchSize;
                _this.onLoad.emit({
                    isLoad: false,
                    limit: _this.fetchSize,
                    offset: _this.loadOffset
                });
            }
        });
    };
    /**
     * @return {?}
     */
    InfiniteScrollComponent.prototype.scrollTop = /**
     * @return {?}
     */
    function () {
        return (window.pageYOffset || this._content.scrollTop);
    };
    /**
     * Call `complete()` within the `infinite` output event handler when
     * your async operation has completed. For example, the `loading`
     * state is while the app is performing an asynchronous operation,
     * such as receiving more data from an AJAX request to add more items
     * to a data list. Once the data has been received and UI updated, you
     * then call this method to signify that the loading has completed.
     * This method will change the infinite scroll's state from `loading`
     * to `enabled`.
     */
    /**
     * Call `complete()` within the `infinite` output event handler when
     * your async operation has completed. For example, the `loading`
     * state is while the app is performing an asynchronous operation,
     * such as receiving more data from an AJAX request to add more items
     * to a data list. Once the data has been received and UI updated, you
     * then call this method to signify that the loading has completed.
     * This method will change the infinite scroll's state from `loading`
     * to `enabled`.
     * @return {?}
     */
    InfiniteScrollComponent.prototype.complete = /**
     * Call `complete()` within the `infinite` output event handler when
     * your async operation has completed. For example, the `loading`
     * state is while the app is performing an asynchronous operation,
     * such as receiving more data from an AJAX request to add more items
     * to a data list. Once the data has been received and UI updated, you
     * then call this method to signify that the loading has completed.
     * This method will change the infinite scroll's state from `loading`
     * to `enabled`.
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.state !== STATE_LOADING) {
            return;
        }
        setTimeout(function () {
            _this.state = STATE_ENABLED;
            // need to trigger extra detect changes to rerender loading icon
            // need to trigger extra detect changes to rerender loading icon
            _this._cd.detectChanges();
        }, 100);
    };
    /**
     * Call `enable(false)` to disable the infinite scroll from actively
     * trying to receive new data while scrolling. This method is useful
     * when it is known that there is no more data that can be added, and
     * the infinite scroll is no longer needed.
     * @param shouldEnable  If the infinite scroll should be
     * enabled or not. Setting to `false` will remove scroll event listeners
     * and hide the display.
     */
    /**
     * Call `enable(false)` to disable the infinite scroll from actively
     * trying to receive new data while scrolling. This method is useful
     * when it is known that there is no more data that can be added, and
     * the infinite scroll is no longer needed.
     * @param {?} shouldEnable  If the infinite scroll should be
     * enabled or not. Setting to `false` will remove scroll event listeners
     * and hide the display.
     * @return {?}
     */
    InfiniteScrollComponent.prototype.enable = /**
     * Call `enable(false)` to disable the infinite scroll from actively
     * trying to receive new data while scrolling. This method is useful
     * when it is known that there is no more data that can be added, and
     * the infinite scroll is no longer needed.
     * @param {?} shouldEnable  If the infinite scroll should be
     * enabled or not. Setting to `false` will remove scroll event listeners
     * and hide the display.
     * @return {?}
     */
    function (shouldEnable) {
        this.state = (shouldEnable ? STATE_ENABLED : STATE_DISABLED);
        this._setListeners(shouldEnable);
    };
    /**
     * Subscribes to native windows scroll event
     */
    /**
     * Subscribes to native windows scroll event
     * @param {?} shouldListen
     * @return {?}
     */
    InfiniteScrollComponent.prototype._setListeners = /**
     * Subscribes to native windows scroll event
     * @param {?} shouldListen
     * @return {?}
     */
    function (shouldListen) {
        var _this = this;
        if (this._init) {
            if (shouldListen) {
                if (!this._scLsn) {
                    this._zone.runOutsideAngular(function () {
                        _this._scLsn = _this._onScroll.bind(_this);
                        window.addEventListener('scroll', _this._scLsn);
                    });
                }
            }
            else {
                if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._scLsn)) {
                    window.removeEventListener('scroll', this._scLsn);
                    this._scLsn = null;
                }
            }
        }
    };
    /**
     * @return {?}
     */
    InfiniteScrollComponent.prototype.isLoading = /**
     * @return {?}
     */
    function () {
        return this.state === STATE_LOADING;
    };
    /**
     * @return {?}
     */
    InfiniteScrollComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        this._init = true;
        this._docBody = document.body;
        this._content = document.documentElement;
        this._setListeners(this.state !== STATE_DISABLED);
        if (this.loadOffset === 0) {
            this.fireOnLazyLoad();
        }
    };
    /**
     * @hidden
     */
    /**
     * @hidden
     * @return {?}
     */
    InfiniteScrollComponent.prototype.ngOnDestroy = /**
     * @hidden
     * @return {?}
     */
    function () {
        this._setListeners(false);
    };
    InfiniteScrollComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-infinite-scroll',
                    template: "<div class=\"w-infinite-loader-panel\" *ngIf=\"isLoading()\">\n    <span class=\"sap-icon icon-synchronize u-spin-icon\"></span>\n</div>\n",
                    styles: [".w-infinite-loader-panel{display:flex;align-items:center;justify-content:center;background-color:#fff;width:100%;height:100px;z-index:300;bottom:100px}.w-infinite-loader-panel span{color:#4a4a4a;font-size:2em}"]
                }] }
    ];
    /** @nocollapse */
    InfiniteScrollComponent.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer2"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] },
        { type: DomUtilsService },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }
    ]; };
    InfiniteScrollComponent.propDecorators = {
        distance: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        enabled: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onLoad: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        loadPanel: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: ['loadinPanel',] }],
        fetchSize: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return InfiniteScrollComponent;
}());
/** @type {?} */
var STATE_ENABLED = 'enabled';
/** @type {?} */
var STATE_DISABLED = 'disabled';
/** @type {?} */
var STATE_LOADING = 'loading';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AwNameStore = /** @class */ (function () {
    function AwNameStore() {
        this.store = new Map();
    }
    /**
     * @param {?} name
     * @param {?} el
     * @return {?}
     */
    AwNameStore.prototype.add = /**
     * @param {?} name
     * @param {?} el
     * @return {?}
     */
    function (name, el) {
        if (this.collides(name)) {
            throw new Error('Name is not unique!');
        }
        return this.store.set(name, el);
    };
    /**
     * @param {?} name
     * @return {?}
     */
    AwNameStore.prototype.remove = /**
     * @param {?} name
     * @return {?}
     */
    function (name) {
        return this.store.delete(name);
    };
    /**
     * @param {?} name
     * @return {?}
     */
    AwNameStore.prototype.collides = /**
     * @param {?} name
     * @return {?}
     */
    function (name) {
        return this.store.has(name);
    };
    /**
     * @return {?}
     */
    AwNameStore.prototype.clear = /**
     * @return {?}
     */
    function () {
        this.store.clear();
    };
    AwNameStore.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"] }
    ];
    /** @nocollapse */
    AwNameStore.ctorParameters = function () { return []; };
    return AwNameStore;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * The 'awName' directive attaches a identifier to decorated element to aid selectors for testing
 * purposes. The 'awName' directive tries to generate a unique identifier based on contextual data
 * and inherant immutable element attributes.
 *
 * **Generating the Base Name**
 *
 * The 'awName' directive generates a base name from element tag name and attributes which are
 * static by nature.
 *
 *     Example:
 *         <button name="order" awName>
 *
 *     Result:
 *         <button name="order" awname="button_order">
 *
 * If the element has an 'id', that value takes precedent and is used instead of a generated
 * name.
 *
 *     Example:
 *         <button name="order" id="myOrderButton" awName>
 *
 *     Result:
 *         <button name="order" id="myOrderButton" awname="button_myOrderButton">
 *
 *
 * **Repeated Elements and the 'ext' Parameter**
 *
 * There are many cases where elements are generated dynamically in the code as lists or tables.
 * In such cases, it may not be easy to distinguish individual elements by standard HTML
 * attributes, so the 'awName' directive allows custom extentions to the base name to be provided
 * using the 'ext' attribute.
 *
 *    Example:
 *        fruits = ['apple', 'banana', 'orange'];
 *
 *        <ul>
 *            <li *ngFor="let fruit of fruits" awName ext="{{fruit}}">{{fruit}}</li>
 *        </ul>
 *
 *   Result:
 *       <ul>
 *           <li awname="li_apple">apple</li>
 *           <li awname="li_banana">banana</li>
 *           <li awname="li_orane">orange</li>
 *       </ul>
 *
 * **Adding Context Through Ancestor Inspection**
 *
 * In order to provide context to the element naming, the 'awName' directive loops through the
 * parent ancestry and searches for any unique element 'id' to prepend to the base name.
 *
 *     Example:
 *         <form id="applicant">
 *            <input type="text" name="firstName" awName>
 *            <input type="text" name="lastName" awName>
 *         </form>
 *         <form id="spouse">
 *            <input type="text" name="firstName" awName>
 *            <input type="text" name="lastName" awName>
 *         </form>
 *
 *     Result:
 *         <form id="applicant">
 *            <input type="text" name="firstName" awname="applicant_input_firstName">
 *            <input type="text" name="lastName" awname="applicant_input_lastName">
 *         </form>
 *         <form id="spouse">
 *            <input type="text" name="firstName" awname="spouse_input_firstName">
 *            <input type="text" name="lastName" awname="spouse_input_lastname">
 *         </form>
 *
 * **Uniqueness Check**
 *
 * 'awName' keeps track of the names it creates by adding them to a map store. Whenever it
 * creates a new name during the `ngOnInit` phase it checks it against the existing map,
 * and will throw an error if it encounters a duplicate. Moreover during the element destruction
 * phase, `ngOnDestroy`, 'awName' removes the generated name from the store.
 *
 *
 * **In Production**
 *
 * Using 'awName' adds a small bit of rendering overhead for each element it is used on. In
 * a production environment, 'awName' serves no functionality to the end user, but may have
 * a performance impact on the application. As such, 'awName' takes into account the
 * `AppConfig` settings and disables name generation when `AppConfig.isProductionMode()`
 * is `true`.
 *
 * In your application, you can turn on production mode by setting `devmode.enabled` to
 * `false` when configuring `AribaCoreModule`:
 *
 *     AribaCoreModule.forRoot({
 *         'devmode.enabled': false
 *     })
 *
 */
var AwNameDirective = /** @class */ (function () {
    function AwNameDirective(el, store, config) {
        this.el = el;
        this.store = store;
        this.config = config;
        this.separator = '_';
    }
    /**
     * @return {?}
     */
    AwNameDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.name = this.createName(this.el);
        this.addElementToStore(this.name, this.el);
        this.el.nativeElement.setAttribute('awname', this.name);
    };
    /**
     * @return {?}
     */
    AwNameDirective.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.store.remove(this.name);
    };
    /**
     * Add element name/id and reference to map store. If name/id already
     * exists in store then it throws an error.
     *
     */
    /**
     * Add element name/id and reference to map store. If name/id already
     * exists in store then it throws an error.
     *
     * @param {?} name
     * @param {?} elem
     * @return {?}
     */
    AwNameDirective.prototype.addElementToStore = /**
     * Add element name/id and reference to map store. If name/id already
     * exists in store then it throws an error.
     *
     * @param {?} name
     * @param {?} elem
     * @return {?}
     */
    function (name, elem) {
        try {
            this.store.add(name, elem);
        }
        catch (e) {
            console.error(e.message + (". \"" + name + "\" is already in use."), elem.nativeElement);
            return;
        }
    };
    /**
     * Generate name/id for element.
     *
     * param elem Reference to element
     * @return String Name/ID
     */
    /**
     * Generate name/id for element.
     *
     * param elem Reference to element
     * @param {?} elem
     * @return {?} String Name/ID
     */
    AwNameDirective.prototype.createName = /**
     * Generate name/id for element.
     *
     * param elem Reference to element
     * @param {?} elem
     * @return {?} String Name/ID
     */
    function (elem) {
        /** @type {?} */
        var tagName = this.getTagName(elem);
        /** @type {?} */
        var parts = [];
        /** @type {?} */
        var parentID = this.getAncestorId(elem);
        if (parentID) {
            parts.push(parentID);
        }
        // Check the tag type
        if (tagName === 'option') {
            /** @type {?} */
            var parentName = this.getParentName(elem);
            if (parentName) {
                parts.push(parentName);
            }
        }
        // Get tagname
        parts.push(tagName);
        // Choose id property if it exists
        if (elem.nativeElement.id) {
            parts.push(elem.nativeElement.id);
            // Otherwise build extension from tag properties
        }
        else {
            // check for a name attribute
            if (elem.nativeElement.hasAttribute('name')) {
                parts.push(elem.nativeElement.name);
            }
            // check for value attribute if 'option' tag
            if (tagName === 'option') {
                if (elem.nativeElement.hasAttribute('value')) {
                    parts.push(this.spacesToUnderscore(elem.nativeElement.value));
                }
            }
        }
        // Add custom extension if it exists
        if (this.ext) {
            parts.push(this.spacesToUnderscore(this.ext));
        }
        return parts.join(this.separator);
    };
    /**
     * Get tag name from element reference.
     * @param elem Reference to element
     */
    /**
     * Get tag name from element reference.
     * @param {?} elem Reference to element
     * @return {?}
     */
    AwNameDirective.prototype.getTagName = /**
     * Get tag name from element reference.
     * @param {?} elem Reference to element
     * @return {?}
     */
    function (elem) {
        return elem.nativeElement.tagName.toLowerCase();
    };
    /**
     * Traverse element ancestry and return first id attribute
     * encountered.
     * @param elem Reference to element
     */
    /**
     * Traverse element ancestry and return first id attribute
     * encountered.
     * @param {?} elem Reference to element
     * @return {?}
     */
    AwNameDirective.prototype.getAncestorId = /**
     * Traverse element ancestry and return first id attribute
     * encountered.
     * @param {?} elem Reference to element
     * @return {?}
     */
    function (elem) {
        /** @type {?} */
        var parent = elem.nativeElement.parentNode;
        /** @type {?} */
        var id = '';
        while (parent && !id) {
            if (parent.id) {
                id = parent.id;
            }
            parent = parent.parentNode;
        }
        return id;
    };
    /**
     * Get name attribute from parent if name attribute exists.
     * @param elem Reference to element
     */
    /**
     * Get name attribute from parent if name attribute exists.
     * @param {?} elem Reference to element
     * @return {?}
     */
    AwNameDirective.prototype.getParentName = /**
     * Get name attribute from parent if name attribute exists.
     * @param {?} elem Reference to element
     * @return {?}
     */
    function (elem) {
        /** @type {?} */
        var parent = elem.nativeElement.parentNode;
        return (parent.name && !parent.id) ? parent.name : null;
    };
    /**
     * @param {?} str
     * @return {?}
     */
    AwNameDirective.prototype.spacesToUnderscore = /**
     * @param {?} str
     * @return {?}
     */
    function (str) {
        return str.replace(/\s+/g, '_');
    };
    AwNameDirective.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"], args: [{
                    selector: '[awName]',
                },] }
    ];
    /** @nocollapse */
    AwNameDirective.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: AwNameStore },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["AppConfig"] }
    ]; };
    AwNameDirective.propDecorators = {
        ext: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return AwNameDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWCoreComponentModule = /** @class */ (function () {
    function AWCoreComponentModule() {
    }
    AWCoreComponentModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        EmbeddedItemDirective,
                        IncludeComponentDirective,
                        GenericContainerComponent,
                        ErrorMessagesComponent,
                        ModalComponent,
                        CurrencyFormatPipe,
                        NgForSetDirective,
                        InfiniteScrollComponent,
                        AwNameDirective
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"]
                    ],
                    entryComponents: [
                        GenericContainerComponent,
                        ModalComponent
                    ],
                    exports: [
                        EmbeddedItemDirective,
                        IncludeComponentDirective,
                        GenericContainerComponent,
                        ErrorMessagesComponent,
                        ModalComponent,
                        CurrencyFormatPipe,
                        NgForSetDirective,
                        InfiniteScrollComponent,
                        AwNameDirective
                    ]
                },] }
    ];
    return AWCoreComponentModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Parent class for all modal dialogs. Provides defaults functionality for all modals.
 */
var  /**
 * Parent class for all modal dialogs. Provides defaults functionality for all modals.
 */
ModalContainer = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(ModalContainer, _super);
    function ModalContainer(env) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        /**
         * Override function.
         */
        _this.destroy = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["noop"];
        return _this;
    }
    /**
     * function that closes the dialog by calling destroy on the component reference.
     * Method inherited by all its children.
     */
    /**
     * function that closes the dialog by calling destroy on the component reference.
     * Method inherited by all its children.
     * @return {?}
     */
    ModalContainer.prototype.closeModal = /**
     * function that closes the dialog by calling destroy on the component reference.
     * Method inherited by all its children.
     * @return {?}
     */
    function () {
        this.destroy();
    };
    return ModalContainer;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * DataTypeProviderRegistry aggregates different DataProviders per type.
 */
var DataTypeProviderRegistry = /** @class */ (function () {
    function DataTypeProviderRegistry() {
        this.registryByProvider = new Map();
        this.registryNameToClass = new Map();
    }
    /**
     * For every single registered DataProvider implementation we also need store its prototype
     * in order to be able to support some kind of inheritance. You can register a provider for
     * a parent class if needed
     *
     */
    /**
     * For every single registered DataProvider implementation we also need store its prototype
     * in order to be able to support some kind of inheritance. You can register a provider for
     * a parent class if needed
     *
     * @template T
     * @param {?} target
     * @param {?} provider
     * @return {?}
     */
    DataTypeProviderRegistry.prototype.registerProvider = /**
     * For every single registered DataProvider implementation we also need store its prototype
     * in order to be able to support some kind of inheritance. You can register a provider for
     * a parent class if needed
     *
     * @template T
     * @param {?} target
     * @param {?} provider
     * @return {?}
     */
    function (target, provider) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(target) || (!Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isStringMap"])(target) && !Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isType"])(target))) {
            throw new Error(' Cannot register non-object');
        }
        /** @type {?} */
        var name = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isType"])(target) ? target.prototype.constructor.name : target.constructor.name;
        this.registryByProvider.set(name, provider);
        /** @type {?} */
        var prototype = Object.getPrototypeOf(target);
        this.registryNameToClass.set(name, prototype);
    };
    /**
     * Search for best matching provider. If not found then use object prototype to get hold of its
     * parent and see if there is a provider registered on this level
     *
     */
    /**
     * Search for best matching provider. If not found then use object prototype to get hold of its
     * parent and see if there is a provider registered on this level
     *
     * @template T
     * @param {?} className
     * @return {?}
     */
    DataTypeProviderRegistry.prototype.bestMatchForClass = /**
     * Search for best matching provider. If not found then use object prototype to get hold of its
     * parent and see if there is a provider registered on this level
     *
     * @template T
     * @param {?} className
     * @return {?}
     */
    function (className) {
        /** @type {?} */
        var registeredClassName = className;
        /** @type {?} */
        var classProto = this.registryNameToClass.get(className);
        while (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(registeredClassName)) {
            /** @type {?} */
            var provider = this.registryByProvider.get(registeredClassName);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(provider)) {
                provider.type = className;
                return provider;
            }
            // Go up to parent
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(classProto)) {
                classProto = Object.getPrototypeOf(classProto);
                /** @type {?} */
                var parentName = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["objectToName"])(classProto);
                registeredClassName =
                    (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(parentName) && parentName !== registeredClassName) ? parentName
                        : null;
            }
            else {
                return null;
            }
        }
        return null;
    };
    /**
     * The same as bestMatchForClass() with the difference to pass a type. If you want to
     * support object inheritance you need this.
     *
     *
     */
    /**
     * The same as bestMatchForClass() with the difference to pass a type. If you want to
     * support object inheritance you need this.
     *
     *
     * @template T
     * @param {?} type
     * @return {?}
     */
    DataTypeProviderRegistry.prototype.bestMatchForType = /**
     * The same as bestMatchForClass() with the difference to pass a type. If you want to
     * support object inheritance you need this.
     *
     *
     * @template T
     * @param {?} type
     * @return {?}
     */
    function (type) {
        /** @type {?} */
        var name = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["objectToName"])(type);
        this.registryNameToClass.set(name, type);
        return this.bestMatchForClass(name);
    };
    DataTypeProviderRegistry.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"] }
    ];
    /** @nocollapse */
    DataTypeProviderRegistry.ctorParameters = function () { return []; };
    return DataTypeProviderRegistry;
}());
/**
 * Provider is a data driver that can access data and retrieve them. It knows how to get 1
 * or more records, maybe do paging and some other things.
 *
 * @abstract
 * @template T
 */
var  /**
 * Provider is a data driver that can access data and retrieve them. It knows how to get 1
 * or more records, maybe do paging and some other things.
 *
 * @abstract
 * @template T
 */
DataProvider = /** @class */ (function () {
    function DataProvider() {
        /**
         * Notifies all the listeners in case of data are available or if they changed due to some user
         * interaction  (search, adding or removing).
         *
         */
        this.dataChanges = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"]([]);
    }
    /**
     *  Return size of the source
     *
     */
    /**
     *  Return size of the source
     *
     * @param {?=} params
     * @return {?}
     */
    DataProvider.prototype.expectedCount = /**
     *  Return size of the source
     *
     * @param {?=} params
     * @return {?}
     */
    function (params) {
        return -1;
    };
    /**
     *
     * Returns non-async current state of data
     */
    /**
     *
     * Returns non-async current state of data
     * @return {?}
     */
    DataProvider.prototype.data = /**
     *
     * Returns non-async current state of data
     * @return {?}
     */
    function () {
        return this.dataChanges.getValue();
    };
    /**
     * Tells if this DataProvider supports INSERT, REMOVE
     *
     */
    /**
     * Tells if this DataProvider supports INSERT, REMOVE
     *
     * @return {?}
     */
    DataProvider.prototype.canCRUD = /**
     * Tells if this DataProvider supports INSERT, REMOVE
     *
     * @return {?}
     */
    function () {
        return false;
    };
    /**
     * Tells if this DataProvider supports query capability
     *
     */
    /**
     * Tells if this DataProvider supports query capability
     *
     * @return {?}
     */
    DataProvider.prototype.canQuery = /**
     * Tells if this DataProvider supports query capability
     *
     * @return {?}
     */
    function () {
        return false;
    };
    /**
     * Implement to support insertion. After record is inserted emit event for dataChanges to
     * inform all subscribers
     *
     */
    /**
     * Implement to support insertion. After record is inserted emit event for dataChanges to
     * inform all subscribers
     *
     * @param {?} obj
     * @return {?}
     */
    DataProvider.prototype.insert = /**
     * Implement to support insertion. After record is inserted emit event for dataChanges to
     * inform all subscribers
     *
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
    };
    /**
     * Implement to support record removal. After record is removed emit event for dataChanges to
     * inform all subscribers.
     *
     */
    /**
     * Implement to support record removal. After record is removed emit event for dataChanges to
     * inform all subscribers.
     *
     * @param {?} obj
     * @return {?}
     */
    DataProvider.prototype.remove = /**
     * Implement to support record removal. After record is removed emit event for dataChanges to
     * inform all subscribers.
     *
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
    };
    /**
     * Implement to provide access to low level searcg API.
     *
     */
    /**
     * Implement to provide access to low level searcg API.
     *
     * @param {?} params
     * @return {?}
     */
    DataProvider.prototype.query = /**
     * Implement to provide access to low level searcg API.
     *
     * @param {?} params
     * @return {?}
     */
    function (params) {
    };
    return DataProvider;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Default implementation for Arrays.
 * @template T
 */
var  /**
 * Default implementation for Arrays.
 * @template T
 */
ArrayDataProvider = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(ArrayDataProvider, _super);
    function ArrayDataProvider(values) {
        var _this = _super.call(this) || this;
        _this.values = values;
        _this.type = Array;
        _this.offScreenData = _this.values;
        _this.dataChanges.next(_this.values);
        return _this;
    }
    /**
     * @param {?=} params
     * @return {?}
     */
    ArrayDataProvider.prototype.expectedCount = /**
     * @param {?=} params
     * @return {?}
     */
    function (params) {
        return this.offScreenData.length;
    };
    /**
     * @param {?=} params
     * @return {?}
     */
    ArrayDataProvider.prototype.dataForParams = /**
     * @param {?=} params
     * @return {?}
     */
    function (params) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(params)) {
            return this.offScreenData;
        }
        /** @type {?} */
        var data = this.offScreenData;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(params) && params.has('offset') && params.has('limit')) {
            /** @type {?} */
            var offset = params.get('offset');
            /** @type {?} */
            var limit = params.get('limit');
            if (data.length > (offset + limit)) {
                data = data.slice(offset, offset + limit);
            }
            else {
                data = data.slice(offset, data.length);
            }
        }
        if (params.has('orderby') && params.has('selector')) {
            this.sort(data, params.get('orderby'), params.get('selector'));
        }
        return data;
    };
    /**
     * @param {?} params
     * @return {?}
     */
    ArrayDataProvider.prototype.fetch = /**
     * @param {?} params
     * @return {?}
     */
    function (params) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(this.dataForParams(params));
    };
    /**
     * Provides default implementation for sorting current dataset by one column / key
     *
     * for sortOrdering please see Datatable and its sortOrderingForNumber()
     *
     *      1  = ascending
     *      -1 = descending
     * @param {?} arrayToSort
     * @param {?} key
     * @param {?} sortOrder
     * @return {?}
     */
    ArrayDataProvider.prototype.sort = /**
     * Provides default implementation for sorting current dataset by one column / key
     *
     * for sortOrdering please see Datatable and its sortOrderingForNumber()
     *
     *      1  = ascending
     *      -1 = descending
     * @param {?} arrayToSort
     * @param {?} key
     * @param {?} sortOrder
     * @return {?}
     */
    function (arrayToSort, key, sortOrder) {
        arrayToSort.sort(function (data1, data2) {
            /** @type {?} */
            var value1 = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["FieldPath"].getFieldValue(data1, key);
            /** @type {?} */
            var value2 = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["FieldPath"].getFieldValue(data2, key);
            /** @type {?} */
            var result = null;
            if (value1 == null && value2 != null) {
                result = -1;
            }
            else if (value1 != null && value2 == null) {
                result = 1;
            }
            else if (value1 == null && value2 == null) {
                result = 0;
            }
            else if (typeof value1 === 'string' && typeof value2 === 'string') {
                result = value1.localeCompare(value2);
            }
            else {
                result = (value1 < value2) ? -1 : (value1 > value2) ? 1 : 0;
            }
            return (sortOrder * result);
        });
    };
    return ArrayDataProvider;
}(DataProvider));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Provides top level accessor class in order to make {\@link DataProvider} retrieval process easier.
 * Using {\@link DataTypeProviderRegistry} we either retrieve registered instance of concrete
 * provider or instantiate our implicit provider for native types such as Array.
 *
 *
 */
var DataProviders = /** @class */ (function () {
    function DataProviders(registry) {
        this.registry = registry;
    }
    /**
     * Finds the best matching  DataProvider or create new one in case of Array
     * More room to register and instantiate some other implicit Providers
     */
    /**
     * Finds the best matching  DataProvider or create new one in case of Array
     * More room to register and instantiate some other implicit Providers
     * @param {?} target
     * @return {?}
     */
    DataProviders.prototype.find = /**
     * Finds the best matching  DataProvider or create new one in case of Array
     * More room to register and instantiate some other implicit Providers
     * @param {?} target
     * @return {?}
     */
    function (target) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(target)) {
            return new ArrayDataProvider(target);
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isString"])(target)) {
            return this.registry.bestMatchForClass(target);
        }
        return this.registry.bestMatchForType(target);
    };
    /**
     * Registers new provider within DataTypeProviderRegistry
     *
     */
    /**
     * Registers new provider within DataTypeProviderRegistry
     *
     * @template T
     * @param {?} target
     * @param {?} provider
     * @return {?}
     */
    DataProviders.prototype.register = /**
     * Registers new provider within DataTypeProviderRegistry
     *
     * @template T
     * @param {?} target
     * @param {?} provider
     * @return {?}
     */
    function (target, provider) {
        this.registry.registerProvider(target, provider);
    };
    DataProviders.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"] }
    ];
    /** @nocollapse */
    DataProviders.ctorParameters = function () { return [
        { type: DataTypeProviderRegistry }
    ]; };
    return DataProviders;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * Provides a registry of different data Finders used mostly by DataSources. All Finders are
 * registered by this class as we don't have any needs right now to expose this to developer.
 *
 */
var DataFinders = /** @class */ (function () {
    function DataFinders() {
        this.findersByType = new Map();
        this.initFinders();
    }
    /**
     * Finds the best matching DataFinder based on the object type and queryType.
     */
    /**
     * Finds the best matching DataFinder based on the object type and queryType.
     * @param {?} forProvider
     * @param {?} forType
     * @return {?}
     */
    DataFinders.prototype.find = /**
     * Finds the best matching DataFinder based on the object type and queryType.
     * @param {?} forProvider
     * @param {?} forType
     * @return {?}
     */
    function (forProvider, forType) {
        /** @type {?} */
        var finderMatch;
        this.findersByType.forEach(function (v, k) {
            if (k.accepts(forProvider, forType)) {
                finderMatch = v;
                return true;
            }
        });
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(finderMatch)) {
            /** @type {?} */
            var copy = new finderMatch();
            copy.forData(forProvider);
            return copy;
        }
        return null;
    };
    /**
     * Registers new finder
     *
     */
    /**
     * Registers new finder
     *
     * @template T
     * @param {?} prototype
     * @param {?} type
     * @return {?}
     */
    DataFinders.prototype.register = /**
     * Registers new finder
     *
     * @template T
     * @param {?} prototype
     * @param {?} type
     * @return {?}
     */
    function (prototype, type) {
        this.findersByType.set(prototype, type);
    };
    /**
     * @return {?}
     */
    DataFinders.prototype.initFinders = /**
     * @return {?}
     */
    function () {
        // create a prototype for each
        this.findersByType.set(new FullTextArrayDataFinder(), FullTextArrayDataFinder);
        this.findersByType.set(new OutlineFullTextArrayDataFinder(), OutlineFullTextArrayDataFinder);
    };
    DataFinders.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"] }
    ];
    /** @nocollapse */
    DataFinders.ctorParameters = function () { return []; };
    return DataFinders;
}());
/** @enum {number} */
var QueryType = {
    FullText: 0,
    FullTextOutline: 1,
    Predicate: 2,
    FullTextAndPredicate: 3,
};
QueryType[QueryType.FullText] = 'FullText';
QueryType[QueryType.FullTextOutline] = 'FullTextOutline';
QueryType[QueryType.Predicate] = 'Predicate';
QueryType[QueryType.FullTextAndPredicate] = 'FullTextAndPredicate';
/**
 * This class provides matching capability for given DataProvider.
 * @abstract
 */
var  /**
 * This class provides matching capability for given DataProvider.
 * @abstract
 */
DataFinder = /** @class */ (function () {
    function DataFinder() {
    }
    /**
     * In order to find concrete DataFinder we need to know the target type and the query type
     *
     */
    /**
     * In order to find concrete DataFinder we need to know the target type and the query type
     *
     * @param {?} forData
     * @param {?} forType
     * @return {?}
     */
    DataFinder.prototype.accepts = /**
     * In order to find concrete DataFinder we need to know the target type and the query type
     *
     * @param {?} forData
     * @param {?} forType
     * @return {?}
     */
    function (forData, forType) {
        return false;
    };
    /**
     *
     * Query can be a simple string literal or a map having different key value pair as a
     * filter
     *
     */
    /**
     *
     * Query can be a simple string literal or a map having different key value pair as a
     * filter
     *
     * @template T
     * @param {?} query
     * @param {?=} max
     * @return {?}
     */
    DataFinder.prototype.match = /**
     *
     * Query can be a simple string literal or a map having different key value pair as a
     * filter
     *
     * @template T
     * @param {?} query
     * @param {?=} max
     * @return {?}
     */
    function (query, max) {
        if (max === void 0) { max = -1; }
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["unimplemented"])();
    };
    /**
     * @template T
     * @param {?} selections
     * @param {?} query
     * @param {?} max
     * @return {?}
     */
    DataFinder.prototype.matchWithSelections = /**
     * @template T
     * @param {?} selections
     * @param {?} query
     * @param {?} max
     * @return {?}
     */
    function (selections, query, max) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["unimplemented"])();
    };
    return DataFinder;
}());
/**
 * Simple FullText implementation based on infix string matching which works on top of
 * ArrayDataProvider.
 *
 */
var  /**
 * Simple FullText implementation based on infix string matching which works on top of
 * ArrayDataProvider.
 *
 */
FullTextArrayDataFinder = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(FullTextArrayDataFinder, _super);
    function FullTextArrayDataFinder() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(FullTextArrayDataFinder.prototype, "lookupKey", {
        set: /**
         * @param {?} key
         * @return {?}
         */
        function (key) {
            this._keyPath = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(key) ? new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["FieldPath"](key) : null;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} forData
     * @param {?} forType
     * @return {?}
     */
    FullTextArrayDataFinder.prototype.accepts = /**
     * @param {?} forData
     * @param {?} forType
     * @return {?}
     */
    function (forData, forType) {
        return forData instanceof ArrayDataProvider && forType === QueryType.FullText;
    };
    /**
     * @param {?} provider
     * @return {?}
     */
    FullTextArrayDataFinder.prototype.forData = /**
     * @param {?} provider
     * @return {?}
     */
    function (provider) {
        this._provider = provider;
        return this;
    };
    /**
     * @template T
     * @param {?} query
     * @param {?} max
     * @return {?}
     */
    FullTextArrayDataFinder.prototype.instantMatch = /**
     * @template T
     * @param {?} query
     * @param {?} max
     * @return {?}
     */
    function (query, max) {
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._provider), 'Missing DataProvider');
        /** @type {?} */
        var list = this._provider.dataForParams(new Map().set('limit', max));
        return this.instantMatchWithSelections(list, query, max);
    };
    /**
     * @template T
     * @param {?} selectionsForMatch
     * @param {?} query
     * @param {?} max
     * @return {?}
     */
    FullTextArrayDataFinder.prototype.instantMatchWithSelections = /**
     * @template T
     * @param {?} selectionsForMatch
     * @param {?} query
     * @param {?} max
     * @return {?}
     */
    function (selectionsForMatch, query, max) {
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._provider), 'Missing DataProvider');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(query)) {
            return selectionsForMatch;
        }
        /** @type {?} */
        var result = [];
        /** @type {?} */
        var toLowerPattern = query.toLowerCase();
        for (var i = 0; i < selectionsForMatch.length; i++) {
            /** @type {?} */
            var item = selectionsForMatch[i];
            if (this.matches(item, toLowerPattern)) {
                result.push(item);
                if (result.length >= max) {
                    break;
                }
            }
        }
        return result;
    };
    /**
     *
     * Warning: If you dont supply search Key and you want fulltext search and you use this
     * default implementation be aware that it can  perform poorly as it is naive implementaion
     * that does not do deep compare.
     *
     */
    /**
     *
     * Warning: If you dont supply search Key and you want fulltext search and you use this
     * default implementation be aware that it can  perform poorly as it is naive implementaion
     * that does not do deep compare.
     *
     * @template T
     * @param {?} item
     * @param {?} pattern
     * @return {?}
     */
    FullTextArrayDataFinder.prototype.matches = /**
     *
     * Warning: If you dont supply search Key and you want fulltext search and you use this
     * default implementation be aware that it can  perform poorly as it is naive implementaion
     * that does not do deep compare.
     *
     * @template T
     * @param {?} item
     * @param {?} pattern
     * @return {?}
     */
    function (item, pattern) {
        /** @type {?} */
        var val = (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._keyPath)) ? this._keyPath.getFieldValue(item) : item;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isFunction"])(val)) {
            val = val.call(item);
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isJsObject"])(item)) {
            return this.hasObjectValue(item, pattern);
        }
        else {
            return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(pattern) ||
                Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(val) && val.toString().toLowerCase().indexOf(pattern) > -1;
        }
    };
    /**
     * @template T
     * @param {?} query
     * @param {?} max
     * @return {?}
     */
    FullTextArrayDataFinder.prototype.match = /**
     * @template T
     * @param {?} query
     * @param {?} max
     * @return {?}
     */
    function (query, max) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(this.instantMatch(query, max));
    };
    /**
     * @template T
     * @param {?} selections
     * @param {?} query
     * @param {?} max
     * @return {?}
     */
    FullTextArrayDataFinder.prototype.matchWithSelections = /**
     * @template T
     * @param {?} selections
     * @param {?} query
     * @param {?} max
     * @return {?}
     */
    function (selections, query, max) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(this.instantMatchWithSelections(selections, query, max));
    };
    /**
     * @param {?} obj
     * @param {?} pattern
     * @return {?}
     */
    FullTextArrayDataFinder.prototype.hasObjectValue = /**
     * @param {?} obj
     * @param {?} pattern
     * @return {?}
     */
    function (obj, pattern) {
        var _this = this;
        /** @type {?} */
        var values = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["objectValues"])(obj);
        /** @type {?} */
        var parentObj = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["objectToName"])(obj);
        /** @type {?} */
        var length2 = values.filter(function (value) {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(value) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(value)) {
                return false;
            }
            else if (!Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isJsObject"])(value) && !Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isFunction"])(value)) {
                return value.toString().toLowerCase().indexOf(pattern) !== -1;
            }
            else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isJsObject"])(value) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["objectToName"])(value) !== parentObj) {
                return _this.hasObjectValue(value, pattern);
            }
            return false;
        }).length;
        return length2 > 0;
    };
    return FullTextArrayDataFinder;
}(DataFinder));
/**
 * Extends basic Infix implementation to work on top of OutlineNodes. It first checks all the
 * children on lowest level and moving up to the root and marking nodes that can be removed.
 *
 *  For simple data structure which operates on local array this should be good enough we this
 *  can never match with real DB full text search.
 *
 */
var /**
 * Extends basic Infix implementation to work on top of OutlineNodes. It first checks all the
 * children on lowest level and moving up to the root and marking nodes that can be removed.
 *
 *  For simple data structure which operates on local array this should be good enough we this
 *  can never match with real DB full text search.
 *
 */
OutlineFullTextArrayDataFinder = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(OutlineFullTextArrayDataFinder, _super);
    function OutlineFullTextArrayDataFinder() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * @param {?} forData
     * @param {?} forType
     * @return {?}
     */
    OutlineFullTextArrayDataFinder.prototype.accepts = /**
     * @param {?} forData
     * @param {?} forType
     * @return {?}
     */
    function (forData, forType) {
        return forData instanceof ArrayDataProvider && forType === QueryType.FullTextOutline;
    };
    /**
     * @template T
     * @param {?} selectionsForMatch
     * @param {?} query
     * @param {?} max
     * @return {?}
     */
    OutlineFullTextArrayDataFinder.prototype.instantMatchWithSelections = /**
     * @template T
     * @param {?} selectionsForMatch
     * @param {?} query
     * @param {?} max
     * @return {?}
     */
    function (selectionsForMatch, query, max) {
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._provider), 'Missing DataProvider');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(query)) {
            return selectionsForMatch;
        }
        /** @type {?} */
        var toLowerPattern = query.toLowerCase();
        /** @type {?} */
        var sourceToSearch = selectionsForMatch.slice();
        this.rollup(sourceToSearch, toLowerPattern);
        return this.shake(sourceToSearch);
    };
    /**
     *
     * Going thru the tree from bottom up and mark all that matches query
     *
     */
    /**
     *
     * Going thru the tree from bottom up and mark all that matches query
     *
     * @param {?} nodes
     * @param {?} query
     * @return {?}
     */
    OutlineFullTextArrayDataFinder.prototype.rollup = /**
     *
     * Going thru the tree from bottom up and mark all that matches query
     *
     * @param {?} nodes
     * @param {?} query
     * @return {?}
     */
    function (nodes, query) {
        var _this = this;
        nodes.forEach(function (item) {
            /** @type {?} */
            var hasChildrenMatch = false;
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(item.children) && item.children.length > 0) {
                hasChildrenMatch = _this.rollup(item.children, query);
            }
            item.visible = hasChildrenMatch || _this.matches(item, query);
        });
        return nodes.some(function (item) { return item.visible; });
    };
    /**
     * Filter out all the nodes that are marked as visible = false and make sure and
     * don't modify original list
     *
     */
    /**
     * Filter out all the nodes that are marked as visible = false and make sure and
     * don't modify original list
     *
     * @param {?} nodes
     * @return {?}
     */
    OutlineFullTextArrayDataFinder.prototype.shake = /**
     * Filter out all the nodes that are marked as visible = false and make sure and
     * don't modify original list
     *
     * @param {?} nodes
     * @return {?}
     */
    function (nodes) {
        var _this = this;
        return nodes
            .filter(function (node) { return node.visible; })
            .map(function (node) { return (Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__assign"])({}, node, { isExpanded: node.visible, children: node.children && _this.shake(node.children) })); });
    };
    return OutlineFullTextArrayDataFinder;
}(FullTextArrayDataFinder));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var DATA_SOURCE = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('DATA_SOURCE');
/**
 * DataSource describes basic functionality for handling stream of data specific to component
 *
 * It is expected that DataSource will be defined as component provider using
 *
 * \@Components ({
 *      ...
 *      providers:[
 *
 *          provide: DATA_SOURCE, useClass: ChooserDataSourcePlainArrayExample,
 * deps: [DataProviders, DataFinders]
 *      ]
 *
 * })
 *
 *
 * so all the dependencies (DataProviders, DataFinders) are properly injected.
 *
 * DataProvider uses open() method to broadcast changes to all the subscribers in reactive way.
 * Or you can use instant() method to retrieve current state of this DataSource (sync)
 *
 * @abstract
 */
var DataSource = /** @class */ (function () {
    /**
     *
     * Each DataSource have injected DataProviders and DataFinders to retrieve concrete
     * implementation
     *
     */
    function DataSource(dataProviders, finders) {
        this.dataProviders = dataProviders;
        this.finders = finders;
    }
    /**
     * Returns a data instantly from the internal state of DataProvider
     */
    /**
     * Returns a data instantly from the internal state of DataProvider
     * @template T
     * @return {?}
     */
    DataSource.prototype.instant = /**
     * Returns a data instantly from the internal state of DataProvider
     * @template T
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["unimplemented"])();
    };
    DataSource.MaxLength = 10;
    DataSource.MaxRecentSelected = 5;
    return DataSource;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Common class used used for Five Zone layout. Used for the ng-content selector
 */
var TopZoneComponent = /** @class */ (function () {
    function TopZoneComponent() {
        this.classList = 'ui-g-12 ui-g-nopad ';
    }
    TopZoneComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-top',
                    template: '<ng-content></ng-content>'
                }] }
    ];
    TopZoneComponent.propDecorators = {
        classList: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"], args: ['class',] }]
    };
    return TopZoneComponent;
}());
/**
 * Common class used used for Five Zone layout. Used for the ng-content selector
 */
var LeftZoneComponent = /** @class */ (function () {
    function LeftZoneComponent() {
        this.classList = 'ui-g-12 ui-g-nopad';
    }
    LeftZoneComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-left',
                    template: '<ng-content></ng-content>'
                }] }
    ];
    LeftZoneComponent.propDecorators = {
        classList: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"], args: ['class',] }]
    };
    return LeftZoneComponent;
}());
/**
 * Common class used used for Five Zone layout. Used for the ng-content selector
 */
var MiddleZoneComponent = /** @class */ (function () {
    function MiddleZoneComponent() {
        this.classList = 'ui-g-12 ui-md-6 ui-lg-4 ui-g-nopad';
    }
    MiddleZoneComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-middle',
                    template: '<ng-content></ng-content>'
                }] }
    ];
    MiddleZoneComponent.propDecorators = {
        classList: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"], args: ['class',] }]
    };
    return MiddleZoneComponent;
}());
/**
 * Common class used used for Five Zone layout. Used for the ng-content selector
 */
var RightZoneComponent = /** @class */ (function () {
    function RightZoneComponent() {
        this.classList = 'ui-g-12 ui-g-nopad';
    }
    RightZoneComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-right',
                    template: '<ng-content></ng-content>'
                }] }
    ];
    RightZoneComponent.propDecorators = {
        classList: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"], args: ['class',] }]
    };
    return RightZoneComponent;
}());
/**
 * Common class used used for Five Zone layout. Used for the ng-content selector
 */
var BottomZoneComponent = /** @class */ (function () {
    function BottomZoneComponent() {
        this.classList = 'ui-g-12 ui-g-nopad';
    }
    BottomZoneComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-bottom',
                    template: '<ng-content></ng-content>'
                }] }
    ];
    BottomZoneComponent.propDecorators = {
        classList: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"], args: ['class',] }]
    };
    return BottomZoneComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Used by FormTable to layout fields into Rows. Each FormTable row is reasonable for not only to
 * include actual component such is DropDown or InputField but mainly provides a enough context for
 * the component to specify the size, how it should layout, whether we need to show required flag,
 * to show/hide labels in case if we have no label layout and much more.
 *
 * FormRow component also registers angular validator for the current row/field. As already
 * mentioned We treat our widgets with minimal responsibility as possible to present and retrive
 * information to/from user and let somebody else to figure out where it appear and how.
 *
 * todo: Move under FormTable
 */
var FormRowComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(FormRowComponent, _super);
    function FormRowComponent(env, 
    // Event this creates CI depends. Need to have a reference to parent
    // I need to refactor more parent to not use this child and refactor layouting
    parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.parentContainer = parentContainer;
        /**
         * Hides the label
         *
         */
        _this.noLabelLayout = false;
        /**
         * Renders row with highlighted background
         *
         */
        _this.highlightRow = false;
        /**
         *
         *  Field label that should appear above or next to the control
         *
         */
        _this.label = '';
        /**
         * Tells the form row that we are rendering another nested form in this row. so we need
         * to go 100%
         */
        _this.isNestedLayout = false;
        /**
         *
         * For single column layout without zones we need to apply grid directly to the FormRow tag
         * so we don't need to introduce extra div level
         *
         */
        _this.classList = '';
        _this._size = 'ui-g-12 ui-md-' + WidgetSizeColumns.medium;
        return _this;
    }
    /**
     * Right now we just initialize this once and use the values we do not expect now to react to
     * changes
     */
    /**
     * Right now we just initialize this once and use the values we do not expect now to react to
     * changes
     * @return {?}
     */
    FormRowComponent.prototype.ngOnInit = /**
     * Right now we just initialize this once and use the values we do not expect now to react to
     * changes
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        _super.prototype.registerFormControl.call(this, null);
        this.registerValidators();
        this.omitPadding = this.parentContainer.omitPadding;
        this.classList += Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.parentContainer) ? ' ui-g-12 ' : '';
        this.classList = this.highlightRow ? this.classList + ' highlight-row ' : this.classList;
        this.classList = this.omitPadding ? this.classList + ' ui-g-nopad ' : this.classList;
    };
    Object.defineProperty(FormRowComponent.prototype, "size", {
        /**
         * Just a size getter
         *
         */
        get: /**
         * Just a size getter
         *
         * @return {?}
         */
        function () {
            return this._size;
        },
        /**
         *  A size setter we translate custom sizes into actual bootstrap grid system. We use medium
         * right now. but we should extend this for other screen sizes
         *
         *  todo: provide mapping and add other grid classes for other sizes xs, sm, lg, xl
         *
         *  Also check if this is dynamic size that should vary based on the how many number of columns
         * we have. e.g. Date widgets is by default small, but in 2, 3 columns layout this small is too
         * small.
         */
        set: /**
         *  A size setter we translate custom sizes into actual bootstrap grid system. We use medium
         * right now. but we should extend this for other screen sizes
         *
         *  todo: provide mapping and add other grid classes for other sizes xs, sm, lg, xl
         *
         *  Also check if this is dynamic size that should vary based on the how many number of columns
         * we have. e.g. Date widgets is by default small, but in 2, 3 columns layout this small is too
         * small.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            /** @type {?} */
            var isDynVal = false;
            if (_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringWrapper"].startsWidth(value, 'd-')) {
                isDynVal = true;
                value = value.substr(2, value.length - 1);
            }
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value) && !this.isNestedLayout) {
                this._size = value;
                /** @type {?} */
                var dSize = this.dynSize(value, isDynVal);
                this._size = 'ui-g-12 ui-md-' + dSize;
            }
            else if (this.isNestedLayout) {
                this._size = 'ui-g-12 ui-md-12';
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    FormRowComponent.prototype.ngDoCheck = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngDoCheck.call(this);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.parentContainer) && this.editable !== this.parentContainer.editable) {
            this.editable = this.parentContainer.editable;
        }
    };
    /**
     * Push out of box angular validator as well as custom one to current FormControl
     * @return {?}
     */
    FormRowComponent.prototype.registerValidators = /**
     * Push out of box angular validator as well as custom one to current FormControl
     * @return {?}
     */
    function () {
        /** @type {?} */
        var validators = [];
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.maxLength)) {
            validators.push(_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].maxLength(this.maxLength));
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.minLength)) {
            validators.push(_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].minLength(this.minLength));
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.required) && this.required) {
            validators.push(_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.pattern)) {
            validators.push(_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].pattern(this.pattern));
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.customValidators)) {
            _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].addAll(validators, this.customValidators);
        }
        if (validators.length === 1) {
            this.formControl.setValidators(validators[0]);
        }
        else if (validators.length > 1) {
            this.formControl.setValidators(_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].compose(validators));
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.customAsyncValidators) && this.customAsyncValidators.length === 1) {
            this.formControl.setAsyncValidators(this.customAsyncValidators[0]);
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.customAsyncValidators) && this.customAsyncValidators.length > 1) {
            this.formControl.setAsyncValidators(_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].composeAsync(this.customAsyncValidators));
        }
    };
    Object.defineProperty(FormRowComponent.prototype, "labelsOnTop", {
        /**
         *
         * Do we have labels on TOP, try to read this from Parent
         *
         */
        get: /**
         *
         * Do we have labels on TOP, try to read this from Parent
         *
         * @return {?}
         */
        function () {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._labelsOnTop) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.parentContainer)) {
                return (/** @type {?} */ (this.parentContainer)).isLabelsOnTop();
            }
            return false;
        },
        enumerable: true,
        configurable: true
    });
    /**
     *
     * Can refactor all into 1 line but its hard to debug so this is just for read
     *
     * @param {?} value
     * @param {?} isDynValue
     * @return {?}
     */
    FormRowComponent.prototype.dynSize = /**
     *
     * Can refactor all into 1 line but its hard to debug so this is just for read
     *
     * @param {?} value
     * @param {?} isDynValue
     * @return {?}
     */
    function (value, isDynValue) {
        /** @type {?} */
        var normalizeSize = value.toLowerCase().replace('-', '');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.parentContainer) &&
            (/** @type {?} */ (this.parentContainer)).hasTwoColumn && isDynValue) {
            /** @type {?} */
            var enumValues = Object.keys(WidgetSizeColumns);
            normalizeSize = enumValues[enumValues.indexOf(normalizeSize) + 1];
        }
        return (/** @type {?} */ (WidgetSizeColumns))[normalizeSize];
    };
    FormRowComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-form-row',
                    template: "<div *ngIf=\"!hidden\"\n     class=\"w-form-row ui-g\"\n     [class.highlight-row]=\"highlightRow\"\n     [class.required]=\"required\"\n     [class.label-on-top]=\"labelsOnTop\"\n     [class.label-on-side]=\"!labelsOnTop\"\n     [class.has-danger]=\"!formControl.valid && !formControl.pristine \"\n     [ngClass]=\"styleClass\">\n\n    <div class=\"control-label ui-g-12 ui-g-nopad\"\n         *ngIf=\"!noLabelLayout\"\n         [class.ui-md-3]=\"!labelsOnTop\">\n        <label [class.sr-only]=\"noLabelLayout\">{{label}}</label>\n    </div>\n\n    <div class=\"control-value ui-g-nopad\" [ngClass]=\"size\"\n         [class.read-only]=\"!editable\">\n        <ng-content></ng-content>\n        <a-error-messages [control]=\"formControl\"></a-error-messages>\n    </div>\n</div>\n",
                    providers: [
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return FormRowComponent; }) }
                    ],
                    styles: [".required label:after{content:\"*\";color:red}/deep/ .highlight-row{background-color:#f7f8fa}.w-form-row.highlight-row{background-color:#f7f8fa}.w-form-row.label-on-top{padding-bottom:13px}.w-form-row.label-on-top .control-label,.w-form-row.label-on-top .control-value{padding-top:0;padding-bottom:0}.w-form-row.label-on-top .control-label{padding-bottom:12px}.w-form-row.label-on-side .control-label,.w-form-row.label-on-side .control-value{padding-top:0;padding-bottom:0}.w-form-row.label-on-side .control-label ::ng-deep .w-string-field,.w-form-row.label-on-side .control-value ::ng-deep .w-string-field{line-height:36px}.w-form-row.label-on-side .control-label ::ng-deep .sap-icon,.w-form-row.label-on-side .control-value ::ng-deep .sap-icon{line-height:26px}.w-form-row.label-on-side .control-label label,.w-form-row.label-on-side .control-value label{line-height:36px}.w-form-row.label-on-side .control-label .fa,.w-form-row.label-on-side .control-value .fa{line-height:18px}.w-form-row .w-form-row{padding-top:.5em;padding-bottom:.5em}.control-label{color:#636363}.u-validation-error{border-color:red}"]
                }] }
    ];
    /** @nocollapse */
    FormRowComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: FormTableComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return FormTableComponent; }),] }] }
    ]; };
    FormRowComponent.propDecorators = {
        noLabelLayout: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        highlightRow: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        label: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        maxLength: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        minLength: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        pattern: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        customAsyncValidators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        customValidators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        isNestedLayout: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        classList: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"], args: ['class',] }],
        size: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return FormRowComponent;
}(BaseFormComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * FormTable is a specific layout component for rendering Labels and its controls in two columns
 * and 5 different zones.
 *
 * We support LEFT, MIDDLE, RIGHT, TOP, BOTTOM zone where we can place our component or widgets.
 * This
 * component is used as primary layout to wrap all the common use cases. E.g. When we lay out
 * fields in the form I do not want controls to be aware of error validation, size, labels, and
 * some other things. Control such INPUT is just responsible for retrieve user value but not how it
 * appear on the page.
 *
 * This way we can be flexible how we treat widgets for different kinds of situation depending
 * where they appear
 * FormTable just like the rest of the components are using Model driven approach how to work with
 * data, mean we are using FormGroup, FormControl etc. FormGroup can be passed into the FormTable,
 * otherwise its automatically created when the FormTable is instantiated.
 *
 * FormGroup is saved insode Environment where we are using this to pass this around the pages and
 * components.
 *
 * ### Example
 *
 * Simple Layout fields and its control
 *
 *
 * ```typescript
 * \@Component({
 *      selector: 'wrapper-comp' ,
 *      template: `
 *  			<aw-form-table [formGroup]="formGroup" (onSubmit)=>
 *  				<aw-form-row [label]="'name'" [name]="'name'">
 *  					<aw-input-field [type]="'string'"></aw-input-field>
 *  				</aw-form-row>
 *
 *  				<aw-form-row [label]="'Preferred Colors'" [name]="'myColors'">
 *  					<aw-checkbox-list [list]="checkBoxListValues"
 *  					                 [selections]="selectedValues"
 *  					                 [layout]="'inline'"
 *  					                 (onSelection)="onCBClick($event)">
 *  					</aw-checkbox-list>
 *  				</aw-form-row>
 *  				<aw-form-row [label]="'Gender'" [name]="'gender'">
 *
 *  					<aw-radiobutton-list [list]="rbValues" [selection]="rbSelection">
 *
 *  					</aw-radiobutton-list>
 *
 *  				</aw-form-row>
 *  				<aw-form-row [label]="'My birthdate'" [name]="'birthDate'" [size]="'small'">
 *
 *  					<aw-date-time [value]="date" [editable]="editable" [showTime]="showTime">
 *  					</aw-date-time>
 *  				</aw-form-row>
 *  			</aw-form-table>
 *    `
 *  })
 *  export class ShowUserInfoComponent
 *  {
 *       checkBoxListValues: string[] = ['blue' , 'red' , 'yellow' , 'orange' , 'white' , 'silver'
 *     , 'black' , 'Green'
 *     , 'Gray' , 'Navy' ,
 *          'Olive' , 'Aqua' , 'Purple'];
 *      selectedValues: string[] = ['blue' , 'Olive' , 'Aqua' , 'Purple'];
 *      rbValues: string[] = ['male' , 'female' , 'other'];
 *      rbSelection: string = 'male';
 *      editable: boolean = true;
 *      showTime: boolean = true;
 *
 *      formGroup: FormGroup = new FormGroup({});
 *
 *
 *      onCBClick (event): void
 *      {
 *          console.log('onCBClick = ' + event);
 *      }
 *
 *      onSubmit (model: any): void
 *      {
 *         console.log(model)
 *
 *         // will print { name:null, myColors:['blue' , 'Olive' , 'Aqua' , 'Purple'], gender:
 *     male}
 *      }
 *
 *  }
 *
 *  ```
 *
 *  Or you can use zone to layout these fields into two columns:
 *
 *  Current zones are implement with <ng-content SELECT> which is just a selector to searches for
 *     specific pattern. In our case instead of creating extra wrapper custom component use simple
 *     CSS class
 *
 *
 *  ```
 *            <aw-form-table #metaFormTable [editable]="editing"
 *                          [useFiveZone]="isFiveZoneLayout"
 *                          (onSubmit)="onSaveAction($event)">
 *
 *                <aw-left  *ngIf="canShowZone('zLeft')">
 *
 *                        <aw-form-row [label]="'name'" [name]="'name'">
 *                            <aw-input-field [type]="'string'"></aw-input-field>
 *                        </aw-form-row>
 *
 *                        <aw-form-row [label]="'Preferred Colors'" [name]="'myColors'">
 *                            <aw-checkbox-list [list]="checkBoxListValues"
 *                                             [selections]="selectedValues"
 *                                             [layout]="'inline'"
 *                                             (onSelection)="onCBClick($event)">
 *                            </aw-checkbox-list>
 *                        </aw-form-row>
 *                </aw-left>
 *
 *
 *                <aw-right  *ngIf="canShowZone('zRight')">
 *                        <aw-form-row [label]="'Gender'" [name]="'gender'">
 *                                <aw-radiobutton-list [list]="rbValues" [selection]="rbSelection">
 *                                </aw-radiobutton-list>
 *                        </aw-form-row>
 *
 *                        <aw-form-row [label]="'My birthdate'" [name]="'birthDate'"
 *     [size]="'small'">
 *                            <aw-date-time [value]="date" [editable]="editable"
 *     [showTime]="showTime">
 *                            </aw-date-time>
 *                        </aw-form-row>
 *                </<aw-right>
 *            </aw-form-table>
 *
 *  ```
 *
 *  todo: remove my css selectors for zones and replace it with real component even just a tag
 *  todo: would work file
 *
 */
var FormTableComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(FormTableComponent, _super);
    function FormTableComponent(env) {
        var _this = _super.call(this, env, null) || this;
        _this.env = env;
        /**
         * Used for the form layout to see if we need to render labels stacked  or side by side next to
         * the control
         *
         */
        _this.labelsOnTop = false;
        /**
         *
         * Is this a 4 zone layout
         *
         */
        _this.useFiveZone = false;
        /**
         * For certain usecase we dont want to set automatically this to all children
         */
        _this.editabilityCheck = true;
        /**
         *  Triggers when the <form> is submitted. onSubmit we emit the whole formController objects
         *
         *
         */
        _this.onSubmit = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Cache calculated properties when init this component
         *
         */
        _this.hasOneColumn = false;
        _this.hasTwoColumn = false;
        _this.hasThreeColumn = false;
        return _this;
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    FormTableComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        _super.prototype.ngOnChanges.call(this, changes);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(changes['editable']) &&
            changes['editable'].previousValue !== changes['editable'].currentValue) {
            this.updateFormFields();
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    FormTableComponent.prototype.onSubmitForm = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.onSubmit.emit(event);
    };
    /**
     *
     * Are labels on top
     *
     */
    /**
     *
     * Are labels on top
     *
     * @return {?}
     */
    FormTableComponent.prototype.isLabelsOnTop = /**
     *
     * Are labels on top
     *
     * @return {?}
     */
    function () {
        return this.labelsOnTop;
    };
    /**
     *
     * Used by child component to inherit editability
     *
     */
    /**
     *
     * Used by child component to inherit editability
     *
     * @return {?}
     */
    FormTableComponent.prototype.isFormEditable = /**
     *
     * Used by child component to inherit editability
     *
     * @return {?}
     */
    function () {
        return this.editable;
    };
    /**
     * @return {?}
     */
    FormTableComponent.prototype.applyColumns = /**
     * @return {?}
     */
    function () {
        if (!this.useFiveZone && this.hasAnyZones()) {
            throw new Error('Zones detected in the FormTable but useFiveZone option is false');
        }
        this.hasOneColumn = !Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.rightZone) && !Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.middleZone);
        this.hasTwoColumn = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.leftZone) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.rightZone) &&
            !Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.middleZone);
        this.hasThreeColumn = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.leftZone) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.rightZone) &&
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.middleZone);
        if (this.hasTwoColumn && !this.isTwoZoneReady()) {
            this.leftZone.classList += ' ui-md-6 ui-lg-6';
            this.rightZone.classList += ' ui-md-6 ui-lg-6';
        }
        if (this.hasThreeColumn && !this.isThreeZoneReady()) {
            this.leftZone.classList += ' ui-md-6 ui-lg-4';
            this.rightZone.classList += ' ui-md-6 ui-lg-4';
        }
    };
    /**
     * @return {?}
     */
    FormTableComponent.prototype.hasAnyZones = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.leftZone) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.rightZone) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.middleZone)
            || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.topZone) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.bottomZone);
    };
    /**
     * Helper method to check if we already initialized the classList.
     * the
     *
     * TODO: Probably string array would be easier
     */
    /**
     * Helper method to check if we already initialized the classList.
     * the
     *
     * TODO: Probably string array would be easier
     * @return {?}
     */
    FormTableComponent.prototype.isTwoZoneReady = /**
     * Helper method to check if we already initialized the classList.
     * the
     *
     * TODO: Probably string array would be easier
     * @return {?}
     */
    function () {
        return this.leftZone.classList.indexOf('ui-lg-6') > 0 &&
            this.leftZone.classList.indexOf('ui-lg-6') > 0;
    };
    /**
     * Helper method to check if we already initialized the classList.
     * the
     *
     * TODO: Probably string array would be easier
     */
    /**
     * Helper method to check if we already initialized the classList.
     * the
     *
     * TODO: Probably string array would be easier
     * @return {?}
     */
    FormTableComponent.prototype.isThreeZoneReady = /**
     * Helper method to check if we already initialized the classList.
     * the
     *
     * TODO: Probably string array would be easier
     * @return {?}
     */
    function () {
        return this.leftZone.classList.indexOf('ui-lg-4') > 0 &&
            this.leftZone.classList.indexOf('ui-lg-4') > 0;
    };
    /**
     * @return {?}
     */
    FormTableComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // problem since Angular 4.2, ngAfterContentInit
        // without this I get error that value was changed after view was checked
        // todo: refactor  - mainly our zones left, right middle
        setTimeout(function () {
            _this.applyColumns();
            _this.updateFormFields();
            _this.adjustLayout();
        });
    };
    /**
     * @return {?}
     */
    FormTableComponent.prototype.updateFormFields = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.editabilityCheck && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.formFields) && this.formFields.length > 0) {
            this.formFields.forEach(function (item) {
                item.editable = _this.editable;
                // item.formGroup = this.formGroup;
            });
        }
    };
    /**
     * Based on if we are 2 or 3 or 1 column layout we need to adjust widgets width within the
     * form row.
     * @return {?}
     */
    FormTableComponent.prototype.adjustLayout = /**
     * Based on if we are 2 or 3 or 1 column layout we need to adjust widgets width within the
     * form row.
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.rows) && this.rows.length > 0) {
            if (this.hasThreeColumn) {
                this.rows.forEach(function (item) { return item.size = 'large'; });
            }
        }
    };
    FormTableComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-form-table',
                    template: "<form class=\"w-form-table ui-g ui-fluid\" [formGroup]=\"formGroup\"\n      [ngClass]=\"styleClass\"\n      (ngSubmit)=\"onSubmitForm(formGroup.value)\" novalidate>\n\n    <div class=\"ui-g-12 ui-g-nopad\">\n\n        <div class=\"ui-g\">\n            <ng-content></ng-content>\n        </div>\n\n    </div>\n</form>\n\n",
                    providers: [
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return FormTableComponent; }) }
                    ],
                    styles: [".page-container>form{margin-top:1em}.w-form-table button{float:right}"]
                }] }
    ];
    /** @nocollapse */
    FormTableComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    FormTableComponent.propDecorators = {
        labelsOnTop: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        useFiveZone: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        editabilityCheck: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onSubmit: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        leftZone: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: [LeftZoneComponent,] }],
        middleZone: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: [MiddleZoneComponent,] }],
        rightZone: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: [RightZoneComponent,] }],
        topZone: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: [TopZoneComponent,] }],
        bottomZone: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: [BottomZoneComponent,] }],
        formFields: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChildren"], args: [BaseFormComponent, { descendants: true },] }],
        rows: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChildren"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return FormRowComponent; }), { descendants: true },] }]
    };
    return FormTableComponent;
}(BaseFormComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWFormTableModule = /** @class */ (function () {
    function AWFormTableModule() {
    }
    AWFormTableModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        FormTableComponent,
                        FormRowComponent,
                        TopZoneComponent,
                        LeftZoneComponent,
                        RightZoneComponent,
                        MiddleZoneComponent,
                        BottomZoneComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        primeng_components_inputtext_inputtext__WEBPACK_IMPORTED_MODULE_7__["InputTextModule"],
                        AWCoreComponentModule
                    ],
                    entryComponents: [
                        FormTableComponent,
                        FormRowComponent,
                        TopZoneComponent,
                        LeftZoneComponent,
                        RightZoneComponent,
                        MiddleZoneComponent,
                        BottomZoneComponent
                    ],
                    exports: [
                        FormTableComponent,
                        FormRowComponent,
                        TopZoneComponent,
                        LeftZoneComponent,
                        RightZoneComponent,
                        MiddleZoneComponent,
                        BottomZoneComponent
                    ]
                },] }
    ];
    return AWFormTableModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 * This component represent a Input field and it can  accept different types of values such as
 * text, number.
 *
 *
 *
 * ### Example
 *
 * ```typescript
 * \@Component({
 *      selector: 'wrapper-comp' ,
 *      template: '<aw-input-field [value]="inputValue" [type]="inputType"></aw-input-field>'
 *  })
 *  export class TestInputComponent
 *  {
 *      inputValue: string = 'Some text';
 *
 *      // by default input type is text, you can pass string, String, or text
 *      inputType: string = 'string';
 *  }
 *
 * ```
 *
 *
 *
 * ### Example wher input field is initialized with ngModel
 *
 * ```typescript
 * \@Component({
 *      selector: 'wrapper-comp' ,
 *      template: '<aw-input-field [value]="inputValue" [(ngModel)]="inputType"></aw-input-field>'
 *  })
 *  export class TestInputComponent
 *  {
 *      inputValue: string = 'Some text';
 *
 *      // by default input type is text, you can pass string, String, or text
 *      inputType: string = 'string';
 *  }
 *
 * ```
 *
 *  Note: if you are using this outside of FormTable please provide your own FormGroup
 *
  @type {?} */
var INPUT_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return InputFieldComponent; }),
    multi: true
};
var InputFieldComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(InputFieldComponent, _super);
    function InputFieldComponent(env, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.parentContainer = parentContainer;
        /**
         *
         * A value used to save and read  when rendering and updating a component
         *
         */
        _this.value = '';
        /**
         * The formatted decimal value. Uses angular decimalPipe to format based on locale.
         */
        _this.displayValue = '';
        /**
         * Input field type. Currently we support either Number or text
         */
        _this._type = 'string';
        _this.decimalPipe = new _angular_common__WEBPACK_IMPORTED_MODULE_5__["DecimalPipe"](env.locale);
        return _this;
    }
    Object.defineProperty(InputFieldComponent.prototype, "type", {
        get: /**
         * @return {?}
         */
        function () {
            return this._type;
        },
        /**
         *
         * generated setter to check for value and normalizing into expected either number or text
         *
         */
        set: /**
         *
         * generated setter to check for value and normalizing into expected either number or text
         *
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (value.toLowerCase() === 'string' || value.toLowerCase() === 'text') {
                this._type = 'text';
            }
            else if (value.toLowerCase() === 'number') {
                this._type = 'number';
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    InputFieldComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        _super.prototype.ngOnInit.call(this);
        _super.prototype.registerFormControl.call(this, this.bigDecimal);
        this.vchSubscriber = this.formControl.valueChanges
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["distinctUntilChanged"])())
            .subscribe(function (val) {
            _this.value = val;
            _this.onModelChanged(_this.value);
        });
        if (this.bigDecimal) {
            this.displayValue = this.formatNumber(this.bigDecimal.amount);
        }
        else {
            this.displayValue = this.value;
        }
    };
    /**
     * @return {?}
     */
    InputFieldComponent.prototype.canSetType = /**
     * @return {?}
     */
    function () {
        return true;
    };
    /**
     * @param {?} el
     * @return {?}
     */
    InputFieldComponent.prototype.onKeyDown = /**
     * @param {?} el
     * @return {?}
     */
    function (el) {
        if (this._type === 'number') {
            this.displayValue = el.value;
            this.onModelChanged(this.displayValue);
        }
    };
    /**
     * @param {?} el
     * @return {?}
     */
    InputFieldComponent.prototype.onBlur = /**
     * @param {?} el
     * @return {?}
     */
    function (el) {
        if (this._type === 'number') {
            this.bigDecimal = new BigDecimal(Number(el.value));
            this.displayValue = this.formatNumber(this.bigDecimal.amount);
            this.onModelChanged(this.displayValue);
        }
    };
    /**
     * @param {?} value
     * @return {?}
     */
    InputFieldComponent.prototype.writeValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value !== this.displayValue) {
            this.value = value;
            this.displayValue = '';
            if (this.value) {
                this.displayValue = this.value;
            }
            this.formControl.setValue(value, { onlySelf: true });
        }
    };
    /**
     * Format the number object according to its precision.
     *
     */
    /**
     * Format the number object according to its precision.
     *
     * @param {?} value
     * @return {?}
     */
    InputFieldComponent.prototype.formatNumber = /**
     * Format the number object according to its precision.
     *
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (!value) {
            return '';
        }
        // If precision is present, use it for format the bigDecimal value for display.
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.precision) &&
            this._type === 'number') {
            /** @type {?} */
            var digits = '1.0-2';
            digits = '1.0-' + this.precision;
            return this.decimalPipe.transform(value, digits);
        }
        return value;
    };
    /**
     * @return {?}
     */
    InputFieldComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnDestroy.call(this);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.vchSubscriber)) {
            this.vchSubscriber.unsubscribe();
        }
    };
    InputFieldComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-input-field',
                    template: "<div *ngIf=\"editable\" [formGroup]=\"formGroup\" class=\"w-input-wrapper\">\n\n    <input pInputText\n           #inputFieldValue\n           [attr.name]=\"name\"\n           [attr.type]=\"type\"\n           class=\"w-input-field\"\n           [ngClass]=\"styleClass\"\n           [class.has-icon]=\"icon\"\n           placeholder=\"{{placeHolder}}\"\n           [class.u-validation-error]=\"!(formControl.valid || (formControl.pristine))\"\n           formControlName=\"{{name}}\"\n           (keydown)=\"onKeyDown(inputFieldValue)\"\n           (blur)=\"onBlur(inputFieldValue)\"\n           [value]=\"displayValue\">\n    <span *ngIf=\"icon\" class=\"sap-icon\" [ngClass]=\"icon\"></span>\n</div>\n\n\n<ng-template [ngIf]=\"!editable\">\n    <aw-string [value]=\"displayValue\"></aw-string>\n</ng-template>\n",
                    providers: [
                        INPUT_CONTROL_VALUE_ACCESSOR,
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return InputFieldComponent; }) }
                    ],
                    styles: [".w-input-wrapper{position:relative}.w-input-field{padding-right:35px}.w-input-field~span{top:13px;position:absolute;right:15px}"]
                }] }
    ];
    /** @nocollapse */
    InputFieldComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return FormRowComponent; }),] }] }
    ]; };
    InputFieldComponent.propDecorators = {
        value: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        precision: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        bigDecimal: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        icon: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        type: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return InputFieldComponent;
}(BaseFormComponent));
/**
 * BigDecimal object is represented as a value, locale, and currencyCode
 */
var /**
 * BigDecimal object is represented as a value, locale, and currencyCode
 */
BigDecimal = /** @class */ (function () {
    function BigDecimal(amount, locale) {
        if (amount === void 0) { amount = 0; }
        if (locale === void 0) { locale = 'en_US'; }
        this.amount = amount;
        this.locale = locale;
    }
    /**
     * @return {?}
     */
    BigDecimal.prototype.getTypes = /**
     * @return {?}
     */
    function () {
        return {
            amount: Number,
            locale: String
        };
    };
    /**
     * @return {?}
     */
    BigDecimal.prototype.className = /**
     * @return {?}
     */
    function () {
        return 'BigDecimal';
    };
    /**
     * @return {?}
     */
    BigDecimal.prototype.$proto = /**
     * @return {?}
     */
    function () {
        return new BigDecimal(1, 'en_US');
    };
    /**
     * @return {?}
     */
    BigDecimal.prototype.toString = /**
     * @return {?}
     */
    function () {
        return this.amount + ', locale: ' + this.locale;
    };
    /**
     * @param {?=} data
     * @return {?}
     */
    BigDecimal.prototype.clone = /**
     * @param {?=} data
     * @return {?}
     */
    function (data) {
        if (data === void 0) { data = {}; }
        return new BigDecimal(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(data.amount) ? data.amount : this.amount, Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(data.locale) ? data.locale : this.locale);
    };
    return BigDecimal;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWStringFieldModule = /** @class */ (function () {
    function AWStringFieldModule() {
    }
    AWStringFieldModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        StringComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"]
                    ],
                    entryComponents: [
                        StringComponent
                    ],
                    exports: [
                        StringComponent
                    ],
                    providers: []
                },] }
    ];
    return AWStringFieldModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWInputFieldModule = /** @class */ (function () {
    function AWInputFieldModule() {
    }
    AWInputFieldModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        InputFieldComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        primeng_components_inputtext_inputtext__WEBPACK_IMPORTED_MODULE_7__["InputTextModule"],
                        AWStringFieldModule
                    ],
                    entryComponents: [
                        InputFieldComponent
                    ],
                    exports: [
                        InputFieldComponent,
                        AWStringFieldModule,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"]
                    ],
                    providers: []
                },] }
    ];
    return AWInputFieldModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * basic navigation bar provide a main action buttons for its content (page level buttons).
 * This is not the Top level application navigation. This component provides by default action OK,
 * CANCEL and you are free to modify how the OK or CANCEL will be call as well as subscribe to the
 * event. Or you can provide your own buttons template which will be used instead of this default
 * one.
 *
 *
 *
 *
 *
 * ### Example 1:
 *
 * In order to use navigation bar in its basic usage you can do following:
 * this will render buttons on the top as well as on the bottom around the content.
 *
 *
 *  ```html
 *
 *      <aw-basic-navigator [brandImg]="'img/aribalogobal.png'">
 *
 *            <div class="container">
 *                <form>
 *                    User name: <input type=text value="peter.pan">
 *                </<form>>
 *            </div>
 *      </aw-basic-navigator>
 *
 *
 * ```
 *
 *  if you do not want button on the top or bottom you can say thi using binding showTop or
 * showBottom.
 *
 *
 * ### Example 2:
 *  In this example we are providing custom buttons as well as brank section
 *
 *
 *  ```html
 *
 *
 *      <aw-basic-navigator [brandImg]="'img/aribalogobal.png'">
 *            <ng-template #buttons>
 *                <ul class="nav navbar-nav float-md-right collapse navbar-toggleable-xs">
 *                    <li class="nav-item ">
 *                        <button class="btn btn-secondary" type="button"
 * (click)="onSaveAction($evemt)">Cancel</button>
 *                    </li>
 *                    <li class="nav-item active">
 *                        <button class="btn btn-primary" type="button"
 * (click)="onCancelAction($event)"> Save
 *                        </button>
 *                    </li>
 *                </ul>
 *            </ng-template>
 *
 *            <ng-template #brand>
 *                <span class="brand-title">Ariba</span>
 *            </ng-template>
 *
 *
 *            <div class="container">
 *                <form>
 *                    User name: <input type=text value="peter.pan">
 *                </<form>>
 *            </div>
 *      </aw-basic-navigator>
 *
 *
 * ```
 *
 */
var BasicNavigatorComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(BasicNavigatorComponent, _super);
    function BasicNavigatorComponent(env, appConfig) {
        var _this = _super.call(this, env) || this;
        /**
         * Indicates that buttons will be rendered on the top
         *
         * Default value is TRUE
         *
         */
        _this.showTop = true;
        /**
         * Indicates that buttons will be rendered on the bottom
         *
         * Default value is TRUE
         *
         */
        _this.showBottom = true;
        /**
         * Indicates that brand section that is on the left side and only in the top bar is visible
         *
         * Default value is TRUE
         *
         */
        _this.showBrand = true;
        /**
         *
         * EventEmitter that is triggered when you click on default OK Action
         *
         */
        _this.onOKAction = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         *
         * EventEmitter that is triggered when you click on default CANCEL Action
         *
         */
        _this.onCancelAction = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        // todo: load this from resource file using ngTranslate service
        // todo: load this from resource file using ngTranslate service
        _this.okActionLabel = 'OK';
        _this.cancelActionLabel = 'Cancel';
        _this.brandImg = 'images/aribalogobal.png';
        return _this;
    }
    /**
     * @return {?}
     */
    BasicNavigatorComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.showCancelButton)) {
            this.showCancelButton = this.editable || (this.onCancelAction.observers.length > 0
                && this.onOKAction.observers.length > 0);
        }
    };
    /**
     * Returns if buttonsTemplate is available
     *
     */
    /**
     * Returns if buttonsTemplate is available
     *
     * @return {?}
     */
    BasicNavigatorComponent.prototype.hasButtonTemplate = /**
     * Returns if buttonsTemplate is available
     *
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.buttonsTemplate);
    };
    /**
     * Returns if brandTemplate is available
     *
     */
    /**
     * Returns if brandTemplate is available
     *
     * @return {?}
     */
    BasicNavigatorComponent.prototype.hasBrandTemplate = /**
     * Returns if brandTemplate is available
     *
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.brandTemplate);
    };
    BasicNavigatorComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-basic-navigator',
                    template: "<p-toolbar *ngIf=\"showTop\" [class]=\"'w-basic-navigator'\">\n    <div class=\"ui-toolbar-group-left\">\n\n        <a class=\"nav-brand\" href=\"#\" *ngIf=\"showBrand\">\n            <ng-template [ngIf]=\"!hasBrandTemplate()\">\n                <img src=\"{{assetFolder}}/{{brandImg}}\" height=\"30\" alt=\"\">\n                <span class=\"nav-brand-title\">Ariba</span>\n            </ng-template>\n\n            <ng-template [embeddedItem]=\"brandTemplate\" [item]=\"context\"\n                         *ngIf=\"hasBrandTemplate()\"></ng-template>\n        </a>\n\n    </div>\n\n    <div class=\"ui-toolbar-group-right\">\n        <ng-template [ngIf]=\"!hasButtonTemplate()\">\n\n            <aw-button *ngIf=\"showCancelButton\" [style]=\"'secondary'\"\n                       (action)=\"onCancelAction.emit($event)\">\n                {{cancelActionLabel}}\n            </aw-button>\n\n            <aw-button (action)=\"onOKAction.emit($event)\">\n                {{okActionLabel}}\n            </aw-button>\n\n\n        </ng-template>\n        <ng-template [embeddedItem]=\"buttonsTemplate\" [item]=\"context\"\n                     *ngIf=\"hasButtonTemplate()\"></ng-template>\n    </div>\n\n</p-toolbar>\n\n<ng-content></ng-content>\n\n<p-toolbar *ngIf=\"showBottom\">\n\n    <div class=\"ui-toolbar-group-right\">\n        <ng-template [ngIf]=\"!hasButtonTemplate()\">\n\n            <aw-button *ngIf=\"showCancelButton\" [style]=\"'secondary'\"\n                       (action)=\"onCancelAction.emit($event)\">\n                {{cancelActionLabel}}\n            </aw-button>\n\n            <aw-button (action)=\"onOKAction.emit($event)\">\n                {{okActionLabel}}\n            </aw-button>\n        </ng-template>\n        <ng-template [embeddedItem]=\"buttonsTemplate\" [item]=\"context\"\n                     *ngIf=\"hasButtonTemplate()\"></ng-template>\n    </div>\n\n</p-toolbar>\n\n\n\n",
                    styles: ["a.nav-brand{vertical-align:middle;line-height:inherit;text-decoration:none;color:#2d353c}a.nav-brand:focus,a.nav-brand:hover{text-decoration:none}a.nav-brand span{vertical-align:middle}.nav-brand img{display:inline-block;vertical-align:middle;padding:3px}"]
                }] }
    ];
    /** @nocollapse */
    BasicNavigatorComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["AppConfig"] }
    ]; };
    BasicNavigatorComponent.propDecorators = {
        showTop: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showBottom: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showBrand: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        brandImg: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        okActionLabel: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        cancelActionLabel: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        context: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showCancelButton: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onOKAction: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onCancelAction: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        buttonsTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['buttons',] }],
        brandTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['brand',] }]
    };
    return BasicNavigatorComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Button component that implements consistent styling, behavior. Button can be rendered either as
 * a button or as a link. It could be standalone or be part of a form.
 *
 *  ### Example
 *  ```
 *
 * \@Component({
 *    selector: 'registration' ,
 *    template: `
 *
 *   <aw-form-table >
 *       <aw-form-row [label]="'Amount'" [name]="'amount'" [size]="'small'">
 *
 *           <aw-button [type]="'submit'" [name]="'button'"
 *                     (action)="onClicked($event)" [value]="command"
 *                     [style]="'warning'" >Button</aw-button>
 *       </aw-form-row>
 *   </aw-form-table>
 *
 *    `
 *    })
 *    export class MyComponent
 *    {
 *        command:boolean;
 *
 *        constructor ()
 *        {
 *        }
 *
 *        onClicked(value:string) {
 *           if (value) {
 *              // submit form.
 *           }
 *        }
 *    }
 */
var ButtonComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(ButtonComponent, _super);
    function ButtonComponent(element, env) {
        var _this = _super.call(this, env) || this;
        _this.element = element;
        _this.env = env;
        /**
         * Button types  [ button | submit | reset ]
         *
         */
        _this.type = 'button';
        /**
         * styling for this button. See ButtonStyle for all supported styles.
         */
        _this.style = 'primary';
        /**
         * sizing for this button. [large, normal, small].
         */
        _this.size = 'normal';
        /**
         * Event fired when user select a item
         */
        _this.action = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        // Default button class is secondary.
        // Default button class is secondary.
        _this.buttonClass = 'ui-button-secondary';
        // Default disabled
        // Default disabled
        _this.disabled = false;
        return _this;
    }
    /**
     * @return {?}
     */
    ButtonComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        // How to style this button.
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.style)) {
            if (this.style === 'primary') {
                // Default .ui-button and .ui-button-primary get the same style.
                // .ui-button-primary is necessary because button style can be overridden
                // when included inside other widgets. So specify primary
                this.buttonClass = 'ui-button-primary';
            }
            else {
                this.buttonClass = 'ui-button-' + this.style;
            }
        }
        // Determine the button class based on input size.
        if (this.size) {
            switch (this.size) {
                case 'large':
                    this.buttonClass += ' btn-lg';
                    break;
                case 'normal':
                    this.buttonClass += ' btn-mid';
                    break;
                case 'small':
                    this.buttonClass += ' btn-sm';
                    break;
            }
        }
    };
    /**
     * This is little hacky hackity hack as currently primeng button directive does not work with
     * ngcontent projection but it has a label bindings, which is not the way developers work with
     * button. you want to
     *
     * <button> MY CONTENT</button instead of <button label='MyContent'></button>
     *
     *
     * @Todo: Change this until the time keep a test that check that they are still using ui-button
     *     that we are expecting and replacing
     */
    /**
     * This is little hacky hackity hack as currently primeng button directive does not work with
     * ngcontent projection but it has a label bindings, which is not the way developers work with
     * button. you want to
     *
     * <button> MY CONTENT</button instead of <button label='MyContent'></button>
     *
     *
     * \@Todo: Change this until the time keep a test that check that they are still using ui-button
     *     that we are expecting and replacing
     * @return {?}
     */
    ButtonComponent.prototype.ngAfterViewInit = /**
     * This is little hacky hackity hack as currently primeng button directive does not work with
     * ngcontent projection but it has a label bindings, which is not the way developers work with
     * button. you want to
     *
     * <button> MY CONTENT</button instead of <button label='MyContent'></button>
     *
     *
     * \@Todo: Change this until the time keep a test that check that they are still using ui-button
     *     that we are expecting and replacing
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.element)) {
            /** @type {?} */
            var button = this.element.nativeElement.querySelector('button');
            /** @type {?} */
            var buttonTitle = button.children[0];
            button.children[0].textContent = this.element.nativeElement.textContent.trim()
                .replace('ui-button', '').replace('ui-btn', '');
            button.classList.remove('ui-button-text-empty');
            button.textContent = '';
            button.appendChild(buttonTitle);
        }
    };
    /**
     *  Action clicked. Call parent action.
     */
    /**
     *  Action clicked. Call parent action.
     * @param {?} $event
     * @return {?}
     */
    ButtonComponent.prototype.clicked = /**
     *  Action clicked. Call parent action.
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        this.action.emit(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.value) ? $event : this.value);
    };
    ButtonComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-button',
                    template: "<button\n    pButton\n    [attr.type]=\"type\"\n    [attr.name]=\"name\"\n    [ngClass]=\"buttonClass\"\n    [disabled]=\"disabled\"\n    [attr.value]=\"value\"\n    (click)=\"clicked($event)\">\n\n    <ng-content></ng-content>\n</button>\n",
                    styles: [".ui-button-link{color:#337ab7;font-weight:400;border-radius:0;background-color:transparent}.ui-button-link,.ui-button-link.active,.ui-button-link:active,.ui-button-link:focus,.ui-button-link:hover,.ui-button-link[disabled]{border-color:transparent}.ui-button-link:focus,.ui-button-link:hover{color:#337ab7;-webkit-text-decoration:#337ab7;text-decoration:#337ab7;background-color:transparent}.ui-button-link[disabled]:focus,.ui-button-link[disabled]:hover{color:#2399e5;text-decoration:none}.ui-button{margin-right:5px}.btn-mid{height:36px;padding:5px 10px}.btn-lg{height:42px;font-size:16px;padding:5px 12px}.btn-sm{height:30px;font-size:12px;padding:5px 10px}"]
                }] }
    ];
    /** @nocollapse */
    ButtonComponent.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    ButtonComponent.propDecorators = {
        type: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        name: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        style: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        size: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        target: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        value: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        action: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }]
    };
    return ButtonComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWButtonModule = /** @class */ (function () {
    function AWButtonModule() {
    }
    AWButtonModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        ButtonComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ButtonModule"],
                    ],
                    entryComponents: [
                        ButtonComponent
                    ],
                    exports: [
                        ButtonComponent
                    ],
                    providers: []
                },] }
    ];
    return AWButtonModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWBasicNavigatorModule = /** @class */ (function () {
    function AWBasicNavigatorModule() {
    }
    AWBasicNavigatorModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        BasicNavigatorComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ToolbarModule"],
                        AWButtonModule,
                        AWCoreComponentModule
                    ],
                    exports: [
                        BasicNavigatorComponent
                    ],
                    providers: []
                },] }
    ];
    return AWBasicNavigatorModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var CardZoneTopComponent = /** @class */ (function () {
    function CardZoneTopComponent() {
    }
    CardZoneTopComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"], args: [{
                    selector: "aw-card-top",
                    host: {
                        'class': 'w-card-ztop'
                    }
                },] }
    ];
    return CardZoneTopComponent;
}());
var CardZoneBottomComponent = /** @class */ (function () {
    function CardZoneBottomComponent() {
    }
    CardZoneBottomComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"], args: [{
                    selector: "aw-card-bottom",
                    host: {
                        'class': 'w-card-zbottom'
                    }
                },] }
    ];
    return CardZoneBottomComponent;
}());
/**
 *
 * Card component is a container rendering its content inside 3 different zones.
 *
 *  ------------------------------------------
 *  |   TITLE                       | ACTION |
 *  |-----------------------------------------
 *  |                                        |
 *  |   TOP                                  |
 *  |                                        |
 *  ------------------------------------------
 *  |                                        |
 *  |   BOTTOM                               |
 *  |                                        |
 *  |                                        |
 *  ------------------------------------------
 *
 *
 *  There are 3 zones  + 1 placeholder for the actionIcon
 *
 *  Cards can be selectable which means when you click on it there will be rendered a border with
 *  a check mark inside Action zone (this is default behavior).
 *  You can use [selectable] binding to disable this, in such case card will have just a border
 *  without any check mark.
 *
 *  Cards can also contain custom Action which is rendered inside ACTION zone and on the
 *  application level you can listen for (click) events as well as you can provide your own action
 *  icon
 *
 *  Besides ACTION, TITLE, TOP and BOTTOM content zones cards support hover overlay effect and
 *  when its activated there is a overlay displayed on top of the card with Icon in the middle.
 *  Please note when [hasHover] is TRUE all the actions and selectability are disabled as there is
 *  only one action which click on the hover overlay.
 *
 *
 * ###example 1:
 *  Basic hover card which by default support selectable mode
 *
 * ```
 *          <aw-card #card1 [hasAction]="false" [width]="'202px'" [height]="'154px'">
 *
 *                 <aw-card-title [align]="'bottom-left'">
 *                     <span class="a-supplier-tag">
 *                         Preferred
 *                     </span>
 *                 </aw-card-title>
 *
 *                 <aw-card-top>
 *                     <div class="supplierName">
 *                         Haight Pumps
 *                     </div>
 *                     <div class="supplierLocation">
 *                         Palo Alto, CA, USA
 *                     </div>
 *                 </aw-card-top>
 *
 *                 <aw-card-bottom class="w-card-zbottom">
 *                     some text about the supplier and his parents<br/>
 *                     and some contacts
 *                 </aw-card-bottom>
 *
 *             </aw-card>
 *
 * ```
 *
 *  ###example 2:
 *   Hover card with custom action. when unselected action will appear and user can click on it.
 *
 * ```
 *          <aw-card #card1 [selectable]="true" [actionIcon]="'icon-question-mark'"
 *                     (onAction)="onAction(3, $event)">
 *
 *                 <aw-card-title [align]="'bottom-left'">
 *                     <span class="a-supplier-tag">
 *                         Preferred
 *                     </span>
 *                 </aw-card-title>
 *
 *                 <aw-card-top>
 *                     <div class="supplierName">
 *                         Haight Pumps
 *                     </div>
 *                     <div class="supplierLocation">
 *                         Palo Alto, CA, USA
 *                     </div>
 *                 </aw-card-top>
 *
 *                 <aw-card-bottom class="w-card-zbottom">
 *                     some text about the supplier and his parents<br/>
 *                     and some contacts
 *                 </aw-card-bottom>
 *
 *             </aw-card>
 *
 * ```
 *
 *
 *
 */
var CardComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(CardComponent, _super);
    function CardComponent(env) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        /**
         * Tells if we should explicitly hide the action
         *
         */
        _this.hasAction = false;
        /**
         *
         * Is selectable mode supported? Saying Yes, card will have by default check-mark in the
         * ACTION zone when selected
         *
         */
        _this.selectable = true;
        /**
         * Option to pass custom "Card Selected" Icon
         *
         */
        _this.selectedIcon = 'icon-accept';
        /*
             * Enable and disables hover effect on top of the card
             */
        _this.hasHover = false;
        /**
         *
         * Default icon name for the hover overlay. This icons shows up in the middle over the card
         * vertically and horizontally centered
         *
         */
        _this.hoverIcon = 'icon-add';
        /**
         *  Selection state
         *
         */
        _this.selected = true;
        /**
         * Fired when the card is selected.
         *
         */
        _this.onSelect = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Fired when action icon is clicked.
         *
         */
        _this.onAction = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Fired when the user clicks on the hover overlay.
         *
         */
        _this.onHoverAction = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Usually when template is provided we want to use it and replace internal one but in this
         * case it will be always conditional and application developer can switch between default
         * template with zones and custom one provided by developer.
         *
         */
        _this.useBodyTemplate = false;
        // sets default value
        // sets default value
        _this.width = '202px';
        _this.height = '154px';
        return _this;
    }
    /**
     * @return {?}
     */
    CardComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        // If application wants to use action it must provide actionIcon
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.actionIcon) && this.hasAction) {
            throw new Error('You need to provide action icon');
        }
    };
    /**
     * @return {?}
     */
    CardComponent.prototype.showBottomSection = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.bottom);
    };
    /**
     * fires select and unselect event.
     */
    /**
     * fires select and unselect event.
     * @param {?} event
     * @return {?}
     */
    CardComponent.prototype.toggleSelect = /**
     * fires select and unselect event.
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.selectable) {
            event.preventDefault();
            event.stopPropagation();
        }
        else {
            this.selected = !this.selected;
            this.onSelect.emit(this.selected);
        }
    };
    /**
     *
     * Only fired when action is rendered and user clicks on custom actionIcon
     *
     */
    /**
     *
     * Only fired when action is rendered and user clicks on custom actionIcon
     *
     * @param {?} event
     * @return {?}
     */
    CardComponent.prototype.onActionClick = /**
     *
     * Only fired when action is rendered and user clicks on custom actionIcon
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (this.hasAction && (!this.selected || !this.selectable)) {
            this.onAction.emit(this.selected);
        }
    };
    /**
     * Triggered  when hover effect is on + user click on the card
     *
     */
    /**
     * Triggered  when hover effect is on + user click on the card
     *
     * @param {?} isEnter
     * @return {?}
     */
    CardComponent.prototype.onHover = /**
     * Triggered  when hover effect is on + user click on the card
     *
     * @param {?} isEnter
     * @return {?}
     */
    function (isEnter) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.hoverDiv)) {
            this.hoverDiv.nativeElement.style.opacity = isEnter ? 0.5 : 0;
        }
    };
    /**
     *
     * Used to decide if we should render implicit card template with our zones or
     * user provided template
     *
     */
    /**
     *
     * Used to decide if we should render implicit card template with our zones or
     * user provided template
     *
     * @return {?}
     */
    CardComponent.prototype.showBodyTemplate = /**
     *
     * Used to decide if we should render implicit card template with our zones or
     * user provided template
     *
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.bodyTemplate) && this.useBodyTemplate;
    };
    CardComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-card',
                    template: "<div class=\"w-card\" [style.width]=\"width\" [style.height]=\"height\"\n     [class.u-is-hover]=\"hasHover\"\n     (mouseenter)=\"onHover(true)\"\n     (mouseleave)=\"onHover(false)\"\n     [class.u-card-selected]=\"selected\"\n     [class.u-card-unselected]=\"!selected\"\n     [ngClass]=\"styleClass\"\n>\n\n    <div class=\"card-body ui-g\"  *ngIf=\"!showBodyTemplate()\">\n        <!-- Hover element that is triggered by mouseenter, mouseleave events-->\n        <div #hoverDiv *ngIf=\"hasHover\" class=\"u-card-hover\" (click)=\"onHoverAction.emit($event)\">\n            <span [style.width]=\"'100%'\" class=\"sap-icon\" [ngClass]=\"hoverIcon\"></span>\n        </div>\n        <!-- HEADER HAVING TITLE AND ICONS/ACTIONS-->\n        <div class=\"ui-g-12 ui-g-nopad w-card-header\">\n            <div class=\"w-card-ztitle ui-g-nopad\" (click)=\"toggleSelect($event)\"\n                 [class.u-card-pointer]=\"selectable\"\n                 [ngClass]=\"{'ui-g-9': hasAction || selectable, 'ui-g-11': !hasAction && !selectable}\">\n                <ng-content select=\"aw-card-title\"></ng-content>\n            </div>\n\n            <div *ngIf=\"hasAction || selectable\" class=\"w-card-zaction ui-g-nopad ui-g-3\">\n\n                <span *ngIf=\"selected && selectable\" class=\"sap-icon selection\"\n                      [class.u-card-pointer]=\"selectable\"\n                      [class.u-card-action-bg]=\"selected\"\n                      (click)=\"toggleSelect($event)\"\n                      [ngClass]=\"selectedIcon\"></span>\n\n\n                <span *ngIf=\"hasAction && (!selected || !selectable) \"\n                      class=\"sap-icon action\"\n                      [class.u-card-pointer]=\"true\"\n                      (click)=\"onActionClick($event)\"\n                      [ngClass]=\"actionIcon\"\n                ></span>\n            </div>\n        </div>\n\n        <!--TOP CARD SECTION-->\n        <div class=\"w-card-ztop ui-g-nopad ui-g-12 \"\n             (click)=\"toggleSelect($event)\"\n             [class.u-card-pointer]=\"selectable\">\n            <ng-content select=\"aw-card-top\"></ng-content>\n        </div>\n\n        <div class=\"ui-g-12 ui-g-nopad w-card-line-divider  \" *ngIf=\"showBottomSection()\"></div>\n        <!--BOTTOM CARD SECTION-->\n        <div *ngIf=\"showBottomSection()\" class=\"ui-g-12 ui-g-nopad w-card-zbottom\"\n             [class.u-card-pointer]=\"selectable\"\n             (click)=\"toggleSelect($event)\">\n            <ng-content select=\"aw-card-bottom\"></ng-content>\n        </div>\n    </div>\n\n    <div *ngIf=\"showBodyTemplate()\" class=\"w-card-user-cnt\" >\n        <ng-container *ngTemplateOutlet=\"bodyTemplate\">\n        </ng-container>\n    </div>\n\n</div>\n",
                    styles: [".w-card{border:2px solid #0076cb;display:inline-block;overflow:hidden;color:#636363;box-sizing:border-box}.w-card-header{position:relative;height:30px;padding-left:1em}.w-card-ztitle{height:100%;padding-top:3px}.w-card-ztitle ::ng-deep .w-card-title{height:100%;width:100%;display:flex}.w-card-ztitle ::ng-deep .w-card-title>*{flex:0 1}.w-card-zaction{height:100%;display:inline-block;text-align:right}.w-card-zaction .sap-icon{width:29px;height:29px;text-align:center;display:inline-block;font-size:1.5em;line-height:1.4em}.w-card-zaction .sap-icon.selection{color:#fff}.w-card-zaction .sap-icon.action{color:#969696}.w-card-zbottom,.w-card-ztop{padding:1em}.w-card-line-divider{border-top:1px solid #d6d6d6;margin:0 14px}.w-card-user-cnt{width:100%;height:100%;position:relative;background-color:#eee}.u-card-hover{position:absolute;height:100%;width:100%;opacity:0;transition:.5s;background-color:#0076cb;z-index:100}.u-card-hover .sap-icon{text-align:center;display:inline-block;font-size:4em;color:#fff;position:relative;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.u-card-action-bg{background:#0076cb}.u-is-hover{position:relative}.u-card-selected{border-color:#0076cb}.u-card-unselected{border-color:#d7d7d7}.u-card-hover,.u-card-pointer{cursor:pointer}"]
                }] }
    ];
    /** @nocollapse */
    CardComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    CardComponent.propDecorators = {
        hasAction: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        selectable: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        selectedIcon: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        actionIcon: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        hasHover: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        hoverIcon: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        selected: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onSelect: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onAction: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onHoverAction: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        bottom: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: [CardZoneBottomComponent,] }],
        bodyTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['body',] }],
        hoverDiv: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: ['hoverDiv',] }]
    };
    return CardComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 * Maps our internal alignment value to real css values
 *
  @type {?} */
var VAlignMap = {
    'top-left': 'flex-start',
    'top-center': 'flex-start',
    'top-right': 'flex-start',
    'center-left': 'center',
    'center-center': 'center',
    'center-right': 'center',
    'bottom-left': 'flex-end',
    'bottom-center': 'flex-end',
    'bottom-right': 'flex-end'
};
/** @type {?} */
var HAlignMap = {
    'top-left': 'flex-start',
    'top-center': 'center',
    'top-right': 'flex-end',
    'center-left': 'flex-start',
    'center-center': 'center',
    'center-right': 'flex-end',
    'bottom-left': 'flex-start',
    'bottom-center': 'center',
    'bottom-right': 'flex-end'
};
/**
 * Title zone provides a content placeholder for the Title Area. This zone is adding ability
 * to align its content into 9 different position.
 *
 * You can use this Title zone within <aw-card> as:
 *
 *
 * ```html
 *
 *  <aw-card  [width]="'202px'" [height]="'154px'" [hasHover]="true"
 *                       [selectable]="false" [hasAction]="false"
 *                  (onHoverAction)="onAction(7, $event)" >
 *
 *                  <aw-card-title [align]="'bottom-left'">
 *                      <span class="a-supplier-tag">
 *                          Preferred
 *                      </span>
 *                  </aw-card-title>
 *
 *   </aw-card>
 *
 * ```
 * Default alignment is top-left
 *
 *
 *
 *
 */
var CardZoneTitleComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(CardZoneTitleComponent, _super);
    function CardZoneTitleComponent(env, elem) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        _this.elem = elem;
        /**
         * Special property which is used to apply flex properties for aligning content vertically
         * as well as horizontally
         *
         */
        _this.align = 'top-left';
        return _this;
    }
    /**
     * @return {?}
     */
    CardZoneTitleComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        this.elem.nativeElement.style.alignItems = VAlignMap[this.align];
        this.elem.nativeElement.style.justifyContent = HAlignMap[this.align];
    };
    CardZoneTitleComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"], args: [{
                    selector: "aw-card-title",
                    host: {
                        'class': 'w-card-title'
                    }
                },] }
    ];
    /** @nocollapse */
    CardZoneTitleComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }
    ]; };
    CardZoneTitleComponent.propDecorators = {
        align: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return CardZoneTitleComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWCardModule = /** @class */ (function () {
    function AWCardModule() {
    }
    AWCardModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"]
                    ],
                    declarations: [
                        CardComponent,
                        CardZoneTitleComponent,
                        CardZoneTopComponent,
                        CardZoneBottomComponent
                    ],
                    entryComponents: [
                        CardComponent
                    ],
                    exports: [
                        CardComponent,
                        CardZoneTitleComponent,
                        CardZoneTopComponent,
                        CardZoneBottomComponent
                    ],
                    providers: []
                },] }
    ];
    return AWCardModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 *
 * Implements standard HTML checkbox on top of PrimeNG. There are 2 types of
 * {\@link CheckboxComponent}: form and action checkbox as described above.
 *
 *
 * Usage: Basic example having red checkbox checked
 *
 * ```HTML
 *        <aw-checkbox [name]="'color'" [value]="'red'" [label]="'Red'"
 *                                        [(ngModel)]="model">
 *        </aw-checkbox>
 *        <aw-checkbox [name]="'color'" [value]="'blue'" [label]="'Blue'"
 *                                        [(ngModel)]="model">
 *       </aw-checkbox>
 *
 * ```
 *
 * ```ts
 *
 *
 *   class CBBasicWithNgModelComponent
 *   {
 *
 *       model: string[] = ['red'];
 *
 *       constructor()
 *       {
 *       }
 *   }
 *
 * ```
 *
 * For more examples please see a playground or unit test.
 *
  @type {?} */
var CB_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return CheckboxComponent; }),
    multi: true
};
var CheckboxComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(CheckboxComponent, _super);
    function CheckboxComponent(env, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.parentContainer = parentContainer;
        /**
         *
         * A value associated with this checkbox
         *
         */
        _this.value = '';
        /**
         * Type of checkbox. Form based updates model and Action based only fires click events
         *
         */
        _this.type = 'form';
        /**
         * Trigger click event.
         *
         */
        _this.action = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * PrimeNG has this type called binary which works only with Boolean meaning it does not add or
         * remove values.
         *
         * In our case Checktype = Action is always binary or when this.value is boolean
         *
         */
        _this.isBinary = false;
        return _this;
    }
    /**
     * @return {?}
     */
    CheckboxComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.model = this.value;
        this.type = this.action.observers.length > 0 ? 'action' : this.type;
        if (this.isFormType()) {
            _super.prototype.ngOnInit.call(this);
            if (this.isStandalone) {
                _super.prototype.registerFormControl.call(this, this.value);
                this.model = this.formControl.value;
                this.onModelChanged(this.model);
            }
            else {
                // get control from parent
                this.formControl = /** @type {?} */ (this.formGroup.controls[this.name]);
            }
        }
        // When value is boolean we are dealing with PrimeNg Binary checkbox
        // which only sets TRUE/FALSE and does not add or remove values
        this.isBinary = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBoolean"])(this.value);
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    CheckboxComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        _super.prototype.ngOnChanges.call(this, changes);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(changes['value']) &&
            (changes['value'].currentValue !== changes['value'].previousValue)) {
            this.model = changes['value'].currentValue;
        }
    };
    /**
     * Called when Checkbox is clicked and it either fire action or updates the model.
     *
     */
    /**
     * Called when Checkbox is clicked and it either fire action or updates the model.
     *
     * @param {?} event
     * @return {?}
     */
    CheckboxComponent.prototype.onChange = /**
     * Called when Checkbox is clicked and it either fire action or updates the model.
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (this.isFormType()) {
            this.onModelChanged(this.model);
            if (this.isStandalone) {
                this.formControl.setValue(this.model);
            }
        }
        else {
            this.action.emit(event);
        }
    };
    /**
     *
     * Tell if we are using Form Checkbox. This is used remove some of the bindings that are not
     * applicable for certain type.
     *
     */
    /**
     *
     * Tell if we are using Form Checkbox. This is used remove some of the bindings that are not
     * applicable for certain type.
     *
     * @return {?}
     */
    CheckboxComponent.prototype.isFormType = /**
     *
     * Tell if we are using Form Checkbox. This is used remove some of the bindings that are not
     * applicable for certain type.
     *
     * @return {?}
     */
    function () {
        return this.type === 'form';
    };
    /**
     * Internal. Please see ControlValueAccessor
     *
     */
    /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    CheckboxComponent.prototype.writeValue = /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value !== this.model && this.isFormType()) {
            this.model = value;
            if (this.isStandalone) {
                this.onModelChanged(this.model);
                this.formControl.setValue(this.model);
            }
        }
    };
    CheckboxComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-checkbox',
                    template: "<span class=\"w-checkbox\">\n\n    <ng-template [ngIf]=\"editable && isFormType()\">\n        <p-checkbox [name]=\"name\" [value]=\"value\" [label]=\"label\"\n                    [(ngModel)]=\"model\"\n                    [binary]=\"isBinary\"\n                    (onChange)=\"onChange($event)\"\n                    [disabled]=\"disabled\"\n                    [class.u-validation-error]=\"!(formControl.valid || (formControl.pristine))\"\n        >\n        </p-checkbox>\n    </ng-template>\n\n\n    <ng-template [ngIf]=\"!isFormType()\">\n        <p-checkbox [binary]=\"isBinary\"\n                    [label]=\"label\"\n                    [(ngModel)]=\"model\"\n                    (onChange)=\"onChange($event)\"\n                    [disabled]=\"disabled\">\n        </p-checkbox>\n\n    </ng-template>\n</span>\n",
                    providers: [
                        CB_CONTROL_VALUE_ACCESSOR,
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return CheckboxComponent; }) }
                    ],
                    styles: ["/deep/ .ui-chkbox .ui-chkbox-box{width:22px;height:22px}/deep/ .ui-chkbox .pi{font-family:\"SAP icon fonts\";color:#199de0;cursor:pointer;font-size:1.07em;line-height:1.42em}/deep/ .ui-chkbox .pi.pi-check:before{content:'\\e05b'}"]
                }] }
    ];
    /** @nocollapse */
    CheckboxComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return BaseFormComponent; }),] }] }
    ]; };
    CheckboxComponent.propDecorators = {
        value: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        type: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        label: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        action: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }]
    };
    return CheckboxComponent;
}(BaseFormComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWCheckBoxModule = /** @class */ (function () {
    function AWCheckBoxModule() {
    }
    AWCheckBoxModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        CheckboxComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CheckboxModule"]
                    ],
                    entryComponents: [
                        CheckboxComponent
                    ],
                    exports: [
                        CheckboxComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"]
                    ],
                    providers: []
                },] }
    ];
    return AWCheckBoxModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 *  Checkbox list is a wrapper class around 'Checkbox' component to simply assembly of multi choice
 * component
 *
 * In Addition it adds ability to work with complex object. PrimeNG checkboxes work only with
 * primitive values.
 *
 * @see {\@link check-box/check-box.component.ts}
 *
 *
 * ### Example
 *
 *
 * \@Component({
 *       selector: 'showCheckBoxList' ,
 *       template: `
 *           <aw-checkbox-list [list]="checkBoxListValues" [selections]="selectedValues"
 *
 *            [name]="'myColors'" [formGroup]="formGroup" (onSelection)="onCBClick">
 *           </aw-checkbox-list>
 *       `
 *
 *       })
 *        class MyShowCLComponent
 *        {
 *            checkBoxListValues: string[] = ['blue' , 'red' , 'yellow' , 'orange' , 'white' ,
 *     'silver' , 'black' ,
 *            'Green' , 'Gray' , 'Navy' , 'Olive' , 'Aqua' , 'Purple'];
 *
 *            selectedValues: string[] = ['blue' , 'Olive' , 'Aqua' , 'Purple'];
 *
 *
 *            formGroup: FormGroup = new FormGroup({});
 *
 *
 *            onCBClick (event): void
 *            {
 *                console.log('onCBClick = ' + event);
 *            }
 *
 *        }
 * *
  @type {?} */
var CB_LIST_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return CheckBoxListComponent; }),
    multi: true
};
var CheckBoxListComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(CheckBoxListComponent, _super);
    function CheckBoxListComponent(env, cd, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.cd = cd;
        _this.parentContainer = parentContainer;
        /**
         * Fires event when checkbox is selected/clicked. Emits current clicked checkboxed. not the
         * actuall internal model value in this case array of choices
         *
         */
        _this.onSelection = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Internal model
         */
        _this.model = [];
        return _this;
    }
    /**
     * @return {?}
     */
    CheckBoxListComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.selections)) {
            this.selections = [];
        }
        this.registerFormControl(this.selections);
        this.updateModel(this.selections);
        this.onModelChanged(this.selections);
    };
    /**
     * @return {?}
     */
    CheckBoxListComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var updatedModel = [];
        this.model.forEach(function (index) { return updatedModel.push(_this.list[index]); });
        this.formControl.setValue(updatedModel, {
            emitEvent: true,
            emitViewToModelChange: false
        });
        this.cd.detectChanges();
    };
    /**
     * Label is extracted into this method so in the future we can play more how we want to display
     * the value. Since I want to support formatters for each components we might have a chance to
     * decide how label will look like.
     *
     */
    /**
     * Label is extracted into this method so in the future we can play more how we want to display
     * the value. Since I want to support formatters for each components we might have a chance to
     * decide how label will look like.
     *
     * @param {?} item
     * @return {?}
     */
    CheckBoxListComponent.prototype.labelValue = /**
     * Label is extracted into this method so in the future we can play more how we want to display
     * the value. Since I want to support formatters for each components we might have a chance to
     * decide how label will look like.
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.labelFormatter)) {
            return this.labelFormatter(item);
        }
        return item.toString();
    };
    /**
     * In this version of checkboxes we still expect only primitive types. Keep this functionality
     * in extra method so we can work with it even now we just return the same value back
     */
    /**
     * In this version of checkboxes we still expect only primitive types. Keep this functionality
     * in extra method so we can work with it even now we just return the same value back
     * @param {?} item
     * @return {?}
     */
    CheckBoxListComponent.prototype.value = /**
     * In this version of checkboxes we still expect only primitive types. Keep this functionality
     * in extra method so we can work with it even now we just return the same value back
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return item;
    };
    /**
     * Delegate event outside of this component and convert indexed model to original objects
     *
     */
    /**
     * Delegate event outside of this component and convert indexed model to original objects
     *
     * @param {?} event
     * @return {?}
     */
    CheckBoxListComponent.prototype.onChange = /**
     * Delegate event outside of this component and convert indexed model to original objects
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        var _this = this;
        /** @type {?} */
        var updatedModel = [];
        this.model.forEach(function (index) {
            updatedModel.push(_this.list[index]);
        });
        this.onSelection.emit(updatedModel);
        this.onModelChanged(updatedModel);
        this.formControl.setValue(updatedModel, {
            emitEvent: true,
            emitViewToModelChange: false
        });
    };
    /**
     * Since we might be dealing with complex object store only INDEXes number in the model.
     *
     */
    /**
     * Since we might be dealing with complex object store only INDEXes number in the model.
     *
     * @param {?} sourceList
     * @return {?}
     */
    CheckBoxListComponent.prototype.updateModel = /**
     * Since we might be dealing with complex object store only INDEXes number in the model.
     *
     * @param {?} sourceList
     * @return {?}
     */
    function (sourceList) {
        var _this = this;
        sourceList.forEach(function (item) {
            /** @type {?} */
            var index = _this.list.findIndex(function (elem) {
                return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["equals"])(item, elem);
            });
            _this.model.push(index);
        });
    };
    /**
     * Internal. Please see ControlValueAccessor
     *
     */
    /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    CheckBoxListComponent.prototype.writeValue = /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.model) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value)) {
            /** @type {?} */
            var newModel = value;
            this.updateModel(newModel);
            // this.cd.markForCheck();
        }
    };
    CheckBoxListComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-checkbox-list',
                    template: "<div *ngFor=\"let item of list; let i = index\" class=\"ui-g\">\n\n    <!-- in the future we should be able to to support inline and stack-->\n    <div class=\"ui-g-12\">\n        <aw-checkbox [(ngModel)]=\"model\"\n                     (ngModelChange)=\"onChange($event)\"\n                     [editable]=\"editable\"\n                     [isStandalone]=\"false\"\n                     [name]=\"name\"\n                     [value]=\"i\"\n                     [label]=\"labelValue(item)\">\n\n        </aw-checkbox>\n    </div>\n\n</div>\n\n",
                    providers: [
                        CB_LIST_CONTROL_VALUE_ACCESSOR,
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return CheckBoxListComponent; }) }
                    ],
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    CheckBoxListComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return FormRowComponent; }),] }] }
    ]; };
    CheckBoxListComponent.propDecorators = {
        list: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        selections: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onSelection: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        labelFormatter: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return CheckBoxListComponent;
}(BaseFormComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWCheckBoxListModule = /** @class */ (function () {
    function AWCheckBoxListModule() {
    }
    AWCheckBoxListModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        CheckBoxListComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        AWCheckBoxModule
                    ],
                    exports: [
                        CheckBoxListComponent
                    ],
                    providers: []
                },] }
    ];
    return AWCheckBoxListModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Hyperlink component that implements consistent styling, behavior. Hyperlink supports all of the
 * native link functionality. In addition, it supports navigation to components through the action
 * binding.
 *
 *
 * for more info please see class Doc of the:
 * @see {\@link button/button.component.ts}
 *
 *  ### Example
 *  ```
 *
 * \@Component({
 *    selector: 'registration' ,
 *    template: `
 *
 *           <aw-hyperlink  [type]="'text/html'" [name]="'link'"
 *                        (action)="onClicked($event)" [value]="customerId"
 *                        [size]="'large'" >my link</aw-hyperlink>
 *
 *    `
 *    })
 *    export class MyComponent
 *    {
 *        command:boolean;
 *
 *        constructor ()
 *        {
 *        }
 *
 *        onClicked(customerId:string) {
 *           if (customerId) {
 *              // display customer details component.
 *           }
 *        }
 *    }
 */
var HyperlinkComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(HyperlinkComponent, _super);
    function HyperlinkComponent(env) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        /**
         * sizing for this link. [large, normal, small].
         */
        _this.size = 'normal';
        /**
         * Event fired when user select a item
         */
        _this.action = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Internal CSS class that styles this hyperlink based on input 'size'
         */
        _this.linkClass = 'link';
        return _this;
    }
    /**
     * @return {?}
     */
    HyperlinkComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        // Determine the link class based on input size.
        if (this.size) {
            switch (this.size) {
                case 'large':
                    this.linkClass += ' link-lg';
                    break;
                case 'normal':
                    this.linkClass += ' link-mid';
                    break;
                case 'small':
                    this.linkClass += ' link-sm';
                    break;
            }
        }
        // If I have an action tag, and no href. We add default styling and behavior.
        if (this.action.observers.length > 0) {
            this.linkClass += ' link-bh';
        }
    };
    /**
     *  Action clicked. Call parent action.
     */
    /**
     *  Action clicked. Call parent action.
     * @param {?} event
     * @return {?}
     */
    HyperlinkComponent.prototype.clicked = /**
     *  Action clicked. Call parent action.
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.action.emit({
            event: event,
            value: this.value
        });
    };
    HyperlinkComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-hyperlink',
                    template: "<a [attr.type]=\"type\"\n   [attr.href]=\"href\"\n   [attr.rel]=\"rel\"\n   [attr.target]=\"target\"\n   [ngClass]=\"linkClass\"\n   [class.disabled]=\"disabled\"\n   (click)=\"clicked($event)\">\n\n    <ng-content></ng-content>\n</a>\n",
                    styles: [".link{color:#0275d8;cursor:pointer}.link.link-bh{color:#0275d8}.link.link-bh:hover{text-decoration:underline;cursor:pointer}.link-sm{font-size:.875em}.link-mid{font-size:1em}.link-lg{font-size:1.25em}.link.disabled{pointer-events:none;cursor:default;color:#ddd}"]
                }] }
    ];
    /** @nocollapse */
    HyperlinkComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    HyperlinkComponent.propDecorators = {
        type: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        href: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        rel: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        size: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        target: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        value: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        action: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }]
    };
    return HyperlinkComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWHyperlinkModule = /** @class */ (function () {
    function AWHyperlinkModule() {
    }
    AWHyperlinkModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        HyperlinkComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"]
                    ],
                    entryComponents: [
                        HyperlinkComponent
                    ],
                    exports: [
                        HyperlinkComponent
                    ],
                    providers: []
                },] }
    ];
    return AWHyperlinkModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Selection State for the chooser in order to be able to comunicate with the parent object using a
 * chooser. If I would have to manage only single values with no addional methods i would user
 * emitters to do the job, but in this case we need this interface (abstract class) between a
 * chooser and actual object.
 *
 *
 * @abstract
 */
var  /**
 * Selection State for the chooser in order to be able to comunicate with the parent object using a
 * chooser. If I would have to manage only single values with no addional methods i would user
 * emitters to do the job, but in this case we need this interface (abstract class) between a
 * chooser and actual object.
 *
 *
 * @abstract
 */
ChooserSelectionState = /** @class */ (function () {
    function ChooserSelectionState() {
    }
    /**
     *
     * Set selection state is usually triggered by selecting and unselecting a item (in case of
     * multiselect) and it should update its list of objects with either settings/adding item or
     * removing it.
     *
     *
     */
    /**
     *
     * Set selection state is usually triggered by selecting and unselecting a item (in case of
     * multiselect) and it should update its list of objects with either settings/adding item or
     * removing it.
     *
     *
     * @param {?} selection
     * @param {?} selected
     * @return {?}
     */
    ChooserSelectionState.prototype.setSelectionState = /**
     *
     * Set selection state is usually triggered by selecting and unselecting a item (in case of
     * multiselect) and it should update its list of objects with either settings/adding item or
     * removing it.
     *
     *
     * @param {?} selection
     * @param {?} selected
     * @return {?}
     */
    function (selection, selected) {
    };
    /**
     * The most recent selection . Null if last action was a deselection. Usually used by Chooser
     * or ChooserState to get cuurent value.
     *
     */
    /**
     * The most recent selection . Null if last action was a deselection. Usually used by Chooser
     * or ChooserState to get cuurent value.
     *
     * @return {?}
     */
    ChooserSelectionState.prototype.selectedObject = /**
     * The most recent selection . Null if last action was a deselection. Usually used by Chooser
     * or ChooserState to get cuurent value.
     *
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["unimplemented"])();
    };
    /**
     * The most recent selections.
     *
     */
    /**
     * The most recent selections.
     *
     * @return {?}
     */
    ChooserSelectionState.prototype.selectedObjects = /**
     * The most recent selections.
     *
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["unimplemented"])();
    };
    /**
     *
     * Check if the item selection items is in the selectedObjects
     */
    /**
     *
     * Check if the item selection items is in the selectedObjects
     * @param {?} selection
     * @return {?}
     */
    ChooserSelectionState.prototype.isSelected = /**
     *
     * Check if the item selection items is in the selectedObjects
     * @param {?} selection
     * @return {?}
     */
    function (selection) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["unimplemented"])();
    };
    return ChooserSelectionState;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * ChooserState manages complete lifecycle for the Chooser Component. It keeps track of current
 * selection as well as it can broadcast any updates.
 *
 *
 */
var  /**
 * ChooserState manages complete lifecycle for the Chooser Component. It keeps track of current
 * selection as well as it can broadcast any updates.
 *
 *
 */
ChooserState = /** @class */ (function () {
    function ChooserState(chooserSelectionState, isMulti) {
        if (isMulti === void 0) { isMulti = true; }
        /**
         * Indicates if there are any validation like entered value does not much with the source list.
         *
         */
        this.isInvalid = false;
        /**
         *
         * indicates that we started to some editing e.g. starting to type in something into the
         * filter, or removing already selected items
         */
        this.addMode = false;
        this.recentSelectedDisplayed = 0;
        /**
         * When this option is active we do not show all selected items, but max number that is
         * defined. User is able to toggle to expand the view to see all selections and hide them as
         * well
         */
        this.showAllRecentlySelected = false;
        this.selectionState = chooserSelectionState;
        this.multiselect = isMulti;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.selectionState)) {
            this.selectionState = new DefaultSelectionState(this.multiselect);
        }
    }
    /**
     *
     * It will select and persist an item using ChooserSelectionState provider.
     *
     */
    /**
     *
     * It will select and persist an item using ChooserSelectionState provider.
     *
     * @param {?} item
     * @return {?}
     */
    ChooserState.prototype.updatedSelectedObjects = /**
     *
     * It will select and persist an item using ChooserSelectionState provider.
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(item)) {
            item = this.currentItem;
        }
        if (!this.multiselect) {
            this.setSelectionState(item, true);
        }
        else {
            /** @type {?} */
            var selectedObject = this.selectedObject();
            /** @type {?} */
            var selectedObjects = this.selectedObjects();
            if (this.addMode) {
                if (this.isInvalid) {
                    if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(selectedObject)) {
                        this.setSelectionState(selectedObject, false);
                    }
                }
                this.setSelectionState(item, !_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].containsComplex(selectedObjects, item));
            }
            else {
                if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(selectedObject)) {
                    this.setSelectionState(selectedObject, false);
                }
                this.setSelectionState(item, true);
            }
        }
    };
    /**
     * When user selection is large we use this method to check if we need to show all selected
     * items or only MaxRecentSelected
     */
    /**
     * When user selection is large we use this method to check if we need to show all selected
     * items or only MaxRecentSelected
     * @return {?}
     */
    ChooserState.prototype.toggleAllSelected = /**
     * When user selection is large we use this method to check if we need to show all selected
     * items or only MaxRecentSelected
     * @return {?}
     */
    function () {
        this.showAllRecentlySelected = !this.showAllRecentlySelected;
    };
    Object.defineProperty(ChooserState.prototype, "recentSelectedObjects", {
        /**
         *
         * Renders user's selection under the input field
         *
         */
        get: /**
         *
         * Renders user's selection under the input field
         *
         * @return {?}
         */
        function () {
            if (!this.multiselect) {
                return [];
            }
            /** @type {?} */
            var recentSelectedObjects = [];
            this.recentSelectedDisplayed = 0;
            /** @type {?} */
            var selectedObjects = this.selectedObjects();
            /** @type {?} */
            var size = selectedObjects.length;
            /** @type {?} */
            var maxCount = DataSource.MaxRecentSelected;
            if (size > DataSource.MaxRecentSelected && !this.showAllRecentlySelected) {
                maxCount -= 1;
            }
            if (this.showAllRecentlySelected) {
                maxCount = size;
            }
            for (var i = size - 1; i >= 0 && (this.recentSelectedDisplayed < maxCount); i--) {
                /** @type {?} */
                var selection = selectedObjects[i];
                recentSelectedObjects.push(selection);
                this.recentSelectedDisplayed++;
            }
            return recentSelectedObjects;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    ChooserState.prototype.selectedObject = /**
     * @return {?}
     */
    function () {
        return this.selectionState.selectedObject();
    };
    /**
     * @return {?}
     */
    ChooserState.prototype.selectedObjects = /**
     * @return {?}
     */
    function () {
        return this.selectionState.selectedObjects();
    };
    /**
     * @param {?} selection
     * @param {?} selected
     * @return {?}
     */
    ChooserState.prototype.setSelectionState = /**
     * @param {?} selection
     * @param {?} selected
     * @return {?}
     */
    function (selection, selected) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(selection)) {
            this.selectionState.setSelectionState(selection, selected);
        }
    };
    return ChooserState;
}());
/**
 * Dummy implementation ChooserSelectionState
 */
var  /**
 * Dummy implementation ChooserSelectionState
 */
DefaultSelectionState = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(DefaultSelectionState, _super);
    function DefaultSelectionState(multiSelect) {
        var _this = _super.call(this) || this;
        _this.multiSelect = multiSelect;
        return _this;
    }
    /**
     * @param {?} selection
     * @param {?} selected
     * @return {?}
     */
    DefaultSelectionState.prototype.setSelectionState = /**
     * @param {?} selection
     * @param {?} selected
     * @return {?}
     */
    function (selection, selected) {
        if (selected) {
            this._selectedObject = selection;
            if (this.multiSelect && !_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].containsComplex(this.selectedObjects(), selection)) {
                this.selectedObjects().push(selection);
            }
        }
        else {
            if (this.multiSelect) {
                _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].removeIfExist(this.selectedObjects(), selection);
            }
        }
    };
    /**
     * @return {?}
     */
    DefaultSelectionState.prototype.selectedObject = /**
     * @return {?}
     */
    function () {
        return this._selectedObject;
    };
    /**
     * @return {?}
     */
    DefaultSelectionState.prototype.selectedObjects = /**
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._selectedObjects)) {
            this._selectedObjects = [];
        }
        return this._selectedObjects;
    };
    /**
     * @param {?} selection
     * @return {?}
     */
    DefaultSelectionState.prototype.isSelected = /**
     * @param {?} selection
     * @return {?}
     */
    function (selection) {
        return _super.prototype.isSelected.call(this, selection);
    };
    return DefaultSelectionState;
}(ChooserSelectionState));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Concrete DataSource implementation for the Chooser component. There are two ways how to use it:
 *
 * 1) You can use default DataSource injected inside component constructor and just call
 * initialize to configure it with correct DataProvider and DataFinder:
 *
 *
 * ```
 *   this.dataSource.init({
 *               obj: this.list,
 *               queryType: QueryType.FullText,
 *               state: null,
 *               multiselect: this.multiselect
 *           });
 *
 * ```
 *
 * and then you can use it to simply retrieve data or run queries.
 *
 * 2) You will instantiate your own DataSource and pass it into the component using [dataSource]
 * binding
 *
 * ```
 *
 *   this.ds = new ChooserDataSource(this.data, this.finders);
 *   this.ds.init({
 *               obj: this.list,
 *               queryType: QueryType.FullText,
 *               state: null,
 *               multiselect: this.multiselect
 *           });
 *
 * ```
 *
 *
 */
var  /**
 * Concrete DataSource implementation for the Chooser component. There are two ways how to use it:
 *
 * 1) You can use default DataSource injected inside component constructor and just call
 * initialize to configure it with correct DataProvider and DataFinder:
 *
 *
 * ```
 *   this.dataSource.init({
 *               obj: this.list,
 *               queryType: QueryType.FullText,
 *               state: null,
 *               multiselect: this.multiselect
 *           });
 *
 * ```
 *
 * and then you can use it to simply retrieve data or run queries.
 *
 * 2) You will instantiate your own DataSource and pass it into the component using [dataSource]
 * binding
 *
 * ```
 *
 *   this.ds = new ChooserDataSource(this.data, this.finders);
 *   this.ds.init({
 *               obj: this.list,
 *               queryType: QueryType.FullText,
 *               state: null,
 *               multiselect: this.multiselect
 *           });
 *
 * ```
 *
 *
 */
ChooserDataSource = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(ChooserDataSource, _super);
    function ChooserDataSource(dataProviders, finders) {
        var _this = _super.call(this, dataProviders, finders) || this;
        _this.dataProviders = dataProviders;
        _this.finders = finders;
        return _this;
    }
    /**
     * To initialize this DataSource with current DataFinder and Provider as well as state we use
     * an interface DSChooserInitParams to have all init values typed checked
     *
     *
     */
    /**
     * To initialize this DataSource with current DataFinder and Provider as well as state we use
     * an interface DSChooserInitParams to have all init values typed checked
     *
     *
     * @param {...?} args
     * @return {?}
     */
    ChooserDataSource.prototype.init = /**
     * To initialize this DataSource with current DataFinder and Provider as well as state we use
     * an interface DSChooserInitParams to have all init values typed checked
     *
     *
     * @param {...?} args
     * @return {?}
     */
    function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(args) || args.length !== 1 && !isDSChooserInitParams(args[0])) {
            throw new Error('You need to initialize DS with (DSChooserInitParams)');
        }
        /** @type {?} */
        var init = args[0];
        this.dataProvider = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(init.dataProvider) ? init.dataProvider
            : this.dataProviders.find(init.obj);
        this.dataFinder = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(init.dataFinder) ? init.dataFinder
            : this.finders.find(this.dataProvider, init.queryType);
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dataProvider) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dataFinder), 'DataSource incorrectly initialized. (DataProvider, DataFinder) missing. ');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(init.state)) {
            this.state = init.state;
        }
        else {
            this.state = new ChooserState(null, init.multiselect);
        }
        this.dataFinder.lookupKey = init.lookupKey;
        this.state.lookupKey = init.lookupKey;
    };
    /**
     * @param {?} pattern
     * @param {?} max
     * @return {?}
     */
    ChooserDataSource.prototype.find = /**
     * @param {?} pattern
     * @param {?} max
     * @return {?}
     */
    function (pattern, max) {
        var _this = this;
        this.state.pattern = pattern;
        this.state.lastFullMatchPattern = pattern;
        if (pattern.length === 0) {
            return;
        }
        if (pattern === '*') {
            // query everything
            pattern = '';
        }
        /** @type {?} */
        var origKey = this.dataFinder.lookupKey;
        this.dataFinder.lookupKey = this.state.lookupKey;
        this.dataFinder.forData(this.dataProvider).match(pattern, max)
            .subscribe(function (result) {
            _this.state.matches = result;
            if (_this.state.multiselect) {
                for (var i = 0; i < _this.state.selectedObjects().length; i++) {
                    /** @type {?} */
                    var item = _this.state.selectedObjects()[i];
                    _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].removeIfExist(_this.state.matches, item);
                }
            }
            _this.dataFinder.lookupKey = origKey;
        });
    };
    /**
     *
     * When multiselect this method checks if we need to show SHOW MORE label under the selected
     * items. We do not want show e.g. 50 selection under the chooser that would take up whole
     * page.
     *
     */
    /**
     *
     * When multiselect this method checks if we need to show SHOW MORE label under the selected
     * items. We do not want show e.g. 50 selection under the chooser that would take up whole
     * page.
     *
     * @return {?}
     */
    ChooserDataSource.prototype.showMoreSelected = /**
     *
     * When multiselect this method checks if we need to show SHOW MORE label under the selected
     * items. We do not want show e.g. 50 selection under the chooser that would take up whole
     * page.
     *
     * @return {?}
     */
    function () {
        return this.state.selectedObjects().length >= DataSource.MaxRecentSelected;
    };
    /**
     * @template T
     * @return {?}
     */
    ChooserDataSource.prototype.open = /**
     * @template T
     * @return {?}
     */
    function () {
        return this.dataProvider.dataChanges.asObservable();
    };
    /**
     * @return {?}
     */
    ChooserDataSource.prototype.close = /**
     * @return {?}
     */
    function () {
        this.dataProvider = null;
        this.dataFinder = null;
        this.state = null;
    };
    /**
     * @template T
     * @return {?}
     */
    ChooserDataSource.prototype.instant = /**
     * @template T
     * @return {?}
     */
    function () {
        return this.dataProvider.data();
    };
    /**
     * @param {?} value
     * @return {?}
     */
    ChooserDataSource.prototype.updateValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        var _this = this;
        this.state.addMode = true;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(value)) {
            /** @type {?} */
            var items = value;
            items.forEach(function (item) { return _this.state.updatedSelectedObjects(item); });
        }
        else {
            this.state.updatedSelectedObjects(value);
        }
        this.state.addMode = false;
    };
    Object.defineProperty(ChooserDataSource.prototype, "lookupKey", {
        get: /**
         * @return {?}
         */
        function () {
            return this.dataFinder.lookupKey;
        },
        enumerable: true,
        configurable: true
    });
    return ChooserDataSource;
}(DataSource));
/**
 * @param {?} init
 * @return {?}
 */
function isDSChooserInitParams(init) {
    return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(init.obj) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(init.queryType);
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 * Typeahead chooser that supports both single and multi-select. Not like Dropdown, this chooser
 * requires little bit different setup. It requires at minimum \@Input dataSource or
 * destinationClass
 *
 *
 * By default chooser is multi-select. If you want single select then you must provide multi-select
 * with \@Input.
 *
 * ### Example
 *
 * In simple scenario you can use Chooser like so:
 *
 *
 * ```
 * \@Component({
 *      selector: 'chooser-app' ,
 *      template: `<aw-chooser  [formGroup]="formGroup" name="color"'
 *                      [dataSource]="ds"></aw-chooser>`
 *  })
 *  export class MyChooserApp
 *  {
 *
 *      ds: ChooserDataSource;
 *
 *     constructor(private data: DataProviders, private finders: DataFinders){
 *          this.ds = new ChooserDataSource(this.data, this.finders);
 *
 *       this.ds.init({
 *           obj: ['blue', 'red', 'yellow'], queryType: QueryType.FullText, state: null,
 *            multiselect: true
 *       });
 *
 *     }
 *  }
 *
 * ````
 *  Above example will use provided dataSource and render multi-select chooser. With default
 *  implementation  selected values will appear as a tags under the input box
 *
 *
 *
 * * ### Example
 *
 *  In this example we provide custom template to change the way how chooser's MenuItem are
 *     rendered as well as template for the selection item looks like
 *
 * ```
 * \@Component({
 *      selector: 'chooser-app' ,
 *      template: `<aw-chooser  name="commodity"' [dataSource]="ds">
 *
 *          <ng-template #menuItem let-item>
 *             	<span>
 *             		<i class="fa fa-envira " ></i>
 *             		{{item}}
 *             	</span>
 *
 *          </ng-template>
 *
 *          <ng-template #selectionItem let-item>
 *             	<span class="tag tag-circle">
 *             		item: {{item }}
 *             		<i class="fa fa-close" (click)="chooser.removeValue(item)"></i>
 *             	</span>
 *
 *
 *          </ng-template>
 *
 *
 *          </aw-chooser>
 *      `
 *      style: [`
 *              .tag-circle {
 *              	border-radius: 6rem;
 *              	height: 7rem;
 *              	color: #e8eef1;
 *              	background-color: rgba(53, 56, 58, 0.67);
 *              	line-height: 6rem;
 *              }
 *      `]
 *  })
 *
 * ````
 *
 *  In above example we change how the chooser's menu item look like as well as we define custom
 *     template for selection item to turn all selection to circles with text in the middle.
 *
 *
 *
  @type {?} */
var CHOOSER_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return ChooserComponent; }),
    multi: true
};
var ChooserComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(ChooserComponent, _super);
    function ChooserComponent(env, elemementRef, _defaultDS, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.elemementRef = elemementRef;
        _this._defaultDS = _defaultDS;
        _this.parentContainer = parentContainer;
        /**
         * Max number of items return at single Match so we do not return 1000 items at single time.
         *
         */
        _this.maxLength = 10;
        /**
         * Max number of items return at single Match so we do not return 1000 items at single time.
         *
         */
        _this.minLenForSearch = 1;
        /**
         * Is this multiselect
         *
         */
        _this.multiselect = true;
        _this.delay = 300;
        /**
         * Event fired when user select a item
         */
        _this.onSelection = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(_this.placeHolder)) {
            // this.placeHolder = i18n.instant('Widgets.chooser.placeHolder');
            // this.placeHolder = i18n.instant('Widgets.chooser.placeHolder');
            _this.placeHolder = 'Search';
        }
        // this.hideLink = i18n.instant('Widgets.chooser.hideSelection');
        // this.hideLink = i18n.instant('Widgets.chooser.hideSelection');
        _this.hideLink = 'Hide';
        return _this;
    }
    /**
     * @return {?}
     */
    ChooserComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.dataSource)) {
            this.dataSource = this._defaultDS;
            this.initDatasource();
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.formControl) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.formControl.value)) {
            this.dataSource.updateValue(this.formControl.value);
        }
        this.initInternalModel();
        if (this.isStandalone) {
            _super.prototype.registerFormControl.call(this, this.internalChooserModel);
        }
        else {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.name)) {
                this.formControl = /** @type {?} */ (this.formGroup.controls[this.name]);
            }
        }
    };
    /**
     * Add Search icon in case of multiselect.
     * todo: Once PrimeNG will provide a template to override default behavior remove it
     *
     */
    /**
     * Add Search icon in case of multiselect.
     * todo: Once PrimeNG will provide a template to override default behavior remove it
     *
     * @return {?}
     */
    ChooserComponent.prototype.ngAfterViewInit = /**
     * Add Search icon in case of multiselect.
     * todo: Once PrimeNG will provide a template to override default behavior remove it
     *
     * @return {?}
     */
    function () {
        if (!this.dataSource.state.multiselect) {
            return;
        }
        /** @type {?} */
        var searchInput = this.elemementRef.nativeElement.querySelector('.ui-autocomplete-input-token');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(searchInput)) {
            /** @type {?} */
            var iconElement = document.createElement('span');
            iconElement.className = 'search-icon-right fa fa-fw fa-search';
            searchInput.appendChild(iconElement);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.selectionAppendTo) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.selectionViewElem)) {
            /** @type {?} */
            var parentElem = this.selectionAppendTo instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] ?
                this.selectionAppendTo.nativeElement : this.selectionAppendTo;
            parentElem.appendChild(this.selectionViewElem.nativeElement);
        }
    };
    /**
     * Need to change current behavior since we want to show selection under the chooser. K
     *
     */
    /**
     * Need to change current behavior since we want to show selection under the chooser. K
     *
     * @return {?}
     */
    ChooserComponent.prototype.ngAfterViewChecked = /**
     * Need to change current behavior since we want to show selection under the chooser. K
     *
     * @return {?}
     */
    function () {
        if (!this.dataSource.state.multiselect) {
            return;
        }
        /** @type {?} */
        var tokens = this.elemementRef.nativeElement.querySelectorAll('.ui-autocomplete .ui-autocomplete-token');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(tokens) && tokens.length > 0) {
            tokens.forEach(function (item) {
                item.remove();
            });
        }
    };
    /**
     *
     * When value is entered into search box, we ask our DataSource to match this pattern
     * against data repository. It will retrieve all possible matches limited by MaxLen and this
     * is again filtered so it does not include already selected items.
     *
     *  the matched resulted is saved in the: this.dataSource.state.matches
     */
    /**
     *
     * When value is entered into search box, we ask our DataSource to match this pattern
     * against data repository. It will retrieve all possible matches limited by MaxLen and this
     * is again filtered so it does not include already selected items.
     *
     *  the matched resulted is saved in the: this.dataSource.state.matches
     * @param {?} pattern
     * @return {?}
     */
    ChooserComponent.prototype.match = /**
     *
     * When value is entered into search box, we ask our DataSource to match this pattern
     * against data repository. It will retrieve all possible matches limited by MaxLen and this
     * is again filtered so it does not include already selected items.
     *
     *  the matched resulted is saved in the: this.dataSource.state.matches
     * @param {?} pattern
     * @return {?}
     */
    function (pattern) {
        /** @type {?} */
        var maxLen = this.maxLength ? this.maxLength : ChooserDataSource.MaxLength;
        this.dataSource.find(pattern, maxLen);
        // fix: for tests: In version 4 we need to explicitly focus input otherwise autocomplete
        // doesn't give us any popup panel
        if (this.env.inTest && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.autoCompleteComponent)) {
            this.autoCompleteComponent.focusInput();
        }
    };
    /**
     *
     * Invoked by Dropdown button in case of single select and here we want to invoke match
     * to retrieve all suggestions without any filter
     *
     */
    /**
     *
     * Invoked by Dropdown button in case of single select and here we want to invoke match
     * to retrieve all suggestions without any filter
     *
     * @param {?} event
     * @return {?}
     */
    ChooserComponent.prototype.onDropdownClick = /**
     *
     * Invoked by Dropdown button in case of single select and here we want to invoke match
     * to retrieve all suggestions without any filter
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        var _this = this;
        this.match('*');
        setTimeout(function () {
            _this.match('*');
        }, 100);
    };
    /**
     *
     * Chooser state is updated  with user selection. Please see writeValue. When do not need
     * call anything additional as internalChooserModel and this.chooserState.selectedObjects()
     * shares the same references so its important that we first save reference to
     * this.chooserState.selectedObjects() and then back to internalChooserModel
     *
     */
    /**
     *
     * Chooser state is updated  with user selection. Please see writeValue. When do not need
     * call anything additional as internalChooserModel and this.chooserState.selectedObjects()
     * shares the same references so its important that we first save reference to
     * this.chooserState.selectedObjects() and then back to internalChooserModel
     *
     * @param {?} item
     * @return {?}
     */
    ChooserComponent.prototype.selectItem = /**
     *
     * Chooser state is updated  with user selection. Please see writeValue. When do not need
     * call anything additional as internalChooserModel and this.chooserState.selectedObjects()
     * shares the same references so its important that we first save reference to
     * this.chooserState.selectedObjects() and then back to internalChooserModel
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        this.onSelection.emit(this.internalChooserModel);
        this.formControl.setValue(this.internalChooserModel, { emitEvent: true });
        this.formControl.markAsDirty({ onlySelf: true });
        this.dataSource.state.addMode = true;
        this.onModelChanged(this.internalChooserModel);
        this.dataSource.state.updatedSelectedObjects(item);
        this.dataSource.state.addMode = true;
        if (!this.dataSource.state.multiselect) {
            this.autoCompleteComponent.inputEL.nativeElement.value =
                this.displayItem(this.internalChooserModel);
        }
    };
    /**
     *
     * Unselect item
     *
     */
    /**
     *
     * Unselect item
     *
     * @param {?} item
     * @return {?}
     */
    ChooserComponent.prototype.removeValue = /**
     *
     * Unselect item
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        this.dataSource.state.addMode = true;
        this.dataSource.state.updatedSelectedObjects(item);
        this.dataSource.state.addMode = false;
        this.internalChooserModel = this.dataSource.state.selectedObjects();
        this.onSelection.emit(this.internalChooserModel);
        this.formControl.setValue(this.internalChooserModel, { emitEvent: true });
        this.formControl.markAsDirty({ onlySelf: true });
        this.onModelChanged(this.internalChooserModel);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.autoCompleteComponent)) {
            this.autoCompleteComponent.focusInput();
        }
    };
    /**
     *
     * Convert a object if any into the string representation
     *
     * todo: implement better way how to work with objects
     *
     */
    /**
     *
     * Convert a object if any into the string representation
     *
     * todo: implement better way how to work with objects
     *
     * @param {?} item
     * @return {?}
     */
    ChooserComponent.prototype.displayItem = /**
     *
     * Convert a object if any into the string representation
     *
     * todo: implement better way how to work with objects
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(item)) {
            return null;
        }
        this.dataSource.state.currentItem = item;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.valueTransformer)) {
            return this.valueTransformer(item);
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dataSource.lookupKey)) {
            return item[this.dataSource.lookupKey];
        }
        else {
            return item.toString();
        }
    };
    /**
     *
     * Returns a label that is shown under the selected item when user selection is >
     * MaxRecentSelected
     *
     */
    /**
     *
     * Returns a label that is shown under the selected item when user selection is >
     * MaxRecentSelected
     *
     * @return {?}
     */
    ChooserComponent.prototype.moreSelectString = /**
     *
     * Returns a label that is shown under the selected item when user selection is >
     * MaxRecentSelected
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var moreSelected = this.dataSource.state.selectedObjects().length -
            this.dataSource.state.recentSelectedDisplayed;
        if (moreSelected < 2 && !this.dataSource.state.showAllRecentlySelected) {
            return '';
        }
        if (this.dataSource.state.showAllRecentlySelected) {
            return this.hideLink;
        }
        return moreSelected + " more selected...";
    };
    /**
     * In case of multiselect = false check if we want to show a selected value inside the input
     * field
     *
     */
    /**
     * In case of multiselect = false check if we want to show a selected value inside the input
     * field
     *
     * @return {?}
     */
    ChooserComponent.prototype.singleValueSelected = /**
     * In case of multiselect = false check if we want to show a selected value inside the input
     * field
     *
     * @return {?}
     */
    function () {
        return !this.dataSource.state && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dataSource.state.currentItem)
            && !this.dataSource.state.addMode;
    };
    /**
     * @return {?}
     */
    ChooserComponent.prototype.hasMenuTemplate = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.menuTemplate);
    };
    /**
     * @return {?}
     */
    ChooserComponent.prototype.hasSelectionTemplate = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.selectionTemplate);
    };
    /**
     * Internal. Please see ControlValueAccessor
     * As we are using DataSource internally for [(ngModel)] case we need to deffer DataSource
     * initialization once we have a value and we only accept []
     *
     *
     * ? Should we do some deeper comparision?
     */
    /**
     * Internal. Please see ControlValueAccessor
     * As we are using DataSource internally for [(ngModel)] case we need to deffer DataSource
     * initialization once we have a value and we only accept []
     *
     *
     * ? Should we do some deeper comparision?
     * @param {?} value
     * @return {?}
     */
    ChooserComponent.prototype.writeValue = /**
     * Internal. Please see ControlValueAccessor
     * As we are using DataSource internally for [(ngModel)] case we need to deffer DataSource
     * initialization once we have a value and we only accept []
     *
     *
     * ? Should we do some deeper comparision?
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(value)) {
            return;
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dataSource)) {
            this.dataSource.updateValue(value);
        }
        else {
            /** @type {?} */
            var selState = new DefaultSelectionState(this.multiselect);
            /** @type {?} */
            var chState = new ChooserState(selState, this.multiselect);
            this.initDatasource(chState);
            this.dataSource.updateValue(value);
        }
        this.initInternalModel();
    };
    /**
     * @param {?=} chooserState
     * @return {?}
     */
    ChooserComponent.prototype.initDatasource = /**
     * @param {?=} chooserState
     * @return {?}
     */
    function (chooserState) {
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.destinationClass), 'You need to provide destinationClass or custom DataSource');
        this.dataSource.init({
            obj: this.destinationClass,
            queryType: QueryType.FullText,
            lookupKey: this.field,
            state: chooserState,
            multiselect: this.multiselect
        });
    };
    /**
     *
     * Used by ngOnInit and Write value to read state from ChooserState and set it to internal
     * ngModel property
     *
     * @return {?}
     */
    ChooserComponent.prototype.initInternalModel = /**
     *
     * Used by ngOnInit and Write value to read state from ChooserState and set it to internal
     * ngModel property
     *
     * @return {?}
     */
    function () {
        if (this.dataSource.state.multiselect) {
            this.internalChooserModel = this.dataSource.state.selectedObjects();
        }
        else {
            this.internalChooserModel = this.dataSource.state.selectedObject();
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.formControl)) {
            this.formControl.setValue(this.internalChooserModel);
        }
    };
    ChooserComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-chooser',
                    template: "<div class=\"w-chooser \">\n\n    <p-autoComplete #autoCompplete [(ngModel)]=\"internalChooserModel\"\n                    [suggestions]=\"dataSource.state.matches\"\n                    [multiple]=\"dataSource.state.multiselect\"\n                    [dropdown]=\"!dataSource.state.multiselect\"\n                    [minLength]=\"minLenForSearch\"\n                    [placeholder]=\"placeHolder\"\n                    [delay]=\"delay\"\n                    [disabled]=\"disabled\"\n                    (onDropdownClick)=\"onDropdownClick($event)\"\n                    (completeMethod)=\"match($event.query)\"\n                    (onSelect)=\"selectItem($event)\"\n                    (onUnselect)=\"removeValue($event)\">\n\n\n        <ng-template let-internalChooserModel pTemplate=\"item\">\n            <ng-template [ngIf]=\"!hasMenuTemplate()\">\n                {{ displayItem(internalChooserModel) }}\n            </ng-template>\n            <ng-template [embeddedItem]=\"menuTemplate\" [item]=\"internalChooserModel\"\n                         *ngIf=\"hasMenuTemplate()\"></ng-template>\n        </ng-template>\n    </p-autoComplete>\n\n    <!--\n        Wrap whole selection with one extra element so we can move it around\n\n         see: selectionAppendTo\n    -->\n    <span #selectionView>\n        <div class=\"w-chooser-selections\"\n             *ngIf=\"multiselect && dataSource.state.recentSelectedObjects.length > 0\">\n\n        <ng-template [ngIf]=\"!hasSelectionTemplate()\">\n\n            <!-- no selection template render it as it is from CORE-->\n            <ul class=\"ui-autocomplete-multiple-container ui-widget ui-state-default \"\n                [ngClass]=\"{'ui-state-disabled':disabled,'ui-state-focus':autoCompleteComponent.focus}\">\n\n                <li #token *ngFor=\"let item of dataSource.state.recentSelectedObjects\"\n                    class=\"ui-autocomplete-token ui-state-highlight ui-corner-all\" tabindex=\"0\"\n                    (keyup.delete)=\"removeValue(item)\"\n                    (keyup.backspace)=\"removeValue(item)\">\n\t\t\t\t\t<span class=\"ui-autocomplete-token-icon sap-icon icon-decline\"\n                          (click)=\"removeValue(item)\"></span>\n                    <span class=\"ui-autocomplete-token-label\">{{ displayItem(item) }}</span>\n                </li>\n            </ul>\n        </ng-template>\n\n            <!--Yes there is selection template let's iterate and push each item to be rendered-->\n        <ng-template ngFor [ngForOf]=\"dataSource.state.recentSelectedObjects\" let-item>\n            <ng-template [embeddedItem]=\"selectionTemplate\" [item]=\"item\"\n                         *ngIf=\"hasSelectionTemplate()\"></ng-template>\n        </ng-template>\n\n        <ng-template [ngIf]=\"dataSource.showMoreSelected()\">\n\t\t\t<span class=\"more-selected\">\n\t\t\t\t<aw-hyperlink [size]=\"'small'\" (action)=\"dataSource.state.toggleAllSelected()\">\n\t\t\t\t\t{{moreSelectString()}}\n\t\t\t\t</aw-hyperlink>\n\t\t\t</span>\n        </ng-template>\n    </div>\n    </span>\n\n\n</div>\n\n",
                    providers: [
                        CHOOSER_CONTROL_VALUE_ACCESSOR,
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return ChooserComponent; }) },
                        { provide: DATA_SOURCE, useClass: ChooserDataSource, deps: [DataProviders, DataFinders] }
                    ],
                    styles: ["/deep/ .ui-fluid .ui-autocomplete.ui-autocomplete-dd .ui-autocomplete-input,/deep/ .ui-fluid .ui-autocomplete.ui-autocomplete-dd .ui-autocomplete-multiple-container{width:100%}/deep/ .w-chooser .ui-autocomplete-multiple{line-height:normal}/deep/ .w-chooser .ui-autocomplete-input{width:100%}/deep/ .w-chooser .ui-autocomplete-dropdown.ui-button{right:0;position:absolute;border:0;width:30px;background:0 0}/deep/ .w-chooser .ui-autocomplete-dropdown.ui-button .pi{font-family:\"SAP icon fonts\";color:#767676;cursor:pointer;font-size:1.4em;margin-left:-.85em}/deep/ .w-chooser .ui-autocomplete-dropdown.ui-button .pi-caret-down:before{content:'\\e1ef'}/deep/ .w-chooser .ui-autocomplete-dropdown.ui-button input{padding-right:30px}/deep/ .w-chooser .ui-autocomplete-input-token{padding:0;margin:0;vertical-align:baseline;width:inherit}/deep/ .w-chooser .ui-autocomplete-input-token .fa{font-family:\"SAP icon fonts\";color:#767676;cursor:pointer;font-size:1.2em}/deep/ .w-chooser .ui-autocomplete-input-token .fa-search:before{content:'\\e00d'}/deep/ .w-chooser .ui-autocomplete-input-token input{width:inherit;padding-right:25px}/deep/ .w-chooser .ui-autocomplete-input-token span{position:absolute;right:5px;top:0;padding-top:.6em}/deep/ .w-chooser .ui-autocomplete-dropdown{height:36px}/deep/ .w-chooser .ui-autocomplete-panel .ui-autocomplete-list-item{padding:.65em 2em .65em .64em;margin:0}/deep/ body .ui-autocomplete.ui-autocomplete-multiple .ui-autocomplete-multiple-container{padding:.4em .5em .4em 1em}.w-chooser-selections{margin-top:2px}.w-chooser-selections ul{margin:0;padding:0}.w-chooser-selections .ui-autocomplete-multiple-container{border:0}.w-chooser-selections .ui-autocomplete-multiple-container .ui-autocomplete-token{font-size:.85em;letter-spacing:.1px;font-weight:400;padding:0;background:#e0f2ff;margin-right:5px;margin-bottom:5px}.w-chooser-selections .ui-autocomplete-multiple-container .ui-autocomplete-token-label{padding:4px 21px 4px 5px}.w-chooser-selections .ui-autocomplete-multiple-container .ui-autocomplete-token-icon{font-size:.78em;padding-right:.28em}.w-chooser-selections .ui-autocomplete-multiple-container .sap-icon{line-height:inherit}.w-chooser-selections .more-selected{display:inline-block}"]
                }] }
    ];
    /** @nocollapse */
    ChooserComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: ChooserDataSource, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [DATA_SOURCE,] }] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return BaseFormComponent; }),] }] }
    ]; };
    ChooserComponent.propDecorators = {
        maxLength: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        minLenForSearch: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        valueTransformer: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        multiselect: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        dataSource: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        selectionAppendTo: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        delay: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        destinationClass: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        field: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onSelection: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        menuTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['menuItem',] }],
        selectionTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['selectionItem',] }],
        autoCompleteComponent: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: ['autoCompplete',] }],
        selectionViewElem: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: ['selectionView',] }]
    };
    return ChooserComponent;
}(BaseFormComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWChooserModule = /** @class */ (function () {
    function AWChooserModule() {
    }
    AWChooserModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        ChooserComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["AutoCompleteModule"],
                        AWHyperlinkModule,
                        AWCoreComponentModule
                    ],
                    entryComponents: [
                        ChooserComponent
                    ],
                    exports: [
                        ChooserComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"]
                    ],
                    providers: []
                },] }
    ];
    return AWChooserModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 * A popup like component rendering list of values as. Based on PrimeNG component and one of the
 * main reason why we need to wrap this is to extend its capabilities to accept almost any
 * data type without using Primens's specific SelectItem type.
 *
 *
 * ### Example
 *
 * ```
 * \@Component({
 *      selector: 'showDropDown' ,
 *      template: '<aw-dropdown [list]="testItemSmall"
 *     (onSelection)="onSelection($event)"></aw-dropdown>'
 *  })
 *  export class MyDropComponent
 *  {
 *      testItemSmall: string[] = ['view' , 'edit'];
 *
 *      // when you switch list binding to refert to large item fiilter automatically is shown and
 *     max 10 items are
 *      // visible
 *      testItemLarge: string[] = ['view' , 'edit' , 'frank' , 'kolar' , 'The Sun' , 'Dog' ,
 *     'Computer' , 'A Desk' ,
 *      'My Car' , 'Pencil' , 'This Page' , 'Yesterday' , 'Monday' , 'Tuesday' , 'BMW R1200 GS' ,
 *     'Czech Republic' ,
 *      'Last Item'];
 *
 *
 *      itemSelected: string = 'view';
 *      itemSelectedLg: string = 'Monday';
 *
 *      noselString: string = '(no selection)';
 *
 *
 *      onSelection (event): void
 *      {
 *          this.itemSelected = event;
 *
 *      }
 *  }
 *
 *  ```
 *
  @type {?} */
var DD_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return DropdownComponent; }),
    multi: true
};
var DropdownComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(DropdownComponent, _super);
    function DropdownComponent(env, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.parentContainer = parentContainer;
        /**
         * Event fired when user select a item
         */
        _this.onSelection = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        return _this;
    }
    /**
     * Todo: Put back the scrolling option once we decide so. Currently the requirements are
     * show only 10 items max, no scrolling. Functionality commented out can show scrollbar with
     * search filter.
     */
    /**
     * Todo: Put back the scrolling option once we decide so. Currently the requirements are
     * show only 10 items max, no scrolling. Functionality commented out can show scrollbar with
     * search filter.
     * @return {?}
     */
    DropdownComponent.prototype.ngOnInit = /**
     * Todo: Put back the scrolling option once we decide so. Currently the requirements are
     * show only 10 items max, no scrolling. Functionality commented out can show scrollbar with
     * search filter.
     * @return {?}
     */
    function () {
        if (this.isStandalone) {
            _super.prototype.ngOnInit.call(this);
            _super.prototype.registerFormControl.call(this, this.selection);
        }
        else {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.name)) {
                this.formControl = /** @type {?} */ (this.formGroup.controls[this.name]);
            }
        }
        // transform a value to PrimeNg Format, we are not really be using a label field only a
        // value.
        this.internalList = [];
        // if (isPresent(this.noSelectionString)) {
        //     this.internalList.push({
        //         label: this.noSelectionString,
        //         value: null
        //     });
        //
        //     if (isBlank(this.selection)) {
        //         this.selection = this.noSelectionString;
        //     }
        // }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.list) && this.list.length >= DropdownComponent.MaxNumShown) {
            this.internalList = this.list.slice(0, DropdownComponent.MaxNumShown).map(function (item) {
                return { label: item.toString(), value: item };
            });
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.list)) {
            this.internalList = this.list.slice(0).map(function (item) {
                return { label: item.toString(), value: item };
            });
        }
    };
    /**
     * @return {?}
     */
    DropdownComponent.prototype.hasEmbeddedTemplate = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.itemTemplate);
    };
    /**
     * Check to prevent Empty item to be rendered
     *
     * todo: Report this on PrimeNg
     *
     */
    /**
     * Check to prevent Empty item to be rendered
     *
     * todo: Report this on PrimeNg
     *
     * @param {?} item
     * @return {?}
     */
    DropdownComponent.prototype.itemExist = /**
     * Check to prevent Empty item to be rendered
     *
     * todo: Report this on PrimeNg
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(item);
    };
    /**
     * When dropdown list is more then defined constant MaxNumShown (10) automatically show filter
     * input field
     */
    /**
     * When dropdown list is more then defined constant MaxNumShown (10) automatically show filter
     * input field
     * @return {?}
     */
    DropdownComponent.prototype.showFilter = /**
     * When dropdown list is more then defined constant MaxNumShown (10) automatically show filter
     * input field
     * @return {?}
     */
    function () {
        return false;
        // return isPresent(this.list) && this.list.length > DropdownComponent.MaxNumShown;
    };
    /**
     *
     * Updates internal models of current selections and triggers onSelection event
     *
     */
    /**
     *
     * Updates internal models of current selections and triggers onSelection event
     *
     * @param {?} value
     * @return {?}
     */
    DropdownComponent.prototype.onItemSelection = /**
     *
     * Updates internal models of current selections and triggers onSelection event
     *
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.selection = value.value;
        this.onSelection.emit(value.value);
        if (this.isStandalone) {
            this.formControl.setValue(this.selection);
            this.formControl.markAsDirty({ onlySelf: true });
        }
        this.onModelChanged(value.value);
    };
    /**
     * @param {?} item
     * @return {?}
     */
    DropdownComponent.prototype.displayItem = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(item) ? item.label : 'No Selection';
    };
    /**
     * Internal. Please see ControlValueAccessor
     *
     */
    /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    DropdownComponent.prototype.writeValue = /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (!Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["equals"])(value, this.selection)) {
            this.selection = value;
            this.formControl.setValue(value);
        }
    };
    DropdownComponent.MaxNumShown = 10;
    DropdownComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-dropdown',
                    template: "<div class=\"w-dropdown\" [formGroup]=\"formGroup\">\n\n    <ng-template [ngIf]=\"isStandalone\">\n        <p-dropdown [options]=\"internalList\"\n                    [formControlName]=\"name\"\n                    [placeholder]=\"noSelectionString\"\n                    [autoWidth]=\"false\"\n                    [filter]=\"showFilter()\"\n                    (onChange)=\"onItemSelection($event)\">\n\n            <ng-template let-item pTemplate=\"item\">\n                <ng-template [ngIf]=\"!hasEmbeddedTemplate() && itemExist(item)\">\n                    {{item.label }}\n                </ng-template>\n\n                <ng-template [embeddedItem]=\"itemTemplate\" [item]=\"item\"\n                             *ngIf=\"hasEmbeddedTemplate() && itemExist(item)\">\n\n                </ng-template>\n            </ng-template>\n\n\n        </p-dropdown>\n    </ng-template>\n</div>\n\n\n<!-- no formControl Name here. ngModel cannot have formGroup around -->\n<ng-template [ngIf]=\"!isStandalone\">\n    <div class=\"w-dropdown\">\n        <p-dropdown [options]=\"internalList\"\n                    [(ngModel)]=\"selection\"\n                    [placeholder]=\"noSelectionString\"\n                    [autoWidth]=\"false\"\n                    [filter]=\"showFilter()\"\n                    (onChange)=\"onItemSelection($event)\">\n\n            <ng-template let-item pTemplate=\"item\">\n\n                <ng-template [ngIf]=\"!hasEmbeddedTemplate() && itemExist(item)\">\n                    {{item.label }}\n                </ng-template>\n                <ng-template [embeddedItem]=\"itemTemplate\" [item]=\"item\"\n                             *ngIf=\"hasEmbeddedTemplate() && itemExist(item)\">\n                </ng-template>\n            </ng-template>\n        </p-dropdown>\n    </div>\n</ng-template>\n",
                    providers: [
                        DD_CONTROL_VALUE_ACCESSOR,
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return DropdownComponent; }) }
                    ],
                    styles: ["/deep/ .ui-dropdown-panel{z-index:10010!important;top:35px!important}/deep/ .ui-dropdown-panel .ui-dropdown-items-wrapper{max-height:none!important}/deep/ .ui-dropdown-panel .ui-dropdown-item{padding:.65em 2em .65em .64em;margin:0}/deep/ .ui-dropdown-panel .ui-dropdown-filter-container{width:100%}/deep/ .ui-dropdown-panel .ui-dropdown-filter-container .fa{top:1.2em}/deep/ .ui-dropdown-panel .ui-dropdown-list{padding:1em 0}/deep/ .w-dropdown:not(.ng-dirty) label{color:#969696}/deep/ .w-dropdown .ui-dropdown-trigger.ui-corner-right{border-left:none;color:#969696}/deep/ .w-dropdown .ui-dropdown-trigger .pi{font-family:\"SAP icon fonts\";color:#767676;cursor:pointer;font-size:1.4em;margin-left:-.85em}/deep/ .w-dropdown .ui-dropdown-trigger .pi-caret-down:before{content:'\\e1ef'}/deep/ .w-dropdown .ui-dropdown-label{padding-right:2.4em}"]
                }] }
    ];
    /** @nocollapse */
    DropdownComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return BaseFormComponent; }),] }] }
    ]; };
    DropdownComponent.propDecorators = {
        list: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        selection: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        noSelectionString: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onSelection: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        itemTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['itemTemplate',] }]
    };
    return DropdownComponent;
}(BaseFormComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWDropdownModule = /** @class */ (function () {
    function AWDropdownModule() {
    }
    AWDropdownModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        DropdownComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DropdownModule"],
                        AWCoreComponentModule
                    ],
                    entryComponents: [
                        DropdownComponent
                    ],
                    exports: [
                        DropdownComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"]
                    ],
                    providers: []
                },] }
    ];
    return AWDropdownModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 * Lightweight and configurable Currency component based on the ng bootstrap directive. This
 * component combines an input and currency code dropdown.
 *
 *
 * for more info please see class Doc of the:
 * @see {\@link currency/currency.component.ts}
 *
 *  ### Example
 *  ```
 *
 * \@Component({
 *    selector: 'amount' ,
 *    template: `
 *
 *      <aw-currency [money]="price" [currencies]="currencies" [name]="'currency'">
 *      </aw-currency>
 *
 *    `
 *    })
 *    export class MyComponent
 *    {
 *        amount: number = 1000;
 *        currencies: string[] = ['USD', 'CNY', 'AUD', 'EUR', 'GBP'];
 *        currencyCode: string = this.currencies[0];
 *
 *        constructor ()
 *        {
 *        }
 *    }
  @type {?} */
var CURRENCY_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return CurrencyComponent; }),
    multi: true
};
var CurrencyComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(CurrencyComponent, _super);
    function CurrencyComponent(env, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.parentContainer = parentContainer;
        /**
         * Disable user to change Money's currency code and still
         * allow user to edit Money's amount.
         */
        _this.readonlyCurrencyCode = false;
        // Initialize currencies.
        // Initialize currencies.
        _this.initCurrencies();
        _this.currencyPipe = new _angular_common__WEBPACK_IMPORTED_MODULE_5__["CurrencyPipe"](env.locale);
        env.onLocaleChange.subscribe(function (locale) {
            _this.currencyPipe = new _angular_common__WEBPACK_IMPORTED_MODULE_5__["CurrencyPipe"](locale);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(_this.money)) {
                _this.displayValue = _this.formatCurrency(_this.money.amount);
            }
        });
        return _this;
    }
    /**
     * @return {?}
     */
    CurrencyComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        _super.prototype.registerFormControl.call(this, this.money);
        this.initCurrencies();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.currencySelection)) {
            this.currencySelection = this._currencies[0];
        }
        // ready the money field if it exists. and override the existing values.
        if (this.money) {
            this.currencySelection = this.money.currency;
        }
        else {
            this.money = new Money(null, this.currencySelection);
        }
        this.displayValue = this.formatCurrency(this.money.amount);
    };
    /**
     * @return {?}
     */
    CurrencyComponent.prototype.initCurrencies = /**
     * @return {?}
     */
    function () {
        if (!this._currencies || this._currencies.length === 0) {
            this._currencies = ['USD', 'CNY', 'AUD', 'EUR', 'GBP'];
        }
    };
    /**
     * Display the real value when the user clicks in the currency widget. Then he can modify the
     * value without seeing the formatting.
     *
     * @param el
     */
    /**
     * Display the real value when the user clicks in the currency widget. Then he can modify the
     * value without seeing the formatting.
     *
     * @param {?} el
     * @return {?}
     */
    CurrencyComponent.prototype.onFocus = /**
     * Display the real value when the user clicks in the currency widget. Then he can modify the
     * value without seeing the formatting.
     *
     * @param {?} el
     * @return {?}
     */
    function (el) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.money) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.money.amount)) {
            this.displayValue = this.money.amount.toString();
        }
    };
    /**
     * display the formatted currency value when the user navigates away.
     * @param el
     */
    /**
     * display the formatted currency value when the user navigates away.
     * @param {?} el
     * @return {?}
     */
    CurrencyComponent.prototype.onBlur = /**
     * display the formatted currency value when the user navigates away.
     * @param {?} el
     * @return {?}
     */
    function (el) {
        this.money = this.money.clone({ amount: Number(el.value) });
        this.displayValue = this.formatCurrency(this.money.amount);
        this.onModelChanged(this.money);
    };
    /**
     * @param {?} currency
     * @return {?}
     */
    CurrencyComponent.prototype.onSelection = /**
     * @param {?} currency
     * @return {?}
     */
    function (currency) {
        this.currencySelection = currency;
        this.displayValue = this.formatCurrency(this.money.amount);
    };
    /**
     * Function will check to see if currency is a valid number before formatting.
     * @param {?} val
     * @return {?}
     */
    CurrencyComponent.prototype.formatCurrency = /**
     * Function will check to see if currency is a valid number before formatting.
     * @param {?} val
     * @return {?}
     */
    function (val) {
        if (!val || val.length === 0) {
            return val;
        }
        if (isNaN(val)) {
            return val;
        }
        /** @type {?} */
        var code = 'USD';
        if (this.currencySelection) {
            code = this.currencySelection;
        }
        this.money = this.money.clone({ currency: this.currencySelection });
        /** @type {?} */
        var digits = '1.0-2';
        // If precision is present, use it for format the money value for display.
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.precision)) {
            digits = '1.0-' + this.precision;
        }
        return this.currencyPipe.transform(val, code, 'symbol', digits);
    };
    /**
     * @return {?}
     */
    CurrencyComponent.prototype.getMoneyCurrency = /**
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.displayValue) && this.displayValue.length > 0) {
            return this.currencySelection;
        }
        return '';
    };
    Object.defineProperty(CurrencyComponent.prototype, "currencies", {
        get: /**
         * @return {?}
         */
        function () {
            return this._currencies;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value)) {
                this._currencies = value;
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Internal. Please see ControlValueAccessor
     *
     */
    /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    CurrencyComponent.prototype.writeValue = /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if ((value instanceof Money) && !Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["equals"])(value, this.money)) {
            this.money = value;
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.money.currency)) {
                this.currencySelection = this.money.currency;
            }
            this.displayValue = this.formatCurrency(this.money.amount);
            this.formControl.setValue(this.money);
        }
    };
    CurrencyComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-currency',
                    template: "<ng-template [ngIf]=\"editable\">\n    <div class=\"w-currency-field ui-fluid\" [formGroup]=\"formGroup\">\n        <div class=\"ui-g \">\n            <div class=\"ui-g-8 ui-g-nopad \">\n                <input #currencyInput\n                       pInputText\n                       type=\"text\" class=\"w-text-field currency-format\"\n                       [attr.name]=\"name\"\n                       [attr.placeholder]=\"placeHolder\"\n                       [value]=\"displayValue\"\n                       (focus)=\"onFocus(currencyInput)\"\n                       (blur)=\"onBlur(currencyInput)\"\n                       [disabled]=\"disabled\">\n            </div>\n            <div class=\"ui-g-4 ui-g-nopad w-cc-field\">\n                <aw-dropdown *ngIf=\"!readonlyCurrencyCode\"\n                             [isStandalone]=\"false\" [list]=\"currencies\"\n                             [selection]=\"money.currency\"\n                             (onSelection)=\"onSelection($event)\"\n                             [disabled]=\"disabled\">\n\n                </aw-dropdown>\n                <div *ngIf=\"readonlyCurrencyCode\" class=\"w-cc-readonly-field\">{{money.currency}}</div>\n            </div>\n        </div>\n    </div>\n</ng-template>\n\n<!-- currency:'USD':true -->\n\n<ng-template [ngIf]=\"!editable\">\n    <aw-string value=\"{{displayValue}} {{ getMoneyCurrency() }}\"></aw-string>\n</ng-template>\n",
                    providers: [
                        CURRENCY_CONTROL_VALUE_ACCESSOR,
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return CurrencyComponent; }) }
                    ],
                    styles: [".w-currency-field [readonly],.w-currency-type-field [readonly]{background-color:#fff}.w-currency-field input,.w-currency-type-field input{min-width:80px}.w-currency-field i.fa,.w-currency-type-field i.fa{cursor:pointer}.w-currency-field{margin-top:0}.w-currency-field /deep/ .ui-dropdown{min-width:80px}.w-cc-field{display:flex;align-items:center}.w-cc-readonly-field{padding-left:5px;color:#969696}.no-gutter>[class*=ui-g-]{padding-right:0;padding-left:0}"]
                }] }
    ];
    /** @nocollapse */
    CurrencyComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return FormRowComponent; }),] }] }
    ]; };
    CurrencyComponent.propDecorators = {
        money: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        readonlyCurrencyCode: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        currencySelection: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        precision: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        currencies: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return CurrencyComponent;
}(BaseFormComponent));
/**
 * Money object is represented as a value, locale, and currencyCode
 */
var  /**
 * Money object is represented as a value, locale, and currencyCode
 */
Money = /** @class */ (function () {
    function Money(amount, currency, locale) {
        if (amount === void 0) { amount = 0; }
        if (currency === void 0) { currency = 'USD'; }
        if (locale === void 0) { locale = 'en_US'; }
        this.amount = amount;
        this.currency = currency;
        this.locale = locale;
    }
    /**
     * @return {?}
     */
    Money.prototype.getTypes = /**
     * @return {?}
     */
    function () {
        return {
            amount: Number,
            currency: String,
            locale: String
        };
    };
    /**
     * @return {?}
     */
    Money.prototype.className = /**
     * @return {?}
     */
    function () {
        return 'Money';
    };
    /**
     * @return {?}
     */
    Money.prototype.$proto = /**
     * @return {?}
     */
    function () {
        return new Money(1, '23', '33');
    };
    /**
     * @return {?}
     */
    Money.prototype.toString = /**
     * @return {?}
     */
    function () {
        return this.amount + ', locale: ' + this.locale + ', code:  ' + this.currency;
    };
    /**
     * @param {?=} data
     * @return {?}
     */
    Money.prototype.clone = /**
     * @param {?=} data
     * @return {?}
     */
    function (data) {
        if (data === void 0) { data = {}; }
        return new Money(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(data.amount) ? data.amount : this.amount, Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(data.currency) ? data.currency : this.currency, Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(data.locale) ? data.locale : this.locale);
    };
    return Money;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWCurrencyModule = /** @class */ (function () {
    function AWCurrencyModule() {
    }
    AWCurrencyModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        CurrencyComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputTextModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DropdownModule"],
                        AWDropdownModule,
                        AWStringFieldModule,
                        AWCoreComponentModule
                    ],
                    entryComponents: [
                        CurrencyComponent
                    ],
                    exports: [
                        CurrencyComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"]
                    ],
                    providers: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["CurrencyPipe"]]
                },] }
    ];
    return AWCurrencyModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 * Lightweight and configurable Date and Time component based on the primeng. This
 * component combines both date picker as well as time picker
 *
 *
 *  ### Example
 *  ```
 *
 * \@Component({
 *    selector: 'myTimer' ,
 *    template: `
 *    <aw-date-time [value]="date" [editable]="editable"  [name]="'dueDate'">
 *    </aw-date-time>
 *
 *    `
 *    })
 *    export class MyTimmerComponet
 *    {
 *
 *        date: Date = new Date();
 *
 *
 *        constructor ()
 *        {
 *            this.date.setFullYear(2016 , 10 , 3);
 *            this.date.setHours(10 , 10 , 10);
 *        }
 *    }
 *
 * ```
 *
 * By default you will see date field and time field is hidden to show both you just do following:
 *
 *  ```
 *
 * \@Component({
 *    selector: 'myTimer' ,
 *    template: `
 *
 *    <aw-date-time [value]="date"  [showTime]="showTime" [editable]="editable"  [name]="'bbdd'">
 *    </aw-date-time>
 *
 *    `
 *    })
 *    export class MyTimmerComponet
 *    {
 *        date: Date = new Date();
 *        showTime = true;
 *
 *        constructor ()
 *        {
 *            this.date.setFullYear(2016 , 10 , 3);
 *            this.date.setHours(10 , 10 , 10);
 *        }
 *    }
 *
 * ```
 *
 *
 *
  @type {?} */
var DATETIME_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return DateAndTimeComponent; }),
    multi: true
};
var DateAndTimeComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(DateAndTimeComponent, _super);
    function DateAndTimeComponent(env, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.parentContainer = parentContainer;
        /**
         * Default date format pattern used if none is passed
         *
         */
        _this.formatPattern = 'mm/dd/yy';
        /**
         * Special workaround as formatters in the primeNG and angular are different so until its
         * fixed we need to keep this extra pattern.
         */
        _this.formatPatternNG = 'MM/dd/yy';
        /**
         * Shows and hides navigation bar with year and months selections
         */
        _this.showNavigation = false;
        /**
         * Shows and hides navigation bar with year and months selections
         */
        _this.showIcon = true;
        /**
         * Whether to show timepicker
         */
        _this.showTime = false;
        /**
         * Whether to show DatePicker. Even we can hide it. it should be for most of the case always
         * true
         */
        _this.showDate = true;
        /**
         *
         * Tells the date picker what format it should use when presenting time. When hourFormat is 12,
         * it shows the AM, PM
         *
         */
        _this.hourFormat = '24';
        /**
         * Triggers event when specific date is clicked inside DatePicker
         *
         */
        _this.onChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Set the date to highlight on first opening if the field is blank.
         *
         */
        _this.defaultDate = new Date();
        _this.timePlaceHolder = 'hh:ss';
        return _this;
    }
    /**
     * @return {?}
     */
    DateAndTimeComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        _super.prototype.ngOnInit.call(this);
        _super.prototype.registerFormControl.call(this, this.value);
        // default to dateTime pattern which is defined in resource files
        if (this.hourFormat !== '12' && this.hourFormat !== '24') {
            this.hourFormat = '24';
        }
        this.timePlaceHolder = (this.hourFormat === '12') ?
            " " + DateAndTimeComponent.NgTime12 : " " + DateAndTimeComponent.NgTime24;
        this.formControl.valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["distinctUntilChanged"])()).subscribe(function (val) {
            _this.value = val;
            _this.onModelChanged(_this.value);
        });
        this.initTranslations();
        this.env.onLocaleChange.subscribe(function (locale) {
            _this.initTranslations();
        });
    };
    /**
     * Need to refactor this as this really get complicated trying to cover usecase with time
     * and date and every format we have. We should probably have separate patterns for
     * dates only and date + time
     * @return {?}
     */
    DateAndTimeComponent.prototype.initTranslations = /**
     * Need to refactor this as this really get complicated trying to cover usecase with time
     * and date and every format we have. We should probably have separate patterns for
     * dates only and date + time
     * @return {?}
     */
    function () {
        this.formatNameWithTime = this.formatPattern;
        if (!this.showDate) {
            this.formatPatternNG = this.formatPattern += (this.hourFormat === '12') ?
                " " + DateAndTimeComponent.NgTime12 : " " + DateAndTimeComponent.NgTime24;
        }
        if (this.showTime) {
            /** @type {?} */
            var timeStarts = this.formatPattern.indexOf('h');
            if (timeStarts !== -1) {
                this.formatNameWithTime = this.formatPattern.substring(0, timeStarts);
            }
            this.formatPatternNG += (this.hourFormat === '12') ?
                " " + DateAndTimeComponent.NgTime12 : " " + DateAndTimeComponent.NgTime24;
        }
        this.i18n = {
            firstDayOfWeek: 0,
            dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday',
                'Saturday'],
            dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
            dayNamesMin: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],
            monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August',
                'September', 'October', 'November', 'December'],
            monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct',
                'Nov', 'Dec']
        };
    };
    /**
     * Fired when dates changes. Here we update  this.value - > date and also update value inside
     * formController
     *
     */
    /**
     * Fired when dates changes. Here we update  this.value - > date and also update value inside
     * formController
     *
     * @param {?} event
     * @return {?}
     */
    DateAndTimeComponent.prototype.onDateChange = /**
     * Fired when dates changes. Here we update  this.value - > date and also update value inside
     * formController
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(event)) {
            // throw some error ?
            return;
        }
        this.value = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isDate"])(event) ? event : new Date(event);
        this.formControl.setValue(this.value, { onlySelf: false, emitEvent: true });
        this.onModelChanged(this.value);
        this.onChange.emit(this.value);
    };
    /**
     * Internal. Please see ControlValueAccessor
     *
     */
    /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    DateAndTimeComponent.prototype.writeValue = /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value !== this.value) {
            this.value = value;
            this.formControl.setValue(value);
        }
    };
    DateAndTimeComponent.NgTime12 = 'hh:mm a';
    DateAndTimeComponent.NgTime24 = 'HH.mm a';
    DateAndTimeComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-date-time',
                    template: "<ng-template [ngIf]=\"editable\">\n\n    <div class=\"w-datetime \" [class.has-time]=\"showTime\" [formGroup]=\"formGroup\">\n\n        <p-calendar formControlName=\"{{name}}\"\n                    [defaultDate]=\"defaultDate\"\n                    [showIcon]=\"showIcon\"\n                    dateFormat=\"{{showTime ? formatNameWithTime : formatPattern}}\"\n                    [yearNavigator]=\"showNavigation\"\n                    [monthNavigator]=\"showNavigation\"\n                    [yearRange]=\"yearRange\"\n                    placeholder=\"{{showTime ? formatNameWithTime.toUpperCase() : formatPattern.toUpperCase()}}\"\n                    (onSelect)=\"onDateChange($event)\"\n                    [timeOnly]=\"!showDate\"\n                    [readonlyInput]=\"true\"\n                    [locale]=\"i18n\">\n        </p-calendar>\n\n        <p-calendar *ngIf=\"showTime\"\n                    icon=\"icon-history\"\n                    formControlName=\"{{name}}\"\n                    [hourFormat]=\"hourFormat\"\n                    [defaultDate]=\"defaultDate\"\n                    [showIcon]=\"showIcon\"\n                    [timeOnly]=\"showTime\"\n                    [showTime]=\"showTime\"\n                    [placeholder]=\"timePlaceHolder\"\n                    (onSelect)=\"onDateChange($event)\"\n                    [locale]=\"i18n\">\n        </p-calendar>\n\n    </div>\n</ng-template>\n\n<ng-template [ngIf]=\"!editable\">\n    <aw-string value=\"{{value | date: formatPatternNG}}\"></aw-string>\n</ng-template>\n",
                    providers: [
                        DATETIME_CONTROL_VALUE_ACCESSOR,
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return DateAndTimeComponent; }) }
                    ],
                    styles: ["/deep/ .w-datetime .ui-calendar button{border:0;width:0}/deep/ .w-datetime .ui-calendar.ui-calendar-w-btn .ui-inputtext{width:100%}/deep/ .ui-calendar .ui-calendar-button .ui-button-icon-left{font-family:\"SAP icon fonts\";color:#199de0;cursor:pointer;font-size:1.4em}/deep/ .ui-calendar .ui-calendar-button .ui-button-icon-left.pi-calendar:before{content:'\\e0e0'}/deep/ .ui-calendar .ui-calendar-button .ui-button-icon-left.icon-history:before{content:'\\e02d'}/deep/ .ui-datepicker{width:24.28em;line-height:25px;padding:0;border-color:#979797;box-shadow:none}/deep/ .ui-datepicker .ui-datepicker-header{padding:.92em 0;font-weight:400;color:#000;font-size:1em}/deep/ .ui-datepicker .ui-datepicker-next,/deep/ .ui-datepicker .ui-datepicker-prev{top:1em}/deep/ .ui-datepicker .ui-datepicker-prev{left:.2em}/deep/ .ui-datepicker .ui-datepicker-next{right:.2em}/deep/ .ui-datepicker table{font-size:1em;margin:0 0 1.5em}/deep/ .ui-datepicker th{font-weight:400;background-color:#ececec;color:#363636;padding:.786em 1.07em}/deep/ .ui-datepicker td{padding:.1em}/deep/ .ui-datepicker td a{text-align:center;width:2.7em;height:2.7em;line-height:2.7em;padding:0;border-radius:50%}/deep/ .ui-datepicker td a.ui-state-default{border-color:transparent}/deep/ .ui-datepicker td a.ui-state-active{background-color:#199de0;color:#fff}/deep/ .ui-datepicker .pi{font-size:1em}/deep/ .ui-datepicker .pi.pi-chevron-left:before{content:'\\e1ee'}/deep/ .ui-datepicker .pi.pi-chevron-right:before{content:'\\e1ed'}/deep/ .ui-datepicker .ui-datepicker-calendar td:not(.ui-state-disabled) a:hover{border-color:transparent;background-color:rgba(25,157,224,.7);opacity:.75;color:#363636}/deep/ .ui-datepicker-timeonly{width:100%}/deep/ .ui-timepicker{font-size:1.14em;color:#767676;font-weight:400}/deep/ .ui-timepicker .pi{font-size:1em}/deep/ .ui-timepicker .pi.pi-chevron-up:before{content:'\\e1f0'}/deep/ .ui-timepicker .pi.pi-chevron-down:before{content:'\\e1ef'}/deep/ .ui-timepicker>div{margin-left:0}/deep/ .ui-timepicker .ui-separator{width:.1em;min-width:.1em}/deep/ .ui-timepicker .ui-separator .pi{font-size:0}/deep/ .ui-datepicker-trigger{background-color:transparent}/deep/ .ui-datepicker-trigger.ui-button:enabled:hover,/deep/ .ui-datepicker-trigger.ui-button:focus{background-color:transparent}/deep/ .has-time{display:flex;flex-wrap:nowrap}/deep/ .has-time p-calendar:first-child{width:55%;margin-right:14px}/deep/ .has-time p-calendar:last-child{width:45%}/deep/ .has-time p-calendar:last-child .ui-datepicker{padding:0}/deep/ .has-time .ui-button-icon-left{line-height:18px}"]
                }] }
    ];
    /** @nocollapse */
    DateAndTimeComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return FormRowComponent; }),] }] }
    ]; };
    DateAndTimeComponent.propDecorators = {
        value: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        formatPattern: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        formatPatternNG: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showNavigation: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        yearRange: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showIcon: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showTime: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showDate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        hourFormat: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onChange: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }]
    };
    return DateAndTimeComponent;
}(BaseFormComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWDateAndTimeModule = /** @class */ (function () {
    function AWDateAndTimeModule() {
    }
    AWDateAndTimeModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        DateAndTimeComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CalendarModule"],
                        AWStringFieldModule
                    ],
                    entryComponents: [
                        DateAndTimeComponent
                    ],
                    exports: [
                        DateAndTimeComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"]
                    ]
                },] }
    ];
    return AWDateAndTimeModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * An dialog header area.
 *
 * See {\@link DialogComponent} for more explanation.
 */
var DialogHeaderComponent = /** @class */ (function () {
    function DialogHeaderComponent() {
    }
    DialogHeaderComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-dialog-header',
                    template: '<ng-content></ng-content>'
                }] }
    ];
    return DialogHeaderComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * An dialog header area.
 *
 * See {\@link DialogComponent} for more explanation.
 */
var DialogFooterComponent = /** @class */ (function () {
    function DialogFooterComponent() {
    }
    DialogFooterComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-dialog-footer',
                    template: '<ng-content></ng-content>'
                }] }
    ];
    return DialogFooterComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Dialog Component that provides the look and feel for a modal dialog. This component has three
 * sections: header, body, and footer. It can be used by itself or extended.
 *
 * There are three types of popup.
 *   1.  a regular dialog box that has header, body and footer. It's the most customizable.
 *   2.  a confirmation box is similar to a dialog box but has accept and reject action buttons.
 *   3.  a overlay, which is a very basic popup with what you put inside.
 *       It doesn't have header and footer.
 *
 * There are two ways to use any popup component.
 *   1.  Either directly by using component, aw-dialog, aw-confirmation or aw-overlay
 *   2.  or the ModalService  service.open(<DialogComponent>), service.close()
 *
 * Usage:
 *    1.  Using Dialog directly to display a modal popup. This usage is a quick way to show a
 * message to the user.
 *
 *             this.modalService.open<DialogComponent>( DialogComponent, {
 *                     title: 'My Popup Title',
 *                     body: 'My Popup Body'
 *              });
 *
 *
 *   2.   Use the component inside your template.
 *
 * \@Component({
 *                selector: 'aw-page' ,
 *                           template: `
 *                              <aw-dialog [(visible)]="display" [modal]="true"
 *                                        (onOpen)="openAction()" (onClose)="closeAction()">
 *
 *                                    <aw-dialog-header>Dialog Header</aw-dialog-header>
 *
 *                                     Dialog Body: Creating a dialog using the dialog component
 *
 *                                    <aw-dialog-footer>
 *                                      <aw-button [size]="'small'" [style]="'primary'"
 *                                                 (click)="close()">OK</aw-button>
 *                                    </aw-dialog-footer>
 *                              </aw-dialog>
 *
 *                          <aw-button [size]="'small'" (click)="open()">Open Dialog</aw-button>
 *                  `
 *         export class MyPageComponent implements OnInit {
 *
 *                     display: boolean = false;
 *
 *                     dialogAction: string;
 *
 *                     constructor(private modalService: ModalService) {
 *                          super();
 *                       }
 *                     ngOnInit() { }
 *
 *                     open() {
 *                        this.display = true;
 *                     }
 *
 *                     openAction()  {
 *                        this.dialogAction = "open";
 *                      }
 *       }
 *
 *
 */
var DialogComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(DialogComponent, _super);
    function DialogComponent(env) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        /**
         * support two way data binding on visible property.
         */
        _this.visibleChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * whether this dialog blocks the rest of the page or not when displayed.
         */
        _this.modal = true;
        /**
         * Whether there's an x at the top right that makes the dialog closable.
         */
        _this.closable = true;
        /**
         * Event fired when dialog is closed.
         */
        _this.onClose = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Event fired when the dialog is opened.
         */
        _this.onOpen = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.width = 300;
        _this.height = 'auto';
        return _this;
    }
    /**
     * Open this dialog.
     */
    /**
     * Open this dialog.
     * @return {?}
     */
    DialogComponent.prototype.open = /**
     * Open this dialog.
     * @return {?}
     */
    function () {
        this.visible = true;
        this.onOpen.emit();
        // visible is a 2-way binding variable.
        this.visibleChange.emit(true);
    };
    /**
     * close the dialog
     */
    /**
     * close the dialog
     * @return {?}
     */
    DialogComponent.prototype.close = /**
     * close the dialog
     * @return {?}
     */
    function () {
        this.visible = false;
        this.onClose.emit();
        // Important to make sure change is set on parent binding.
        // Otherwise, the variable and dialog open/close state can be out
        // of sync and we wouldn't trigger change detection.
        this.visibleChange.emit(false);
    };
    /**
     * Does this dialog have header.
     *
     */
    /**
     * Does this dialog have header.
     *
     * @return {?}
     */
    DialogComponent.prototype.hasHeader = /**
     * Does this dialog have header.
     *
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.header);
    };
    /**
     * Does this dialog have footer.
     *
     */
    /**
     * Does this dialog have footer.
     *
     * @return {?}
     */
    DialogComponent.prototype.hasFooter = /**
     * Does this dialog have footer.
     *
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.footer);
    };
    DialogComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-dialog',
                    template: "<p-dialog [header]=\"title\" [(visible)]=\"visible\"\n          [modal]=\"modal\" [closable]=\"closable\" [width]=\"width\" [height]=\"height\"\n          [styleClass]=\"styleClass\" [appendTo]=\"appendTo\" (onShow)=\"open()\" (onHide)=\"close()\">\n\n    <p-header *ngIf=\"hasHeader()\">\n        <ng-content select=\"aw-dialog-header\"></ng-content>\n    </p-header>\n\n    {{body}}\n    <ng-content></ng-content>\n\n    <p-footer *ngIf=\"hasFooter()\">\n        <div class=\"dialog-footer-separator\"></div>\n        <ng-content select=\"aw-dialog-footer\"></ng-content>\n    </p-footer>\n</p-dialog>\n",
                    styles: ["::ng-deep .ui-dialog .ui-dialog-titlebar{background-color:#f2f2f2;padding:15px 20px}::ng-deep .ui-dialog .ui-dialog-titlebar .ui-dialog-titlebar-icon:hover{border-color:transparent}::ng-deep .ui-widget-header{font-weight:400;font-size:16px}::ng-deep .ui-dialog .ui-dialog-content{padding:15px 20px;line-height:1.3em}::ng-deep .ui-dialog .ui-widget-content{border:none}::ng-deep .ui-dialog.ui-widget-content{border:none;box-shadow:0 2px 10px 0 rgba(0,0,0,.3)}::ng-deep .ui-dialog .dialog-footer-separator{border-top:1px solid #d7d7d7;height:14px}::ng-deep .ui-dialog .ui-dialog-footer{padding:0 20px 15px}"]
                }] }
    ];
    /** @nocollapse */
    DialogComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    DialogComponent.propDecorators = {
        title: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        body: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        visibleChange: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        modal: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        closable: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        appendTo: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onClose: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onOpen: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        header: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: [DialogHeaderComponent,] }],
        footer: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: [DialogFooterComponent,] }]
    };
    return DialogComponent;
}(ModalContainer));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWDialogModule = /** @class */ (function () {
    function AWDialogModule() {
    }
    AWDialogModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        DialogComponent,
                        DialogHeaderComponent,
                        DialogFooterComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        AWCoreComponentModule,
                        primeng_dialog__WEBPACK_IMPORTED_MODULE_10__["DialogModule"]
                    ],
                    entryComponents: [
                        ModalComponent,
                        DialogComponent,
                        DialogHeaderComponent,
                        DialogFooterComponent
                    ],
                    exports: [
                        DialogComponent,
                        DialogHeaderComponent,
                        DialogFooterComponent,
                        AWCoreComponentModule
                    ],
                    providers: []
                },] }
    ];
    return AWDialogModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Convenient wrapper class around controls such as radiobuttons, dropdown, checkboxes,
 * Chooser. The type of the chooser may be determined dynamically based on the number of items in
 * the data source list, or can be specified explicitly via the "type" binding.
 *
 *
 *
 */
var GenericChooserComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(GenericChooserComponent, _super);
    function GenericChooserComponent(env, _viewContainer, dataSource, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this._viewContainer = _viewContainer;
        _this.dataSource = dataSource;
        _this.parentContainer = parentContainer;
        /**
         *  Is this a List property, or a to-one.
         */
        _this.multiselect = false;
        return _this;
    }
    /**
     * @return {?}
     */
    GenericChooserComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.object)) {
            this.object = (/** @type {?} */ (this._viewContainer.injector)).view.context;
        }
        this.keyPath = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["FieldPath"](this.key);
        /** @type {?} */
        var defaultDataProvider = null;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.list)) {
            defaultDataProvider = this.dataSource.dataProviders.find(this.list);
        }
        else {
            defaultDataProvider = this.dataSource.dataProviders.find(this.destinationClass);
        }
        /** @type {?} */
        var projectedSize = defaultDataProvider.expectedCount(this.choiceProviderParams);
        this.initType(projectedSize);
        if (this.type === 'Chooser') {
            this.dataSource.init({
                dataProvider: defaultDataProvider,
                queryType: QueryType.FullText,
                lookupKey: this.displayKey,
                state: new ChooserState(new GCChooserState(this), this.multiselect),
                multiselect: this.multiselect
            });
        }
        else {
            // do we need to read this value in async?
            this.list = defaultDataProvider.data();
        }
        _super.prototype.registerFormControl.call(this, this.selection);
        this.validateRequired();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.selection)) {
            // this.noSelectionString = this.i18n.instant('Widgets.gchooser.noSelString');
            this.noSelectionString = 'Select a Item';
        }
    };
    /**
     *
     * When \@Input type is not passed we try to guess and select the best type for current data
     *
     * @param {?} projectedSize
     * @return {?}
     */
    GenericChooserComponent.prototype.initType = /**
     *
     * When \@Input type is not passed we try to guess and select the best type for current data
     *
     * @param {?} projectedSize
     * @return {?}
     */
    function (projectedSize) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.type)) {
            if (this.multiselect) {
                this.type = (projectedSize <= 0 || projectedSize > 8) ? 'Chooser' : 'Checkbox';
            }
            else {
                this.type = (projectedSize <= 0 || projectedSize > 20) ? 'Chooser'
                    : (projectedSize < 6) ? 'Radio' :
                        'Dropdown';
            }
        }
    };
    /**
     * There are certain properties which are required by this component. As already mentioned
     * above GenericChooser works with references and thefore two key properties are object and key
     * so we can access an object
     *
     *
     * @return {?}
     */
    GenericChooserComponent.prototype.validateRequired = /**
     * There are certain properties which are required by this component. As already mentioned
     * above GenericChooser works with references and thefore two key properties are object and key
     * so we can access an object
     *
     *
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.object)) {
            throw Error('Cannot continue without a object');
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.key)) {
            throw Error('Cannot continue without a key binding');
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.list) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.destinationClass)) {
            throw Error('Cannot continue without having either list of values or destinationClass');
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.type) &&
            (this.type !== 'Radio' && this.type !== 'Checkbox' && this.type !== 'Dropdown' &&
                this.type !== 'Chooser')) {
            throw Error('Cannot instantiate GenericChooser  - invalid type');
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.displayKey)) {
            this.displayKey = 'toString';
        }
    };
    /**
     *
     * Used when displaying value both from primitive type as well complex object. If you want to
     * control how item is displayed you can provide display key, which is can be a  method or
     * property of the object you are displaying.
     *
     * Todo: think about formatters as well
     *
     */
    /**
     *
     * Used when displaying value both from primitive type as well complex object. If you want to
     * control how item is displayed you can provide display key, which is can be a  method or
     * property of the object you are displaying.
     *
     * Todo: think about formatters as well
     *
     * @param {?} item
     * @return {?}
     */
    GenericChooserComponent.prototype.displayValue = /**
     *
     * Used when displaying value both from primitive type as well complex object. If you want to
     * control how item is displayed you can provide display key, which is can be a  method or
     * property of the object you are displaying.
     *
     * Todo: think about formatters as well
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.displayKey)) {
            return item;
        }
        /** @type {?} */
        var fieldValue = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["FieldPath"].getFieldValue(item, this.displayKey);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isFunction"])(fieldValue)) {
            return fieldValue.call(item);
        }
        return fieldValue;
    };
    Object.defineProperty(GenericChooserComponent.prototype, "selection", {
        /**
         *  Retrieve a current value from the parent/target object
         *
         */
        get: /**
         *  Retrieve a current value from the parent/target object
         *
         * @return {?}
         */
        function () {
            return this.keyPath.getFieldValue(this.object);
        },
        /**
         *  set value back to the object
         *
         */
        set: /**
         *  set value back to the object
         *
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.keyPath.setFieldValue(this.object, value);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} value
     * @return {?}
     */
    GenericChooserComponent.prototype.onSelection = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.selection = value;
        this.formControl.setValue(this.selection);
        this.formControl.markAsDirty();
    };
    GenericChooserComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-generic-chooser',
                    template: "<ng-container [ngSwitch]=\"type\">\n\n    <ng-template [ngSwitchCase]=\"'Checkbox'\">\n        <aw-checkbox-list [list]=\"list\"\n                          [editable]=\"editable\"\n                          [selections]=\"selection\"\n                          [name]=\"name\"\n                          [disabled]=\"disabled\"\n                          [labelFormatter]=\"displayValue\"\n                          (onSelection)=\"onSelection($event)\">\n        </aw-checkbox-list>\n    </ng-template>\n\n\n    <ng-template [ngSwitchCase]=\"'Radio'\">\n        <aw-radiobutton-list [list]=\"list\"\n                             [selection]=\"selection\"\n                             [editable]=\"editable\"\n                             [name]=\"name\"\n                             [disabled]=\"disabled\"\n                             [labelFormatter]=\"displayValue\"\n                             (onSelection)=\"onSelection($event)\">\n        </aw-radiobutton-list>\n    </ng-template>\n\n    <ng-template [ngSwitchCase]=\"'Dropdown'\">\n        <aw-dropdown [list]=\"list\"\n                     [isStandalone]=\"false\"\n                     [editable]=\"editable\"\n                     [noSelectionString]=\"noSelectionString\"\n                     [selection]=\"selection\"\n                     [disabled]=\"disabled\"\n                     [name]=\"name\"\n                     (onSelection)=\"onSelection($event)\">\n            <ng-template #itemTemplate let-item>\n\n                <!-- todo: allow to pass a PIPE to do some additional formatting -->\n                {{ displayValue(item.value) }}\n            </ng-template>\n        </aw-dropdown>\n    </ng-template>\n\n\n    <ng-template [ngSwitchCase]=\"'Chooser'\">\n        <aw-chooser #chooser\n                    [editable]=\"editable\"\n                    [isStandalone]=\"false\"\n                    [name]=\"name\"\n                    [multiselect]=\"multiselect\"\n                    [dataSource]=\"dataSource\"\n                    [valueTransformer]=\"displayValue\"\n                    [disabled]=\"disabled\">\n\n        </aw-chooser>\n\n    </ng-template>\n\n</ng-container>\n",
                    providers: [
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return GenericChooserComponent; }) },
                        { provide: DATA_SOURCE, useClass: ChooserDataSource, deps: [DataProviders, DataFinders] }
                    ],
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    GenericChooserComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] },
        { type: ChooserDataSource, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [DATA_SOURCE,] }] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return BaseFormComponent; }),] }] }
    ]; };
    GenericChooserComponent.propDecorators = {
        list: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        object: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        key: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        destinationClass: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        choiceProviderParams: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        multiselect: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        type: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        displayKey: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        noSelectionString: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return GenericChooserComponent;
}(BaseFormComponent));
/**
 * GenericChooser implementation of the ChooserSelectionState which is used when Type = Chooser.
 *
 */
var  /**
 * GenericChooser implementation of the ChooserSelectionState which is used when Type = Chooser.
 *
 */
GCChooserState = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(GCChooserState, _super);
    function GCChooserState(gChooser) {
        var _this = _super.call(this) || this;
        _this.gChooser = gChooser;
        return _this;
    }
    /**
     * @param {?} selection
     * @param {?} selected
     * @return {?}
     */
    GCChooserState.prototype.setSelectionState = /**
     * @param {?} selection
     * @param {?} selected
     * @return {?}
     */
    function (selection, selected) {
        if (selected === this.isSelected(selection)) {
            return;
        }
        if (this.gChooser.multiselect) {
            /** @type {?} */
            var multiRel = this.gChooser.keyPath.getFieldValue(this.gChooser.object);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(multiRel)) {
                multiRel = [];
            }
            else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(multiRel) && !Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(multiRel)) {
                throw new Error('I can not store multiselect value into non-array object');
            }
            if (selected) {
                multiRel.push(selection);
                this.gChooser.selection = multiRel;
            }
            else {
                _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].removeIfExist(multiRel, selection);
            }
        }
        else {
            if (!selection) {
                selection = null;
            }
            this.gChooser.selection = selection;
        }
    };
    /**
     * @return {?}
     */
    GCChooserState.prototype.selectedObject = /**
     * @return {?}
     */
    function () {
        if (this.gChooser.multiselect) {
            /** @type {?} */
            var objects = this.selectedObjects();
            return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(objects) || _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].isEmpty(objects)) ? null : _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].last(objects);
        }
        return this.gChooser.selection;
    };
    /**
     * @return {?}
     */
    GCChooserState.prototype.selectedObjects = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var selection = this.gChooser.selection;
        if (this.gChooser.multiselect && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(selection)) {
            selection = [];
        }
        return (this.gChooser.multiselect && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(selection)) ? selection : [selection];
    };
    /**
     * @param {?} selection
     * @return {?}
     */
    GCChooserState.prototype.isSelected = /**
     * @param {?} selection
     * @return {?}
     */
    function (selection) {
        if (this.gChooser.multiselect) {
            return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].containsComplex(this.selectedObjects(), selection);
        }
        /** @type {?} */
        var curValue = this.selectedObject();
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["equals"])(curValue, selection);
    };
    return GCChooserState;
}(ChooserSelectionState));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 * Wrapper class for RadioButton component providing convenient way to to render RadioButton Groups
 *
 *
 * ### Example
 *
 *
 * ```
 * \@Component({
 *          selector: 'gender-selector' ,
 *          template: `
 *              <aw-radiobutton-list [list]="rbListValues" [layout]="layout"
 *     [selection]="selectedValue" [name]="'name'">
 *               </aw-radiobutton-list>
 *      `
 *      })
 *      export class GenderSelectorComponent
 *      {
 *          rbListValues: string[] = ['male' , 'female' , 'other'];
 *          selectedValue: string = 'other';
 *          layout: string = 'stacked';
 *
 *
 *          formGroup: FormGroup = new FormGroup({});
 *
 *
 *          onCBClick (event): void
 *          {
 *              console.log('onCBClick = ' + event);
 *          }
 *
 *      }
 *
 * ```
  @type {?} */
var RB_LIST_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return RadioButtonListComponent; }),
    multi: true
};
var RadioButtonListComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(RadioButtonListComponent, _super);
    function RadioButtonListComponent(env, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.parentContainer = parentContainer;
        /**
         *
         * Fires an event when radio button is selected
         *
         */
        _this.onSelection = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        return _this;
    }
    /**
     * @return {?}
     */
    RadioButtonListComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.selection)) {
            this.model = 0;
        }
        this.updateModel(this.selection);
        this.onModelChanged(this.selection);
        this.registerFormControl(this.selection);
    };
    /**
     * Label is extracted into a method so in the future we can play how we want to display the
     * value. Since I want to support formatters for each components we might have a chance to
     * decide how the label will look like.
     *
     */
    /**
     * Label is extracted into a method so in the future we can play how we want to display the
     * value. Since I want to support formatters for each components we might have a chance to
     * decide how the label will look like.
     *
     * @param {?} item
     * @return {?}
     */
    RadioButtonListComponent.prototype.labelValue = /**
     * Label is extracted into a method so in the future we can play how we want to display the
     * value. Since I want to support formatters for each components we might have a chance to
     * decide how the label will look like.
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.labelFormatter)) {
            return this.labelFormatter(item);
        }
        return item.toString();
    };
    /**
     * In this version of checkboxes we still expect only primitive types. Keep this functionality
     * in extra method so we can work with it even now we just return the same value back
     *
     *
     */
    /**
     * In this version of checkboxes we still expect only primitive types. Keep this functionality
     * in extra method so we can work with it even now we just return the same value back
     *
     *
     * @param {?} item
     * @return {?}
     */
    RadioButtonListComponent.prototype.value = /**
     * In this version of checkboxes we still expect only primitive types. Keep this functionality
     * in extra method so we can work with it even now we just return the same value back
     *
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return item;
    };
    /**
     *
     * On NGModel change retrieve actual record based on the INDEX and propagate it to both
     * ngModel as well as FormGroup.
     *
     */
    /**
     *
     * On NGModel change retrieve actual record based on the INDEX and propagate it to both
     * ngModel as well as FormGroup.
     *
     * @param {?} event
     * @return {?}
     */
    RadioButtonListComponent.prototype.onChange = /**
     *
     * On NGModel change retrieve actual record based on the INDEX and propagate it to both
     * ngModel as well as FormGroup.
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var updatedModel = this.list[this.model];
        this.onSelection.emit(updatedModel);
        this.onModelChanged(updatedModel);
        this.formControl.setValue(updatedModel, {
            emitEvent: true,
            emitViewToModelChange: false
        });
    };
    /**
     * Since we might be dealing with complex object store only INDEX number in the model.
     *
     */
    /**
     * Since we might be dealing with complex object store only INDEX number in the model.
     *
     * @param {?} souceItem
     * @return {?}
     */
    RadioButtonListComponent.prototype.updateModel = /**
     * Since we might be dealing with complex object store only INDEX number in the model.
     *
     * @param {?} souceItem
     * @return {?}
     */
    function (souceItem) {
        /** @type {?} */
        var index = this.list.findIndex(function (elem) {
            return souceItem === elem;
        });
        this.model = index === -1 ? 0 : index;
    };
    /**
     * @return {?}
     */
    RadioButtonListComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var updatedModel = this.list[this.model];
        this.formControl.setValue(updatedModel, {
            emitEvent: true,
            emitViewToModelChange: false
        });
        // this.cd.detectChanges();
    };
    /**
     * Internal. Please see ControlValueAccessor
     *
     */
    /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    RadioButtonListComponent.prototype.writeValue = /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value !== this.value) {
            /** @type {?} */
            var newModel = value;
            this.updateModel(newModel);
        }
    };
    RadioButtonListComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-radiobutton-list',
                    template: "<div *ngFor=\"let item of list;  let i = index\" class=\"ui-g\">\n\n    <div class=\"ui-g-12\">\n        <aw-radiobutton\n            [(ngModel)]=\"model\"\n            (ngModelChange)=\"onChange($event)\"\n            [isStandalone]=\"false\"\n            [name]=\"name\"\n            [value]=\"i\"\n            [label]=\"labelValue(item)\">\n        </aw-radiobutton>\n    </div>\n\n</div>\n",
                    providers: [
                        RB_LIST_CONTROL_VALUE_ACCESSOR,
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return RadioButtonListComponent; }) }
                    ],
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    RadioButtonListComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return FormRowComponent; }),] }] }
    ]; };
    RadioButtonListComponent.propDecorators = {
        list: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        selection: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        labelFormatter: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onSelection: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }]
    };
    return RadioButtonListComponent;
}(BaseFormComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 *
 * Implements standard HTML radio button on top of PrimeNG with ariba styling
 *
 * ### Example
 *
 * 1. Basic usage using ngModel pre-selected first radio
 *
 *  ```ts
 *
 * \@Component({
 *          selector: 'demo-comp',
 *          template: `
 *              <aw-radiobutton [name]="'color'" [value]="'red'" [label]="'Red'"
 *                             [(ngModel)]="model">
 *             </aw-radiobutton>
 *              <aw-radiobutton [name]="'color'" [value]="'blue'" [label]="'Blue'"
 *                      [(ngModel)]="model">
 *              </aw-radiobutton>
 *      `
 *      })*
 *      class BasicWithNgModelComponent
 *      {
 *          model: string[] = ['red'];
 *
 *          constructor()
 *          {
 *          }
 *      }
 *
 *  ```
 *
 *
 * 2. Basic usage with formGroup
 *
 *
 * ```ts
 * \@Component({
 *           selector: 'demo-comp',
 *           template: `
 *          <div [formGroup]="env.currentForm">
 *               <aw-radiobutton [name]="'color2'" [value]="'red'" [label]="'Red'"
 *               (onChange)="onChange($event)">
 *               </aw-radiobutton>
 *               <aw-radiobutton [name]="'color2'" [value]="'blue'" [label]="'Blue'"
 *               (onChange)="onChange($event)">
 *               </aw-radiobutton>
 *
 *       </div>
 *       `
 *       })
 *       class BasicWithFormGroupComponent implements OnInit
 *       {
 *           model: string = 'blue';
 *
 *           constructor(public env: Environment)
 *           {
 *           }
 *
 *           ngOnInit(): void
 *           {
 *               this.env.currentForm = new FormGroup({});
 *               this.env.currentForm.registerControl('color2', new FormControl(this.model));
 *           }
 *
 *
 *           onChange(event: any): void
 *           {
 *               this.modelSet = event;
 *           }
 *
 *       }
 *  ````
 *
 *
 *
 *
  @type {?} */
var RAB_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return RadioButtonComponent; }),
    multi: true
};
var RadioButtonComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(RadioButtonComponent, _super);
    function RadioButtonComponent(env, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.parentContainer = parentContainer;
        /**
         *
         * A value associated with this radio
         *
         */
        _this.value = '';
        /**
         * Trigger click event with currrent selected value
         *
         */
        _this.onChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        return _this;
    }
    /**
     * @return {?}
     */
    RadioButtonComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        if (this.isStandalone) {
            _super.prototype.registerFormControl.call(this, this.value);
            this.model = this.formControl.value;
            this.onModelChanged(this.model);
        }
        else {
            this.formControl = /** @type {?} */ (this.formGroup.controls[this.name]);
        }
    };
    /**
     * Called when radio is clicked. Not using PrimeNG click event as it is fired before
     * the model is changed. Therefore need to listen on (ngModelChange)
     *
     */
    /**
     * Called when radio is clicked. Not using PrimeNG click event as it is fired before
     * the model is changed. Therefore need to listen on (ngModelChange)
     *
     * @param {?} newVal
     * @return {?}
     */
    RadioButtonComponent.prototype.onModelChange = /**
     * Called when radio is clicked. Not using PrimeNG click event as it is fired before
     * the model is changed. Therefore need to listen on (ngModelChange)
     *
     * @param {?} newVal
     * @return {?}
     */
    function (newVal) {
        this.onModelChanged(this.model);
        if (this.isStandalone) {
            this.formControl.setValue(this.model, { emitEvent: true });
        }
        this.onChange.emit(this.model);
    };
    /**
     * Internal. Please see ControlValueAccessor
     *
     */
    /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    RadioButtonComponent.prototype.writeValue = /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value !== this.model) {
            this.model = value;
            if (this.isStandalone) {
                this.formControl.setValue(this.model, { emitEvent: true });
            }
            this.onModelChanged(this.model);
        }
    };
    RadioButtonComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-radiobutton',
                    template: "<span class=\"w-radiobutton\">\n\n    <ng-template [ngIf]=\"editable \">\n        <p-radioButton [name]=\"name\"\n                       [value]=\"value\"\n                       [label]=\"label\"\n                       [(ngModel)]=\"model\"\n                       [disabled]=\"disabled\"\n                       (ngModelChange)=\"onModelChange($event)\"\n                       [class.u-validation-error]=\"!(formControl.valid || (formControl.pristine))\">\n        </p-radioButton>\n    </ng-template>\n</span>\n",
                    providers: [
                        RAB_CONTROL_VALUE_ACCESSOR,
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return RadioButtonComponent; }) }
                    ],
                    styles: ["/deep/ .w-radiobutton .ui-radiobutton-box{width:23px;height:23px;line-height:23px}/deep/ .w-radiobutton .ui-radiobutton-icon{font-size:1.5em;line-height:1em}"]
                }] }
    ];
    /** @nocollapse */
    RadioButtonComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return FormRowComponent; }),] }] }
    ]; };
    RadioButtonComponent.propDecorators = {
        value: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        label: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onChange: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }]
    };
    return RadioButtonComponent;
}(BaseFormComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWRadioButtonModule = /** @class */ (function () {
    function AWRadioButtonModule() {
    }
    AWRadioButtonModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        RadioButtonComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["RadioButtonModule"]
                    ],
                    entryComponents: [
                        RadioButtonComponent
                    ],
                    exports: [
                        RadioButtonComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"]
                    ],
                    providers: []
                },] }
    ];
    return AWRadioButtonModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWRadioButtonListModule = /** @class */ (function () {
    function AWRadioButtonListModule() {
    }
    AWRadioButtonListModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        RadioButtonListComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        AWRadioButtonModule
                    ],
                    entryComponents: [
                        RadioButtonListComponent
                    ],
                    exports: [
                        RadioButtonListComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"]
                    ],
                    providers: []
                },] }
    ];
    return AWRadioButtonListModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWGenericChooserModule = /** @class */ (function () {
    function AWGenericChooserModule() {
    }
    AWGenericChooserModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        GenericChooserComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        AWCoreComponentModule,
                        AWDropdownModule,
                        AWCheckBoxListModule,
                        AWChooserModule,
                        AWRadioButtonListModule
                    ],
                    entryComponents: [
                        GenericChooserComponent
                    ],
                    exports: [
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        GenericChooserComponent
                    ]
                },] }
    ];
    return AWGenericChooserModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * OutlineState is the key gluing part for the OutlineFor and OutlineController components. It
 * holds all important information for the current outline tree and manages expansion states in form
 * of so called expansionPath and expansionStates
 *
 * We need to have a way how to work with generic data structure in order not to hold UI specific
 * information on the domain object model just like we had it before, where we had an interface
 * called OutlineNode, with fields (expanded, selected, etc.. )
 *
 *
 * `expansionPath`: Holds an array of currently selected and expanded nodes. This is filled by
 * OutlineController.
 *
 *
 * If we are dealing with Entity or anything that has identity then we have easier situation as we
 * can ask for ID and it is more efficient for serialization
 */
var OutlineState = /** @class */ (function () {
    function OutlineState() {
        /**
         *
         * When outline is rendered for first time or re-rendered and we set default value for the
         * expansionStates. This way we can pretty easily execute CollapseAll, ExpandAll
         *
         */
        this.isExpandedAll = false;
        /**
         *
         * Holds current level during tree node rendering so we can apply correct indentation
         *
         */
        this.currentLevel = -1;
        this.expansionStates = new Map();
    }
    /**
     * For the collapseAll and expandAll we are using simple mechanism where we clean up all
     * selection and then set the global expand state, this whey isExpand method returns the same
     * state for all items
     */
    /**
     * For the collapseAll and expandAll we are using simple mechanism where we clean up all
     * selection and then set the global expand state, this whey isExpand method returns the same
     * state for all items
     * @return {?}
     */
    OutlineState.prototype.collapseAll = /**
     * For the collapseAll and expandAll we are using simple mechanism where we clean up all
     * selection and then set the global expand state, this whey isExpand method returns the same
     * state for all items
     * @return {?}
     */
    function () {
        var _this = this;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.outlineFor) &&
            this.outlineFor.isTreeModelFormat()) {
            // for this case we collapse all but root nodes
            if (this.outlineFor.pushRootSectionOnNewLine) {
                this.outlineFor.list.forEach(function (item) {
                    _this.updateNodes(item.children || [], false);
                });
            }
            else {
                this.updateNodes(this.outlineFor.list || [], false);
            }
        }
        else {
            this.expansionStates.clear();
        }
        this.isExpandedAll = false;
    };
    /**
     * @return {?}
     */
    OutlineState.prototype.expandAll = /**
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.outlineFor) &&
            this.outlineFor.isTreeModelFormat()) {
            this.updateNodes(this.outlineFor.list, true);
        }
        else {
            this.expansionStates.clear();
        }
        this.isExpandedAll = true;
    };
    Object.defineProperty(OutlineState.prototype, "expansionPath", {
        get: /**
         * @return {?}
         */
        function () {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._expansionPath)) {
                this._expansionPath = [];
            }
            return this._expansionPath;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            var _this = this;
            this._expansionPath = value;
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._expansionPath)) {
                return;
            }
            this._expansionPath.forEach(function (item) {
                _this.setExpansionState(item, true);
            });
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} currentPath
     * @param {?=} children
     * @return {?}
     */
    OutlineState.prototype.toggleExpansion = /**
     * @param {?} currentPath
     * @param {?=} children
     * @return {?}
     */
    function (currentPath, children) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(currentPath)) {
            return;
        }
        /** @type {?} */
        var item = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].last(currentPath);
        /** @type {?} */
        var itemChildren = children || [];
        /** @type {?} */
        var newState = !this.isExpanded(item);
        this.setExpansionState(item, newState);
        if (!newState) {
            _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].removeLast(currentPath);
            this.updateNodes(itemChildren, newState);
        }
        this.setExpansionPath(currentPath);
    };
    /**
     * @param {?} nodes
     * @param {?} newState
     * @return {?}
     */
    OutlineState.prototype.updateNodes = /**
     * @param {?} nodes
     * @param {?} newState
     * @return {?}
     */
    function (nodes, newState) {
        var _this = this;
        nodes.forEach(function (child) {
            /** @type {?} */
            var items = _this.outlineFor.childrenForItem(child);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(items) && items.length > 0) {
                _this.updateNodes(items, newState);
            }
            _this.setExpansionState(child, newState);
        });
    };
    /**
     * @param {?} item
     * @param {?} isExpanded
     * @return {?}
     */
    OutlineState.prototype.setExpansionState = /**
     * @param {?} item
     * @param {?} isExpanded
     * @return {?}
     */
    function (item, isExpanded) {
        // Even for tree mode format save the state so we can use it later on in case object
        // references gets meesed up
        if (this.outlineFor &&
            this.outlineFor.isTreeModelFormat()) {
            (/** @type {?} */ (item)).isExpanded = isExpanded;
        }
        else {
            /** @type {?} */
            var key = this.itemToKey(item);
            if (isExpanded === this.isExpandedAll) {
                this.expansionStates.delete(key);
            }
            else {
                this.expansionStates.set(key, (isExpanded) ? true : false);
            }
        }
    };
    /**
     * To improve state persisting lets check if we are dealing with an Object that has Identity
     * so we can extract an ID otherwise use object to compare by reference
     *
     *
     * @param {?} item
     * @return {?}
     */
    OutlineState.prototype.itemToKey = /**
     * To improve state persisting lets check if we are dealing with an Object that has Identity
     * so we can extract an ID otherwise use object to compare by reference
     *
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isEntity"])(item) ? (/** @type {?} */ (item)).identity() : item;
    };
    /**
     * @param {?} items
     * @return {?}
     */
    OutlineState.prototype.setExpansionPath = /**
     * @param {?} items
     * @return {?}
     */
    function (items) {
        var _this = this;
        this.expansionPath = items;
        items.forEach(function (node) {
            _this.setExpansionState(node, true);
        });
    };
    /**
     * @param {?} item
     * @return {?}
     */
    OutlineState.prototype.isExpanded = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.outlineFor) &&
            this.outlineFor.isTreeModelFormat()) {
            return (/** @type {?} */ (item)).isExpanded;
        }
        else {
            /** @type {?} */
            var key = this.itemToKey(item);
            if (!this.expansionStates.has(key)) {
                return this.isExpandedAll;
            }
            return this.expansionStates.get(key);
        }
    };
    OutlineState.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"] }
    ];
    /** @nocollapse */
    OutlineState.ctorParameters = function () { return []; };
    return OutlineState;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * Checks type for OutlineNode
 *
 * @param {?} node
 * @return {?}
 */
function isOutlineNode(node) {
    return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(node) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])((/** @type {?} */ (node)))
        && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])((/** @type {?} */ (node)).parent)
        && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])((/** @type {?} */ (node)).children);
}
/**
 *
 * OutlineForComponent is like ngFor, but for hierarchical (outline/tree) structures -- i.e. in
 * those cases where an item may have children.
 *
 *
 * It uses outline `<aw-outline-control>` to provide expanding functionality, indentation
 * and other things.
 *
 *
 * This component has minimal styling to make sure it can be changed easily.
 *
 * ### Example rendering tree section, where based on the type we format the out plus
 * for the main root section we always render little popup menu.
 *
 * ```
 *
 *   <aw-outline-for [list]="list" [hasChildren]="hasChildren">
 *
 *       <ng-template #outline let-item>
 *
 *           <div class="my-section">
 *               <div class="outline">
 *                   <aw-outline-control>
 *                       <ng-container [ngSwitch]="item.type">
 *                           <ng-template [ngSwitchCase]="'text'">
 *                               <div class="as-paragraf">
 *                                   {{item?.content}}
 *                               </div>
 *                           </ng-template>
 *
 *
 *                           <ng-template ngSwitchDefault>
 *                               {{item?.content}}
 *                           </ng-template>
 *
 *
 *                       </ng-container>
 *
 *
 *                   </aw-outline-control>
 *               </div>
 *
 *               <div class="filters" *ngIf="item.type === 'section'" >
 *
 *                   <aw-hover-card [linkTitle]="'Filter Items'">
 *                       <aw-list [list]="filterItems" [borderless]="true"></aw-list>
 *                   </aw-hover-card>
 *
 *               </div>
 *           </div>
 *     </ng-template>`
 *   </aw-outline-for>
 *
 * ```
 *
 *
 * We can use it also in embedded mode where we use the `awOutlineFor` directive
 *
 * ## Example
 *
 *
 * ````
 *  <table  class="tree-table" >
 *      <thead>
 *          <tr>
 *              <th>Name</th>
 *              <th>Type</th>
 *          </tr>
 *      </thead>
 *      <tbody #ooo2 awOutlineFor [list]="list"
 *             [hasChildren]="hasChildren"
 *             class="outline-table"
 *      >
 *          <ng-template #outline let-item>
 *              <tr>
 *                  <td class="item-name outline-animation">
 *                      <div><aw-outline-control>
 *                          {{item?.content}}
 *                      </aw-outline-control></div>
 *                  </td>
 *                  <td class="item-type outline-animation">
 *                      <div>{{item.type}}</div>
 *                  </td>
 *              </tr>
 *          </ng-template>
 *      </tbody>
 *  </table>
 *
 * ```
 *
 * I was thinking maybe for first time we don't need the same animation like expanding and
 * collapsing. Maybe we need fade-in. In such case I would probably apply \@section anim only
 * on items where level > 0 (in the template I keep levels) and if level == 0 then I would
 * execute the same rendering just without [\@section]
 *
 *
 * Todo: Think about how to do animation for the table case. Must also write unitest - due to
 * AribaLive aggressive schedule we are skipping them for now
 *
 */
var OutlineForComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(OutlineForComponent, _super);
    function OutlineForComponent(env, _viewContainer, builder, element) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        _this._viewContainer = _viewContainer;
        _this.builder = builder;
        _this.element = element;
        /**
         * Tells the component not to render expansion control, in such case we expandAll as a
         * default behavior
         *
         */
        _this.showExpansionControl = true;
        /**
         * Opens all tree nodes.
         *
         */
        _this.expandAll = false;
        /**
         *
         * Set indentation size to be used for each level
         *
         */
        _this.indentationPerLevel = 25;
        _this.pushRootSectionOnNewLine = false;
        /**
         *
         * Identifies current model mode.
         *
         * We recognize two modes:
         *
         * Free - Application needs to implement a children method to retrieve a list of children for
         * each node and format is pretty much upt to the application
         *
         * Tree - this is more restrictive where we have concrete data structure
         * interface that needs to be folled
         *
         * todo: instead of passing format binding try to look into the list to see what type so
         * we dont make it mandatory
         *
         */
        _this.format = 'free';
        /**
         *
         * Used when in selection mode to push current selected Item to the application
         *
         */
        _this.onItemSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         *
         * This event is triggered by OutlineControl when node is expanded or collapsed
         *
         */
        _this.onExpandChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.embedded = false;
        /**
         * Flag that tells us that component is fully rendered
         *
         */
        _this.viewInitialized = false;
        return _this;
    }
    /**
     * @return {?}
     */
    OutlineForComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.state)) {
            this.state = new OutlineState();
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.state.outlineFor)) {
            this.state.outlineFor = this;
        }
        if (this.expandAll) {
            this.showExpansionControl = false;
        }
        this.state.isExpandedAll = this.expandAll;
        // in case we want to render content of tree outside of outlineFor
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.externalTemplate)) {
            this.controlTemplate = this.externalTemplate;
        }
        this.embedded = this.element.nativeElement.hasAttribute('awoutlinefor');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.context)) {
            this.context = this;
        }
    };
    /**
     * @return {?}
     */
    OutlineForComponent.prototype.ngDoCheck = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngDoCheck.call(this);
    };
    /**
     * @return {?}
     */
    OutlineForComponent.prototype.isTreeModelFormat = /**
     * @return {?}
     */
    function () {
        return this.format === 'tree';
    };
    /**
     * Used by template and OutlineControl to identify which item is expanded and collapsed
     *
     */
    /**
     * Used by template and OutlineControl to identify which item is expanded and collapsed
     *
     * @param {?} item
     * @param {?=} currentLevel
     * @return {?}
     */
    OutlineForComponent.prototype.isExpanded = /**
     * Used by template and OutlineControl to identify which item is expanded and collapsed
     *
     * @param {?} item
     * @param {?=} currentLevel
     * @return {?}
     */
    function (item, currentLevel) {
        if (currentLevel === void 0) { currentLevel = -1; }
        if (currentLevel === 0 && this.pushRootSectionOnNewLine) {
            // always override/reset for root nodes
            if (this.isTreeModelFormat()) {
                (/** @type {?} */ (item)).isExpanded = true;
            }
            return true;
        }
        return this.state.isExpanded(item);
    };
    /**
     *
     * Since we have currently two ways how to pass children items we need have this method to
     * unify the way how we access it. If we pass `children` binding we use this instead, otherwise
     * we expect current object to have `children` field
     *
     */
    /**
     *
     * Since we have currently two ways how to pass children items we need have this method to
     * unify the way how we access it. If we pass `children` binding we use this instead, otherwise
     * we expect current object to have `children` field
     *
     * @param {?} item
     * @return {?}
     */
    OutlineForComponent.prototype.childrenForItem = /**
     *
     * Since we have currently two ways how to pass children items we need have this method to
     * unify the way how we access it. If we pass `children` binding we use this instead, otherwise
     * we expect current object to have `children` field
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (this.isTreeModelFormat()) {
            return (/** @type {?} */ (item)).children || [];
        }
        else {
            return this.hasChildren(item) ? this.doGetChildren(item) : [];
        }
    };
    /**
     *
     * Check if the current item has a children and needs to be rendered
     *
     */
    /**
     *
     * Check if the current item has a children and needs to be rendered
     *
     * @param {?} item
     * @return {?}
     */
    OutlineForComponent.prototype.hasChildren = /**
     *
     * Check if the current item has a children and needs to be rendered
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (this.isTreeModelFormat()) {
            /** @type {?} */
            var children = (/** @type {?} */ (item)).children;
            return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(children) && children.length > 0;
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.children) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(item.children)) {
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(false, 'Missing [children] method binding');
        }
        return this.doGetChildren(item).length > 0;
    };
    /**
     * @param {?} item
     * @return {?}
     */
    OutlineForComponent.prototype.doGetChildren = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return this.children.apply(this.context, [item]);
    };
    /**
     *  Uses the `OutlineState` to toggle state of current selectionPath. The `selectionPath` is
     *  put together inside `OutlineControl` where we iterate all the way to the root and add
     *  each item to the `currentPath` array. This way we collect list of item representing current
     *  current expansionPath.
     *
     *
     */
    /**
     *  Uses the `OutlineState` to toggle state of current selectionPath. The `selectionPath` is
     *  put together inside `OutlineControl` where we iterate all the way to the root and add
     *  each item to the `currentPath` array. This way we collect list of item representing current
     *  current expansionPath.
     *
     *
     * @return {?}
     */
    OutlineForComponent.prototype.toggleExpansion = /**
     *  Uses the `OutlineState` to toggle state of current selectionPath. The `selectionPath` is
     *  put together inside `OutlineControl` where we iterate all the way to the root and add
     *  each item to the `currentPath` array. This way we collect list of item representing current
     *  current expansionPath.
     *
     *
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.animationInProgress) {
            // backup procedure in case onAnimationDone fails
            setTimeout(function () {
                if (_this.animationInProgress) {
                    // change only if its fails
                    _this.animationInProgress = false;
                }
            }, 200);
            return;
        }
        if (!this.embedded) {
            this.animationInProgress = true;
        }
        /** @type {?} */
        var currentItem = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].last(this.state.currentPath);
        this.state.toggleExpansion(this.state.currentPath, this.childrenForItem(currentItem));
        if (this.embedded) ;
    };
    /**
     * Angular anim. callback that sets back the flag to make sure we don't trigger animations
     * when one is in progress.
     *
     */
    /**
     * Angular anim. callback that sets back the flag to make sure we don't trigger animations
     * when one is in progress.
     *
     * @param {?} event
     * @return {?}
     */
    OutlineForComponent.prototype.onAnimationDone = /**
     * Angular anim. callback that sets back the flag to make sure we don't trigger animations
     * when one is in progress.
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.animationInProgress = false;
    };
    /**
     * Calculated indentation used to shift the nested section to the right or later on to the
     * left when RTL is supported
     *
     *
     */
    /**
     * Calculated indentation used to shift the nested section to the right or later on to the
     * left when RTL is supported
     *
     *
     * @param {?} currentLevel
     * @return {?}
     */
    OutlineForComponent.prototype.indentation = /**
     * Calculated indentation used to shift the nested section to the right or later on to the
     * left when RTL is supported
     *
     *
     * @param {?} currentLevel
     * @return {?}
     */
    function (currentLevel) {
        if (this.pushRootSectionOnNewLine && currentLevel > 0) {
            currentLevel -= 1;
        }
        return (currentLevel === 0 && this.pushRootSectionOnNewLine)
            ? 0 : (this.indentationPerLevel * currentLevel);
    };
    /**
     * Not all rows are visible by default, there can be a case where you dont want to render items
     * using outline. e.g. Datatable with detail row.
     */
    /**
     * Not all rows are visible by default, there can be a case where you dont want to render items
     * using outline. e.g. Datatable with detail row.
     * @param {?} item
     * @return {?}
     */
    OutlineForComponent.prototype.isVisible = /**
     * Not all rows are visible by default, there can be a case where you dont want to render items
     * using outline. e.g. Datatable with detail row.
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.filterOut)) {
            return !this.filterOut(item);
        }
        return true;
    };
    OutlineForComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-outline-for, [awOutlineFor]',
                    template: "<!--\n    Starts with the list, where nestingLevel is -1.\n    call template outlineItems to iterate and render each item\n-->\n<ng-container [ngIf]=\"list\" *ngTemplateOutlet=\"outlineItems;\n            context:{ $implicit: list, nestingLevel: 0, parentItem: null, expanded: true}\">\n</ng-container>\n\n<!--\n    Main Entry point for the recursion. this is called by the block above as well as byt the inner\n    piece that calls this template recursively again when an item has children\n-->\n<ng-template #outlineItems let-children let-nestingLevel=\"nestingLevel\"\n             let-parent=\"parentItem\" let-expanded=\"expanded\">\n\n    <ng-template ngFor let-item [ngForOf]=\"children\" let-rowIndex=\"index\">\n\n        <ng-container *ngTemplateOutlet=\"outlineItem;\n            context:{ $implicit: item, nestingLevel: nestingLevel, parentItem: parent,\n            expanded: expanded, rowIndex:rowIndex}\">\n        </ng-container>\n\n        <!--\n\n            Recursion piece:\n\n            For non embedded case when even if its not expanded we need to iterate children\n            as we want to apply animation that should go with ngIf which inside the outineItem\n            template\n\n            Dont recurse/ render items that are not visible.\n        -->\n\n        <ng-template [ngIf]=\"hasChildren(item) && (isExpanded(item, nestingLevel) || !embedded) && isVisible(item)\">\n            <ng-container *ngTemplateOutlet=\"outlineItems;\n                        context:{ $implicit: childrenForItem(item),\n                                nestingLevel: nestingLevel+1,\n                                expanded: isExpanded(item, nestingLevel),\n                                parentItem:item }\">\n            </ng-container>\n        </ng-template>\n    </ng-template>\n</ng-template>\n\n\n<!--\n    Renders actual outline node and applies animation while expanding and collapsing\n\n    [@section]=\"expanded || isExpanded(item) ? 'visible' : 'hidden'\"\n-->\n<ng-template #outlineItem let-item let-nestingLevel=\"nestingLevel\" let-parent=\"parentItem\"\n             let-rowIndex=\"rowIndex\"\n             let-expanded=\"expanded\">\n\n    <div class=\"w-outline-item\"\n         *ngIf=\"!embedded && expanded\"\n         [style.padding-left.px]=\"indentation(nestingLevel)\"\n         initNesting [setLevel]=\"nestingLevel\" [setParentItem]=\"parent\"\n         [setCurrrentItem]=\"item\"\n         [@section]\n         (@section.done)=\"onAnimationDone($event)\">\n\n        <ng-container *ngTemplateOutlet=\"controlTemplate;\n                        context:{ $implicit: item, nestingLevel: nestingLevel, rowIndex:rowIndex }\">\n        </ng-container>\n    </div>\n\n    <!--\n        When outline control is used as embedded meaning its inside e..g datatable we\n        cannot have any tags around it.\n\n        Todo: Refactor this in the way so we can do animation when table lines are\n        expanded. Since its embedded we can not have any wrapping element around, the template\n        is fully responsible\n    -->\n    <ng-template [ngIf]=\"embedded && expanded\"\n                 initNesting [setLevel]=\"nestingLevel\" [setParentItem]=\"parent\"\n                 [setCurrrentItem]=\"item\"\n    >\n        <ng-container #renderedItem *ngTemplateOutlet=\"controlTemplate;\n                        context:{ $implicit: item, nestingLevel: nestingLevel, rowIndex:rowIndex  }\">\n        </ng-container>\n    </ng-template>\n\n</ng-template>\n\n\n",
                    animations: [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_11__["trigger"])('section', [
                            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_11__["state"])('*', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_11__["style"])({
                                'overflow-y': 'hidden',
                                'height': '*',
                                'opacity': '1'
                            })),
                            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_11__["state"])('void', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_11__["style"])({
                                'height': '0',
                                'opacity': '0',
                                'overflow-y': 'hidden'
                            })),
                            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_11__["transition"])('* => void', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_11__["animate"])('200ms ease-out')),
                            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_11__["transition"])('void => *', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_11__["animate"])('200ms ease-in'))
                        ]),
                    ],
                    styles: [".is-outline-animation>div,::ng-deep .w-outline-item{overflow:hidden}"]
                }] }
    ];
    /** @nocollapse */
    OutlineForComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] },
        { type: _angular_animations__WEBPACK_IMPORTED_MODULE_11__["AnimationBuilder"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }
    ]; };
    OutlineForComponent.propDecorators = {
        list: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showExpansionControl: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        children: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        filterOut: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        expandAll: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        state: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        indentationPerLevel: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        externalTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        context: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        pushRootSectionOnNewLine: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        format: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onItemSelected: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onExpandChange: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        controlTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['outline',] }],
        outlineItem: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: ['renderedItem',] }]
    };
    return OutlineForComponent;
}(BaseComponent));
/**
 *
 * Since we can not directly set `*ngTemplateOutlet` context variables to the typescript class we
 * use this directive to do the Job
 *
 */
var InitNestingDirective = /** @class */ (function () {
    function InitNestingDirective(outline) {
        this.outline = outline;
    }
    /**
     * @return {?}
     */
    InitNestingDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.setLevel)) {
            this.outline.state.currentLevel = this.setLevel;
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.setCurrrentItem)) {
            this.outline.currentItem = this.setCurrrentItem;
            if (this.outline.isTreeModelFormat()) {
                this.outline.currentItem['$$parentItem']
                    = (/** @type {?} */ (this.setCurrrentItem)).parent;
            }
        }
        if (!this.outline.isTreeModelFormat() && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.setParentItem)) {
            this.outline.currentItem['$$parentItem'] = this.setParentItem;
        }
    };
    InitNestingDirective.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"], args: [{
                    selector: '[initNesting]'
                },] }
    ];
    /** @nocollapse */
    InitNestingDirective.ctorParameters = function () { return [
        { type: OutlineForComponent }
    ]; };
    InitNestingDirective.propDecorators = {
        setLevel: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        setCurrrentItem: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        setParentItem: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return InitNestingDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * OutlineControlComponent renders the indentation, arrow, and text for a node in an outline.
 * It should be used either in the body of an OutlineFor component, or inside datatable
 *
 *
 * ##Usage inside body:
 *
 *  Here you can see that we need to wrap out content inside ng-template which will push us
 *  give us current item item and then we can place OutlineControlComponent to control
 *  the tree.
 *
 * ```
 *  <aw-outline-for2 #ooo [list]="list" [hasChildren]="hasChildren">
 *
 *      <ng-template #outline let-item>
 *          <div class="my-section">
 *              <div class="outline">
 *                  <aw-outline-control>
 *                      {{item?.content}}
 *                  </aw-outline-control>
 *              </div>*
 *          </div>
 *      </ng-template>
 *  </aw-outline-for2>
 *
 *
 * ```
 *
 *
 *
 *
 */
var OutlineControlComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(OutlineControlComponent, _super);
    function OutlineControlComponent(env, outlineState, parentControl, outlineFor) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        _this.outlineState = outlineState;
        _this.parentControl = parentControl;
        _this.outlineFor = outlineFor;
        /**
         *
         *  If TRUE it changes the behavior of the outline node text which click is triggered
         *  it selects the item and broadcast the `onItemSelected` event
         *
         */
        _this.allowSelection = false;
        _this.allowEdit = false;
        /**
         *
         * Triggers action when outline item is expanded
         *
         */
        _this.action = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.isRootItem = false;
        return _this;
    }
    /**
     * @return {?}
     */
    OutlineControlComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        this.prepareControl();
    };
    /**
     *
     * We dont show expansion icons when there no children
     *
     */
    /**
     *
     * We dont show expansion icons when there no children
     *
     * @return {?}
     */
    OutlineControlComponent.prototype.hasExpansionControl = /**
     *
     * We dont show expansion icons when there no children
     *
     * @return {?}
     */
    function () {
        return this.outlineFor.hasChildren(this.item) && this.outlineFor.showExpansionControl;
    };
    /**
     * @return {?}
     */
    OutlineControlComponent.prototype.isSelected = /**
     * @return {?}
     */
    function () {
        return this.outlineFor.state.selectedItem === this.item;
    };
    /**
     * @return {?}
     */
    OutlineControlComponent.prototype.calculateStyleClass = /**
     * @return {?}
     */
    function () {
        if (!this.hasExpansionControl() ||
            (this.outlineFor.pushRootSectionOnNewLine && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.item.$$parentItem))) {
            return '';
        }
        if (this.outlineFor.embedded) {
            return this.outlineFor.isExpanded(this.item) ? 'icon-slim-arrow-down'
                : 'icon-slim-arrow-right';
        }
        else {
            return this.outlineFor.isExpanded(this.item)
                ? 'icon-slim-arrow-right outline-icon-expanded' : 'icon-slim-arrow-right';
        }
    };
    /**
     * Collapses and expands current node
     *
     */
    /**
     * Collapses and expands current node
     *
     * @param {?} event
     * @return {?}
     */
    OutlineControlComponent.prototype.toggleExpansion = /**
     * Collapses and expands current node
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.outlineFor.state.currentPath = [];
        /** @type {?} */
        var currentPath = this.item;
        while (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(currentPath)) {
            this.outlineFor.state.currentPath.unshift(currentPath);
            currentPath = currentPath.$$parentItem;
        }
        this.outlineFor.toggleExpansion();
        /** @type {?} */
        var payload = {
            item: this.item,
            expanded: this.outlineFor.state.isExpanded(this.item)
        };
        this.action.emit(payload);
        this.outlineFor.onExpandChange.emit(payload);
        event.stopPropagation();
    };
    /**
     * @return {?}
     */
    OutlineControlComponent.prototype.select = /**
     * @return {?}
     */
    function () {
        this.outlineFor.state.selectedItem = this.item;
        this.outlineFor.onItemSelected.emit(this.item);
    };
    /**
     * @return {?}
     */
    OutlineControlComponent.prototype.prepareControl = /**
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.outlineFor) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.outlineState)) {
            this.outlineFor = this.outlineState.outlineFor;
        }
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.outlineFor), 'Missing outlineFor component');
        if (this.outlineFor.embedded) {
            /** @type {?} */
            var level = this.outlineFor.state.currentLevel;
            if (this.outlineFor.pushRootSectionOnNewLine && level > 0) {
                level -= 1;
            }
            this.indentation = (this.outlineFor.indentationPerLevel * level);
        }
        this.item = this.outlineFor.currentItem;
        this.isRootItem = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.item.$$parentItem);
    };
    OutlineControlComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-outline-control',
                    template: "<!--\n    Control is just the two flex box items for displaying expand/collapse icon and content\n\n    Since we animate only standalone/non-embedded case now then we need to also animate the icon\n    so we use only icon-slim-arrow-right and do tranformation on top of this to make it rotate.\n\n    If embedded case we use both icons icon-slim-arrow-right / icon-slim-arrow-down\n-->\n<div class=\"w-outline-control\"\n     [ngClass]=\"{'outline-u-unselectable-text': outlineFor.pushRootSectionOnNewLine && !item.$$parentItem}\">\n    <div class=\"outline-icon sap-icon\"\n         *ngIf=\"!outlineFor.pushRootSectionOnNewLine || !isRootItem\"\n         (click)=\"toggleExpansion($event)\"\n         [style.margin-left.px]=\"indentation\"\n         [ngClass]=\"calculateStyleClass()\">\n    </div>\n\n    <ng-container *ngIf=\"allowSelection; then withSelection else withoutSelection\">\n    </ng-container>\n</div>\n\n<!--\n We support two case for the content\n\n Selection: When you click on the content it will add extra class so you can style currently\n selected item as well as broadcast event outside so developer can hook in some custom logic\n\n If we dont support selection: Then clicking on the content is just like clicking on expandable\n icon, it toggles the state\n-->\n\n<ng-template #withSelection>\n     <span class=\"outline-content outline-content-selected\" *ngIf=\"!allowEdit && isSelected()\">\n        <ng-container *ngTemplateOutlet=\"ngContent\"></ng-container>\n    </span>\n    <span class=\"outline-content\" *ngIf=\"!allowEdit && !isSelected()\" (click)=\"select()\">\n        <ng-container *ngTemplateOutlet=\"ngContent\"></ng-container>\n    </span>\n\n</ng-template>\n\n\n<ng-template #withoutSelection>\n    <span *ngIf=\"!allowEdit\" class=\"outline-content\" (click)=\"toggleExpansion($event)\">\n        <ng-container *ngTemplateOutlet=\"ngContent\"></ng-container>\n    </span>\n    <span *ngIf=\"allowEdit\" class=\"outline-content\">\n        <ng-container *ngTemplateOutlet=\"ngContent\"></ng-container>\n    </span>\n</ng-template>\n\n\n<ng-template #ngContent>\n    <ng-content></ng-content>\n</ng-template>\n\n",
                    styles: [".w-outline-control{overflow:hidden;display:flex;flex-wrap:nowrap;cursor:pointer}.w-outline-control .outline-icon{flex:0 0 15px;color:#ababab;font-size:14px;font-weight:700;min-width:11px;-ms-grid-row-align:center;align-self:center;transition:transform 50ms ease-in;transition:transform 50ms ease-in,-webkit-transform 50ms ease-in;-webkit-transform-origin:25% 65%;transform-origin:25% 65%;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.w-outline-control .outline-icon.outline-icon-expanded{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.w-outline-control .outline-content{flex:1 1 auto;flex-wrap:wrap;padding:0 4px}.w-outline-control .outline-content.outline-content-selected{cursor:default;font-weight:700}.outline-u-unselectable-text{-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-ms-user-select:none;user-select:none;cursor:auto}"]
                }] }
    ];
    /** @nocollapse */
    OutlineControlComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: OutlineState, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return OutlineState; }),] }] },
        { type: OutlineControlComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return OutlineControlComponent; }),] }] },
        { type: OutlineForComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return OutlineForComponent; }),] }] }
    ]; };
    OutlineControlComponent.propDecorators = {
        allowSelection: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        allowEdit: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        action: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }]
    };
    return OutlineControlComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWOutlineForModule = /** @class */ (function () {
    function AWOutlineForModule() {
    }
    AWOutlineForModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        OutlineForComponent,
                        OutlineControlComponent,
                        InitNestingDirective
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        AWCoreComponentModule
                    ],
                    exports: [
                        OutlineForComponent,
                        OutlineControlComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"]
                    ],
                    providers: []
                },] }
    ];
    return AWOutlineForModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 * Renders html text area component
 *
 * ### Example
 *
 * ```typescript
 *
 * \@Component({
 *          selector: 'myNote' ,
 *          template: '<aw-text-area [value]="inputValue" [autoResize]="autoResize" >
 *              </aw-text-area>'
 *      })
 *      export class MyNoteComponent
 *      {
 *          inputValue: string = 'Some really long text';
 *          autoResize: false;
 *      }
 *
 * ```
 *  Note: if you are using this outside of FormTable please provide your own FormGroup
  @type {?} */
var TEXTAREA_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return TextAreaComponent; }),
    multi: true
};
var TextAreaComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(TextAreaComponent, _super);
    function TextAreaComponent(env, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.parentContainer = parentContainer;
        /**
         *
         * A value used to store and read user input
         *
         */
        _this.value = '';
        /**
         * Spefifies visible number of lines
         */
        _this.rows = 2;
        /**
         * Specifies visible width
         */
        _this.columns = 20;
        /**
         * when this option is TRUE and user starts typing it will maximize textarea's width and height
         */
        _this.autoResize = true;
        return _this;
    }
    /**
     * @return {?}
     */
    TextAreaComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        _super.prototype.ngOnInit.call(this);
        _super.prototype.registerFormControl.call(this, this.value);
        this.formControl.valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["distinctUntilChanged"])()).subscribe(function (val) {
            _this.value = val;
            _this.onModelChanged(_this.value);
        });
    };
    /**
     * Internal. Please see ControlValueAccessor
     *
     */
    /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    TextAreaComponent.prototype.writeValue = /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value !== this.value) {
            this.value = value;
            this.formControl.setValue(value, { onlySelf: true });
        }
    };
    TextAreaComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-text-area',
                    template: "<div *ngIf=\"editable\" [formGroup]=\"formGroup\">\n\n\t<textarea\n        pInputTextarea\n        [attr.name]=\"name\"\n        class=\"w-text-area\"\n        [class.u-validation-error]=\"!(formControl.valid || (formControl.pristine))\"\n        [class.disabled]=\"disabled\"\n        formControlName=\"{{name}}\"\n        [rows]=\"rows\"\n        [cols]=\"columns\"\n        [autoResize]=\"autoResize\"\n        [attr.placeholder]=\"placeHolder\"\n\n    ></textarea>\n\n</div>\n\n\n<ng-template [ngIf]=\"!editable\">\n    <aw-string [value]=\"value\"></aw-string>\n</ng-template>\n",
                    providers: [
                        TEXTAREA_CONTROL_VALUE_ACCESSOR,
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return TextAreaComponent; }) }
                    ],
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    TextAreaComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return FormRowComponent; }),] }] }
    ]; };
    TextAreaComponent.propDecorators = {
        value: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        rows: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        columns: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        autoResize: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return TextAreaComponent;
}(BaseFormComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWTextAreaModule = /** @class */ (function () {
    function AWTextAreaModule() {
    }
    AWTextAreaModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        TextAreaComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputTextareaModule"],
                        AWStringFieldModule
                    ],
                    entryComponents: [
                        TextAreaComponent
                    ],
                    exports: [
                        TextAreaComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"]
                    ],
                    providers: []
                },] }
    ];
    return AWTextAreaModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * Page-Notification component that implements a notification system for the user regarding
 * the current object he's working on. Typical notification are:
 *      Success - saved.
 *      Warning - Sourcing request requires 3 suppliers.
 *      Error   - cannot connect to server, check internet connection.
 *
 *
 *
 * Usage 1:  As part of page wrapper.
 *
 * \@Component({
 *    selector: 'MyPage' ,
 *    template: `
 *       <aw-object-page-wrapper
 *                        [title]="MyPage"
 *                        [objectType]="MyType"
 *                        [notification]="pageNotification">
 *             page content
 *          `
 *       </aw-object-pager-wrapper>
 *    })
 *    export class MyPage
 *    {
 *
 *        pageNotification: PageNotification = new PageNotification("warn",
 *                              "Policy Warning", "This request requires 3 bids.");
 *
 *        constructor ()
 *        {
 *        }
 *    }
 *
 * Usage 2: directly into the page.
 *
 * \@Component({
 *    selector: 'registration' ,
 *    template: `
 *      <aw-header></aw-header>
 *        Page Header
 *
 *        <ng-template [ngIf]="hasNotifications()">
 *          <div class="ui-g-12 u-nopadding">
 *            <aw-page-notification [notification]="notification"></aw-page-notification>
 *          </div>
 *        </ng-template>
 *
 *      <aw-footer></aw-footer>
 *    `
 *    })
 *    export class MyPage
 *    {
 *
 *        notification: PageNotification = new PageNotification("warning",
 *                              "Policy Warning", "This request requires 3 bids.");
 *
 *        constructor ()
 *        {
 *        }
 *    }
 *
 */
var PageNotificationComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(PageNotificationComponent, _super);
    function PageNotificationComponent(element, env) {
        var _this = _super.call(this, env) || this;
        _this.element = element;
        _this.env = env;
        return _this;
    }
    /**
     * @return {?}
     */
    PageNotificationComponent.prototype.notificationClass = /**
     * @return {?}
     */
    function () {
        return "notification-" + this.notification.type;
    };
    /**
     * @return {?}
     */
    PageNotificationComponent.prototype.notificationIcon = /**
     * @return {?}
     */
    function () {
        return "ariba-icon icon-" + this.notification.type;
    };
    PageNotificationComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-page-notification',
                    template: "<div class=\"page-notification\">\n    <div [class]=\"notificationClass()\">\n        <i [class]=\"notificationIcon()\"></i>\n        <span class=\"content\">\n              <span class=\"title\">{{notification.title}}</span>\n              <span class=\"description\">\n                    <ng-template *ngIf=\"notification.hasTemplate(); else description\"\n                                 [ngTemplateOutlet]=\"notification.contentTmpl\">\n                    </ng-template>\n                    <ng-template #description>{{notification.description}}</ng-template>\n              </span>\n      </span>\n    </div>\n</div>\n",
                    styles: [".page-notification{margin:0 0 5px}.notification-error,.notification-info,.notification-success,.notification-warning{padding:9px 8px}.notification-error i,.notification-info i,.notification-success i,.notification-warning i{font-size:24px;margin:10px}.notification-success i{color:#58b957}.notification-info i{color:#199de0}.notification-warning i{color:#f90}.notification-error i{color:#c00}.notification-success{background-color:#f1f9f1;border:1px solid rgba(88,185,87,.5)}.notification-info{background-color:#edf8fd;border:1px solid rgba(25,157,224,.5)}.notification-warning{background-color:#fff8dd;border:1px solid rgba(255,153,0,.5)}.notification-error{background-color:#ffebeb;border:1px solid rgba(204,0,0,.5)}.icon-error:before{content:\"\\EA9D\"}.icon-warning:before{content:\"\\EA9C\"}.content{vertical-align:super}.title{font-weight:700;margin-right:10px}"]
                }] }
    ];
    /** @nocollapse */
    PageNotificationComponent.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    PageNotificationComponent.propDecorators = {
        notification: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return PageNotificationComponent;
}(BaseComponent));
/**
 * Page Notification are messages for this page only. It displays in the center of the page
 * right under page title. Typical page notifications are 'save confirmation',
 * 'error during submit', warnings of field requirements, etc.
 */
var  /**
 * Page Notification are messages for this page only. It displays in the center of the page
 * right under page title. Typical page notifications are 'save confirmation',
 * 'error during submit', warnings of field requirements, etc.
 */
PageNotification = /** @class */ (function () {
    function PageNotification(type, title, description, contentTmpl) {
        this.type = type;
        this.title = title;
        this.description = description;
        this.contentTmpl = contentTmpl;
    }
    /**
     * @return {?}
     */
    PageNotification.prototype.hasTemplate = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.contentTmpl);
    };
    /**
     * @return {?}
     */
    PageNotification.prototype.toString = /**
     * @return {?}
     */
    function () {
        return this.type + ', title: ' + this.title + ', description:  ' + this.description;
    };
    return PageNotification;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWPageNotificationModule = /** @class */ (function () {
    function AWPageNotificationModule() {
    }
    AWPageNotificationModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        PageNotificationComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"]
                    ],
                    entryComponents: [
                        PageNotificationComponent
                    ],
                    exports: [
                        PageNotificationComponent
                    ],
                    providers: []
                },] }
    ];
    return AWPageNotificationModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Represents an event triggered when a page has been initialized.
 *
 */
var  /**
 * Represents an event triggered when a page has been initialized.
 *
 */
PageInitialized = /** @class */ (function () {
    function PageInitialized(title) {
        this.title = title;
    }
    /**
     * @return {?}
     */
    PageInitialized.prototype.toString = /**
     * @return {?}
     */
    function () {
        return "PageInitializied(title: " + this.title + ")";
    };
    return PageInitialized;
}());
/**
 * Represents an event triggered when a page has been destroyed.
 *
 */
var  /**
 * Represents an event triggered when a page has been destroyed.
 *
 */
PageDestroyed = /** @class */ (function () {
    function PageDestroyed(title) {
        this.title = title;
    }
    /**
     * @return {?}
     */
    PageDestroyed.prototype.toString = /**
     * @return {?}
     */
    function () {
        return "PageDestroyed(title: " + this.title + ")";
    };
    return PageDestroyed;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Page LifeCycle Service monitors all page initialization and destructions.
 * The purpose of this service is to help the application monitor page lifecycle, subscribe
 * to lifecycle events and execute actions such as user analytics.
 *
 * Usage:
 *
 *    1.  Inject PageLifeCycleService into your constructor
 *
 *    constructor(pageLifecycle:PageLifeCycleService) {
 *        pageLifecycle.pageEvents.subscribe(event:Event => {
 *            if(event instanceof PageInitialized) {
 *            }
 *            // PageDestroyed
 *
 *        });
 *     }
 */
var PageLifeCycleService = /** @class */ (function () {
    /**
     *
     */
    function PageLifeCycleService() {
        /**
         * Page event queue when all page lifecycle events: init, destroy are emitted.
         * Listeners can subscribe to these events.
         */
        this.pageEvents = new rxjs__WEBPACK_IMPORTED_MODULE_6__["Subject"]();
    }
    /**
     * Called when page is initialized.
     * @param {?} pageTitle
     * @return {?}
     */
    PageLifeCycleService.prototype.onPageInit = /**
     * Called when page is initialized.
     * @param {?} pageTitle
     * @return {?}
     */
    function (pageTitle) {
        this.pageEvents.next(new PageInitialized(pageTitle));
    };
    /**
     * Call when page has been destroyed
     * @param {?} pageTitle
     * @return {?}
     */
    PageLifeCycleService.prototype.onPageDestroy = /**
     * Call when page has been destroyed
     * @param {?} pageTitle
     * @return {?}
     */
    function (pageTitle) {
        this.pageEvents.next(new PageDestroyed(pageTitle));
    };
    PageLifeCycleService.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"] }
    ];
    /** @nocollapse */
    PageLifeCycleService.ctorParameters = function () { return []; };
    return PageLifeCycleService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @enum {number} */
var PageType = {
    Init: 0,
    // Init Page type
    Login: 1,
    // Login Page
    Object: 2,
    // Object detail page
    List: 3,
    // List Page
    MasterDetail: 4,
    // MasterDetail
    Dashboard: 5,
    // Dashboard page
    Modal: 6 // Modal page, it can be configured to be a popup, or standalone page.
    ,
};
PageType[PageType.Init] = 'Init';
PageType[PageType.Login] = 'Login';
PageType[PageType.Object] = 'Object';
PageType[PageType.List] = 'List';
PageType[PageType.MasterDetail] = 'MasterDetail';
PageType[PageType.Dashboard] = 'Dashboard';
PageType[PageType.Modal] = 'Modal';
/**
 *  Page wrapper is the base class for all pages. The idea is that there are different page types
 *  in an Application. A List Page renders a list of objects, ex: customers, requests, PO.  And
 *  a object page will render one object in detail.
 *
 *  They share common attributes such as page type and page id.
 *
 *  Ariba Page have a life cycle. When page starts up, it's initialized. And when the page is
 *  destroyed, it'll be complete.
 * @abstract
 */
var  /**
 *  Page wrapper is the base class for all pages. The idea is that there are different page types
 *  in an Application. A List Page renders a list of objects, ex: customers, requests, PO.  And
 *  a object page will render one object in detail.
 *
 *  They share common attributes such as page type and page id.
 *
 *  Ariba Page have a life cycle. When page starts up, it's initialized. And when the page is
 *  destroyed, it'll be complete.
 * @abstract
 */
PageWrapper = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(PageWrapper, _super);
    function PageWrapper(env, pageType, componentRegistry, pageLifecycleService) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        _this.componentRegistry = componentRegistry;
        _this.pageLifecycleService = pageLifecycleService;
        /**
         * What type of page this is.
         *
         */
        _this.pageType = PageType.Init;
        _this.pageType = pageType;
        return _this;
    }
    /**
     * Get the unique Id for this page.
     *
     * @return {?}
     */
    PageWrapper.prototype.getId = /**
     * Get the unique Id for this page.
     *
     * @return {?}
     */
    function () {
        if (this.id) {
            return this.id;
        }
        this.id = this.generatePageId();
    };
    return PageWrapper;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *  This is a temporary implementation for the page header component.
 *  When the real implementation of side menu is done, PageHeaderComponent will
 *  be swaped to use it.
 *
 */
var SidenavComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(SidenavComponent, _super);
    function SidenavComponent(element, env) {
        var _this = _super.call(this, env) || this;
        _this.element = element;
        _this.env = env;
        return _this;
    }
    /**
     * @return {?}
     */
    SidenavComponent.prototype.getSidenavClass = /**
     * @return {?}
     */
    function () {
        // Only show if I have items
        return (this.show && this.items) ? 'sidenav sidenav-active' : 'sidenav';
    };
    /**
     * @return {?}
     */
    SidenavComponent.prototype.open = /**
     * @return {?}
     */
    function () {
        this.show = true;
    };
    /**
     * @return {?}
     */
    SidenavComponent.prototype.close = /**
     * @return {?}
     */
    function () {
        this.show = false;
    };
    /**
     * @return {?}
     */
    SidenavComponent.prototype.toggle = /**
     * @return {?}
     */
    function () {
        this.show = !this.show;
    };
    SidenavComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-sidenav',
                    template: "<div [ngClass]=\"getSidenavClass()\">\n    <div class=\"sidenav-content\">\n        <a *ngFor=\"let item of items\" [routerLink]=\"item.link\">\n            <span class=\"sidenav-icon\"><i [ngClass]=\"'sap-icon ' + item.icon\"></i></span>\n            {{item.label}}\n        </a>\n    </div>\n</div>\n",
                    styles: [".sidenav{height:100%;width:0;position:fixed;z-index:1;top:50px;left:0;background-color:#363636;overflow-x:hidden;padding-top:20px;transition:.5s}.sidenav-active{width:250px}.sidenav a{padding:8px 8px 8px 32px;text-decoration:none;font-size:16px;color:#fff;display:block;transition:.3s}.sidenav a:hover{background-color:#111}.sidenav-icon{font-size:30px;color:#ccc;margin-right:10px}"]
                }] }
    ];
    /** @nocollapse */
    SidenavComponent.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    SidenavComponent.propDecorators = {
        items: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        show: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return SidenavComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * Header component that implements consistent styling, behavior for an Ariba page.
 * Header includes a menu, user profile, and alerts.
 *
 * \@Component({
 *    selector: 'registration' ,
 *    template: `
 *                <aw-page-header [showBackAction]="true" userName="Chad Noll"
 *                                 [menuItems]="menuItems" [notifications]="userNotifications">
 *                     <div class="page-header-center">
 *                           <a class="navbar-brand" tabindex="0" href="/">
 *                               <img class="navbar-logo" src="./images/SAP_Ariba_DB.png"
 *                                   alt="Go to homepage" data-pin-nopin="true">
 *                          </a>
 *                     </div>
 *                </aw-page-header>
 *
 *    `
 *    })
 *    export class MyPage
 *    {
 *      menuItems: PageMenuItem[] = [new PageMenuItem('icon-home', 'Home', '/play/'),
 *                                  new PageMenuItem('icon-expense-report', 'Reports',
 *                                                     '/play/pageheader'),
 *                                  new PageMenuItem('icon-sales-order', 'Purchase Order',
 *                                                       '/play/pageheader'),
 *                                  new PageMenuItem('icon-account', 'Accounts',
 *                                                     '/play/pageheader')];
 *
 *     userNotifications: UserNotification[] = [
 *       new UserNotification('icon-expense-report', 'Expense report EXP453 has been approved.',
 *                             '/play/'),
 *         new UserNotification('icon-sales-order', 'Sales Order SO1234 has been created.',
 *                             '/play/'),
 *           new UserNotification('icon-account', 'Supplier account SA1234 has been updated.',
 *                               '/play/')
 *        ];
 *
 *        constructor ()
 *        {
 *        }
 *
 *    }
 */
var PageHeaderComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(PageHeaderComponent, _super);
    function PageHeaderComponent(element, env, routing) {
        var _this = _super.call(this, env) || this;
        _this.element = element;
        _this.env = env;
        _this.routing = routing;
        /**
         * Should the user notification icon be hidden. Default it to show the icon even
         * if there's no notifications.
         *
         */
        _this.hideNotification = false;
        /**
         * displays the back link that navigates user to the previous page when clicked.
         */
        _this.showBackAction = false;
        _this.showNotificationPanel = false;
        return _this;
    }
    /**
     * @return {?}
     */
    PageHeaderComponent.prototype.backAction = /**
     * @return {?}
     */
    function () {
        this.routing.goBack();
    };
    /**
     * Do i have any menu items.
     *
     */
    /**
     * Do i have any menu items.
     *
     * @return {?}
     */
    PageHeaderComponent.prototype.hasMenuItems = /**
     * Do i have any menu items.
     *
     * @return {?}
     */
    function () {
        return (this.menuItems && this.menuItems.length > 0);
    };
    /**
     * Toggle the side navigation menu.
     */
    /**
     * Toggle the side navigation menu.
     * @return {?}
     */
    PageHeaderComponent.prototype.showHideMenu = /**
     * Toggle the side navigation menu.
     * @return {?}
     */
    function () {
        this.sidenav.toggle();
    };
    /**
     * Do I have any notifications.
     *
     */
    /**
     * Do I have any notifications.
     *
     * @return {?}
     */
    PageHeaderComponent.prototype.hasNotifications = /**
     * Do I have any notifications.
     *
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.notifications) && this.notifications.length > 0;
    };
    /**
     * toggling wheather notification panel is displayed or not.
     */
    /**
     * toggling wheather notification panel is displayed or not.
     * @return {?}
     */
    PageHeaderComponent.prototype.toggleNotificationPanel = /**
     * toggling wheather notification panel is displayed or not.
     * @return {?}
     */
    function () {
        this.showNotificationPanel = !this.showNotificationPanel;
    };
    PageHeaderComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-page-header',
                    template: "<nav class=\"navbar page-header\" role=\"navigation\">\n\n    <div class=\"ui-g\">\n        <div class=\"ui-g-12 ui-md-4 navbar-left\">\n\n        <span *ngIf=\"hasMenuItems()\">\n            <a (click)=\"showHideMenu()\">\n                <i class=\"sap-icon icon-paging\"></i>\n            </a>\n\n            <!-- Side menu -->\n            <aw-sidenav #sidemenu [items]=\"menuItems\"></aw-sidenav>\n        </span>\n            <!-- End Hamburger menu. -->\n\n            <!--  back action -->\n            <span class=\"back-action\">\n            <a (click)=\"backAction()\">\n                <i *ngIf=\"showBackAction\" class=\"sap-icon icon-arrow-left\" role=\"button\"></i>\n            </a>\n        </span>\n\n        </div>\n\n        <div class=\"ui-g-12 ui-md-4 navbar-center\">\n\n            <!-- central section.  Application can add Ariba-logo, search box, etc -->\n            <ng-content select=\".page-header-center\"></ng-content>\n        </div>\n\n        <div class=\"ui-g-12 ui-md-4 navbar-right\">\n        <span *ngIf=\"userName\">\n            <img id=\"userProfilePicture\" class=\"profile-logo\" aria-hidden=\"true\"\n                 [title]=\"userName\" src=\"{{assetFolder}}/images/default_image_small.png\">\n            <span class=\"profile-user\" title=\"{{userName}}\">{{userName}}</span>\n        </span>\n\n            <span *ngIf=\"!hideNotification\" class=\"notification-container\">\n\n            <i #notificationIcon class=\"ariba-icon icon-notification\"\n               (click)=\"toggleNotificationPanel()\"></i>\n            <span *ngIf=\"hasNotifications()\" class=\"notification-badge\" aria-hidden=\"true\">{{notifications.length}}</span>\n\n                <!-- Originally I was using p-overlay-panel, however, it doesn't position correctly under the notification icon.\n                     The positioning logic in prime ng needs some more investigation. So for now, use a div instead-->\n            <div *ngIf=\"showNotificationPanel\" class=\"notification-panel\">\n\n                <div class=\"notification-header\">\n                     Notifications\n                </div>\n\n                <ul class=\"notification-content\">\n                    <li *ngFor=\"let noti of notifications\" class=\"notification-item\">\n                        <a [routerLink]=\"noti.link\">\n                            <span class=\"notification-item-icon\"><i\n                                [ngClass]=\"'sap-icon ' + noti.icon\"></i></span>\n                            {{noti.label}}\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </span>\n        </div>\n\n\n    </div>\n</nav>\n",
                    styles: [".page-header i{font-size:32px}.page-header .icon-paging{font-size:30px;position:relative;top:2px}.back-action{display:inline-block;margin-left:15px}.back-action i{position:relative;top:3px}.navbar{background:#000;color:#fff}.navbar-left{padding-left:15px;height:50px}.navbar-center{text-align:center;height:50px}.navbar-right{text-align:right;height:50px}.profile-logo{width:30px;height:30px;position:relative;top:2px}.profile-user{vertical-align:super;margin-right:30px}.icon-notification:before{content:\"\\eA14\"}.navbar #sidebar-menu-icon{position:relative;top:.5em}.notification-container{position:relative;margin-right:20px;display:inline-block}.notification-badge{display:inline-block;padding:2px 5px;font-size:12px;font-weight:700;color:#fff;background-color:#c00;border-radius:10px;position:absolute;top:0;left:16px}.notification-panel{position:absolute;right:-27px;top:45px;width:350px;color:#767676;box-shadow:0 2px 10px 0 rgba(0,0,0,.13);background-color:#fff;overflow:hidden;transition:.3s ease-in-out}.notification-panel .notification-header{background-color:#f3f3f3;font-size:16px;height:50px;line-height:50px;text-align:center}.notification-panel .notification-content{padding:0;margin:0}.notification-panel .notification-item{height:50px;border-top:1px solid #d7d7d7;padding:15px 10px;white-space:nowrap;text-overflow:ellipsis}.notification-panel .notification-item a{color:#767676;text-decoration:none;line-height:35px}.notification-panel .notification-item:hover{background-color:#f7f8fa}.notification-panel .notification-item-icon{margin-right:15px;color:#767676;display:inline-block;margin-top:10px;vertical-align:middle}"]
                }] }
    ];
    /** @nocollapse */
    PageHeaderComponent.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["RoutingService"] }
    ]; };
    PageHeaderComponent.propDecorators = {
        menuItems: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        notifications: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        hideNotification: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showBackAction: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        userName: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        sidenav: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: ['sidemenu',] }]
    };
    return PageHeaderComponent;
}(BaseComponent));
/**
 * PageMenuItem represents an item in the page menu structure.
 */
var  /**
 * PageMenuItem represents an item in the page menu structure.
 */
PageMenuItem = /** @class */ (function () {
    /**
     * @param icon    - Icon of this menu item.
     * @param label   - label of this item.
     * @param link    - link to the destination when user clicks on it.
     */
    function PageMenuItem(icon, label, link) {
        this.icon = icon;
        this.label = label;
        this.link = link;
    }
    /**
     * @return {?}
     */
    PageMenuItem.prototype.toString = /**
     * @return {?}
     */
    function () {
        return "PageMenuItem: (label, " + this.label + ")";
    };
    return PageMenuItem;
}());
/**
 * notification for the current logged in user.
 * Ex:  PR2049 has been approved.
 *      Order PO518 received.
 */
var  /**
 * notification for the current logged in user.
 * Ex:  PR2049 has been approved.
 *      Order PO518 received.
 */
UserNotification = /** @class */ (function () {
    /**
     * @param icon   - alert notification icon
     * @param label  - alert notification label
     * @param link   - link
     */
    function UserNotification(icon, label, link) {
        this.icon = icon;
        this.label = label;
        this.link = link;
    }
    /**
     * @return {?}
     */
    UserNotification.prototype.toString = /**
     * @return {?}
     */
    function () {
        return "PageUserNotification: (label, " + this.label + ")";
    };
    return UserNotification;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Footer component that implements consistent styling, behavior.
 * This footer component self contained.
 *
 * \@Component({
 *    selector: 'registration' ,
 *    template: `
 *
 *          <aw-page-footer>
 *               <div class="page-footer-logo">
 *                   <img src="images/ariba_logo_white_bkgd.png">
 *               </div>
 *               <div class="page-footer-user-info">
 *                   Chad Noll (cnoll) last visit {{last_visited | date:'MM/dd/yyyy h:mma' }}
 *                   | Buyer Organization
 *               </div>
 *               <span class="page-footer-copyright" #copyright>
 *                   <p>© 2020–2028 The Future, Inc. All rights reserved</p>
 *               </span>
 *           </aw-page-footer>
 *    `
 *    })
 *    export class MyPage
 *    {
 *        constructor ()
 *        {
 *        }
 *
 *    }
 */
var PageFooterComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(PageFooterComponent, _super);
    function PageFooterComponent(element, env) {
        var _this = _super.call(this, env) || this;
        _this.element = element;
        _this.env = env;
        /**
         * show default copyright. If copyright is passed in, then show the passed in one.
         */
        _this.showDefaultCopyright = true;
        return _this;
    }
    /**
     * @return {?}
     */
    PageFooterComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
    };
    /**
     * @return {?}
     */
    PageFooterComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        this.showDefaultCopyright = !Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.copyright);
    };
    PageFooterComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-page-footer',
                    template: "<div class=\"page-footer\">\n    <div class=\"ui-g\">\n        <div class=\"ui-g-12 ui-md-8\">\n\n            <ng-content select=\".page-footer-logo\"></ng-content>\n\n            <div class=\"user-info\">\n                <ng-content select=\".page-footer-user-info\"></ng-content>\n            </div>\n\n            <ul class=\"footer-links\">\n                <li role=\"presentation\"><a href=\"http://www.ariba.com/legal/ariba_tou.cfm\">Terms of\n                    Use</a></li>\n                <li role=\"presentation\"><a\n                    href=\"http://www.ariba.com/legal/ariba_security_policy.cfm\">Security\n                    Disclosure</a></li>\n                <li role=\"presentation\"><a\n                    href=\"http://www.ariba.com/legal/ariba_privacy_statement.cfm\">Privacy\n                    Statement</a></li>\n                <li role=\"presentation\"><a\n                    href=\"http://www.ariba.com/legal/ariba-privacy-statement\">Cookie Statement</a>\n                </li>\n                <li role=\"presentation\"><a\n                    href=\"http://www.ariba.com/legal/ariba-privacy-statement\">Participant\n                    Statement</a></li>\n            </ul>\n        </div>\n\n        <div class=\"ui-g-12 ui-md-4\">\n            <div class=\"u-bottom-align\"></div>\n            <div class=\"u-hright copyright\">\n                <ng-content select=\".page-footer-copyright\"></ng-content>\n            </div>\n\n            <!-- Default Copyright -->\n            <div *ngIf=\"showDefaultCopyright\" class=\"u-hright copyright\">\n                <p>\u00A9 1996\u20132017 Ariba, Inc. All rights reserved</p>\n            </div>\n\n        </div>\n    </div>\n</div>\n",
                    styles: [".page-footer{background:#fff;padding:15px 0 0;font-size:11px;border-top:1px solid #d7d7d7}.page-footer .user-info{color:#ccc}.page-footer .ui-g{margin:0 auto}.page-footer .copyright{color:#ccc}.footer-links{list-style:none;margin:0 -15px;padding:0;font-size:10px}.footer-links li{float:left}.footer-links:after,.footer-links:before{content:\" \";display:table}.footer-links:after{clear:both}.footer-links>li,.footer-links>li>a{position:relative;display:block}.footer-links>li>a{padding:10px 15px;color:#199de0}"]
                }] }
    ];
    /** @nocollapse */
    PageFooterComponent.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    PageFooterComponent.propDecorators = {
        copyright: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['copyright',] }]
    };
    return PageFooterComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * Object Page Wrapper Component renders any object instance in detail. It has a uniform layout,
 * Header, Page title, Page notification, actions, content, and Footer.
 *
 *
 *  Usage:
 *
 * \@Component({
 *    selector: 'RFXPage' ,
 *    template: `
 *       <aw-object-page-wrapper
 *                        [title]="rfxEntity.headerInfo.title"
 *                        [objectType]="rfxEntity.headerInfo.eventTypeString"
 *                        [notification]="pageNotification">
 *
 *
 *           <aw-page-actions>
 *               <aw-button [type]="'submit'" [name]="'edit'" [value]="edit" [style]="'primary'">
 *                   Edit
 *                </aw-button>
 *               <aw-button [type]="'button'" [name]="'cancel'" [value]="cancel"
 *                                                         [style]="'secondary'">
 *                  Cancel
 *               </aw-button>
 *           </aw-page-actions>
 *
 *           <aw-page-content>
 *             <aw-section title="Sourcing request info" (onStateChanged)="onStateChange($event)">
 *
 *                   <m-context [object]="rfxEntity.headerInfo"
 *                              [operation]="this.editabilityState.headerInfoOp"
 *                              layout="Inspect"
 *                              uiGroup="HeaderGeneral"
 *                   >
 *                       <m-include-component></m-include-component>
 *                   </m-context>
 *
 *             </aw-section>
 *           </aw-page-content>
 *       </aw-object-page-wrapper>
 *    `
 *    })
 *    export class RFXPage
 *    {
 *       // To keep track what section is editable and which read only
 *       editabilityState: EditabilityState;
 *
 *       // Current RFX event
 *       rfxEntity: RfxEventEntity;
 *
 *       // Notifications
 *       notification: PageNotification = new PageNotification("warn",
 *                              "Policy Warning", "This request requires 3 bids.");
 *
 *        constructor ()
 *        {
 *        }
 *
 *    }
 */
var ObjectPageWrapperComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(ObjectPageWrapperComponent, _super);
    function ObjectPageWrapperComponent(element, env, componentRegistry, pageLifecycleService) {
        var _this = _super.call(this, env, PageType.Object, componentRegistry, pageLifecycleService) || this;
        _this.element = element;
        _this.env = env;
        /**
         * Set true if page should not include any header. Need to set to true even no header
         * object is passed in. Otherwise, a default Header component will be added.
         */
        _this.hideHeader = false;
        /**
         * Set true if page should not include any footer. Need to set to true even no footer
         * object is passed in. Otherwise, a default Footer component will be added.
         */
        _this.hideFooter = false;
        /**
         * The positioning of the page actions (page buttons)
         *   'top' :    page buttons are placed at the top of the page, below the title, to the right.
         *   'bottom' : page buttons are placed at the bottom of the page, above the footer.
         *   'both'   : page buttons are placed at both top and bottom.
         *
         */
        _this.pageActionPosition = 'top';
        /**
         * This flag is driven by pageActionPosition. The default position is top.
         * Value is true for both 'top' and 'both' of pageActionPosition.
         */
        _this.hasTopPageActions = true;
        _this.objectStateIndex = 0;
        // Setting Default header component
        // Setting Default header component
        _this.header = PageHeaderComponent;
        _this.footer = PageFooterComponent;
        return _this;
    }
    /**
     * Generate a unique Id for this object.
     *
     */
    /**
     * Generate a unique Id for this object.
     *
     * @return {?}
     */
    ObjectPageWrapperComponent.prototype.generatePageId = /**
     * Generate a unique Id for this object.
     *
     * @return {?}
     */
    function () {
        return this.objectType + '_' + this.title + (this.id) ? ('_' + this.id) : '';
    };
    /**
     * Does my page have page notification?
     *
     */
    /**
     * Does my page have page notification?
     *
     * @return {?}
     */
    ObjectPageWrapperComponent.prototype.hasNotifications = /**
     * Does my page have page notification?
     *
     * @return {?}
     */
    function () {
        return (this.notifications && this.notifications.length > 0);
    };
    /**
     * @return {?}
     */
    ObjectPageWrapperComponent.prototype.hasObjectStates = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.objectStates);
    };
    /**
     * Initialize my local components
     */
    /**
     * Initialize my local components
     * @return {?}
     */
    ObjectPageWrapperComponent.prototype.ngOnInit = /**
     * Initialize my local components
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        // New Component types that are used in c-include-component
        if (this.header) {
            this.componentRegistry.registerType(this.header.name, this.header);
        }
        // New Component types that are used in c-include-component
        if (this.footer) {
            this.componentRegistry.registerType(this.footer.name, this.footer);
        }
        /** notify subscribers of the page lifecycle service  */
        this.pageLifecycleService.onPageInit(this.title);
        // Setting the page action position.
        if (this.pageActionPosition === 'bottom') {
            this.hasTopPageActions = false;
            this.hasBottomPageActions = true;
        }
        else if (this.pageActionPosition === 'both') {
            this.hasTopPageActions = true;
            this.hasBottomPageActions = true;
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.objectStates) && this.objectStates.length > 1
            && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.currentState)) {
            this.objectStateIndex = this.objectStates.indexOf(this.currentState);
        }
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    ObjectPageWrapperComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        _super.prototype.ngOnChanges.call(this, changes);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(changes['currentState']) &&
            changes['currentState'].currentValue !== changes['currentState'].previousValue) {
            // we dont need to check if objectStates exists
            this.objectStateIndex = this.objectStates.indexOf(this.currentState);
        }
    };
    /**
     * @return {?}
     */
    ObjectPageWrapperComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.pageLifecycleService.onPageDestroy(this.title);
    };
    ObjectPageWrapperComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-object-page-wrapper',
                    template: "<div class=\"page-wrapper\">\n    <ng-template [ngIf]=\"!hideHeader\">\n        <aw-include-component [name]='header.name'></aw-include-component>\n    </ng-template>\n\n    <div class=\"arc-object-detail\">\n\n        <div class=\"ui-g\">\n\n            <!-- page header -->\n            <div class=\"ui-g-12 page-title\">\n\n                <!-- page title -->\n                <div class=\"ui-g-8 ui-md-8 page-title-text\">{{title}}</div>\n\n                <div class=\"ui-g-4 ui-md-4 page-status\">\n                    <span class=\"object-status-label\">{{objectStatusLabel}} &nbsp;</span>\n                    <span class=\"object-status\">{{objectStatus}}</span>\n                </div>\n            </div>\n\n            <!-- page actions -->\n            <div class=\"ui-g-12 page-actions\" *ngIf=\"hasTopPageActions\">\n                <ng-template [embeddedItem]=\"actionsTemplate\"\n                             *ngIf=\"hasTopPageActions\"></ng-template>\n            </div>\n\n            <!-- object states  displays only if state exists. -->\n            <div class=\"ui-g-12 page-state\">\n                <div class=\"ui-g-3 page-state-left\" [class.content]=\"hasObjectStates()\">\n                    <ng-content select=\".page-state-left\"></ng-content>\n                </div>\n                <div class=\"ui-g-6 page-state-center\">\n                    <ng-container *ngIf=\"hasObjectStates()\">\n                        <aw-stepper [steps]=\"objectStates\"\n                                    [currentStep]=\"objectStateIndex\"></aw-stepper>\n                    </ng-container>\n                </div>\n                <div class=\"ui-g-3 page-state-right\">\n                    <ng-content select=\".page-state-right\"></ng-content>\n                </div>\n            </div>\n\n\n            <!-- Page Notification -->\n            <ng-template [ngIf]=\"hasNotifications()\">\n                <div class=\"ui-g-12 u-nopadding\">\n\n                    <aw-page-notification *ngFor=\"let notification of notifications\"\n                                          [notification]=\"notification\"></aw-page-notification>\n                </div>\n            </ng-template>\n\n            <!-- additional content -->\n            <ng-content select=\"aw-page-content\"></ng-content>\n\n        </div>\n\n    </div>\n\n    <!-- page actions -->\n    <div class=\"ui-g-12 page-actions-bottom\" *ngIf=\"hasBottomPageActions\">\n        <ng-template [embeddedItem]=\"actionsTemplate\"\n                     *ngIf=\"hasBottomPageActions\"></ng-template>\n\n    </div>\n\n    <div class=\"page-push\"></div>\n</div>\n\n<ng-template [ngIf]=\"!hideFooter\">\n    <aw-include-component [name]='footer.name'></aw-include-component>\n</ng-template>\n",
                    styles: [".page-wrapper{background-color:#f2f2f2;min-height:100%;margin-bottom:-100px}.arc-object-detail{padding:20px}.page-title-text{font-size:22px;color:#000;padding:14px 0}.page-title{padding:5px 0;border-bottom:1px solid #d7d7d7}.page-actions{padding:15px 0 5px}.page-actions-bottom{padding:0 20px}.page-state,.page-state-center,.page-state-left,.page-state-right{padding:0}.content::after{content:'\\x000a0';font-size:0}.page-title /deep/ .ui-button{min-width:100px}.page-status{text-align:right;padding:18px 0}.page-status .object-status-label{color:#767676}.page-status .object-status{font-weight:700;color:#038719}.page-push{height:100px}"]
                }] }
    ];
    /** @nocollapse */
    ObjectPageWrapperComponent.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: ComponentRegistry },
        { type: PageLifeCycleService }
    ]; };
    ObjectPageWrapperComponent.propDecorators = {
        title: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        objectType: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        objectStatusLabel: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        objectStatus: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        objectStates: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        currentState: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        header: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        hideHeader: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        footer: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        hideFooter: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        pageActionPosition: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        actionsTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['pageActions',] }],
        notifications: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return ObjectPageWrapperComponent;
}(PageWrapper));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Page actions is a wrapper for all page actions, buttons, links, menus that interacts it with the
 * page. The wrapper use the ability to position it as needed.
 */
var PageActionsComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(PageActionsComponent, _super);
    function PageActionsComponent(element, env) {
        var _this = _super.call(this, env) || this;
        _this.element = element;
        _this.env = env;
        return _this;
    }
    PageActionsComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-page-actions',
                    template: "<div class=\"page-actions\">\n    <ng-content></ng-content>\n</div>\n",
                    styles: [".page-actions{text-align:right;padding-top:0;padding-right:0}"]
                }] }
    ];
    /** @nocollapse */
    PageActionsComponent.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    return PageActionsComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Page content is a wrapper for page content.
 * Currently, it's pretty bare, but as we add more interactions on the page, like a side bar,
 * the page content area will likely get affected.
 */
var PageContentComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(PageContentComponent, _super);
    function PageContentComponent(element, env) {
        var _this = _super.call(this, env) || this;
        _this.element = element;
        _this.env = env;
        return _this;
    }
    PageContentComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-page-content',
                    template: '<ng-content></ng-content>',
                    styles: [':host {width: 100%; padding: 0 .5em;}']
                }] }
    ];
    /** @nocollapse */
    PageContentComponent.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    return PageContentComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var STEPPER_COMPLETED_STEP_COLOR = '#58b957';
/** @type {?} */
var STEPPER_CURRENT_STEP_COLOR = '#0076CB';
/** @type {?} */
var STEPPER_REMAINING_STEP_COLOR = '#D7D7D7';
/**
 * Stepper component displays a list of steps for user to follow. It can be used as a checklist
 * to indicate completed, current and remaining items. It could be also be used to indicate
 * the state of an document, created, submitted, approved, etc...
 *
 *
 * Usage:
 *   1.   Use the component inside your template. provide a list of steps and the current step.
 *
 * \@Component({
 *                selector: 'aw-page' ,
 *                           template: `
 *                <aw-stepper [steps]="steps" [currentStep]="currentStep"></aw-stepper>
 *
 *                  `
 *         export class MyPageComponent implements OnInit {
 *
 *                     steps: string[] = ['Monitor', 'Add Supplier', 'Get Quote'];
 *                     currentStep: number = 1;
 *
 *                     constructor(private modalService: ModalService) {
 *                          super();
 *                       }
 *                     ngOnInit() { }
 *       }
 *
 *   2.  Override the default colors.
 *
 * \@Component({
 *                selector: 'aw-page' ,
 *                           template: `
 *                            <aw-stepper [steps]="steps" [stepColorCurrent]="'#ff9900'"
 *                                        [stepColorRemaining]="'#CC0000'"
 *                                        [stepColorCompleted]="'#97a822'"
 *                                        [currentStep]="currentStep">
 *                            </aw-stepper>
 *                  `
 */
var StepperComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(StepperComponent, _super);
    function StepperComponent(env) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        /**
         * Local variable to indicate whether to use the colors array or not.
         */
        _this.bUseColorArray = false;
        /**
         * The current step that's on. If not provided default to the first step.
         */
        _this.currentStep = 0;
        // Initial color for the different stages of steps.
        // Initial color for the different stages of steps.
        _this.stepColorCompleted = STEPPER_COMPLETED_STEP_COLOR;
        _this.stepColorCurrent = STEPPER_CURRENT_STEP_COLOR;
        _this.stepColorRemaining = STEPPER_REMAINING_STEP_COLOR;
        return _this;
    }
    /**
     * @return {?}
     */
    StepperComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        // Calculate the connector width based on how many steps
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.steps) && this.steps.length > 1) {
            // (100% - 20% (side margins)) / (NumOfSteps -1)
            this.connectorWidth = Math.ceil(80 / (this.steps.length - 1)) + '%';
        }
        /**
                 * Use the color array if it's defined.
                 */
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.colors)) {
            this.bUseColorArray = true;
            if (this.colors.length !== this.steps.length) {
                throw new Error("The size of the steps and colors don't match:\n                  (steps.length = " + this.steps.length + "), (colors.length = " + this.colors.length);
            }
        }
    };
    /**
     * Getting the color of the step for the current index
     *
     * @param index
     */
    /**
     * Getting the color of the step for the current index
     *
     * @param {?} index
     * @return {?}
     */
    StepperComponent.prototype.getStepColor = /**
     * Getting the color of the step for the current index
     *
     * @param {?} index
     * @return {?}
     */
    function (index) {
        // Color Array overrides everything else.
        if (this.bUseColorArray) {
            return this.colors[index];
        }
        if (index < this.currentStep) {
            return this.stepColorCompleted;
        }
        else if (index === this.currentStep) {
            return this.stepColorCurrent;
        }
        else {
            return this.stepColorRemaining;
        }
    };
    /**
     * The connector colors are driven by the step colors.
     *
     */
    /**
     * The connector colors are driven by the step colors.
     *
     * @param {?} index
     * @return {?}
     */
    StepperComponent.prototype.getConnectorColor = /**
     * The connector colors are driven by the step colors.
     *
     * @param {?} index
     * @return {?}
     */
    function (index) {
        // Color Array overrides everything else.
        if (this.bUseColorArray) {
            return this.colors[index];
        }
        if (index < this.currentStep) {
            return this.stepColorCompleted;
        }
        else {
            return this.stepColorRemaining;
        }
    };
    /**
     * Next step.
     */
    /**
     * Next step.
     * @return {?}
     */
    StepperComponent.prototype.nextStep = /**
     * Next step.
     * @return {?}
     */
    function () {
        this.currentStep++;
    };
    /**
     * previous step.
     */
    /**
     * previous step.
     * @return {?}
     */
    StepperComponent.prototype.prevStep = /**
     * previous step.
     * @return {?}
     */
    function () {
        this.currentStep--;
    };
    StepperComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-stepper',
                    template: "<div class=\"stepper-container\">\n    <div class=\"steps\">\n        <div class=\"step-spacing\"></div>\n\n        <ng-container *ngFor=\"let step of steps; let i=index; let last=last;\">\n            <div class=\"step\">\n                <aw-step [title]=\"step\" [color]=\"getStepColor(i)\"></aw-step>\n            </div>\n            <div *ngIf=\"!last\" class=\"step-connector\" [style.width]=\"connectorWidth\">\n                <div class=\"connector\" [style.borderBottomColor]=\"getConnectorColor(i)\"></div>\n            </div>\n        </ng-container>\n\n        <div class=\"step-spacing\"></div>\n    </div>\n\n    <div class=\"step-labels\"></div>\n</div>\n\n\n",
                    styles: [".stepper-container{display:table;table-layout:fixed;width:100%}.steps{display:table-row}.step-spacing{display:table-cell;width:10%}.step{display:table-cell;width:32px}.step-connector{display:table-cell;vertical-align:middle}.connector{height:1px;border-bottom:3px solid #58b957}.step-labels{display:table-row;height:50px}"]
                }] }
    ];
    /** @nocollapse */
    StepperComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    StepperComponent.propDecorators = {
        steps: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        colors: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        stepColorCompleted: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        stepColorCurrent: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        stepColorRemaining: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        currentStep: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return StepperComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 * Renders html step component
 *
 *  * Usage:
 *       Straight forward to use. But mostly it would be used as part of the stepper component.
 *
 * \@Component({
 *                selector: 'aw-page' ,
 *                           template: `
 *                           <aw-step [title]="step" [color]="color"></aw-step>
 *                           `
  @type {?} */
var DEFAULT_COLOR = '#58b957';
var StepComponent = /** @class */ (function () {
    function StepComponent(env) {
        this.env = env;
    }
    /**
     * @return {?}
     */
    StepComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.color)) {
            this.color = DEFAULT_COLOR;
        }
    };
    StepComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-step',
                    template: "<div class=\"step-container\">\n    <div class=\"outer-circle\" [style.borderColor]=\"color\">\n        <div class=\"inner-circle\" [style.borderColor]=\"color\" [style.backgroundColor]=\"color\"></div>\n    </div>\n\n    <div class=\"step-title\">{{title}}</div>\n</div>\n\n",
                    styles: [".step-container{position:relative;width:32px}.outer-circle{width:26px;height:26px;border-radius:50%;background-color:#fff;border:3px solid #58b957;position:relative}.inner-circle{width:8px;height:8px;border-radius:50%;border:2px solid #58b957;background-color:#58b957;margin:0 auto;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.step-title{position:absolute;width:150px;top:40px;left:-60px;text-align:center}"]
                }] }
    ];
    /** @nocollapse */
    StepComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    StepComponent.propDecorators = {
        color: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        title: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return StepComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWStepperModule = /** @class */ (function () {
    function AWStepperModule() {
    }
    AWStepperModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        StepComponent,
                        StepperComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        AWCoreComponentModule,
                    ],
                    entryComponents: [
                        StepComponent,
                        StepperComponent
                    ],
                    exports: [
                        StepComponent,
                        StepperComponent
                    ],
                    providers: []
                },] }
    ];
    return AWStepperModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWPageWrapperModule = /** @class */ (function () {
    function AWPageWrapperModule() {
    }
    AWPageWrapperModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        ObjectPageWrapperComponent,
                        PageActionsComponent,
                        PageContentComponent,
                        PageFooterComponent,
                        PageHeaderComponent,
                        SidenavComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_router__WEBPACK_IMPORTED_MODULE_12__["RouterModule"],
                        AWCoreComponentModule,
                        AWStepperModule,
                        AWPageNotificationModule
                    ],
                    entryComponents: [
                        PageFooterComponent,
                        PageActionsComponent,
                        PageContentComponent,
                        PageHeaderComponent
                    ],
                    exports: [
                        ObjectPageWrapperComponent,
                        PageActionsComponent,
                        PageContentComponent,
                        PageFooterComponent,
                        PageHeaderComponent,
                        SidenavComponent
                    ],
                    providers: [PageLifeCycleService]
                },] }
    ];
    return AWPageWrapperModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @enum {number} */
var EditorType = {
    Default: 0,
    // Default Editor supports Minimal set of functionality
    // [ bold | italic | underline | ordered | bullet | alignment]
    Full: 1,
    // The full list of functionality,
    TextFormat: 2,
    // Functionalities that affects text formatting.
    Custom: 3 // Custom toolbar.
    ,
};
EditorType[EditorType.Default] = 'Default';
EditorType[EditorType.Full] = 'Full';
EditorType[EditorType.TextFormat] = 'TextFormat';
EditorType[EditorType.Custom] = 'Custom';
/** @type {?} */
var EDITOR_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return RichTextAreaComponent; }),
    multi: true
};
var RichTextAreaComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(RichTextAreaComponent, _super);
    function RichTextAreaComponent(env, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.parentContainer = parentContainer;
        /**
         * A value used to save and read when rendering and updating this component
         */
        _this.value = '';
        /**
         * Expose editorType so that it can be used in this components template.
         */
        _this.EditorType = EditorType;
        _this.type = EditorType.Default;
        _this.styleClass = 'default-editor';
        return _this;
    }
    /**
     * @return {?}
     */
    RichTextAreaComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        _super.prototype.ngOnInit.call(this);
        _super.prototype.registerFormControl.call(this, this.value);
        this.formControl.valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["distinctUntilChanged"])()).subscribe(function (val) {
            _this.value = val;
            _this.onModelChanged(_this.value);
        });
    };
    /**
     * Internal. Please see ControlValueAccessor
     */
    /**
     * Internal. Please see ControlValueAccessor
     * @param {?} value
     * @return {?}
     */
    RichTextAreaComponent.prototype.writeValue = /**
     * Internal. Please see ControlValueAccessor
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value !== this.value) {
            this.value = value;
            this.formControl.setValue(value);
        }
    };
    RichTextAreaComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-richtextarea',
                    template: "<ng-template [ngIf]=\"editable\">\n\n    <!-- Basic editor, also the default, which the most used features enabled. -->\n    <div *ngIf=\"type === EditorType.Default\">\n        <p-editor [(ngModel)]=\"value\" [styleClass]=\"styleClass\" [style]=\"{'height':'180px'}\"\n                  [placeholder]=\"placeHolder\">\n            <p-header>\n                    <span class=\"ql-formats\">\n                        <button class=\"ql-bold\" aria-label=\"Bold\"></button>\n                        <button class=\"ql-italic\" aria-label=\"Italic\"></button>\n                        <button class=\"ql-underline\" aria-label=\"Underline\"></button>\n                    </span>\n                <span class=\"ql-formats\">\n                        <button class=\"ql-list\" value=\"ordered\"></button>\n                        <button class=\"ql-list\" value=\"bullet\"></button>\n                    </span>\n                <span class=\"ql-formats\">\n                            <button value=\"left\" selected></button>\n                            <button value=\"center\"></button>\n                            <button value=\"right\"></button>\n                            <button value=\"justify\"></button>\n                    </span>\n            </p-header>\n        </p-editor>\n    </div>\n\n    <!-- Editor with all the features enabled -->\n    <div *ngIf=\"type === EditorType.Full\">\n        <p-editor [(ngModel)]=\"value\" [styleClass]=\"styleClass\" [style]=\"{'height':'180px'}\"\n                  [placeholder]=\"placeHolder\"></p-editor>\n    </div>\n\n    <!-- Editor with all Text formatting  -->\n    <div *ngIf=\"type === EditorType.TextFormat\">\n        <p-editor [(ngModel)]=\"value\" [styleClass]=\"styleClass\" [style]=\"{'height':'180px'}\"\n                  [placeholder]=\"placeHolder\">\n            <p-header>\n            <span class=\"ql-format-group\">\n              <select title=\"Font\" class=\"ql-font\">\n                <option value=\"sans-serif\" selected=\"\">Sans Serif</option>\n                <option value=\"serif\">Serif</option>\n                <option value=\"monospace\">Monospace</option>\n              </select>\n              <select title=\"Size\" class=\"ql-size\">\n                <option value=\"10px\">Small</option>\n                <option value=\"13px\" selected=\"\">Normal</option>\n                <option value=\"18px\">Large</option>\n                <option value=\"32px\">Huge</option>\n              </select>\n            </span>\n                <span class=\"ql-formats\">\n                    <button class=\"ql-bold\" aria-label=\"Bold\"></button>\n                    <button class=\"ql-italic\" aria-label=\"Italic\"></button>\n                    <button class=\"ql-underline\" aria-label=\"Underline\"></button>\n                </span>\n                <span class=\"ql-format-group\">\n              <select title=\"Text Color\" class=\"ql-color\">\n                <option value=\"rgb(0, 0, 0)\" label=\"rgb(0, 0, 0)\" selected=\"\"></option>\n                <option value=\"rgb(230, 0, 0)\" label=\"rgb(230, 0, 0)\"></option>\n                <option value=\"rgb(255, 153, 0)\" label=\"rgb(255, 153, 0)\"></option>\n                <option value=\"rgb(255, 255, 0)\" label=\"rgb(255, 255, 0)\"></option>\n                <option value=\"rgb(0, 138, 0)\" label=\"rgb(0, 138, 0)\"></option>\n                <option value=\"rgb(0, 102, 204)\" label=\"rgb(0, 102, 204)\"></option>\n                <option value=\"rgb(153, 51, 255)\" label=\"rgb(153, 51, 255)\"></option>\n                <option value=\"rgb(255, 255, 255)\" label=\"rgb(255, 255, 255)\"></option>\n                <option value=\"rgb(250, 204, 204)\" label=\"rgb(250, 204, 204)\"></option>\n                <option value=\"rgb(255, 235, 204)\" label=\"rgb(255, 235, 204)\"></option>\n                <option value=\"rgb(255, 255, 204)\" label=\"rgb(255, 255, 204)\"></option>\n                <option value=\"rgb(204, 232, 204)\" label=\"rgb(204, 232, 204)\"></option>\n                <option value=\"rgb(204, 224, 245)\" label=\"rgb(204, 224, 245)\"></option>\n                <option value=\"rgb(235, 214, 255)\" label=\"rgb(235, 214, 255)\"></option>\n                <option value=\"rgb(187, 187, 187)\" label=\"rgb(187, 187, 187)\"></option>\n                <option value=\"rgb(240, 102, 102)\" label=\"rgb(240, 102, 102)\"></option>\n                <option value=\"rgb(255, 194, 102)\" label=\"rgb(255, 194, 102)\"></option>\n                <option value=\"rgb(255, 255, 102)\" label=\"rgb(255, 255, 102)\"></option>\n                <option value=\"rgb(102, 185, 102)\" label=\"rgb(102, 185, 102)\"></option>\n                <option value=\"rgb(102, 163, 224)\" label=\"rgb(102, 163, 224)\"></option>\n                <option value=\"rgb(194, 133, 255)\" label=\"rgb(194, 133, 255)\"></option>\n                <option value=\"rgb(136, 136, 136)\" label=\"rgb(136, 136, 136)\"></option>\n                <option value=\"rgb(161, 0, 0)\" label=\"rgb(161, 0, 0)\"></option>\n                <option value=\"rgb(178, 107, 0)\" label=\"rgb(178, 107, 0)\"></option>\n                <option value=\"rgb(178, 178, 0)\" label=\"rgb(178, 178, 0)\"></option>\n                <option value=\"rgb(0, 97, 0)\" label=\"rgb(0, 97, 0)\"></option>\n                <option value=\"rgb(0, 71, 178)\" label=\"rgb(0, 71, 178)\"></option>\n                <option value=\"rgb(107, 36, 178)\" label=\"rgb(107, 36, 178)\"></option>\n                <option value=\"rgb(68, 68, 68)\" label=\"rgb(68, 68, 68)\"></option>\n                <option value=\"rgb(92, 0, 0)\" label=\"rgb(92, 0, 0)\"></option>\n                <option value=\"rgb(102, 61, 0)\" label=\"rgb(102, 61, 0)\"></option>\n                <option value=\"rgb(102, 102, 0)\" label=\"rgb(102, 102, 0)\"></option>\n                <option value=\"rgb(0, 55, 0)\" label=\"rgb(0, 55, 0)\"></option>\n                <option value=\"rgb(0, 41, 102)\" label=\"rgb(0, 41, 102)\"></option>\n                <option value=\"rgb(61, 20, 102)\" label=\"rgb(61, 20, 102)\"></option>\n              </select>\n              <span class=\"ql-format-separator\"></span>\n              <select title=\"Background Color\" class=\"ql-background\">\n                <option value=\"rgb(0, 0, 0)\" label=\"rgb(0, 0, 0)\"></option>\n                <option value=\"rgb(230, 0, 0)\" label=\"rgb(230, 0, 0)\"></option>\n                <option value=\"rgb(255, 153, 0)\" label=\"rgb(255, 153, 0)\"></option>\n                <option value=\"rgb(255, 255, 0)\" label=\"rgb(255, 255, 0)\"></option>\n                <option value=\"rgb(0, 138, 0)\" label=\"rgb(0, 138, 0)\"></option>\n                <option value=\"rgb(0, 102, 204)\" label=\"rgb(0, 102, 204)\"></option>\n                <option value=\"rgb(153, 51, 255)\" label=\"rgb(153, 51, 255)\"></option>\n                <option value=\"rgb(255, 255, 255)\" label=\"rgb(255, 255, 255)\" selected=\"\"></option>\n                <option value=\"rgb(250, 204, 204)\" label=\"rgb(250, 204, 204)\"></option>\n                <option value=\"rgb(255, 235, 204)\" label=\"rgb(255, 235, 204)\"></option>\n                <option value=\"rgb(255, 255, 204)\" label=\"rgb(255, 255, 204)\"></option>\n                <option value=\"rgb(204, 232, 204)\" label=\"rgb(204, 232, 204)\"></option>\n                <option value=\"rgb(204, 224, 245)\" label=\"rgb(204, 224, 245)\"></option>\n                <option value=\"rgb(235, 214, 255)\" label=\"rgb(235, 214, 255)\"></option>\n                <option value=\"rgb(187, 187, 187)\" label=\"rgb(187, 187, 187)\"></option>\n                <option value=\"rgb(240, 102, 102)\" label=\"rgb(240, 102, 102)\"></option>\n                <option value=\"rgb(255, 194, 102)\" label=\"rgb(255, 194, 102)\"></option>\n                <option value=\"rgb(255, 255, 102)\" label=\"rgb(255, 255, 102)\"></option>\n                <option value=\"rgb(102, 185, 102)\" label=\"rgb(102, 185, 102)\"></option>\n                <option value=\"rgb(102, 163, 224)\" label=\"rgb(102, 163, 224)\"></option>\n                <option value=\"rgb(194, 133, 255)\" label=\"rgb(194, 133, 255)\"></option>\n                <option value=\"rgb(136, 136, 136)\" label=\"rgb(136, 136, 136)\"></option>\n                <option value=\"rgb(161, 0, 0)\" label=\"rgb(161, 0, 0)\"></option>\n                <option value=\"rgb(178, 107, 0)\" label=\"rgb(178, 107, 0)\"></option>\n                <option value=\"rgb(178, 178, 0)\" label=\"rgb(178, 178, 0)\"></option>\n                <option value=\"rgb(0, 97, 0)\" label=\"rgb(0, 97, 0)\"></option>\n                <option value=\"rgb(0, 71, 178)\" label=\"rgb(0, 71, 178)\"></option>\n                <option value=\"rgb(107, 36, 178)\" label=\"rgb(107, 36, 178)\"></option>\n                <option value=\"rgb(68, 68, 68)\" label=\"rgb(68, 68, 68)\"></option>\n                <option value=\"rgb(92, 0, 0)\" label=\"rgb(92, 0, 0)\"></option>\n                <option value=\"rgb(102, 61, 0)\" label=\"rgb(102, 61, 0)\"></option>\n                <option value=\"rgb(102, 102, 0)\" label=\"rgb(102, 102, 0)\"></option>\n                <option value=\"rgb(0, 55, 0)\" label=\"rgb(0, 55, 0)\"></option>\n                <option value=\"rgb(0, 41, 102)\" label=\"rgb(0, 41, 102)\"></option>\n                <option value=\"rgb(61, 20, 102)\" label=\"rgb(61, 20, 102)\"></option>\n              </select>\n            </span>\n                <span class=\"ql-formats\">\n                <button class=\"ql-list\" value=\"ordered\"></button>\n                <button class=\"ql-list\" value=\"bullet\"></button>\n            </span>\n                <span class=\"ql-formats\">\n                    <button value=\"left\" selected></button>\n                    <button value=\"center\"></button>\n                    <button value=\"right\"></button>\n                    <button value=\"justify\"></button>\n            </span>\n            </p-header>\n        </p-editor>\n    </div>\n\n    <!-- Custom header Text Editor -->\n    <div *ngIf=\"type === EditorType.Custom\">\n        <p-editor [(ngModel)]=\"value\" [styleClass]=\"styleClass\" [style]=\"{'height':'180px'}\"\n                  [placeholder]=\"placeHolder\">\n            <p-header>\n                <ng-content select=\"custom-header\"></ng-content>\n            </p-header>\n        </p-editor>\n    </div>\n\n</ng-template>\n\n\n<ng-template [ngIf]=\"!editable\">\n    <aw-string [value]=\"value\"></aw-string>\n</ng-template>\n",
                    providers: [
                        EDITOR_CONTROL_VALUE_ACCESSOR,
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return RichTextAreaComponent; }) }
                    ],
                    styles: ["/deep/ .ui-editor-toolbar{background-color:#f5f5f5;border:1px solid #d7d7d7}/deep/ p-editor:active /deep/ .ui-editor-toolbar.ql-toolbar.ql-snow,/deep/ p-editor:focus /deep/ .ui-editor-toolbar.ql-toolbar.ql-snow,/deep/ p-editor:hover /deep/ .ui-editor-toolbar.ql-toolbar.ql-snow{border-color:#199de0}/deep/ p-editor:active /deep/ .ui-editor-content.ql-container.ql-snow,/deep/ p-editor:focus /deep/ .ui-editor-content.ql-container.ql-snow,/deep/ p-editor:hover /deep/ .ui-editor-content.ql-container.ql-snow{border-color:#199de0}"]
                }] }
    ];
    /** @nocollapse */
    RichTextAreaComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return FormRowComponent; }),] }] }
    ]; };
    RichTextAreaComponent.propDecorators = {
        type: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        value: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return RichTextAreaComponent;
}(BaseFormComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWRichTextAreaModule = /** @class */ (function () {
    function AWRichTextAreaModule() {
    }
    AWRichTextAreaModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        RichTextAreaComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["EditorModule"],
                        AWStringFieldModule
                    ],
                    entryComponents: [
                        RichTextAreaComponent
                    ],
                    exports: [
                        RichTextAreaComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"]
                    ],
                    providers: []
                },] }
    ];
    return AWRichTextAreaModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Allow developer to override default actions. Must have this declared before class when we
 * want to have this declaration inside the same file.
 */
var SectionActionsComponent = /** @class */ (function () {
    function SectionActionsComponent() {
    }
    SectionActionsComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-section-actions',
                    template: "<ng-content></ng-content> "
                }] }
    ];
    return SectionActionsComponent;
}());
/**
 *
 * Section component that implements a section of the page. It's an outline box that
 * has the ability to expand and hide its content.
 *
 * ```ts
 * \@Component({
 *    selector: 'rfx-details' ,
 *    template: `
 *         <aw-section title="Sourcing request info" (onEdit)="onStateChange($event)"
 *                          [editable]="true">
 *
 *                <m-context [object]="rfxEntity.headerInfo"
 *                          [operation]="this.editabilityState.headerInfoOp"
 *                          layout="Inspect"
 *                          uiGroup="HeaderGeneral">
 *                   <m-include-component></m-include-component>
 *               </m-context>
 *           </aw-section>
 *
 *
 *           <aw-section #supplierSection title="Selected suppliers" (onOpen)="onOpen()"
 *                [opened]="false">
 *               <supplier-profile-card></supplier-profile-card>
 *           </aw-section>
 *
 *           <aw-section title="RFQ Details"
 *                       description="Review and update information for suppliers to respond."
 *                       [disableClose]="true">
 *
 *               <aw-subsection title="Event timeline">
 *                   <aw-form-table [useFiveZone]="false" [editable]="true">
 *
 *                       <aw-form-row [label]="'Start Date'" [name]="'startDate'" [size]="'small'"
 *                                   [highlightRow]="true">
 *                           <aw-date-time
 *                               formatName="dateTime"
 *                               name="startDate" [value]="rfxEntity.created"
 *                               [showTime]="true"></aw-date-time>
 *                       </aw-form-row>
 *                   </aw-form-table>
 *               </aw-subsection>
 *          </aw-section>
 *    `
 *    })
 *    export class MyPage
 *    {
 *
 *        constructor ()
 *        {
 *        }
 *
 *    }
 *
 * ```
 *
 * Section component also supports editability modes and if enabled it will render action buttons
 * in the footer. Developer can also override default behavior and provide custom actions.
 *
 *
 * e.g:
 *
 * ```
 *      <aw-section [title]="title" [editable]="true"
 *                          (onCancelAction)="someHandler1($event)"
 *                          (onSaveAction)="someHandler2($event)" >
 *              section content
 *
 *
 *   </aw-section>
 *
 * ```
 *
 * or custom action buttons:
 *
 *
 * ```html
 *
 *       <aw-section-actions>
 *                      <aw-button >
 *                            ButtonTest1
 *                      </aw-button>
 *                      <aw-button>
 *                            ButtonTest2
 *                      </aw-button>
 *     </aw-section-actions>
 *
 * ```
 *
 *
 * There are two edit modes
 *  # Default
 *      Renders action buttons in the footers and emit actions to the application
 *
 *  # External
 *     No action buttons are shown in the footer and behavior is handled by application. Only event
 *     is emited.
 *
 *
 *  e.g:
 *
 *  ```ts
 *
 *      <aw-section title="User Information" (onEdit)="onAddSomething($event)"
 *                  [editable]="true" [editMode]="'external'" >
 *                  <div>
 *                      Content
 *                  </div>
 *      </aw-section>
 *
 *  ```
 *
 * Note: When using editing mode you have to call at the end of the editing cycle method
 * `completeEditing()` to commit editing which changes internal state of the Section.
 *
 *
 *
 */
var SectionComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(SectionComponent, _super);
    function SectionComponent(element, env) {
        var _this = _super.call(this, env) || this;
        _this.element = element;
        _this.env = env;
        /**
         * Should this section be opened at the start. Default is opened.
         */
        _this.opened = true;
        /**
         * Whether this section can be closed or not.
         *
         */
        _this.disableClose = false;
        /**
         * Whether this section is in EditState or not.
         *
         * When in editing state and we show "Cancel / Save" button developer needs use this binding
         * to control the state.
         */
        _this.editState = false;
        /**
         * Current Editing mode. Tells the components if its its default behavior or driven by
         * application using this component.
         *
         * {\@see EditMode}
         *
         */
        _this.editMode = 'default';
        /**
         * Developer can provide custom Edit action icon that will appear in the right top corner
         */
        _this.actionIcon = 'icon-edit';
        /**
         * Event emitted when the section is fully opened.
         */
        _this.onOpen = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Event emitted when the section is fully closed.
         */
        _this.onClose = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Edit state to broadcast state of current section
         */
        _this.onEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * When in editing state and default buttons are rendered on click broadcast Cancel action
         */
        _this.onCancelAction = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * When in editing state and default buttons are rendered on click broadcast Save action
         */
        _this.onSaveAction = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onEditingComplete = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.editable = false;
        return _this;
    }
    /**
     * @return {?}
     */
    SectionComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        // If I have not header, then I can't close the section.
        if (!this.isHeaderDisplayed()) {
            this.disableClose = true;
        }
        // If I can't close the section, then it should default open.
        if (this.disableClose) {
            this.opened = true;
        }
        // initialize the expanded state.
        this.expanded = this.opened;
    };
    /**
     * Don't display header area if I don't have title and description.
     *
     * @return {?}
     */
    SectionComponent.prototype.isHeaderDisplayed = /**
     * Don't display header area if I don't have title and description.
     *
     * @return {?}
     */
    function () {
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.title) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.description));
    };
    /**
     * Css Class that control the look and feel for section component.
     */
    /**
     * Css Class that control the look and feel for section component.
     * @return {?}
     */
    SectionComponent.prototype.aClass = /**
     * Css Class that control the look and feel for section component.
     * @return {?}
     */
    function () {
        if (!this.isHeaderDisplayed()) {
            return 'section-no-header';
        }
        return '';
    };
    /**
     * Since we introduced buttons and editState the decision on when to exit editing mode
     * should be on the developer using this component therefore only startEditing
     *
     */
    /**
     * Since we introduced buttons and editState the decision on when to exit editing mode
     * should be on the developer using this component therefore only startEditing
     *
     * @param {?} $event
     * @return {?}
     */
    SectionComponent.prototype.onEditAction = /**
     * Since we introduced buttons and editState the decision on when to exit editing mode
     * should be on the developer using this component therefore only startEditing
     *
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        // when in editing make sure we dont switch state as there can be some Form errors
        // which needs to be handled by developer and only then change the editState
        if (!this.editState) {
            this.editState = !this.editState;
            /** @type {?} */
            var state$$1 = (this.editState) ? 'inEdit' : 'notInEdit';
            this.onEdit.emit(state$$1);
            this.open();
        }
        // prevent the original event from bubbling up. Because the edit icon is inside
        // the header. If the click even is bubbled up, this event will cause the section to
        // expand or collapse.
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])($event.event)) {
            $event.event.stopPropagation();
            $event.event.preventDefault();
        }
    };
    /**
     * @return {?}
     */
    SectionComponent.prototype.hasDescription = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.description);
    };
    /**
     * Open this section, if it's already open, will do nothing.
     */
    /**
     * Open this section, if it's already open, will do nothing.
     * @param {?=} event
     * @return {?}
     */
    SectionComponent.prototype.open = /**
     * Open this section, if it's already open, will do nothing.
     * @param {?=} event
     * @return {?}
     */
    function (event) {
        if (!this.expanded) {
            this.accordionTab.toggle(event);
        }
    };
    /**
     * Close this section, if it's already close, will do nothing.
     */
    /**
     * Close this section, if it's already close, will do nothing.
     * @param {?} event
     * @return {?}
     */
    SectionComponent.prototype.close = /**
     * Close this section, if it's already close, will do nothing.
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (this.expanded) {
            this.accordionTab.toggle(event);
        }
    };
    /**
     * Callback to be invoked when accordion is opened
     *
     */
    /**
     * Callback to be invoked when accordion is opened
     *
     * @param {?} event
     * @return {?}
     */
    SectionComponent.prototype.onSectionOpen = /**
     * Callback to be invoked when accordion is opened
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.expanded = true;
        this.onOpen.emit('open');
    };
    /**
     * Callback to be invoked when accordion is closed
     *
     */
    /**
     * Callback to be invoked when accordion is closed
     *
     * @param {?} event
     * @return {?}
     */
    SectionComponent.prototype.onSectionClose = /**
     * Callback to be invoked when accordion is closed
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.expanded = false;
        this.onClose.emit('close');
    };
    /**
     *
     * Tells us if we need to render application defined custom actions
     *
     */
    /**
     *
     * Tells us if we need to render application defined custom actions
     *
     * @return {?}
     */
    SectionComponent.prototype.hasCustomActions = /**
     *
     * Tells us if we need to render application defined custom actions
     *
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.customActions);
    };
    /**
     * Emit the editing state back to non-editable
     */
    /**
     * Emit the editing state back to non-editable
     * @return {?}
     */
    SectionComponent.prototype.completeEditing = /**
     * Emit the editing state back to non-editable
     * @return {?}
     */
    function () {
        this.editState = false;
        this.onEditingComplete.emit(this.editState);
    };
    SectionComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-section',
                    template: "<div class=\"ui-g-12 section-container\"\n     [class.editing]=\"editable && editState && editMode === 'default'\">\n\n    <p-accordion (onOpen)=\"onSectionOpen($event)\" (onClose)=\"onSectionClose($event)\"\n                 [styleClass]=\"aClass()\">\n        <p-accordionTab #accordionTab [selected]=\"opened\" [disabled]=\"disableClose\">\n            <p-header>\n                <!-- title and description -->\n                <div class=\"section-header-container\">\n                    <div class=\"section-title\">{{title}}</div>\n                    <div *ngIf=\"hasDescription()\" class=\"section-description\">{{description}}</div>\n\n                    <!-- actions: Hide when in editing and editMode is default -->\n                    <div *ngIf=\"(editable && !editState && editMode === 'default') ||\n                        (editable && editMode === 'external')\"\n                         class=\"section-actions\">\n                        <aw-hyperlink (action)=\"onEditAction($event)\">\n                            <i class=\"sap-icon section-edit-action\" [ngClass]=\"actionIcon\"></i>\n                        </aw-hyperlink>\n                    </div>\n                </div>\n            </p-header>\n\n            <ng-content></ng-content>\n        </p-accordionTab>\n    </p-accordion>\n    <!--\n        need to put it outside of p-accordion otherwise button will inherit different\n        color scheme\n    -->\n    <div class=\"section-footer-container\" *ngIf=\"editable && editState &&\n            editMode === 'default'\">\n        <div class=\"footer-actions\">\n\n            <ng-template [ngIf]=\"!hasCustomActions()\">\n                <aw-button [style]=\"'secondary'\" size=\"small\"\n                           (action)=\"onCancelAction.emit($event)\">\n                    Cancel\n                </aw-button>\n                <aw-button size=\"small\" (action)=\"onSaveAction.emit($event)\">\n                    Save\n                </aw-button>\n            </ng-template>\n\n            <ng-content select=\"aw-section-actions\"></ng-content>\n        </div>\n    </div>\n</div>\n",
                    styles: [".section-header-container{position:relative}.section-container{margin:10px 0;background-color:#fff;padding:.2em .5em;border:2px dashed transparent}.section-container.editing{border-color:#199de0}.section-container ::ng-deep .ui-accordion-header>a{display:flex}.section-container ::ng-deep .ui-accordion-header>a .ui-accordion-toggle-icon{flex:0 0 30px;padding-top:2px}.section-container ::ng-deep .ui-accordion-header>a p-header{flex:1 0}.section-container /deep/ .ui-accordion-header.ui-state-disabled{opacity:1}.section-title{font-size:1.1em}.section-description{font-size:.9em;padding:.6em 0 .2em}.section-footer-container{margin:1em 2em 0;padding:.8em 0 1.5em .8em;border-top:1px solid #d7d7d7}.section-footer-container .footer-actions{display:inline-block;text-align:right;width:100%}.section-actions{position:absolute;top:0;right:0;z-index:1}.section-actions /deep/ a.link,.section-actions /deep/ a.link:hover{padding:0;text-decoration:none}.section-edit-action{font-size:1.5em;position:relative;padding:.1em 0 .1em .5em;cursor:pointer}.section-edit-action.icon-edit{font-size:1.4em}.section-container /deep/ .ui-accordion-header{color:#363636;border:none;background:#fff!important;padding:0 1em}.section-container /deep/ .ui-accordion-content{border:none;padding:1em 2em}.section-container /deep/ .ui-accordion-header /deep/ a[role=tab]{padding:.75em 0;text-decoration:none}.section-container /deep/ .ui-accordion-header.ui-state-active /deep/ a[role=tab]{border-bottom:1px solid #d7d7d7;color:#363636}.section-container /deep/ .section-no-header /deep/ .ui-accordion-header{height:1px}.section-container /deep/ .section-no-header /deep/ .ui-accordion-header.ui-state-active /deep/ a[role=tab]{border-bottom:none}.section-container /deep/ .section-no-header /deep/ .ui-accordion-header .section-edit-action{cursor:pointer!important}:host /deep/ .ui-accordion-header /deep/ .pi.pi-caret-down,:host /deep/ .ui-accordion-header /deep/ .pi.pi-caret-right{font-family:\"SAP icon fonts\";font-size:1.1em;top:.8em;left:.1em;color:#767676;margin-top:0}:host /deep/ .ui-accordion-header.ui-state-disabled /deep/ .fa,:host /deep/ .ui-accordion-header.ui-state-disabled /deep/ .pi{display:none}:host /deep/ .ui-accordion-header /deep/ .pi.pi-caret-right:before{content:\"\\e1ed\"}:host /deep/ .ui-accordion-header /deep/ .pi.pi-caret-down:before{content:\"\\e1ef\"}"]
                }] }
    ];
    /** @nocollapse */
    SectionComponent.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    SectionComponent.propDecorators = {
        title: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        description: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        opened: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        disableClose: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        editState: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        editMode: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        actionIcon: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onOpen: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onClose: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onEdit: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onCancelAction: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onSaveAction: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onEditingComplete: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        accordionTab: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: ['accordionTab',] }],
        customActions: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: [SectionActionsComponent,] }]
    };
    return SectionComponent;
}(BaseComponent));
var SubSectionComponent = /** @class */ (function () {
    function SubSectionComponent() {
    }
    SubSectionComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-subsection',
                    template: "\n                    <h4 class=\"subsection-title\">{{title}}</h4>\n                    <ng-content></ng-content>\n                 ",
                    styles: ['.subsection-title {color: #363636; }']
                }] }
    ];
    SubSectionComponent.propDecorators = {
        title: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return SubSectionComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWSectionModule = /** @class */ (function () {
    function AWSectionModule() {
    }
    AWSectionModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        SectionComponent,
                        SubSectionComponent,
                        SectionActionsComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["AccordionModule"],
                        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["AribaCoreModule"],
                        AWStringFieldModule,
                        AWHyperlinkModule,
                        AWButtonModule,
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SharedModule"]
                    ],
                    entryComponents: [
                        SectionComponent,
                        SubSectionComponent,
                        SectionActionsComponent
                    ],
                    exports: [
                        SectionComponent,
                        SectionActionsComponent,
                        SubSectionComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"]
                    ],
                    providers: []
                },] }
    ];
    return AWSectionModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * DTColumn represent single column including header and its body. Each column has its own
 * rendererTemplate which a entry to this component.
 *
 * Keeping this separate from the datatable where DT is not really aware what it is rendering,
 * it allows us more flexibility in terms of different type of column inheriting from this
 * one.. Such as:
 *  DTRowDetail  column
 *  DTSingleSelection column
 *  DTMultiSelection column
 *
 * This way we don't do IF/THEN/ELSE inside the datatable and trying to create different cases.
 *
 *  Then later on this will let us create additional logic for the pivotal layout. Because DT
 *  does know anything about the type of the column so whatever is added to the DT.columns it
 *  will be rendered.
 *
 *
 *  Columns can be also frozen meaning if the content overflows they dont scroll. To make the
 *  column frozen we need to use [frozen] binding and se it to TRUE plus it requires a [width]
 *  binding to be set (in px).
 *  We need this to be able to properly position the second table which is changed to absolute
 *  positioning.
 *
 *
 *
 */
var DTColumn2Component = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(DTColumn2Component, _super);
    function DTColumn2Component(env, domHandler) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        _this.domHandler = domHandler;
        /**
         *
         * Cell alignment. It inserts regular align attribute to the table cell
         *
         */
        _this.align = 'left';
        /**
         *
         * If false applies dt-is-hidden style that hides the column
         *
         */
        _this.isVisible = true;
        /**
         * Sorting direction
         *
         */
        _this.sortOrdering = 'descending';
        /**
         * Tells the template if whether to render a label
         *
         */
        _this.showColumnLabel = true;
        /**
         *
         * See AWDataTable
         *
         */
        _this.showSubHeader = false;
        /**
         *
         * Used together with cell selectionMode to tell which column is selectable
         *
         */
        _this.selectable = false;
        /**
         * Use globally defined HEADER template for current column
         *
         */
        _this.useGlobalHeader = true;
        /**
         * Use globally defined SubHeader template for current column
         *
         */
        _this.useGlobalSubHeader = true;
        /**
         * Use globally defined body template
         *
         */
        _this.useGlobalBody = true;
        /**
         * Tells if the column is data column  - if it is rendering data or just a label or some
         * control
         *
         * This is important when calculating a column span and we need to know which columns are or
         * will be just for selection controls and which holds data
         */
        _this.isDataColumn = true;
        /**
         * Identifies column that will not scroll horizontally with other columns. Column is
         * frozen.
         *
         * For such columns that are marked as frozen binding [width] is required.
         *
         */
        _this.frozen = false;
        _this.maxWidthPx = 0;
        _this.minWidthPx = 0;
        _this.widthPx = 0;
        _this.widestCell = 0;
        return _this;
    }
    /**
     * @return {?}
     */
    DTColumn2Component.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.key) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.label)) {
            throw new Error('Missing required binding: ' +
                '[key] or [label] bindings must be used at minimum');
        }
        // To be able to position second DT we require [width] to be set as well
        if (this.frozen && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.width)) {
            throw new Error('Missing required binding [width]: ' +
                'when [frozen]=true then [width] binding needs to be specified.');
        }
    };
    /**
     * @return {?}
     */
    DTColumn2Component.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    DTColumn2Component.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        // need to deffer this and trigger change detection otherwise I get
        // value was changed after it was checked error
        // setTimeout(() =>
        // {
        // });
    };
    /**
     *
     * When cell selectionMode is enabled this method is triggered when we click on header.
     * It delegates the call to the DT where it toggles currently selected value
     *
     */
    /**
     *
     * When cell selectionMode is enabled this method is triggered when we click on header.
     * It delegates the call to the DT where it toggles currently selected value
     *
     * @param {?} event
     * @param {?} element
     * @return {?}
     */
    DTColumn2Component.prototype.handleHeaderClick = /**
     *
     * When cell selectionMode is enabled this method is triggered when we click on header.
     * It delegates the call to the DT where it toggles currently selected value
     *
     * @param {?} event
     * @param {?} element
     * @return {?}
     */
    function (event, element) {
        if (this.isHeaderSelectable()) {
            this.dt.onHeaderSelectionChange(element, this);
        }
        else if (this.sortable) {
            this.sort(event);
        }
        event.preventDefault();
    };
    /**
     *
     * Todo: Implement our own sorting mechanism once we extract the sorting logic to its component
     *
     */
    /**
     *
     * Todo: Implement our own sorting mechanism once we extract the sorting logic to its component
     *
     * @param {?} event
     * @return {?}
     */
    DTColumn2Component.prototype.sort = /**
     *
     * Todo: Implement our own sorting mechanism once we extract the sorting logic to its component
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (!this.sortable) {
            return;
        }
        /** @type {?} */
        var targetNode = event.target;
        if (this.domHandler.hasClass(targetNode, 'dt-u-sortable') ||
            this.domHandler.hasClass(targetNode, 'dt-col-title') ||
            this.domHandler.hasClass(targetNode, 'dt-col-sortable-icon')) {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dt.sortColumn) && this.dt.sortColumn.key === this.key) {
                this.sortOrder = this.sortOrder * -1;
                this.sortOrdering = this.dt.sortOrderingForNumber(this.sortOrder);
            }
            else {
                this.dt.sortColumn = this;
            }
            this.dt.dataSource.state.sortKey = this.key;
            this.dt.dataSource.state.sortOrder = this.dt.sortOrderingForString(this.sortOrdering);
            this.dt.sortSingle();
        }
        this.dt.updateDataToRender();
    };
    /**
     * Calculated style class based on data
     *
     *
     */
    /**
     * Calculated style class based on data
     *
     *
     * @param {?} item
     * @return {?}
     */
    DTColumn2Component.prototype.dynamicBodyClass = /**
     * Calculated style class based on data
     *
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        /** @type {?} */
        var dynClass = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.bodyClassFn)
            ? this.bodyClassFn.apply(this.dt.context, [this, item]) : '';
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.bodyStyleClass)) {
            dynClass += ' ' + this.bodyStyleClass;
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.styleClass)) {
            dynClass += ' ' + this.styleClass;
        }
        return dynClass;
    };
    /**
     * @param {?} item
     * @return {?}
     */
    DTColumn2Component.prototype.isRowSelectable = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dt.isRowSelectable)) {
            return this.dt.isRowSelectable(item);
        }
        return false;
    };
    /**
     * @param {?} item
     * @return {?}
     */
    DTColumn2Component.prototype.isCellSelectable = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return this.dt.selectionMode === 'cell' && this.isRowSelectable(item) && this.selectable;
    };
    /**
     * @return {?}
     */
    DTColumn2Component.prototype.isHeaderSelectable = /**
     * @return {?}
     */
    function () {
        return this.dt.selectionMode === 'cell' && this.selectable;
    };
    /**
     * @return {?}
     */
    DTColumn2Component.prototype.getSortOrder = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var order = 0;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dt.sortColumn) && this.key === this.dt.sortColumn.key) {
            order = this.dt.sortColumn.sortOrder;
        }
        return order;
    };
    /**
     * @return {?}
     */
    DTColumn2Component.prototype.isSorted = /**
     * @return {?}
     */
    function () {
        if (!this.sortable) {
            return false;
        }
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dt.sortColumn) && this.key === this.dt.sortColumn.key;
    };
    /**
     * @param {?} table
     * @return {?}
     */
    DTColumn2Component.prototype.initialize = /**
     * @param {?} table
     * @return {?}
     */
    function (table) {
        this.dt = table;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dt.initialSortKey) && this.dt.initialSortKey === this.key) {
            this.sortable = true;
            this.sortOrder = this.dt.sortOrderingForString(this.dt.initialSortOrder);
            this.dt.sortColumn = this;
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.bodyTemplate) && this.useGlobalBody) {
            this.bodyTemplate = this.dt.bodyTemplate;
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.headerTemplate) && this.useGlobalHeader) {
            this.headerTemplate = this.dt.headerTemplate;
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.subHeaderTemplate) && this.useGlobalSubHeader) {
            this.subHeaderTemplate = this.dt.subHeaderTemplate;
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.bodyClassFn)) {
            this.bodyClassFn = this.dt.bodyClassFn;
        }
        this.maxWidthPx = this.widthToPx(this.maxWidth);
        this.minWidthPx = this.widthToPx(this.minWidth);
        this.widthPx = this.widthToPx(this.width);
    };
    /**
     * This method is called at the end of the view init cycle from the dt.ngAfterViewChecked.
     *
     * In case we use MaxWidth directive we set new width once for all columsn
     */
    /**
     * This method is called at the end of the view init cycle from the dt.ngAfterViewChecked.
     *
     * In case we use MaxWidth directive we set new width once for all columsn
     * @param {?} myIndex
     * @return {?}
     */
    DTColumn2Component.prototype.postInitialize = /**
     * This method is called at the end of the view init cycle from the dt.ngAfterViewChecked.
     *
     * In case we use MaxWidth directive we set new width once for all columsn
     * @param {?} myIndex
     * @return {?}
     */
    function (myIndex) {
        var _this = this;
        /** @type {?} */
        var colIndex = myIndex + 1;
        /** @type {?} */
        var table;
        if (this.dt.hasFrozenColumns()) {
            table = (/** @type {?} */ (this.dt)).el
                .nativeElement.querySelector('.dt-body-frozen table');
        }
        else {
            table = (/** @type {?} */ (this.dt)).el.nativeElement.querySelector('table');
        }
        if (this.widestCell > 0) {
            /** @type {?} */
            var all = table.querySelectorAll('tr th:nth-child(' + colIndex + '), ' +
                'tr td:nth-child(' + colIndex + ')').forEach(function (node) {
                node.style.width = _this.widestCell + 'px';
            });
        }
    };
    /**
     * You either use this binding directly and say its datacolumn or when there is a [key]
     * biding we know it refers to some field.
     *
     */
    /**
     * You either use this binding directly and say its datacolumn or when there is a [key]
     * biding we know it refers to some field.
     *
     * @return {?}
     */
    DTColumn2Component.prototype.isValueColumn = /**
     * You either use this binding directly and say its datacolumn or when there is a [key]
     * biding we know it refers to some field.
     *
     * @return {?}
     */
    function () {
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.isDataColumn) && _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].isTrue(this.isDataColumn)) ||
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.key);
    };
    /**
     * When we are in outline mode  we need to also indend each selection control accordingly.
     *
     * indent - 1 > only offset with
     * indent
     */
    /**
     * When we are in outline mode  we need to also indend each selection control accordingly.
     *
     * indent - 1 > only offset with
     * indent
     * @param {?} cell
     * @param {?} level
     * @return {?}
     */
    DTColumn2Component.prototype.indentForControl = /**
     * When we are in outline mode  we need to also indend each selection control accordingly.
     *
     * indent - 1 > only offset with
     * indent
     * @param {?} cell
     * @param {?} level
     * @return {?}
     */
    function (cell, level) {
        if (this.dt.isOutline() && level > 0 && cell.offsetWidth > 0
            && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(cell.nextElementSibling)) {
            /** @type {?} */
            var outlineNodePadding = parseInt(getComputedStyle(cell.nextElementSibling).paddingLeft) || 0;
            // 1st level is pushed as root
            if (this.dt.pushRootSectionOnNewLine) {
                return (level === 1) ? null : (this.dt.indentationPerLevel * level)
                    - outlineNodePadding;
            }
            else {
                return (this.dt.indentationPerLevel * level) + outlineNodePadding;
            }
        }
        return null;
    };
    /**
     *
     * Internal
     * @param {?} width
     * @return {?}
     */
    DTColumn2Component.prototype.widthToPx = /**
     *
     * Internal
     * @param {?} width
     * @return {?}
     */
    function (width) {
        /** @type {?} */
        var px;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(width)) {
            if (width.indexOf('%') > 0) {
                /** @type {?} */
                var nonPc = parseFloat(width) / 100;
                px = nonPc * (/** @type {?} */ (this.dt)).el.nativeElement.offsetWidth;
            }
            else {
                px = parseFloat(width);
            }
        }
        return px;
    };
    DTColumn2Component.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-dt-column2',
                    template: "<!--\n    To make it more readable Each Column type has its own rendering template instead of putting\n    all this into datatable as this is more responsibility of the column. And the main goal\n    was try to be modular as possible. When There will be different types of columns\n\n    - Regular DTColumn (current implementation),\n    - SelectionColumn (Single/Multi select) - todo,\n    - DetailRow column, then pivotal collumn to render row/column/detail attributes - todo.\n\n    When implementing new column type you just inherit this DTColumnComponent and provide your\n    own rendering template and DT take care of the rest.\n\n    todo: We have SingleSelect, Multiselect rendering template that is Added programatically\n    todo: We have pivotal rendering template\n\n\n-->\n<ng-template #renderingTemplate let-isHeader let-isSubHeader=\"isSubHeader\" let-column=\"column\"\n             let-dataToRender=\"data\"\n             let-columnIndex=\"columnIndex\"\n             let-rowIndex=\"rowIndex\">\n\n    <ng-template *ngIf=\"isHeader\" [ngTemplateOutlet]=\"colHeader\"\n                 [ngTemplateOutletContext]=\"{$implicit: isSubHeader, columnIndex:columnIndex, data: dataToRender,\n                 rowIndex:rowIndex}\">\n    </ng-template>\n\n    <ng-template *ngIf=\"!isHeader\" [ngTemplateOutlet]=\"colBody\"\n                 [ngTemplateOutletContext]=\"{$implicit: column, data:dataToRender,rowIndex:rowIndex}\">\n    </ng-template>\n</ng-template>\n\n\n<!--\n    Templates for header columns. Here we are rendering two types. Header and Subheader that we\n    usually use here as some kind of summary columns. Not really having summary at the bottom like other\n    DT.\n\n    TH column and their text are usually unselectable and most of these were inherited from\n    original PrimeNg DT even not many things got left after we refactor this but the idea is the\n    same.\n\n    Each cell has its dt-cell-def class that sets default styling like font, background, alignment\n    padding, etcs..\n\n\n-->\n<ng-template #colHeader let-isSubHeader let-columnIndex=\"columnIndex\" let-data=\"data\" let-rowIndex=\"rowIndex\">\n\n    <th #headerCell1 [class]=\"headerStyleClass||styleClass\" *ngIf=\"!isSubHeader\"\n        (click)=\"handleHeaderClick($event, headerCell1)\"\n        [ngClass]=\"{'dt-is-default dt-u-unselectable-text' :true,\n                    'dt-cell-def': dt.selectionMode !== 'cell' || (!dt.isOutline() || !dt.pivotalLayout),\n                    'dt-u-sortable': sortable,\n                    'dt-is-active': isSorted(),\n                    'dt-is-hidden': !isVisible}\"\n        [attr.width]=\"width\"\n        [attr.align]=\"align\"\n        [attr.tabindex]=\"sortable ? 1 : null\"\n        [dtMaxWidth]=\"maxWidthPx\"\n    >\n\n        <ng-template [ngIf]=\"dt.headerFilterTemplate && columnIndex === 0 \">\n            <ng-container *ngTemplateOutlet=\"dt.headerFilterTemplate\">\n            </ng-container>\n        </ng-template>\n        <!--\n            when cell are selectable we need two version where one wrap the cell content in div\n        -->\n        <ng-template [ngIf]=\"isHeaderSelectable()\">\n            <ng-container *ngTemplateOutlet=\"selectableHeaderCell; context: {$implicit: this}\">\n            </ng-container>\n        </ng-template>\n\n\n        <ng-template [ngIf]=\"!isHeaderSelectable()\">\n            <ng-container *ngTemplateOutlet=\"nonSelectableHeaderCell; context: {$implicit: this}\">\n            </ng-container>\n        </ng-template>\n    </th>\n\n    <th #headerCell2 [class]=\"headerStyleClass||styleClass\" *ngIf=\"isSubHeader\"\n        [attr.width]=\"width\"\n        [attr.align]=\"align\"\n        [ngClass]=\"{'dt-is-default dt-cell-def dt-sub-header dt-u-unselectable-text':true}\"\n        [dtMaxWidth]=\"maxWidthPx\">\n\n        <span class=\"dt-col-title\" *ngIf=\"dt.showSubHeader && subHeaderTemplate\">\n            <ng-container *ngTemplateOutlet=\"subHeaderTemplate;\n                    context: {$implicit: this, rowData: data, rowIndex: rowIndex}\">\n            </ng-container>\n        </span>\n    </th>\n</ng-template>\n\n\n<!--\n    Template for the body = the TD. For the body and we might want to do the same for header we\n    allow to have calculated body class that comes from the application. So based on the data types\n    you might want to apply different class in order to apply custom styling.\n-->\n<ng-template #colBody let-data=\"data\" let-rowIndex=\"rowIndex\">\n\n    <td #cell [class]=\"dynamicBodyClass(data)\"\n        (click)=\"dt.onCellSelectionChange(cell, this, data)\"\n        [attr.width]=\"width\"\n        [attr.align]=\"align\"\n        [ngClass]=\"{ 'dt-is-default': true,\n        'dt-cell-def': !isCellSelectable(data),\n        'dt-is-hidden': !isVisible}\"\n        [dtMaxWidth]=\"maxWidthPx\"\n        >\n\n        <!--\n            Since we need to support cell selection when we need to draw border around it\n            We are wrapping such sells with div which gives us better flexibility\n        -->\n        <ng-template [ngIf]=\"isCellSelectable(data)\">\n            <ng-container *ngTemplateOutlet=\"selectableBodyCell;\n                        context: {$implicit: this, data: data, rowIndex: rowIndex }\">\n            </ng-container>\n\n        </ng-template>\n\n\n        <ng-template [ngIf]=\"!isCellSelectable(data)\">\n            <ng-container *ngTemplateOutlet=\"nonSelectableBodyCell;\n                        context: {$implicit: this, data: data, rowIndex: rowIndex}\">\n            </ng-container>\n        </ng-template>\n\n    </td>\n</ng-template>\n\n<!--\n    Todo: create better solution instead of using different template create directive that wraps\n    it with the div conditionally\n-->\n<ng-template #selectableHeaderCell let-data=\"data\" let-rowIndex=\"rowIndex\">\n\n    <div class=\"dt-cell-def-selectable\"\n         [ngClass]=\"{'dt-cell-selected': dt.isHeaderSelected(this)}\">\n        <ng-container *ngTemplateOutlet=\"headerCellContent;\n                        context: {$implicit: this, data: data, rowIndex: rowIndex}\">\n        </ng-container>\n    </div>\n</ng-template>\n\n\n<ng-template #nonSelectableHeaderCell let-data=\"data\" let-rowIndex=\"rowIndex\">\n    <ng-container *ngTemplateOutlet=\"headerCellContent;\n                        context: {$implicit: this, data: data, rowIndex: rowIndex}\">\n    </ng-container>\n</ng-template>\n\n\n<ng-template #headerCellContent let-data=\"data\" let-rowIndex=\"rowIndex\">\n    <span class=\"dt-col-title\" *ngIf=\"showColumnLabel && !headerTemplate\">\n                {{label}}\n    </span>\n\n    <span class=\"dt-col-title\" *ngIf=\"showColumnLabel && headerTemplate\">\n                    <ng-container *ngTemplateOutlet=\"headerTemplate;\n                        context: {$implicit: this, rowData: data, rowIndex: rowIndex }\">\n                    </ng-container>\n    </span>\n\n    <span class=\"dt-col-sortable-icon sap-icon icon-sort\" *ngIf=\"sortable\"\n          [ngClass]=\"{'icon-sort-descending': (getSortOrder() == -1),\n                           'icon-sort-ascending': (getSortOrder() == 1)}\">\n    </span>\n</ng-template>\n\n\n<ng-template #selectableBodyCell let-data=\"data\" let-rowIndex=\"rowIndex\">\n    <div class=\"dt-cell-def-selectable\"\n         [ngClass]=\"{'dt-cell-selected': dt.isBodyCellSelected(this, data)}\">\n        <ng-container *ngTemplateOutlet=\"bodyCellContent;\n                        context: {$implicit: this, data: data, rowIndex: rowIndex}\">\n        </ng-container>\n    </div>\n</ng-template>\n\n\n<ng-template #nonSelectableBodyCell let-data=\"data\" let-rowIndex=\"rowIndex\">\n    <ng-container *ngTemplateOutlet=\"bodyCellContent;\n                        context: {$implicit: this, data: data, rowIndex: rowIndex}\">\n    </ng-container>\n</ng-template>\n\n\n<ng-template #bodyCellContent let-data=\"data\" let-rowIndex=\"rowIndex\">\n    <!--\n           when no template is used use our FieldPath to access the object value based on the\n           key binding\n        -->\n    <span class=\"dt-col-cell-data\" *ngIf=\"!bodyTemplate\">\n            {{dt.getValue(data, key)}}\n        </span>\n\n\n    <!--\n        In case application wants to provide their own cell component they use\n        #body ng-template to do so.\n    -->\n    <span class=\"dt-col-cell-data\" *ngIf=\"bodyTemplate\">\n            <ng-container *ngTemplateOutlet=\"bodyTemplate;\n            context: {$implicit: this, rowData: data, rowIndex: rowIndex}\"></ng-container>\n        </span>\n</ng-template>\n",
                    encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
                    providers: [primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DomHandler"]],
                    styles: [".dt-sortable-col{cursor:pointer}.dt-col-sortable-icon{display:inline-block;margin-left:.125em}th.dt-cell-def{font-weight:400;color:#4a4a4a}th.dt-is-default{background-color:#f2f2f2;white-space:nowrap}th.dt-is-default.dt-cell-def:not(.dt-sub-header){border-bottom-color:#f2f2f2}th.dt-sub-header{background-color:#fff}th .dt-cell-selected{border-color:#58b957}td .dt-cell-selected{border-left-color:#4f9fcf}.dt-root-section .dt-selection-column,.dt-selection-column{width:46px;padding:0 12px}.dt-pivot-layout td.dt-selection-column,th.dt-selection-column{border-right-color:transparent}thead tr:first-child th{border-top-color:transparent}tbody tr:last-child:not(.dt-drag-row-bottom) td{border-bottom-color:transparent}td:first-child,th:first-child{border-left-color:transparent}td:last-child,th:last-child{border-right-color:transparent}tbody .dt-drag-row-top>td{background:linear-gradient(0deg,#fff 0,#fff 97%,#0271d2 100%)}tbody .dt-drag-row-bottom>td{background:linear-gradient(180deg,#fff 0,#fff 97%,#0271d2 100%)}tbody .dt-drag-row-both>td{background:linear-gradient(0deg,#0271d2 0,#fff 3%,#fff 97%,#0271d2 100%)}tbody .dt-row-dragging>td{background-color:#ececec;color:#b9b9b9}tbody .dt-row-dragging .ui-state-active{opacity:.5;cursor:not-allowed}"]
                }] }
    ];
    /** @nocollapse */
    DTColumn2Component.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DomHandler"] }
    ]; };
    DTColumn2Component.propDecorators = {
        label: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        key: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        align: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        bodyClassFn: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        isVisible: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        sortable: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        sortOrdering: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showColumnLabel: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showSubHeader: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        headerStyleClass: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        bodyStyleClass: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        selectable: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        useGlobalHeader: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        useGlobalSubHeader: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        useGlobalBody: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        isDataColumn: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        frozen: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        maxWidth: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        minWidth: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        rendererTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: ['renderingTemplate',] }],
        headerTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['header',] }],
        subHeaderTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['subHeader',] }],
        bodyTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['body',] }]
    };
    return DTColumn2Component;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * An datatable header area.
 *
 * See {\@link DataTableComponent} for more explanation.
 */
var DTHeaderComponent2 = /** @class */ (function () {
    function DTHeaderComponent2() {
    }
    DTHeaderComponent2.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-dt-header2',
                    template: '<ng-content></ng-content>'
                }] }
    ];
    return DTHeaderComponent2;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * Custom column implementation to render detail row spaning its column across whole table width.
 *
 *
 */
var DTDetailRowComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(DTDetailRowComponent, _super);
    function DTDetailRowComponent(env, domHandler) {
        var _this = _super.call(this, env, domHandler) || this;
        _this.env = env;
        _this.domHandler = domHandler;
        /**
         *
         * tells if we need to render a line between item row and its detail
         *
         */
        _this.showRowLine = true;
        return _this;
    }
    /**
     * @return {?}
     */
    DTDetailRowComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        // just to get around the check in parent class
        this.key = '';
        _super.prototype.ngOnInit.call(this);
    };
    /**
     * Check if we need to keep some leading TDs
     *
     */
    /**
     * Check if we need to keep some leading TDs
     *
     * @return {?}
     */
    DTDetailRowComponent.prototype.visibleLeadingCols = /**
     * Check if we need to keep some leading TDs
     *
     * @return {?}
     */
    function () {
        return this.dt.numberOfColsBeforeData - (this.dt.hasInvisibleSelectionColumn() ? 1 : 0);
    };
    /**
     *
     * Check if we can show detail row/column using either [isVisible] or [isVisibleFn] bindings.
     * Here can hook on application level custom method to decide if current item has detail row
     * or not
     *
     * Or we can use isVisible=true to tell all row have detail row
     *
     */
    /**
     *
     * Check if we can show detail row/column using either [isVisible] or [isVisibleFn] bindings.
     * Here can hook on application level custom method to decide if current item has detail row
     * or not
     *
     * Or we can use isVisible=true to tell all row have detail row
     *
     * @param {?} item
     * @return {?}
     */
    DTDetailRowComponent.prototype.showDetailRow = /**
     *
     * Check if we can show detail row/column using either [isVisible] or [isVisibleFn] bindings.
     * Here can hook on application level custom method to decide if current item has detail row
     * or not
     *
     * Or we can use isVisible=true to tell all row have detail row
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        /** @type {?} */
        var isVisible = this.isVisible;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.isVisibleFn)) {
            isVisible = this.isVisibleFn.apply(this.dt.context, [this, item]);
        }
        return isVisible;
    };
    /**
     * @param {?} table
     * @return {?}
     */
    DTDetailRowComponent.prototype.initialize = /**
     * @param {?} table
     * @return {?}
     */
    function (table) {
        _super.prototype.initialize.call(this, table);
        this.isVisible = !this.dt.isOutline() || !this.dt.pivotalLayout;
    };
    DTDetailRowComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-dt-detail-column',
                    template: "<!--\n    Renders application defined detail column. This template just renders a detail row and\n    not expansion control. This is implemented by different DtColumn implementation and its added\n    (will be) added programmatically during column initialization\n-->\n<ng-template #renderingTemplate let-column=\"column\" let-rowData=\"data\">\n\n    <tr #detailRowElement class=\"dt-body-row dt-detail-row\">\n\n        <td *ngIf=\"dt.hasInvisibleSelectionColumn()\" width=\"1px\"></td>\n        <td *ngIf=\"visibleLeadingCols() > 0\" colspan=\"visibleLeadingCols()\" width=\"1px\">\n            &nbsp;&nbsp;\n        </td>\n        <td [attr.colspan]=\"dt.startOfFirstDataColumn\" [class]=\"dynamicBodyClass(rowData)\"\n            [ngClass]=\"{ 'dt-is-default dt-cell-def': true}\">\n\n            <ng-container\n                *ngTemplateOutlet=\"bodyTemplate; context:{$implicit: this, rowData:rowData}\">\n            </ng-container>\n        </td>\n    </tr>\n</ng-template>\n\n",
                    encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
                    providers: [primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DomHandler"]],
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    DTDetailRowComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DomHandler"] }
    ]; };
    DTDetailRowComponent.propDecorators = {
        isVisibleFn: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showRowLine: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return DTDetailRowComponent;
}(DTColumn2Component));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 *
 *
 *
 */
var DTDetailRowExpanderComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(DTDetailRowExpanderComponent, _super);
    function DTDetailRowExpanderComponent(env, domHandler) {
        var _this = _super.call(this, env, domHandler) || this;
        _this.env = env;
        _this.domHandler = domHandler;
        // we dont want to show the row/column unless application says so
        // we dont want to show the row/column unless application says so
        _this.isVisible = false;
        // default width of the selection control
        // default width of the selection control
        _this.width = '45px';
        return _this;
    }
    /**
     * @return {?}
     */
    DTDetailRowExpanderComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        // just to get around the check in parent class
        this.key = '';
        _super.prototype.ngOnInit.call(this);
    };
    /**
     * @param {?} event
     * @param {?} item
     * @return {?}
     */
    DTDetailRowExpanderComponent.prototype.toggleExpansion = /**
     * @param {?} event
     * @param {?} item
     * @return {?}
     */
    function (event, item) {
        this.dt.detailRowExpansionState.toggle(item);
        event.stopPropagation();
    };
    /**
     * @param {?} item
     * @return {?}
     */
    DTDetailRowExpanderComponent.prototype.calculateStyleClass = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return this.dt.detailRowExpansionState.isExpanded(item) ?
            'icon-slim-arrow-down' : 'icon-slim-arrow-right';
    };
    DTDetailRowExpanderComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-dt-detail-column-expand',
                    template: "<!--\n   Special column that renders expand/collapse control for detail row when detail row is enabled.\n\n   Just like for the other column it renders header section as well as body section with\n   expand control to toggle the expansion\n\n-->\n<ng-template #renderingTemplate let-isHeader let-isSubHeader=\"isSubHeader\" let-column=\"column\"\n             let-dataToRender=\"data\" let-columnIndex=\"columnIndex\" let-rowIndex=\"rowIndex\">\n\n\n    <ng-template [ngIf]=\"isHeader && !isSubHeader\">\n        <th #headerCell1 [class]=\"headerStyleClass||styleClass\"\n            class=\"dt-row-cell-expando\"\n            [ngClass]=\"{'dt-is-default dt-u-unselectable-text dt-cell-def' :true,\n                        'dt-det-row-expanded': dt.detailRowExpansionState.isExpanded(dataToRender)}\">\n        </th>\n\n    </ng-template>\n\n    <ng-template [ngIf]=\"!isHeader && !isSubHeader\">\n        <td #cell\n            class=\"dt-row-cell-expando\"\n            [ngClass]=\"{ 'dt-is-default': true,\n                    'dt-cell-def': !isCellSelectable(dataToRender),\n                    'dt-det-row-expanded': dt.detailRowExpansionState.isExpanded(dataToRender),\n                    'dt-det-row-with-ln' : dt.rowDetailColumn.showRowLine}\">\n\n            <span (click)=\"toggleExpansion($event, dataToRender)\"\n                  class=\"dt-det-row-expand sap-icon\"\n                  [ngClass]=\"calculateStyleClass(dataToRender)\">\n\n            </span>\n\n        </td>\n\n    </ng-template>\n\n\n</ng-template>\n\n",
                    encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
                    providers: [primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DomHandler"]],
                    styles: [".dt-row-cell-expando{width:14px;text-align:right;padding:17px 5px 17px 17px;border-right-color:transparent}.dt-row-cell-expando .dt-det-row-expand{cursor:pointer;line-height:21px}td.dt-det-row-expanded:not(.dt-det-row-with-ln),td.dt-det-row-expanded:not(.dt-det-row-with-ln)~td{border-bottom-color:transparent}"]
                }] }
    ];
    /** @nocollapse */
    DTDetailRowExpanderComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DomHandler"] }
    ]; };
    return DTDetailRowExpanderComponent;
}(DTColumn2Component));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * @license
 * Copyright 2017 SAP Ariba
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 *
 *
 */
/** @type {?} */
var DragEvents = ['mousedown', 'dragstart', 'dragover', 'dragenter', 'dragleave',
    'drop', 'dragend'];
/** @enum {string} */
var DragDirection = {
    None: 'none',
    Up: 'dt-drag-row-top',
    Down: 'dt-drag-row-bottom',
    Middle: 'dt-drag-row-both',
};
/** @enum {string} */
var DropPosition = {
    Before: 'before',
    After: 'after',
    Into: 'into',
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Concrete DataSource implementation for Datatable which defines state and column definition that
 * can programmatically modify rendered columns (if provided) and method for inserting and
 * and deleting records;
 *
 * All operations dealing with data use Observable<T> and instant() method to retrieve current
 * state is not implemented.
 *
 *
 */
var DT2DataSource = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(DT2DataSource, _super);
    function DT2DataSource(dataProviders, finders) {
        var _this = _super.call(this, dataProviders, finders) || this;
        _this.dataProviders = dataProviders;
        _this.finders = finders;
        _this.initialized = false;
        _this.state = Datatable2State.create();
        _this.debugTime = new Date().getTime();
        return _this;
    }
    /**
     * @param {...?} args
     * @return {?}
     */
    DT2DataSource.prototype.init = /**
     * @param {...?} args
     * @return {?}
     */
    function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(args) || args.length !== 1 && !isDTInitParams(args[0])) {
            throw new Error('You need to initialize DS with (DSChooserInitParams)');
        }
        /** @type {?} */
        var init = args[0];
        // use existing or find best match for dataProvider
        this.dataProvider = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(init.dataProvider) ? init.dataProvider
            : this.dataProviders.find(init.obj);
        // use existing or find best match for dataFinder
        this.dataFinder = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(init.dataFinder) ? init.dataFinder
            : this.finders.find(this.dataProvider, init.queryType);
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dataProvider) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dataFinder), 'DataSource incorrectly initialized. (DataProvider, DataFinder) missing. ');
        this.dataFinder.lookupKey = init.lookupKey;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(init.state)) {
            this.state = new Datatable2State();
        }
        else {
            this.state = init.state;
        }
        this.initialized = true;
    };
    /**
     * Triggers async fetch data request and result is given back using dataProvider.dataChanges
     *
     */
    /**
     * Triggers async fetch data request and result is given back using dataProvider.dataChanges
     *
     * @param {?=} withParams
     * @return {?}
     */
    DT2DataSource.prototype.fetch = /**
     * Triggers async fetch data request and result is given back using dataProvider.dataChanges
     *
     * @param {?=} withParams
     * @return {?}
     */
    function (withParams) {
        var _this = this;
        /** @type {?} */
        var params = null;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(withParams)) {
            params = new Map().set('offset', withParams.offset)
                .set('limit', withParams.limit)
                .set('orderby', withParams.sortKey)
                .set('selector', withParams.sortOrder);
        }
        this.dataProvider.fetch(params).subscribe(function (result) {
            if (withParams.offset > 0) {
                /** @type {?} */
                var incrData = Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__spread"])(_this.dataProvider.dataChanges.getValue(), result);
                _this.dataProvider.dataChanges.next(incrData);
            }
            else {
                _this.dataProvider.dataChanges.next(result);
            }
        });
    };
    /**
     * Component uses this method to open up continuous stream to listen for any changes which
     * need to be reflected on the UI.
     *
     * Dont forget to unsubscribe when component is destroyed.
     */
    /**
     * Component uses this method to open up continuous stream to listen for any changes which
     * need to be reflected on the UI.
     *
     * Dont forget to unsubscribe when component is destroyed.
     * @template T
     * @return {?}
     */
    DT2DataSource.prototype.open = /**
     * Component uses this method to open up continuous stream to listen for any changes which
     * need to be reflected on the UI.
     *
     * Dont forget to unsubscribe when component is destroyed.
     * @template T
     * @return {?}
     */
    function () {
        return this.dataProvider.dataChanges.asObservable();
    };
    /**
     * @return {?}
     */
    DT2DataSource.prototype.close = /**
     * @return {?}
     */
    function () {
        this.dataProvider = null;
        this.dataFinder = null;
    };
    /**
     * If CRUD is enabled we delegate calls to DataProvider that is responsible to tell the
     * dataProvider.dataChanges that are new data. If not enabled we have default implementation
     * which works with local array
     *
     */
    /**
     * If CRUD is enabled we delegate calls to DataProvider that is responsible to tell the
     * dataProvider.dataChanges that are new data. If not enabled we have default implementation
     * which works with local array
     *
     * @param {?} object
     * @return {?}
     */
    DT2DataSource.prototype.insert = /**
     * If CRUD is enabled we delegate calls to DataProvider that is responsible to tell the
     * dataProvider.dataChanges that are new data. If not enabled we have default implementation
     * which works with local array
     *
     * @param {?} object
     * @return {?}
     */
    function (object) {
        if (this.dataProvider.canCRUD()) {
            this.dataProvider.insert(object);
        }
        else {
            this.dataProvider.offScreenData.push(object);
            this.dataProvider.dataChanges.next(this.dataProvider.offScreenData);
        }
    };
    /**
     * Please see {@link insert} method
     *
     */
    /**
     * Please see {\@link insert} method
     *
     * @param {?} object
     * @return {?}
     */
    DT2DataSource.prototype.remove = /**
     * Please see {\@link insert} method
     *
     * @param {?} object
     * @return {?}
     */
    function (object) {
        if (this.dataProvider.canCRUD()) {
            this.dataProvider.remove(object);
        }
        else {
            _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].removeIfExist(this.dataProvider.offScreenData, object);
            this.dataProvider.dataChanges.next(this.dataProvider.offScreenData);
        }
    };
    /**
     *
     * Provides access to DataFinder which can accept either plain string or Map.
     *
     * To be able to provide correct input we need to ask DataFinder if it supports FullText like
     * type query or Predicate. In case of Predicate we build the Map with different key/value
     * pairs
     *
     *
     */
    /**
     *
     * Provides access to DataFinder which can accept either plain string or Map.
     *
     * To be able to provide correct input we need to ask DataFinder if it supports FullText like
     * type query or Predicate. In case of Predicate we build the Map with different key/value
     * pairs
     *
     *
     * @param {?=} pattern
     * @return {?}
     */
    DT2DataSource.prototype.find = /**
     *
     * Provides access to DataFinder which can accept either plain string or Map.
     *
     * To be able to provide correct input we need to ask DataFinder if it supports FullText like
     * type query or Predicate. In case of Predicate we build the Map with different key/value
     * pairs
     *
     *
     * @param {?=} pattern
     * @return {?}
     */
    function (pattern) {
        var _this = this;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(pattern) || pattern.length === 0) {
            // if we received empty string return orginal list
            this.fetch(this.state);
            return;
        }
        /** @type {?} */
        var searchParam = pattern;
        if (this.dataFinder.accepts(this.dataProvider, QueryType.Predicate)) {
            searchParam = new Map().set('query', pattern).set('limit', DT2DataSource.MaxLimit);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.state.sortKey)) {
                searchParam.set('orderby', this.state.sortKey);
            }
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.state.sortKey)) {
                searchParam.set('selector', this.state.sortOrder);
            }
        }
        else {
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isString"])(pattern), 'Cannot pass non-string value to FullText Finder');
        }
        this.dataFinder.match(searchParam).subscribe(function (result) {
            _this.dataProvider.dataChanges.next(result);
        });
    };
    /**
     *
     * Data source delegates the responsibility to the given data provider which needs to implement
     * specific sorting mechanism
     *
     * Todo: Extend to sort by multiple columns
     *
     */
    /**
     *
     * Data source delegates the responsibility to the given data provider which needs to implement
     * specific sorting mechanism
     *
     * Todo: Extend to sort by multiple columns
     *
     * @param {?} key
     * @param {?} sortOrder
     * @return {?}
     */
    DT2DataSource.prototype.sort = /**
     *
     * Data source delegates the responsibility to the given data provider which needs to implement
     * specific sorting mechanism
     *
     * Todo: Extend to sort by multiple columns
     *
     * @param {?} key
     * @param {?} sortOrder
     * @return {?}
     */
    function (key, sortOrder) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.dataProvider.data()) || this.dataProvider.data().length === 0) {
            return;
        }
        this.state.sortKey = key;
        this.state.sortOrder = sortOrder;
        this.fetch(this.state);
    };
    /**
     *
     * Persist db state
     *
     */
    /**
     *
     * Persist db state
     *
     * @param {?} offset
     * @param {?} sortField
     * @param {?} sOrder
     * @return {?}
     */
    DT2DataSource.prototype.updateState = /**
     *
     * Persist db state
     *
     * @param {?} offset
     * @param {?} sortField
     * @param {?} sOrder
     * @return {?}
     */
    function (offset, sortField, sOrder) {
        this.state.offset = offset;
        this.state.sortKey = sortField;
        this.state.sortOrder = sOrder;
    };
    /**
     *
     * reshuffles current array based on new row D&D result.
     *
     * Since there is a difference if we move item from bottom or from the top and then accordingly
     * highlighting a space between rows. We need to reflect this in here as well.
     *
     * UseCase 1:
     *
     * 1. You can grab item with index 0 and move it down so that you can see a dropping line
     * between row with index 2 - 3
     *
     * 2. In this case splice() starts from position 2 and insert all elements after 2
     *      splice(start: number, deleteCount: number, ...items: T[]): T[];
     *
     * 3. no need to update newPos
     *
     * UseCase 2:
     *
     * 1. You can grab item with index 0 and move all the way down of the DT and now move the
     * row toward TOP and space between rows with index 2 - 3 is highlighted again.
     *
     * 2. Here is the difference, before we highlighted row #2 with line at the bottom, now
     * it seems the same but its highlighted row #3 with line at the TOP.
     *
     * * This is the reason whey we need to do newPos -= 1 or newPos += 1; depending our direction
     * where where the line between rows is created.
     *
     *
     * We don't need any complicated calculation trying to find out if we are on one half of the row
     * or second half and based on this try to apply certain style. This would not give so much
     * space if we want drop row into the row. And the calculation with coordinates woudl be too
     * complicated.
     *
     * We simply remember the direction we are moving and based on this we apply style to
     * to create a line at the TOP if we are going upwards or bottom otherwise.
     *
     *
     */
    /**
     *
     * reshuffles current array based on new row D&D result.
     *
     * Since there is a difference if we move item from bottom or from the top and then accordingly
     * highlighting a space between rows. We need to reflect this in here as well.
     *
     * UseCase 1:
     *
     * 1. You can grab item with index 0 and move it down so that you can see a dropping line
     * between row with index 2 - 3
     *
     * 2. In this case splice() starts from position 2 and insert all elements after 2
     *      splice(start: number, deleteCount: number, ...items: T[]): T[];
     *
     * 3. no need to update newPos
     *
     * UseCase 2:
     *
     * 1. You can grab item with index 0 and move all the way down of the DT and now move the
     * row toward TOP and space between rows with index 2 - 3 is highlighted again.
     *
     * 2. Here is the difference, before we highlighted row #2 with line at the bottom, now
     * it seems the same but its highlighted row #3 with line at the TOP.
     *
     * * This is the reason whey we need to do newPos -= 1 or newPos += 1; depending our direction
     * where where the line between rows is created.
     *
     *
     * We don't need any complicated calculation trying to find out if we are on one half of the row
     * or second half and based on this try to apply certain style. This would not give so much
     * space if we want drop row into the row. And the calculation with coordinates woudl be too
     * complicated.
     *
     * We simply remember the direction we are moving and based on this we apply style to
     * to create a line at the TOP if we are going upwards or bottom otherwise.
     *
     *
     * @param {?} origPos
     * @param {?} newPos
     * @param {?} dropPos
     * @return {?}
     */
    DT2DataSource.prototype.reorderRows = /**
     *
     * reshuffles current array based on new row D&D result.
     *
     * Since there is a difference if we move item from bottom or from the top and then accordingly
     * highlighting a space between rows. We need to reflect this in here as well.
     *
     * UseCase 1:
     *
     * 1. You can grab item with index 0 and move it down so that you can see a dropping line
     * between row with index 2 - 3
     *
     * 2. In this case splice() starts from position 2 and insert all elements after 2
     *      splice(start: number, deleteCount: number, ...items: T[]): T[];
     *
     * 3. no need to update newPos
     *
     * UseCase 2:
     *
     * 1. You can grab item with index 0 and move all the way down of the DT and now move the
     * row toward TOP and space between rows with index 2 - 3 is highlighted again.
     *
     * 2. Here is the difference, before we highlighted row #2 with line at the bottom, now
     * it seems the same but its highlighted row #3 with line at the TOP.
     *
     * * This is the reason whey we need to do newPos -= 1 or newPos += 1; depending our direction
     * where where the line between rows is created.
     *
     *
     * We don't need any complicated calculation trying to find out if we are on one half of the row
     * or second half and based on this try to apply certain style. This would not give so much
     * space if we want drop row into the row. And the calculation with coordinates woudl be too
     * complicated.
     *
     * We simply remember the direction we are moving and based on this we apply style to
     * to create a line at the TOP if we are going upwards or bottom otherwise.
     *
     *
     * @param {?} origPos
     * @param {?} newPos
     * @param {?} dropPos
     * @return {?}
     */
    function (origPos, newPos, dropPos) {
        /** @type {?} */
        var array = this.dataProvider.data().slice();
        // take something from top and drag&drop under
        if (newPos > origPos && dropPos === DropPosition.Before && newPos < array.length) {
            newPos -= 1;
            // take something from bottom and drag&drop above
        }
        else if (newPos < origPos && dropPos === DropPosition.After && newPos >= 0) {
            newPos += 1;
        }
        array.splice.apply(array, Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__spread"])([newPos, 0], array.splice(origPos, 1)[0]));
        this.dataProvider.dataChanges.next(array);
    };
    DT2DataSource.MaxLimit = 100;
    return DT2DataSource;
}(DataSource));
/**
 * Keeps current datatable state the state which drivers the way while fetching the data as well
 * encapsulate set of properties that needs to be persistet in order to recover a state after e.g.
 * browser refresh
 *
 *
 * todo: Create methods to convert this state from and to JSON for easier serialization
 */
var Datatable2State = /** @class */ (function () {
    function Datatable2State() {
        /**
         * Properties for paging and fetching
         */
        this.offset = 0;
        this.limit = 0;
        /**
         * Identifies default value that is used to render N number of rows in non-fullscreen
         * mode
         *
         */
        this.displayLimit = 0;
        /**
         * Sorting order of the sort field. DataTable support sorting for multiple column but we
         * dont persist it now. Maybe in the future
         */
        this.sortOrder = Datatable2State.Ascending;
        /**
         * If we are using global filter for current datatable then save it here
         */
        this.currentSearchQuery = '';
        this.outlineState = new Map();
        this.detailRowExpandState = new Map();
    }
    /**
     * @param {?=} offset
     * @param {?=} limit
     * @param {?=} displayLimit
     * @param {?=} sortField
     * @param {?=} sOrder
     * @param {?=} searchQuery
     * @param {?=} filter
     * @param {?=} outlineState
     * @param {?=} detailRowState
     * @return {?}
     */
    Datatable2State.create = /**
     * @param {?=} offset
     * @param {?=} limit
     * @param {?=} displayLimit
     * @param {?=} sortField
     * @param {?=} sOrder
     * @param {?=} searchQuery
     * @param {?=} filter
     * @param {?=} outlineState
     * @param {?=} detailRowState
     * @return {?}
     */
    function (offset, limit, displayLimit, sortField, sOrder, searchQuery, filter, outlineState, detailRowState) {
        if (offset === void 0) { offset = 0; }
        if (limit === void 0) { limit = 15; }
        if (displayLimit === void 0) { displayLimit = 5; }
        if (sortField === void 0) { sortField = ''; }
        if (sOrder === void 0) { sOrder = 0; }
        if (outlineState === void 0) { outlineState = new Map(); }
        if (detailRowState === void 0) { detailRowState = new Map(); }
        /** @type {?} */
        var s = new Datatable2State();
        s.offset = offset;
        s.limit = limit;
        s.displayLimit = displayLimit;
        s.sortKey = sortField;
        s.sortOrder = sOrder;
        s.currentSearchQuery = searchQuery;
        s.currentFilter = filter;
        s.outlineState = outlineState;
        s.detailRowExpandState = detailRowState;
        return s;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    Datatable2State.fromJSON = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        /** @type {?} */
        var state$$1 = JSON.parse(data);
        /** @type {?} */
        var ds = new Datatable2State();
        ds.offset = state$$1.offset;
        ds.limit = state$$1.limit;
        ds.displayLimit = state$$1.displayLimit;
        ds.sortKey = state$$1.sortKey;
        ds.sortOrder = state$$1.sortOrder;
        ds.currentSearchQuery = state$$1.currentSearchQuery;
        ds.outlineState = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].createFromAnyMap(state$$1.outlineState);
        ds.detailRowExpandState = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].createFromAnyMap(state$$1.detailRowExpandState);
        return ds;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    Datatable2State.toJSON = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        /** @type {?} */
        var toConvert = {
            offset: data.offset,
            limit: data.limit,
            displayLimit: data.displayLimit,
            sortKey: data.sortKey,
            sortOrder: data.sortOrder,
            currentSearchQuery: data.currentSearchQuery,
            outlineState: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].toAnyMap(data.outlineState),
            detailRowExpandState: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].toAnyMap(data.detailRowExpandState)
        };
        return JSON.stringify(toConvert);
    };
    Datatable2State.Ascending = 1;
    Datatable2State.Descending = -1;
    return Datatable2State;
}());
/**
 * This needs to go to DTDataSource to keep and manage the state of the detail row. The idea is
 * simple we have a map holding item reference as a key and boolean value indicating if the
 * detail row is visible
 *
 * Todo: move this out to DS
 */
var  /**
 * This needs to go to DTDataSource to keep and manage the state of the detail row. The idea is
 * simple we have a map holding item reference as a key and boolean value indicating if the
 * detail row is visible
 *
 * Todo: move this out to DS
 */
DetailRowExpansionState = /** @class */ (function () {
    function DetailRowExpansionState(dt) {
        this.dt = dt;
    }
    Object.defineProperty(DetailRowExpansionState.prototype, "detailExpansionEnabled", {
        get: /**
         * @return {?}
         */
        function () {
            return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.expansionStates);
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (value) {
                this.expansionStates = new Map();
            }
            else {
                this.expansionStates = null;
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} item
     * @return {?}
     */
    DetailRowExpansionState.prototype.toggle = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        /** @type {?} */
        var key = this.itemToKey(item);
        if (!this.isExpanded(item)) {
            this.expansionStates.set(key, true);
        }
        else {
            this.expansionStates.delete(key);
        }
        this.dt.dataSource.state.detailRowExpandState = this.expansionStates;
    };
    /**
     * @param {?} item
     * @return {?}
     */
    DetailRowExpansionState.prototype.isExpanded = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        /** @type {?} */
        var key = this.itemToKey(item);
        // handle special case where we collapse parent of parent while detail row is expanded
        if (this.dt.isOutline() && !this.dt.outlineState.isExpanded(key)) {
            this.expansionStates.delete(key);
            return false;
        }
        /** @type {?} */
        var isOutlineExpanded = this.dt.isOutline() ? this.dt.outlineState.isExpanded(key) : true;
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(key) && this.expansionStates.has(key);
    };
    /**
     * @param {?} item
     * @return {?}
     */
    DetailRowExpansionState.prototype.itemToKey = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isEntity"])(item) ? (/** @type {?} */ (item)).identity() : item;
    };
    return DetailRowExpansionState;
}());
/**
 * @param {?} init
 * @return {?}
 */
function isDTInitParams(init) {
    return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(init.obj) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(init.queryType) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(init.entity);
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * Column implementation for the Multiselection where we show checkbox control
 *
 *
 */
var DTMultiSelectColumnComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(DTMultiSelectColumnComponent, _super);
    function DTMultiSelectColumnComponent(env, domHandler) {
        var _this = _super.call(this, env, domHandler) || this;
        _this.env = env;
        _this.domHandler = domHandler;
        // default width of the selection control
        // default width of the selection control
        _this.width = '45px';
        return _this;
    }
    DTMultiSelectColumnComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-dt-multi-select-column',
                    template: "<!--\n    Manages multi selection and renders checkboxes both for header in case [showSelectAll] is\n    enabled as well as each checkbox per row\n-->\n<ng-template #renderingTemplate let-isHeader let-isSubHeader=\"isSubHeader\" let-column=\"column\"\n             let-dataToRender=\"data\"\n             let-level=\"nestingLevel\"\n             let-columnIndex=\"columnIndex\"\n             let-rowIndex=\"rowIndex\">\n\n    <ng-template *ngIf=\"isHeader\" [ngTemplateOutlet]=\"colHeader\"\n                 [ngTemplateOutletContext]=\"{$implicit: isSubHeader, columnIndex:columnIndex,\n                 level:level}\">\n    </ng-template>\n\n    <ng-template *ngIf=\"!isHeader\" [ngTemplateOutlet]=\"colBody\"\n                 [ngTemplateOutletContext]=\"{$implicit: column, level:level,\n                    data:dataToRender,rowIndex:rowIndex}\">\n    </ng-template>\n</ng-template>\n\n\n<ng-template #colHeader let-isSubHeader let-columnIndex=\"columnIndex\">\n    <th [ngClass]=\"{'dt-is-default dt-u-unselectable-text dt-selection-column' :true,\n                    'dt-cell-def': true,\n                    'dt-sub-header': isSubHeader,\n                    'dt-is-hidden': !dt.showSelectionColumn}\" align=\"center\">\n\n        <ng-template [ngIf]=\"dt.showSelectAll\">\n            <aw-checkbox [type]=\"'action'\" (action)=\"dt.toggleAllColumns($event)\"\n                         [value]=\"dt.isToggleAllColumnSelected()\"\n                         [disabled]=\"dt.isToggleAllColumnDisabled()\">\n            </aw-checkbox>\n        </ng-template>\n\n        <ng-template [ngIf]=\"!dt.showSelectAll\">&nbsp;\n        </ng-template>\n    </th>\n\n</ng-template>\n\n\n<ng-template #colBody let-data=\"data\" let-rowIndex=\"rowIndex\" , let-level=\"level\">\n\n    <td #cell [class]=\"dynamicBodyClass(data)\"\n        [style.padding-left.px]=\"indentForControl(cell, level)\"\n        align=\"center\"\n        [ngClass]=\"{ 'dt-is-default dt-selection-column': true,\n        'dt-cell-def': true,\n        'dt-is-hidden': !dt.showSelectionColumn}\">\n\n        <aw-checkbox [type]=\"'action'\" [value]=\"dt.isRowSelected(data)\">\n        </aw-checkbox>\n\n    </td>\n</ng-template>\n",
                    encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
                    providers: [primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DomHandler"]],
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    DTMultiSelectColumnComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DomHandler"] }
    ]; };
    return DTMultiSelectColumnComponent;
}(DTColumn2Component));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * Column implementation for the SingleSelect where we show checkbox control
 *
 *
 */
var DTSingleSelectColumnComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(DTSingleSelectColumnComponent, _super);
    function DTSingleSelectColumnComponent(env, domHandler) {
        var _this = _super.call(this, env, domHandler) || this;
        _this.env = env;
        _this.domHandler = domHandler;
        // default width of the selection control
        // default width of the selection control
        _this.width = '45px';
        return _this;
    }
    DTSingleSelectColumnComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-dt-single-select-column',
                    template: "<!--\n    Manages multi selection and renders checkboxes both for header in case [showSelectAll] is\n    enabled as well as each checkbox per row\n-->\n<ng-template #renderingTemplate let-isHeader let-isSubHeader=\"isSubHeader\" let-column=\"column\"\n             let-dataToRender=\"data\"\n             let-level=\"nestingLevel\"\n             let-columnIndex=\"columnIndex\"\n             let-rowIndex=\"rowIndex\">\n\n    <ng-template *ngIf=\"isHeader\" [ngTemplateOutlet]=\"colHeader\"\n                 [ngTemplateOutletContext]=\"{$implicit: isSubHeader, columnIndex:columnIndex,\n                 level:level}\">\n    </ng-template>\n\n    <ng-template *ngIf=\"!isHeader\" [ngTemplateOutlet]=\"colBody\"\n                 [ngTemplateOutletContext]=\"{$implicit: column, level:level,\n                    data:dataToRender,rowIndex:rowIndex}\">\n    </ng-template>\n</ng-template>\n\n\n<ng-template #colHeader let-isSubHeader let-columnIndex=\"columnIndex\">\n    <th [ngClass]=\"{'dt-is-default dt-u-unselectable-text dt-selection-column' :true,\n                    'dt-cell-def': true,\n                    'dt-sub-header': isSubHeader,\n                    'dt-is-hidden': !dt.showSelectionColumn}\" align=\"center\">\n        &nbsp;\n    </th>\n\n</ng-template>\n\n\n<ng-template #colBody let-data=\"data\" let-rowIndex=\"rowIndex\" , let-level=\"level\">\n\n    <td #cell [class]=\"dynamicBodyClass(data)\"\n        [style.padding-left.px]=\"indentForControl(cell, level)\"\n        align=\"center\"\n        [ngClass]=\"{ 'dt-is-default dt-selection-column': true,\n        'dt-cell-def': true,\n        'dt-is-hidden': !dt.showSelectionColumn}\">\n\n        <aw-radiobutton [name]=\"'DTRadio'\" [value]=\"data\" [(ngModel)]=\"dt.dataSource.state.selection\">\n        </aw-radiobutton>\n    </td>\n</ng-template>\n",
                    encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
                    providers: [primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DomHandler"]],
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    DTSingleSelectColumnComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DomHandler"] }
    ]; };
    return DTSingleSelectColumnComponent;
}(DTColumn2Component));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * DT component that implements the data grid that shows tabular data. Even the basic
 * structure is based on PrimeNG datatable its completely refactored into smaller pieces that
 * allows more extensibility and trying to stay as close as possible to existing AWL implementation
 *
 * There are 3 main pieces:
 *
 *  Table Wrapper - focuses on the outer structure. Container with basic datable layout plus
 *  contains any additional panels that datatable needs such as our new concept how editing will
 *  work - sliding panel from the bottom
 *
 *  Datatable Column - Instead of rendering everything inside DT I split the part that renders
 *  column into separate component. This way component column has its own renderer template which
 *  can render both header and data cells.
 *  Later on DTColumn is then extended to support other additional column types
 *  SingleSelectionColumn, MultiSelectionColumn, both responsible for rendering selection controls.
 *
 * To support pivotal layout this can be extended for other additional columns that implements their
 * own rendering templates
 *
 * Datatable - The main component that is only focus on header and body rendering and basaed on the
 * column type it will render the correct template
 * column type it will render the correct template
 *
 *
 *
 *
 *
 */
var Datatable2Component = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(Datatable2Component, _super);
    /**
     *
     * In case of outline table we are inject OutlineState which is provided in the DT component
     * definition. This is used by nested outlineFor component it set itself as reference and
     * initialize the state so it can be used later on inside OutlineControl
     *
     *
     * Each Datatable is pre-defaulted with its own version of DataSource so all the observers
     * inside are unique for this component
     *
     */
    function Datatable2Component(env, el, _defaultDS, changeDetector, factoryResolver, outlineState, zone, injector) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        _this.el = el;
        _this._defaultDS = _defaultDS;
        _this.changeDetector = changeDetector;
        _this.factoryResolver = factoryResolver;
        _this.outlineState = outlineState;
        _this.zone = zone;
        _this.injector = injector;
        /**
         *  Hides or shows table heading where we have filters and tools menus
         */
        _this.showTableHeader = true;
        /**
         * See AWDataTable
         *
         */
        _this.pivotalLayout = false;
        /**
         * See AWDataTable
         */
        _this.initialSortOrder = 'descending';
        /**
         * When DT is loaded in the page and we are not in the full screen (full page mode), this
         * is hte number of lines that DT will show
         *
         * todo: come up with better name
         */
        _this.displayRowSize = 10;
        /**
         * Used for paging on lazy loading using infinite scroller to set initial fetch limit size
         *
         * todo: come up with better name !!!
         *
         */
        _this.pageSize = 15;
        /**
         * Default message when there are no data .
         *
         * todo: Use i18n value and create resource file
         */
        _this.emptyMessage = 'No records found';
        /**
         *
         * See AWDataTable
         *
         */
        _this.selectionMode = 'none';
        /**
         *
         * Can provide custom icon. These icons are not animated divs, we used css
         * transformation to rotate them.
         *
         */
        _this.loadingIcon = 'icon-synchronize';
        /**
         * Additional indent can be added when rendering detail row
         */
        _this.indentDetailRow = false;
        /**
         * See AWDataTable
         *
         */
        _this.indentationPerLevel = 25;
        /**
         *
         *  SubHeader is used to show summary columns, which in our UX is shown at the top just under
         *  the regular table header
         *
         */
        _this.showSubHeader = false;
        /**
         * See OutlineFor - only used in the tree mode
         */
        _this.expandAll = false;
        /**
         *
         * See OutlineFor  - format - only used in the tree mode
         */
        _this.outlineFormat = 'free';
        /**
         * See AWDataTable
         */
        _this.pushRootSectionOnNewLine = true;
        /**
         * Render or hide expansion control for row detail columns. Expansion control makes sense for
         * simple table, when using this inside outline (tree table), its driven by outline control
         */
        _this.showRowDetailExpansionControl = true;
        /**
         * See AWDataTable
         *
         */
        _this.showSelectionColumn = true;
        /**
         * See AWDataTable
         *
         */
        _this.showSelectAll = true;
        /**
         * Show or hide global search term input field in the header
         */
        _this.showGlobalSearch = true;
        /**
         * Enables or disables row reordering
         *
         */
        _this.dndRowEnabled = false;
        /**
         *
         * Fires event that sorting is enabled for column and we trigger sorting
         *
         */
        _this.onSort = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Based on selection mode it triggers even
         *
         */
        _this.onRowClick = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         *
         * When multi or single selection mode is enabled it will trigger event when checkbox or
         * radio buttons is selected
         *
         * todo: implement SingleSelectionDTColumn, MultiSelectionDTColumn with their renderers
         */
        _this.onRowSelectionChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * When cell body selection changes we fire event
         *
         */
        _this.onCellChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * When cell header selection changes we fire event
         *
         */
        _this.onHeaderSelection = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         *
         * Triggers when items in the list are updated
         *
         */
        _this.valueChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.classList = 'w-datatable ';
        /**
         *  Indicates that columns were initialed Also used when we hide and show column to trigger
         *  change.
         *
         */
        _this.columnsChanged = false;
        /**
         * See AWDataTable
         */
        _this.numberOfColsBeforeData = 0;
        /**
         * See AWDataTable
         */
        _this.startOfFirstDataColumn = 0;
        _this.dataSource = _this._defaultDS;
        return _this;
    }
    Object.defineProperty(Datatable2Component.prototype, "state", {
        /**
         * Pushes a state out to application. Can be use as two way bindings
         *
         * [(state)]=dtState(s)
         *
         */
        get: /**
         * Pushes a state out to application. Can be use as two way bindings
         *
         * [(state)]=dtState(s)
         *
         * @return {?}
         */
        function () {
            return this.dataSource.state;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this.dataSource.state = val;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    Datatable2Component.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.list) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.destinationClass)) {
            throw new Error('You cannot use both bindings [list] and [destinationClass]!');
        }
        this.detailRowExpansionState = new DetailRowExpansionState(this);
        // init default columns
        this.rowDetailExpandColumn = this.factoryResolver
            .resolveComponentFactory(DTDetailRowExpanderComponent).create(this.injector).instance;
        this.multiSelectColumn = this.factoryResolver
            .resolveComponentFactory(DTMultiSelectColumnComponent).create(this.injector).instance;
        this.singleSelectColumn = this.factoryResolver
            .resolveComponentFactory(DTSingleSelectColumnComponent).create(this.injector).instance;
        /**
                 * If the data are not deferred and we get list directly then it creates DS. If
                 * ngOnChanges is called first we properly init DS and clean this.list
                 *
                 */
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.destinationClass) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.list)) {
            this.initDatasource();
        }
        else if (this.dataSource.initialized) {
            this.initDatasource(false);
        }
        // since we work with references let's pass created map inside our state
        this.outlineState.expansionStates = this.state.outlineState;
    };
    /**
     * When data arrives later maybe due to REST API latency, initialize DS only when we have a
     * data, otherwise if data changed thru the bindings just trigger dataChange event
     *
     */
    /**
     * When data arrives later maybe due to REST API latency, initialize DS only when we have a
     * data, otherwise if data changed thru the bindings just trigger dataChange event
     *
     * @param {?} changes
     * @return {?}
     */
    Datatable2Component.prototype.ngOnChanges = /**
     * When data arrives later maybe due to REST API latency, initialize DS only when we have a
     * data, otherwise if data changed thru the bindings just trigger dataChange event
     *
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        _super.prototype.ngOnChanges.call(this, changes);
        if (changes['list'] && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(changes['list'].currentValue)
            && !this.dataSource.initialized) {
            this.initDatasource();
        }
        else if (this.dataSource.initialized) {
            this.dataSource.dataProvider.dataChanges.next(this.list);
        }
    };
    /**
     * @return {?}
     */
    Datatable2Component.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // make sure we init a state when detail column is present
        // todo: move this initialization to datasource
        this.detailRowExpansionState.detailExpansionEnabled = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.rowDetailColumn);
        this.initColumns();
        this.columnsSubscription = this.colsQuery.changes.subscribe(function (_) {
            _this.initColumns();
            _this.changeDetector.markForCheck();
        });
    };
    /**
     * @return {?}
     */
    Datatable2Component.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        // assign it programatically as we want to have a context for the filter
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.rowDetailColumn) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.outlineState.outlineFor)) {
            this.outlineState.outlineFor.filterOut = this.skipOutlineItem.bind(this);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.outlineState.outlineFor)) ;
        this.initialized = true;
    };
    /**
     * @return {?}
     */
    Datatable2Component.prototype.ngAfterViewChecked = /**
     * @return {?}
     */
    function () {
        if (this.columnsChanged && this.el.nativeElement.offsetParent) {
            this.columnsChanged = false;
        }
        if (this.hasFrozenColumns()) {
            this.frozenColumns.forEach(function (col, index) {
                return col.postInitialize(index);
            });
        }
        else {
            this.columns.forEach(function (col, index) {
                return col.postInitialize(index);
            });
        }
    };
    /**
     * Key entry method that initialized our columns. Later on when we will support selection and
     * multiselection we will programmatically instantiate SingleSelection, MultiSelection column
     * components and add them to the list so they can be rendered.
     *
     * so the idea here is:
     *
     * When DT component initialize and we are in editing mode and we support Single/Multi selection
     * we will use ComponentFactoryResolver to create component and add it as first item to the list
     * and then it will be rendered just like anythign else.
     *
     */
    /**
     * Key entry method that initialized our columns. Later on when we will support selection and
     * multiselection we will programmatically instantiate SingleSelection, MultiSelection column
     * components and add them to the list so they can be rendered.
     *
     * so the idea here is:
     *
     * When DT component initialize and we are in editing mode and we support Single/Multi selection
     * we will use ComponentFactoryResolver to create component and add it as first item to the list
     * and then it will be rendered just like anythign else.
     *
     * @return {?}
     */
    Datatable2Component.prototype.initColumns = /**
     * Key entry method that initialized our columns. Later on when we will support selection and
     * multiselection we will programmatically instantiate SingleSelection, MultiSelection column
     * components and add them to the list so they can be rendered.
     *
     * so the idea here is:
     *
     * When DT component initialize and we are in editing mode and we support Single/Multi selection
     * we will use ComponentFactoryResolver to create component and add it as first item to the list
     * and then it will be rendered just like anythign else.
     *
     * @return {?}
     */
    function () {
        var _this = this;
        this.columns = [];
        this.frozenColumns = [];
        if (this.detailRowExpansionState.detailExpansionEnabled) {
            this.initDetailColumnExpansion();
        }
        if (this.hasLeadingSelectColumn() && this.selectionMode === 'multi') {
            this.multiSelectColumn.initialize(this);
            this.columns.push(this.multiSelectColumn);
        }
        else if (this.hasLeadingSelectColumn() && this.selectionMode === 'single') {
            this.singleSelectColumn.initialize(this);
            this.columns.push(this.singleSelectColumn);
        }
        /**
                 * Add expansion column when detail row is enabled
                 */
        if (this.detailRowExpansionState.detailExpansionEnabled && !this.isOutline()) {
            this.rowDetailExpandColumn.initialize(this);
            this.columns.push(this.rowDetailExpandColumn);
        }
        this.colsQuery
            .filter(function (col1) { return !col1.frozen; })
            .forEach(function (col) {
            col.initialize(_this);
            _this.columns.push(col);
        });
        this.initFrozenColumns();
        this.initColumnInfo();
        this.columnsChanged = true;
    };
    /**
     * Check if current column is programmatically created
     *
     */
    /**
     * Check if current column is programmatically created
     *
     * @param {?} col
     * @return {?}
     */
    Datatable2Component.prototype.isInternalColumn = /**
     * Check if current column is programmatically created
     *
     * @param {?} col
     * @return {?}
     */
    function (col) {
        return col instanceof DTSingleSelectColumnComponent ||
            col instanceof DTMultiSelectColumnComponent ||
            col instanceof DTDetailRowExpanderComponent;
    };
    /**
     * Create new Datasource based on passed values. It tries to initialize DS for first time
     * inside the ngInit but in case Data arrives later maybe due to some REST API calls this
     * can be triggered also from ngOnChanges.
     *
     */
    /**
     * Create new Datasource based on passed values. It tries to initialize DS for first time
     * inside the ngInit but in case Data arrives later maybe due to some REST API calls this
     * can be triggered also from ngOnChanges.
     *
     * @param {?=} initialize
     * @return {?}
     */
    Datatable2Component.prototype.initDatasource = /**
     * Create new Datasource based on passed values. It tries to initialize DS for first time
     * inside the ngInit but in case Data arrives later maybe due to some REST API calls this
     * can be triggered also from ngOnChanges.
     *
     * @param {?=} initialize
     * @return {?}
     */
    function (initialize) {
        var _this = this;
        if (initialize === void 0) { initialize = true; }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.state)) {
            this.state = Datatable2State.create(0, this.pageSize, this.displayRowSize, this.initialSortKey, this.sortOrderingForString(this.initialSortOrder));
        }
        else {
            this.state.limit = this.state.displayLimit = this.displayRowSize;
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.initialSortKey)) {
                this.state.sortKey = this.initialSortKey;
                this.state.sortOrder = this.sortOrderingForString(this.initialSortOrder);
            }
        }
        if (initialize) {
            /** @type {?} */
            var qType = (this.isOutline() && this.outlineFormat === 'tree') ?
                QueryType.FullTextOutline : QueryType.FullText;
            this.dataSource.init({
                obj: Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.destinationClass) ? this.destinationClass : this.list,
                queryType: qType,
                state: this.state,
                multiselect: false
            });
        }
        this.dataSource.fetch(this.state);
        // reset list to make sure it comes from DataProvider, we use list  to initialize
        this.list = null;
        // This is the ENTRY point for the DATA CHANGES. All addition, edits, deletion ends up
        // here. We dont work directly with LIST. Any change is reactive and here is listener
        this.dataSource.open().subscribe(function (data) {
            _this.updateList(data);
        });
    };
    /**
     * When detailRow column is present we initialize a state holding information which item is
     * expanded.
     *
     * todo: This is temporary here and once we suport lazy loading move this to datasource.
     *
     * For example for outline tree table we need to connect a state from outline with a state in
     * here as we are using outline control to expand and collapse items
     */
    /**
     * When detailRow column is present we initialize a state holding information which item is
     * expanded.
     *
     * todo: This is temporary here and once we suport lazy loading move this to datasource.
     *
     * For example for outline tree table we need to connect a state from outline with a state in
     * here as we are using outline control to expand and collapse items
     * @return {?}
     */
    Datatable2Component.prototype.initDetailColumnExpansion = /**
     * When detailRow column is present we initialize a state holding information which item is
     * expanded.
     *
     * todo: This is temporary here and once we suport lazy loading move this to datasource.
     *
     * For example for outline tree table we need to connect a state from outline with a state in
     * here as we are using outline control to expand and collapse items
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.rowDetailColumn)) {
            this.rowDetailColumn.initialize(this);
        }
        this.detailRowExpansionState.detailExpansionEnabled = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.rowDetailColumn) &&
            _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].isTrue(this.showRowDetailExpansionControl);
    };
    /**
     * This method is executed after we initialize all the columns in order to calculate correct
     * numbers used for indentation while rendering selection columns as well as detail row columns.
     *
     * Here we need to be aware how many columns to span
     *
     */
    /**
     * This method is executed after we initialize all the columns in order to calculate correct
     * numbers used for indentation while rendering selection columns as well as detail row columns.
     *
     * Here we need to be aware how many columns to span
     *
     * @return {?}
     */
    Datatable2Component.prototype.initColumnInfo = /**
     * This method is executed after we initialize all the columns in order to calculate correct
     * numbers used for indentation while rendering selection columns as well as detail row columns.
     *
     * Here we need to be aware how many columns to span
     *
     * @return {?}
     */
    function () {
        var _this = this;
        this.numberOfColsBeforeData = 0;
        this.columns.forEach(function (col) {
            if (!col.isValueColumn()) {
                _this.numberOfColsBeforeData++;
            }
        });
        if (this.indentDetailRow) {
            this.numberOfColsBeforeData++;
        }
        this.startOfFirstDataColumn = this.columns.length - this.numberOfColsBeforeData;
    };
    /**
     * See AWDataTable
     *
     */
    /**
     * See AWDataTable
     *
     * @param {?} cell
     * @param {?} column
     * @param {?} item
     * @return {?}
     */
    Datatable2Component.prototype.onCellSelectionChange = /**
     * See AWDataTable
     *
     * @param {?} cell
     * @param {?} column
     * @param {?} item
     * @return {?}
     */
    function (cell, column, item) {
        if (this.selectionMode !== 'cell') {
            return;
        }
        /** @type {?} */
        var lookupKey = {
            col: column.key || column.label,
            item: item
        };
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.state.selection) && this.state.selection.length > 0) {
            /** @type {?} */
            var foundIndex_1 = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].findIndexComplex(this.state.selection, lookupKey);
            /** @type {?} */
            var isSelected = foundIndex_1 !== -1;
            if (isSelected) {
                this.state.selection = this.state.selection
                    .filter(function (val, index) { return index !== foundIndex_1; });
            }
            else {
                this.state.selection = Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__spread"])(this.state.selection, [lookupKey]);
            }
        }
        else {
            this.state.selection = [lookupKey];
        }
        this.onCellChange.emit(this.state.selection);
    };
    /**
     * See AWDataTable
     *
     */
    /**
     * See AWDataTable
     *
     * @param {?} cell
     * @param {?} column
     * @return {?}
     */
    Datatable2Component.prototype.onHeaderSelectionChange = /**
     * See AWDataTable
     *
     * @param {?} cell
     * @param {?} column
     * @return {?}
     */
    function (cell, column) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.state.headerSelection)) {
            if (this.isHeaderSelected(column)) {
                this.state.headerSelection = null;
            }
            else {
                this.state.headerSelection = column;
            }
        }
        else {
            this.state.headerSelection = column;
        }
        this.onHeaderSelection.emit(this.state.headerSelection);
    };
    /**
     * @param {?} event
     * @param {?} item
     * @return {?}
     */
    Datatable2Component.prototype.onHandleRowClicked = /**
     * @param {?} event
     * @param {?} item
     * @return {?}
     */
    function (event, item) {
        // special alt key modifier. When used with rows it indicates there is a D&D enabled
        if (event.altKey) {
            return;
        }
        if (this.selectionMode === 'multi') {
            this.onRowToggle(event, item);
        }
        else if (this.selectionMode === 'single') {
            this.onRowSelect(event, item);
        }
    };
    /**
     * See AWDataTable
     *
     */
    /**
     * See AWDataTable
     *
     * @param {?} event
     * @param {?} item
     * @return {?}
     */
    Datatable2Component.prototype.onRowToggle = /**
     * See AWDataTable
     *
     * @param {?} event
     * @param {?} item
     * @return {?}
     */
    function (event, item) {
        /** @type {?} */
        var rowSelected = true;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.state.selection) && this.state.selection.length > 0) {
            /** @type {?} */
            var foundIndex_2 = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].findIndexComplex(this.state.selection, item);
            /** @type {?} */
            var isSelected = foundIndex_2 !== -1;
            if (isSelected) {
                this.state.selection = this.state.selection
                    .filter(function (val, index) { return index !== foundIndex_2; });
                rowSelected = false;
            }
            else {
                this.state.selection = Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__spread"])(this.state.selection, [item]);
            }
            // for the outline go up and down the sync with treeitems
            if (this.isOutline()) {
                this.onHandleOutlineRowToggleToChildren(item, isSelected);
                this.oHandleOutlineRowToggleToParent(item, isSelected);
            }
        }
        else {
            this.state.selection = [item];
            if (this.isOutline()) {
                this.onHandleOutlineRowToggleToChildren(item, false);
                this.oHandleOutlineRowToggleToParent(item, false);
            }
        }
        this.onRowSelectionChange.emit({
            isSelected: rowSelected,
            item: this.state.selection
        });
        event.stopPropagation();
    };
    /**
     * See AWDataTable
     *
     */
    /**
     * See AWDataTable
     *
     * @param {?} event
     * @param {?} item
     * @return {?}
     */
    Datatable2Component.prototype.onRowSelect = /**
     * See AWDataTable
     *
     * @param {?} event
     * @param {?} item
     * @return {?}
     */
    function (event, item) {
        this.state.selection = item;
        event.stopPropagation();
        this.onRowSelectionChange.emit(item);
    };
    /**
     * See AWDataTable
     *
     */
    /**
     * See AWDataTable
     *
     * @param {?} currentItem
     * @param {?} isSelected
     * @return {?}
     */
    Datatable2Component.prototype.onHandleOutlineRowToggleToChildren = /**
     * See AWDataTable
     *
     * @param {?} currentItem
     * @param {?} isSelected
     * @return {?}
     */
    function (currentItem, isSelected) {
        /** @type {?} */
        var childrenForNode = this.children.apply(this.context, [currentItem]) || [];
        if (childrenForNode.length > 0) {
            // If is selected currently then toggle to other state
            if (!isSelected) {
                // when checking all from root, deselect children and add all
                this.onHandleOutlineRowToggleToChildren(currentItem, true);
                this.state.selection = Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__spread"])(this.state.selection, childrenForNode);
            }
            else {
                var _loop_1 = function (child) {
                    /** @type {?} */
                    var foundIndex = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].findIndexComplex(this_1.state.selection, child);
                    this_1.state.selection = this_1.state.selection
                        .filter(function (val, index) { return index !== foundIndex; });
                };
                var this_1 = this;
                try {
                    // remove each child
                    for (var childrenForNode_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__values"])(childrenForNode), childrenForNode_1_1 = childrenForNode_1.next(); !childrenForNode_1_1.done; childrenForNode_1_1 = childrenForNode_1.next()) {
                        var child = childrenForNode_1_1.value;
                        _loop_1(child);
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (childrenForNode_1_1 && !childrenForNode_1_1.done && (_a = childrenForNode_1.return)) _a.call(childrenForNode_1);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
            }
            try {
                // apply the same for children of children
                for (var childrenForNode_2 = Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__values"])(childrenForNode), childrenForNode_2_1 = childrenForNode_2.next(); !childrenForNode_2_1.done; childrenForNode_2_1 = childrenForNode_2.next()) {
                    var child = childrenForNode_2_1.value;
                    this.onHandleOutlineRowToggleToChildren(child, isSelected);
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (childrenForNode_2_1 && !childrenForNode_2_1.done && (_b = childrenForNode_2.return)) _b.call(childrenForNode_2);
                }
                finally { if (e_2) throw e_2.error; }
            }
        }
        var e_1, _a, e_2, _b;
    };
    /**
     * See AWDataTable
     *
     */
    /**
     * See AWDataTable
     *
     * @param {?} currentItem
     * @param {?} isSelected
     * @return {?}
     */
    Datatable2Component.prototype.oHandleOutlineRowToggleToParent = /**
     * See AWDataTable
     *
     * @param {?} currentItem
     * @param {?} isSelected
     * @return {?}
     */
    function (currentItem, isSelected) {
        /** @type {?} */
        var parent = currentItem.$$parentItem;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(parent)) {
            /** @type {?} */
            var childrenForNode = this.children.apply(this.context, [parent]) || [];
            /** @type {?} */
            var allSelected = true;
            try {
                for (var childrenForNode_3 = Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__values"])(childrenForNode), childrenForNode_3_1 = childrenForNode_3.next(); !childrenForNode_3_1.done; childrenForNode_3_1 = childrenForNode_3.next()) {
                    var child = childrenForNode_3_1.value;
                    allSelected = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].findIndexComplex(this.state.selection, child) !== -1
                        && allSelected;
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (childrenForNode_3_1 && !childrenForNode_3_1.done && (_a = childrenForNode_3.return)) _a.call(childrenForNode_3);
                }
                finally { if (e_3) throw e_3.error; }
            }
            if (!isSelected) {
                if (allSelected) {
                    this.state.selection.push(parent);
                }
            }
            else {
                if (!allSelected) {
                    /** @type {?} */
                    var parentIndex_1 = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].findIndexComplex(this.state.selection, parent);
                    this.state.selection = this.state.selection
                        .filter(function (val, index) { return index !== parentIndex_1; });
                }
            }
            this.oHandleOutlineRowToggleToParent(currentItem.$$parentItem, isSelected);
        }
        var e_3, _a;
    };
    /**
     * See AWDataTable
     *
     */
    /**
     * See AWDataTable
     *
     * @param {?} origPos
     * @param {?} newPos
     * @param {?} dropPos
     * @return {?}
     */
    Datatable2Component.prototype.onDnDRowDrop = /**
     * See AWDataTable
     *
     * @param {?} origPos
     * @param {?} newPos
     * @param {?} dropPos
     * @return {?}
     */
    function (origPos, newPos, dropPos) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dataSource)) {
            // console.log('Dropping row #: ', origPos + ' ' + dropPos + ' row #: ' + newPos);
            this.dataSource.reorderRows(origPos, newPos, dropPos);
        }
    };
    /**
     * See AWDataTable
     *
     */
    /**
     * See AWDataTable
     *
     * @param {?} event
     * @return {?}
     */
    Datatable2Component.prototype.onOutlineExpandChange = /**
     * See AWDataTable
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var item = event.item;
        // We dont really need to store a state form outline locally as we are using the same object
        // reference
        // this.state.outlineState = this.outlineState.expansionStates;
        if (this.canUseForDetailRow(item)) {
            this.detailRowExpansionState.toggle(item);
        }
    };
    /**
     * See AWDataTable
     *
     *
     */
    /**
     * See AWDataTable
     *
     *
     * @return {?}
     */
    Datatable2Component.prototype.sortSingle = /**
     * See AWDataTable
     *
     *
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.list) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.sortColumn)) {
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.sortColumn.key), 'Invalid column to sort');
            this.dataSource.sort(this.sortColumn.key, this.sortColumn.sortOrder);
            this.onSort.emit({
                field: this.sortColumn.key,
                order: this.sortColumn.sortOrder
            });
        }
    };
    /**
     * See AWDataTable
     *
     */
    /**
     * See AWDataTable
     *
     * @return {?}
     */
    Datatable2Component.prototype.handleDataChange = /**
     * See AWDataTable
     *
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.state.sortKey || this.sortColumn) {
            if (!this.sortColumn && this.columns) {
                this.sortColumn = this.columns.find(function (col) { return col.key === _this.state.sortKey; });
            }
        }
        this.updateDataToRender();
        this.valueChange.emit(this.list);
    };
    /**
     * @param {?=} datasource
     * @return {?}
     */
    Datatable2Component.prototype.updateDataToRender = /**
     * @param {?=} datasource
     * @return {?}
     */
    function (datasource) {
        this.dataToRender = datasource || this.list;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.children) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dataToRender)
            && this.dataToRender.length > 0 && isOutlineNode(this.dataToRender[0])) {
            this.outlineFormat = 'tree';
        }
        // this.changeDetector.markForCheck();
        this.changeDetector.detectChanges();
    };
    /**
     * @return {?}
     */
    Datatable2Component.prototype.reset = /**
     * @return {?}
     */
    function () {
        this.sortColumn = null;
        this.updateDataToRender();
    };
    /**
     * See AWDataTable
     */
    /**
     * See AWDataTable
     * @param {?} item
     * @return {?}
     */
    Datatable2Component.prototype.isHeaderSelected = /**
     * See AWDataTable
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.state.headerSelection)) {
            return false;
        }
        /** @type {?} */
        var colMatched = item.key || item.label;
        /** @type {?} */
        var currentCol = this.state.headerSelection.key || this.state.headerSelection.label;
        return colMatched === currentCol;
    };
    /**
     *
     * See AWDataTable
     *
     */
    /**
     *
     * See AWDataTable
     *
     * @param {?} column
     * @param {?} item
     * @return {?}
     */
    Datatable2Component.prototype.isBodyCellSelected = /**
     *
     * See AWDataTable
     *
     * @param {?} column
     * @param {?} item
     * @return {?}
     */
    function (column, item) {
        /** @type {?} */
        var lookupKey = {
            col: column.key || column.label,
            item: item
        };
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.state.selection) &&
            _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].findIndexComplex(this.state.selection, lookupKey) !== -1;
    };
    /**
     *  See AWDataTable
     *
     */
    /**
     *  See AWDataTable
     *
     * @param {?} item
     * @return {?}
     */
    Datatable2Component.prototype.isRowSelected = /**
     *  See AWDataTable
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (this.hasLeadingSelectColumn() && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.state.selection)) {
            if (this.selectionMode === 'multi') {
                return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].findIndexComplex(this.state.selection, item) !== -1;
            }
            else if (this.selectionMode === 'single') {
                return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["equals"])(this.state.selection, item);
            }
        }
        return false;
    };
    /**
     *
     * Do we have data to render Used inside template to tell if we should use the NoData template
     *
     */
    /**
     *
     * Do we have data to render Used inside template to tell if we should use the NoData template
     *
     * @return {?}
     */
    Datatable2Component.prototype.isEmpty = /**
     *
     * Do we have data to render Used inside template to tell if we should use the NoData template
     *
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.dataToRender) || (this.dataToRender.length === 0);
    };
    /**
     * @return {?}
     */
    Datatable2Component.prototype.hasFrozenColumns = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.frozenColumns) && this.frozenColumns.length > 0;
    };
    /**
     * See AWDataTable
     */
    /**
     * See AWDataTable
     * @return {?}
     */
    Datatable2Component.prototype.hasInvisibleSelectionColumn = /**
     * See AWDataTable
     * @return {?}
     */
    function () {
        return this.hasLeadingSelectColumn() && !this.showSelectionColumn;
    };
    /**
     *
     * See AWDataTable
     *
     */
    /**
     *
     * See AWDataTable
     *
     * @return {?}
     */
    Datatable2Component.prototype.hasLeadingSelectColumn = /**
     *
     * See AWDataTable
     *
     * @return {?}
     */
    function () {
        return this.selectionMode !== 'none' && this.selectionMode !== 'cell';
    };
    /**
     * @return {?}
     */
    Datatable2Component.prototype.visibleColumns = /**
     * @return {?}
     */
    function () {
        return this.columns ? this.columns.filter(function (c) { return c.isVisible; }) : [];
    };
    /**
     * See AWDataTable
     *
     */
    /**
     * See AWDataTable
     *
     * @param {?} direction
     * @return {?}
     */
    Datatable2Component.prototype.sortOrderingForString = /**
     * See AWDataTable
     *
     * @param {?} direction
     * @return {?}
     */
    function (direction) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(direction) || direction === 'ascending') {
            return 1;
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(direction) || direction === 'descending') {
            return -1;
        }
        // todo: log bad key
        return 1;
    };
    /**
     * @param {?} direction
     * @return {?}
     */
    Datatable2Component.prototype.sortOrderingForNumber = /**
     * @param {?} direction
     * @return {?}
     */
    function (direction) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(direction) || direction === 1) {
            return 'ascending';
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(direction) || direction === -1) {
            return 'descending';
        }
        // todo: log bad key
        return 'ascending';
    };
    /**
     * See AWDataTable
     *
     */
    /**
     * See AWDataTable
     *
     * @param {?} event
     * @return {?}
     */
    Datatable2Component.prototype.toggleAllColumns = /**
     * See AWDataTable
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var currentItems = this.dataToRender || [];
        /** @type {?} */
        var selectedObject = this.state.selection || [];
        if (selectedObject.length >= currentItems.length) {
            this.state.selection = [];
        }
        else {
            this.state.selection = [];
            this.state.selection = Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__spread"])(currentItems);
        }
    };
    /**
     *
     * See AWDataTable
     *
     */
    /**
     *
     * See AWDataTable
     *
     * @return {?}
     */
    Datatable2Component.prototype.isToggleAllColumnSelected = /**
     *
     * See AWDataTable
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var currentItems = this.dataToRender || [];
        /** @type {?} */
        var selectedObject = this.state.selection || [];
        return currentItems.length > 0 && selectedObject.length >= currentItems.length;
    };
    /**
     * @return {?}
     */
    Datatable2Component.prototype.isToggleAllColumnDisabled = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var currentItems = this.dataToRender || [];
        return currentItems.length === 0;
    };
    /**
     *
     * Used by template to decide if we need to render DetailRow template. We need to have
     * DetailRow ContentChild and using DetailRow component [isVisibleFn] function binding we
     * check if the item that is about to be rendered is eligible for detail row
     *
     */
    /**
     *
     * Used by template to decide if we need to render DetailRow template. We need to have
     * DetailRow ContentChild and using DetailRow component [isVisibleFn] function binding we
     * check if the item that is about to be rendered is eligible for detail row
     *
     * @param {?} item
     * @return {?}
     */
    Datatable2Component.prototype.showDetailColumn = /**
     *
     * Used by template to decide if we need to render DetailRow template. We need to have
     * DetailRow ContentChild and using DetailRow component [isVisibleFn] function binding we
     * check if the item that is about to be rendered is eligible for detail row
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (this.canUseForDetailRow(item) && this.detailRowExpansionState.isExpanded(item)) {
            return true;
        }
        return false;
    };
    /**
     *
     * See AWDataTable
     *
     */
    /**
     *
     * See AWDataTable
     *
     * @return {?}
     */
    Datatable2Component.prototype.isOutline = /**
     *
     * See AWDataTable
     *
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.children) || this.outlineFormat === 'tree';
    };
    /**
     *
     * When dealing with detail column (detail row) and outline all together we need have a
     * mechanism to tell to the outline "don't render the next level of items" and use detail row.
     * So certain item type needs to be skipped.
     *
     * The way we skip those item is we use isVisibleFn condition of the detail row and look ahead
     * if we should skip next level.
     *
     */
    /**
     *
     * When dealing with detail column (detail row) and outline all together we need have a
     * mechanism to tell to the outline "don't render the next level of items" and use detail row.
     * So certain item type needs to be skipped.
     *
     * The way we skip those item is we use isVisibleFn condition of the detail row and look ahead
     * if we should skip next level.
     *
     * @param {?} item
     * @return {?}
     */
    Datatable2Component.prototype.skipOutlineItem = /**
     *
     * When dealing with detail column (detail row) and outline all together we need have a
     * mechanism to tell to the outline "don't render the next level of items" and use detail row.
     * So certain item type needs to be skipped.
     *
     * The way we skip those item is we use isVisibleFn condition of the detail row and look ahead
     * if we should skip next level.
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return this.canUseForDetailRow(item);
    };
    /**
     *
     * See AWDaTable
     *
     */
    /**
     *
     * See AWDaTable
     *
     * @param {?} data
     * @param {?} field
     * @return {?}
     */
    Datatable2Component.prototype.getValue = /**
     *
     * See AWDaTable
     *
     * @param {?} data
     * @param {?} field
     * @return {?}
     */
    function (data, field) {
        return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["FieldPath"].getFieldValue(data, field);
    };
    /**
     * @return {?}
     */
    Datatable2Component.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnDestroy.call(this);
        if (this.columnsSubscription) {
            this.columnsSubscription.unsubscribe();
        }
    };
    /**
     * Makes sure that we also include programmatic column if present. Move them to the correct
     * array
     *
     * @return {?}
     */
    Datatable2Component.prototype.initFrozenColumns = /**
     * Makes sure that we also include programmatic column if present. Move them to the correct
     * array
     *
     * @return {?}
     */
    function () {
        var _this = this;
        this.colsQuery
            .filter(function (col1) { return col1.frozen; })
            .forEach(function (col) {
            col.initialize(_this);
            _this.frozenColumns.push(col);
        });
        if (this.frozenColumns.length > 0) {
            /** @type {?} */
            var lastInx = this.columns.slice()
                .reverse()
                .findIndex(function (col) { return _this.isInternalColumn(col); });
            if (lastInx !== -1) {
                /** @type {?} */
                var idx = this.columns.length - 1 - lastInx;
                /** @type {?} */
                var internalCols = this.columns.splice(0, idx + 1);
                this.frozenColumns = Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__spread"])(internalCols, this.frozenColumns);
            }
            /** @type {?} */
            var hasValidCols = this.columns
                .findIndex(function (col) { return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(col.width); }) === -1;
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(hasValidCols || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.scrollWidth), 'When using [frozen] binding you need specify [width] for each ' +
                'column or [scrollWidth] on datatable!');
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.rowDetailColumn), 'You cannot combine aw-dt-detail-column with frozen columns!');
        }
    };
    /**
     * Updates current immutable list and trigger change detection. Need to wrap it with
     * setTimeout as the change can easily come after view checked and this would result some errors
     *
     * @param {?} newList
     * @return {?}
     */
    Datatable2Component.prototype.updateList = /**
     * Updates current immutable list and trigger change detection. Need to wrap it with
     * setTimeout as the change can easily come after view checked and this would result some errors
     *
     * @param {?} newList
     * @return {?}
     */
    function (newList) {
        var _this = this;
        setTimeout(function () {
            _this.list = newList;
            _this.handleDataChange();
        });
    };
    /**
     * @param {?} item
     * @return {?}
     */
    Datatable2Component.prototype.canUseForDetailRow = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.rowDetailColumn) &&
            (/** @type {?} */ (this.rowDetailColumn)).showDetailRow(item);
    };
    Datatable2Component.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-datatable2',
                    template: "<!--\n    This template focus only on header and body rendering.\n\n    This datatable also supports frozen column and for this rendering it is pretty much transparent\n    as it received sets of column that it needs to render from the TableWrapper.\n\n    TableWrapper in case of frozen columns calls #headerRows and #bodyRows templates twice to\n    render to separate tables where one has frozen columns and another one has the rest and its\n    scrollable\n-->\n\n<aw-dt-wrapper #dtWrapper>\n    <ng-template #headingArea>\n        <ng-content select=\"aw-dt-header2\"></ng-content>\n    </ng-template>\n\n    <ng-template #headerRows let-colsToRender let-frozenView=\"frozenColumns\">\n        <ng-container\n            *ngTemplateOutlet=\"header; context:{$implicit: colsToRender, frozen:frozenView }\">\n        </ng-container>\n    </ng-template>\n\n    <ng-template #bodyRows let-colsToRender>\n        <ng-template [ngIf]=\"isOutline()\">\n            <ng-container\n                *ngTemplateOutlet=\"bodyOutline; context:{$implicit: colsToRender}\"></ng-container>\n        </ng-template>\n        <ng-template [ngIf]=\"!isOutline()\">\n            <ng-container\n                *ngTemplateOutlet=\"bodyPlain; context:{$implicit: colsToRender}\"></ng-container>\n        </ng-template>\n    </ng-template>\n</aw-dt-wrapper>\n\n\n<!--\n    Each rendering column has its own renderTemplate which define how things should be render.\n    Based on different column types this code should be transparent as we dont care on this\n    level what kind of column we are rendering.\n\n    Later on when we will support single/multi selection, this will be just another column extending\n    DTColumn and providing its own template\n\n    We pass into this template if we are rendering header, subHeader, or data\n-->\n<ng-template #header let-colsToRender let-frozen=\"frozen\">\n    <tr>\n        <ng-template ngFor let-col [ngForOf]=\"colsToRender\" let-lastCol=\"last\"\n                     let-columnIndex=\"index\">\n\n            <ng-container *ngTemplateOutlet=\"col.rendererTemplate;\n                context:{$implicit: true, isSubHeader:false,\n                columnIndex:(frozen ? columnIndex: (columns.length + columnIndex))}\">\n            </ng-container>\n        </ng-template>\n    </tr>\n\n    <tr *ngIf=\"showSubHeader\">\n        <ng-template ngFor let-col [ngForOf]=\"colsToRender\" let-lastCol=\"last\">\n            <ng-container *ngTemplateOutlet=\"col.rendererTemplate;\n                context:{$implicit: true, isSubHeader:true}\">\n            </ng-container>\n        </ng-template>\n    </tr>\n</ng-template>\n\n\n<ng-template #bodyPlain let-colsToRender>\n\n    <tbody [ngClass]=\"{'dt-content dt-data-cells ': true, 'dt-is-hoverable-row': rowHover}\">\n\n    <ng-template ngFor let-rowData [ngForOf]=\"dataToRender\" let-even=\"even\" let-odd=\"odd\"\n                 let-rowIndex=\"index\" [ngForTrackBy]=\"rowTrackBy\">\n\n        <ng-container *ngTemplateOutlet=\"rowTemplate; context:{$implicit: rowData, even:even,\n                                          odd:odd, rowIndex:rowIndex, colsToRender:colsToRender}\">\n        </ng-container>\n\n        <ng-template [ngIf]=\"showDetailColumn(rowData)\">\n            <ng-container *ngTemplateOutlet=\"rowDetailColumn.rendererTemplate;\n                    context:{$implicit: false, data:rowData, rowIndex:(rowIndex)}\">\n            </ng-container>\n        </ng-template>\n\n    </ng-template>\n    <ng-container *ngTemplateOutlet=\"noData\"></ng-container>\n    </tbody>\n</ng-template>\n\n\n<ng-template #bodyOutline let-colsToRender>\n    <tbody #outlineFor awOutlineFor [list]=\"dataToRender\"\n           [format]=\"outlineFormat\"\n           [context]=\"context\"\n           [indentationPerLevel]=\"indentationPerLevel\"\n           [pushRootSectionOnNewLine]=\"pushRootSectionOnNewLine\"\n           [children]=\"children\" [expandAll]=\"expandAll\"\n           [state]=\"outlineState\"\n           [ngClass]=\"{'dt-content dt-data-cells ': true,\n                           'dt-is-hoverable-row': rowHover}\"\n           (onExpandChange)=\"onOutlineExpandChange($event)\">\n\n    <ng-template #outline let-rowData let-nestingLevel=\"nestingLevel\" let-rowIndex=\"rowIndex\">\n        <ng-container *ngTemplateOutlet=\"rowTemplate;\n                                context:{$implicit: rowData, nestingLevel:nestingLevel, colsToRender:colsToRender}\">\n        </ng-container>\n\n        <ng-template [ngIf]=\"showDetailColumn(rowData)\">\n            <ng-container *ngTemplateOutlet=\"rowDetailColumn.rendererTemplate;\n                    context:{$implicit: false, data:rowData, rowIndex:(rowIndex)}\">\n            </ng-container>\n        </ng-template>\n\n    </ng-template>\n    <ng-container *ngTemplateOutlet=\"noData\"></ng-container>\n    </tbody>\n</ng-template>\n\n<!--\n    Default template that is display when there are no data\n-->\n<ng-template #noData>\n    <tr *ngIf=\"isEmpty()\" class=\" dt-emptymessage-row\"\n        [style.visibility]=\"loading ? 'hidden' : 'visible'\">\n\n        <td [attr.colspan]=\"visibleColumns().length\" class=\"dt-emptymessage\">\n            <span *ngIf=\"!emptyMessageTemplate\">{{emptyMessage}}</span>\n            <ng-container *ngTemplateOutlet=\"emptyMessageTemplate\"></ng-container>\n        </td>\n    </tr>\n</ng-template>\n\n<!--\n    Template that renders actual row. Renders both header and body column. Each rendered\n    column has its own template called rendererTemplate that has all things that needs to be\n    rendered and we just tell the template if we are rendering header, subheader or body\n-->\n<ng-template #rowTemplate let-rowData let-even=\"event\" let-odd=\"odd\" let-rowIndex=\"rowIndex\"\n             let-nestingLevel=\"nestingLevel\" let-colsToRender=\"colsToRender\">\n\n\n    <tr #rowElement dtDraggableRow [dndRowIndex]=\"rowIndex\"\n        class=\"dt-body-row\"\n        (click)=\"onHandleRowClicked($event, rowData)\"\n        [attr.nestingLevel]=\"nestingLevel\"\n        [ngClass]=\"{'dt-even-row': even, 'dt-odd-row': odd,\n            'dt-row-selected': isRowSelected(rowData),\n            'dt-row-draggable': dndRowEnabled,\n            'dt-root-section': nestingLevel === 0 }\">\n\n        <ng-template ngFor let-col [ngForOf]=\"colsToRender\" let-colIndex=\"index\">\n            <ng-container *ngTemplateOutlet=\"col.rendererTemplate;\n                    context:{$implicit: false, data:rowData, rowIndex:rowIndex,\n                    nestingLevel:nestingLevel}\">\n            </ng-container>\n        </ng-template>\n    </tr>\n</ng-template>\n\n\n",
                    providers: [
                        primeng_components_utils_objectutils__WEBPACK_IMPORTED_MODULE_13__["ObjectUtils"],
                        OutlineState,
                        { provide: DATA_SOURCE, useClass: DT2DataSource, deps: [DataProviders, DataFinders] },
                    ],
                    encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
                    changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
                    styles: [".w-datatable{position:relative;display:block;box-sizing:border-box}.w-datatable table{border-collapse:collapse;width:100%;table-layout:fixed}.w-datatable tbody,.w-datatable td,.w-datatable th{outline:0}.dt-cell-def,.dt-cell-def-selectable{border:1px solid transparent;padding:17px 16px;box-sizing:border-box}.dt-cell-def-selectable{cursor:pointer;width:100%;height:100%}th .dt-cell-def-selectable{border-width:4px 1px 1px;padding:14px 16px 17px}td .dt-cell-def-selectable{border-width:0 1px 0 5px;padding:17px 16px 17px 13px}.dt-data-cells tr.dt-is-highlight,.dt-data-cells tr.dt-is-hover{border-color:inherit;font-weight:inherit;cursor:pointer}.w-datatable-rtl{direction:rtl}.w-datatable-rtl.w-datatable-rtl.w-datatable thead th{text-align:right}.dt-root-section .dt-cell-def,.dt-root-section .dt-cell-def-selectable{background-color:#f3f6f8;padding:10px 16px;border-bottom-color:transparent;border-right-color:transparent}.dt-plain-layout .dt-is-active,.dt-plain-layout .dt-is-default,.dt-plain-layout .dt-is-highlight,.dt-plain-layout .dt-is-hover,.dt-plain-layout .dt-is-hoverable-row{border-right-color:transparent}.dt-is-active,.dt-is-default,.dt-is-highlight,.dt-is-hover,.dt-is-hoverable-row{border:1px solid #d7d7d7;background-color:#fff;color:#363636}.dt-row-selected td{background-color:rgba(238,255,238,.71)}.dt-is-active{border-color:#065d9c;color:#199de0}.dt-is-highlight{background-color:rgba(65,117,5,.18)}.dt-is-hidden{display:none}.dt-u-unselectable-text{-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-ms-user-select:none;user-select:none}.dt-u-sortable{cursor:pointer}"]
                }] }
    ];
    /** @nocollapse */
    Datatable2Component.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: DT2DataSource, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [DATA_SOURCE,] }] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] },
        { type: OutlineState },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"] }
    ]; };
    Datatable2Component.propDecorators = {
        list: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        destinationClass: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        tableStyleClass: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        bodyClassFn: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        isRowSelectable: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showTableHeader: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        pivotalLayout: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        context: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        initialSortOrder: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        initialSortKey: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        displayRowSize: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        pageSize: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        dataSource: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        emptyMessage: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        rowTrackBy: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        rowHover: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        loading: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        selectionMode: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        loadingIcon: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        indentDetailRow: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        indentationPerLevel: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showSubHeader: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        children: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showExpansionControl: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        expandAll: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        outlineFormat: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        pushRootSectionOnNewLine: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showRowDetailExpansionControl: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showSelectionColumn: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showSelectAll: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showGlobalSearch: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        scrollWidth: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        dndRowEnabled: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onSort: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onRowClick: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onRowSelectionChange: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onCellChange: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onHeaderSelection: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        header: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: [DTHeaderComponent2,] }],
        emptyMessageTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['noDataTempl',] }],
        headerTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['dtHeader',] }],
        subHeaderTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['dtSubHeader',] }],
        bodyTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['dtBody',] }],
        headerFilterTemplate: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['headerFilter',] }],
        colsQuery: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChildren"], args: [DTColumn2Component,] }],
        rowDetailColumn: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: [DTDetailRowComponent,] }],
        valueChange: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        classList: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"], args: ['class',] }],
        state: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return Datatable2Component;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Please see datatable for more detail description. But the main goal of this wrapper to remove
 * all the common surrounding parts around the datatable and make sure DT can focus only actual
 * header and body structure
 *
 * It is expected that wrapper also provides some code for the sliding up panel containing
 * buttons and other actions that will be used during editing
 *
 *
 * Todo: Extract the expand logic out into some directive or component or just a class
 *
 */
var DTWrapper = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(DTWrapper, _super);
    function DTWrapper(env, render, thisElement, domUtils, platformId, dt) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        _this.render = render;
        _this.thisElement = thisElement;
        _this.domUtils = domUtils;
        _this.platformId = platformId;
        _this.dt = dt;
        /**
         * Color that is used by full screen div overlay to create expanding effect which needs to have
         * little tent;
         *
         */
        _this.expandColorFrom = '#f3f3f3';
        /**
         * Color that is used to set after we are in the full screen so our overlay div hide everything
         * on the page
         *
         */
        _this.expandColorTo = '#FFFFFF';
        /**
         * In order to debounce the typing we need to use subject
         *
         */
        _this.searchTerms = new rxjs__WEBPACK_IMPORTED_MODULE_6__["Subject"]();
        /**
         *  Specifies if we are in viewing/editing mode that can browse whole dataset lazily
         *
         */
        _this.isFullScreenMode = false;
        /**
         * Tells if we can support full screen mode - only available for the browser
         *
         */
        _this.supportFullScreen = true;
        return _this;
    }
    /**
     * @return {?}
     */
    DTWrapper.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        _super.prototype.ngOnInit.call(this);
        this.querySubscription = this.searchTerms.pipe(
        // wait 300ms after each keystroke before considering the term
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["debounceTime"])(300), 
        // ignore new term if same as previous term
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["distinctUntilChanged"])(), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["switchMap"])(function (term) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(term); })).subscribe(function (term) {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(term)) {
                _this.dt.dataSource.find(term);
            }
        });
        this.loadingSub = this.dt.valueChange
            .subscribe(function (data) { return _this.loadingFinished(); });
    };
    /**
     * Iterates over all columns marked as frozen and retrieve a width so we can update
     * parent div
     *
     */
    /**
     * Iterates over all columns marked as frozen and retrieve a width so we can update
     * parent div
     *
     * @return {?}
     */
    DTWrapper.prototype.calculateFrozenWidth = /**
     * Iterates over all columns marked as frozen and retrieve a width so we can update
     * parent div
     *
     * @return {?}
     */
    function () {
        if (!this.dt.hasFrozenColumns()) {
            return null;
        }
        /** @type {?} */
        var fWidth = 0;
        this.dt.frozenColumns.forEach(function (col) {
            if (col.maxWidthPx > 0) {
                fWidth += col.widestCell;
            }
            else {
                fWidth += parseInt(col.width);
            }
        });
        return fWidth;
    };
    /**
     * When having two separate tables we need to make sure that rows of the tables are aligned.
     *
     * Therefore this method takes first column from each table read the height of the rows and set
     * the max height to both rows.
     *
     *
     */
    /**
     * When having two separate tables we need to make sure that rows of the tables are aligned.
     *
     * Therefore this method takes first column from each table read the height of the rows and set
     * the max height to both rows.
     *
     *
     * @param {?} frozenView
     * @param {?} unFrozenView
     * @return {?}
     */
    DTWrapper.prototype.alignTablesHeights = /**
     * When having two separate tables we need to make sure that rows of the tables are aligned.
     *
     * Therefore this method takes first column from each table read the height of the rows and set
     * the max height to both rows.
     *
     *
     * @param {?} frozenView
     * @param {?} unFrozenView
     * @return {?}
     */
    function (frozenView, unFrozenView) {
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(frozenView) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(frozenView), 'Cant align table views as one of the view is undefined');
        /** @type {?} */
        var frozenRows = frozenView.querySelectorAll('table tr');
        /** @type {?} */
        var unFrozenRows = unFrozenView.querySelectorAll('table tr');
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(frozenRows.length === unFrozenRows.length, 'Frozen Column: Two tables does not much!');
        Array.from(frozenRows).forEach(function (frozen, index) {
            /** @type {?} */
            var h = Math.max(frozen.offsetHeight, unFrozenRows[index].offsetHeight);
            frozen.style.height = h + 'px';
            unFrozenRows[index].style.height = h + 'px';
        });
    };
    /**
     * @return {?}
     */
    DTWrapper.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        this.initFullScreen();
    };
    /**
     * @return {?}
     */
    DTWrapper.prototype.ngAfterViewChecked = /**
     * @return {?}
     */
    function () {
        if (this.dt.hasFrozenColumns()) {
            /** @type {?} */
            var frozenView = this.thisElement.nativeElement.querySelector('.dt-body-frozen');
            /** @type {?} */
            var unFrozenView = this.thisElement.nativeElement.querySelector('.dt-body-unfrozen');
            /** @type {?} */
            var frozenWidth = this.calculateFrozenWidth();
            frozenView.style.width = frozenWidth + 'px';
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(unFrozenView)) {
                // include border and create indent effect by having 1px white space
                unFrozenView.style.left = (frozenWidth + 2) + 'px';
                unFrozenView.style.width = unFrozenView.parentElement.offsetWidth
                    - frozenView.offsetWidth + 'px';
                this.alignTablesHeights(frozenView, unFrozenView);
            }
        }
    };
    /**
     * @return {?}
     */
    DTWrapper.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnDestroy.call(this);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.querySubscription)) {
            this.querySubscription.unsubscribe();
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.loadingSub)) {
            this.loadingSub.unsubscribe();
        }
    };
    /**
     * FULL SCREEN MODE methods
     */
    /**
     *
     * When fullscreen functionality is enabled this method switches between norml and full screen
     * mode
     *
     */
    /**
     *
     * When fullscreen functionality is enabled this method switches between norml and full screen
     * mode
     *
     * @param {?} event
     * @return {?}
     */
    DTWrapper.prototype.toggleFullScreen = /**
     *
     * When fullscreen functionality is enabled this method switches between norml and full screen
     * mode
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (this.isFullScreenMode) {
            this.closeFullScreen(event);
        }
        else {
            this.openFullScreen(event);
        }
    };
    /**
     * To push this component to full screen mode or maybe full page mode we need run following:
     *
     *  - Execute expand transformation, where we have additional overlay div that we slowly expand
     *  and this creates impression the DT is expanding
     *
     *  - apply full-screen class on top host element  - in this case its DataTable to switch
     *  to absolute positioning
     *
     *  - make sure we are scrolled all the way up
     *
     *  - hide all the elements on the page so their dimension don't interfere with this table.
     *
     *
     */
    /**
     * To push this component to full screen mode or maybe full page mode we need run following:
     *
     *  - Execute expand transformation, where we have additional overlay div that we slowly expand
     *  and this creates impression the DT is expanding
     *
     *  - apply full-screen class on top host element  - in this case its DataTable to switch
     *  to absolute positioning
     *
     *  - make sure we are scrolled all the way up
     *
     *  - hide all the elements on the page so their dimension don't interfere with this table.
     *
     *
     * @param {?} event
     * @return {?}
     */
    DTWrapper.prototype.openFullScreen = /**
     * To push this component to full screen mode or maybe full page mode we need run following:
     *
     *  - Execute expand transformation, where we have additional overlay div that we slowly expand
     *  and this creates impression the DT is expanding
     *
     *  - apply full-screen class on top host element  - in this case its DataTable to switch
     *  to absolute positioning
     *
     *  - make sure we are scrolled all the way up
     *
     *  - hide all the elements on the page so their dimension don't interfere with this table.
     *
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.isFullScreenMode = true;
        this.runExpandEffect();
        this.originalScrollPosition = window.pageYOffset;
        window.scroll(0, 0);
        this.toggleFullScreenOnDT(true);
        /** @type {?} */
        var parentNode = this.thisElement.nativeElement.parentNode;
        while (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(parentNode) && parentNode.tagName !== 'BODY') {
            parentNode.classList.add('u-full-screen-element');
            parentNode = parentNode.parentNode;
        }
        this.hideNonFullScreenElement(document.body);
        this.dt.state.limit = Math.round(this.calculateLimit());
        this.dt.dataSource.fetch(this.dt.state);
        // once loaded set back correct page size we use when loading data
        this.dt.state.limit = this.dt.pageSize;
    };
    /**
     *
     * The same like above method (openFullScreen) but in reverse order.
     *
     */
    /**
     *
     * The same like above method (openFullScreen) but in reverse order.
     *
     * @param {?} event
     * @return {?}
     */
    DTWrapper.prototype.closeFullScreen = /**
     *
     * The same like above method (openFullScreen) but in reverse order.
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        var _this = this;
        this.isFullScreenMode = false;
        this.showNonFullScreenElement();
        this.runCollapseEffect();
        this.toggleFullScreenOnDT(false);
        this.dt.dataSource.state.limit = this.dt.dataSource.state.displayLimit;
        this.dt.dataSource.state.offset = 0;
        this.dt.dataSource.fetch(this.dt.dataSource.state);
        setTimeout(function () {
            window.scroll(0, _this.originalScrollPosition);
        }, 300);
    };
    /**
     * Applies set of set of css properties to make the DT main component on the page expand to
     * full page mode and back
     *
     * We want to make it with little delay to let other animation finish
     */
    /**
     * Applies set of set of css properties to make the DT main component on the page expand to
     * full page mode and back
     *
     * We want to make it with little delay to let other animation finish
     * @param {?} fullScreen
     * @return {?}
     */
    DTWrapper.prototype.toggleFullScreenOnDT = /**
     * Applies set of set of css properties to make the DT main component on the page expand to
     * full page mode and back
     *
     * We want to make it with little delay to let other animation finish
     * @param {?} fullScreen
     * @return {?}
     */
    function (fullScreen) {
        var _this = this;
        this.dt.el.nativeElement.style.opacity = 0;
        setTimeout(function () {
            if (fullScreen) {
                _this.dt.classList += 'dt-full-screen';
                _this.dt.el.nativeElement.style.opacity = 1;
            }
            else {
                _this.dt.classList = _this.dt.classList.replace('dt-full-screen', '');
                _this.dt.el.nativeElement.style.opacity = 1;
            }
        }, 200);
    };
    /**
     * Listen for infinite scroll event and request new data from data source
     *
     */
    /**
     * Listen for infinite scroll event and request new data from data source
     *
     * @param {?} event
     * @return {?}
     */
    DTWrapper.prototype.onLazyLoad = /**
     * Listen for infinite scroll event and request new data from data source
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (event.isLoad) {
            this.dt.state.offset = event.offset;
            this.dt.dataSource.fetch(this.dt.state);
        }
        else {
            /** @type {?} */
            var dataProvider = this.dt.dataSource.dataProvider;
            /** @type {?} */
            var data = dataProvider.dataChanges.getValue();
            dataProvider.dataChanges.next(data.slice(0, event.offset));
        }
    };
    /**
     * Creates animation effect to make it feel like the element (in this case DT) is expanding
     * from the middle to the full page mode.
     *
     * We take the dimension of the table then it is scaled slowly to the full page
     * @return {?}
     */
    DTWrapper.prototype.runExpandEffect = /**
     * Creates animation effect to make it feel like the element (in this case DT) is expanding
     * from the middle to the full page mode.
     *
     * We take the dimension of the table then it is scaled slowly to the full page
     * @return {?}
     */
    function () {
        var _this = this;
        this.dtBoundingClientRect = this.thisElement.nativeElement.getBoundingClientRect();
        this.updateElement();
        this.dtFullScreenOverlay.nativeElement.style.backgroundColor = this.expandColorFrom;
        this.dtFullScreenOverlay.nativeElement.style.opacity = 1;
        this.applyTransformation(true);
        setTimeout(function () {
            _this.dtFullScreenOverlay.nativeElement.style.backgroundColor = _this.expandColorTo;
        }, 300);
    };
    /**
     * Applies the transformation and scale the helper div (overlay) down to make it look like
     * it collapses
     * @return {?}
     */
    DTWrapper.prototype.runCollapseEffect = /**
     * Applies the transformation and scale the helper div (overlay) down to make it look like
     * it collapses
     * @return {?}
     */
    function () {
        var _this = this;
        this.updateElement();
        this.applyTransformation(false);
        setTimeout(function () {
            _this.updateElement();
            _this.dtFullScreenOverlay.nativeElement.style.opacity = 0;
        }, 200);
        setTimeout(function () {
            _this.updateElement(_this.dtBoundingClientRect.left, _this.dtBoundingClientRect.top, 0, 0);
        }, 400);
    };
    /**
     * DFS  - to go thru all the element under BODY and remove them from the page.
     *
     * @param {?} parentElement
     * @return {?}
     */
    DTWrapper.prototype.hideNonFullScreenElement = /**
     * DFS  - to go thru all the element under BODY and remove them from the page.
     *
     * @param {?} parentElement
     * @return {?}
     */
    function (parentElement) {
        if (this.thisElement.nativeElement.parentNode === parentElement) {
            return;
        }
        for (var i = 0; i < parentElement.children.length; i++) {
            /** @type {?} */
            var element = parentElement.children[i];
            if (this.needTraverseDown(element)) {
                this.hideNonFullScreenElement(element);
            }
            else if (!element.classList.contains('dt-full-screen')) {
                element.classList.add('u-fs-element-out');
            }
        }
    };
    /**
     * Put all the element that were previously removed by hideNonFullScreenElement() back
     * @return {?}
     */
    DTWrapper.prototype.showNonFullScreenElement = /**
     * Put all the element that were previously removed by hideNonFullScreenElement() back
     * @return {?}
     */
    function () {
        Array.from(document.querySelectorAll('.u-fs-element-out'))
            .forEach(function (elem) { return elem.classList.remove('u-fs-element-out'); });
    };
    /**
     * \@Internal
     *
     * @param {?} element
     * @return {?}
     */
    DTWrapper.prototype.needTraverseDown = /**
     * \@Internal
     *
     * @param {?} element
     * @return {?}
     */
    function (element) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(element) && element.tagName !== 'SCRIPT' &&
            element.classList.contains('u-full-screen-element') &&
            !element.classList.contains('dt-full-screen');
    };
    /**
     * When we enter full screen /page mode when need to calculate how many rows to load initially
     *
     * @return {?}
     */
    DTWrapper.prototype.calculateLimit = /**
     * When we enter full screen /page mode when need to calculate how many rows to load initially
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var browserH = this.domUtils.browserDimentions().height;
        /** @type {?} */
        var rowH = this.dt.el.nativeElement.querySelector('tbody tr:first-child').offsetHeight;
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(rowH) && rowH > 0) ? (browserH / rowH) + 20 : 50;
    };
    /**
     * \@Internal
     *
     * @param {?=} l
     * @param {?=} t
     * @param {?=} w
     * @param {?=} h
     * @return {?}
     */
    DTWrapper.prototype.updateElement = /**
     * \@Internal
     *
     * @param {?=} l
     * @param {?=} t
     * @param {?=} w
     * @param {?=} h
     * @return {?}
     */
    function (l, t, w, h) {
        if (l === void 0) { l = this.dtBoundingClientRect.left; }
        if (t === void 0) { t = this.dtBoundingClientRect.top; }
        if (w === void 0) { w = this.dtBoundingClientRect.width; }
        if (h === void 0) { h = this.dtBoundingClientRect.height; }
        this.dtFullScreenOverlay.nativeElement.style.left = l + 'px';
        this.dtFullScreenOverlay.nativeElement.style.top = t + 'px';
        this.dtFullScreenOverlay.nativeElement.style.width = w + 'px';
        this.dtFullScreenOverlay.nativeElement.style.height = h + 'px';
    };
    /**
     * \@Internal
     *
     * @param {?} expand
     * @return {?}
     */
    DTWrapper.prototype.applyTransformation = /**
     * \@Internal
     *
     * @param {?} expand
     * @return {?}
     */
    function (expand) {
        /** @type {?} */
        var x;
        /** @type {?} */
        var y;
        /** @type {?} */
        var tx;
        /** @type {?} */
        var ty;
        if (expand) {
            x = window.innerWidth / this.dtBoundingClientRect.width;
            y = window.innerHeight / this.dtBoundingClientRect.height;
            tx = (window.innerWidth / 2 - this.dtBoundingClientRect.width / 2
                - this.dtBoundingClientRect.left) / x;
            ty = (window.innerHeight / 2 - this.dtBoundingClientRect.height / 2
                - this.dtBoundingClientRect.top) / y;
        }
        else {
            x = 1;
            y = 1;
            tx = this.dtBoundingClientRect.left;
            ty = this.dtBoundingClientRect.top;
        }
        this.dtFullScreenOverlay.nativeElement.style.transform =
            'scaleX(' + x + ') scaleY(' + y + ') translate3d(' + (tx) + 'px, ' + (ty) + 'px, 0px)';
    };
    /**
     * INFINITE SCROLLING METHODS
     * @return {?}
     */
    DTWrapper.prototype.initFullScreen = /**
     * INFINITE SCROLLING METHODS
     * @return {?}
     */
    function () {
        if (!Object(_angular_common__WEBPACK_IMPORTED_MODULE_5__["isPlatformBrowser"])(this.platformId)) {
            this.supportFullScreen = false;
            return;
        }
        this.render.appendChild(document.body, this.dtFullScreenOverlay.nativeElement);
    };
    /**
     * When loading is finished mark loading icon is done so we can hide it. I am using little
     * delay to make the animation visible
     * @return {?}
     */
    DTWrapper.prototype.loadingFinished = /**
     * When loading is finished mark loading icon is done so we can hide it. I am using little
     * delay to make the animation visible
     * @return {?}
     */
    function () {
        var _this = this;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.infiniteScroll)) {
            setTimeout(function () { return _this.infiniteScroll.complete(); }, 200);
        }
    };
    DTWrapper.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-dt-wrapper',
                    template: "<div [ngClass]=\"dt.styleClass\" [class.dt-full-screen-mode]=\"isFullScreenMode\"\n     [style.width]=\"dt.width\"\n>\n    <div class=\"dt-loading-overlay\" *ngIf=\"dt.loading\"></div>\n    <div class=\"dt-loading-content\" *ngIf=\"dt.loading\">\n        <i [class]=\"'sap-icon u-dt-spin-icon ' + dt.loadingIcon\"></i>\n    </div>\n\n    <div class=\"dt-header\" *ngIf=\"dt.showTableHeader\">\n        <ng-template *ngIf=\"dt.header; then appDefinedHeader else defaultHeader\"></ng-template>\n    </div>\n\n    <!-- DT BODY with table headers and values -->\n    <div class=\"dt-body-wrapper-view\">\n        <ng-template\n            *ngIf=\"dt.hasFrozenColumns(); then dtBodyWithFrozenColumns else dtBodyNoFrozenColumns\">\n        </ng-template>\n    </div>\n\n    <!--<div class=\"dt-footer\" *ngIf=\"footer\">-->\n    <!--&lt;!&ndash; footerArea&ndash;&gt;-->\n    <!--<ng-content select=\"aw-dt-footer\"></ng-content>-->\n    <!--</div>-->\n</div>\n\n<!-- todo: dont activate this if we reached the end of list - -->\n<aw-infinite-scroll #infiniteScroll *ngIf=\"isFullScreenMode\"\n                    [distance]=\"'10%'\"\n                    [fetchSize]=\"dt.state.limit\"\n                    (onLoad)=\"onLazyLoad($event)\">\n</aw-infinite-scroll>\n\n\n<ng-template #appDefinedHeader>\n    <ng-container *ngTemplateOutlet=\"heading;\"></ng-container>\n</ng-template>\n\n<ng-template #defaultHeader>\n    <div class=\"dt-global-filter\">\n        <span class=\"sap-icon icon-filter\"></span>\n    </div>\n\n    <div class=\"dt-global-actions\">\n        <div class=\"dt-action-combo\">\n            <span *ngIf=\"supportFullScreen\" class=\"sap-icon icon-resize\"\n                  (click)=\"toggleFullScreen($event)\"></span>\n\n            <aw-input-field *ngIf=\"dt.showGlobalSearch\" styleClass=\"dt-table-search\"\n                            [(ngModel)]=\"dt.state.currentSearchQuery\"\n                            placeHolder=\"search\"\n                            icon=\"icon-search\"\n                            (ngModelChange)=\"searchTerms.next($event)\">\n            </aw-input-field>\n            <span class=\"ariba-icon icon-more\"></span>\n        </div>\n    </div>\n</ng-template>\n\n<!--\n    Each section frozen/non-frozen is calculated inside table-wrapper in the ngAfterViewChecked, where we set\n    proper width for each frame as well as left coordinates for the right one\n-->\n<ng-template #dtBodyNoFrozenColumns>\n    <!--\n        For non-frozen case we also need to set TRUE as the view is actually frozen and does not\n        scroll.\n        We use this frozenColumns flag inside DT to properly set column index on the header level\n        columnIndex:(frozen ? columnIndex: (columns.length + columnIndex))\n\n        therefore we need to set true even in this case to return real columnIndex since we dont\n        have the second table.\n    -->\n    <ng-container *ngTemplateOutlet=\"dtBody; context:{$implicit: dt.columns, frozenColumns: true }\">\n    </ng-container>\n</ng-template>\n\n<ng-template #dtBodyWithFrozenColumns>\n    <ng-container\n        *ngTemplateOutlet=\"dtBody; context:{$implicit: dt.frozenColumns, frozenColumns: true }\">\n    </ng-container>\n    <ng-container\n        *ngTemplateOutlet=\"dtBody; context:{$implicit: dt.columns, frozenColumns: false }\">\n    </ng-container>\n</ng-template>\n\n\n<ng-template #dtBody let-columns let-frozenColumns=\"frozenColumns\">\n\n    <div #dtContainer class=\"dt-body-wrapper\"\n         [style.width.px]=\"this.calculateFrozenWidth()\"\n         [class.dt-body-unfrozen]=\"dt.hasFrozenColumns() && !frozenColumns\"\n         [class.dt-body-frozen]=\"dt.hasFrozenColumns() && frozenColumns\"\n    >\n\n        <table [ngClass]=\"dt.tableStyleClass\"\n               [style.width]=\"frozenColumns ? null : dt.scrollWidth\"\n               [class.dt-pivot-layout]=\"dt.pivotalLayout\"\n               [class.dt-plain-layout]=\"!dt.pivotalLayout && !dt.isOutline()\">\n\n            <!-- Render TH header rows-->\n            <thead class=\"dt-thead\">\n            <ng-container *ngTemplateOutlet=\"headerRows; context:{$implicit: columns,frozenColumns:frozenColumns }\">\n            </ng-container>\n            </thead>\n\n            <!--\n                Render data rows. For data rows we need to keep tbody tag inside DT table\n                due to Outline\n             -->\n            <ng-container *ngTemplateOutlet=\"bodyRows; context:{$implicit: columns,  frozenColumns:frozenColumns }\">\n            </ng-container>\n        </table>\n    </div>\n</ng-template>\n\n\n<div #dtFullScreenOverlay class=\"dt-full-screen-overlay u-full-screen-element\"></div>\n",
                    encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
                    styles: [".dt-footer,.dt-header{text-align:center;padding:.5em .75em;box-sizing:border-box}.dt-footer{border-top:0}.dt-thead tr{border-width:0}.dt-body-wrapper-view{position:relative}.dt-body-wrapper{overflow:hidden;border:1px solid #d7d7d7}.dt-body-wrapper.dt-body-unfrozen{border-left-color:transparent;position:absolute;top:0;overflow-x:auto}.dt-loading-overlay{position:absolute;background-color:#9b9b9b;width:100%;height:100%;opacity:.1;z-index:1}.dt-loading-content{position:absolute;left:50%;top:25%;z-index:2}.dt-header{width:100%;display:flex;flex-flow:row nowrap;justify-content:space-between;color:#363636;border-bottom:1px solid #f1f1f1;margin-bottom:30px}.dt-header .dt-global-filter{flex:0 0;align-items:flex-start;font-size:18px}.dt-header .dt-global-actions{flex:0 0;align-items:flex-end}.dt-header .dt-action-combo{display:flex;flex-flow:row nowrap;color:#7d7d7d}.dt-header .dt-action-combo .ariba-icon,.dt-header .dt-action-combo .sap-icon{margin-left:15px;font-size:20px;-ms-grid-row-align:center;align-self:center;cursor:pointer}.dt-header .dt-action-combo .dt-table-search{border-top-color:transparent;border-left-color:transparent;border-right-color:transparent}.dt-header .dt-action-combo .icon-resize{color:#4a4a4a;font-size:16px;line-height:18px;margin-right:15px}.u-dt-spin-icon{display:inline-block;-webkit-animation:2s linear infinite doSpin;animation:2s linear infinite doSpin}@-webkit-keyframes doSpin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes doSpin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.dt-full-screen-overlay{position:fixed;z-index:100;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transition:.4s ease-in-out}.dt-full-screen{width:98vw;z-index:120;position:absolute;top:15px;pointer-events:all;transition:opacity .5s ease-in-out}.u-fs-element-out{display:none}"]
                }] }
    ];
    /** @nocollapse */
    DTWrapper.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer2"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: DomUtilsService },
        { type: Object, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["PLATFORM_ID"],] }] },
        { type: Datatable2Component, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return Datatable2Component; }),] }] }
    ]; };
    DTWrapper.propDecorators = {
        expandColorFrom: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        expandColorTo: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        heading: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['headingArea',] }],
        headerRows: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['headerRows',] }],
        bodyRows: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['bodyRows',] }],
        footer: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['footerArea',] }],
        dtFullScreenOverlay: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: ['dtFullScreenOverlay',] }],
        infiniteScroll: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: ['infiniteScroll',] }]
    };
    return DTWrapper;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * This directive is responsible for checking and setting the widest content width onto
 * Column component as the widestCell property.
 *
 * We use this directive inside dt-column.component to store a current width for each td,th
 *
 *
 */
var SetCellMaxWidthDirective = /** @class */ (function () {
    function SetCellMaxWidthDirective(element, render, td) {
        this.element = element;
        this.render = render;
        this.td = td;
    }
    /**
     * @return {?}
     */
    SetCellMaxWidthDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    SetCellMaxWidthDirective.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        // console.log('Cell Max Width: ' + this.dtMaxWidth, this.dtMaxWidth > 0);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.dtMaxWidth) && this.dtMaxWidth > 0) {
            /** @type {?} */
            var inlineData = this.element.nativeElement.querySelector('.dt-col-cell-data');
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(inlineData)) {
                inlineData.style.whiteSpace = 'nowrap';
                inlineData.style.display = 'inline-block';
                /** @type {?} */
                var cellWidth = inlineData.offsetWidth; // td
                inlineData.style.whiteSpace = 'normal';
                inlineData.style.display = 'inline';
                if (!this.isInThresHold(cellWidth)) {
                    return;
                }
                cellWidth += this.tdPadding();
                if (cellWidth > this.td.widthPx) {
                    if (cellWidth < this.dtMaxWidth) {
                        this.td.widestCell = cellWidth > this.td.widestCell ? cellWidth :
                            this.td.widestCell;
                    }
                    else if (cellWidth >= this.dtMaxWidth) {
                        this.td.widestCell = (this.dtMaxWidth > this.td.widestCell)
                            ? this.dtMaxWidth : this.td.widestCell;
                    }
                }
            }
        }
    };
    /**
     *
     * Is the new width the same as the one already set on the column? If yes then probably
     * new content does not differ that much. We still keep certain threshold as the new content
     * width might differ 1 or 2 pixes depending how set the css.
     *
     * To make sure we resize column only if necessary because it could be original size
     * is 400px but the new one is 401px since somewhere add some extra border we have this
     * safe threshold
     *
     */
    /**
     *
     * Is the new width the same as the one already set on the column? If yes then probably
     * new content does not differ that much. We still keep certain threshold as the new content
     * width might differ 1 or 2 pixes depending how set the css.
     *
     * To make sure we resize column only if necessary because it could be original size
     * is 400px but the new one is 401px since somewhere add some extra border we have this
     * safe threshold
     *
     * @param {?} newWidth
     * @return {?}
     */
    SetCellMaxWidthDirective.prototype.isInThresHold = /**
     *
     * Is the new width the same as the one already set on the column? If yes then probably
     * new content does not differ that much. We still keep certain threshold as the new content
     * width might differ 1 or 2 pixes depending how set the css.
     *
     * To make sure we resize column only if necessary because it could be original size
     * is 400px but the new one is 401px since somewhere add some extra border we have this
     * safe threshold
     *
     * @param {?} newWidth
     * @return {?}
     */
    function (newWidth) {
        if (this.td.widestCell > 0) {
            return Math.abs(this.td.widestCell - newWidth) > 3 && newWidth > this.td.widestCell;
        }
        return true;
    };
    /**
     * @return {?}
     */
    SetCellMaxWidthDirective.prototype.tdPadding = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var computedStyle = getComputedStyle(this.element.nativeElement);
        /** @type {?} */
        var cell = parseInt(computedStyle.paddingLeft) || 0;
        cell += parseInt(computedStyle.paddingRight) || 0;
        cell += parseInt(computedStyle.borderRightWidth) || 0;
        cell += parseInt(computedStyle.borderLeftWidth) || 0;
        // plus give it some little space around the text so it nots px to px inner width of the td
        // cuz it could wrap
        cell += 5;
        return cell;
    };
    SetCellMaxWidthDirective.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"], args: [{
                    selector: '[dtMaxWidth]'
                },] }
    ];
    /** @nocollapse */
    SetCellMaxWidthDirective.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer2"] },
        { type: DTColumn2Component }
    ]; };
    SetCellMaxWidthDirective.propDecorators = {
        dtMaxWidth: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return SetCellMaxWidthDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Directive used inside DT in order to support table rows re-ordering. This manages all the
 * D&D necessary logic for this functionality.
 *
 * [dtDraggableRow] is used inside the `rowTemplate` like this:
 *
 *
 * ```html
 *
 * <ng-template #rowTemplate let-rowData let-even='event" let-odd="odd" let-rowIndex="rowIndex"
 *              let-nestingLevel="nestingLevel" let-colsToRender="colsToRender">
 *
 *     <tr #rowElement dtDraggableRow [dndRowIndex]="rowIndex"
 *          class="dt-body-row"
 *
 *
 *
 * ```
 *
 * which enabled or disables based on the used DT binding [dndRowEnabled]. By default its disabled.
 *
 *
 *
 */
var DTDraggableRowDirective = /** @class */ (function () {
    function DTDraggableRowDirective(element, dt, domUtils, ngZone) {
        this.element = element;
        this.dt = dt;
        this.domUtils = domUtils;
        this.ngZone = ngZone;
        /**
         *
         * Tells the directive if we enable middle row zone to create an effect that we are dropping
         * into the row. Used for outline DT mainly.
         *
         */
        this.dropIntoEnabled = false;
        /**
         * Current TR index number
         *
         */
        this.dndRowIndex = 0;
        /**
         * Holds information about our dragging direction UP and DOWN in order to assign correct style
         * that highlights the row at the top or bottom
         *
         */
        this.dragDir = DragDirection.None;
        /**
         * Indicates that we dragged our row and stopped in the middle of the other row
         *
         */
        this.inMiddle = false;
        /**
         *
         * Current drag Y coordinates which is used together with the dragDir when assinging dragging
         * direction.
         *
         */
        this.dragY = 0;
    }
    /**
     * @return {?}
     */
    DTDraggableRowDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        if (this.dt.dndRowEnabled) {
            this.setupEventListeners();
        }
    };
    /**
     * @return {?}
     */
    DTDraggableRowDirective.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        if (this.dt.dndRowEnabled) {
            this.releaseEventListeners();
        }
    };
    /**
     * Setups listeners and returns handle to them so we can later on unsubscribe.
     * @return {?}
     */
    DTDraggableRowDirective.prototype.setupEventListeners = /**
     * Setups listeners and returns handle to them so we can later on unsubscribe.
     * @return {?}
     */
    function () {
        var _this = this;
        this.ngZone.runOutsideAngular(function () {
            _this.eventHandlers = {};
            _this.eventHandlers['mousedown'] = _this.onMouseDownEvent.bind(_this);
            _this.element.nativeElement.addEventListener('mousedown', _this.eventHandlers['mousedown']);
            _this.eventHandlers['dragstart'] = _this.onDragStartEvent.bind(_this);
            _this.element.nativeElement.addEventListener('dragstart', _this.eventHandlers['dragstart']);
            _this.eventHandlers['dragover'] = _this.onDragOverEvent.bind(_this);
            _this.element.nativeElement.addEventListener('dragover', _this.eventHandlers['dragover']);
            _this.eventHandlers['dragleave'] = _this.onDragLeaveEvent.bind(_this);
            _this.element.nativeElement.addEventListener('dragleave', _this.eventHandlers['dragleave']);
            _this.eventHandlers['drop'] = _this.onDropEvent.bind(_this);
            _this.element.nativeElement.addEventListener('drop', _this.eventHandlers['drop']);
            _this.eventHandlers['dragend'] = _this.onDragEndEvent.bind(_this);
            _this.element.nativeElement.addEventListener('dragend', _this.eventHandlers['dragend']);
        });
    };
    /**
     * Removes all the created listeners inside destroy() callback
     * @return {?}
     */
    DTDraggableRowDirective.prototype.releaseEventListeners = /**
     * Removes all the created listeners inside destroy() callback
     * @return {?}
     */
    function () {
        var _this = this;
        DragEvents.forEach(function (name) {
            document.removeEventListener('name', _this.eventHandlers[name]);
        });
    };
    /**
     *
     * This is first event where we:
     *
     *  - Mark element draggable to enable D&D
     *  - Set click position relative to the middle of the current row
     *      This is mainly needed when we are trying to calculate something for
     *      dropInto row (outline)
     *
     * event.target usually contains reference to TD element
     * @param {?} event
     * @return {?}
     */
    DTDraggableRowDirective.prototype.onMouseDownEvent = /**
     *
     * This is first event where we:
     *
     *  - Mark element draggable to enable D&D
     *  - Set click position relative to the middle of the current row
     *      This is mainly needed when we are trying to calculate something for
     *      dropInto row (outline)
     *
     * event.target usually contains reference to TD element
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (event.altKey && this.domUtils.hasParent(event.target, '.dt-row-draggable')) {
            this.element.nativeElement.draggable = true;
            /** @type {?} */
            var elToBeDragged = this.domUtils.elementDimensions(event.target);
            this.dt.env.setValue('ddClickDeviance', (elToBeDragged.height / 2) - event.offsetY);
        }
        else {
            this.element.nativeElement.draggable = false;
        }
    };
    /**
     * This is second triggered event when the actual dragging starts. Here we need to disable
     * dragged row and save information that are common to a table.
     *
     * Marking row disabled with the style .dt-row-dragging using setTimeout is needed as
     * if we would go without it then D&D framework would create a copy of row in disabled state.
     * Now we grab a row with active state and after a 200ms delay we disable the original row.
     *
     * @param {?} event
     * @return {?}
     */
    DTDraggableRowDirective.prototype.onDragStartEvent = /**
     * This is second triggered event when the actual dragging starts. Here we need to disable
     * dragged row and save information that are common to a table.
     *
     * Marking row disabled with the style .dt-row-dragging using setTimeout is needed as
     * if we would go without it then D&D framework would create a copy of row in disabled state.
     * Now we grab a row with active state and after a 200ms delay we disable the original row.
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        setTimeout(function () {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(event.target.classList)) {
                event.target.classList.add('dt-row-dragging');
            }
        }, 200);
        this.dt.env.setValue('isDragging', true);
        this.dt.env.setValue('dndId', this.dndRowIndex);
        event.dataTransfer.setData('text', this.dndRowIndex);
    };
    /**
     *
     * This events happens anytime as we drag over rows. This event triggered after certain
     * delay. In here we calculate the mouse movement to identify if we are going UP or DOWN.
     *
     * This is mainly needed to mark a row with the correct line on TOP or BOTTOM to visually
     * show a user where we are.
     *
     * Once we know the direction and the drop target is valid we mark the row with correct class
     * that does the trick
     * @param {?} event
     * @return {?}
     */
    DTDraggableRowDirective.prototype.onDragOverEvent = /**
     *
     * This events happens anytime as we drag over rows. This event triggered after certain
     * delay. In here we calculate the mouse movement to identify if we are going UP or DOWN.
     *
     * This is mainly needed to mark a row with the correct line on TOP or BOTTOM to visually
     * show a user where we are.
     *
     * Once we know the direction and the drop target is valid we mark the row with correct class
     * that does the trick
     * @param {?} event
     * @return {?}
     */
    function (event) {
        event.dataTransfer.dropEffect = 'move';
        if (this.dragY < event.pageY) {
            this.dragDir = DragDirection.Down;
        }
        else if (this.dragY > event.pageY) {
            this.dragDir = DragDirection.Up;
        }
        // dont set again unless its different
        if (this.dragY !== event.pageY) {
            this.dragY = event.pageY;
        }
        if (this.isValidDropTarget(event)) {
            // todo test this preventDefault() so it does not create some sideeffect
            event.preventDefault();
            this.markRowWithClass(event, this.domUtils.closest(event.target, 'tr'));
        }
    };
    /**
     * This is finishing event just before D&D is done. It takes current information and
     * broadcast them to the DT so DT can do necessary row reordering
     *
     *
     * @param {?} event
     * @return {?}
     */
    DTDraggableRowDirective.prototype.onDropEvent = /**
     * This is finishing event just before D&D is done. It takes current information and
     * broadcast them to the DT so DT can do necessary row reordering
     *
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.clearClasses(event.target.parentElement);
        /** @type {?} */
        var origIndx = this.dt.env.getValue('dndId');
        /** @type {?} */
        var dropPos = this.inMiddle ? DropPosition.Into : (this.dragDir === DragDirection.Up ? DropPosition.Before : DropPosition.After);
        this.dt.onDnDRowDrop(origIndx, this.dndRowIndex, dropPos);
        this.inMiddle = false;
        this.dragY = 0;
    };
    /**
     * Every time we drag over the element we apply some classes to the it. this method does the
     * opposite which is to remove everything so we are ready for the next row
     *
     *
     * @param {?} event
     * @return {?}
     */
    DTDraggableRowDirective.prototype.onDragLeaveEvent = /**
     * Every time we drag over the element we apply some classes to the it. this method does the
     * opposite which is to remove everything so we are ready for the next row
     *
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var tr = this.domUtils.closest(event.target, 'tr');
        this.clearClasses(tr);
        this.dt.env.deleteValue('dndOnHoldIndex');
    };
    /**
     *
     * This is last event within D&D flow. Mainly used to clean up all the resource that has not
     * been clean up already inside onDropEvent.
     *
     * @param {?} event
     * @return {?}
     */
    DTDraggableRowDirective.prototype.onDragEndEvent = /**
     *
     * This is last event within D&D flow. Mainly used to clean up all the resource that has not
     * been clean up already inside onDropEvent.
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(event.target.classList)) {
            event.target.classList.remove('dt-row-dragging');
        }
        this.clearClasses(event.target);
        this.element.nativeElement.draggable = false;
        this.dt.env.deleteValue('isDragging');
        this.dt.env.deleteValue('dndId');
        this.dt.env.deleteValue('ddClickDeviance');
    };
    /**
     * Assign CSS classes to the row to create an highlighting effect to capture current position
     * for the user.
     *
     * Based on the Drag direction we either apply
     * css class that creates a line on top or bottom.  Only for the dropInto functionality we
     * need to calculate some more to identify if we are really in the middle of the row.
     *
     * DropInto:
     * ---------
     *
     * Initially we captured a position (in mousedown) the distance to the middle of the row and
     * this we are using here with some threshold of 2 pixes so we dont have to be exactly on pixel
     * perfect.
     *
     * - let currentTrCenter = this.domUtils.elementDimensions(activeRow).height / 2;
     *      Read center of current row
     *
     * - let draggedTrCenter = event.offsetY + this.dt.env.getValue('ddClickDeviance');
     *      Read mouse coordinates relative to current row/td and add to it our deviation.
     *
     *
     * @param {?} event
     * @param {?} activeRow
     * @return {?}
     */
    DTDraggableRowDirective.prototype.markRowWithClass = /**
     * Assign CSS classes to the row to create an highlighting effect to capture current position
     * for the user.
     *
     * Based on the Drag direction we either apply
     * css class that creates a line on top or bottom.  Only for the dropInto functionality we
     * need to calculate some more to identify if we are really in the middle of the row.
     *
     * DropInto:
     * ---------
     *
     * Initially we captured a position (in mousedown) the distance to the middle of the row and
     * this we are using here with some threshold of 2 pixes so we dont have to be exactly on pixel
     * perfect.
     *
     * - let currentTrCenter = this.domUtils.elementDimensions(activeRow).height / 2;
     *      Read center of current row
     *
     * - let draggedTrCenter = event.offsetY + this.dt.env.getValue('ddClickDeviance');
     *      Read mouse coordinates relative to current row/td and add to it our deviation.
     *
     *
     * @param {?} event
     * @param {?} activeRow
     * @return {?}
     */
    function (event, activeRow) {
        this.clearClasses(activeRow);
        /** @type {?} */
        var currentTrCenter = this.domUtils.elementDimensions(activeRow).height / 2;
        /** @type {?} */
        var draggedTrCenter = event.offsetY + this.dt.env.getValue('ddClickDeviance');
        if (this.dropIntoEnabled) {
            this.inMiddle = Math.abs(currentTrCenter - draggedTrCenter) < 2;
        }
        if (this.inMiddle) {
            activeRow.classList.add(DragDirection.Middle);
        }
        else {
            activeRow.classList.add(this.dragDir);
        }
    };
    /**
     *
     * Drop target must be only another TR and it cannot be the element itself the one we are
     * dragging and it does not make sense to allow to drop to the same position we started from
     *
     * @param {?} event
     * @return {?}
     */
    DTDraggableRowDirective.prototype.isValidDropTarget = /**
     *
     * Drop target must be only another TR and it cannot be the element itself the one we are
     * dragging and it does not make sense to allow to drop to the same position we started from
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var origInx = this.dt.env.getValue('dndId');
        /** @type {?} */
        var siblingRow = this.dndRowIndex - origInx;
        return event.target.parentElement.tagName === 'TR' && this.dndRowIndex !== origInx &&
            !(siblingRow === 1 && this.dragDir === DragDirection.Up) &&
            !(siblingRow === -1 && this.dragDir === DragDirection.Down);
    };
    /**
     *  private
     *
     * @param {?} tr
     * @return {?}
     */
    DTDraggableRowDirective.prototype.clearClasses = /**
     *  private
     *
     * @param {?} tr
     * @return {?}
     */
    function (tr) {
        tr.classList.remove('dt-drag-row-top');
        tr.classList.remove('dt-drag-row-bottom');
        tr.classList.remove('dt-drag-row-both');
    };
    /**
     *  private
     *
     * @return {?}
     */
    DTDraggableRowDirective.prototype.dragDirToString = /**
     *  private
     *
     * @return {?}
     */
    function () {
        switch (this.dragDir) {
            case DragDirection.Up:
                return 'Up';
            case DragDirection.Down:
                return 'Down';
            default:
                return 'Not Sure';
        }
    };
    DTDraggableRowDirective.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"], args: [{
                    selector: '[dtDraggableRow]'
                },] }
    ];
    /** @nocollapse */
    DTDraggableRowDirective.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: Datatable2Component, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return Datatable2Component; }),] }] },
        { type: DomUtilsService },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }
    ]; };
    DTDraggableRowDirective.propDecorators = {
        dropIntoEnabled: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        dndRowIndex: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return DTDraggableRowDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWDatatable2Module = /** @class */ (function () {
    function AWDatatable2Module() {
    }
    AWDatatable2Module.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        Datatable2Component,
                        DTWrapper,
                        DTColumn2Component,
                        DTHeaderComponent2,
                        DTDetailRowComponent,
                        DTDetailRowExpanderComponent,
                        DTMultiSelectColumnComponent,
                        DTSingleSelectColumnComponent,
                        DTDraggableRowDirective,
                        SetCellMaxWidthDirective
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        AWCoreComponentModule,
                        AWCheckBoxModule,
                        AWOutlineForModule,
                        AWRadioButtonModule,
                        AWInputFieldModule
                    ],
                    entryComponents: [
                        DTDetailRowExpanderComponent,
                        DTMultiSelectColumnComponent,
                        DTSingleSelectColumnComponent
                    ],
                    exports: [
                        Datatable2Component,
                        DTColumn2Component,
                        AWOutlineForModule,
                        DTHeaderComponent2,
                        DTDetailRowComponent
                    ],
                    providers: []
                },] }
    ];
    return AWDatatable2Module;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * An confirmation header area.
 *
 * See {\@link ConfirmationComponent} for more explanation.
 */
var ConfirmationHeaderComponent = /** @class */ (function () {
    function ConfirmationHeaderComponent() {
    }
    ConfirmationHeaderComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-confirmation-header',
                    template: '<ng-content></ng-content>'
                }] }
    ];
    return ConfirmationHeaderComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * An confirmation header area.
 *
 * See {\@link ConfirmationComponent} for more explanation.
 */
var ConfirmationFooterComponent = /** @class */ (function () {
    function ConfirmationFooterComponent() {
    }
    ConfirmationFooterComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-confirmation-footer',
                    template: '<ng-content></ng-content>'
                }] }
    ];
    return ConfirmationFooterComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Confirmation Component is a specific version of the dialog where it supports confirm and cancel
 * functionality. It behaves like a dialog, is modal, and not closable by default.
 *
 * There are three types of popup.
 *   1.  a regular dialog box that has header, body and footer. It's the most customizable.
 *   2.  a confirmation box is similar to a dialog box but has accept and reject action buttons.
 *   3.  a overlay, which is a very basic popup with what you put inside.
 *       It doesn't have header and footer.
 *
 * There are two ways to use any popup component.
 *   1.  Either directly by using component, aw-dialog, aw-confirmation or aw-overlay
 *   2.  or the ModalService  service.open(<ConfirmationComponent>), service.close()
 *
 * Usage:
 *    1.  Using ModalService directly to display a modal popup. This usage is a quick way to show
 *        a confirmation to the user.
 *
 *          this.modalService.open<ConfirmationComponent>(ConfirmationComponent, {
 *                        title: 'Confirmation',
 *                        body: ` Are you sure ? `,
 *                        width: 300,
 *                        onConfirm: () => {
 *                              this.confirmAction();
 *                        },
 *                        onCancel: () => {
 *                              this.cancelAction();
 *                        }
 *           });
 *
 *
 *   2.   Use the component inside your template.
 *
 * \@Component({
 *                selector: 'aw-page' ,
 *                           template: `
 *                              <aw-confirmation [title]="'Confirmation'"
 *                                      [(visible)]="display"
 *                                     (onConfirm)="confirmAction()"
 *                                    (onCancel)="cancelAction()">
 *                                       <i class="sap-icon icon-alert"></i>
 *                                       Are you sure you want to delete your hard drive?
 *                            </aw-confirmation>
 *
 *                                   <aw-button [size]="'small'" (click)="open()">
 *                                       Open Confirmation
 *                                   </aw-button>
 *                  `
 *         export class MyPageComponent implements OnInit {
 *
 *                     display: boolean = false;
 *
 *                     confirmAction: string;
 *
 *                     constructor(private modalService: ModalService) {
 *                          super();
 *                       }
 *                     ngOnInit() { }
 *
 *                     open() {
 *                        this.display = true;
 *                     }
 *
 *                     confirmAction()  {
 *                        this.confirmAction = "confirmed";
 *                      }
 *
 *                      close() {
 *                         this.display = false;
 *                      }
 *
 *                      cancelAction() {
 *                          this.confirmAction = "canceled";
 *                      }
 *
 *       }
 *
 *
 */
var ConfirmationComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(ConfirmationComponent, _super);
    function ConfirmationComponent(env) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        /**
         * support two way data binding on visible property.
         */
        _this.visibleChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Whether there's an x at the top right that makes the dialog closable.
         */
        _this.closable = false;
        /**
         * Event fired when dialog is closed.
         */
        _this.onClose = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Event fired when the dialog is opened.
         */
        _this.onOpen = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Fired when user clicked on confirm button.
         */
        _this.onConfirm = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Fired when user clicked on cancel button.
         */
        _this.onCancel = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.width = 400;
        _this.height = 'auto';
        // Todo: internationalize.
        // Todo: internationalize.
        _this.confirmActionLabel = 'Confirm';
        _this.cancelActionLabel = 'Cancel';
        return _this;
    }
    /**
     * open confirmation.
     */
    /**
     * open confirmation.
     * @return {?}
     */
    ConfirmationComponent.prototype.open = /**
     * open confirmation.
     * @return {?}
     */
    function () {
        this.visible = true;
        this.onOpen.emit();
        this.visibleChange.emit(true);
    };
    /**
     * close confirmation.
     */
    /**
     * close confirmation.
     * @return {?}
     */
    ConfirmationComponent.prototype.close = /**
     * close confirmation.
     * @return {?}
     */
    function () {
        this.visible = false;
        this.onClose.emit();
        // Important to make sure change is set on parent binding.
        // Otherwise, the variable and dialog open/close state can be out
        // of sync and we wouldn't trigger change detection.
        this.visibleChange.emit(false);
    };
    /**
     * Does the confirmation have header content?
     */
    /**
     * Does the confirmation have header content?
     * @return {?}
     */
    ConfirmationComponent.prototype.hasHeader = /**
     * Does the confirmation have header content?
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.header);
    };
    /**
     * Does the confirmation have footer content?
     */
    /**
     * Does the confirmation have footer content?
     * @return {?}
     */
    ConfirmationComponent.prototype.hasFooter = /**
     * Does the confirmation have footer content?
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.footer);
    };
    /**
     * Confirm action.
     */
    /**
     * Confirm action.
     * @return {?}
     */
    ConfirmationComponent.prototype.confirm = /**
     * Confirm action.
     * @return {?}
     */
    function () {
        this.close();
        this.onConfirm.emit();
    };
    /**
     * Cancel action.
     */
    /**
     * Cancel action.
     * @return {?}
     */
    ConfirmationComponent.prototype.cancel = /**
     * Cancel action.
     * @return {?}
     */
    function () {
        this.close();
        this.onCancel.emit();
    };
    ConfirmationComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-confirmation',
                    template: "<aw-dialog [title]=\"title\" [(visible)]=\"visible\"\n           [modal]=\"true\" [closable]=\"closable\" [width]=\"width\" [height]=\"height\"\n           [styleClass]=\"styleClass\" [appendTo]=\"appendTo\" (onOpen)=\"open()\" (onClose)=\"close()\">\n\n    <aw-dialog-header *ngIf=\"hasHeader()\">\n        <ng-content select=\"aw-confirmation-header\"></ng-content>\n    </aw-dialog-header>\n\n    {{body}}\n    <ng-content></ng-content>\n\n\n    <aw-dialog-footer *ngIf=\"hasFooter(); else defaultFooter\">\n        <ng-content select=\"aw-confirmation-footer\"></ng-content>\n    </aw-dialog-footer>\n\n    <ng-template #defaultFooter>\n        <aw-dialog-footer>\n            <aw-button name=\"confirm\" [style]=\"'primary'\" (action)=\"confirm()\">\n                {{confirmActionLabel}}\n            </aw-button>\n\n            <aw-button name=\"cancel\" [style]=\"'secondary'\" (action)=\"cancel()\">\n                {{cancelActionLabel}}\n            </aw-button>\n\n        </aw-dialog-footer>\n    </ng-template>\n\n</aw-dialog>\n",
                    styles: [".confirmation-footer-separator{border-top:1px solid #d7d7d7;height:14px}"]
                }] }
    ];
    /** @nocollapse */
    ConfirmationComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    ConfirmationComponent.propDecorators = {
        title: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        body: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        confirmActionLabel: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        cancelActionLabel: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        visibleChange: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        closable: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        appendTo: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onClose: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onOpen: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onConfirm: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onCancel: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        header: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: [ConfirmationHeaderComponent,] }],
        footer: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: [ConfirmationFooterComponent,] }]
    };
    return ConfirmationComponent;
}(ModalContainer));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWConfirmationModule = /** @class */ (function () {
    function AWConfirmationModule() {
    }
    AWConfirmationModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        ConfirmationComponent,
                        ConfirmationHeaderComponent,
                        ConfirmationFooterComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        AWCoreComponentModule,
                        AWDialogModule,
                        AWButtonModule
                    ],
                    entryComponents: [
                        ModalComponent,
                        ConfirmationComponent,
                        ConfirmationHeaderComponent,
                        ConfirmationFooterComponent
                    ],
                    exports: [
                        ConfirmationComponent,
                        ConfirmationHeaderComponent,
                        ConfirmationFooterComponent
                    ],
                    providers: []
                },] }
    ];
    return AWConfirmationModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * Container panel providing scrolling functionality for its children. You can configure this
 * container to let it to scroll its content either horizontally, vertically or let the content
 * wrap.
 *
 *
 * Usage is pretty simple:
 *
 *  ### Example using horizontal scroll (default behavior):
 *
 *  ```
 *            <aw-scrollable>
 *                  <w-demo-card> Card 1</w-demo-card>
 *                  <w-demo-card> Card 2</w-demo-card>
 *                  <w-demo-card> Card 3</w-demo-card>
 *                  <w-demo-card> Card 4</w-demo-card>
 *                  <w-demo-card> Card 5</w-demo-card>
 *                  <w-demo-card> Card 6</w-demo-card>
 *                  <w-demo-card> Card 7</w-demo-card>
 *                  <w-demo-card> Card 8</w-demo-card>
 *                  <w-demo-card> Card 9</w-demo-card>
 *              </aw-scrollable>
 *
 *  ```
 *
 *  ### Example using vertical scroll:
 *
 *  ```
 *            <aw-scrollable [direction]="'vertical'" [height]="'40vh'">
 *                  <w-demo-card> Card 1</w-demo-card>
 *                  <w-demo-card> Card 2</w-demo-card>
 *                  <w-demo-card> Card 3</w-demo-card>
 *                  <w-demo-card> Card 4</w-demo-card>
 *                  <w-demo-card> Card 5</w-demo-card>
 *                  <w-demo-card> Card 6</w-demo-card>
 *                  <w-demo-card> Card 7</w-demo-card>
 *                  <w-demo-card> Card 8</w-demo-card>
 *                  <w-demo-card> Card 9</w-demo-card>
 *              </aw-scrollable>
 *
 * ```
 *
 *  ### Example scrolling is disabled and content wraps and centers:
 *
 *  ```
 *            <aw-scrollable [direction]="'none'" [alignment]="'center'">
 *                  <w-demo-card> Card 1</w-demo-card>
 *                  <w-demo-card> Card 2</w-demo-card>
 *                  <w-demo-card> Card 3</w-demo-card>
 *                  <w-demo-card> Card 4</w-demo-card>
 *                  <w-demo-card> Card 5</w-demo-card>
 *                  <w-demo-card> Card 6</w-demo-card>
 *                  <w-demo-card> Card 7</w-demo-card>
 *                  <w-demo-card> Card 8</w-demo-card>
 *                  <w-demo-card> Card 9</w-demo-card>
 *              </aw-scrollable>
 *  ```
 *
 * ### Height property:
 *
 * When using "horizontal scrolling" it set "flexbox-direction" to "row" where height
 * is set automatically based on its content. The height should be always 100% when using
 * this in parent container.
 *
 * If "vertical scrolling" is used you need to make sure that:
 *   - your parent container sets the boundaries with correctly set width and height
 *   otherwise it will use 100% of the viewport
 *   - if used as standalone you need to limit the height otherwise it will expand to 100% of
 *   the document
 *
 *
 *
 *
 */
var ScrollableContainerComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(ScrollableContainerComponent, _super);
    function ScrollableContainerComponent(env, elementRef) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        _this.elementRef = elementRef;
        /**
         * Defines scrolling direction of the container meaning tells which overflow axies will be
         * disabled or enabled.
         *
         * Default value is "horizontal": Here we lock overflow-y and overflow-x set to auto.
         *
         * When scrolling direction is "vertical" please make sure you maintain correct height and
         * width.
         *
         */
        _this.direction = 'horizontal';
        /**
         * Defines how flexbox container items should be aligned. Default behavior is LEFT
         *
         */
        _this.alignment = 'left';
        _this.height = '100%';
        _this.width = '100%';
        return _this;
    }
    /**
     * @return {?}
     */
    ScrollableContainerComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.initDefault();
    };
    /**
     * Make sure we re-initialize default when Input Bindings changes
     *
     */
    /**
     * Make sure we re-initialize default when Input Bindings changes
     *
     * @param {?} changes
     * @return {?}
     */
    ScrollableContainerComponent.prototype.ngOnChanges = /**
     * Make sure we re-initialize default when Input Bindings changes
     *
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        this.initDefault();
    };
    /**
     * Initialize default values and Calculates layout and alignment class. The reason for using
     * these utility classes is that we can change the behavior anytime as compared to using
     * directly [style.xxx] bindings.
     *
     * ### Direction flow class:
     *  - u-scrollable-f<direction>
     *
     * ### Alignment class:
     *  - u-scrollable-a<alignment>
     *
     * @return {?}
     */
    ScrollableContainerComponent.prototype.initDefault = /**
     * Initialize default values and Calculates layout and alignment class. The reason for using
     * these utility classes is that we can change the behavior anytime as compared to using
     * directly [style.xxx] bindings.
     *
     * ### Direction flow class:
     *  - u-scrollable-f<direction>
     *
     * ### Alignment class:
     *  - u-scrollable-a<alignment>
     *
     * @return {?}
     */
    function () {
        this.layoutClass = 'u-scrollable-fh';
        if (this.direction === 'vertical') {
            this.layoutClass = 'u-scrollable-fv';
        }
        if (this.direction === 'vertical-row') {
            this.layoutClass = 'u-scrollable-fv-row';
        }
        else if (this.direction === 'both') {
            this.layoutClass = 'u-scrollable-fb';
        }
        else if (this.direction === 'none') {
            this.layoutClass = 'u-scrollable-fn';
        }
        this.layoutClass += ' u-scrollable-a' + this.alignment.substring(0, 1);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.styleClass)) {
            this.layoutClass += " " + this.styleClass;
        }
        // make sure we default width and height to some value in case somebody passes null
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.width)) {
            this.width = '100%';
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.height)) {
            this.height = '100%';
        }
    };
    /**
     * Tells if the horizontal scrollbar is visible
     *
     */
    /**
     * Tells if the horizontal scrollbar is visible
     *
     * @return {?}
     */
    ScrollableContainerComponent.prototype.hasHorizontalScroll = /**
     * Tells if the horizontal scrollbar is visible
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var scrollContainer = this.elementRef.nativeElement.querySelector('.w-scrollable');
        return scrollContainer.scrollWidth > scrollContainer.clientWidth;
    };
    /**
     * Tells if the vertical scrollbar is visible
     *
     */
    /**
     * Tells if the vertical scrollbar is visible
     *
     * @return {?}
     */
    ScrollableContainerComponent.prototype.hasVerticalScroll = /**
     * Tells if the vertical scrollbar is visible
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var scrollContainer = this.elementRef.nativeElement.querySelector('.w-scrollable');
        return scrollContainer.scrollHeight > scrollContainer.clientHeight;
    };
    ScrollableContainerComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-scrollable',
                    template: "<div class=\"w-scrollable\" [ngClass]=\"layoutClass\" [style.width]=\"width\"\n     [style.height]=\"height\">\n    <ng-content></ng-content>\n</div>\n",
                    styles: [".w-scrollable{display:flex;display:-webkit-flex;backface-visibility:hidden;-webkit-backface-visibility:hidden;will-change:overflow}.w-scrollable /deep/>*{flex:0 0 auto;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;margin:10px}.u-scrollable-fh{flex-flow:row nowrap;overflow-x:auto;overflow-y:hidden}.u-scrollable-fv{flex-flow:column nowrap;overflow-x:hidden;overflow-y:auto}.u-scrollable-fb{flex-flow:row nowrap;overflow-x:auto;overflow-y:auto}.u-scrollable-fv-row{flex-flow:row wrap;overflow-x:hidden;overflow-y:auto}.u-scrollable-fn{flex-flow:row wrap}.u-scrollable-al{justify-content:flex-start;-webkit-justify-content:flex-start}.u-scrollable-ar{justify-content:flex-end;-webkit-justify-content:flex-end}.u-scrollable-ac{justify-content:center;-webkit-justify-content:center}.u-scrollable-aj,.u-scrollable-aj-around{justify-content:space-between;-webkit-justify-content:space-between}"]
                }] }
    ];
    /** @nocollapse */
    ScrollableContainerComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }
    ]; };
    ScrollableContainerComponent.propDecorators = {
        direction: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        alignment: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return ScrollableContainerComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWScrollableContainerModule = /** @class */ (function () {
    function AWScrollableContainerModule() {
    }
    AWScrollableContainerModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        ScrollableContainerComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"]
                    ],
                    entryComponents: [
                        ScrollableContainerComponent
                    ],
                    exports: [
                        ScrollableContainerComponent
                    ],
                    providers: []
                },] }
    ];
    return AWScrollableContainerModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var LB_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return ListComponent; }),
    multi: true
};
/**
 *
 * The List component represent a structure which contains a list of selectable items. Items
 * selection can be configured in single-selection, multi-selection or multi-selection with visible
 * checkboxes mode.
 * In addition it can display data inside 3 zones LEFT, MIDDLE and RIGHT in order to provide
 * easy way for application developer to layout its own custom content or even change out of box
 * behavior.
 *
 *
 *  ### Examples
 *
 *  1. Render simple single selection list
 *
 *  ```html
 *
 *      <aw-list [list]="list"></aw-list>
 *
 *  ```
 *  2. Render list - multi selection with custom RIGHT content to show a CheckMark when item
 *  is selected
 *
 *  ```html
 *
 *   <aw-list #awlist [list]="list"
 *                       height="150px"
 *                       width="250px"
 *                       [selectionMode]="'multi'">
 *
 *                  <ng-template #right let-item>
 *
 *                      <span class="sap-icon"
 *                            [ngClass]="{'icon-accept': awlist.pListBox.isSelected(item),
 *                            '': !awlist.pListBox.isSelected(item)}">
 *
 *                      </span>
 *                  </ng-template>
 *   </aw-list>
 *
 *  ```
 *
 * 3. Render list - multi selection with visible checkboxes and custom MIDDLE content to change
 *  the way item name is rendered
 *
 *
 *
 *  ```html
 *
 *   <aw-list [list]="list" height="180px"
 *                       width="200px"
 *                       [selection]="selection"
 *                       [selectionMode]="'multiWithCheckbox'">
 *
 *                  <ng-template #middle let-item>
 *                      XX-{{item.value}}
 *                  </ng-template>
 *    </aw-list>
 *
 *  ```
 *
 *
 *
 */
var ListComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(ListComponent, _super);
    function ListComponent(env, parentContainer) {
        var _this = _super.call(this, env, parentContainer) || this;
        _this.env = env;
        _this.parentContainer = parentContainer;
        /**
         * Component recognizes 3 modes: single, multi, multi with visible checkboxes
         */
        _this.selectionMode = 'single';
        /**
         * Don't render Listbox border. Used for embedding this inside other components
         *
         */
        _this.borderless = false;
        /**
         * Triggered when we double click on the list Item
         *
         */
        _this.action = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Event fired when user select a item
         *
         */
        _this.onSelection = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.listStyle = {};
        _this.isMultiple = false;
        _this.showCheckbox = false;
        return _this;
    }
    /**
     * @return {?}
     */
    ListComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        this.isMultiple = this.selectionMode === 'multi' ||
            this.selectionMode === 'multiWithCheckbox';
        this.showCheckbox = this.selectionMode === 'multiWithCheckbox';
        // cannot have both either we use field to get display value or valueTransformer
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.field) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.valueTransformer)) {
            throw new Error('You can have either [field] or [valueTransformer].');
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.list)) {
            this.initList();
        }
        else {
            throw new Error('Missing [list] binding.');
        }
        // Also add overflowY to make sure it can scroll and does not expand based on its content
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.height)) {
            this.listStyle['height'] = this.height;
            this.listStyle['overflow-y'] = 'auto';
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.width)) {
            this.listStyle['width'] = this.width;
        }
        if (this.borderless) {
            this.listStyle['border-color'] = 'transparent';
        }
        if (this.isStandalone) {
            _super.prototype.registerFormControl.call(this, this.selection);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.selection)) {
                this.selection = this.formControl.value;
            }
        }
    };
    /**
     *
     * Since we are using <aw-checkbox> we need to have custom handling both when clicking on the
     * checkbox as well as item text.
     *
     *
     */
    /**
     *
     * Since we are using <aw-checkbox> we need to have custom handling both when clicking on the
     * checkbox as well as item text.
     *
     *
     * @param {?} event
     * @param {?} item
     * @param {?} checkbox
     * @return {?}
     */
    ListComponent.prototype.itemClicked = /**
     *
     * Since we are using <aw-checkbox> we need to have custom handling both when clicking on the
     * checkbox as well as item text.
     *
     *
     * @param {?} event
     * @param {?} item
     * @param {?} checkbox
     * @return {?}
     */
    function (event, item, checkbox) {
        this.pListBox.onOptionClick(event, item);
        event.stopPropagation();
        event.preventDefault();
    };
    /**
     * Internal
     *
     */
    /**
     * Internal
     *
     * @return {?}
     */
    ListComponent.prototype.hasRightTempl = /**
     * Internal
     *
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.rZoneTempl);
    };
    /**
     * @return {?}
     */
    ListComponent.prototype.hasLeftTempl = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.lZoneTempl);
    };
    /**
     * @return {?}
     */
    ListComponent.prototype.hasMiddleTempl = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.mZoneTempl);
    };
    /**
     *
     * Triggered by p-listbox component when item is selected. When state is managed internally
     * we also update FormControl model.
     *
     */
    /**
     *
     * Triggered by p-listbox component when item is selected. When state is managed internally
     * we also update FormControl model.
     *
     * @param {?} event
     * @return {?}
     */
    ListComponent.prototype.onItemSelected = /**
     *
     * Triggered by p-listbox component when item is selected. When state is managed internally
     * we also update FormControl model.
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(event.value)) {
            return;
        }
        this.onSelection.emit(event.value);
        if (this.isStandalone) {
            this.formControl.setValue(event.value, { emitEvent: true });
        }
        this.onModelChanged(event.value);
    };
    /**
     * Internal. Please see ControlValueAccessor
     *
     */
    /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    ListComponent.prototype.writeValue = /**
     * Internal. Please see ControlValueAccessor
     *
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (!Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["equals"])(value, this.selection)) {
            this.selection = value;
            if (this.isStandalone) {
                this.formControl.setValue(value);
            }
        }
    };
    /**
     * Translates external form of the list into PrimeNG expected format where it uses
     * SelectionItem interface
     * @return {?}
     */
    ListComponent.prototype.initList = /**
     * Translates external form of the list into PrimeNG expected format where it uses
     * SelectionItem interface
     * @return {?}
     */
    function () {
        var _this = this;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.list)) {
            this.internalList = this.list.map(function (item) {
                return { label: _this.displayValue(item), value: item };
            });
        }
    };
    /**
     *  Generates label value for the list box.
     *
     * @param {?} item
     * @return {?}
     */
    ListComponent.prototype.displayValue = /**
     *  Generates label value for the list box.
     *
     * @param {?} item
     * @return {?}
     */
    function (item) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(item)) {
            return '';
        }
        /** @type {?} */
        var val = item.toString();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.field)) {
            val = item[this.field];
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.valueTransformer)) {
            val = this.valueTransformer(item);
        }
        return val;
    };
    ListComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-list',
                    template: "<p-listbox #listbox [options]=\"internalList\" [multiple]=\"isMultiple\" [checkbox]=\"showCheckbox\"\n           [(ngModel)]=\"selection\" [disabled]=\"disabled\" [style]=\"listStyle\" [showToggleAll]=\"false\"\n           (onChange)=\"onItemSelected($event)\" (onDblClick)=\"action.emit($event.value)\"\n           [styleClass]=\"styleClass\">\n\n\n    <ng-template let-item pTemplate=\"item\">\n        <div class=\"w-li-wrapper\">\n            <div class=\"w-li-left\">\n                <ng-template *ngIf=\"hasLeftTempl(); else defaultLeft\"\n                             [ngTemplateOutlet]=\"lZoneTempl\"\n                             [ngTemplateOutletContext]=\"{$implicit: item}\"></ng-template>\n\n\n                <ng-template #defaultLeft>\n                    <span (click)=\"itemClicked($event, item, null)\">\n                        <aw-checkbox #check *ngIf=\"isMultiple && showCheckbox\"\n                                     [isStandalone]=\"false\"\n                                     [value]=\"listbox.isSelected(item)\"\n                                     type=\"action\">\n                    </aw-checkbox></span>\n                </ng-template>\n            </div>\n\n            <div class=\"w-li-middle\" (click)=\"itemClicked($event, item, null)\">\n\n                <ng-template *ngIf=\"hasMiddleTempl(); else defaultMiddle\"\n                             [ngTemplateOutlet]=\"mZoneTempl\"\n                             [ngTemplateOutletContext]=\"{$implicit: item}\"></ng-template>\n\n                <ng-template #defaultMiddle>\n                    {{item.label}}\n                </ng-template>\n\n            </div>\n\n            <div class=\"w-li-right\" *ngIf=\"hasRightTempl()\">\n                <ng-template [ngTemplateOutlet]=\"rZoneTempl\"\n                             [ngTemplateOutletContext]=\"{$implicit: item}\">\n                </ng-template>\n\n            </div>\n        </div>\n    </ng-template>\n</p-listbox>\n",
                    providers: [
                        LB_CONTROL_VALUE_ACCESSOR,
                        { provide: BaseFormComponent, useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return ListComponent; }) }
                    ],
                    styles: ["::ng-deep .ui-listbox-item>.ui-chkbox{display:none}::ng-deep .ui-listbox-item .ui-chkbox{margin-right:1em}.w-li-wrapper{display:flex;align-items:flex-start}.w-li-wrapper .w-li-left,.w-li-wrapper .w-li-right{flex:0 1 auto}.w-li-wrapper .w-li-middle{flex:1 1 auto}"]
                }] }
    ];
    /** @nocollapse */
    ListComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: BaseFormComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function () { return BaseFormComponent; }),] }] }
    ]; };
    ListComponent.propDecorators = {
        list: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        selection: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        selectionMode: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        valueTransformer: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        field: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        borderless: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        action: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onSelection: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        pListBox: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: ['listbox',] }],
        lZoneTempl: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['left',] }],
        mZoneTempl: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['middle',] }],
        rZoneTempl: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"], args: ['right',] }]
    };
    return ListComponent;
}(BaseFormComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWListModule = /** @class */ (function () {
    function AWListModule() {
    }
    AWListModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        ListComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ListboxModule"],
                        AWCheckBoxModule
                    ],
                    entryComponents: [
                        ListComponent
                    ],
                    exports: [
                        ListComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"]
                    ],
                    providers: []
                },] }
    ];
    return AWListModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var WizardProgressComponent = /** @class */ (function () {
    function WizardProgressComponent() {
        this.currentStep = 0;
        this.stepChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.totalSteps = 0;
    }
    /**
     * @return {?}
     */
    WizardProgressComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        if (this.steps) {
            /** @type {?} */
            var currentIndex = this.steps.indexOf(this.steps.filter(function (step) { return step.current; })[0]);
            this.totalSteps = this.steps.length;
            this.setCurrentStep(~currentIndex ? currentIndex : 0);
        }
    };
    /**
     * @param {?=} index
     * @return {?}
     */
    WizardProgressComponent.prototype.setCurrentStep = /**
     * @param {?=} index
     * @return {?}
     */
    function (index) {
        if (index === void 0) { index = 0; }
        this.steps[index].current = true;
        this.currentStep = index;
        this.stepChanged.emit({ current: this.currentStep });
    };
    /**
     * @param {?} index
     * @return {?}
     */
    WizardProgressComponent.prototype.goToStep = /**
     * @param {?} index
     * @return {?}
     */
    function (index) {
        if (!this.steps[index].complete) {
            return;
        }
        /** @type {?} */
        var currentIndex = this.steps.indexOf(this.steps.filter(function (step) { return step.current; })[0]);
        this.steps[currentIndex].current = false;
        this.setCurrentStep(index);
    };
    WizardProgressComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-wizard-progress',
                    template: "<div class=\"step-indicator\">{{currentStep + 1}}/{{totalSteps}}</div>\n<div class=\"aw-step-progress\">\n    <div class=\"aw-step-progress__item\" *ngFor=\"let step of steps; let i = index;\"\n         [ngClass]=\"{ 'aw-step-progress__item--is-active': step.current === true }\"\n         (click)=\"goToStep(i);\">\n    </div>\n</div>\n",
                    styles: [":host{display:block}.step-indicator{width:100%;text-align:center;font-size:14px;font-weight:600;padding-bottom:.3rem}.aw-step-progress{display:flex;flex-direction:row;padding:.2rem;justify-content:center}.aw-step-progress__item{cursor:pointer;list-style:none;width:1.2rem;margin:0 .2rem;border-radius:.3rem;height:.4rem;background-color:#eaeaea}.aw-step-progress__item:last-child{margin-right:0}.aw-step-progress__item:first-child{margin-left:0}.aw-step-progress__item--is-active{background-color:#09a7af}"]
                }] }
    ];
    /** @nocollapse */
    WizardProgressComponent.ctorParameters = function () { return []; };
    WizardProgressComponent.propDecorators = {
        steps: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        currentStep: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        stepChanged: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }]
    };
    return WizardProgressComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var WizardProgressModule = /** @class */ (function () {
    function WizardProgressModule() {
    }
    WizardProgressModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        WizardProgressComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"]
                    ],
                    entryComponents: [
                        WizardProgressComponent
                    ],
                    exports: [
                        WizardProgressComponent
                    ],
                    providers: []
                },] }
    ];
    return WizardProgressModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Renders a Toggle Switch
 *
 * ### Example
 *
 * ```typescript
 *
 * \@Component({
 *          selector: 'myToggleSection' ,
 *          template: '<aw-toggle [model]="inputValue" [labelText]="labelText" >
 *              </aw-toggle>'
 *      })
 *      export class MyNoteComponent
 *      {
 *          inputValue: boolean = false;
 *          labelText: string = 'my label';
 *      }
 *
 * ```
 */
var ToggleSwitchComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(ToggleSwitchComponent, _super);
    function ToggleSwitchComponent(env) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        /**
         * toggle model
         */
        _this.model = false;
        return _this;
    }
    /**
     * click handler for toggle
     */
    /**
     * click handler for toggle
     * @return {?}
     */
    ToggleSwitchComponent.prototype.changeHandler = /**
     * click handler for toggle
     * @return {?}
     */
    function () {
        this.model = !this.model;
    };
    ToggleSwitchComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-toggle',
                    template: "<div class=\"w-toggle\">\n    <label class=\"w-toggle__label\" *ngIf=\"labelText\">\n        {{ labelText }}\n    </label>\n    <div class=\"slider\" (click)=\"changeHandler()\">\n        <div class=\"slider__button\" [ngClass]=\"{ 'slider__button--is-active': model === true }\"></div>\n    </div>\n</div>\n",
                    styles: [":host{display:block}.w-toggle input{display:none}.w-toggle__label{color:#999;margin-right:.2rem}.w-toggle .slider{position:relative;height:.6rem;width:1.5rem;background-color:#d8d8d8;border-radius:.9rem;display:inline-block;border-top:1px solid #7e7e7e;border-left:1px solid #b5b5b5;border-right:1px solid #b5b5b5}.w-toggle .slider__button{left:-.1rem;transition:left .1s ease-out;cursor:pointer;position:absolute;height:1rem;width:1rem;border-radius:50%;background-color:#eaeaea;top:-.2rem}.w-toggle .slider__button--is-active{left:calc(100% - .8rem);background-color:#09a7af}"]
                }] }
    ];
    /** @nocollapse */
    ToggleSwitchComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    ToggleSwitchComponent.propDecorators = {
        model: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        labelText: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }]
    };
    return ToggleSwitchComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var ToggleSwitchModule = /** @class */ (function () {
    function ToggleSwitchModule() {
    }
    ToggleSwitchModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        ToggleSwitchComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"]
                    ],
                    entryComponents: [
                        ToggleSwitchComponent
                    ],
                    exports: [
                        ToggleSwitchComponent
                    ],
                    providers: []
                },] }
    ];
    return ToggleSwitchModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Overlay Component is a simple version of the dialog where there's only content.
 * Overlay will appear at the position where the action performed trigger an overlay.
 *
 * There are three types of popup.
 *   1.  a regular dialog box that has header, body and footer. It's the most customizable.
 *   2.  a confirmation box is similar to a dialog box but has accept and reject action buttons.
 *   3.  a overlay, which is a very basic popup with what you put inside.
 *       It doesn't have header and footer.
 *
 * There are two ways to use any popup component.
 *   1.  Either directly by using component, aw-dialog, aw-confirmation or aw-overlay
 *   2.  or the ModalService  service.open(<OverlayComponent>), service.close()
 *
 * Usage:
 *    1.  Using ModalService directly to display a modal popup. The usage is a little tricky
 *        because angular currently doesn't support dynamic content projection.
 *
 *          let overlay = this.modalService.open<OverlayComponent>(OverlayComponent, {});
 *
 *            // Add content. There's not support for dynamic content projection yet.
 *            // So have add content directly.
 *            // This is probably not the best way.
 *          overlay.instance.overlay.el.nativeElement.querySelector(".ui-overlaypanel-content")
 *               .innerHTML = `<img style='width:300px;' src="sales.png" alt="Sales Chart" />`;
 *
 *          // delay the opening after ng lifecycle has been initialized.
 *          setTimeout(() => { overlay.instance.open(event); }, 1);
 *
 *
 *   2.   Use the component inside your template.
 *
 * \@Component({
 *                selector: 'aw-page' ,
 *                           template: `
 *                                <aw-overlay #overlay (onOpen)="overlayAction='open'"
 *                                                     (onClose)="overlayAction='close'">
 *                                      <img src="sales.png" alt="Chart"/>
 *                                </aw-overlay>
 *
 *                                <aw-button [size]="'small'" (click)="overlay.open($event)">
 *                                    Open Overlay
 *                                </aw-button>
 *                  `
 *         export class MyPageComponent implements OnInit {
 *
 *                     overlayAction: string;
 *
 *                     constructor(private modalService: ModalService) {
 *                          super();
 *                       }
 *                     ngOnInit() { }
 *       }
 *
 *
 */
var OverlayComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(OverlayComponent, _super);
    function OverlayComponent(env) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        /**
         * Enables hide overlay when outside is clicked.
         */
        _this.dismissable = true;
        /**
         * displays the close icon 'x' at top of right corner.
         */
        _this.showCloseIcon = false;
        /**
         * Event fired when overlay is closed.
         */
        _this.onClose = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Event fired just before overlay is closed
         */
        _this.beforeClose = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Event fired when the overlay is opened.
         */
        _this.onOpen = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        return _this;
    }
    /**
     * @return {?}
     */
    OverlayComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    OverlayComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        // place holder to be overridden by Modal Service
    };
    /**
     * @return {?}
     */
    OverlayComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        // place holder to be overridden by Modal Service
    };
    /**
     * Open Overlay
     * @param event
     */
    /**
     * Open Overlay
     * @param {?} event
     * @return {?}
     */
    OverlayComponent.prototype.open = /**
     * Open Overlay
     * @param {?} event
     * @return {?}
     */
    function (event) {
        var _this = this;
        setTimeout(function () {
            _this.overlay.show(event);
            _this.onOpened(null);
        }, 1);
    };
    /**
     * Close Overlay
     */
    /**
     * Close Overlay
     * @return {?}
     */
    OverlayComponent.prototype.close = /**
     * Close Overlay
     * @return {?}
     */
    function () {
        this.beforeClose.emit(null);
        this.overlay.hide();
    };
    /**
     * toggle open and close.
     * @param event
     */
    /**
     * toggle open and close.
     * @param {?} event
     * @return {?}
     */
    OverlayComponent.prototype.toggle = /**
     * toggle open and close.
     * @param {?} event
     * @return {?}
     */
    function (event) {
        var _this = this;
        setTimeout(function () {
            _this.overlay.toggle(event);
        }, 0);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    OverlayComponent.prototype.onOpened = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.onOpen.emit(event);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    OverlayComponent.prototype.onClosed = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.onClose.emit(event);
    };
    OverlayComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-overlay',
                    template: "<p-overlayPanel [dismissable]=\"dismissable\" [showCloseIcon]=\"showCloseIcon\"\n                [styleClass]=\"styleClass\" [appendTo]=\"appendTo\"\n                (onHide)=\"onClosed($event)\">\n    <ng-content></ng-content>\n</p-overlayPanel>\n",
                    styles: ["::ng-deep .ui-overlaypanel{border:1px solid #d7d7d7;box-shadow:0 2px 4px 0 rgba(0,0,0,.2)}::ng-deep .ui-overlaypanel-content{padding:2em 3.4em .6em 1.43em}::ng-deep .ui-overlaypanel-close{border-radius:0;top:.5em;right:.5em}::ng-deep .ui-overlaypanel-close.ui-state-default{border:none}"]
                }] }
    ];
    /** @nocollapse */
    OverlayComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    OverlayComponent.propDecorators = {
        dismissable: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        showCloseIcon: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        appendTo: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        onClose: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        beforeClose: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        onOpen: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"] }],
        overlay: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: [primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["OverlayPanel"],] }]
    };
    return OverlayComponent;
}(ModalContainer));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @enum {number} */
var HCCardPosition = {
    top: 0,
    bottom: 1,
    none: 2,
};
HCCardPosition[HCCardPosition.top] = 'top';
HCCardPosition[HCCardPosition.bottom] = 'bottom';
HCCardPosition[HCCardPosition.none] = 'none';
/** @enum {number} */
var HCCardAlignment = {
    left: 0,
    paddedLeft: 1,
    right: 2,
    paddedRight: 3,
    default: 4,
};
HCCardAlignment[HCCardAlignment.left] = 'left';
HCCardAlignment[HCCardAlignment.paddedLeft] = 'paddedLeft';
HCCardAlignment[HCCardAlignment.right] = 'right';
HCCardAlignment[HCCardAlignment.paddedRight] = 'paddedRight';
HCCardAlignment[HCCardAlignment.default] = 'default';
/** *
 * Maps position to styles that are applied to the Card container. This is just to make it easier
 * as we are working with enumerations and have already enum type.
 *
 * u-hc-arrow-b: Arrow will appear at the bottom
 * u-hc-arrow-t: Arrow will appear at the top
 *
 * u-hc-shadow-t: Border shadow will appear at the top
 * u-hc-shadow-b: Border shadow will appear at the bottom
  @type {?} */
var PositionToStyle = {
    top: ' w-hc-panel-arrow u-hc-arrow-b u-hc-shadow-t',
    bottom: ' w-hc-panel-arrow u-hc-arrow-t u-hc-shadow-b',
    none: ''
};
/** *
 *
 * Maps aligned Card container to custom styles in order to apply correct arrow
 *
 * -ll: Stands for Large Left (large: there is plenty of space around )
 * -lr: Stands for Large right
 * -sl: Stands for Small left (Small and resized screen where we try to fit card container
 * somewhere in between)
 * -sr: Stands for Large right
 *
  @type {?} */
var AlignmentToStyle = {
    left: ' u-hc-arrow-ll',
    right: ' u-hc-arrow-lr',
    paddedLeft: ' u-hc-arrow-sl',
    paddedRight: ' u-hc-arrow-sr',
    default: ' u-hc-arrow-ll',
};
/**
 * The HoverCard components adds hover behavior to text, the specified content is loaded
 * on the left or right side of the element.
 *
 * Todo: extends so we can wrap any element and any element can be triggering this. Not only
 * linkTitle
 *
 *
 * ### Example:
 *
 * ```
 *
 *   <aw-hover-card [linkTitle]="'Frank kolar'">
 *       <h3>My Card Title</h3>
 *       <div>
 *
 *           This is my contents
 *
 *       </div>
 *
 *
 *    </aw-hover-card>
 * ```
 *
 * By default there is [forceClose]=true which forces the user to use X close icon
 *
 *
 *
 */
var HoverCardComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_2__["__extends"])(HoverCardComponent, _super);
    function HoverCardComponent(elem, env, cd) {
        var _this = _super.call(this, env) || this;
        _this.elem = elem;
        _this.env = env;
        _this.cd = cd;
        /**
         * Should we keep the hover card open and force user to manually close
         *
         */
        _this.forceClose = true;
        /**
         *
         * This current workaround until we find better solution. PrimeNG overlays operates within
         * its relative element so if the overlay is wrapped inside some other relative container
         * the overlay content is croped by its parent and content is not visible.
         *
         * They have [appendTo] binding which we need to use for this purpose
         *
         */
        _this.appendContentToBody = true;
        /**
         *
         * Internal style class to use to apply additional styles when it needs to show a Arrow on the
         * card
         *
         */
        _this.arrowClass = '';
        _this.opening = false;
        _this.currrentPosition = HCCardPosition.none;
        return _this;
    }
    /**
     * @return {?}
     */
    HoverCardComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        _super.prototype.ngOnInit.call(this);
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.linkTitle), 'You must provide [linkTitle] binding !');
        // make sure there is open HC when we start new component
        this.env.deleteValue('hc-open');
        if (!this.appendContentToBody) {
            this.appendTo = null;
        }
        this.overlayOnAnimationStart = this.awOverlay.overlay.onAnimationStart;
        this.awOverlay.overlay.onAnimationStart = function (event) {
            _this.overlayOnAnimationStart.call(_this.awOverlay.overlay, event);
            _this.cardOpened();
            _this.onAnimationStart(event);
        };
        // this span is always available
        this.dynamicContent = this.elem.nativeElement.querySelector('.u-ngcontent');
    };
    /**
     * @param {?} event
     * @return {?}
     */
    HoverCardComponent.prototype.onAnimationStart = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (this.opening) {
            /** @type {?} */
            var container = this.awOverlay.overlay.container;
            /** @type {?} */
            var cntRect = container.getBoundingClientRect();
            if (this.currrentPosition !== HCCardPosition.none) {
                this.adjustCard(container, cntRect, this.awOverlay.overlay);
            }
            else {
                this.arrowClass = '';
            }
            this.opening = false;
        }
    };
    /**
     * @return {?}
     */
    HoverCardComponent.prototype.injectDynamicContent = /**
     * @return {?}
     */
    function () {
        if (this.awOverlay.overlay.visible) {
            /** @type {?} */
            var overlayCnt = this.elem.nativeElement
                .querySelector('.ui-overlaypanel-content .u-ngcontent');
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(overlayCnt) && this.dynamicContent.children.length > 0) {
                overlayCnt = this.elem.nativeElement.querySelector('.ui-overlaypanel-content');
                overlayCnt.prepend(this.dynamicContent);
                this.dynamicContent.style = 'block';
            }
        }
        else {
            this.dynamicContent.style = 'none';
        }
    };
    /**
     * Init elements BoundingClientRect that we use for calculation
     *
     */
    /**
     * Init elements BoundingClientRect that we use for calculation
     *
     * @return {?}
     */
    HoverCardComponent.prototype.initElements = /**
     * Init elements BoundingClientRect that we use for calculation
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var titleElem = this.elem.nativeElement.querySelector('.w-hc-title');
        /** @type {?} */
        var triggerElem = this.elem.nativeElement.querySelector('.sap-icon');
        this.titleAreaRect = titleElem.getBoundingClientRect();
        this.trigRect = triggerElem.getBoundingClientRect();
        this.trigIconMiddle = this.trigRect.width / 2;
    };
    /**
     *
     * Fires when user mouse over the triggering icon and opens up overlay component. To make sure
     * only one Card is opened at the time it uses Environment to save extra information for it
     *
     *
     */
    /**
     *
     * Fires when user mouse over the triggering icon and opens up overlay component. To make sure
     * only one Card is opened at the time it uses Environment to save extra information for it
     *
     *
     * @param {?} event
     * @return {?}
     */
    HoverCardComponent.prototype.openCard = /**
     *
     * Fires when user mouse over the triggering icon and opens up overlay component. To make sure
     * only one Card is opened at the time it uses Environment to save extra information for it
     *
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.awOverlay) && !this.env.hasValue('hc-open')) {
            this.awOverlay.open(event);
            this.cd.detectChanges();
            this.env.setValue('hc-open', true);
        }
    };
    /**
     *
     * Fired at the end of the opening cycle when all is initialized and the card is about to
     * fade in.
     *
     * This method first simulates displaying card by setting display:block and
     * domHandler.absolutePosition so we can read dimensions and then later on position the card
     * accordingly.
     *
     */
    /**
     *
     * Fired at the end of the opening cycle when all is initialized and the card is about to
     * fade in.
     *
     * This method first simulates displaying card by setting display:block and
     * domHandler.absolutePosition so we can read dimensions and then later on position the card
     * accordingly.
     *
     * @param {?=} event
     * @return {?}
     */
    HoverCardComponent.prototype.cardOpened = /**
     *
     * Fired at the end of the opening cycle when all is initialized and the card is about to
     * fade in.
     *
     * This method first simulates displaying card by setting display:block and
     * domHandler.absolutePosition so we can read dimensions and then later on position the card
     * accordingly.
     *
     * @param {?=} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var container = this.awOverlay.overlay.container;
        /** @type {?} */
        var target = this.awOverlay.overlay.target;
        this.openForAdjustments(container);
        this.injectDynamicContent();
        // pre-run positioning so we can calculate new coordinates
        this.awOverlay.overlay.domHandler.absolutePosition(container, target);
        /** @type {?} */
        var cntRect = container.getBoundingClientRect();
        this.currrentPosition = this.positionForCard(container, cntRect);
        this.applyStyleClass(container, cntRect, this.awOverlay.overlay);
        this.closeForAdjustments(container);
        this.opening = true;
    };
    /**
     *
     * When card is closed we need to release it and delete all the references from Environment
     *
     *
     */
    /**
     *
     * When card is closed we need to release it and delete all the references from Environment
     *
     *
     * @param {?} event
     * @return {?}
     */
    HoverCardComponent.prototype.cardClosed = /**
     *
     * When card is closed we need to release it and delete all the references from Environment
     *
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.env.deleteValue('hc-open');
    };
    /**
     *
      * Before overlay is closed we hide internal content other it does little shake..
     *
     *
     */
    /**
     *
     * Before overlay is closed we hide internal content other it does little shake..
     *
     *
     * @param {?} event
     * @return {?}
     */
    HoverCardComponent.prototype.beforeClose = /**
     *
     * Before overlay is closed we hide internal content other it does little shake..
     *
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.dynamicContent.style = 'none';
    };
    /**
     *
     * Applies style.TOP and style.LEFT to the container in order to reposition it and add
     * extra arrow.
     *
     * First based on the initial position we apply style.TOP and depending if its on the
     * top or bottom we apply either -HoverCardComponent.ArrowPad or +HoverCardComponent.ArrowPad.
     *
     * Then for positioning horizontally we use two types.
     *  - When there is allot of space the arrow is 25% from the edge
     *
     *    -----^------------   or       -----------^----
     *
     *
     *  - When there is less or none space we have only 10% far away form the edge
     *
     *    --^------------   or       -----------^--
     *
     *  Once we pick the correct positioning (25%, 10%) we need to recalculate and shift the card
     *  either to the left or right.
     *
     */
    /**
     *
     * Applies style.TOP and style.LEFT to the container in order to reposition it and add
     * extra arrow.
     *
     * First based on the initial position we apply style.TOP and depending if its on the
     * top or bottom we apply either -HoverCardComponent.ArrowPad or +HoverCardComponent.ArrowPad.
     *
     * Then for positioning horizontally we use two types.
     *  - When there is allot of space the arrow is 25% from the edge
     *
     *    -----^------------   or       -----------^----
     *
     *
     *  - When there is less or none space we have only 10% far away form the edge
     *
     *    --^------------   or       -----------^--
     *
     *  Once we pick the correct positioning (25%, 10%) we need to recalculate and shift the card
     *  either to the left or right.
     *
     * @param {?} container
     * @param {?} containerRect
     * @param {?} modalContainer
     * @return {?}
     */
    HoverCardComponent.prototype.adjustCard = /**
     *
     * Applies style.TOP and style.LEFT to the container in order to reposition it and add
     * extra arrow.
     *
     * First based on the initial position we apply style.TOP and depending if its on the
     * top or bottom we apply either -HoverCardComponent.ArrowPad or +HoverCardComponent.ArrowPad.
     *
     * Then for positioning horizontally we use two types.
     *  - When there is allot of space the arrow is 25% from the edge
     *
     *    -----^------------   or       -----------^----
     *
     *
     *  - When there is less or none space we have only 10% far away form the edge
     *
     *    --^------------   or       -----------^--
     *
     *  Once we pick the correct positioning (25%, 10%) we need to recalculate and shift the card
     *  either to the left or right.
     *
     * @param {?} container
     * @param {?} containerRect
     * @param {?} modalContainer
     * @return {?}
     */
    function (container, containerRect, modalContainer) {
        /** @type {?} */
        var diff = (this.currrentPosition === HCCardPosition.bottom) ? 1 : -1;
        /** @type {?} */
        var scrollTop = modalContainer.domHandler.getWindowScrollTop();
        /** @type {?} */
        var posWithScroll = containerRect.top + scrollTop;
        container.style.top = (posWithScroll + (HoverCardComponent.ArrowPad * diff)) + 'px';
        /** @type {?} */
        var alignment = this.alignmentForCard(containerRect, modalContainer);
        container.style.left = this.calcLeftForAlignment(containerRect, alignment) + 'px';
    };
    /**
     * @param {?} container
     * @param {?} containerRect
     * @param {?} modalContainer
     * @return {?}
     */
    HoverCardComponent.prototype.applyStyleClass = /**
     * @param {?} container
     * @param {?} containerRect
     * @param {?} modalContainer
     * @return {?}
     */
    function (container, containerRect, modalContainer) {
        if (this.currrentPosition !== HCCardPosition.none) {
            /** @type {?} */
            var alignment = this.alignmentForCard(containerRect, modalContainer);
            this.arrowClass = (/** @type {?} */ (PositionToStyle))[(/** @type {?} */ (HCCardPosition))[this.currrentPosition]];
            this.arrowClass += (/** @type {?} */ (AlignmentToStyle))[(/** @type {?} */ (HCCardAlignment))[alignment]];
        }
        else {
            this.arrowClass = '';
        }
    };
    /**
     *
     * Detects if the card is going to be shown on the top of the Link label or under. Or if
     * its covering it.
     *
     */
    /**
     *
     * Detects if the card is going to be shown on the top of the Link label or under. Or if
     * its covering it.
     *
     * @param {?} container
     * @param {?} boundingRect
     * @return {?}
     */
    HoverCardComponent.prototype.positionForCard = /**
     *
     * Detects if the card is going to be shown on the top of the Link label or under. Or if
     * its covering it.
     *
     * @param {?} container
     * @param {?} boundingRect
     * @return {?}
     */
    function (container, boundingRect) {
        /** @type {?} */
        var borderWidth = getComputedStyle(container).borderWidth;
        /** @type {?} */
        var cntWidth = parseFloat(borderWidth || '0');
        /** @type {?} */
        var pos = HCCardPosition.none;
        if (this.trigRect.bottom < boundingRect.top) {
            pos = HCCardPosition.bottom;
        }
        else if (this.trigRect.top > (boundingRect.bottom - cntWidth)) {
            pos = HCCardPosition.top;
        }
        return pos;
    };
    /**
     *
     * Detect horizontal alignment.
     *
     * @param {?} boundingRect
     * @param {?} modalContainer
     * @return {?}
     */
    HoverCardComponent.prototype.alignmentForCard = /**
     *
     * Detect horizontal alignment.
     *
     * @param {?} boundingRect
     * @param {?} modalContainer
     * @return {?}
     */
    function (boundingRect, modalContainer) {
        /** @type {?} */
        var alignment = HCCardAlignment.left;
        /** @type {?} */
        var viewPort = modalContainer.domHandler.getViewport();
        if (this.trigRect.left.toFixed(0) === boundingRect.left.toFixed(0) &&
            boundingRect.left > HoverCardComponent.SpacingLimit) {
            alignment = HCCardAlignment.left;
        }
        else if (boundingRect.left < HoverCardComponent.SpacingLimit) {
            alignment = HCCardAlignment.paddedLeft;
        }
        else if ((viewPort.width - boundingRect.right) < HoverCardComponent.SpacingLimit) {
            alignment = HCCardAlignment.paddedRight;
        }
        else if (this.trigRect.right.toFixed(0) === boundingRect.right.toFixed(0) ||
            (viewPort.width - boundingRect.right) > HoverCardComponent.SpacingLimit) {
            alignment = HCCardAlignment.right;
        }
        else {
            alignment = HCCardAlignment.default;
        }
        return alignment;
    };
    /**
     *
     * Turn on temporary display to BLOCK so we can read dimensions
     *
     */
    /**
     *
     * Turn on temporary display to BLOCK so we can read dimensions
     *
     * @param {?} container
     * @return {?}
     */
    HoverCardComponent.prototype.openForAdjustments = /**
     *
     * Turn on temporary display to BLOCK so we can read dimensions
     *
     * @param {?} container
     * @return {?}
     */
    function (container) {
        container.style.visibility = 'hidden';
        container.style.display = 'block';
        this.initElements();
    };
    /**
     *
     * Turn off display back NONE
     *
     */
    /**
     *
     * Turn off display back NONE
     *
     * @param {?} container
     * @return {?}
     */
    HoverCardComponent.prototype.closeForAdjustments = /**
     *
     * Turn off display back NONE
     *
     * @param {?} container
     * @return {?}
     */
    function (container) {
        container.style.visibility = 'visible';
        // container.style.display = 'none';
    };
    /**
     *
     * Calculates positioning for style.LEFT. As already said they are two types of triangles that
     * are applies for these case:
     *
     *
     * a) Large left, Large right
     *
     *  PrimeNG aligns the card with either the right side or left side of the triggering icon
     *
     *
     *  V                                                                V
     *  ......^........................ or  .......................^......
     *
     *
     *
     *
     *  b) Small left , small right
     *
     *  This is for cases where there is not enough space and PrimeNG position the card off to the
     *  triggering icons, so even primeNg does not have space to align it with the V
     *
     *
     *     V                                                      V
     *  ....^........................ or  .......................^....
     *
     *
     * c)Aligned with the edge of browser
     *
     * On the right side this is problem as we cannot calculate full future width of the card.
     * but we applly for this case #b (arrow 10% )
     *
     *
     *
     * @param {?} boundingRect
     * @param {?} alignment
     * @return {?}
     */
    HoverCardComponent.prototype.calcLeftForAlignment = /**
     *
     * Calculates positioning for style.LEFT. As already said they are two types of triangles that
     * are applies for these case:
     *
     *
     * a) Large left, Large right
     *
     *  PrimeNG aligns the card with either the right side or left side of the triggering icon
     *
     *
     *  V                                                                V
     *  ......^........................ or  .......................^......
     *
     *
     *
     *
     *  b) Small left , small right
     *
     *  This is for cases where there is not enough space and PrimeNG position the card off to the
     *  triggering icons, so even primeNg does not have space to align it with the V
     *
     *
     *     V                                                      V
     *  ....^........................ or  .......................^....
     *
     *
     * c)Aligned with the edge of browser
     *
     * On the right side this is problem as we cannot calculate full future width of the card.
     * but we applly for this case #b (arrow 10% )
     *
     *
     *
     * @param {?} boundingRect
     * @param {?} alignment
     * @return {?}
     */
    function (boundingRect, alignment) {
        /** @type {?} */
        var wLargeTriangle = boundingRect.width * 0.25;
        /** @type {?} */
        var wSmallTriangle = boundingRect.width * 0.10;
        switch (alignment) {
            case HCCardAlignment.right:
                /** @type {?} */
                var shiftRight = boundingRect.left + wLargeTriangle;
                /** @type {?} */
                var trigRight = this.trigRect.right - this.trigIconMiddle;
                return shiftRight - (boundingRect.right - trigRight);
            case HCCardAlignment.paddedRight:
                /** @type {?} */
                var shiftRightS = boundingRect.left + wSmallTriangle;
                /** @type {?} */
                var trigRightS = this.trigRect.right - this.trigIconMiddle;
                return shiftRightS - (boundingRect.right - trigRightS);
            case HCCardAlignment.paddedLeft:
                /** @type {?} */
                var shiftLeftPad = boundingRect.left - wSmallTriangle;
                return shiftLeftPad + this.trigIconMiddle;
            case HCCardAlignment.left:
            default:
                /** @type {?} */
                var shiftLeft = boundingRect.left - wLargeTriangle;
                return shiftLeft + this.trigIconMiddle;
        }
    };
    /**
     * Default padding representing a height of the Arrow for which we need to vertically adjust
     * Card container
     *
     */
    HoverCardComponent.ArrowPad = 10;
    /**
     * Defines safe threshold where there might not be enough space around or Card is aligned with
     * the left or right edge of the viewport for which we need to position the Arrow closer to the
     * side of the card
     *
     */
    HoverCardComponent.SpacingLimit = 50;
    HoverCardComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"], args: [{
                    selector: 'aw-hover-card',
                    template: "<span class=\"w-hc\">\n    <span class=\"w-hc-title\">\n        <aw-string [value]=\"linkTitle\"></aw-string>\n        <span class=\"sap-icon icon-slim-arrow-down\" (mouseover)=\"openCard($event)\"></span>\n    </span>\n\n    <div class=\"w-hc-body\">\n\n         <aw-overlay #overlay [showCloseIcon]=\"forceClose\" [dismissable]=\"!forceClose\"\n                     [styleClass]=\"arrowClass\"\n                     [appendTo]=\"appendTo\"\n                     (beforeClose)=\"beforeClose($event)\"\n                     (onClose)=\"cardClosed($event)\">\n             <ng-content></ng-content>\n        </aw-overlay>\n\n\n        <!-- this is workaround to create a dynamic _ngcontent  reference so we can refer to later on with dynamic\n                projection. We cannot really use componentFactory.create[injector, projectedContent] as what we\n                want to add is another angular component that needs to be still rendered.\n\n                Starting PrimeNG 6.1+ they put in ngIf which complicates programmatic creation of this\n                component and injecting another dynamic content into ngContent is hard, so we need to little\n                hacky hackity hack.\n\n                We have this extra span with a class that we use to insert out dynamic content using nativeElement\n                and its DOM manipulation and once the overlay is shown and ng-content appears we move \"u-ngcontent\"\n                to new location.\n\n         -->\n        <span class=\"u-ngcontent\" [style.display]=\"'none'\">\n        </span>\n    </div>\n</span>\n\n\n",
                    styles: [".w-hc-title{padding-right:1.4em;position:relative;white-space:nowrap}.w-hc-title .sap-icon{font-size:1em;color:#00679e;position:absolute;padding-top:.2em;right:0}::ng-deep .w-hc-panel-arrow.u-hc-shadow-b{box-shadow:0 2px 4px 0 rgba(0,0,0,.2)}::ng-deep .w-hc-panel-arrow.u-hc-shadow-t{box-shadow:0 -2px 4px 0 rgba(0,0,0,.2)}::ng-deep .w-hc-panel-arrow:after,::ng-deep .w-hc-panel-arrow:before{left:25%;border:solid transparent;content:\" \";height:0;width:0;position:absolute;pointer-events:none}::ng-deep .w-hc-panel-arrow:after{border-color:rgba(136,183,213,0);border-width:.7em;margin-left:-.7em}::ng-deep .w-hc-panel-arrow:before{border-color:rgba(255,136,56,0);border-width:.8em;margin-left:-.8em}::ng-deep .u-hc-arrow-ll:after,::ng-deep .u-hc-arrow-ll:before{left:25%}::ng-deep .u-hc-arrow-lr:after,::ng-deep .u-hc-arrow-lr:before{left:75%}::ng-deep .u-hc-arrow-sl:after,::ng-deep .u-hc-arrow-sl:before{left:10%}::ng-deep .u-hc-arrow-sr:after,::ng-deep .u-hc-arrow-sr:before{left:90%}::ng-deep .u-hc-arrow-t:after,::ng-deep .u-hc-arrow-t:before{bottom:100%}::ng-deep .u-hc-arrow-t:after{border-bottom-color:#fff}::ng-deep .u-hc-arrow-t:before{border-bottom-color:#d7d7d7}::ng-deep .u-hc-arrow-b:after,::ng-deep .u-hc-arrow-b:before{top:100%}::ng-deep .u-hc-arrow-b:after{border-top-color:#fff}::ng-deep .u-hc-arrow-b:before{border-top-color:#d7d7d7}"]
                }] }
    ];
    /** @nocollapse */
    HoverCardComponent.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }
    ]; };
    HoverCardComponent.propDecorators = {
        linkTitle: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        forceClose: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        appendContentToBody: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"] }],
        awOverlay: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"], args: ['overlay',] }]
    };
    return HoverCardComponent;
}(BaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Spy lifecycle directive is used for debugging purposes to track lifecycle callback
 *
 * ###Usage
 *
 * ```
 *   <my-directive spyhooks><my-directive>
 *
 * ```
 */
var SpyLifeCycleHooksDirective = /** @class */ (function () {
    function SpyLifeCycleHooksDirective(elementRef) {
        this.elementRef = elementRef;
    }
    /**
     * @return {?}
     */
    SpyLifeCycleHooksDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.logIt('onInit');
    };
    /**
     * @return {?}
     */
    SpyLifeCycleHooksDirective.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.logIt('onDestroy');
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    SpyLifeCycleHooksDirective.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        this.logIt('ngOnChanges = ' + changes);
    };
    /**
     * @return {?}
     */
    SpyLifeCycleHooksDirective.prototype.ngDoCheck = /**
     * @return {?}
     */
    function () {
        this.logIt('ngDoCheck');
    };
    /**
     * @return {?}
     */
    SpyLifeCycleHooksDirective.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        this.logIt('ngAfterContentInit');
    };
    /**
     * @return {?}
     */
    SpyLifeCycleHooksDirective.prototype.ngAfterContentChecked = /**
     * @return {?}
     */
    function () {
        this.logIt('ngAfterContentChecked');
    };
    /**
     * @return {?}
     */
    SpyLifeCycleHooksDirective.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        this.logIt('ngAfterViewInit');
    };
    /**
     * @return {?}
     */
    SpyLifeCycleHooksDirective.prototype.ngAfterViewChecked = /**
     * @return {?}
     */
    function () {
        this.logIt('ngAfterViewChecked');
    };
    /**
     * @param {?} msg
     * @return {?}
     */
    SpyLifeCycleHooksDirective.prototype.logIt = /**
     * @param {?} msg
     * @return {?}
     */
    function (msg) {
        /** @type {?} */
        var level = 0;
        /** @type {?} */
        var me = this.elementRef.nativeElement;
        /** @type {?} */
        var tagBody = me;
        while ((tagBody = tagBody.parentNode) != null) {
            level++;
            if (tagBody.tagName === 'APP-ROOT' || level === 6) {
                break;
            }
        }
        /** @type {?} */
        var indent = '';
        /** @type {?} */
        var indentNumber = level;
        while (level > 0) {
            indent += '\t';
            level--;
        }
        /** @type {?} */
        var params = '';
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(me.attributes)) {
            for (var i = 0; i < me.attributes.length; i++) {
                /** @type {?} */
                var attr = me.attributes.item(i);
                if (this.ignore(attr.name.toLowerCase())) {
                    continue;
                }
                params += '(' + attr.name + '=' + attr.value + '),  ';
            }
        }
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["print"])(indent + me.tagName + '(' + indentNumber + '): ' + msg + ' => ' + params);
    };
    /**
     * @param {?} name
     * @return {?}
     */
    SpyLifeCycleHooksDirective.prototype.ignore = /**
     * @param {?} name
     * @return {?}
     */
    function (name) {
        return name.indexOf('_ng') > -1 ||
            name.indexOf('ng-') > -1 ||
            name.indexOf('spyhooks') > -1;
    };
    SpyLifeCycleHooksDirective.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"], args: [{ selector: '[spyHooks]' },] }
    ];
    /** @nocollapse */
    SpyLifeCycleHooksDirective.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }
    ]; };
    return SpyLifeCycleHooksDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

var components = /*#__PURE__*/Object.freeze({
    AWCoreComponentModule: AWCoreComponentModule,
    ErrorMessagesComponent: ErrorMessagesComponent,
    ModalContainer: ModalContainer,
    ModalService: ModalService,
    ModalComponent: ModalComponent,
    CurrencyFormatPipe: CurrencyFormatPipe,
    BaseComponent: BaseComponent,
    BaseFormComponent: BaseFormComponent,
    WidgetSizeColumns: WidgetSizeColumns,
    DomUtilsService: DomUtilsService,
    EmbeddedItemDirective: EmbeddedItemDirective,
    EmbededItem: EmbededItem,
    ErrorManagerService: ErrorManagerService,
    GenericContainerComponent: GenericContainerComponent,
    IncludeComponentDirective: IncludeComponentDirective,
    ComponentRegistry: ComponentRegistry,
    DataTypeProviderRegistry: DataTypeProviderRegistry,
    DataProviders: DataProviders,
    DataFinders: DataFinders,
    DataFinder: DataFinder,
    FullTextArrayDataFinder: FullTextArrayDataFinder,
    QueryType: QueryType,
    DATA_SOURCE: DATA_SOURCE,
    DataProvider: DataProvider,
    ArrayDataProvider: ArrayDataProvider,
    NgForSetDirective: NgForSetDirective,
    AwNameDirective: AwNameDirective,
    AwNameStore: AwNameStore,
    FormTableComponent: FormTableComponent,
    AWFormTableModule: AWFormTableModule,
    FormRowComponent: FormRowComponent,
    TopZoneComponent: TopZoneComponent,
    LeftZoneComponent: LeftZoneComponent,
    MiddleZoneComponent: MiddleZoneComponent,
    RightZoneComponent: RightZoneComponent,
    BottomZoneComponent: BottomZoneComponent,
    AWInputFieldModule: AWInputFieldModule,
    AWStringFieldModule: AWStringFieldModule,
    AWBasicNavigatorModule: AWBasicNavigatorModule,
    AWButtonModule: AWButtonModule,
    AWCardModule: AWCardModule,
    AWCheckBoxModule: AWCheckBoxModule,
    AWCheckBoxListModule: AWCheckBoxListModule,
    AWHyperlinkModule: AWHyperlinkModule,
    AWChooserModule: AWChooserModule,
    AWDropdownModule: AWDropdownModule,
    AWCurrencyModule: AWCurrencyModule,
    AWDateAndTimeModule: AWDateAndTimeModule,
    AWDialogModule: AWDialogModule,
    AWGenericChooserModule: AWGenericChooserModule,
    AWRadioButtonModule: AWRadioButtonModule,
    AWRadioButtonListModule: AWRadioButtonListModule,
    AWOutlineForModule: AWOutlineForModule,
    AWTextAreaModule: AWTextAreaModule,
    AWPageNotificationModule: AWPageNotificationModule,
    AWPageWrapperModule: AWPageWrapperModule,
    AWRichTextAreaModule: AWRichTextAreaModule,
    AWSectionModule: AWSectionModule,
    AWStepperModule: AWStepperModule,
    AWDatatable2Module: AWDatatable2Module,
    AWConfirmationModule: AWConfirmationModule,
    AWScrollableContainerModule: AWScrollableContainerModule,
    AWListModule: AWListModule,
    WizardProgressModule: WizardProgressModule,
    ToggleSwitchModule: ToggleSwitchModule,
    BasicNavigatorComponent: BasicNavigatorComponent,
    ButtonComponent: ButtonComponent,
    CheckBoxListComponent: CheckBoxListComponent,
    CHOOSER_CONTROL_VALUE_ACCESSOR: CHOOSER_CONTROL_VALUE_ACCESSOR,
    ChooserComponent: ChooserComponent,
    ChooserState: ChooserState,
    DefaultSelectionState: DefaultSelectionState,
    ChooserSelectionState: ChooserSelectionState,
    ChooserDataSource: ChooserDataSource,
    isDSChooserInitParams: isDSChooserInitParams,
    CURRENCY_CONTROL_VALUE_ACCESSOR: CURRENCY_CONTROL_VALUE_ACCESSOR,
    CurrencyComponent: CurrencyComponent,
    Money: Money,
    DateAndTimeComponent: DateAndTimeComponent,
    DATETIME_CONTROL_VALUE_ACCESSOR: DATETIME_CONTROL_VALUE_ACCESSOR,
    DialogComponent: DialogComponent,
    DialogHeaderComponent: DialogHeaderComponent,
    DialogFooterComponent: DialogFooterComponent,
    ConfirmationComponent: ConfirmationComponent,
    ConfirmationHeaderComponent: ConfirmationHeaderComponent,
    ConfirmationFooterComponent: ConfirmationFooterComponent,
    OverlayComponent: OverlayComponent,
    DD_CONTROL_VALUE_ACCESSOR: DD_CONTROL_VALUE_ACCESSOR,
    DropdownComponent: DropdownComponent,
    GCChooserState: GCChooserState,
    GenericChooserComponent: GenericChooserComponent,
    HyperlinkComponent: HyperlinkComponent,
    INPUT_CONTROL_VALUE_ACCESSOR: INPUT_CONTROL_VALUE_ACCESSOR,
    InputFieldComponent: InputFieldComponent,
    RadioButtonListComponent: RadioButtonListComponent,
    StringComponent: StringComponent,
    TEXTAREA_CONTROL_VALUE_ACCESSOR: TEXTAREA_CONTROL_VALUE_ACCESSOR,
    TextAreaComponent: TextAreaComponent,
    CardComponent: CardComponent,
    CardZoneTitleComponent: CardZoneTitleComponent,
    CardZoneTopComponent: CardZoneTopComponent,
    CardZoneBottomComponent: CardZoneBottomComponent,
    OutlineForComponent: OutlineForComponent,
    OutlineControlComponent: OutlineControlComponent,
    OutlineState: OutlineState,
    isOutlineNode: isOutlineNode,
    PageContentComponent: PageContentComponent,
    PageNotificationComponent: PageNotificationComponent,
    PageNotification: PageNotification,
    PageInitialized: PageInitialized,
    PageDestroyed: PageDestroyed,
    PageWrapper: PageWrapper,
    PageLifeCycleService: PageLifeCycleService,
    ObjectPageWrapperComponent: ObjectPageWrapperComponent,
    PageHeaderComponent: PageHeaderComponent,
    PageMenuItem: PageMenuItem,
    UserNotification: UserNotification,
    PageFooterComponent: PageFooterComponent,
    SidenavComponent: SidenavComponent,
    PageActionsComponent: PageActionsComponent,
    SectionComponent: SectionComponent,
    SubSectionComponent: SubSectionComponent,
    SectionActionsComponent: SectionActionsComponent,
    EditorType: EditorType,
    RichTextAreaComponent: RichTextAreaComponent,
    CheckboxComponent: CheckboxComponent,
    RadioButtonComponent: RadioButtonComponent,
    StepperComponent: StepperComponent,
    StepComponent: StepComponent,
    ScrollableContainerComponent: ScrollableContainerComponent,
    HoverCardComponent: HoverCardComponent,
    ListComponent: ListComponent,
    Datatable2Component: Datatable2Component,
    DTHeaderComponent2: DTHeaderComponent2,
    DTColumn2Component: DTColumn2Component,
    DTDetailRowComponent: DTDetailRowComponent,
    Datatable2State: Datatable2State,
    isDTInitParams: isDTInitParams,
    DT2DataSource: DT2DataSource,
    DetailRowExpansionState: DetailRowExpansionState,
    DTMultiSelectColumnComponent: DTMultiSelectColumnComponent,
    WizardProgressComponent: WizardProgressComponent,
    ToggleSwitchComponent: ToggleSwitchComponent,
    DomHandler: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DomHandler"],
    TreeDragDropService: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TreeDragDropService"],
    ConfirmationService: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ConfirmationService"],
    MessageService: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MessageService"],
    Header: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Header"],
    Footer: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Footer"],
    PrimeTemplate: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["PrimeTemplate"],
    Column: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Column"],
    Row: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Row"],
    HeaderColumnGroup: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["HeaderColumnGroup"],
    FooterColumnGroup: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["FooterColumnGroup"],
    SharedModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SharedModule"],
    AccordionTab: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["AccordionTab"],
    Accordion: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Accordion"],
    AccordionModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["AccordionModule"],
    AUTOCOMPLETE_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["AUTOCOMPLETE_VALUE_ACCESSOR"],
    AutoComplete: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["AutoComplete"],
    AutoCompleteModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["AutoCompleteModule"],
    BlockUI: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["BlockUI"],
    BlockUIModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["BlockUIModule"],
    Breadcrumb: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Breadcrumb"],
    BreadcrumbModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["BreadcrumbModule"],
    ButtonDirective: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ButtonDirective"],
    Button: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Button"],
    ButtonModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ButtonModule"],
    Captcha: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Captcha"],
    CaptchaModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CaptchaModule"],
    CALENDAR_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CALENDAR_VALUE_ACCESSOR"],
    Calendar: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Calendar"],
    CalendarModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CalendarModule"],
    Card: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Card"],
    CardModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CardModule"],
    Carousel: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Carousel"],
    CarouselModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CarouselModule"],
    UIChart: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["UIChart"],
    ChartModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ChartModule"],
    CHECKBOX_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CHECKBOX_VALUE_ACCESSOR"],
    Checkbox: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Checkbox"],
    CheckboxModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CheckboxModule"],
    CHIPS_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CHIPS_VALUE_ACCESSOR"],
    Chips: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Chips"],
    ChipsModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ChipsModule"],
    CodeHighlighter: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CodeHighlighter"],
    CodeHighlighterModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CodeHighlighterModule"],
    COLORPICKER_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["COLORPICKER_VALUE_ACCESSOR"],
    ColorPicker: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ColorPicker"],
    ColorPickerModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ColorPickerModule"],
    ConfirmDialog: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ConfirmDialog"],
    ConfirmDialogModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ConfirmDialogModule"],
    ContextMenuSub: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ContextMenuSub"],
    ContextMenu: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ContextMenu"],
    ContextMenuModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ContextMenuModule"],
    DataGrid: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DataGrid"],
    DataGridModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DataGridModule"],
    DataList: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DataList"],
    DataListModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DataListModule"],
    DataScroller: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DataScroller"],
    DataScrollerModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DataScrollerModule"],
    DTRadioButton: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DTRadioButton"],
    DTCheckbox: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DTCheckbox"],
    ColumnHeaders: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ColumnHeaders"],
    ColumnFooters: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ColumnFooters"],
    TableBody: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TableBody"],
    ScrollableView: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ScrollableView"],
    DataTable: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DataTable"],
    DataTableModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DataTableModule"],
    DeferredLoader: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DeferredLoader"],
    DeferModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DeferModule"],
    Dialog: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Dialog"],
    DialogModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DialogModule"],
    Draggable: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Draggable"],
    Droppable: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Droppable"],
    DragDropModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DragDropModule"],
    DROPDOWN_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DROPDOWN_VALUE_ACCESSOR"],
    Dropdown: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Dropdown"],
    DropdownModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DropdownModule"],
    EDITOR_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["EDITOR_VALUE_ACCESSOR"],
    Editor: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Editor"],
    EditorModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["EditorModule"],
    Fieldset: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Fieldset"],
    FieldsetModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["FieldsetModule"],
    FileUpload: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["FileUpload"],
    FileUploadModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["FileUploadModule"],
    Galleria: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Galleria"],
    GalleriaModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["GalleriaModule"],
    GMap: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["GMap"],
    GMapModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["GMapModule"],
    Growl: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Growl"],
    GrowlModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["GrowlModule"],
    InplaceDisplay: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InplaceDisplay"],
    InplaceContent: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InplaceContent"],
    Inplace: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Inplace"],
    InplaceModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InplaceModule"],
    INPUTMASK_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["INPUTMASK_VALUE_ACCESSOR"],
    InputMask: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputMask"],
    InputMaskModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputMaskModule"],
    INPUTSWITCH_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["INPUTSWITCH_VALUE_ACCESSOR"],
    InputSwitch: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputSwitch"],
    InputSwitchModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputSwitchModule"],
    InputText: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputText"],
    InputTextModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputTextModule"],
    InputTextarea: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputTextarea"],
    InputTextareaModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputTextareaModule"],
    KEYFILTER_VALIDATOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["KEYFILTER_VALIDATOR"],
    KeyFilter: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["KeyFilter"],
    KeyFilterModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["KeyFilterModule"],
    Lightbox: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Lightbox"],
    LightboxModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["LightboxModule"],
    LISTBOX_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["LISTBOX_VALUE_ACCESSOR"],
    Listbox: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Listbox"],
    ListboxModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ListboxModule"],
    MegaMenu: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MegaMenu"],
    MegaMenuModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MegaMenuModule"],
    MenuItemContent: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MenuItemContent"],
    Menu: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Menu"],
    MenuModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MenuModule"],
    MenubarSub: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MenubarSub"],
    Menubar: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Menubar"],
    MenubarModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MenubarModule"],
    Messages: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Messages"],
    MessagesModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MessagesModule"],
    UIMessage: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["UIMessage"],
    MessageModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MessageModule"],
    MULTISELECT_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MULTISELECT_VALUE_ACCESSOR"],
    MultiSelect: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MultiSelect"],
    MultiSelectModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MultiSelectModule"],
    OrderList: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["OrderList"],
    OrderListModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["OrderListModule"],
    OrganizationChartNode: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["OrganizationChartNode"],
    OrganizationChart: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["OrganizationChart"],
    OrganizationChartModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["OrganizationChartModule"],
    OverlayPanel: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["OverlayPanel"],
    OverlayPanelModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["OverlayPanelModule"],
    Paginator: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Paginator"],
    PaginatorModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["PaginatorModule"],
    Panel: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Panel"],
    PanelModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["PanelModule"],
    BasePanelMenuItem: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["BasePanelMenuItem"],
    PanelMenuSub: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["PanelMenuSub"],
    PanelMenu: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["PanelMenu"],
    PanelMenuModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["PanelMenuModule"],
    Password: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Password"],
    PasswordModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["PasswordModule"],
    PickList: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["PickList"],
    PickListModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["PickListModule"],
    ProgressBar: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ProgressBar"],
    ProgressBarModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ProgressBarModule"],
    ProgressSpinner: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ProgressSpinner"],
    ProgressSpinnerModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ProgressSpinnerModule"],
    RADIO_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["RADIO_VALUE_ACCESSOR"],
    RadioButton: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["RadioButton"],
    RadioButtonModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["RadioButtonModule"],
    RATING_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["RATING_VALUE_ACCESSOR"],
    Rating: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Rating"],
    RatingModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["RatingModule"],
    Schedule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Schedule"],
    ScheduleModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ScheduleModule"],
    ScrollPanel: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ScrollPanel"],
    ScrollPanelModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ScrollPanelModule"],
    SELECTBUTTON_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SELECTBUTTON_VALUE_ACCESSOR"],
    SelectButton: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SelectButton"],
    SelectButtonModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SelectButtonModule"],
    SlideMenuSub: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SlideMenuSub"],
    SlideMenu: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SlideMenu"],
    SlideMenuModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SlideMenuModule"],
    SLIDER_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SLIDER_VALUE_ACCESSOR"],
    Slider: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Slider"],
    SliderModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SliderModule"],
    Sidebar: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Sidebar"],
    SidebarModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SidebarModule"],
    SPINNER_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SPINNER_VALUE_ACCESSOR"],
    Spinner: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Spinner"],
    SpinnerModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SpinnerModule"],
    SplitButton: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SplitButton"],
    SplitButtonModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SplitButtonModule"],
    Steps: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Steps"],
    StepsModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["StepsModule"],
    TabViewNav: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TabViewNav"],
    TabPanel: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TabPanel"],
    TabView: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TabView"],
    TabViewModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TabViewModule"],
    TabMenu: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TabMenu"],
    TabMenuModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TabMenuModule"],
    Terminal: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Terminal"],
    TerminalModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TerminalModule"],
    TieredMenuSub: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TieredMenuSub"],
    TieredMenu: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TieredMenu"],
    TieredMenuModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TieredMenuModule"],
    TOGGLEBUTTON_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TOGGLEBUTTON_VALUE_ACCESSOR"],
    ToggleButton: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ToggleButton"],
    ToggleButtonModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ToggleButtonModule"],
    Toolbar: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Toolbar"],
    ToolbarModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ToolbarModule"],
    Tooltip: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Tooltip"],
    TooltipModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TooltipModule"],
    UITreeNode: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["UITreeNode"],
    Tree: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Tree"],
    TreeModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TreeModule"],
    TreeTableService: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TreeTableService"],
    TreeTable: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TreeTable"],
    TTBody: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TTBody"],
    TTScrollableView: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TTScrollableView"],
    TTSortableColumn: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TTSortableColumn"],
    TTSortIcon: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TTSortIcon"],
    TTResizableColumn: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TTResizableColumn"],
    TTReorderableColumn: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TTReorderableColumn"],
    TTSelectableRow: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TTSelectableRow"],
    TTSelectableRowDblClick: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TTSelectableRowDblClick"],
    TTContextMenuRow: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TTContextMenuRow"],
    TTCheckbox: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TTCheckbox"],
    TTHeaderCheckbox: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TTHeaderCheckbox"],
    TTEditableColumn: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TTEditableColumn"],
    TreeTableCellEditor: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TreeTableCellEditor"],
    TreeTableToggler: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TreeTableToggler"],
    TreeTableModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TreeTableModule"],
    TRISTATECHECKBOX_VALUE_ACCESSOR: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TRISTATECHECKBOX_VALUE_ACCESSOR"],
    TriStateCheckbox: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TriStateCheckbox"],
    TriStateCheckboxModule: primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TriStateCheckboxModule"]
});

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWOverlayModule = /** @class */ (function () {
    function AWOverlayModule() {
    }
    AWOverlayModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        OverlayComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        AWCoreComponentModule,
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["OverlayPanelModule"]
                    ],
                    entryComponents: [
                        OverlayComponent
                    ],
                    exports: [
                        OverlayComponent,
                        AWCoreComponentModule
                    ],
                    providers: []
                },] }
    ];
    return AWOverlayModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWHoverCardModule = /** @class */ (function () {
    function AWHoverCardModule() {
    }
    AWHoverCardModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    declarations: [
                        HoverCardComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        AWOverlayModule,
                        AWStringFieldModule
                    ],
                    entryComponents: [
                        HoverCardComponent
                    ],
                    exports: [
                        HoverCardComponent
                    ],
                    providers: []
                },] }
    ];
    return AWHoverCardModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Component module is core module for the common layouts and widgets libraries.
 *
 * todo: There are some things that I still need to resolve - please see and notices \@Duplicates
 * jsdoc I want to keep this there to remind me that I need to refactor this as of now there are
 * not much option with angular.
 *
 */
var AribaComponentsModule = /** @class */ (function () {
    function AribaComponentsModule() {
    }
    /**
     * @return {?}
     */
    AribaComponentsModule.forRoot = /**
     * @return {?}
     */
    function () {
        return {
            ngModule: AribaComponentsModule,
            providers: [
                ModalService,
                ComponentRegistry,
                ErrorManagerService,
                DomUtilsService,
                DataTypeProviderRegistry,
                DataProviders,
                DataFinders,
                AwNameStore,
                {
                    provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__["APP_INITIALIZER"],
                    useFactory: registerComponents,
                    deps: [ComponentRegistry],
                    multi: true,
                }
            ]
        };
    };
    AribaComponentsModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    imports: [
                        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["AribaCoreModule"],
                        _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        AWCoreComponentModule,
                        AWBasicNavigatorModule,
                        AWCardModule,
                        AWCheckBoxListModule,
                        AWCheckBoxModule,
                        AWChooserModule,
                        AWConfirmationModule,
                        AWCurrencyModule,
                        AWDateAndTimeModule,
                        AWDialogModule,
                        AWDropdownModule,
                        AWGenericChooserModule,
                        AWHyperlinkModule,
                        AWInputFieldModule,
                        AWOutlineForModule,
                        AWOverlayModule,
                        AWPageNotificationModule,
                        AWPageWrapperModule,
                        AWRadioButtonModule,
                        AWRadioButtonListModule,
                        AWRichTextAreaModule,
                        AWScrollableContainerModule,
                        AWSectionModule,
                        AWStepperModule,
                        AWStringFieldModule,
                        AWTextAreaModule,
                        AWFormTableModule,
                        AWButtonModule,
                        AWHoverCardModule,
                        AWListModule,
                        AWDatatable2Module,
                        WizardProgressModule,
                        ToggleSwitchModule,
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["PanelModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ButtonModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ToolbarModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputTextModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputTextareaModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["AutoCompleteModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DropdownModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CalendarModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CheckboxModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["RadioButtonModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SharedModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DialogModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MenuModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TabMenuModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["AccordionModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["EditorModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DataTableModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["PaginatorModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["OverlayPanelModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TreeModule"]
                    ],
                    declarations: [
                        SpyLifeCycleHooksDirective,
                    ],
                    bootstrap: [],
                    entryComponents: [
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Checkbox"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["Dialog"]
                    ],
                    exports: [
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                        SpyLifeCycleHooksDirective,
                        AWCoreComponentModule,
                        AWBasicNavigatorModule,
                        AWCardModule,
                        AWCheckBoxListModule,
                        AWCheckBoxModule,
                        AWChooserModule,
                        AWConfirmationModule,
                        AWCurrencyModule,
                        AWDateAndTimeModule,
                        AWDialogModule,
                        AWDropdownModule,
                        AWGenericChooserModule,
                        AWHyperlinkModule,
                        AWInputFieldModule,
                        AWOutlineForModule,
                        AWOverlayModule,
                        AWPageNotificationModule,
                        AWPageWrapperModule,
                        AWRadioButtonModule,
                        AWRadioButtonListModule,
                        AWRichTextAreaModule,
                        AWScrollableContainerModule,
                        AWSectionModule,
                        AWStepperModule,
                        AWStringFieldModule,
                        AWTextAreaModule,
                        AWFormTableModule,
                        EmbeddedItemDirective,
                        AWButtonModule,
                        AWHoverCardModule,
                        AWListModule,
                        AWDatatable2Module,
                        WizardProgressModule,
                        ToggleSwitchModule,
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["SharedModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["PanelModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ButtonModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["ToolbarModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputTextModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["InputTextareaModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["AutoCompleteModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DropdownModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CalendarModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["CheckboxModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["RadioButtonModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DialogModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["MenuModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["TabMenuModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["EditorModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["DataTableModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["PaginatorModule"],
                        primeng_primeng__WEBPACK_IMPORTED_MODULE_9__["OverlayPanelModule"]
                    ]
                },] }
    ];
    return AribaComponentsModule;
}());
/**
 * @param {?} compRegistry
 * @return {?}
 */
function registerComponents(compRegistry) {
    return compRegistry.initialize.bind(compRegistry, components);
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * This module is used mainly for tests as importing a module with all the components and you
 * use only 1 or two has a big impact on the performance execution. e.g. from executing couple
 * tests under 1 sec can go up to 10sec if you import all the things that you are not using.
 *
 * I havent noticed anything similar in application its only jasmine/karma that needs to init
 * components for every test.
 *
 */
var AribaComponentsTestProviderModule = /** @class */ (function () {
    function AribaComponentsTestProviderModule() {
    }
    /**
     * @return {?}
     */
    AribaComponentsTestProviderModule.forRoot = /**
     * @return {?}
     */
    function () {
        return {
            ngModule: AribaComponentsTestProviderModule,
            providers: [
                ModalService,
                ComponentRegistry,
                ErrorManagerService,
                DomUtilsService,
                DataTypeProviderRegistry,
                DataProviders,
                DataFinders,
                AwNameStore,
                {
                    provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__["APP_INITIALIZER"],
                    useFactory: registerComponents$1,
                    deps: [ComponentRegistry],
                    multi: true,
                }
            ]
        };
    };
    AribaComponentsTestProviderModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"], args: [{
                    imports: []
                },] }
    ];
    return AribaComponentsTestProviderModule;
}());
/**
 * @param {?} compRegistry
 * @return {?}
 */
function registerComponents$1(compRegistry) {
    return compRegistry.initialize.bind(compRegistry, components);
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */



//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJpYmF1aS1jb21wb25lbnRzLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL2NvcmUvZW1iZWRkZWQtaXRlbS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy9jb3JlL2dlbmVyaWMtY29udGFpbmVyLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy9jb3JlL2Jhc2UuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL2NvcmUvYmFzZS1mb3JtLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL3N0cmluZy9zdHJpbmcuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL2NvcmUvY29tcG9uZW50LXJlZ2lzdHJ5LnNlcnZpY2UudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvY29yZS9pbmNsdWRlLWNvbXBvbmVudC5kaXJlY3RpdmUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvY29yZS9lcnJvci1tYW5hZ2VyLnNlcnZpY2UudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvY29yZS9lcnJvci1tZXNzYWdlcy9lcnJvci1tZXNzYWdlcy5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvY29yZS9tb2RhbC1zZXJ2aWNlL21vZGFsLnNlcnZpY2UudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvY29yZS9tb2RhbC1zZXJ2aWNlL21vZGFsL21vZGFsLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy9jb3JlL3BpcGVzL2N1cnJlbmN5LWZvcm1hdC5waXBlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL2NvcmUvb24tbmdmb3Itc2V0LmRpcmVjdGl2ZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy9jb3JlL2RvbS11dGlscy5zZXJ2aWNlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL2NvcmUvaW5maXRlLXNjcm9sbC9pbmZpdGUtc2Nyb2xsLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy9jb3JlL2F3LW5hbWUvYXctbmFtZS5zdG9yZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy9jb3JlL2F3LW5hbWUvYXctbmFtZS5kaXJlY3RpdmUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvY29yZS9jb3JlLm1vZHVsZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy9jb3JlL21vZGFsLXNlcnZpY2UvbW9kYWwtY29udGFpbmVyLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL2NvcmUvZGF0YS9kYXRhdHlwZS1yZWdpc3RyeS5zZXJ2aWNlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL2NvcmUvZGF0YS9hcnJheS1kYXRhLXByb3ZpZGVyLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL2NvcmUvZGF0YS9kYXRhLXByb3ZpZGVycy50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy9jb3JlL2RhdGEvZGF0YS1maW5kZXJzLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL2NvcmUvZGF0YS9kYXRhLXNvdXJjZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy9sYXlvdXRzL2ZpdmUtem9uZS1sYXlvdXQuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL2xheW91dHMvZm9ybS10YWJsZS9mb3JtLXJvdy9mb3JtLXJvdy5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvbGF5b3V0cy9mb3JtLXRhYmxlL2Zvcm0tdGFibGUuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL2xheW91dHMvZm9ybS10YWJsZS9mb3JtLXRhYmxlLm1vZHVsZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2lucHV0LWZpZWxkL2lucHV0LWZpZWxkLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL3N0cmluZy9zdHJpbmcubW9kdWxlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvaW5wdXQtZmllbGQvaW5wdXQtZmllbGQubW9kdWxlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvYmFzaWMtbmF2aWdhdG9yL2Jhc2ljLW5hdmlnYXRvci5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9idXR0b24vYnV0dG9uLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2J1dHRvbi9idXR0b24ubW9kdWxlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvYmFzaWMtbmF2aWdhdG9yL2Jhc2ljLW5hdmlnYXRvci5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9jYXJkL2NhcmQuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvY2FyZC9jYXJkLXRpdGxlL2NhcmQtdGl0bGUuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvY2FyZC9jYXJkLm1vZHVsZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2NoZWNrYm94L2NoZWNrYm94LmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2NoZWNrYm94L2NoZWNrLWJveC5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9jaGVjay1ib3gtbGlzdC9jaGVjay1ib3gtbGlzdC5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9jaGVjay1ib3gtbGlzdC9jaGVjay1ib3gtbGlzdC5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9oeXBlcmxpbmsvaHlwZXJsaW5rLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2h5cGVybGluay9oeXBlcmxpbmsubW9kdWxlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvY2hvb3Nlci9jaG9vc2VyLXNlbGVjdGlvbi1zdGF0ZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2Nob29zZXIvY2hvb3Nlci1zdGF0ZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2Nob29zZXIvY2hvb3Nlci1kYXRhLXNvdXJjZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2Nob29zZXIvY2hvb3Nlci5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9jaG9vc2VyL2Nob29zZXIubW9kdWxlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvZHJvcGRvd24vZHJvcGRvd24uY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvZHJvcGRvd24vZHJvcGRvd24ubW9kdWxlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvY3VycmVuY3kvY3VycmVuY3kuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvY3VycmVuY3kvY3VycmVuY3kubW9kdWxlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvZGF0ZS1hbmQtdGltZS9kYXRlLWFuZC10aW1lLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2RhdGUtYW5kLXRpbWUvZGF0YS1hbmQtdGltZS5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9kaWFsb2cvZGlhbG9nLWhlYWRlci5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9kaWFsb2cvZGlhbG9nLWZvb3Rlci5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9kaWFsb2cvZGlhbG9nLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2RpYWxvZy9kaWFsb2cubW9kdWxlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvZ2VuZXJpYy1jaG9vc2VyL2dlbmVyaWMtY2hvb3Nlci5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9yYWRpby1idXR0b24tbGlzdC9yYWRpby1idXR0b24tbGlzdC5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9yYWRpby1idXR0b24vcmFkaW8tYnV0dG9uLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL3JhZGlvLWJ1dHRvbi9yYWRpby1idXR0b24ubW9kdWxlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvcmFkaW8tYnV0dG9uLWxpc3QvcmFkaW8tYnV0dG9uLWxpc3QubW9kdWxlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvZ2VuZXJpYy1jaG9vc2VyL2dlbmVyaWMtY2hvb3Nlci5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9vdXRsaW5lL291dGxpbmUtc3RhdGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9vdXRsaW5lL291dGxpbmUtZm9yLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL291dGxpbmUvb3V0bGluZS1jb250cm9sL291dGxpbmUtY29udHJvbC5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9vdXRsaW5lL291dGxpbmUtZm9yLm1vZHVsZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL3RleHQtYXJlYS90ZXh0LWFyZWEuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvdGV4dC1hcmVhL3RleHQtYXJlYS5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9wYWdlLW5vdGlmaWNhdGlvbi9wYWdlLW5vdGlmaWNhdGlvbi5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9wYWdlLW5vdGlmaWNhdGlvbi9wYWdlLW5vdGlmaWNhdGlvbi5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9wYWdlLXdyYXBwZXIvcGFnZS1ldmVudHMudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9wYWdlLXdyYXBwZXIvcGFnZS1saWZlY3ljbGUuc2VydmljZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL3BhZ2Utd3JhcHBlci9wYWdlLXdyYXBwZXIudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9wYWdlLXdyYXBwZXIvc2lkZW5hdi9zaWRlbmF2LmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL3BhZ2Utd3JhcHBlci9wYWdlLWhlYWRlci9wYWdlLWhlYWRlci5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9wYWdlLXdyYXBwZXIvcGFnZS1mb290ZXIvcGFnZS1mb290ZXIuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvcGFnZS13cmFwcGVyL29iamVjdC1wYWdlLXdyYXBwZXIvb2JqZWN0LXBhZ2Utd3JhcHBlci5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9wYWdlLXdyYXBwZXIvcGFnZS1hY3Rpb25zL3BhZ2UtYWN0aW9ucy5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9wYWdlLXdyYXBwZXIvcGFnZS1jb250ZW50L3BhZ2UtY29udGVudC5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9zdGVwcGVyL3N0ZXBwZXIuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvc3RlcHBlci9zdGVwL3N0ZXAuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvc3RlcHBlci9zdGVwcGVyLm1vZHVsZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL3BhZ2Utd3JhcHBlci9wYWdlLXdyYXBwZXIubW9kdWxlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvcmljaC10ZXh0LWFyZWEvcmljaC10ZXh0LWFyZWEuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvcmljaC10ZXh0LWFyZWEvcmljaC10ZXh0LWFyZWEubW9kdWxlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvc2VjdGlvbi9zZWN0aW9uLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL3NlY3Rpb24vc2VjdGlvbi5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9kYXRhdGFibGUyL2NvbHVtbi9kdC1jb2x1bW4uY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvZGF0YXRhYmxlMi9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2RhdGF0YWJsZTIvY29sdW1uL2RldGFpbC1yb3cvZHQtZGV0YWlsLXJvdy5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9kYXRhdGFibGUyL2NvbHVtbi9kZXRhaWwtcm93LWV4cGFuZGVyL2R0LWRldGFpbC1yb3ctZXhwYW5kZXIuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvZGF0YXRhYmxlMi9hdy1kYXRhdGFibGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9kYXRhdGFibGUyL2RhdGF0YWJsZTItZGF0YS1zb3VyY2UudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9kYXRhdGFibGUyL2NvbHVtbi9tdWx0aS1zZWxlY3QvZHQtbXVsdGktc2VsZWN0LWNvbHVtbi5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9kYXRhdGFibGUyL2NvbHVtbi9zaW5nbGUtc2VsZWN0L2R0LXNpbmdsZS1zZWxlY3QtY29sdW1uLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2RhdGF0YWJsZTIvZGF0YXRhYmxlMi5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9kYXRhdGFibGUyL3RhYmxlLXdyYXBwZXIvdGFibGUtd3JhcHBlci5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9kYXRhdGFibGUyL2RpcmVjdGl2ZXMvZHQtY2VsbC1kaXJlY3RpdmVzLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvZGF0YXRhYmxlMi9kaXJlY3RpdmVzL2R0LWRyYWdnYWJsZS1yb3cuZGlyZWN0aXZlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvZGF0YXRhYmxlMi9kYXRhdGFibGUyLm1vZHVsZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2NvbmZpcm1hdGlvbi9jb25maXJtYXRpb24taGVhZGVyLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2NvbmZpcm1hdGlvbi9jb25maXJtYXRpb24tZm9vdGVyLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2NvbmZpcm1hdGlvbi9jb25maXJtYXRpb24uY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvY29uZmlybWF0aW9uL2NvbmZpcm1hdGlvbi5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9zY3JvbGxhYmxlLWNvbnRhaW5lci9zY3JvbGxhYmxlLWNvbnRhaW5lci5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9zY3JvbGxhYmxlLWNvbnRhaW5lci9zY3JvbGxhYmxlLWNvbnRhaW5lci5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9saXN0L2xpc3QuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvbGlzdC9saXN0Lm1vZHVsZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL3dpemFyZC1wcm9ncmVzcy93aXphcmQtcHJvZ3Jlc3MuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvd2l6YXJkLXByb2dyZXNzL3dpemFyZC1wcm9ncmVzcy5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy90b2dnbGUtc3dpdGNoL3RvZ2dsZS1zd2l0Y2guY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvdG9nZ2xlLXN3aXRjaC90b2dnbGUtc3dpdGNoLm1vZHVsZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL292ZXJsYXkvb3ZlcmxheS5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvd2lkZ2V0cy9ob3Zlci1jYXJkL2hvdmVyLWNhcmQuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3NweS1saWZlY3ljbGUuZGlyZWN0aXZlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb21wb25lbnRzL3dpZGdldHMvb3ZlcmxheS9vdmVybGF5Lm1vZHVsZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy93aWRnZXRzL2hvdmVyLWNhcmQvaG92ZXItY2FyZC5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL2NvbXBvbmVudHMvYXJpYmEuY29tcG9uZW50Lm1vZHVsZS50cyIsIm5nOi8vQGFyaWJhdWkvY29tcG9uZW50cy9hcmliYS5jb21wb25lbnQucHJvdmlkZXIubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtcbiAgICBEaXJlY3RpdmUsXG4gICAgRW1iZWRkZWRWaWV3UmVmLFxuICAgIElucHV0LFxuICAgIE9uQ2hhbmdlcyxcbiAgICBTaW1wbGVDaGFuZ2VzLFxuICAgIFRlbXBsYXRlUmVmLFxuICAgIFZpZXdDb250YWluZXJSZWZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2lzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5cblxuLyoqXG4gKiBXaGVuIHdlIGhhdmUgYSBjdXN0b20gY29tcG9uZW50IGxpa2UgZHJvcGRvd24sIHJhZGlvYnV0dG9ubGlzdCBhbmRcbiAqIG1hbnkgbW9yZSB3ZSB3YW50IHRvIHByb3ZpZGUgYSBjdXN0b20gY29udGVudCB0byBpdCBsaWtlIHNvOlxuICpcbiAqIGBgYFxuICogIDxhdy1kcm9wZG93biBbbGlzdF09XCJsaXN0T2ZVc2Vyc1wiIGxldCBzb21laG93R2V0SXRlbU91dD5cbiAqICAgICAge3tpdGVtLnVzZXJOYW1lfX1cbiAqXG4gKiAgIDxhdy1kcm9wZG93blxuICpcbiAqIGBgYFxuICogV2hvIGVsc2Ugd291bGQga25vdyBob3cgdG8gcmVuZGVyIGxpc3Qgb2Ygb2JqZWN0cy4uXG4gKlxuICogQnV0IGl0cyBub3QgcG9zc2libGUgaW4gY3VycmVudCBmb3JtLiBpZiBJIGRvIG5vdCBwcm92aWRlIEFuZ3VsYXIgc29tZSBhcyB0aGV5IGNhbGwgaXQgdGhpc1xuICogc3ludGFjdGljIHN1Z2FyICosXG4gKlxuICpcbiAqIGBgYFxuICogIDxhdy1kcm9wZG93biAqbXlTdWdlckRpcmVjdGl2ZT0uLi4uLj5cbiAqICAgICAge3tpdGVtLnVzZXJOYW1lfX1cbiAqXG4gKiAgIDxhdy1kcm9wZG93blxuICogYGBgXG4gKlxuICpcbiAqIHRoZW4gYW5ndWxhciB3aWxsIG5vdCBrbm93ICBpbnNpZGUgaXMgYSB0ZW1wbGF0ZSBhbmQgSSB3b250IGJlIGFibGUgdG8gZ2V0IGhvbGQgb2YgVGVtcGxhdGVSZWZcbiAqIGluc2lkZSB0aGUgY29tcG9uZW50XG4gKlxuICogU28gdGhlIG9ubHkgd2F5IEkgZm91bmQgKGV4cGVjdGluZyBJIGRvIG5vdCB3YW50IHRvIGNoYW5nZSBhbnl0aGluZyBpbiB0ZXJtcyBvZiBiaW5kaW5ncyBhbmQgdGhlXG4gKiBzaWduYXR1cmUgSSB1c2UgaXQuIEkgaGF2ZSB0byB1c2UgaXQgbGlrZSB0aGlzOlxuICpcbiAqIGBgYFxuICogIDxhdy1kcm9wZG93biBbbGlzdF09XCJsaXN0T2ZVc2Vyc1wiIGxldCBzb21laG93R2V0SXRlbU91dD5cbiAqICAgICAgPG5nLXRlbXBsYXRlIGxldC1pdGVtPiB7e2l0ZW0udXNlck5hbWV9fTwvbmctdGVtcGxhdGU+XG4gKlxuICogICA8YXctZHJvcGRvd25cbiAqXG4gKiBgYGBcbiAqXG4gKiAgVGhpcyB3YXkgaXQgY291bGQgd29yay4gU2luY2UgSSBhbSBpbnNpZGUgbmdGb3IgSSB3YW50IHRvIHJlbmRlciB0aGUgaXRlbSBpbnRvIHRoZSBjb3JyZWN0XG4gKiB2aWV3Q29udGFpbmVyIG9mIG5nRm9yJ3MgY3VycmVudCBpdGVtLlxuICpcbiAqICBUaGlzIHdheSBJIGNhbiBhbHNvIGV4cG9zZSBpdGVtIG91dHNpZGUgdXNpbmcgQW5ndWxhcidzIHNwZWNpYWwgbG9jYWwgdmFyaWFibGUgY2FsbGVkOlxuICogJGltcGxpY2l0LlxuICpcbiAqIFRoaXMgZ2V0cyBldmVuIG1vcmUgY29tcGxleCBpZiB3ZSB0cnkgdG8gcGFzcyB0aGlzIHRlbXBsYXRlIDIgbGV2ZWxzIGRvd24sIGxpa2UgaW4gY2FzZSBvZlxuICogUmFkaW9CdXR0b25MaXN0LiBCdXQgbGF0ZXIgb24gSSBtaWdodCB3YW50IHRvIHJlZmFjdG9yIHRoaXMgaW50byBjdXN0b20gTkcgRk9SXG4gKlxuICogQGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgbmdUZW1wbGF0ZU91dGxldCAod2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IHZlcnNpb24pXG4gKlxuICovXG5ARGlyZWN0aXZlKHtzZWxlY3RvcjogJ1tlbWJlZGRlZEl0ZW1dJ30pXG5leHBvcnQgY2xhc3MgRW1iZWRkZWRJdGVtRGlyZWN0aXZlIGltcGxlbWVudHMgT25DaGFuZ2VzXG57XG4gICAgLyoqXG4gICAgICogVGVtcGxhdGUgd2Ugd2FudCB0byByZW5kZXIgTi1UaW1lc1xuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgZW1iZWRkZWRJdGVtOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG4gICAgQElucHV0KClcbiAgICBzZXQgaXRlbShpdGVtOiBhbnkpXG4gICAge1xuICAgICAgICB0aGlzLl9pbXBsaWNpdFZhbHVlID0gaXRlbTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9pbXBsaWNpdFZhbHVlOiBhbnk7XG4gICAgcHJpdmF0ZSBfdmlld1JlZjogRW1iZWRkZWRWaWV3UmVmPGFueT47XG5cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3ZpZXdDb250YWluZXI6IFZpZXdDb250YWluZXJSZWYpXG4gICAge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5fdmlld1JlZikpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdDb250YWluZXIucmVtb3ZlKHRoaXMuX3ZpZXdDb250YWluZXIuaW5kZXhPZih0aGlzLl92aWV3UmVmKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuZW1iZWRkZWRJdGVtKSkge1xuICAgICAgICAgICAgbGV0IGNvbnRleHQgPSBuZXcgRW1iZWRlZEl0ZW0odGhpcy5faW1wbGljaXRWYWx1ZSk7XG4gICAgICAgICAgICB0aGlzLl92aWV3UmVmID0gdGhpcy5fdmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5lbWJlZGRlZEl0ZW0sIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbi8qKlxuICogV3JhcHBlciBjbGFzcyBhcm91bmQgQW5ndWxhcidzIEVtYmVkZGVkVmlld1JlZi5jb250ZXh0KClcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBFbWJlZGVkSXRlbVxue1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyAkaW1wbGljaXQ6IGFueSlcbiAgICB7XG4gICAgfVxufVxuXG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnQsIERvQ2hlY2ssIEVsZW1lbnRSZWYsIElucHV0LCBPbkluaXQsIFJlbmRlcmVyMn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2lzQmxhbmssIGlzUHJlc2VudCwgTWFwV3JhcHBlcn0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5cbi8qKlxuICogR2VuZXJpY0NvbnRhaW5lckNvbXBvbmVudCBpcyB1c2VkIGJ5IGluY2x1ZGUtY29tcG9uZW50LmRpcmVjdGl2ZSB0byBkeW5hbWljYWxseSBjcmVhdGUgYW5cbiAqIEhUTUxFbGVtZW50IGFuZCB1c2UgdGhpcyBlbGVtZW50IHRvIHdyYXAgYSBjaGlsZCBjb21wb25lbnQuIFRoaXMgaXMgdmVyeSB1c2VmdWwgd2hlbiB3ZSB3YW50IHRvXG4gKiBtb2RpZnkgYSBjaGlsZCBieSB3cmFwcGluZyBpdCB3aXRoIGEgYm9yZGVyLCBhIGJhY2tncm91bmQsIG9yIGJvbGQgaXRzIHRleHQuXG4gKlxuICogVGhlIHdyYXBwZXIgZWxlbWVudCBpcyBkeW5hbWljYWxseSBjcmVhdGVkLiBJdCdzIGVsZW1lbnQgaXMgc3BlY2lmaWVkIGJ5IHRoZSB0YWdOYW1lIHByb3BlcnR5IGluXG4gKiB0aGUgYmluZGluZ3MgQElucHV0LlxuICpcbiAqICAjIyMgRXhhbXBsZS4gIERpcmVjdGx5IGluIGh0bWxcbiAqXG4gKiAgIGFwcC5odG1sXG4gKiAgICAgIDxhdy1nZW5lcmljLWNvbnRhaW5lciB0YWdOYW1lPVwidGFnTmFtZVwiIGJpbmRpbmdzPVwiYmluZGluZ3NcIj5cbiAqICAgICAgICAgIDxteS1jb21wb25lbnQgLi5iaW5kaW5ncy4uPjwvbXktY29tcG9uZW50PlxuICogICAgICA8L2F3LWdlbmVyaWMtY29udGFpbmVyPlxuICpcbiAqICAgYXBwLmNvbXBvbmVudC50c1xuICpcbiAqICAgICAgIHRhZ05hbWUgPSAoYkJvbGQpID8gJ2gxJyA6ICdzcGFuJztcbiAqICAgICAgIGJpbmRpbmdzID0geyAgc3R5bGU6ICdiYWNrZ3JvdW5kLWNvbG9yOiByZWQnIH1cbiAqXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctZ2VuZXJpYy1jb250YWluZXInLFxuICAgIHRlbXBsYXRlOiAnPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PicsXG4gICAgc3R5bGVzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBHZW5lcmljQ29udGFpbmVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBEb0NoZWNrXG57XG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHRhZ05hbWUgaWYgbm9uZSBpcyBzcGVjaWZpZWQgaW5zaWRlIGJpbmRpbmdzLlxuICAgICAqXG4gICAgICovXG4gICAgc3RhdGljIHJlYWRvbmx5IERlZmF1bHRUYWdOYW1lID0gJ2Rpdic7XG5cbiAgICAvKipcbiAgICAgKiBCaW5kaW5ncyB0byBiZSBhZGRlZCBhcyBhdHRyaWJ1dGVzIHRvIHRoZSB0YWdOYW1lIGVsZW1lbnQuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBiaW5kaW5nczogTWFwPHN0cmluZywgYW55PjtcblxuICAgIC8qKlxuICAgICAqIEVsZW1lbnQgdG8gYmUgY3JlYXRlZCB0aGF0IHdyYXBzIGl0J3MgY29udGVudC5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHRhZ05hbWU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIE5hdGl2ZSByb290IGVsZW1lbnQuIFBvaW50cyB0byA8YXctZ2VuZXJpYy1jb250YWluZXI+XG4gICAgICovXG4gICAgcHJpdmF0ZSBuYXRpdmVFbGVtZW50OiBOb2RlO1xuXG4gICAgcHJpdmF0ZSBjaGlsZEVsZW1lbnQ6IE5vZGU7XG5cblxuICAgIC8qKlxuICAgICAqIHBhcmFtIHJlbmRlcmVyIC0gUmVuZGVyZXIgaXMgdXNlZCB0byBjcmVhdGUgJ3RhZ05hbWUnIGVsZW1lbnQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyLCBwcml2YXRlIGVsZW1lbnQ6IEVsZW1lbnRSZWYpXG4gICAge1xuICAgICAgICB0aGlzLm5hdGl2ZUVsZW1lbnQgPSBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHVyaW5nIHRoZSBpbml0aWFsaXphdGlvbiwgdmVyaWZ5IHRoYXQgYXQgbGVhc3Qgb25lIGlucHV0IGhhcyBiZWVuIHNldC5cbiAgICAgKi9cbiAgICBuZ09uSW5pdCgpXG4gICAge1xuICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGlucHV0LCB0aGlzIGNvbXBvbmVudCB3b3VsZG4ndCBrbm93IHdoYXQgdG8gZG8gYW5kIHRocm93IGV4Y2VwdGlvbi5cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5iaW5kaW5ncykgJiYgaXNCbGFuayh0aGlzLnRhZ05hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0dlbmVyaWNDb250YWluZXJDb21wb25lbnQgaW5wdXQgYmluZGluZ3Mgb3IgdGFnTmFtZSAnICtcbiAgICAgICAgICAgICAgICAnaGF2ZSBub3QgYmVlbiBzZXQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgdGFnTmFtZSBpcyBibGFuaywgdGhlIGdldCBpdCBmcm9tIGJpbmRpbmdzLlxuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLnRhZ05hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnRhZ05hbWUgPSB0aGlzLmJpbmRpbmdzLmdldCgndGFnTmFtZScpO1xuICAgICAgICAgICAgaWYgKGlzQmxhbmsodGhpcy50YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGFnTmFtZSA9IEdlbmVyaWNDb250YWluZXJDb21wb25lbnQuRGVmYXVsdFRhZ05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTYXZlIGZpcnN0IGFkZGVkXG4gICAgICAgIHRoaXMuY2hpbGRFbGVtZW50ID0gdGhpcy5uYXRpdmVFbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIHRoaXMuZG9SZW5kZXIoKTtcbiAgICB9XG5cbiAgICBuZ0RvQ2hlY2soKTogdm9pZFxuICAgIHtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuY2hpbGRFbGVtZW50KSAmJlxuICAgICAgICAgICAgdGhpcy5jaGlsZEVsZW1lbnQucGFyZW50Tm9kZSAhPT0gdGhpcy5uYXRpdmVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcblxuICAgICAgICAgICAgdGhpcy5uYXRpdmVFbGVtZW50LmZpcnN0Q2hpbGQuYXBwZW5kQ2hpbGQodGhpcy5jaGlsZEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBZnRlciBjb250ZW50IGhhcyBiZWVuIGluaXRpYWxpemVkLiBDcmVhdGUgdGhlIHRhZ05hbWUgZWxlbWVudC4gQXBwbHkgYWxsIHRoZSBiaW5kaW5ncyBvbiB0b1xuICAgICAqIHRoZSBlbGVtZW50IGFzIGF0dHJpYnV0ZS4gRmluYWxseSwgbW92ZSB0aGUgY2hpbGQgZWxlbWVudCwgPG5nLWNvbnRlbnQ+LCB0byBpbnNpZGUgdGhlXG4gICAgICogd3JhcHBlciBjb21wb25lbnQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBkb1JlbmRlcigpXG4gICAge1xuICAgICAgICBjb25zdCBlbCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCh0aGlzLnRhZ05hbWUpO1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMubmF0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy5uYXRpdmVFbGVtZW50LCBlbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBiaW5kaW5ncyBhbmQgYWRkIHRoZW0gdG8gdGhlIGVsZW1lbnQuXG4gICAgICAgIE1hcFdyYXBwZXIuaXRlcmFibGUodGhpcy5iaW5kaW5ncykuZm9yRWFjaCgodiwgaykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZShlbCwgaywgdik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEF0dGFjaCB0aGUgY29tcG9uZW50IHRvIHRoaXMgZGl2RWxlbWVudC5cbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQodGhpcy5jaGlsZEVsZW1lbnQpO1xuICAgIH1cblxuXG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7RG9DaGVjaywgSW5wdXQsIE9uQ2hhbmdlcywgT25EZXN0cm95LCBPbkluaXQsIFNpbXBsZUNoYW5nZXN9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtBcHBDb25maWcsIEVudmlyb25tZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcblxuXG4vKipcbiAqICBCYXNlIGNvbXBvbmVudCBzaGFyZXMgY29tbW9uIGZ1bmN0aW9uYWxpdHkgYW1vbmcgYWxsIHRoZSBjb21wb25lbnRzIChsYXlvdXRzLCB3aWRnZXRzKS5cbiAqXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIERvQ2hlY2ssIE9uRGVzdHJveVxue1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBkaXNhYmxlZCBmbGFnIHRvIHRoZSBjb21wb25lbnRcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgZGlzYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICAgLyoqXG4gICAgICogV2VhdGhlciB0aGlzIGNvbXBvbmVudCBpcyB2aXNpYmxlXG4gICAgICogRGVmYXVsdCBpcyBmYWxzZTtcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHZpc2libGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRlbGwgIHRoZSBjb21wb25lbnQgaWYgd2UgYXJlIGluIGVkaXRpbmcgbW9kZS5cbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgZWRpdGFibGU/OiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEV2ZXJ5IGNvbXBvbmVudCBoYXZlIG9wdGlvbiB0byBzZXQgYSBjdXN0b20gd2l0aFxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICB3aWR0aDogYW55O1xuXG4gICAgLyoqXG4gICAgICogRXZlcnkgY29tcG9uZW50IGhhdmUgb3B0aW9uIHRvIHNldCBhIGN1c3RvbSB3aXRoXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBoZWlnaHQ6IGFueTtcblxuICAgIC8qKlxuICAgICAqIG9wdGlvbmFsIGNzcyBjbGFzcyB3aGljaCBjYW4gYmUgdXRpbGl6ZWQgYnkgY29tcG9uZW50XG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzdHlsZUNsYXNzOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHBhZGRpbmcgZnJvbSB0aGUgY29tcG9uZW50LiBVc3VhbGx5IHVzZWQgd2hlbiB3ZSBhcmUgbmVzdGluZyBvdGhlciBjb21wb25lbnQgd2l0aFxuICAgICAqIGl0cyBvd24gZ3JpZC5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG9taXRQYWRkaW5nID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDbGFzcyBleHRlbnNpb24gc3VwcG9ydCByZWdpc3RlciBoZXJlIGFueSBkeW5hbWljIGZpZWxkIHRoYXQgZG9lcyBub3QgZXhpc3Rpbmcgb24gdGhlXG4gICAgICogY2xhc3MvY29tcG9uZW50XG4gICAgICovXG4gICAgZXh0QmluZGluZ3M6IE1hcDxzdHJpbmcsIGFueT47XG5cblxuICAgIC8qKlxuICAgICAqIFByZWZpeCBmb3IgdGhlIGNvcnJlY3QgYXNzZXQgcGF0aFxuICAgICAqL1xuICAgIGFzc2V0Rm9sZGVyOiBzdHJpbmcgPSAnYXNzZXRzJztcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY/OiBFbnZpcm9ubWVudClcbiAgICB7XG4gICAgICAgIHRoaXMuZXh0QmluZGluZ3MgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICAgICAgICB0aGlzLm9taXRQYWRkaW5nID0gZmFsc2U7XG4gICAgfVxuXG5cbiAgICBuZ09uSW5pdCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmFzc2V0Rm9sZGVyID0gdGhpcy5lbnYuZ2V0VmFsdWUoQXBwQ29uZmlnLkFzc2V0Rm9sZGVyKTtcbiAgICB9XG5cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkXG4gICAge1xuICAgIH1cblxuXG4gICAgbmdEb0NoZWNrKCk6IHZvaWRcbiAgICB7XG4gICAgfVxuXG5cbiAgICBuZ09uRGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgIH1cbn1cblxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7RW52aXJvbm1lbnQsIGlzQmxhbmssIGlzUHJlc2VudCwgbm9vcCwgdXVpZH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge2ZvcndhcmRSZWYsIEluamVjdCwgSW5wdXQsIE9wdGlvbmFsLCBQaXBlVHJhbnNmb3JtLCBTa2lwU2VsZn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0NvbnRyb2xWYWx1ZUFjY2Vzc29yLCBGb3JtQ29udHJvbCwgRm9ybUdyb3VwfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0Jhc2VDb21wb25lbnR9IGZyb20gJy4uL2NvcmUvYmFzZS5jb21wb25lbnQnO1xuXG4vKipcbiAqIHgtc21hbGwgPSA+IDEyJSAgPSA+IGNvbC0xXG4gKiBzbWFsbCA9ID4gYFxuICogbWVkaXVtID0gPiA1MCUgICA9ID4gY29sLTZcbiAqIGxhcmdlID0gPiA3NSUgICAgPSA+IGNvbC05XG4gKiBsYXJnZSA9ID4gMTAwJSAgID0gPiBjb2wtMTJcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIFdpZGdldFNpemUgPSAneC1zbWFsbCcgfCAnc21hbGwnIHwgJ21lZGl1bScgfCAnbGFyZ2UnIHwgJ3gtbGFyZ2UnO1xuXG5leHBvcnQgZW51bSBXaWRnZXRTaXplQ29sdW1uc1xue1xuICAgIHhzbWFsbCA9IDEsXG4gICAgc21hbGwgPSAzLFxuICAgIG1lZGl1bSA9IDYsXG4gICAgbGFyZ2UgPSA5LFxuICAgIHhsYXJnZSA9IDEyXG59XG5cblxuLyoqXG4gKiAgQmFzZUZvcm1Db21wb25uZXQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IGZvciBhZGQgc3BlY2lmaWMgZm9ybSBiZWhhdmlvclxuICpcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VGb3JtQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCBpbXBsZW1lbnRzIENvbnRyb2xWYWx1ZUFjY2Vzc29yXG57XG4gICAgLypcbiAgICAgKiAgU3VwcG9ydGVkIGxheW91dCBjb25zdGFudHMuIEl0IGlzIGV4cGVjdGVkIHRoZXJlIHdpbGwgYmUgbW9yZSBvcHRpb25zIGFzIHdlIGN1cnJlbnRseVxuICAgICAqICBzdXBwb3J0IG9ubHkgdGhlc2UgdHdvIHRoZXJlIHdpbGwgYmUgb3RoZXIgdmFyaWF0aW9ucyBvZiBpdC4gZS5nLiBmb3Igc3RhY2tlZCBpdCB3aWxsIG5vdFxuICAgICAqICBiZSAxIGNvbHVtbnMgbGlrZSBpdCBpcyBub3cgYnV0IG11bHRpcGxlIGNvbHVtbnNcbiAgICAgKlxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBMYXlvdXRTdGFja2VkID0gJ3N0YWNrZWQnO1xuICAgIHN0YXRpYyByZWFkb25seSBMYXlvdXRJbmxpbmUgPSAnaW5saW5lJztcblxuXG4gICAgLyoqXG4gICAgICogQ29tcG9uZW50IG5hbWUgYXR0cmlidXRlLiBDYW4gYmUgdXNlZCB0byBsb29rdXAgY29tcG9uZW50IGluIGZvcm0uXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBuYW1lOiBzdHJpbmc7XG5cblxuICAgIC8qKlxuICAgICAqIENvbXBvbmVudCBJZC4gQ2FuIGJlIHVzZWQgdG8gbG9va3VwIGNvbXBvbmVudCBpbiBmb3JtLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgaWQ6IHN0cmluZztcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBJcyBjdXJyZW50IGVsZW1lbnQgdmlzaWJsZVxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgaGlkZGVuOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBZb3UgY2FuIHBhc3MgaW4gZm9ybUdyb3VwIHdoaWNoIHdpbGwgYmUgdXNlZCB3aXRoIGluIHRoZSBmb3JtXG4gICAgICpcbiAgICAgKiBASW5wdXQoKSAtIHNlZSBnZXR0ZXJcbiAgICAgKi9cbiAgICBwcml2YXRlIF9mb3JtR3JvdXA6IEZvcm1Hcm91cDtcblxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyByZXF1aXJlZCBmbGV4IGFyb3VuZCB0aGUgY29tcG9uZW50XG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHJlcXVpcmVkOiBib29sZWFuID0gZmFsc2U7XG5cblxuICAgIC8qKlxuICAgICAqICBhIHRleHQgZGlzcGxheWVkIHdoZW4gdmFsdWUgaXMgZW1wdHkgb3IgTlVMTFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgcGxhY2VIb2xkZXI6IFN0cmluZyA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogSWRlbnRpZnkgaWYgdGhpcyBjb250cm9sIGlzIHVzZWQgZGlyZWN0bHkgb3IgaWYgaXRzIHBhcnQgb2Ygc29tZSBvdGhlciBjb250cm9sXG4gICAgICogZS5nLiBHZW5lcmljQ2hvb3NlciBhbmQgbWFuYWdlZCBieSB0aGlzIGNvbnRyb2wuXG4gICAgICogTWVhbmluZyBTdGF0ZSBpcyBtYW5hbmdlZCBvdXRzaWRlIG9mIHRoaXMgY29tcG9uZW50XG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGlzU3RhbmRhbG9uZTogYm9vbGVhbiA9IHRydWU7XG5cblxuICAgIC8qKlxuICAgICAqIEZvcm0gQ29udHJvbCBmb3IgdGhlIGNvbXBvbmVudC4gSXRzIGVpdGhlciBpbmhlcml0ZWQgc2luY2UgaXQgd2FzIHByZWNyZWF0ZWQgaW4gcGFyZW50XG4gICAgICogY29tcG9uZW50IG9yIGl0cyBjcmVhdGVkIGJhc2VkIG9uIHBhc3NlZCAnbmFtZScgYW5kIHJlZ2lzdGVyZWQgd2l0aCB0aGUgJ2Zvcm1Hcm91cCdcbiAgICAgKlxuICAgICAqIFdoZW4gIGluaXRpYWxpemUgRm9ybUNvbnRyb2wgd2UgZG8gc2V0VmFsdWUgd2l0aCBvbmx5U2VsZjp0cnVlIGZsYWcgYW5kIHdlIGRvIG5vdCBlbWl0IGFueVxuICAgICAqIGV2ZW50IG91dHNpZGVcbiAgICAgKlxuICAgICAqL1xuICAgIGZvcm1Db250cm9sOiBGb3JtQ29udHJvbDtcblxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0dGVyIHRoYXQgY2FuIGJlIGFzc2lnbiB0byB0aGUgY29tcG9uZW50IGluIG9yZGVyIHRvIGZvcm1hdCBpdHMgaW5wdXRcbiAgICAgKi9cbiAgICBmb3JtYXR0ZXI6IFBpcGVUcmFuc2Zvcm07XG5cblxuICAgIHByb3RlY3RlZCBvbk1vZGVsQ2hhbmdlZDogKF86IGFueSkgPT4gdm9pZCA9IG5vb3A7XG4gICAgcHJvdGVjdGVkIG9uTW9kZWxUb3VjaGVkOiAoXzogYW55KSA9PiB2b2lkID0gbm9vcDtcblxuXG4gICAgLyoqXG4gICAgICogU29tZSBvZiB0aGUgQmFzZUZvcm1Db21wb25lbnQgY2FuIHdyYXAgb3RoZXIgY29tcG9uZW50IGFuZCBpbiB0aGVzZSBjYXNlcyB3ZSB3YW50IHRvXG4gICAgICogaW5oZXJpdCBzb21lIG9mIHRoZSBiZWhhdmlvciBmcm9tIHBhcmVudFxuICAgICAqXG4gICAgICogQEluamVjdChFbnZpcm9ubWVudCkgcHVibGljIGVudjogRW52aXJvbm1lbnQgOiBpcyB0ZW0gYSB3b3JrYXJvdW5kIGFzIHdpdGhvdXQgaW5qZWN0XG4gICAgICogb24gdGhpcyBzcGVjaWZpYyBjb21wb25lbnQgaXQgY29tcGxhaW5zIHRoYXQgRW52aXJvbm1lbnQgaXMgdW5yZXNvbHZlZCBzeW1ib2xcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIChASW5qZWN0KEVudmlyb25tZW50KSBwdWJsaWMgZW52OiBFbnZpcm9ubWVudCxcbiAgICAgICAgICAgICAgICAgQFNraXBTZWxmKCkgQE9wdGlvbmFsKCkgQEluamVjdChmb3J3YXJkUmVmKCgpID0+IEJhc2VGb3JtQ29tcG9uZW50KSlcbiAgICAgICAgICAgICAgICAgcHJvdGVjdGVkIHBhcmVudENvbnRhaW5lcjogQmFzZUZvcm1Db21wb25lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuICAgIH1cblxuXG4gICAgbmdPbkluaXQgKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLm5nT25Jbml0KCk7XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLnBhcmVudENvbnRhaW5lcikpIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybUdyb3VwID0gdGhpcy5wYXJlbnRDb250YWluZXIuZm9ybUdyb3VwO1xuICAgICAgICAgICAgdGhpcy5lZGl0YWJsZSA9IHRoaXMucGFyZW50Q29udGFpbmVyLmVkaXRhYmxlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGVja0luaXRGb3JtKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBNYWtlIHN1cmUgdGhhdCB3ZSBoYXZlIGF2YWlsYWJsZSBmb3JtR3JvdXAgYW5kIE5hbWUgYW5kIElEXG4gICAgICpcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY2hlY2tJbml0Rm9ybSAoKVxuICAgIHtcblxuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLmVudi5jdXJyZW50Rm9ybSkpIHtcbiAgICAgICAgICAgIHRoaXMuZW52LmN1cnJlbnRGb3JtID0gbmV3IEZvcm1Hcm91cCh7fSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVG9kbzogUmlnaHQgbm93IEkganVzdCBuZWVkIHRvIGluaXRpYWxpemUgbmFtZSAsIGJ1dCBpZGVhbGx5IGl0IG5lZWRzIHRvIGJlIGdlbmVyYXRlZFxuICAgICAgICAgKiBudW1iZXIgYmFzZWRvbiBzb21lIHNlbWFudGljcyBhcHAucGFnZS5jb21wb25lbnQgaWYgdGhlcmUgYXJlIG1vcmUgY29tcG9uZW50IG9uIHRoZSBwYWdlXG4gICAgICAgICAqIHRoZW4gYXBwLnBhZ2UuY29tcG9uZW50TnVtYmVyLiBTaW1wbGUgc29sdXRpb24gaXMgdG8gaXMgdG8gZ2V0IEVsZW1lbnRyZWYgYW5kIHF1ZXJ5IGl0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5uYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gdXVpZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5pZCkpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB1dWlkKCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHByb3RlY3RlZCBkb1JlZ2lzdGVyIChuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBGb3JtQ29udHJvbFxuICAgIHtcblxuICAgICAgICBsZXQgZkNvbnRyb2w6IEZvcm1Db250cm9sO1xuXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuZm9ybUdyb3VwLmNvbnRyb2xzW25hbWVdKSkge1xuICAgICAgICAgICAgdGhpcy5mb3JtR3JvdXAucmVnaXN0ZXJDb250cm9sKG5hbWUsIG5ldyBGb3JtQ29udHJvbCh2YWx1ZSkpO1xuICAgICAgICAgICAgZkNvbnRyb2wgPSA8Rm9ybUNvbnRyb2w+IHRoaXMuZm9ybUdyb3VwLmNvbnRyb2xzW25hbWVdO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmQ29udHJvbCA9IDxGb3JtQ29udHJvbD4gdGhpcy5mb3JtR3JvdXAuY29udHJvbHNbbmFtZV07XG4gICAgICAgICAgICBsZXQgdXBkYXRlZFZhbHVlOiBhbnkgPSBpc1ByZXNlbnQoZkNvbnRyb2wudmFsdWUpID8gZkNvbnRyb2wudmFsdWUgOiB2YWx1ZTtcbiAgICAgICAgICAgIGZDb250cm9sLnBhdGNoVmFsdWUodXBkYXRlZFZhbHVlLCB7b25seVNlbGY6IHRydWUsIGVtaXRFdmVudDogZmFsc2V9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZkNvbnRyb2w7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHdlIGFyZSBkZWFsaW5nIHdpdGggRm9ybXMgdGhpcyBpcyBhIGhlbHBlciBtZXRob2QgdG8gcmVnaXN0ZXIgY29udHJvbFxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUgZGVmYXVsdCB2YWx1ZSB0byBiZSBwcmUtc2V0XG4gICAgICovXG4gICAgcmVnaXN0ZXJGb3JtQ29udHJvbCAodmFsdWU6IGFueSlcbiAgICB7XG4gICAgICAgIHRoaXMuZm9ybUNvbnRyb2wgPSB0aGlzLmRvUmVnaXN0ZXIodGhpcy5uYW1lLCB2YWx1ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybUNvbnRyb2wuZGlzYWJsZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBASW5wdXQoKSBnZXQgZm9ybUdyb3VwICgpOiBGb3JtR3JvdXBcbiAgICB7XG4gICAgICAgIHJldHVybiBpc1ByZXNlbnQodGhpcy5fZm9ybUdyb3VwKSA/IHRoaXMuX2Zvcm1Hcm91cCA6IHRoaXMuZW52LmN1cnJlbnRGb3JtO1xuICAgIH1cblxuICAgIHNldCBmb3JtR3JvdXAgKHZhbHVlOiBGb3JtR3JvdXApXG4gICAge1xuICAgICAgICB0aGlzLl9mb3JtR3JvdXAgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgd2UgY2FuIHBhc3MgZmllbGQgdHlwZSBhcyBhIGJpbmRpbmcgdG8gdGhlIGNvbXBvbmVudHMuIGUuZy4gSW5wdXRGaWVsZCBuZWVkXG4gICAgICogc3VjaCB0eXBlIHRvIGNvcnJlY3RseSByZW5kZXIgaW5wdXQgdHlwZT10ZXh0LCBudW1iZXJcbiAgICAgKlxuICAgICAqIHRvZG86IGlzIHRoaXMgbmVlZGVkPyBjYW4gd2UgbWF5YmUgcGFzcyB0aGlzIHRvIHRoZSBmb3JtUm93P1xuICAgICAqL1xuICAgIGNhblNldFR5cGUgKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIHdyaXRlVmFsdWUgKHZhbHVlOiBhbnkpXG4gICAge1xuXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJPbkNoYW5nZSAoZm46IGFueSlcbiAgICB7XG4gICAgICAgIHRoaXMub25Nb2RlbENoYW5nZWQgPSBmbjtcbiAgICB9XG5cbiAgICByZWdpc3Rlck9uVG91Y2hlZCAoZm46IGFueSlcbiAgICB7XG4gICAgICAgIHRoaXMub25Nb2RlbFRvdWNoZWQgPSBmbjtcbiAgICB9XG59XG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge0NvbXBvbmVudCwgZm9yd2FyZFJlZiwgSW5qZWN0LCBJbnB1dCwgT3B0aW9uYWwsIFNraXBTZWxmfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RG9tU2FuaXRpemVyfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcbmltcG9ydCB7QmFzZUZvcm1Db21wb25lbnR9IGZyb20gJy4uLy4uL2NvcmUvYmFzZS1mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQge0Vudmlyb25tZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcblxuXG4vKipcbiAqIFNpbXBsZSBjb21wb25lbnQgcmVuZGVyaW5nIHZhbHVlcyBpbiB0aGUgcmVhZCBvbmx5IG1vZGUuIEp1c3QgbmVlZGVkIHNvbWUgY29tcG9uZW50IHVzZWRcbiAqIHRvIHJlbmRlciBTdHJpbmdzIGluIHJlYWQgb25seSBtb2RlXG4gKlxuICpcbiAqICAjIyMgRXhhbXBsZVxuICpcbiAqIFVzaW5nIGl0IGluc2lkZSBmb3JtIGNvbnRhaW5lciBhbG9uZyB3aXRoIGxhYmVsXG4gKlxuICpcbiAqICBgYGBcbiAqICAgICAgICAgIEBDb21wb25lbnQoe1xuICogICAgICAgICAgICAgIHNlbGVjdG9yOiAndXNlckluZm8nICxcbiAqICAgICAgICAgICAgICB0ZW1wbGF0ZTogYFxuICogICAgICAgICAgICAgICAgICAgICAgPGF3LWZvcm0tdGFibGUgW2VkaXRhYmxlXT1cImZhbHNlXCIgPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIDxhdy1mb3JtLXJvdyBbbmFtZV09XCJmaWVsZE5hbWVcIiAgW2xhYmVsXT1cImxhYmVsXCI+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhdy1zdHJpbmcgW3ZhbHVlXT1cImlucHV0VmFsdWVcIiA+PC9hdy1zdHJpbmc+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYXctZm9ybS1yb3c+XG4gKiAgICAgICAgICAgICAgICAgICAgICA8L2F3LWZvcm0tdGFibGU+XG4gKlxuICogICAgICAgICAgICAgICAgICBgXG4gKiAgICAgICAgICB9KVxuICogICAgICAgICAgZXhwb3J0IGNsYXNzIFVzZXJQcm9maWxlQ29tcG9uZW50XG4gKiAgICAgICAgICB7XG4gKiAgICAgICAgICAgICAgaW5wdXRWYWx1ZTogc3RyaW5nID0gJ1NvbWUgdGV4dCc7XG4gKiAgICAgICAgICAgICAgaW5wdXRUeXBlOiBzdHJpbmcgPSAnc3RyaW5nJztcbiAqICAgICAgICAgICAgICBmaWVsZE5hbWU6IHN0cmluZyA9ICdmaXJzdE5hbWUnO1xuICogICAgICAgICAgICAgIGxhYmVsOiBzdHJpbmcgPSAnTXkgTmFtZSc7XG4gKiAgICAgICAgICAgICAgcmVxdWlyZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICogICAgICAgICAgICAgIGVkaXRpbmc6IGJvb2xlYW4gPSB0cnVlO1xuICogICAgICAgICAgICAgIGxhYmVsc09uVG9wOiBib29sZWFuID0gZmFsc2U7XG4gKlxuICogICAgICAgICAgfVxuICpcbiAqICBgYGBcbiAqXG4gKiBZb3UgY2FuIGFsc28gcGFzcyBodG1sIHRhZ3MuXG4gKlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LXN0cmluZycsXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ3LXN0cmluZy1maWVsZFwiIFtpbm5lckhUTUxdPVwidmFsdWVcIj48L3NwYW4+XG4gICAgYCxcbiAgICBzdHlsZVVybHM6IFsnc3RyaW5nLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgU3RyaW5nQ29tcG9uZW50IGV4dGVuZHMgQmFzZUZvcm1Db21wb25lbnRcbntcbiAgICAvKipcbiAgICAgKiAgVmFsdWUgdG8gYmUgaW50ZXJwb2xhdGVkXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIF92YWx1ZTogc3RyaW5nID0gJyc7XG5cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY6IEVudmlyb25tZW50LCBwcml2YXRlIHNhbml0aXplcjogRG9tU2FuaXRpemVyLFxuICAgICAgICAgICAgICAgIEBTa2lwU2VsZigpIEBPcHRpb25hbCgpIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBCYXNlRm9ybUNvbXBvbmVudCkpXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIHBhcmVudENvbnRhaW5lcjogQmFzZUZvcm1Db21wb25lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYsIHBhcmVudENvbnRhaW5lcik7XG5cbiAgICB9XG5cblxuICAgIEBJbnB1dCgpXG4gICAgc2V0IHZhbHVlKHZhbHVlOiBhbnkpXG4gICAge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCB2YWx1ZSgpOiBhbnlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0SHRtbCh0aGlzLl92YWx1ZSk7XG4gICAgfVxufVxuXG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RW52aXJvbm1lbnQsIGlzU3RyaW5nTWFwfSBmcm9tICdAYXJpYmF1aS9jb3JlJztcblxuXG4vKipcbiAqIEEgY2xhc3MgaG9sZGluZyBhIHJlZmVyZW5jZXMgdG8gY29tcG9uZW50cy4gVGhlIG1ldGhvZHMgYXJlIHNlbGYtZXhwbGFuYXRvcnkuXG4gKlxuICovXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50UmVnaXN0cnlcbntcbiAgICBwcml2YXRlIF9uYW1lVG9UeXBlOiBNYXA8c3RyaW5nLCBhbnk+ID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZW52OiBFbnZpcm9ubWVudClcbiAgICB7XG4gICAgfVxuXG5cbiAgICBpbml0aWFsaXplKHJlZmVyZW5jZXM6IGFueSk6IFByb21pc2U8YW55PlxuICAgIHtcbiAgICAgICAgdGhpcy5yZWdpc3RlclR5cGVzKHJlZmVyZW5jZXMpO1xuICAgICAgICBsZXQgcHJvbWlzZTogUHJvbWlzZTxhbnk+ID0gbmV3IFByb21pc2UoKHJlc29sdmU6IGFueSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuXG4gICAgfVxuXG5cbiAgICByZWdpc3RlclR5cGUobmFtZTogc3RyaW5nLCB0eXBlOiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMubmFtZVRvVHlwZS5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX25hbWVUb1R5cGUuc2V0KG5hbWUsIHR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICByZWdpc3RlclR5cGVzKHJlZmVyZW5jZXM6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghaXNTdHJpbmdNYXAocmVmZXJlbmNlcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5rZXlzKHJlZmVyZW5jZXMpLmZvckVhY2goKG5hbWU6IHN0cmluZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclR5cGUobmFtZSwgcmVmZXJlbmNlc1tuYW1lXSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgZ2V0IG5hbWVUb1R5cGUoKTogTWFwPHN0cmluZywgYW55PlxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWVUb1R5cGU7XG4gICAgfVxufVxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7XG4gICAgQWZ0ZXJDb250ZW50SW5pdCxcbiAgICBBZnRlclZpZXdDaGVja2VkLFxuICAgIEFmdGVyVmlld0luaXQsXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgQ29tcG9uZW50LFxuICAgIENvbXBvbmVudEZhY3RvcnksXG4gICAgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLFxuICAgIENvbXBvbmVudFJlZixcbiAgICBEaXJlY3RpdmUsXG4gICAgSW5wdXQsXG4gICAgT25DaGFuZ2VzLFxuICAgIE9uRGVzdHJveSxcbiAgICBPbkluaXQsXG4gICAgU2ltcGxlQ2hhbmdlcyxcbiAgICBWaWV3Q29udGFpbmVyUmVmXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHthc3NlcnQsIGlzQmxhbmssIGlzUHJlc2VudCwgTWFwV3JhcHBlcn0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge1N0cmluZ0NvbXBvbmVudH0gZnJvbSAnLi4vd2lkZ2V0cy9zdHJpbmcvc3RyaW5nLmNvbXBvbmVudCc7XG5pbXBvcnQge0NvbXBvbmVudFJlZmVyZW5jZX0gZnJvbSAnLi9jb21wb25lbnQtcmVmZXJlbmNlJztcbmltcG9ydCB7Q29tcG9uZW50UmVnaXN0cnl9IGZyb20gJy4vY29tcG9uZW50LXJlZ2lzdHJ5LnNlcnZpY2UnO1xuXG4vKipcbiAqIHRoaXMgaXMgc3BlY2lmaWMgaW1wb3J0IHRvIHdlIGNhbiB1c2UgY29tcG9uZW50cyBhcyBjb21wb25lbnRzW3R5cGVuYW1lXSBhbmQgIGdldCBiYWNrIGFcbiAqIHR5cGUuXG4gKiBJIGNvdWxkIG5vdCBmaW5kIGFueSBiZXR0ZXIgZHluYW1pYyB3YXkgdXAgdG8gbm93XG4gKi9cbi8qKlxuICogIGBJbmNsdWRlQ29tcG9uZW50YCBkaXJlY3RpdmUgZHluYW1pY2FsbHkgaW5zdGFudGlhdGUgYW5kIGluc2VydCBhIGNvbXBvbmVudHMgaW50byB0aGUgc2NyZWVuXG4gKiBiYXNlZCBvbiB0aGUgbmFtZS4gSXQgY2FuIGFjY2VwdHMgYmluZGluZ3MgYXMgd2VsbCB3aGljaCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgYm91bmQgYW5kIGFwcGxpZWRcbiAqIHRvIHRoZSBjb21wb25lbnRcbiAqXG4gKiAgIyMjIHVzYWdlOlxuICpcbiAqICBJbnN0ZWFkIG9mIGluc2VydGluZyBjb21wb25lbnQgaW4gdGhlIHdheTpcbiAqXG4gKiAgYGBgXG4gKiAgICA8dGV4dGZpZWxkIHZhbHVlPVwic29tZSB2YWx1ZVwiPlxuICpcbiAqICBgYGBcbiAqXG4gKiAgeW91IGNhbiBkbyBzbyBkeW5hbWljYWxseSBsaWtlIHRoaXM6XG4gKlxuICogYGBgXG4gKiAgPGF3LWluY2x1ZGUtY29tcG9uZW50ICdUZXh0ZmllbGRDb21wb25lbnQnIFtiaW5kaW5nc109YmluZGluZ3MgPjwvYXctaW5jbHVkZS1jb21wb25lbnQ+XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGlzIHRoZSBtYWluIGJ1aWxkaW5nIGJsb2NrIHRvIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCBVSS5cbiAqXG4gKlxuICogVG9kbzogQ3VycmVudGx5IHRoZSB3YXkgQW5ndWxhciBBUEkgd29yayBhbmQgd2UgdXNlIGl0IHRvIGNyZWF0ZSBwcm9ncmFtYXRpY2FsbHkgY29tcG9uZW50c1xuICogaXMgdG9vIGNvbXBsZXh0IHdlIG5lZWQgdG8gY3JlYXRlIGV2ZXJ5dGhpbmcgMyBkaWZmZXJlbnQgY2FsbHMgdG8gcGxhY2UgYSBjb21wb25lbnQgdG8gdGhlXG4gKiBjb250YWluZXIuIFdoYXQgSSB3YW50IGlzIGlzIHRvIGNyZWF0ZSBzb21lIGtpbmQgb2YgcmVwcmVzZW50YXRpb24gb2YgQ29udGFpbmVyRWxlbWVudCBhbmQgdGhpc1xuICogY2FuIGJlIGFsc28gcGFyZW50IGZvciBvdXIgQmFzZUNvbXBvbmVudCB3aXRoIG1ldGhvZCBhZGQgYW5kIHJlbW92ZSBjb250ZW50LiBUaGVuIHdlIGNvdWxkIGhhdmVcbiAqIHNvbWUgQVdDb250ZW50LlxuICpcbiAqIGUuZy46IHRvIHJlcGxhY2UgYXBwbHlDb250ZW50RWxlbWVudElmQW55IHdoZXJlIHdlIGhhdmUgc2V2ZXJhbCBjYWxscyB0byBjcmVhdGUgYW5kIGFkZFxuICogY29tcG9uZW50IHRvIHRoZSB2aWV3LlxuICpcbiAqIGBgYHRzXG4gKiAgbGV0IGNvbnRhaW5lckVsZW1lbnQgPSBBV0NvbmNyZXRlVGVtcGxhdGUodmlld0NvbnRhaW5lciwgZmFjdG9yeVJlc29sdmVyKVxuICogIGNvbnRhaW5lckVsZW1lbnQuYWRkKCdDbGNrIE1lJylcbiAqIGBgYFxuICpcbiAqIFRvIGFzc2VtYmxlIGRpZmZlcmVudCBjb21wb25lbnRzIHRvZ2V0aGVyIC0gbm90IG9ubHkgYWRkaW5nIHN0cmluZyBjb250ZW50XG4gKlxuICogYGBgdHNcbiAqICBsZXQgY29udGVudCA9IG5ldyBBV0NvbnRlbnQoQnV0dG9uQ29tcG9uZW50LCBiaW5kaW5nc01hcClcbiAqICBjb250ZW50LmFkZCgnQ2xpY2sgTWUnKTtcbiAqICBjb250YWluZXJFbGVtZW50LmFkZChjb250ZW50KVxuICpcbiAqIGBgYFxuICpcbiAqIGFkZCBtb3JlIGNvbXBvbmVudCBoaWVyYXJjaHk6XG4gKlxuICogYGBgdHNcbiAqICBsZXQgY29udGVudCA9IG5ldyBBV0NvbnRlbnQoSG92ZXJDYXJkQ29tcG9ubmV0cywgYmluZGluZ3NNYXApXG4gKiAgY29udGVudC5hZGQoY3JlYXRlTGF5b3V0KCk7XG4gKiAgY29udGFpbmVyRWxlbWVudC5hZGQoY29udGVudClcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICpcbiAqXG4gKi9cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnYXctaW5jbHVkZS1jb21wb25lbnQnXG59KVxuZXhwb3J0IGNsYXNzIEluY2x1ZGVDb21wb25lbnREaXJlY3RpdmUgaW1wbGVtZW50cyBPbkRlc3Ryb3ksIE9uSW5pdCwgQWZ0ZXJWaWV3Q2hlY2tlZCxcbiAgICBPbkNoYW5nZXMsIEFmdGVyVmlld0luaXQsIEFmdGVyQ29udGVudEluaXRcbntcblxuICAgIHN0YXRpYyByZWFkb25seSBOZ0NvbnRlbnQgPSAnbmdjb250ZW50JztcbiAgICBzdGF0aWMgcmVhZG9ubHkgTmdDb250ZW50RWxlbWVudCA9ICduZ2NvbnRlbnRFbGVtZW50JztcblxuICAgIC8qKlxuICAgICAqIEZ1bGwgY29tcG9uZW50IG5hbWUgZS5nLjogRHJvcGRvd25Db21wb25lbnQgd2hpY2ggaXMgZ29pbmcgdG8gYmUgaW5zZXJ0ZWQuIFdlIG5lZWQgdG8gdGFrZVxuICAgICAqIHRoaXMgbmFtZSBhbmQgdHJhbnNsYXRlIGl0IGludG8gYWN0dWFsIFRZUEUuIEluIG9yZGVyIHRvIGRvIHRoaXMgd2UgdXNlIGEgdHJpY2sgd2hlcmUgd2VcbiAgICAgKiBhY2Nlc3MgYW4gSU1QT1JURUQgY29tcG9uZW50cy5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIGltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSAnLi4vY29tcG9uZW50cyc7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGVuIHlvdSBjYW4gcmV0cmlldmUgYSB0eXBlIGJ5IGp1c3QgY29tcG9uZW50c1s8U3RyaW5nIExpdGVyYWwgPl0gPT4gQ29tcG9uZW50IFRZUEVcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgcHJvdGVjdGVkIG5hbWU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIGJpbmRpbmdzIHdoaWNoIHdpbGwgYmUgcGFzc2VkIGludG8gdGhlIGNvbXBvbmVudCB3aGVuIGluc3RhbnRpYXRlZFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgcHJvdGVjdGVkIGJpbmRpbmdzOiBNYXA8c3RyaW5nLCBhbnk+O1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBjcmVhdGVkIGNvbXBvbmVudCByZWZlcmVuY2UgdXNpbmcgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLiBXZSB1c2UgdGhpcyB0byBhY2Nlc3NcbiAgICAgKiB0aGUgYWN0dWFsIGNvbXBvbmVudCBpbnN0YW5jZSBhbmQgRWxlbWVudCBSZWZlcmVuY2VcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY3VycmVudENvbXBvbmVudDogQ29tcG9uZW50UmVmPGFueT47XG5cbiAgICAvKipcbiAgICAgKiBJIHVzZSB0aGlzIGZsYWcgdG8gaWRlbnRpZnkgdGhhdCBjb21wb25lbnQgaXMgcmVuZGVyaW5nIGZvciBmaXJzdCB0aW1lIG9yIGl0cyB1cGRhdGVkIGR1cmluZ1xuICAgICAqIGNoYW5nZSBkZXRlY3Rpb25cbiAgICAgKlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbml0UmVuZGVySW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogTm90IHN1cmUgaWYgd2UgbmVlZCB0aGlzLCBidXQgd2FudCB0byBrZWVwIGl0IGhlcmUgb3IgbWF5YmUgbW92ZSBpdCB0byBzb21lIHNlcnZpY2Ugc28gd2VcbiAgICAgKiBjYW4gY2FjaGUgY3JlYXRlZCBjb21wb25lbnRzIGFuZCBtYXliZSByZXVzZSB0aGVtLlxuICAgICAqXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNvbXBvbmVudFJlZmVyZW5jZXM6IE1hcDxzdHJpbmcsIENvbXBvbmVudFJlZmVyZW5jZT4gPVxuICAgICAgICBuZXcgTWFwPHN0cmluZywgQ29tcG9uZW50UmVmZXJlbmNlPigpO1xuXG5cbiAgICAvKipcbiAgICAgKiBOZWVkIHRvIGNhY2hlIHRoZSByZXNvbHZlZCBjb21wb25lbnQgcmVmZXJlbmNlIHNvIHdlIGRvbnQgY2FsbCBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXJcbiAgICAgKiBldmVyeXRoaW5nIHdlIHdhbnQgdG8gcmVmcmVzaCBhIHNjcmVlblxuICAgICAqL1xuICAgIHJlc29sdmVkQ29tcG9uZW50UmVmOiBDb21wb25lbnRSZWZlcmVuY2U7XG5cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB2aWV3Q29udGFpbmVyOiBWaWV3Q29udGFpbmVyUmVmLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBmYWN0b3J5UmVzb2x2ZXI6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgICAgICAgICAgICAgICBwdWJsaWMgY2Q6IENoYW5nZURldGVjdG9yUmVmLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBjb21wUmVnaXN0cnk6IENvbXBvbmVudFJlZ2lzdHJ5KVxuICAgIHtcblxuICAgICAgICB0aGlzLmJpbmRpbmdzID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpOiB2b2lkXG4gICAge1xuXG4gICAgICAgIHRoaXMuaW5pdFJlbmRlckluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAvLyB0b2RvOiBjaGVjayBpZiB0aGlzIHRoZSByaWdodCBsaWZlY3ljbGUgY2FsbGJhY2ssIHRoaXMgaXMgY2FsbGVkIG9ubHkgb25jZSBhbmQgeW91IHdhbnRcbiAgICAgICAgLy8gdG8gcHJvYmFibHkgbGlzdGVuIGZvciBjaGFuZ2VzLCBhbmQgY2hhbmdlIGRlY3Rpb24gZGVjaWRlIHRoZXJlIGlzIHNvbWUgY2hhbmdlIGFuZCB3ZVxuICAgICAgICAvLyBuZWVkIHRvIHJlLWRyYXcgdGhlIHZpZXdcbiAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuZG9SZW5kZXJDb21wb25lbnQoKTtcbiAgICB9XG5cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaXNQcmVzZW50KGNoYW5nZXNbJ25hbWUnXSkgJiZcbiAgICAgICAgICAgIChjaGFuZ2VzWyduYW1lJ10uY3VycmVudFZhbHVlICE9PSBjaGFuZ2VzWyduYW1lJ10ucHJldmlvdXNWYWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbnRhaW5lci5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5kb1JlbmRlckNvbXBvbmVudCgpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBuZ0FmdGVyVmlld0NoZWNrZWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5pbml0UmVuZGVySW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cblxuXG4gICAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIGNoZWNrIHRvIHNlZSBpZiB3ZSBuZWVkIHRvIHJlbmRlciBhbmQgcmVwb3NpdGlvbiBET00gZWxlbWVudCBib3RoIGZvciB3cmFwcGVyIGFuZFxuICAgICAgICAvLyBjb250ZW50XG4gICAgICAgIHRoaXMuY3JlYXRlV3JhcHBlckVsZW1lbnRJZkFueSgpO1xuICAgICAgICB0aGlzLmNyZWF0ZUNvbnRlbnRFbGVtZW50SWZBbnkoKTtcbiAgICB9XG5cblxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpOiB2b2lkXG4gICAge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBjYXNlIHdoZXJlIHdlIG5lZWQgdG8gcmVzb2x2ZSBhZGRpdGlvbmFsIGNvbXBvbmVudCBhbmQgd3JhcCB0aGUgY3VycmVudCBvbmUuXG4gICAgICogSnVzdCBsaWtlIHJlYXRlQ29udGVudEVsZW1lbnRJZkFueSgpIHRoaXMgbWV0aG9kIG5lZWRzIHRvIGJlIGV4ZWN1dGVkIGFmdGVyIGFsbFxuICAgICAqIGlzIGNyZWF0ZWQgYW5kIGluaXRpYWxpemVkIChpbnNpZGUgdGhlIG5nQWZ0ZXJWaWV3SW5pdCgpIClcbiAgICAgKlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjcmVhdGVXcmFwcGVyRWxlbWVudElmQW55KCk6IHZvaWRcbiAgICB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIGNvbXBvbmVudCBpbnRvIGFjdHVhbCBWaWV3IENvbnRhaW5lci4gVGhlIHByb2Nlc3MgZ29lcyBhcyB0aGlzLlxuICAgICAqICAxLiBXZSByZXRyaWV2ZSBjb21wb25lbnQgVHlwZSBiYXNlZCBvbiB0aGUgY29tcG9uZW50IG5hbWUsIHdoaWNoIGNyZWF0ZXMgY29tcG9uZW50UmVmXG4gICAgICogIDIuIFBsYWNlIHRoZSBjb21wb25lbnQgb250byB0aGUgc2NyZWVuXG4gICAgICogIDMuIFJlYWQgY29tcG9uZW50IG1ldGFkYXRhLCBtYWlubHkgSU5QVVRzIGFuZCBhcHBseSBiaW5kaW5ncyBmb3IgZWFjaCBvZiB0aGVtXG4gICAgICogIDQuIE1hbnVhbGx5IHNwaW4gY2hhbmdlIGRldGVjdGlvbiB0byB1cGRhdGUgdGhlIHNjcmVlbi4gTWFpbmx5IGZvciBjYXNlIHdoZXJlIEkgbmVlZCB0b1xuICAgICAqIHJlZHJhdyBhIHNjcmVlblxuICAgICAqL1xuICAgIHByb3RlY3RlZCBkb1JlbmRlckNvbXBvbmVudCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnBsYWNlVGhlQ29tcG9uZW50KCk7XG4gICAgICAgIC8vIHRoaXMuY3VycmVudENvbXBvbmVudC5jaGFuZ2VEZXRlY3RvclJlZi5kZXRhY2goKTtcblxuICAgICAgICB0aGlzLmFwcGx5QmluZGluZ3ModGhpcy5jb21wb25lbnRSZWZlcmVuY2UoKSwgdGhpcy5jdXJyZW50Q29tcG9uZW50LCB0aGlzLmJpbmRpbmdzKTtcbiAgICAgICAgLy8gdGhpcy5jdXJyZW50Q29tcG9uZW50LmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcblxuICAgICAgICAvLyBTdGlsbCBub3Qgc3VyZSBhYm91dCB0aGlzIHdoYXQgYWxsIEkgc2hvdWxkIHJlbGVhc2UgaGVyZS5cbiAgICAgICAgdGhpcy5jdXJyZW50Q29tcG9uZW50Lm9uRGVzdHJveSgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGlzLmJpbmRpbmdzLmNsZWFyKCk7XG4gICAgICAgICAgICAvLyB0aGlzLmJpbmRpbmdzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIHRoaXMuY29tcG9uZW50UmVmZXJlbmNlcy5jbGVhcigpO1xuICAgICAgICAgICAgLy8gdGhpcy5jb21wb25lbnRSZWZlcmVuY2VzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBQbGFjZSBhY3R1YWwgY29tcG9uZW50IG9udG8gdGhlIHNjcmVlbiB1c2luZyBWaWV3Q29udGFpbmVyUmVmXG4gICAgICpcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgcGxhY2VUaGVDb21wb25lbnQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IHJlZmVyZW5jZSA9IHRoaXMuY29tcG9uZW50UmVmZXJlbmNlKCk7XG4gICAgICAgIHRoaXMuY3VycmVudENvbXBvbmVudCA9IHRoaXMudmlld0NvbnRhaW5lci5jcmVhdGVDb21wb25lbnQocmVmZXJlbmNlLnJlc29sdmVkQ29tcEZhY3RvcnkpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogV2hlbiBpbnNlcnRpbmcgQ29tcG9uZW50IHRoYXQgbmVlZHMgdG8gaGF2ZSBhIGNvbnRlbnQgbGlrZSBlLmcuIGh5cGVybGluayBvciBidXR0b25cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqICAgPGJ1dHRvbj4gTVkgTkcgQ09OVEVOVCA8L2J1dHRvbj5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqICB0aGlzIG1ldGhvZCBhcHBsaWVzIGFuZCBpbnNlcnQgYSBjaGlsZCBjb250ZW50IGludG8gdGhlIG1haW4gY29tcG9uZW50LiBUaGlzIG1ldGhvZCBpbnNlcnRcbiAgICAgKiBhIHNpbXBsZSBzdHJpbmcuIFdlIGFyZSBub3Qgd3JhcHBpbmcgZXhpc3RpbmcgY29tcG9uZW50IHdpdGggYW5vdGhlciBjb21wb25lbnQgaGVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gbmVlZCB0byBydW4gZGV0ZWN0IGNoYW5nZXMgPyBkZWZhdWx0IGlzIGZhbHNlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUNvbnRlbnRFbGVtZW50SWZBbnkoKTogYm9vbGVhblxuICAgIHtcblxuICAgICAgICBsZXQgZGV0ZWN0Q2hhbmdlcyA9IGZhbHNlO1xuICAgICAgICBsZXQgbmdDb250ZW50ID0gdGhpcy5uZ0NvbnRlbnQoKTtcbiAgICAgICAgbGV0IG5nQ29udGVudEVsZW1lbnQgPSB0aGlzLm5nQ29udGVudEVsZW1lbnQoKTtcbiAgICAgICAgaWYgKGlzUHJlc2VudChuZ0NvbnRlbnQpKSB7XG4gICAgICAgICAgICBsZXQgYXdDb250ZW50Q29tcG9uZW50ID0gdGhpcy5mYWN0b3J5UmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoU3RyaW5nQ29tcG9uZW50KTtcbiAgICAgICAgICAgIGxldCBjb21wb25lbnQgPSB0aGlzLnZpZXdDb250YWluZXIuY3JlYXRlQ29tcG9uZW50KGF3Q29udGVudENvbXBvbmVudCwgMCk7XG5cbiAgICAgICAgICAgICg8U3RyaW5nQ29tcG9uZW50PmNvbXBvbmVudC5pbnN0YW5jZSkudmFsdWUgPSBuZ0NvbnRlbnQ7XG4gICAgICAgICAgICBsZXQgYXdDb250ZW50Q29udGFpbmVyID0gdGhpcy5jdXJyZW50Q29tcG9uZW50LmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIGF3Q29udGVudENvbnRhaW5lci5hcHBlbmRDaGlsZChjb21wb25lbnQubG9jYXRpb24ubmF0aXZlRWxlbWVudCk7XG5cbiAgICAgICAgICAgIGRldGVjdENoYW5nZXMgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGlzUHJlc2VudChuZ0NvbnRlbnRFbGVtZW50KSkge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NvbnRlbnQgRWxlbWVudDogJywgbmdDb250ZW50RWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGV0ZWN0Q2hhbmdlcztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogUmV0cmlldmUgYSBORyBDb250ZW50IGZyb20gYmluZGluZyBsaXN0IGFuZCByZW1vdmUgaXQgc28gaXQgaXRzIG5vdCBwcmVwYWdhdGVkIGRvd24gd2hlblxuICAgICAqIGFwcGx5aW5nIG90aGVyIGJpbmRpbmdzLlxuICAgICAqXG4gICAgICovXG4gICAgcHJvdGVjdGVkIG5nQ29udGVudCgpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGxldCBjb250ZW50OiBhbnk7XG4gICAgICAgIGlmIChpc1ByZXNlbnQoY29udGVudCA9IHRoaXMuYmluZGluZ3MuZ2V0KEluY2x1ZGVDb21wb25lbnREaXJlY3RpdmUuTmdDb250ZW50KSkpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ3MuZGVsZXRlKEluY2x1ZGVDb21wb25lbnREaXJlY3RpdmUuTmdDb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG5cblxuICAgIHByb3RlY3RlZCBuZ0NvbnRlbnRFbGVtZW50KCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgbGV0IGNvbnRlbnQ6IGFueTtcbiAgICAgICAgaWYgKGlzUHJlc2VudChjb250ZW50ID0gdGhpcy5iaW5kaW5ncy5nZXQoSW5jbHVkZUNvbXBvbmVudERpcmVjdGl2ZS5OZ0NvbnRlbnRFbGVtZW50KSkpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ3MuZGVsZXRlKEluY2x1ZGVDb21wb25lbnREaXJlY3RpdmUuTmdDb250ZW50RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2UgbmVlZCB0byBjb252ZXJ0IGEgY29tcG9uZW50IG5hbWUgdG8gYWN0dWFsIGEgdHlwZSBhbmQgdGhlbiB1c2UgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyXG4gICAgICogdG8gaW5zdGFudGlhdGUgYSBhIGNvbXBvbmVudCBhbmQgc2F2ZSBpdHMgaW5mb3JtYXRpb24gaW50byBvdXIgY29tcG9uZW50IHJlZmVyZW5jZXMuIFRoZVxuICAgICAqIHJlYXNvbiB3aHkgd2UgaGF2ZSB0aGlzIGNvbXBvbmVudCByZWZlcmVuY2UgaXMgd2UgbmVlZCB0byBzdG9yZSBBbmd1bGFyJ3MgY29tcG9uZW50IG1ldGFkYXRhXG4gICAgICogc28gd2UgY2FuIGl0ZXJhdGUgdGhydSBhbGwgdGhlIGlucHV0cyBhbmQgYmluZCB0aGVtIHRvIHRoZSBjb250ZXh0LlxuICAgICAqXG4gICAgICogcmV0dXJucyB7Q29tcG9uZW50UmVmZXJlbmNlfSBhIHJlZmVyZW5jZSByZXByZXNlbnRpbmcgYSBjb21wb2VudCBjdXJyZW50bHkgYmVpbmcgcmVuZGVyZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY29tcG9uZW50UmVmZXJlbmNlKCk6IENvbXBvbmVudFJlZmVyZW5jZVxuICAgIHtcbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLnJlc29sdmVkQ29tcG9uZW50UmVmKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZWRDb21wb25lbnRSZWY7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN1cnJUeXBlID0gdGhpcy5yZXNvbHZlQ29tcG9uZW50VHlwZSgpO1xuICAgICAgICBsZXQgY29tcG9uZW50RmFjdG9yeTogQ29tcG9uZW50RmFjdG9yeTxhbnk+ID0gdGhpcy5mYWN0b3J5UmVzb2x2ZXJcbiAgICAgICAgICAgIC5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjdXJyVHlwZSk7XG5cbiAgICAgICAgbGV0IGNvbXBvbmVudE1ldGE6IENvbXBvbmVudCA9IHRoaXMucmVzb2x2ZURpcmVjdGl2ZShjb21wb25lbnRGYWN0b3J5KTtcbiAgICAgICAgbGV0IGNvbXBSZWZlcmVuY2U6IENvbXBvbmVudFJlZmVyZW5jZSA9IHtcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjb21wb25lbnRNZXRhLFxuICAgICAgICAgICAgcmVzb2x2ZWRDb21wRmFjdG9yeTogY29tcG9uZW50RmFjdG9yeSxcbiAgICAgICAgICAgIGNvbXBvbmVudFR5cGU6IGN1cnJUeXBlLFxuICAgICAgICAgICAgY29tcG9uZW50TmFtZTogdGhpcy5uYW1lXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5yZXNvbHZlZENvbXBvbmVudFJlZiA9IGNvbXBSZWZlcmVuY2U7XG4gICAgICAgIHJldHVybiBjb21wUmVmZXJlbmNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIHRocnUgQ29tcG9uZW50TWV0YWRhdGEgQElucHV0cygpIGFuZCBjaGVjayBpZiB3ZSBoYXZlIGF2YWlsYWJsZSBiaW5kaW5nIGluc2lkZSB0aGVcbiAgICAgKiAndGhpcy5iaW5kaW5ncydcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXBwbHlCaW5kaW5ncyhjUmVmOiBDb21wb25lbnRSZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBDb21wb25lbnRSZWY8YW55PixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5kaW5nczogTWFwPHN0cmluZywgYW55Pik6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBpbnB1dHM6IHN0cmluZ1tdID0gY1JlZi5tZXRhZGF0YS5pbnB1dHM7XG5cbiAgICAgICAgaWYgKGlzQmxhbmsoaW5wdXRzKSB8fCBpbnB1dHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2hvdWxkIHdlIGRvIGFueSB0eXBlIGNvbnZlcnNpb24/XG4gICAgICAgIE1hcFdyYXBwZXIuaXRlcmFibGUoYmluZGluZ3MpLmZvckVhY2goKHYsIGspID0+XG4gICAgICAgIHtcblxuICAgICAgICAgICAgaWYgKGlzUHJlc2VudChjb21wb25lbnQuaW5zdGFuY2Vba10pKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50Lmluc3RhbmNlW2tdID0gdjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyBhIGNvbXBvbmVudCBUeXBlIGJhc2VkIG9uIHRoZSBzdHJpbmcgbGl0ZXJhbFxuICAgICAqXG4gICAgICogQHJldHVybnMgY29tcG9uZW50IHR5cGUgdXNlZCBieSBgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyYFxuICAgICAqXG4gICAgICogdG9kbzogcmVuYW1lIHRoZSBtZXRob2Qgc28gaXRzIGNsZWFyIHRoYXQgaXQgcmV0dXJucyBjb21wb25lbnQgdHlwZSBiYXNlZCBvbiBzdHJpbmcuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHJlc29sdmVDb21wb25lbnRUeXBlKCk6IGFueVxuICAgIHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFR5cGUgPSB0aGlzLmNvbXBSZWdpc3RyeS5uYW1lVG9UeXBlLmdldCh0aGlzLm5hbWUpO1xuXG4gICAgICAgIGlmIChpc0JsYW5rKGNvbXBvbmVudFR5cGUpKSB7XG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UsIHRoaXMubmFtZSArICcgY29tcG9uZW50IGRvZXMgbm90IGV4aXN0cy4gQ3JlYXRlIER1bW15IENvbXBvbmVudCBpbnN0ZWFkJyArXG4gICAgICAgICAgICAgICAgJyBvZiB0aHJvd2luZyB0aGlzIGVycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFR5cGU7XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgcmVzb2x2ZURpcmVjdGl2ZShjb21wRmFjdG9yeTogQ29tcG9uZW50RmFjdG9yeTxhbnk+KTogQ29tcG9uZW50XG4gICAge1xuICAgICAgICBsZXQgY29tcE1ldGE6IENvbXBvbmVudCA9IHtcbiAgICAgICAgICAgIGlucHV0czogW10sXG4gICAgICAgICAgICBvdXRwdXRzOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpc1ByZXNlbnQoY29tcEZhY3RvcnkuaW5wdXRzKSAmJiBjb21wRmFjdG9yeS5pbnB1dHMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICBjb21wRmFjdG9yeS5pbnB1dHMuZm9yRWFjaCgoaW5wdXQ6IHtwcm9wTmFtZTogc3RyaW5nLCB0ZW1wbGF0ZU5hbWU6IHN0cmluZ30pID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tcE1ldGEuaW5wdXRzLnB1c2goaW5wdXQucHJvcE5hbWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNQcmVzZW50KGNvbXBGYWN0b3J5Lm91dHB1dHMpICYmIGNvbXBGYWN0b3J5Lm91dHB1dHMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICBjb21wRmFjdG9yeS5vdXRwdXRzLmZvckVhY2goKG91dHB1dDoge3Byb3BOYW1lOiBzdHJpbmcsIHRlbXBsYXRlTmFtZTogc3RyaW5nfSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21wTWV0YS5vdXRwdXRzLnB1c2gob3V0cHV0LnByb3BOYW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wTWV0YTtcbiAgICB9XG5cblxuICAgIG5nT25EZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5jdXJyZW50Q29tcG9uZW50KSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29tcG9uZW50LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy52aWV3Q29udGFpbmVyKSkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyLmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHByaXZhdGUgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuY3VycmVudENvbXBvbmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbXBvbmVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVkQ29tcG9uZW50UmVmID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7U3RyaW5nV3JhcHBlcn0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5cbi8qKlxuICogRXJyb3IgTWFuYWdlciBpcyBhIHNlcnZpY2UgdXNlZCBieSBGb3JtcyBjb21wb25lbnRzIHRvIG1hcCBlcnJvciBjb2RlcyBpbnRvIG1lYW5pbmdmdWwgbWVzc2FnZXMuXG4gKiBDdXJyZW50bHkgaXQgZG9lcyBub3QgaGF2ZSBtdWNoIGJ1dCBvbmNlIHdlIHBsdWcgaW4gbG9jYWxpemF0aW9uIGl0IHdpbGwgbWFrZSBtb3JlIHNlbnNlXG4gKlxuICpcbiAqIHRvZG86IE9uY2UgbmctdHJhbnNsYXRlIGlzIGltcGxlbWVudGVkIHJlcGxhY2UgdGhpcyB3aXRoIG5nLXRyYW5zbGF0ZSBmdW5jdGlvbmFsaXR5IHNvIHdlIGNhblxuICogZXh0ZXJuYWxpemUgdGhlc2UgbWVzc2FnZXMgaW50byBsb2NhbGUgZmlsZXMuXG4gKlxuICovXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRXJyb3JNYW5hZ2VyU2VydmljZVxue1xuICAgIG1lc3NhZ2VzOiB7W2tleTogc3RyaW5nXTogYW55fTtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMubWVzc2FnZXMgPSB7XG4gICAgICAgICAgICAncmVxdWlyZWQnOiAnUmVxdWlyZWQgZmllbGQnLFxuICAgICAgICAgICAgJ21pbmxlbmd0aCc6ICdGaWVsZCBkb2VzIG5vdCBtZWV0IG1pbmltdW0gbGVuZ3RoJyxcbiAgICAgICAgICAgICdtYXhsZW5ndGgnOiAnRmllbGQgZG9lcyBub3QgbWVldCBtYXhpbXVtIGxlbmd0aCcsXG4gICAgICAgICAgICAnY3VzdG9tTXNnJzogJyVzJyxcbiAgICAgICAgICAgICdtZXRhdmFsaWQnOiAnJXMnXG4gICAgICAgIH07XG4gICAgfVxuXG5cbiAgICBlcnJvck1lc3NhZ2UodmFsaWRhdG9yTmFtZTogc3RyaW5nLCB2YWxpZGF0b3JWYWx1ZT86IGFueSlcbiAgICB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gdGhpcy5tZXNzYWdlc1t2YWxpZGF0b3JOYW1lXTtcbiAgICAgICAgaWYgKFN0cmluZ1dyYXBwZXIuY29udGFpbnMobWVzc2FnZSwgJyVzJykpIHtcbiAgICAgICAgICAgIC8vIHRvZG86IHVzZSBuZy10cmFuc2xhdGUgd2l0aCBwcm9wZXIgbWVzc2FnZSBmb3JtYXR0aW5nXG5cbiAgICAgICAgICAgIHJldHVybiBTdHJpbmdXcmFwcGVyLnJlcGxhY2UobWVzc2FnZSwgJyVzJywgdmFsaWRhdG9yVmFsdWUubXNnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnQsIElucHV0LCBPbkluaXR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtGb3JtQ29udHJvbH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtpc1ByZXNlbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtFcnJvck1hbmFnZXJTZXJ2aWNlfSBmcm9tICcuLi8uLi9jb3JlL2Vycm9yLW1hbmFnZXIuc2VydmljZSc7XG5cbi8qKlxuICogRXJyb3JNZXNzYWdlc0NvbXBvbmVudCBpcyB1c2VkIGJ5IGZvcm0ncyBjb21wb25lbnQgbGlrZSBGb3JtUm93IHRvIHByaW50IGl0cyB2YWxpZGF0aW9uIGVycm9ycy5cbiAqIEl0cyAgYmFzZWQgb24gTW9kZWxEcml2ZW4gKFJlYWN0aXZlIGZvcm1zKSBhbmQgaXQgcmVhZHMgZXJyb3JzIGZyb20gRm9ybUNvbnRyb2xcbiAqXG4gKlxuICpcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhLWVycm9yLW1lc3NhZ2VzJyxcbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVpLWdcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNtYWxsICpuZ0lmPVwiaGFzTWVzc2FnZSgpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidWktZy0xMiB1aS1tZXNzYWdlIHVpLW1lc3NhZ2VzLWVycm9yIHVpLWNvcm5lci1hbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt7IGVycm9yTXNnIH19XG4gICAgICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICBgLFxuICAgIHN0eWxlVXJsczogWydlcnJvci1tZXNzYWdlcy5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIEVycm9yTWVzc2FnZXNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXRcbntcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgZm9ybSBGb3JtQ29udHJvbGwgdG8gY2hlY2sgZm9yIEVycm9yc1xuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgY29udHJvbDogRm9ybUNvbnRyb2w7XG5cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZXJyTWFuYWdlcjogRXJyb3JNYW5hZ2VyU2VydmljZSlcbiAgICB7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKVxuICAgIHtcblxuICAgIH1cblxuXG4gICAgaGFzTWVzc2FnZSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgbXNnID0gdGhpcy5lcnJvck1zZztcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudChtc2cpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIGEgbWVzc2FnZXMgaWYgYW55IHJlZ2lzdGVyZWQgYnkgYWRkZWQgdmFsaWRhdG9yc1xuICAgICAqXG4gICAgICovXG4gICAgZ2V0IGVycm9yTXNnKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHlOYW1lIGluIHRoaXMuY29udHJvbC5lcnJvcnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2wuZXJyb3JzLmhhc093blByb3BlcnR5KHByb3BlcnR5TmFtZSkgJiYgdGhpcy5jb250cm9sLnRvdWNoZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJNYW5hZ2VyLmVycm9yTWVzc2FnZShwcm9wZXJ0eU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbC5lcnJvcnNbcHJvcGVydHlOYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFNob3cgZXJyb3JzPyBXZSBjdXJyZW50bHkgc2hvd3MgZXJyb3JzIGlmIHRoZSBjb250cm9sIGlzIG5vdCB2YWxpZCwgaXQgd2FzIHRvdWNoZWQgYnkgdXNlci5cbiAgICAgKiBNb3N0IG9mIHRoZSB0eXBlIG9uIGJsdXIgZXZlbnQgIGFuZCBhdCBsYXN0IGl0cyBub3QgcHJpc3RpbmUgYW55bW9yZSAoaXRzIGRpcnR5KVxuICAgICAqXG4gICAgICovXG4gICAgc2hvd0Vycm9ycygpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gIXRoaXMuY29udHJvbC52YWxpZCAmJiAhdGhpcy5jb250cm9sLnByaXN0aW5lICYmIHRoaXMuY29udHJvbC50b3VjaGVkO1xuICAgIH1cblxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge1xuICAgIENvbXBvbmVudEZhY3RvcnksXG4gICAgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLFxuICAgIENvbXBvbmVudFJlZixcbiAgICBJbmplY3RhYmxlLFxuICAgIFR5cGUsXG4gICAgVmlld0NvbnRhaW5lclJlZlxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuLyoqXG4gKiBNb2RhbCBzZXJ2aWNlIGlzIHVzZWQgdG8gdG8gY3JlYXRlIG1vZGFsIGRpYWxvZ3MuIEl0IGNyZWF0ZXMgbW9kYWwgZGlhbG9ncyBkeW5hbWljYWxseS5cbiAqIFRoZSBzZXJ2aWNlIGFsc28ga2VlcHMgdHJhY2sgb2YgdGhlIGNyZWF0ZWQgbW9kYWwgZGlhbG9nIGFuZCBjYW4gY2xvc2UgaXQgYnkgY2FsbGluZyB0aGVcbiAqIHNlcnZpY2UncyBjbG9zZSgpXG4gKlxuICogTW9kYWwgc2VydmljZSByZXF1aXJlcyBhIFZpZXdDb250YWluZXIgdG8gaW5zZXJ0IG5ld2x5IGNyZWF0ZWQgbW9kYWxzLiBUaGlzIGlzIHRha2VuIGNhcmVcbiAqIGJ5IHRoZSBNb2RhbENvbXBvbmVudC5cbiAqXG4gKiBVc2FnZTpcbiAqICAgICBBZGQgICA8YXctbW9kYWw+PC9hdy1tb2RhbD4gIGludG8geW91ciBhcHBsaWNhdGlvbiBtYWluIGh0bWwuIEl0IG5lZWRzIHRvIGJlIG9uIGV2ZXJ5XG4gKiAgICAgcGFnZSB3aGVyZSBhIG1vZGFsIGRpYWxvZyB3aWxsIGFwcGVhci5cbiAqXG4gKiAgICAxLiAgUG9wdXAgYSBkaWFsb2cgd2l0aG91dCBjcmVhdGluZyB5b3VyIG93biBjb21wb25lbnQuXG4gKiAgICAgICAgVXNlIHRoZSBleGlzdGluZyBEaWFsb2dDb21wb25lbnQgaW4gd2lkZ2V0cy5cbiAqXG4gKiAgICAgICAgICAgICB0aGlzLm1vZGFsU2VydmljZS5vcGVuPERpYWxvZ0NvbXBvbmVudD4oRGlhbG9nQ29tcG9uZW50LCB7XG4gKiAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTXkgUG9wdXAgVGl0bGUnLFxuICogICAgICAgICAgICAgICAgICAgICBib2R5OiAnTXkgUG9wdXAgQm9keSdcbiAqICAgICAgICAgICAgICB9KTtcbiAqXG4gKlxuICogICAyLiAgIENyZWF0aW5nIHlvdXIgb3duIERpYWxvZyBDb21wb25lbnQgdG8gcG9wdXAuXG4gKlxuICogICAgICAgICBsZXQgY29tcG9uZW50UmVmID0gdGhpcy5tb2RhbFNlcnZpY2Uub3BlbjxNeURpYWxvZ0NvbXBvbmVudD4oTXlEaWFsb2dDb21wb25lbnQsXG4gKiB7aW5wdXRzfSk7XG4gKlxuICogICAgICAgICAgQENvbXBvbmVudCh7XG4gKiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2F3LW15ZGlhbG9nJyAsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGF3LWRpYWxvZyAob25DbG9zZSk9XCJjbG9zZVBvcHVwKClcIj5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjdGl0bGVUZW1wbGF0ZT5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjxpIGNsYXNzPVwiZmEgZmEtZW52aXJhXCIgPjwvaT5UaGlzIGlzIG15XG4gKiAgICAgVGl0bGUgPC9zcGFuPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjYm9keVRlbXBsYXRlPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PGkgY2xhc3M9XCJmYSBmYS1lbnZpcmFcIiA+PC9pPlRoaXMgaXMgbXlcbiAqICAgICBCb2R5IDwvc3Bhbj5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2F3LWRpYWxvZz5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcbiAqICAgICAgICAgfSlcbiAqICAgICAgICAgZXhwb3J0IGNsYXNzIE15RGlhbG9nQ29tcG9uZW50IGV4dGVuZHMgRGlhbG9nQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAqICAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBtb2RhbFNlcnZpY2U6IE1vZGFsU2VydmljZSkge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgIHN1cGVyKCk7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgfVxuICogICAgICAgICAgICAgICAgICAgICBuZ09uSW5pdCgpIHsgfVxuICpcbiAqICAgICAgICAgICAgICAgICAgICAgY2xvc2VQb3B1cCgpIHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kYWxTZXJ2aWNlLmNsb3NlKCk7XG4gKiAgICAgICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgIH1cbiAqL1xuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE1vZGFsU2VydmljZVxue1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYSBzdGF0aWMgbGlzdCBvZiBvdXRwdXQgcGFyYW1ldGVyIGZyb20gRGlhbG9nLCBDb25maXJtYXRpb24gY29tcG9uZW50c1xuICAgICAqIHRoYXQgbmVlZHMgdG8gYmUgaGFuZGxlZC5cbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIE9VVFBVVF9QQVJBTUVURVJTOiBzdHJpbmdbXSA9IFsnb25DbG9zZScsICdvbkNvbmZpcm0nLCAnb25DYW5jZWwnXTtcblxuXG4gICAgLyoqXG4gICAgICogQ29udGFpbmVyIGZvciB0aGUgbmV3bHkgY3JlYXRlZCBtb2RhbC4gVGhpcyBpcyBwYXNzZWQgaW4gdGhyb3VnaCB0aGVcbiAgICAgKiByZWdpc3RlclZpZXdDb250YWluZXJSZWYoKS5cbiAgICAgKi9cbiAgICBwcml2YXRlIHZjUmVmOiBWaWV3Q29udGFpbmVyUmVmO1xuXG4gICAgLyoqXG4gICAgICogU3RvcmluZyB0aGUgY3JlYXRlZCBtb2RhbCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBwcml2YXRlIGluc3RhbmNlOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBESSBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgdG8gYmUgdXNlZCB0byBjcmVhdGUgbW9kYWwgY29tcG9uZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNmclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY2ZyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpXG4gICAge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBQbGFjZUhvbGRlciBmb3IgbW9kYWwgdG8gYmUgaW5zZXJ0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmNSZWZcbiAgICAgKi9cbiAgICByZWdpc3RlclZpZXdDb250YWluZXJSZWYodmNSZWY6IFZpZXdDb250YWluZXJSZWYpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnZjUmVmID0gdmNSZWY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbnMgdGhlIG1vZGFsIGRpYWxvZyBieSBkeW5hbWljYWxseSBjcmVhdGluZyB0aGUgY29tcG9uZW50IGFuZCBhZGRpbmcgaXQgdG8gdmNSZWYuXG4gICAgICpcbiAgICAgKi9cbiAgICBvcGVuPFQ+KGNvbXBvbmVudDogVHlwZTxUPiwgcGFyYW1ldGVycz86IGFueSk6IENvbXBvbmVudFJlZjxUPlxuICAgIHtcbiAgICAgICAgY29uc3QgY2Y6IENvbXBvbmVudEZhY3Rvcnk8VD4gPSB0aGlzLmNmci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnQpO1xuICAgICAgICBsZXQgY29tcG9uZW50UmVmOiBDb21wb25lbnRSZWY8VD4gPSB0aGlzLnZjUmVmLmNyZWF0ZUNvbXBvbmVudChjZik7XG5cbiAgICAgICAgLy8gQXV0byBzZXQgdmlzaWJsaXR5IHRvIHRydWUuIFNvIHRoYXQgdGhlIERpYWxvZyB3aWxsIGRpc3BsYXlcbiAgICAgICAgcGFyYW1ldGVycyA9IChwYXJhbWV0ZXJzKSA/IHBhcmFtZXRlcnMgOiB7fTtcbiAgICAgICAgcGFyYW1ldGVyc1sndmlzaWJsZSddID0gdHJ1ZTtcblxuICAgICAgICAvLyBIYW5kbGUgb3V0cHV0IHBhcmFtZXRlcnMuXG4gICAgICAgIE1vZGFsU2VydmljZS5PVVRQVVRfUEFSQU1FVEVSUy5mb3JFYWNoKChwYXJhbSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBhcmFtZXRlcnNbcGFyYW1dKSB7XG4gICAgICAgICAgICAgICAgKDxhbnk+Y29tcG9uZW50UmVmLmluc3RhbmNlKVtwYXJhbV0uc3Vic2NyaWJlKHBhcmFtZXRlcnNbcGFyYW1dKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1ldGVyc1twYXJhbV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdC5hc3NpZ24oY29tcG9uZW50UmVmLmluc3RhbmNlLCBwYXJhbWV0ZXJzKTtcblxuICAgICAgICAvLyBoYWQgdG8gY2FzdCBpdCBpbiBvcmRlciB0byBhdm9pZCBhbnkgaW5kZXggRXJyb3JcbiAgICAgICAgLy8gQXR0YWNoIGEgZGVzdHJveSBtZXRob2QgdG8gdGhlIG5ld2x5IGNyZWF0ZWQgY29tcG9uZW50LlxuICAgICAgICAoPGFueT5jb21wb25lbnRSZWYuaW5zdGFuY2UpWydkZXN0cm95J10gPSAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb21wb25lbnRSZWYuZGVzdHJveSgpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBTYXZlIHRoZSBpbnN0YW5jZSwgc28gaXQgY2FuIGJlIGRlc3Ryb3llZCBsYXRlci5cbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGNvbXBvbmVudFJlZjtcblxuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxpbmcgY2xvc2UoKSB3aWxsIHJlbW92ZSB0aGUgbW9kYWwgZnJvbSB2aWV3LlxuICAgICAqL1xuICAgIGNsb3NlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge0NvbXBvbmVudCwgT25Jbml0LCBWaWV3Q2hpbGQsIFZpZXdDb250YWluZXJSZWZ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtNb2RhbFNlcnZpY2V9IGZyb20gJy4uL21vZGFsLnNlcnZpY2UnO1xuXG5cbi8qKlxuICogUGxhY2UgaG9sZGVyIGZvciBhbGwgbW9kYWwgZGlhbG9ncy4gVGhpcyBjb21wb25lbnQgd29ya3Mgd2l0aCB0aGUgbW9kYWxTZXJ2aWNlIGJ5IHByb3ZpZGluZ1xuICogYSBwbGFjZSBob2xkZXIgZm9yIGl0IHRvIGluamVjdCBEaWFsb2cgY29tcG9uZW50IGludG8uXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctbW9kYWwnLFxuICAgIHRlbXBsYXRlVXJsOiAnbW9kYWwuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydtb2RhbC5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIE1vZGFsQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0XG57XG5cbiAgICBAVmlld0NoaWxkKCdtb2RhbCcsIHtyZWFkOiBWaWV3Q29udGFpbmVyUmVmfSlcbiAgICB2aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBtb2RhbFNlcnZpY2U6IE1vZGFsU2VydmljZSlcbiAgICB7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5tb2RhbFNlcnZpY2UucmVnaXN0ZXJWaWV3Q29udGFpbmVyUmVmKHRoaXMudmlld0NvbnRhaW5lclJlZik7XG4gICAgfVxuXG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7Q3VycmVuY3lQaXBlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtQaXBlLCBQaXBlVHJhbnNmb3JtfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuLyoqXG4gKiBUaGlzIGN1cnJlbmN5IGZvcm1hdHRlciB3aWxsIGlnbm9yZSBudWxsIGFuZCBlbXB0eSBzdHJpbmcgZm9yIHZhbHVlLlxuICogSXNzdWUgOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy84Njk0ICBESSBmYWlscyB3aGVuIGV4dGVuZHMgb3RoZXIgY2xhc3Nlc1xuICovXG5AUGlwZSh7XG4gICAgbmFtZTogJ2N1cnJlbmN5Rm9ybWF0JyxcbiAgICBwdXJlOiBmYWxzZVxufSlcbmV4cG9ydCBjbGFzcyBDdXJyZW5jeUZvcm1hdFBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtXG57XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGN1cnJlbmN5UGlwZTogQ3VycmVuY3lQaXBlKVxuICAgIHtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm0odmFsdWU6IHN0cmluZywgLi4uYXJnczogYW55W10pOiBhbnlcbiAgICB7XG5cbiAgICAgICAgLy8gRGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgbGV0IGN1cnJlbmN5Q29kZSA9ICdVU0QnLCBzeW1ib2xEaXNwbGF5ID0gdHJ1ZSwgZGlnaXRzID0gJzEuMC0yJztcblxuICAgICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFyZ3MgJiYgYXJncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgY29kZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBpZiAoY29kZSAmJiBjb2RlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGUgPSBjb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVuY3lQaXBlLnRyYW5zZm9ybSh2YWx1ZSwgY3VycmVuY3lDb2RlLCBzeW1ib2xEaXNwbGF5LCBkaWdpdHMpO1xuICAgIH1cbn1cblxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtEaXJlY3RpdmUsIEV2ZW50RW1pdHRlciwgT3V0cHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuXG4vKipcbiAqIFNpbXBsZSB1dGlsaXR5IGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgYnkgTkcgRm9yIGN5Y2xlIGluIHNpdHVhdGlvbiB3aGVyZSB3ZSBuZWVkIHRvIGNhbGwgYVxuICogb3IgZXhlY3V0ZSBzb21lIGxvZ2ljIGFmdGVyIGVhY2ggaXRlcmF0aW9uXG4gKi9cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnW25nRm9yU2V0XSdcbn0pXG5leHBvcnQgY2xhc3MgTmdGb3JTZXREaXJlY3RpdmVcbntcblxuICAgIEBPdXRwdXQoKVxuICAgIG9uSXRlbTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5vbkl0ZW0uZW1pdCgnLS0nKTtcbiAgICB9XG5cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7aXNQcmVzZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcblxuXG4vKipcbiAqIFNpbXBsZSBjb252ZW5pZW50IHNlcnZpY2UgdG8gd29yayB3aXRoIHRoZSBkb20uIEFsbCB0aGUgZnV0dXJlIGxvZ2ljIHJlbGF0ZWQgdG8gRE9NIG1hbmlwdWxhdGlvblxuICogb3IgdHJhdmVyc2FsIHNob3VsZCBiZSBwdXQgaW50byB0aGlzIHNlcnZpY2VcbiAqXG4gKi9cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBEb21VdGlsc1NlcnZpY2VcbntcblxuICAgIGNvbnN0cnVjdG9yICgpXG4gICAge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdvZXMgYWxsIHRoZSB3YXkgdXAgdG8gdGhlIGJvZHkgYW5kIGNoZWNrcyBpZiB0aGVyZSBpcyBhIGVsZW1lbnQgaWRlbnRpZmllZCBieSBhICdzZWxlY3RvcidcbiAgICAgKlxuICAgICAqL1xuICAgIGhhc1BhcmVudCAobmF0aXZlRWxlbWVudDogYW55LCBzZWxlY3Rvcjogc3RyaW5nKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLmNsb3Nlc3QobmF0aXZlRWxlbWVudCwgc2VsZWN0b3IpKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqICBUcmF2ZWxzIGFsbCB0aGUgd2F5IHVwIHRvIHRoZSBCT0RZIGFuZCByZXRyaWV2ZSBlbGVtZW50IGlkZW50aWZpZWQgYnkgJ3NlbGVjdG9yJyBvciBOVUxMIGlmXG4gICAgICogbm90IGZvdW5kXG4gICAgICpcbiAgICAgKi9cbiAgICBjbG9zZXN0IChuYXRpdmVFbGVtZW50OiBhbnksIHNlbGVjdG9yOiBzdHJpbmcpOiBhbnlcbiAgICB7XG4gICAgICAgIGxldCBmaXJzdENoYXIgPSBzZWxlY3Rvci5jaGFyQXQoMCk7XG5cbiAgICAgICAgbGV0IHBhcmVudE5vZGUgPSBuYXRpdmVFbGVtZW50O1xuXG5cbiAgICAgICAgd2hpbGUgKGlzUHJlc2VudCgocGFyZW50Tm9kZSA9IHBhcmVudE5vZGUucGFyZW50Tm9kZSkpKSB7XG4gICAgICAgICAgICBpZiAoZmlyc3RDaGFyID09PSAnLicgJiYgcGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoc2VsZWN0b3Iuc3Vic3RyKDEpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnROb2RlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmlyc3RDaGFyID09PSAnIycgJiYgcGFyZW50Tm9kZS5pZCA9PT0gc2VsZWN0b3Iuc3Vic3RyKDEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHNlbGVjdG9yIGlzIGEgdGFnXG4gICAgICAgICAgICBpZiAocGFyZW50Tm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBwYXJlbnROb2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhcmVudE5vZGUubm9kZVR5cGUgPT09IDEgJiYgcGFyZW50Tm9kZS50YWdOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGFuZ3VsYXIgY29tcG9uZW50IGlzIHJlbmRlcmVkIGFsb25nIHdpdGggTkdDb250ZW50IGl0IGhhcyBpdHMgb3duIF9uZ0NvbnRlbnRfSU5ERVhcbiAgICAgKiB3aGljaCBhbHdheXMgY29ycmVzcG9uZHMgd2l0aCBfbmdob3N0X0lOREVYLCB0aGlzIHdvcmtzIGZpbmUgaWYgd2UgaGF2ZSBhY3R1YWwgY29tcG9uZW50XG4gICAgICogdGhhdCBpcyBhbHJlYWR5IHJlbmRlcmVkLiBJZiB3ZSBhcmUgY3JlYXRpbmcgY29tcG9uZW50IHByb2dyYW1hdGljYWxseSB0aGVyZSBpcyBubyB3YXkgdG9cbiAgICAgKiBpZGVudGlmeSB3aGVyZSB0aGUgYWN0dWFsIG5nLWNvbnRlbnQgaXMgcGxhY2VkIHdpdGhpbiB0aGUgY29tcG9uZW50XG4gICAgICpcbiAgICAgKiBlLmcuIENvbnNpZGVyIGZvbGxvd2luZyBleGFtcGxlOlxuICAgICAqXG4gICAgICpcbiAgICAgKiBCdXR0b24gQ29tcG9uZW50IFRlbXBsYXRlOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogIDxzcGFuIGNsYXNzPW15YnV0dG9uVGl0bGU+PG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50Pjwvc3Bhbj5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFdoZW4geW91IHVzZSBidXR0b24gY29tcG9uZW50IGFzIDxhdy1idXR0b24+Q2xpY2tNZTwvYXctYnV0dG9uPiAgdGhlbiBpdHMgcmVuZGVyZWQgYXNcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIDxhdy1idXR0b24gX25naG9zdF8xMjM+XG4gICAgICogIDxzcGFuIF9uZ2NvbnRlbnRfMTIzIGNsYXNzPW15YnV0dG9uVGl0bGU+Q2xpY2tNZTwvc3Bhbj5cbiAgICAgKiA8L2F3LWJ1dHRvbj5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEJ1dCB3aXRoIHByb2dyYW1tYXRpYyBBUEkgeW91IGluc3RhbnRpYXRlIEJ1dHRvbiBhbmQgc2luY2UgaXQgY3JlYXRlZCB3aXRob3V0IGEgQ29udGVudCBpdFxuICAgICAqIGxvb2tzIGxpa2UgdGhpcztcbiAgICAgKlxuICAgICAqICBgYGBcbiAgICAgKiA8YXctYnV0dG9uIF9uZ2hvc3RfMTIzPlxuICAgICAqICA8c3BhbiBjbGFzcz1teWJ1dHRvblRpdGxlPjwvc3Bhbj5cbiAgICAgKiA8L2F3LWJ1dHRvbj5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFdoZXJlIGRvIHlvdSBwbGFjZSB5b3UgY2hpbGQgKGNvbnRlbnQgY29tcG9uZW50KT8gVGhlcmVmb3JlIHV0aWxpdHkgY3NzIGNsYXNzIHdhcyBjcmVhdGVkXG4gICAgICogdG8gd3JhcCA8bmctY29udGVudD4gdG8gZ2V0IGFyb3VuZCB0aGlzIGxpbWl0YXRpb24uXG4gICAgICpcbiAgICAgKiAgYGBgXG4gICAgICogICA8c3BhbiBjbGFzcz1cInUtbmdjb250ZW50XCI+XG4gICAgICogICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gICAgICogICA8L3NwYW4+XG4gICAgICogIGBgYGBcbiAgICAgKlxuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIGluc2VydEludG9QYXJlbnROZ0NvbnRlbnQgKHBhcmVudE5hdGl2ZUVsOiBhbnksIGNoaWxkTmF0aXZlRWw6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIGRlZmF1bHQgYmVoYXZpb3IgaXMgdG8gaW5zZXJ0IGl0IGFzIGNoaWxkIHRvIHBhcmVudE5hdGl2ZUVsXG4gICAgICAgIGxldCBuZ0NvbnRlbnRQYXJlbnQgPSBwYXJlbnROYXRpdmVFbDtcblxuICAgICAgICBsZXQgZm91bmROZ0NvbnRlbnQgPSBwYXJlbnROYXRpdmVFbC5xdWVyeVNlbGVjdG9yKCcudS1uZ2NvbnRlbnQnKTtcbiAgICAgICAgaWYgKGlzUHJlc2VudChmb3VuZE5nQ29udGVudCkpIHtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGNvdmVyIGEgY2FzZSB3aGVyZSB0aGVyZSBjb3VsZCBiZSBtdWx0aXBsZSBuZ2NvbnRlbnRzXG4gICAgICAgICAgICBuZ0NvbnRlbnRQYXJlbnQgPSBmb3VuZE5nQ29udGVudDtcbiAgICAgICAgfVxuICAgICAgICBuZ0NvbnRlbnRQYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGROYXRpdmVFbCk7XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogUmV0cmlldmVzIGN1cnJlbnQgYnJvd3NlciB3aW5kb3cgd2lkdGggYW5kIGhlaWdodFxuICAgICAqXG4gICAgICovXG4gICAgYnJvd3NlckRpbWVudGlvbnMgKCk6IGFueVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiAod2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoXG4gICAgICAgICAgICAgICAgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCksXG4gICAgICAgICAgICBoZWlnaHQ6ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuICAgICAgICAgICAgICAgIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KVxuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBSZXRyaWV2ZXMgZWxlbWVtZW50cyBkaW1lbnNpb25zXG4gICAgICpcbiAgICAgKi9cbiAgICBlbGVtZW50RGltZW5zaW9ucyAoZWxlbWVudDogYW55KTogYW55XG4gICAge1xuICAgICAgICBpZiAoaXNQcmVzZW50KGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtsZWZ0OiAwLCB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIHg6IDAsIHk6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDB9O1xuICAgIH1cbn1cblxuIiwiLyoqXG4gKlxuICogVW5kZXIgQG9yaWdpbmFsLWxpY2Vuc2VcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNS1wcmVzZW50IERyaWZ0eSBDby5cbiAqIGh0dHA6Ly9kcmlmdHkuY29tL1xuICpcbiAqICBNSVQgTGljZW5zZVxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZ1xuICogYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4gKiBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbiAqIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbiAqIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0b1xuICogcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvXG4gKiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAqIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuICogRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gKiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICogTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRVxuICogTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTlxuICogT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OXG4gKiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqXG4gKlxuICogQ3JlZGl0IHRvIGRyaWZ0eSBmb3IgdGhpcyBleGNlbGxlbnQgY29tcG9uZW50LiBXZSBoYXZlIGEgc3Ryb25nIG5lZWRzIGZvciBnb29kIGluZmluaXRlXG4gKiBzY3JvbGxpbmcgY29tcG9uZW50IHNvIHRoaXMgaXMgZGVyaXZlZCB3b3JrIGJhc2VkIG9uIHRoaXMgZHJpZnR5IGNvbXBvbmVudCBhcyB3ZSBjYW4gbm90IHJlYWxseVxuICogYnJpbmcgaW4gd2hvbGUgZnJhbWV3b3JrIGFuZCB0aGVpciBjb21wb25lbnQvQVBJLiBJdCB3b3VsZCBiZSB0b28gaGVhdnlcbiAqXG4gKiBDb21wb25lbnQgaXMgdXBkYXRlZCB3aXRoIG5hdGl2ZSBET00gQVBJLiBwbHVzIHNpbXBsaWZpZWQgYnkgcmVtb3ZpbmcgdGhpbmdzXG4gKiB0aGF0IGFyZSBub3QgbmVjZXNzYXJ5IGZvciBvdXIgdXNlY2FzZS4gVXBkYXRlZCBkaXJlY3RpdmUgcHJlZml4IHRvIG1hdGNoIG91ciBndWlkZWxpbmVzXG4gKlxuICpcbiAqXG4gKi9cblxuXG5pbXBvcnQge1xuICAgIEFmdGVyQ29udGVudEluaXQsXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgQ29tcG9uZW50LFxuICAgIEVsZW1lbnRSZWYsXG4gICAgRXZlbnRFbWl0dGVyLFxuICAgIElucHV0LFxuICAgIE5nWm9uZSwgT25Jbml0LFxuICAgIE91dHB1dCxcbiAgICBSZW5kZXJlcjIsXG4gICAgVmlld0NoaWxkXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtpc1ByZXNlbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtEb21VdGlsc1NlcnZpY2V9IGZyb20gJy4uLy4uL2NvcmUvZG9tLXV0aWxzLnNlcnZpY2UnO1xuXG4vKipcbiAqIFRoZSBJbmZpbml0ZSBTY3JvbGwgYWxsb3dzIHlvdSB0byBwZXJmb3JtIGFuIGFjdGlvbiB3aGVuIHRoZSB1c2VyXG4gKiBzY3JvbGxzIGEgc3BlY2lmaWVkIGRpc3RhbmNlIGZyb20gdGhlIGJvdHRvbSBvciB0b3Agb2YgdGhlIHBhZ2UuXG4gKlxuICogVGhlIGV4cHJlc3Npb24gYXNzaWduZWQgdG8gdGhlIGBpbmZpbml0ZWAgZXZlbnQgaXMgY2FsbGVkIHdoZW5cbiAqIHRoZSB1c2VyIHNjcm9sbHMgdG8gdGhlIHNwZWNpZmllZCBkaXN0YW5jZS4gV2hlbiB0aGlzIGV4cHJlc3Npb25cbiAqIGhhcyBmaW5pc2hlZCBpdHMgdGFza3MsIGl0IHNob3VsZCBjYWxsIHRoZSBgY29tcGxldGUoKWAgbWV0aG9kXG4gKiBvbiB0aGUgaW5maW5pdGUgc2Nyb2xsIGluc3RhbmNlLlxuICpcbiAqICMjIFVzYWdlXG4gKlxuICogYGBgaHRtbFxuICpcbiAqICA8ZGl2ICAqbmdGb3I9XCJsZXQgaXRlbSBvZiBpdGVtc1wiPnt7aXRlbX19IDwvZGl2PlxuICogICA8YXctaW5maW5pdGUtc2Nyb2xsIChvbkxvYWQpPVwiZG9JbmZpbml0ZSgkZXZlbnQpXCI+XG4gKiAgPC9hdy1pbmZpbml0ZS1zY3JvbGw+XG4gKlxuICogYGBgXG4gKlxuICpcbiAqIFlvdSBjYW4gYWxzbyBzZXQgYSB0aHJlc2hvbGQgdG8gY2hhbmdlIHRoZSBkaXN0YW5jZSB3aGVuIHRoZSBsYXp5IGxvYWQga2lja3NcbiAqIGluLlxuICogIyMgVXNhZ2VcbiAqXG4gKiBgYGBodG1sXG4gKlxuICogIDxkaXYgICpuZ0Zvcj1cImxldCBpdGVtIG9mIGl0ZW1zXCI+e3tpdGVtfX0gPC9kaXY+XG4gKiAgIDxhdy1pbmZpbml0ZS1zY3JvbGwgKG9uTG9hZCk9XCJkb0luZmluaXRlKCRldmVudClcIiAgW2Rpc3RhbmNlXT1cIicxNSUnXCI+XG4gKiAgPC9hdy1pbmZpbml0ZS1zY3JvbGw+XG4gKlxuICogYGBgXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctaW5maW5pdGUtc2Nyb2xsJyxcbiAgICB0ZW1wbGF0ZVVybDogJ2luZml0ZS1zY3JvbGwuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydpbmZpdGUtc2Nyb2xsLmNvbXBvbmVudC5zY3NzJ10sXG59KVxuZXhwb3J0IGNsYXNzIEluZmluaXRlU2Nyb2xsQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlckNvbnRlbnRJbml0XG57XG4gICAgX2xhc3RDaGVjazogbnVtYmVyID0gMDtcbiAgICBfbGFzdFNjcm9sbFRvcDogbnVtYmVyID0gMDtcbiAgICBfc2NMc246IGFueTtcbiAgICBfdGhyOiBzdHJpbmcgPSAnMTAlJztcbiAgICBfdGhyUHg6IG51bWJlciA9IDA7XG4gICAgX3RoclBjOiBudW1iZXIgPSAwLjEwO1xuICAgIF9pbml0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBfY29udGVudDogYW55O1xuICAgIF9kb2NCb2R5OiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzdGF0ZTogc3RyaW5nID0gU1RBVEVfRU5BQkxFRDtcblxuICAgIC8qKlxuICAgICAqIEBpbnB1dCB7c3RyaW5nfSBUaGUgdGhyZXNob2xkIGRpc3RhbmNlIGZyb20gdGhlIGJvdHRvbVxuICAgICAqIG9mIHRoZSBjb250ZW50IHRvIGNhbGwgdGhlIGBvbkxvYWRgIG91dHB1dCBldmVudCB3aGVuIHNjcm9sbGVkLlxuICAgICAqIFRoZSB0aHJlc2hvbGQgdmFsdWUgY2FuIGJlIGVpdGhlciBhIHBlcmNlbnQsIG9yXG4gICAgICogaW4gcGl4ZWxzLiBGb3IgZXhhbXBsZSwgdXNlIHRoZSB2YWx1ZSBvZiBgMTAlYCBmb3IgdGhlIGBpbmZpbml0ZWBcbiAgICAgKiBvdXRwdXQgZXZlbnQgdG8gZ2V0IGNhbGxlZCB3aGVuIHRoZSB1c2VyIGhhcyBzY3JvbGxlZCAxMCVcbiAgICAgKiBmcm9tIHRoZSBib3R0b20gb2YgdGhlIHBhZ2UuIFVzZSB0aGUgdmFsdWUgYDEwMHB4YCB3aGVuIHRoZVxuICAgICAqIHNjcm9sbCBpcyB3aXRoaW4gMTAwIHBpeGVscyBmcm9tIHRoZSBib3R0b20gb2YgdGhlIHBhZ2UuXG4gICAgICogRGVmYXVsdCBpcyBgMTUlYC5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGdldCBkaXN0YW5jZSAoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGhyO1xuICAgIH1cblxuICAgIHNldCBkaXN0YW5jZSAodmFsOiBzdHJpbmcpXG4gICAge1xuICAgICAgICB0aGlzLl90aHIgPSB2YWw7XG4gICAgICAgIGlmICh2YWwuaW5kZXhPZignJScpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX3RoclB4ID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3RoclBjID0gKHBhcnNlRmxvYXQodmFsKSAvIDEwMCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3RoclB4ID0gcGFyc2VGbG9hdCh2YWwpO1xuICAgICAgICAgICAgdGhpcy5fdGhyUGMgPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGlucHV0IHtib29sZWFufSBJZiB0cnVlLCBXaGV0aGVyIG9yIG5vdCB0aGUgaW5maW5pdGUgc2Nyb2xsIHNob3VsZCBiZVxuICAgICAqIGVuYWJsZWQgb3Igbm90LiBTZXR0aW5nIHRvIGBmYWxzZWAgd2lsbCByZW1vdmUgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqIGFuZCBoaWRlIHRoZSBkaXNwbGF5LlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2V0IGVuYWJsZWQgKHNob3VsZEVuYWJsZTogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIHRoaXMuZW5hYmxlKHNob3VsZEVuYWJsZSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAb3V0cHV0IHtldmVudH0gRW1pdHRlZCB3aGVuIHRoZSBzY3JvbGwgcmVhY2hlc1xuICAgICAqIHRoZSB0aHJlc2hvbGQgZGlzdGFuY2UuIEZyb20gd2l0aGluIHlvdXIgaW5maW5pdGUgaGFuZGxlcixcbiAgICAgKiB5b3UgbXVzdCBjYWxsIHRoZSBpbmZpbml0ZSBzY3JvbGwncyBgY29tcGxldGUoKWAgbWV0aG9kIHdoZW5cbiAgICAgKiB5b3VyIGFzeW5jIG9wZXJhdGlvbiBoYXMgY29tcGxldGVkLlxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIG9uTG9hZDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuXG4gICAgQFZpZXdDaGlsZCgnbG9hZGluUGFuZWwnKVxuICAgIGxvYWRQYW5lbDogRWxlbWVudFJlZjtcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBMYXp5IGxvYWQgY3VycmVudCBudW1iZXJzLiB0ZWxsIHRoZSBhcHAgc3RhcnRpbmcgcG9pbnQgYW5kIHdoYXQgaXMgdGhlIHNpemUgb2YgbG9hZGVkXG4gICAgICogbGlzdFxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBmZXRjaFNpemU6IG51bWJlciA9IDA7XG5cbiAgICBsb2FkT2Zmc2V0OiBudW1iZXIgPSAwO1xuXG5cbiAgICBjb25zdHJ1Y3RvciAocHJpdmF0ZSBfcmVuZGVyOiBSZW5kZXJlcjIsIHByaXZhdGUgX3pvbmU6IE5nWm9uZSxcbiAgICAgICAgICAgICAgICAgcHJpdmF0ZSBkb21VdGlsczogRG9tVXRpbHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICBwcml2YXRlIF9jZDogQ2hhbmdlRGV0ZWN0b3JSZWYpXG4gICAge1xuXG5cbiAgICB9XG5cblxuICAgIG5nT25Jbml0ICgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl9yZW5kZXIuYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ2hhcy1pbmZpbml0ZS1zY3JvbGwnKTtcblxuICAgIH1cblxuICAgIF9vblNjcm9sbCAoZXY6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBTVEFURV9MT0FESU5HIHx8IHRoaXMuc3RhdGUgPT09IFNUQVRFX0RJU0FCTEVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtdXN0IHRocm90dGxlIHRoZSBjbGFzcyBieSAxMDBtc1xuICAgICAgICBpZiAodGhpcy5fbGFzdENoZWNrICsgMTAwID4gZXYudGltZVN0YW1wKSB7XG4gICAgICAgICAgICAvLyBubyBuZWVkIHRvIGNoZWNrIGxlc3MgdGhhbiBldmVyeSBYWG1zXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0Q2hlY2sgPSBldi50aW1lU3RhbXA7XG4gICAgICAgIGxldCBzY3JvbGxUb3AgPSB0aGlzLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgIGxldCB3aW5IZWlnaHQgPSB0aGlzLmRvbVV0aWxzLmJyb3dzZXJEaW1lbnRpb25zKCkuaGVpZ2h0O1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heCh0aGlzLl9kb2NCb2R5LnNjcm9sbEhlaWdodCwgdGhpcy5fZG9jQm9keS5vZmZzZXRIZWlnaHQsXG4gICAgICAgICAgICB3aW5IZWlnaHQsIHRoaXMuX2NvbnRlbnQuc2Nyb2xsSGVpZ2h0LCB0aGlzLl9jb250ZW50Lm9mZnNldEhlaWdodCk7XG5cbiAgICAgICAgaWYgKCFoZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGhlaWdodCBvZiB0aGlzIGVsZW1lbnQgdGhlbiBkbyBub3RoaW5nXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGhyZXNob2xkID0gdGhpcy5fdGhyUGMgPyAoaGVpZ2h0ICogdGhpcy5fdGhyUGMpIDogdGhpcy5fdGhyUHg7XG4gICAgICAgIGxldCBkaXN0YW5jZUZyb21JbmZpbml0ZSA9IHRoaXMuX2NvbnRlbnQuc2Nyb2xsSGVpZ2h0IC0gd2luSGVpZ2h0IC0gc2Nyb2xsVG9wIC0gdGhyZXNob2xkO1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdEb2N1bWVudCBoZWlnaHQgKCcgKyBoZWlnaHQgKyAnKSAsIERpc3RhbmNlIGZyb20gYm90dG9tICdcbiAgICAgICAgLy8gKyBkaXN0YW5jZUZyb21JbmZpbml0ZSArICcsICA9PiB0aHJlc2hvbGQgPSAnICtcbiAgICAgICAgLy8gICAgIHRoaXMuZGlzdGFuY2UgKyAnICgnICsgdGhyZXNob2xkICsgJyknKTtcblxuICAgICAgICBpZiAoZGlzdGFuY2VGcm9tSW5maW5pdGUgPCAwICYmIHRoaXMuX2xhc3RTY3JvbGxUb3AgPCBzY3JvbGxUb3ApIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZU9uTGF6eUxvYWQoKTtcblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2xhc3RTY3JvbGxUb3AgPiBzY3JvbGxUb3AgJiYgc2Nyb2xsVG9wIDwgd2luSGVpZ2h0XG4gICAgICAgICAgICAmJiB0aGlzLmxvYWRPZmZzZXQgIT09IHRoaXMuZmV0Y2hTaXplKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmVPbkxhenlVbkxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sYXN0U2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG9kbzogcmVmYWN0b3IgdG8gb25lIG1ldGhvZFxuICAgICAqL1xuICAgIHByaXZhdGUgZmlyZU9uTGF6eUxvYWQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3pvbmUucnVuKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTVEFURV9MT0FESU5HICYmIHRoaXMuc3RhdGUgIT09IFNUQVRFX0RJU0FCTEVEKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0xPQURJTkc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9uTG9hZC5lbWl0KHtcbiAgICAgICAgICAgICAgICAgICAgaXNMb2FkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsaW1pdDogdGhpcy5mZXRjaFNpemUsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogdGhpcy5sb2FkT2Zmc2V0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgb24gdGhlIG5leHQgcmVjb3JkXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkT2Zmc2V0ICs9IHRoaXMuZmV0Y2hTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgZmlyZU9uTGF6eVVuTG9hZCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fem9uZS5ydW4oKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNUQVRFX0xPQURJTkcgJiYgdGhpcy5zdGF0ZSAhPT0gU1RBVEVfRElTQUJMRUQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfTE9BRElORztcblxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IG9uIHRoZSBuZXh0IHJlY29yZFxuICAgICAgICAgICAgICAgIHRoaXMubG9hZE9mZnNldCA9IHRoaXMuZmV0Y2hTaXplO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vbkxvYWQuZW1pdCh7XG4gICAgICAgICAgICAgICAgICAgIGlzTG9hZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGxpbWl0OiB0aGlzLmZldGNoU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB0aGlzLmxvYWRPZmZzZXRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIHNjcm9sbFRvcCAoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gKHdpbmRvdy5wYWdlWU9mZnNldCB8fCB0aGlzLl9jb250ZW50LnNjcm9sbFRvcCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbCBgY29tcGxldGUoKWAgd2l0aGluIHRoZSBgaW5maW5pdGVgIG91dHB1dCBldmVudCBoYW5kbGVyIHdoZW5cbiAgICAgKiB5b3VyIGFzeW5jIG9wZXJhdGlvbiBoYXMgY29tcGxldGVkLiBGb3IgZXhhbXBsZSwgdGhlIGBsb2FkaW5nYFxuICAgICAqIHN0YXRlIGlzIHdoaWxlIHRoZSBhcHAgaXMgcGVyZm9ybWluZyBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLFxuICAgICAqIHN1Y2ggYXMgcmVjZWl2aW5nIG1vcmUgZGF0YSBmcm9tIGFuIEFKQVggcmVxdWVzdCB0byBhZGQgbW9yZSBpdGVtc1xuICAgICAqIHRvIGEgZGF0YSBsaXN0LiBPbmNlIHRoZSBkYXRhIGhhcyBiZWVuIHJlY2VpdmVkIGFuZCBVSSB1cGRhdGVkLCB5b3VcbiAgICAgKiB0aGVuIGNhbGwgdGhpcyBtZXRob2QgdG8gc2lnbmlmeSB0aGF0IHRoZSBsb2FkaW5nIGhhcyBjb21wbGV0ZWQuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBjaGFuZ2UgdGhlIGluZmluaXRlIHNjcm9sbCdzIHN0YXRlIGZyb20gYGxvYWRpbmdgXG4gICAgICogdG8gYGVuYWJsZWRgLlxuICAgICAqL1xuICAgIGNvbXBsZXRlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU1RBVEVfTE9BRElORykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRU5BQkxFRDtcblxuICAgICAgICAgICAgLy8gbmVlZCB0byB0cmlnZ2VyIGV4dHJhIGRldGVjdCBjaGFuZ2VzIHRvIHJlcmVuZGVyIGxvYWRpbmcgaWNvblxuICAgICAgICAgICAgdGhpcy5fY2QuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICB9LCAxMDApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ2FsbCBgZW5hYmxlKGZhbHNlKWAgdG8gZGlzYWJsZSB0aGUgaW5maW5pdGUgc2Nyb2xsIGZyb20gYWN0aXZlbHlcbiAgICAgKiB0cnlpbmcgdG8gcmVjZWl2ZSBuZXcgZGF0YSB3aGlsZSBzY3JvbGxpbmcuIFRoaXMgbWV0aG9kIGlzIHVzZWZ1bFxuICAgICAqIHdoZW4gaXQgaXMga25vd24gdGhhdCB0aGVyZSBpcyBubyBtb3JlIGRhdGEgdGhhdCBjYW4gYmUgYWRkZWQsIGFuZFxuICAgICAqIHRoZSBpbmZpbml0ZSBzY3JvbGwgaXMgbm8gbG9uZ2VyIG5lZWRlZC5cbiAgICAgKiBAcGFyYW0gc2hvdWxkRW5hYmxlICBJZiB0aGUgaW5maW5pdGUgc2Nyb2xsIHNob3VsZCBiZVxuICAgICAqIGVuYWJsZWQgb3Igbm90LiBTZXR0aW5nIHRvIGBmYWxzZWAgd2lsbCByZW1vdmUgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqIGFuZCBoaWRlIHRoZSBkaXNwbGF5LlxuICAgICAqL1xuICAgIGVuYWJsZSAoc2hvdWxkRW5hYmxlOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IChzaG91bGRFbmFibGUgPyBTVEFURV9FTkFCTEVEIDogU1RBVEVfRElTQUJMRUQpO1xuICAgICAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoc2hvdWxkRW5hYmxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVzIHRvIG5hdGl2ZSB3aW5kb3dzIHNjcm9sbCBldmVudFxuICAgICAqL1xuICAgIF9zZXRMaXN0ZW5lcnMgKHNob3VsZExpc3RlbjogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9pbml0KSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkTGlzdGVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9zY0xzbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NjTHNuID0gdGhpcy5fb25TY3JvbGwuYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9zY0xzbik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuX3NjTHNuKSkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fc2NMc24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY0xzbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBpc0xvYWRpbmcgKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09PSBTVEFURV9MT0FESU5HO1xuICAgIH1cblxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5faW5pdCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2RvY0JvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICAgIHRoaXMuX3NldExpc3RlbmVycyh0aGlzLnN0YXRlICE9PSBTVEFURV9ESVNBQkxFRCk7XG5cbiAgICAgICAgaWYgKHRoaXMubG9hZE9mZnNldCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5maXJlT25MYXp5TG9hZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIG5nT25EZXN0cm95ICgpXG4gICAge1xuICAgICAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoZmFsc2UpO1xuICAgIH1cblxufVxuXG5cbmNvbnN0IFNUQVRFX0VOQUJMRUQgPSAnZW5hYmxlZCc7XG5jb25zdCBTVEFURV9ESVNBQkxFRCA9ICdkaXNhYmxlZCc7XG5jb25zdCBTVEFURV9MT0FESU5HID0gJ2xvYWRpbmcnO1xuIiwiaW1wb3J0IHtJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEF3TmFtZVN0b3JlIHtcblxuICAgIHByaXZhdGUgc3RvcmU6IE1hcDxzdHJpbmcsIGFueT47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBNYXAoKTtcbiAgICB9XG5cbiAgICBhZGQobmFtZTogc3RyaW5nLCBlbDogYW55KSB7XG4gICAgICAgIGlmICh0aGlzLmNvbGxpZGVzKG5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05hbWUgaXMgbm90IHVuaXF1ZSEnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5zZXQobmFtZSwgZWwpO1xuICAgIH1cblxuICAgIHJlbW92ZShuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuZGVsZXRlKG5hbWUpO1xuICAgIH1cblxuICAgIGNvbGxpZGVzKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5oYXMobmFtZSk7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuc3RvcmUuY2xlYXIoKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7XG4gICAgRWxlbWVudFJlZixcbiAgICBJbnB1dCxcbiAgICBPbkluaXQsXG4gICAgRGlyZWN0aXZlLFxuICAgIE9uRGVzdHJveVxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gICAgQXBwQ29uZmlnXG59IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuXG5pbXBvcnQge1xuICAgIEF3TmFtZVN0b3JlXG59IGZyb20gJy4vYXctbmFtZS5zdG9yZSc7XG5cbi8qKlxuICogVGhlICdhd05hbWUnIGRpcmVjdGl2ZSBhdHRhY2hlcyBhIGlkZW50aWZpZXIgdG8gZGVjb3JhdGVkIGVsZW1lbnQgdG8gYWlkIHNlbGVjdG9ycyBmb3IgdGVzdGluZ1xuICogcHVycG9zZXMuIFRoZSAnYXdOYW1lJyBkaXJlY3RpdmUgdHJpZXMgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgaWRlbnRpZmllciBiYXNlZCBvbiBjb250ZXh0dWFsIGRhdGFcbiAqIGFuZCBpbmhlcmFudCBpbW11dGFibGUgZWxlbWVudCBhdHRyaWJ1dGVzLlxuICpcbiAqICoqR2VuZXJhdGluZyB0aGUgQmFzZSBOYW1lKipcbiAqXG4gKiBUaGUgJ2F3TmFtZScgZGlyZWN0aXZlIGdlbmVyYXRlcyBhIGJhc2UgbmFtZSBmcm9tIGVsZW1lbnQgdGFnIG5hbWUgYW5kIGF0dHJpYnV0ZXMgd2hpY2ggYXJlXG4gKiBzdGF0aWMgYnkgbmF0dXJlLlxuICpcbiAqICAgICBFeGFtcGxlOlxuICogICAgICAgICA8YnV0dG9uIG5hbWU9XCJvcmRlclwiIGF3TmFtZT5cbiAqXG4gKiAgICAgUmVzdWx0OlxuICogICAgICAgICA8YnV0dG9uIG5hbWU9XCJvcmRlclwiIGF3bmFtZT1cImJ1dHRvbl9vcmRlclwiPlxuICpcbiAqIElmIHRoZSBlbGVtZW50IGhhcyBhbiAnaWQnLCB0aGF0IHZhbHVlIHRha2VzIHByZWNlZGVudCBhbmQgaXMgdXNlZCBpbnN0ZWFkIG9mIGEgZ2VuZXJhdGVkXG4gKiBuYW1lLlxuICpcbiAqICAgICBFeGFtcGxlOlxuICogICAgICAgICA8YnV0dG9uIG5hbWU9XCJvcmRlclwiIGlkPVwibXlPcmRlckJ1dHRvblwiIGF3TmFtZT5cbiAqXG4gKiAgICAgUmVzdWx0OlxuICogICAgICAgICA8YnV0dG9uIG5hbWU9XCJvcmRlclwiIGlkPVwibXlPcmRlckJ1dHRvblwiIGF3bmFtZT1cImJ1dHRvbl9teU9yZGVyQnV0dG9uXCI+XG4gKlxuICpcbiAqICoqUmVwZWF0ZWQgRWxlbWVudHMgYW5kIHRoZSAnZXh0JyBQYXJhbWV0ZXIqKlxuICpcbiAqIFRoZXJlIGFyZSBtYW55IGNhc2VzIHdoZXJlIGVsZW1lbnRzIGFyZSBnZW5lcmF0ZWQgZHluYW1pY2FsbHkgaW4gdGhlIGNvZGUgYXMgbGlzdHMgb3IgdGFibGVzLlxuICogSW4gc3VjaCBjYXNlcywgaXQgbWF5IG5vdCBiZSBlYXN5IHRvIGRpc3Rpbmd1aXNoIGluZGl2aWR1YWwgZWxlbWVudHMgYnkgc3RhbmRhcmQgSFRNTFxuICogYXR0cmlidXRlcywgc28gdGhlICdhd05hbWUnIGRpcmVjdGl2ZSBhbGxvd3MgY3VzdG9tIGV4dGVudGlvbnMgdG8gdGhlIGJhc2UgbmFtZSB0byBiZSBwcm92aWRlZFxuICogdXNpbmcgdGhlICdleHQnIGF0dHJpYnV0ZS5cbiAqXG4gKiAgICBFeGFtcGxlOlxuICogICAgICAgIGZydWl0cyA9IFsnYXBwbGUnLCAnYmFuYW5hJywgJ29yYW5nZSddO1xuICpcbiAqICAgICAgICA8dWw+XG4gKiAgICAgICAgICAgIDxsaSAqbmdGb3I9XCJsZXQgZnJ1aXQgb2YgZnJ1aXRzXCIgYXdOYW1lIGV4dD1cInt7ZnJ1aXR9fVwiPnt7ZnJ1aXR9fTwvbGk+XG4gKiAgICAgICAgPC91bD5cbiAqXG4gKiAgIFJlc3VsdDpcbiAqICAgICAgIDx1bD5cbiAqICAgICAgICAgICA8bGkgYXduYW1lPVwibGlfYXBwbGVcIj5hcHBsZTwvbGk+XG4gKiAgICAgICAgICAgPGxpIGF3bmFtZT1cImxpX2JhbmFuYVwiPmJhbmFuYTwvbGk+XG4gKiAgICAgICAgICAgPGxpIGF3bmFtZT1cImxpX29yYW5lXCI+b3JhbmdlPC9saT5cbiAqICAgICAgIDwvdWw+XG4gKlxuICogKipBZGRpbmcgQ29udGV4dCBUaHJvdWdoIEFuY2VzdG9yIEluc3BlY3Rpb24qKlxuICpcbiAqIEluIG9yZGVyIHRvIHByb3ZpZGUgY29udGV4dCB0byB0aGUgZWxlbWVudCBuYW1pbmcsIHRoZSAnYXdOYW1lJyBkaXJlY3RpdmUgbG9vcHMgdGhyb3VnaCB0aGVcbiAqIHBhcmVudCBhbmNlc3RyeSBhbmQgc2VhcmNoZXMgZm9yIGFueSB1bmlxdWUgZWxlbWVudCAnaWQnIHRvIHByZXBlbmQgdG8gdGhlIGJhc2UgbmFtZS5cbiAqXG4gKiAgICAgRXhhbXBsZTpcbiAqICAgICAgICAgPGZvcm0gaWQ9XCJhcHBsaWNhbnRcIj5cbiAqICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImZpcnN0TmFtZVwiIGF3TmFtZT5cbiAqICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImxhc3ROYW1lXCIgYXdOYW1lPlxuICogICAgICAgICA8L2Zvcm0+XG4gKiAgICAgICAgIDxmb3JtIGlkPVwic3BvdXNlXCI+XG4gKiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJmaXJzdE5hbWVcIiBhd05hbWU+XG4gKiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJsYXN0TmFtZVwiIGF3TmFtZT5cbiAqICAgICAgICAgPC9mb3JtPlxuICpcbiAqICAgICBSZXN1bHQ6XG4gKiAgICAgICAgIDxmb3JtIGlkPVwiYXBwbGljYW50XCI+XG4gKiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJmaXJzdE5hbWVcIiBhd25hbWU9XCJhcHBsaWNhbnRfaW5wdXRfZmlyc3ROYW1lXCI+XG4gKiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJsYXN0TmFtZVwiIGF3bmFtZT1cImFwcGxpY2FudF9pbnB1dF9sYXN0TmFtZVwiPlxuICogICAgICAgICA8L2Zvcm0+XG4gKiAgICAgICAgIDxmb3JtIGlkPVwic3BvdXNlXCI+XG4gKiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJmaXJzdE5hbWVcIiBhd25hbWU9XCJzcG91c2VfaW5wdXRfZmlyc3ROYW1lXCI+XG4gKiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJsYXN0TmFtZVwiIGF3bmFtZT1cInNwb3VzZV9pbnB1dF9sYXN0bmFtZVwiPlxuICogICAgICAgICA8L2Zvcm0+XG4gKlxuICogKipVbmlxdWVuZXNzIENoZWNrKipcbiAqXG4gKiAnYXdOYW1lJyBrZWVwcyB0cmFjayBvZiB0aGUgbmFtZXMgaXQgY3JlYXRlcyBieSBhZGRpbmcgdGhlbSB0byBhIG1hcCBzdG9yZS4gV2hlbmV2ZXIgaXRcbiAqIGNyZWF0ZXMgYSBuZXcgbmFtZSBkdXJpbmcgdGhlIGBuZ09uSW5pdGAgcGhhc2UgaXQgY2hlY2tzIGl0IGFnYWluc3QgdGhlIGV4aXN0aW5nIG1hcCxcbiAqIGFuZCB3aWxsIHRocm93IGFuIGVycm9yIGlmIGl0IGVuY291bnRlcnMgYSBkdXBsaWNhdGUuIE1vcmVvdmVyIGR1cmluZyB0aGUgZWxlbWVudCBkZXN0cnVjdGlvblxuICogcGhhc2UsIGBuZ09uRGVzdHJveWAsICdhd05hbWUnIHJlbW92ZXMgdGhlIGdlbmVyYXRlZCBuYW1lIGZyb20gdGhlIHN0b3JlLlxuICpcbiAqXG4gKiAqKkluIFByb2R1Y3Rpb24qKlxuICpcbiAqIFVzaW5nICdhd05hbWUnIGFkZHMgYSBzbWFsbCBiaXQgb2YgcmVuZGVyaW5nIG92ZXJoZWFkIGZvciBlYWNoIGVsZW1lbnQgaXQgaXMgdXNlZCBvbi4gSW5cbiAqIGEgcHJvZHVjdGlvbiBlbnZpcm9ubWVudCwgJ2F3TmFtZScgc2VydmVzIG5vIGZ1bmN0aW9uYWxpdHkgdG8gdGhlIGVuZCB1c2VyLCBidXQgbWF5IGhhdmVcbiAqIGEgcGVyZm9ybWFuY2UgaW1wYWN0IG9uIHRoZSBhcHBsaWNhdGlvbi4gQXMgc3VjaCwgJ2F3TmFtZScgdGFrZXMgaW50byBhY2NvdW50IHRoZVxuICogYEFwcENvbmZpZ2Agc2V0dGluZ3MgYW5kIGRpc2FibGVzIG5hbWUgZ2VuZXJhdGlvbiB3aGVuIGBBcHBDb25maWcuaXNQcm9kdWN0aW9uTW9kZSgpYFxuICogaXMgYHRydWVgLlxuICpcbiAqIEluIHlvdXIgYXBwbGljYXRpb24sIHlvdSBjYW4gdHVybiBvbiBwcm9kdWN0aW9uIG1vZGUgYnkgc2V0dGluZyBgZGV2bW9kZS5lbmFibGVkYCB0b1xuICogYGZhbHNlYCB3aGVuIGNvbmZpZ3VyaW5nIGBBcmliYUNvcmVNb2R1bGVgOlxuICpcbiAqICAgICBBcmliYUNvcmVNb2R1bGUuZm9yUm9vdCh7XG4gKiAgICAgICAgICdkZXZtb2RlLmVuYWJsZWQnOiBmYWxzZVxuICogICAgIH0pXG4gKlxuICovXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogJ1thd05hbWVdJyxcbn0pXG5leHBvcnQgY2xhc3MgQXdOYW1lRGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuXG4gICAgQElucHV0KCkgZXh0OiBzdHJpbmc7XG5cbiAgICBwcml2YXRlIG5hbWU6IHN0cmluZztcblxuICAgIHByaXZhdGUgc2VwYXJhdG9yOiBzdHJpbmcgPSAnXyc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBlbDogRWxlbWVudFJlZixcbiAgICAgICAgcHJpdmF0ZSBzdG9yZTogQXdOYW1lU3RvcmUsXG4gICAgICAgIHByaXZhdGUgY29uZmlnOiBBcHBDb25maWdcbiAgICApIHt9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IHRoaXMuY3JlYXRlTmFtZSh0aGlzLmVsKTtcbiAgICAgICAgICAgIHRoaXMuYWRkRWxlbWVudFRvU3RvcmUodGhpcy5uYW1lLCB0aGlzLmVsKTtcbiAgICAgICAgICAgIHRoaXMuZWwubmF0aXZlRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2F3bmFtZScsIHRoaXMubmFtZSk7XG4gICAgICAgIH1cblxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnN0b3JlLnJlbW92ZSh0aGlzLm5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBlbGVtZW50IG5hbWUvaWQgYW5kIHJlZmVyZW5jZSB0byBtYXAgc3RvcmUuIElmIG5hbWUvaWQgYWxyZWFkeVxuICAgICAqIGV4aXN0cyBpbiBzdG9yZSB0aGVuIGl0IHRocm93cyBhbiBlcnJvci5cbiAgICAgKlxuICAgICAqL1xuICAgIGFkZEVsZW1lbnRUb1N0b3JlKG5hbWU6IHN0cmluZywgZWxlbTogRWxlbWVudFJlZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5zdG9yZS5hZGQobmFtZSwgZWxlbSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS5tZXNzYWdlICsgYC4gXCIke25hbWV9XCIgaXMgYWxyZWFkeSBpbiB1c2UuYCwgZWxlbS5uYXRpdmVFbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIG5hbWUvaWQgZm9yIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBwYXJhbSBlbGVtIFJlZmVyZW5jZSB0byBlbGVtZW50XG4gICAgICogQHJldHVybiBTdHJpbmcgTmFtZS9JRFxuICAgICAqL1xuICAgIGNyZWF0ZU5hbWUoZWxlbTogRWxlbWVudFJlZikge1xuXG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSB0aGlzLmdldFRhZ05hbWUoZWxlbSk7XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBhcnJheSBvZiBzdHJpbmcgcGFydHNcbiAgICAgICAgY29uc3QgcGFydHMgPSBbXTtcblxuICAgICAgICAvLyBGaW5kIGFuY2VzdG9yIHRhZyBpZCwgaWYgdGhlcmUgaXMgb25lXG4gICAgICAgIGNvbnN0IHBhcmVudElEID0gdGhpcy5nZXRBbmNlc3RvcklkKGVsZW0pO1xuICAgICAgICBpZiAocGFyZW50SUQpIHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2gocGFyZW50SUQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgdGhlIHRhZyB0eXBlXG4gICAgICAgIGlmICh0YWdOYW1lID09PSAnb3B0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50TmFtZSA9IHRoaXMuZ2V0UGFyZW50TmFtZShlbGVtKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChwYXJlbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0YWduYW1lXG4gICAgICAgIHBhcnRzLnB1c2godGFnTmFtZSk7XG5cbiAgICAgICAgLy8gQ2hvb3NlIGlkIHByb3BlcnR5IGlmIGl0IGV4aXN0c1xuICAgICAgICBpZiAoZWxlbS5uYXRpdmVFbGVtZW50LmlkKSB7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKGVsZW0ubmF0aXZlRWxlbWVudC5pZCk7XG5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIGJ1aWxkIGV4dGVuc2lvbiBmcm9tIHRhZyBwcm9wZXJ0aWVzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjaGVjayBmb3IgYSBuYW1lIGF0dHJpYnV0ZVxuICAgICAgICAgICAgaWYgKGVsZW0ubmF0aXZlRWxlbWVudC5oYXNBdHRyaWJ1dGUoJ25hbWUnKSkge1xuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goZWxlbS5uYXRpdmVFbGVtZW50Lm5hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjaGVjayBmb3IgdmFsdWUgYXR0cmlidXRlIGlmICdvcHRpb24nIHRhZ1xuICAgICAgICAgICAgaWYgKHRhZ05hbWUgPT09ICdvcHRpb24nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW0ubmF0aXZlRWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3ZhbHVlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh0aGlzLnNwYWNlc1RvVW5kZXJzY29yZShlbGVtLm5hdGl2ZUVsZW1lbnQudmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGN1c3RvbSBleHRlbnNpb24gaWYgaXQgZXhpc3RzXG4gICAgICAgIGlmICh0aGlzLmV4dCkge1xuICAgICAgICAgICAgcGFydHMucHVzaCh0aGlzLnNwYWNlc1RvVW5kZXJzY29yZSh0aGlzLmV4dCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4odGhpcy5zZXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0YWcgbmFtZSBmcm9tIGVsZW1lbnQgcmVmZXJlbmNlLlxuICAgICAqIEBwYXJhbSBlbGVtIFJlZmVyZW5jZSB0byBlbGVtZW50XG4gICAgICovXG4gICAgZ2V0VGFnTmFtZShlbGVtOiBFbGVtZW50UmVmKSB7XG4gICAgICAgIHJldHVybiBlbGVtLm5hdGl2ZUVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYXZlcnNlIGVsZW1lbnQgYW5jZXN0cnkgYW5kIHJldHVybiBmaXJzdCBpZCBhdHRyaWJ1dGVcbiAgICAgKiBlbmNvdW50ZXJlZC5cbiAgICAgKiBAcGFyYW0gZWxlbSBSZWZlcmVuY2UgdG8gZWxlbWVudFxuICAgICAqL1xuICAgIGdldEFuY2VzdG9ySWQoZWxlbTogRWxlbWVudFJlZikge1xuICAgICAgICBsZXQgcGFyZW50ID0gZWxlbS5uYXRpdmVFbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgIGxldCBpZCA9ICcnO1xuICAgICAgICB3aGlsZSAocGFyZW50ICYmICFpZCkge1xuICAgICAgICAgICAgaWYgKHBhcmVudC5pZCkge1xuICAgICAgICAgICAgICAgIGlkID0gcGFyZW50LmlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBuYW1lIGF0dHJpYnV0ZSBmcm9tIHBhcmVudCBpZiBuYW1lIGF0dHJpYnV0ZSBleGlzdHMuXG4gICAgICogQHBhcmFtIGVsZW0gUmVmZXJlbmNlIHRvIGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRQYXJlbnROYW1lKGVsZW06IEVsZW1lbnRSZWYpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gZWxlbS5uYXRpdmVFbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgIHJldHVybiAocGFyZW50Lm5hbWUgJiYgIXBhcmVudC5pZCkgPyBwYXJlbnQubmFtZSA6IG51bGw7XG4gICAgfVxuXG4gICAgc3BhY2VzVG9VbmRlcnNjb3JlKHN0cjogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuICAgIH1cblxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtFbWJlZGRlZEl0ZW1EaXJlY3RpdmV9IGZyb20gJy4vZW1iZWRkZWQtaXRlbSc7XG5pbXBvcnQge0dlbmVyaWNDb250YWluZXJDb21wb25lbnR9IGZyb20gJy4vZ2VuZXJpYy1jb250YWluZXIuY29tcG9uZW50JztcbmltcG9ydCB7SW5jbHVkZUNvbXBvbmVudERpcmVjdGl2ZX0gZnJvbSAnLi9pbmNsdWRlLWNvbXBvbmVudC5kaXJlY3RpdmUnO1xuaW1wb3J0IHtFcnJvck1lc3NhZ2VzQ29tcG9uZW50fSBmcm9tICcuL2Vycm9yLW1lc3NhZ2VzL2Vycm9yLW1lc3NhZ2VzLmNvbXBvbmVudCc7XG5pbXBvcnQge01vZGFsQ29tcG9uZW50fSBmcm9tICcuL21vZGFsLXNlcnZpY2UvbW9kYWwvbW9kYWwuY29tcG9uZW50JztcbmltcG9ydCB7Q3VycmVuY3lGb3JtYXRQaXBlfSBmcm9tICcuL3BpcGVzL2N1cnJlbmN5LWZvcm1hdC5waXBlJztcbmltcG9ydCB7TmdGb3JTZXREaXJlY3RpdmV9IGZyb20gJy4vb24tbmdmb3Itc2V0LmRpcmVjdGl2ZSc7XG5pbXBvcnQge0luZmluaXRlU2Nyb2xsQ29tcG9uZW50fSBmcm9tICcuL2luZml0ZS1zY3JvbGwvaW5maXRlLXNjcm9sbC5jb21wb25lbnQnO1xuaW1wb3J0IHtBd05hbWVEaXJlY3RpdmV9IGZyb20gJy4vYXctbmFtZS9hdy1uYW1lLmRpcmVjdGl2ZSc7XG5cblxuQE5nTW9kdWxlKHtcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgRW1iZWRkZWRJdGVtRGlyZWN0aXZlLFxuICAgICAgICBJbmNsdWRlQ29tcG9uZW50RGlyZWN0aXZlLFxuICAgICAgICBHZW5lcmljQ29udGFpbmVyQ29tcG9uZW50LFxuICAgICAgICBFcnJvck1lc3NhZ2VzQ29tcG9uZW50LFxuICAgICAgICBNb2RhbENvbXBvbmVudCxcbiAgICAgICAgQ3VycmVuY3lGb3JtYXRQaXBlLFxuICAgICAgICBOZ0ZvclNldERpcmVjdGl2ZSxcbiAgICAgICAgSW5maW5pdGVTY3JvbGxDb21wb25lbnQsXG4gICAgICAgIEF3TmFtZURpcmVjdGl2ZVxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGVcbiAgICBdLFxuICAgIGVudHJ5Q29tcG9uZW50czogW1xuICAgICAgICBHZW5lcmljQ29udGFpbmVyQ29tcG9uZW50LFxuICAgICAgICBNb2RhbENvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBFbWJlZGRlZEl0ZW1EaXJlY3RpdmUsXG4gICAgICAgIEluY2x1ZGVDb21wb25lbnREaXJlY3RpdmUsXG4gICAgICAgIEdlbmVyaWNDb250YWluZXJDb21wb25lbnQsXG4gICAgICAgIEVycm9yTWVzc2FnZXNDb21wb25lbnQsXG4gICAgICAgIE1vZGFsQ29tcG9uZW50LFxuICAgICAgICBDdXJyZW5jeUZvcm1hdFBpcGUsXG4gICAgICAgIE5nRm9yU2V0RGlyZWN0aXZlLFxuICAgICAgICBJbmZpbml0ZVNjcm9sbENvbXBvbmVudCxcbiAgICAgICAgQXdOYW1lRGlyZWN0aXZlXG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBBV0NvcmVDb21wb25lbnRNb2R1bGVcbntcbn1cblxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7RW52aXJvbm1lbnQsIG5vb3B9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtCYXNlQ29tcG9uZW50fSBmcm9tICcuLi9iYXNlLmNvbXBvbmVudCc7XG5cbi8qKlxuICogUGFyZW50IGNsYXNzIGZvciBhbGwgbW9kYWwgZGlhbG9ncy4gUHJvdmlkZXMgZGVmYXVsdHMgZnVuY3Rpb25hbGl0eSBmb3IgYWxsIG1vZGFscy5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGFsQ29udGFpbmVyIGV4dGVuZHMgQmFzZUNvbXBvbmVudFxue1xuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZGVzdHJveTogKCkgPT4gdm9pZCA9IG5vb3A7XG5cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY6IEVudmlyb25tZW50KVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uIHRoYXQgY2xvc2VzIHRoZSBkaWFsb2cgYnkgY2FsbGluZyBkZXN0cm95IG9uIHRoZSBjb21wb25lbnQgcmVmZXJlbmNlLlxuICAgICAqIE1ldGhvZCBpbmhlcml0ZWQgYnkgYWxsIGl0cyBjaGlsZHJlbi5cbiAgICAgKi9cbiAgICBjbG9zZU1vZGFsKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtJbmplY3RhYmxlLCBUeXBlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7aXNCbGFuaywgaXNQcmVzZW50LCBpc1N0cmluZ01hcCwgaXNUeXBlLCBvYmplY3RUb05hbWV9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGV9IGZyb20gJ3J4anMnO1xuXG5cbi8qKlxuICogRGF0YVR5cGVQcm92aWRlclJlZ2lzdHJ5IGFnZ3JlZ2F0ZXMgZGlmZmVyZW50IERhdGFQcm92aWRlcnMgcGVyIHR5cGUuXG4gKi9cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBEYXRhVHlwZVByb3ZpZGVyUmVnaXN0cnlcbntcblxuICAgIC8qKlxuICAgICAqIE1hcHMgY2xhc3MgbmFtZSB0byBEYXRhUHJvdmlkZXIgaW1wbGVtZW50YXRpb25cbiAgICAgKi9cbiAgICBwcml2YXRlIHJlZ2lzdHJ5QnlQcm92aWRlcjogTWFwPHN0cmluZywgRGF0YVByb3ZpZGVyPGFueT4+O1xuXG5cbiAgICAvKipcbiAgICAgKiBNYXBzIGEgY2xhc3MgTmFtZSAgdG8gYWN0dWFsIHR5cGVcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlZ2lzdHJ5TmFtZVRvQ2xhc3M6IE1hcDxzdHJpbmcsIGFueT47XG5cblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVnaXN0cnlCeVByb3ZpZGVyID0gbmV3IE1hcDxzdHJpbmcsIERhdGFQcm92aWRlcjxhbnk+PigpO1xuICAgICAgICB0aGlzLnJlZ2lzdHJ5TmFtZVRvQ2xhc3MgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvciBldmVyeSBzaW5nbGUgcmVnaXN0ZXJlZCBEYXRhUHJvdmlkZXIgaW1wbGVtZW50YXRpb24gd2UgYWxzbyBuZWVkIHN0b3JlIGl0cyBwcm90b3R5cGVcbiAgICAgKiBpbiBvcmRlciB0byBiZSBhYmxlIHRvIHN1cHBvcnQgc29tZSBraW5kIG9mIGluaGVyaXRhbmNlLiBZb3UgY2FuIHJlZ2lzdGVyIGEgcHJvdmlkZXIgZm9yXG4gICAgICogYSBwYXJlbnQgY2xhc3MgaWYgbmVlZGVkXG4gICAgICpcbiAgICAgKi9cbiAgICByZWdpc3RlclByb3ZpZGVyPFQ+KHRhcmdldDogYW55LCBwcm92aWRlcjogRGF0YVByb3ZpZGVyPFQ+KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsodGFyZ2V0KSB8fCAoIWlzU3RyaW5nTWFwKHRhcmdldCkgJiYgIWlzVHlwZSh0YXJnZXQpKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCcgQ2Fubm90IHJlZ2lzdGVyIG5vbi1vYmplY3QnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuYW1lID0gaXNUeXBlKHRhcmdldCkgPyB0YXJnZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yLm5hbWUgOiB0YXJnZXQuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgdGhpcy5yZWdpc3RyeUJ5UHJvdmlkZXIuc2V0KG5hbWUsIHByb3ZpZGVyKTtcblxuICAgICAgICBsZXQgcHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCk7XG4gICAgICAgIHRoaXMucmVnaXN0cnlOYW1lVG9DbGFzcy5zZXQobmFtZSwgcHJvdG90eXBlKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNlYXJjaCBmb3IgYmVzdCBtYXRjaGluZyBwcm92aWRlci4gSWYgbm90IGZvdW5kIHRoZW4gdXNlIG9iamVjdCBwcm90b3R5cGUgdG8gZ2V0IGhvbGQgb2YgaXRzXG4gICAgICogcGFyZW50IGFuZCBzZWUgaWYgdGhlcmUgaXMgYSBwcm92aWRlciByZWdpc3RlcmVkIG9uIHRoaXMgbGV2ZWxcbiAgICAgKlxuICAgICAqL1xuICAgIGJlc3RNYXRjaEZvckNsYXNzPFQ+KGNsYXNzTmFtZTogc3RyaW5nKTogRGF0YVByb3ZpZGVyPFQ+XG4gICAge1xuICAgICAgICBsZXQgcmVnaXN0ZXJlZENsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgbGV0IGNsYXNzUHJvdG8gPSB0aGlzLnJlZ2lzdHJ5TmFtZVRvQ2xhc3MuZ2V0KGNsYXNzTmFtZSk7XG5cbiAgICAgICAgd2hpbGUgKGlzUHJlc2VudChyZWdpc3RlcmVkQ2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgbGV0IHByb3ZpZGVyOiBEYXRhUHJvdmlkZXI8VD4gPSB0aGlzLnJlZ2lzdHJ5QnlQcm92aWRlci5nZXQocmVnaXN0ZXJlZENsYXNzTmFtZSk7XG5cbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXIudHlwZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdmlkZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdvIHVwIHRvIHBhcmVudFxuICAgICAgICAgICAgaWYgKGlzUHJlc2VudChjbGFzc1Byb3RvKSkge1xuICAgICAgICAgICAgICAgIGNsYXNzUHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2xhc3NQcm90byk7XG4gICAgICAgICAgICAgICAgbGV0IHBhcmVudE5hbWUgPSBvYmplY3RUb05hbWUoY2xhc3NQcm90byk7XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJlZENsYXNzTmFtZSA9XG4gICAgICAgICAgICAgICAgICAgIChpc1ByZXNlbnQocGFyZW50TmFtZSkgJiYgcGFyZW50TmFtZSAhPT0gcmVnaXN0ZXJlZENsYXNzTmFtZSkgPyBwYXJlbnROYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhlIHNhbWUgYXMgYmVzdE1hdGNoRm9yQ2xhc3MoKSB3aXRoIHRoZSBkaWZmZXJlbmNlIHRvIHBhc3MgYSB0eXBlLiBJZiB5b3Ugd2FudCB0b1xuICAgICAqIHN1cHBvcnQgb2JqZWN0IGluaGVyaXRhbmNlIHlvdSBuZWVkIHRoaXMuXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIGJlc3RNYXRjaEZvclR5cGU8VD4odHlwZTogVHlwZTxUPik6IERhdGFQcm92aWRlcjxUPlxuICAgIHtcbiAgICAgICAgbGV0IG5hbWU6IHN0cmluZyA9IG9iamVjdFRvTmFtZSh0eXBlKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdHJ5TmFtZVRvQ2xhc3Muc2V0KG5hbWUsIHR5cGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5iZXN0TWF0Y2hGb3JDbGFzczxUPihuYW1lKTtcbiAgICB9XG59XG5cblxuLyoqXG4gKiBQcm92aWRlciBpcyBhIGRhdGEgZHJpdmVyIHRoYXQgY2FuIGFjY2VzcyBkYXRhIGFuZCByZXRyaWV2ZSB0aGVtLiBJdCBrbm93cyBob3cgdG8gZ2V0IDFcbiAqIG9yIG1vcmUgcmVjb3JkcywgbWF5YmUgZG8gcGFnaW5nIGFuZCBzb21lIG90aGVyIHRoaW5ncy5cbiAqXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEYXRhUHJvdmlkZXI8VD5cbntcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGN1cnJlbnQgdHlwZSBmb3IgdGhpcyBEYXRhUHJvdmlkZXJcbiAgICAgKi9cbiAgICB0eXBlOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBOb3RpZmllcyBhbGwgdGhlIGxpc3RlbmVycyBpbiBjYXNlIG9mIGRhdGEgYXJlIGF2YWlsYWJsZSBvciBpZiB0aGV5IGNoYW5nZWQgZHVlIHRvIHNvbWUgdXNlclxuICAgICAqIGludGVyYWN0aW9uICAoc2VhcmNoLCBhZGRpbmcgb3IgcmVtb3ZpbmcpLlxuICAgICAqXG4gICAgICovXG4gICAgZGF0YUNoYW5nZXM6IEJlaGF2aW9yU3ViamVjdDxUW10+ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxUW10+KFtdKTtcblxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgZGF0YSBzb3VyY2UgcG9wdWxhdGVkIGJ5IGZldGNoIG9yIHNlYXJjaC4gSlMgYXBwbGljYXRpb24gY2FuIGhvbGQgbGFyZ2UgYW1vdW50IG9mXG4gICAgICogcmVjb3JkcyB3aXRob3V0IGdvaW5nIGJhY2sgdG8gdGhlIFJFU1Qgc2VydmVyLiBUaGlzIGNhbiBiZSB1c2VkIHRvIGNhY2hlIHNlYXJjaCByZXN1bHQgb25cbiAgICAgKiB0aGUgY2xpZW50IHNpdGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBvZmZTY3JlZW5EYXRhOiBhbnlbXTtcblxuXG4gICAgLyoqXG4gICAgICogIFJldHVybiBzaXplIG9mIHRoZSBzb3VyY2VcbiAgICAgKlxuICAgICAqL1xuICAgIGV4cGVjdGVkQ291bnQocGFyYW1zPzogTWFwPHN0cmluZywgYW55Pik6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogRm9yIHVzZSBjYXNlcyB3aGVyZSB3ZSBuZWVkIHRvIHJldHJpZXZlIGRhdGEgYmFzZWQgb24gc29tZSBjcml0ZXJpYSBlLmcuXG4gICAgICpcbiAgICAgKiAgLSBtYXggbnVtYmVyIG9mIHJlY29yZHNcbiAgICAgKiAgLSBzdXBwb3J0IHBhZ2luZyB3aXRoIG9mZnNldCBhbmQgbGltaXRcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIGJ5IGZldGNoXG4gICAgICovXG4gICAgYWJzdHJhY3QgZGF0YUZvclBhcmFtcyhwYXJhbXM6IE1hcDxzdHJpbmcsIGFueT4pOiBBcnJheTxUPjtcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBGZXRjaGVzIGRhdGEgZnJvbSB1bmRlcmx5aW5nIGRhdGFQcm92aWRlci5cbiAgICAgKlxuICAgICAqIFJlcGxhY2VtZW50IGZvciBkYXRhZm9yUGFyYW1zXG4gICAgICpcbiAgICAgKi9cbiAgICBhYnN0cmFjdCBmZXRjaChwYXJhbXM6IE1hcDxzdHJpbmcsIGFueT4pOiBPYnNlcnZhYmxlPFRbXT47XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFJldHVybnMgbm9uLWFzeW5jIGN1cnJlbnQgc3RhdGUgb2YgZGF0YVxuICAgICAqL1xuICAgIGRhdGEoKTogQXJyYXk8VD5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFDaGFuZ2VzLmdldFZhbHVlKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUZWxscyBpZiB0aGlzIERhdGFQcm92aWRlciBzdXBwb3J0cyBJTlNFUlQsIFJFTU9WRVxuICAgICAqXG4gICAgICovXG4gICAgY2FuQ1JVRCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUZWxscyBpZiB0aGlzIERhdGFQcm92aWRlciBzdXBwb3J0cyBxdWVyeSBjYXBhYmlsaXR5XG4gICAgICpcbiAgICAgKi9cbiAgICBjYW5RdWVyeSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50IHRvIHN1cHBvcnQgaW5zZXJ0aW9uLiBBZnRlciByZWNvcmQgaXMgaW5zZXJ0ZWQgZW1pdCBldmVudCBmb3IgZGF0YUNoYW5nZXMgdG9cbiAgICAgKiBpbmZvcm0gYWxsIHN1YnNjcmliZXJzXG4gICAgICpcbiAgICAgKi9cbiAgICBpbnNlcnQob2JqOiBhbnkpOiB2b2lkXG4gICAge1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50IHRvIHN1cHBvcnQgcmVjb3JkIHJlbW92YWwuIEFmdGVyIHJlY29yZCBpcyByZW1vdmVkIGVtaXQgZXZlbnQgZm9yIGRhdGFDaGFuZ2VzIHRvXG4gICAgICogaW5mb3JtIGFsbCBzdWJzY3JpYmVycy5cbiAgICAgKlxuICAgICAqL1xuICAgIHJlbW92ZShvYmo6IGFueSk6IHZvaWRcbiAgICB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbXBsZW1lbnQgdG8gcHJvdmlkZSBhY2Nlc3MgdG8gbG93IGxldmVsIHNlYXJjZyBBUEkuXG4gICAgICpcbiAgICAgKi9cbiAgICBxdWVyeShwYXJhbXM6IE1hcDxzdHJpbmcsIHN0cmluZz4pOiB2b2lkXG4gICAge1xuICAgIH1cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtEYXRhUHJvdmlkZXJ9IGZyb20gJy4vZGF0YXR5cGUtcmVnaXN0cnkuc2VydmljZSc7XG5pbXBvcnQge0ZpZWxkUGF0aCwgaXNCbGFuaywgaXNQcmVzZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7T2JzZXJ2YWJsZSwgb2YgYXMgb2JzZXJ2YWJsZU9mfSBmcm9tICdyeGpzJztcblxuXG4vKipcbiAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gZm9yIEFycmF5cy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFycmF5RGF0YVByb3ZpZGVyPFQ+IGV4dGVuZHMgRGF0YVByb3ZpZGVyPFQ+XG57XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgIHZhbHVlczogQXJyYXk8VD4pXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnR5cGUgPSBBcnJheTtcblxuICAgICAgICB0aGlzLm9mZlNjcmVlbkRhdGEgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgdGhpcy5kYXRhQ2hhbmdlcy5uZXh0KHRoaXMudmFsdWVzKTtcbiAgICB9XG5cbiAgICBleHBlY3RlZENvdW50KHBhcmFtcz86IE1hcDxzdHJpbmcsIGFueT4pOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9mZlNjcmVlbkRhdGEubGVuZ3RoO1xuICAgIH1cblxuICAgIGRhdGFGb3JQYXJhbXMocGFyYW1zPzogTWFwPHN0cmluZywgYW55Pik6IEFycmF5PFQ+XG4gICAge1xuICAgICAgICBpZiAoaXNCbGFuayhwYXJhbXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vZmZTY3JlZW5EYXRhO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5vZmZTY3JlZW5EYXRhO1xuXG4gICAgICAgIGlmIChpc1ByZXNlbnQocGFyYW1zKSAmJiBwYXJhbXMuaGFzKCdvZmZzZXQnKSAmJiBwYXJhbXMuaGFzKCdsaW1pdCcpKSB7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gcGFyYW1zLmdldCgnb2Zmc2V0Jyk7XG4gICAgICAgICAgICBsZXQgbGltaXQgPSBwYXJhbXMuZ2V0KCdsaW1pdCcpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAob2Zmc2V0ICsgbGltaXQpKSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBsaW1pdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKG9mZnNldCwgZGF0YS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmFtcy5oYXMoJ29yZGVyYnknKSAmJiBwYXJhbXMuaGFzKCdzZWxlY3RvcicpKSB7XG4gICAgICAgICAgICB0aGlzLnNvcnQoZGF0YSwgcGFyYW1zLmdldCgnb3JkZXJieScpLCBwYXJhbXMuZ2V0KCdzZWxlY3RvcicpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cblxuICAgIGZldGNoKHBhcmFtczogTWFwPHN0cmluZywgYW55Pik6IE9ic2VydmFibGU8VFtdPlxuICAgIHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGVPZih0aGlzLmRhdGFGb3JQYXJhbXMocGFyYW1zKSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGZvciBzb3J0aW5nIGN1cnJlbnQgZGF0YXNldCBieSBvbmUgY29sdW1uIC8ga2V5XG4gICAgICpcbiAgICAgKiBmb3Igc29ydE9yZGVyaW5nIHBsZWFzZSBzZWUgRGF0YXRhYmxlIGFuZCBpdHMgc29ydE9yZGVyaW5nRm9yTnVtYmVyKClcbiAgICAgKlxuICAgICAqICAgICAgMSAgPSBhc2NlbmRpbmdcbiAgICAgKiAgICAgIC0xID0gZGVzY2VuZGluZ1xuICAgICAqL1xuICAgIHByaXZhdGUgc29ydChhcnJheVRvU29ydDogYW55W10sIGtleTogc3RyaW5nLCBzb3J0T3JkZXI6IG51bWJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGFycmF5VG9Tb3J0LnNvcnQoKGRhdGExOiBhbnksIGRhdGEyOiBhbnkpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZTEgPSBGaWVsZFBhdGguZ2V0RmllbGRWYWx1ZShkYXRhMSwga2V5KTtcbiAgICAgICAgICAgIGxldCB2YWx1ZTIgPSBGaWVsZFBhdGguZ2V0RmllbGRWYWx1ZShkYXRhMiwga2V5KTtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUxID09IG51bGwgJiYgdmFsdWUyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSAtMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUxICE9IG51bGwgJiYgdmFsdWUyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZTEgPT0gbnVsbCAmJiB2YWx1ZTIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZTEgPT09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZTIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWUxLmxvY2FsZUNvbXBhcmUodmFsdWUyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gKHZhbHVlMSA8IHZhbHVlMikgPyAtMSA6ICh2YWx1ZTEgPiB2YWx1ZTIpID8gMSA6IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAoc29ydE9yZGVyICogcmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuaW1wb3J0IHtEYXRhUHJvdmlkZXIsIERhdGFUeXBlUHJvdmlkZXJSZWdpc3RyeX0gZnJvbSAnLi9kYXRhdHlwZS1yZWdpc3RyeS5zZXJ2aWNlJztcbmltcG9ydCB7SW5qZWN0YWJsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2lzQXJyYXksIGlzU3RyaW5nfSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7QXJyYXlEYXRhUHJvdmlkZXJ9IGZyb20gJy4vYXJyYXktZGF0YS1wcm92aWRlcic7XG5cblxuLyoqXG4gKiBQcm92aWRlcyB0b3AgbGV2ZWwgYWNjZXNzb3IgY2xhc3MgaW4gb3JkZXIgdG8gbWFrZSB7QGxpbmsgRGF0YVByb3ZpZGVyfSByZXRyaWV2YWwgcHJvY2VzcyBlYXNpZXIuXG4gKiBVc2luZyB7QGxpbmsgRGF0YVR5cGVQcm92aWRlclJlZ2lzdHJ5fSB3ZSBlaXRoZXIgcmV0cmlldmUgcmVnaXN0ZXJlZCBpbnN0YW5jZSBvZiBjb25jcmV0ZVxuICogcHJvdmlkZXIgb3IgaW5zdGFudGlhdGUgb3VyIGltcGxpY2l0IHByb3ZpZGVyIGZvciBuYXRpdmUgdHlwZXMgc3VjaCBhcyBBcnJheS5cbiAqXG4gKlxuICovXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRGF0YVByb3ZpZGVyc1xue1xuXG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlZ2lzdHJ5OiBEYXRhVHlwZVByb3ZpZGVyUmVnaXN0cnkpXG4gICAge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBiZXN0IG1hdGNoaW5nICBEYXRhUHJvdmlkZXIgb3IgY3JlYXRlIG5ldyBvbmUgaW4gY2FzZSBvZiBBcnJheVxuICAgICAqIE1vcmUgcm9vbSB0byByZWdpc3RlciBhbmQgaW5zdGFudGlhdGUgc29tZSBvdGhlciBpbXBsaWNpdCBQcm92aWRlcnNcbiAgICAgKi9cbiAgICBmaW5kKHRhcmdldDogYW55KTogRGF0YVByb3ZpZGVyPGFueT5cbiAgICB7XG4gICAgICAgIGlmIChpc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXJyYXlEYXRhUHJvdmlkZXIodGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RyeS5iZXN0TWF0Y2hGb3JDbGFzcyh0YXJnZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0cnkuYmVzdE1hdGNoRm9yVHlwZSh0YXJnZXQpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIG5ldyBwcm92aWRlciB3aXRoaW4gRGF0YVR5cGVQcm92aWRlclJlZ2lzdHJ5XG4gICAgICpcbiAgICAgKi9cbiAgICByZWdpc3RlcjxUPih0YXJnZXQ6IGFueSwgcHJvdmlkZXI6IERhdGFQcm92aWRlcjxUPik6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMucmVnaXN0cnkucmVnaXN0ZXJQcm92aWRlcih0YXJnZXQsIHByb3ZpZGVyKTtcbiAgICB9XG5cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbmltcG9ydCB7RGF0YVByb3ZpZGVyfSBmcm9tICcuL2RhdGF0eXBlLXJlZ2lzdHJ5LnNlcnZpY2UnO1xuaW1wb3J0IHtJbmplY3RhYmxlLCBUeXBlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gICAgYXNzZXJ0LFxuICAgIEZpZWxkUGF0aCxcbiAgICBpc0FycmF5LFxuICAgIGlzQmxhbmssXG4gICAgaXNGdW5jdGlvbixcbiAgICBpc0pzT2JqZWN0LFxuICAgIGlzUHJlc2VudCxcbiAgICBvYmplY3RUb05hbWUsXG4gICAgb2JqZWN0VmFsdWVzLFxuICAgIHVuaW1wbGVtZW50ZWRcbn0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge09ic2VydmFibGUsIG9mIGFzIG9ic2VydmFibGVPZn0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0FycmF5RGF0YVByb3ZpZGVyfSBmcm9tICcuL2FycmF5LWRhdGEtcHJvdmlkZXInO1xuaW1wb3J0IHtPdXRsaW5lTm9kZX0gZnJvbSAnLi4vLi4vd2lkZ2V0cy9vdXRsaW5lL291dGxpbmUtZm9yLmNvbXBvbmVudCc7XG5cblxuLyoqXG4gKlxuICogUHJvdmlkZXMgYSByZWdpc3RyeSBvZiBkaWZmZXJlbnQgZGF0YSBGaW5kZXJzIHVzZWQgbW9zdGx5IGJ5IERhdGFTb3VyY2VzLiBBbGwgRmluZGVycyBhcmVcbiAqIHJlZ2lzdGVyZWQgYnkgdGhpcyBjbGFzcyBhcyB3ZSBkb24ndCBoYXZlIGFueSBuZWVkcyByaWdodCBub3cgdG8gZXhwb3NlIHRoaXMgdG8gZGV2ZWxvcGVyLlxuICpcbiAqL1xuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERhdGFGaW5kZXJzXG57XG5cbiAgICBwcml2YXRlIGZpbmRlcnNCeVR5cGU6IE1hcDxEYXRhRmluZGVyLCBUeXBlPERhdGFGaW5kZXI+PiA9IG5ldyBNYXAoKTtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMuaW5pdEZpbmRlcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgYmVzdCBtYXRjaGluZyBEYXRhRmluZGVyIGJhc2VkIG9uIHRoZSBvYmplY3QgdHlwZSBhbmQgcXVlcnlUeXBlLlxuICAgICAqL1xuICAgIGZpbmQoZm9yUHJvdmlkZXI6IERhdGFQcm92aWRlcjxhbnk+LCBmb3JUeXBlOiBRdWVyeVR5cGUpOiBEYXRhRmluZGVyXG4gICAge1xuXG4gICAgICAgIGxldCBmaW5kZXJNYXRjaDogVHlwZTxEYXRhRmluZGVyPjtcbiAgICAgICAgdGhpcy5maW5kZXJzQnlUeXBlLmZvckVhY2goKHY6IFR5cGU8RGF0YUZpbmRlcj4sIGs6IERhdGFGaW5kZXIpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChrLmFjY2VwdHMoZm9yUHJvdmlkZXIsIGZvclR5cGUpKSB7XG4gICAgICAgICAgICAgICAgZmluZGVyTWF0Y2ggPSB2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KGZpbmRlck1hdGNoKSkge1xuICAgICAgICAgICAgbGV0IGNvcHkgPSBuZXcgZmluZGVyTWF0Y2goKTtcbiAgICAgICAgICAgIGNvcHkuZm9yRGF0YShmb3JQcm92aWRlcik7XG4gICAgICAgICAgICByZXR1cm4gY29weTtcblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBuZXcgZmluZGVyXG4gICAgICpcbiAgICAgKi9cbiAgICByZWdpc3RlcjxUPihwcm90b3R5cGU6IERhdGFGaW5kZXIsIHR5cGU6IFR5cGU8RGF0YUZpbmRlcj4pOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmZpbmRlcnNCeVR5cGUuc2V0KHByb3RvdHlwZSwgdHlwZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0RmluZGVycygpXG4gICAge1xuICAgICAgICAvLyBjcmVhdGUgYSBwcm90b3R5cGUgZm9yIGVhY2hcbiAgICAgICAgdGhpcy5maW5kZXJzQnlUeXBlLnNldChuZXcgRnVsbFRleHRBcnJheURhdGFGaW5kZXIoKSwgRnVsbFRleHRBcnJheURhdGFGaW5kZXIpO1xuICAgICAgICB0aGlzLmZpbmRlcnNCeVR5cGUuc2V0KG5ldyBPdXRsaW5lRnVsbFRleHRBcnJheURhdGFGaW5kZXIoKSxcbiAgICAgICAgICAgIE91dGxpbmVGdWxsVGV4dEFycmF5RGF0YUZpbmRlcik7XG5cbiAgICB9XG59XG5cbi8qKlxuICogV2UgaGF2ZSBkaWZmZXJlbnQgb3B0aW9ucyBob3cgdG8gcXVlcnkgZGF0YS4gRnVsbFRleHQgdXNlcyBhIHN0cmluZyB3aGVyZSBwcmVkaWNhdGUgaXNcbiAqIHVzaW5nIGtleTp2YWx1ZSBwYWlyIHRvIGJ1aWx0IGEgcXVlcnlcbiAqL1xuZXhwb3J0IGVudW0gUXVlcnlUeXBlXG57XG4gICAgRnVsbFRleHQsXG4gICAgRnVsbFRleHRPdXRsaW5lLFxuICAgIFByZWRpY2F0ZSxcbiAgICBGdWxsVGV4dEFuZFByZWRpY2F0ZVxufVxuXG5cbi8qKlxuICogVGhpcyBjbGFzcyBwcm92aWRlcyBtYXRjaGluZyBjYXBhYmlsaXR5IGZvciBnaXZlbiBEYXRhUHJvdmlkZXIuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEYXRhRmluZGVyXG57XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogTG9va3VwIGtleSB0byBhcHBseSB3aGVuIHJ1bm5pbmcgbWF0Y2guIElkZWFsbHkgeW91ciBEUyBzaG91bGQgYmUgYWJsZSB0byBzZXQgbG9va3VwS2V5XG4gICAgICogZWl0aGVyIGdsb2JhbGx5IGZvciBnaXZlbiBkYXRhUHJvdmlkZXIgb3IgbG9jYWxseSBldmVyeSB0aW1lIHlvdSBydW4gc2VhcmNoLiBUaGlzIGlzIGluXG4gICAgICogY2FzZSB5b3UgaGF2ZSBtYW55IGNob29zZXJzIGZvciB0aGUgc2FtZSB0eXBlIGFuZCB5b3Ugd2FudCB0aGVtIHRvIGhhdmUgZGlmZmVyZW50IGxvb2t1cFxuICAgICAqIGtleS5cbiAgICAgKlxuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICBhYnN0cmFjdCBzZXQgbG9va3VwS2V5KGtleTogc3RyaW5nKTtcblxuICAgIC8qKlxuICAgICAqIEluIG9yZGVyIHRvIGZpbmQgY29uY3JldGUgRGF0YUZpbmRlciB3ZSBuZWVkIHRvIGtub3cgdGhlIHRhcmdldCB0eXBlIGFuZCB0aGUgcXVlcnkgdHlwZVxuICAgICAqXG4gICAgICovXG4gICAgYWNjZXB0cyhmb3JEYXRhOiBEYXRhUHJvdmlkZXI8YW55PiwgZm9yVHlwZTogUXVlcnlUeXBlKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogU2V0cyBhIERhdGFQcm92aWRlciBmb3IgRGF0YUZpbmRlclxuICAgICAqXG4gICAgICovXG4gICAgYWJzdHJhY3QgZm9yRGF0YShwcm92aWRlcjogRGF0YVByb3ZpZGVyPGFueT4pOiBEYXRhRmluZGVyO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBNYXRjaGluZyBtZXRob2RzIHdoaWNoIGFyZSBlaXRoZXIgYXN5bmMgb3Igc3luY1xuICAgICAqXG4gICAgICovXG4gICAgYWJzdHJhY3QgaW5zdGFudE1hdGNoPFQ+KHF1ZXJ5OiBhbnksIG1heDogbnVtYmVyKTogVFtdO1xuXG4gICAgYWJzdHJhY3QgaW5zdGFudE1hdGNoV2l0aFNlbGVjdGlvbnM8VD4oc2VsZWN0aW9uc0Zvck1hdGNoOiBhbnlbXSwgcXVlcnk6IGFueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IG51bWJlcik6IFRbXTtcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBRdWVyeSBjYW4gYmUgYSBzaW1wbGUgc3RyaW5nIGxpdGVyYWwgb3IgYSBtYXAgaGF2aW5nIGRpZmZlcmVudCBrZXkgdmFsdWUgcGFpciBhcyBhXG4gICAgICogZmlsdGVyXG4gICAgICpcbiAgICAgKi9cbiAgICBtYXRjaDxUPihxdWVyeTogYW55LCBtYXg6IG51bWJlciA9IC0xKTogT2JzZXJ2YWJsZTxUW10+XG4gICAge1xuICAgICAgICByZXR1cm4gdW5pbXBsZW1lbnRlZCgpO1xuICAgIH1cblxuICAgIG1hdGNoV2l0aFNlbGVjdGlvbnM8VD4oc2VsZWN0aW9uczogYW55W10sIHF1ZXJ5OiBhbnksIG1heDogbnVtYmVyKTogT2JzZXJ2YWJsZTxUW10+XG4gICAge1xuICAgICAgICByZXR1cm4gdW5pbXBsZW1lbnRlZCgpO1xuICAgIH1cbn1cblxuXG4vKipcbiAqIFNpbXBsZSBGdWxsVGV4dCBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiBpbmZpeCBzdHJpbmcgbWF0Y2hpbmcgd2hpY2ggd29ya3Mgb24gdG9wIG9mXG4gKiBBcnJheURhdGFQcm92aWRlci5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBGdWxsVGV4dEFycmF5RGF0YUZpbmRlciBleHRlbmRzIERhdGFGaW5kZXJcbntcbiAgICAvKipcbiAgICAgKiAgSWYgbGlzdCB2YWx1ZSBpcyBvYmplY3Qgc2V0IGtleVBhdGggdG8gZ2V0IHRoZSBvYmplY3QgdmFsdWVcbiAgICAgKi9cbiAgICBfa2V5UGF0aDogRmllbGRQYXRoO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBEYXRhUHJvdmlkZXIgdXNlZCB0byBhY2Nlc3MgZGF0YVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfcHJvdmlkZXI6IERhdGFQcm92aWRlcjxhbnk+O1xuXG4gICAgc2V0IGxvb2t1cEtleShrZXk6IHN0cmluZylcbiAgICB7XG4gICAgICAgIHRoaXMuX2tleVBhdGggPSBpc1ByZXNlbnQoa2V5KSA/IG5ldyBGaWVsZFBhdGgoa2V5KSA6IG51bGw7XG4gICAgfVxuXG4gICAgYWNjZXB0cyhmb3JEYXRhOiBEYXRhUHJvdmlkZXI8YW55PiwgZm9yVHlwZTogUXVlcnlUeXBlKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZvckRhdGEgaW5zdGFuY2VvZiBBcnJheURhdGFQcm92aWRlciAmJiBmb3JUeXBlID09PSBRdWVyeVR5cGUuRnVsbFRleHQ7XG4gICAgfVxuXG4gICAgZm9yRGF0YShwcm92aWRlcjogRGF0YVByb3ZpZGVyPGFueT4pOiBGdWxsVGV4dEFycmF5RGF0YUZpbmRlclxuICAgIHtcbiAgICAgICAgdGhpcy5fcHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaW5zdGFudE1hdGNoPFQ+KHF1ZXJ5OiBhbnksIG1heDogbnVtYmVyKTogVFtdXG4gICAge1xuICAgICAgICBhc3NlcnQoaXNQcmVzZW50KHRoaXMuX3Byb3ZpZGVyKSwgJ01pc3NpbmcgRGF0YVByb3ZpZGVyJyk7XG5cbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLl9wcm92aWRlci5kYXRhRm9yUGFyYW1zKG5ldyBNYXAoKS5zZXQoJ2xpbWl0JywgbWF4KSk7XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbnRNYXRjaFdpdGhTZWxlY3Rpb25zPFQ+KGxpc3QsIHF1ZXJ5LCBtYXgpO1xuICAgIH1cblxuICAgIGluc3RhbnRNYXRjaFdpdGhTZWxlY3Rpb25zPFQ+KHNlbGVjdGlvbnNGb3JNYXRjaDogYW55W10sIHF1ZXJ5OiBzdHJpbmcsIG1heDogbnVtYmVyKTogQXJyYXk8VD5cbiAgICB7XG4gICAgICAgIGFzc2VydChpc1ByZXNlbnQodGhpcy5fcHJvdmlkZXIpLCAnTWlzc2luZyBEYXRhUHJvdmlkZXInKTtcblxuICAgICAgICBpZiAoaXNCbGFuayhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3Rpb25zRm9yTWF0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdDogYW55W10gPSBbXTtcbiAgICAgICAgbGV0IHRvTG93ZXJQYXR0ZXJuID0gcXVlcnkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGlvbnNGb3JNYXRjaC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBzZWxlY3Rpb25zRm9yTWF0Y2hbaV07XG4gICAgICAgICAgICBpZiAodGhpcy5tYXRjaGVzKGl0ZW0sIHRvTG93ZXJQYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID49IG1heCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFdhcm5pbmc6IElmIHlvdSBkb250IHN1cHBseSBzZWFyY2ggS2V5IGFuZCB5b3Ugd2FudCBmdWxsdGV4dCBzZWFyY2ggYW5kIHlvdSB1c2UgdGhpc1xuICAgICAqIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gYmUgYXdhcmUgdGhhdCBpdCBjYW4gIHBlcmZvcm0gcG9vcmx5IGFzIGl0IGlzIG5haXZlIGltcGxlbWVudGFpb25cbiAgICAgKiB0aGF0IGRvZXMgbm90IGRvIGRlZXAgY29tcGFyZS5cbiAgICAgKlxuICAgICAqL1xuICAgIG1hdGNoZXM8VD4oaXRlbTogYW55LCBwYXR0ZXJuOiBzdHJpbmcpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgdmFsID0gKGlzUHJlc2VudCh0aGlzLl9rZXlQYXRoKSkgPyB0aGlzLl9rZXlQYXRoLmdldEZpZWxkVmFsdWUoaXRlbSkgOiBpdGVtO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWwpKSB7XG4gICAgICAgICAgICB2YWwgPSB2YWwuY2FsbChpdGVtKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0pzT2JqZWN0KGl0ZW0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYXNPYmplY3RWYWx1ZShpdGVtLCBwYXR0ZXJuKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGlzQmxhbmsocGF0dGVybikgfHxcbiAgICAgICAgICAgICAgICBpc1ByZXNlbnQodmFsKSAmJiB2YWwudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YocGF0dGVybikgPiAtMTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgbWF0Y2g8VD4ocXVlcnk6IGFueSwgbWF4OiBudW1iZXIpOiBPYnNlcnZhYmxlPFRbXT5cbiAgICB7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlT2YodGhpcy5pbnN0YW50TWF0Y2gocXVlcnksIG1heCkpO1xuICAgIH1cblxuICAgIG1hdGNoV2l0aFNlbGVjdGlvbnM8VD4oc2VsZWN0aW9uczogYW55W10sIHF1ZXJ5OiBhbnksIG1heDogbnVtYmVyKTogT2JzZXJ2YWJsZTxUW10+XG4gICAge1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZU9mKHRoaXMuaW5zdGFudE1hdGNoV2l0aFNlbGVjdGlvbnMoc2VsZWN0aW9ucywgcXVlcnksIG1heCkpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBoYXNPYmplY3RWYWx1ZShvYmo6IGFueSwgcGF0dGVybjogc3RyaW5nKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgbGV0IHZhbHVlcyA9IG9iamVjdFZhbHVlcyhvYmopO1xuICAgICAgICBsZXQgcGFyZW50T2JqID0gb2JqZWN0VG9OYW1lKG9iaik7XG4gICAgICAgIGxldCBsZW5ndGgyID0gdmFsdWVzLmZpbHRlcigodmFsdWU6IGFueSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGlzQmxhbmsodmFsdWUpIHx8IGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0pzT2JqZWN0KHZhbHVlKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YocGF0dGVybikgIT09IC0xO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzSnNPYmplY3QodmFsdWUpICYmIG9iamVjdFRvTmFtZSh2YWx1ZSkgIT09IHBhcmVudE9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhhc09iamVjdFZhbHVlKHZhbHVlLCBwYXR0ZXJuKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KS5sZW5ndGg7XG4gICAgICAgIHJldHVybiBsZW5ndGgyID4gMDtcbiAgICB9XG59XG5cblxuLyoqXG4gKiBFeHRlbmRzIGJhc2ljIEluZml4IGltcGxlbWVudGF0aW9uIHRvIHdvcmsgb24gdG9wIG9mIE91dGxpbmVOb2Rlcy4gSXQgZmlyc3QgY2hlY2tzIGFsbCB0aGVcbiAqIGNoaWxkcmVuIG9uIGxvd2VzdCBsZXZlbCBhbmQgbW92aW5nIHVwIHRvIHRoZSByb290IGFuZCBtYXJraW5nIG5vZGVzIHRoYXQgY2FuIGJlIHJlbW92ZWQuXG4gKlxuICogIEZvciBzaW1wbGUgZGF0YSBzdHJ1Y3R1cmUgd2hpY2ggb3BlcmF0ZXMgb24gbG9jYWwgYXJyYXkgdGhpcyBzaG91bGQgYmUgZ29vZCBlbm91Z2ggd2UgdGhpc1xuICogIGNhbiBuZXZlciBtYXRjaCB3aXRoIHJlYWwgREIgZnVsbCB0ZXh0IHNlYXJjaC5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBPdXRsaW5lRnVsbFRleHRBcnJheURhdGFGaW5kZXIgZXh0ZW5kcyBGdWxsVGV4dEFycmF5RGF0YUZpbmRlclxue1xuXG4gICAgYWNjZXB0cyhmb3JEYXRhOiBEYXRhUHJvdmlkZXI8YW55PiwgZm9yVHlwZTogUXVlcnlUeXBlKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZvckRhdGEgaW5zdGFuY2VvZiBBcnJheURhdGFQcm92aWRlciAmJiBmb3JUeXBlID09PSBRdWVyeVR5cGUuRnVsbFRleHRPdXRsaW5lO1xuICAgIH1cblxuXG4gICAgaW5zdGFudE1hdGNoV2l0aFNlbGVjdGlvbnM8VD4oc2VsZWN0aW9uc0Zvck1hdGNoOiBhbnlbXSwgcXVlcnk6IHN0cmluZywgbWF4OiBudW1iZXIpOiBBcnJheTxUPlxuICAgIHtcbiAgICAgICAgYXNzZXJ0KGlzUHJlc2VudCh0aGlzLl9wcm92aWRlciksICdNaXNzaW5nIERhdGFQcm92aWRlcicpO1xuXG4gICAgICAgIGlmIChpc0JsYW5rKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGlvbnNGb3JNYXRjaDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdG9Mb3dlclBhdHRlcm4gPSBxdWVyeS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGxldCBzb3VyY2VUb1NlYXJjaCA9IHNlbGVjdGlvbnNGb3JNYXRjaC5zbGljZSgpO1xuICAgICAgICB0aGlzLnJvbGx1cChzb3VyY2VUb1NlYXJjaCwgdG9Mb3dlclBhdHRlcm4pO1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFrZShzb3VyY2VUb1NlYXJjaCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEdvaW5nIHRocnUgdGhlIHRyZWUgZnJvbSBib3R0b20gdXAgYW5kIG1hcmsgYWxsIHRoYXQgbWF0Y2hlcyBxdWVyeVxuICAgICAqXG4gICAgICovXG4gICAgcm9sbHVwKG5vZGVzOiBPdXRsaW5lTm9kZVtdLCBxdWVyeTogc3RyaW5nKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgbm9kZXMuZm9yRWFjaCgoaXRlbTogT3V0bGluZU5vZGUpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IGZyb20gYm90dG9tIHVwIGFuZCBjYXB0dXJlIGhvdyBtYW55IG9jY3VycmVuY2VzIGlzIGZvdW5kIGZvciBmdXR1cmUgdXNlXG4gICAgICAgICAgICBsZXQgaGFzQ2hpbGRyZW5NYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGlzUHJlc2VudChpdGVtLmNoaWxkcmVuKSAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBoYXNDaGlsZHJlbk1hdGNoID0gdGhpcy5yb2xsdXAoaXRlbS5jaGlsZHJlbiwgcXVlcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbS52aXNpYmxlID0gaGFzQ2hpbGRyZW5NYXRjaCB8fCB0aGlzLm1hdGNoZXMoaXRlbSwgcXVlcnkpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbm9kZXMuc29tZSgoaXRlbTogT3V0bGluZU5vZGUpID0+IGl0ZW0udmlzaWJsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIG91dCBhbGwgdGhlIG5vZGVzIHRoYXQgYXJlIG1hcmtlZCBhcyB2aXNpYmxlID0gZmFsc2UgYW5kIG1ha2Ugc3VyZSBhbmRcbiAgICAgKiBkb24ndCBtb2RpZnkgb3JpZ2luYWwgbGlzdFxuICAgICAqXG4gICAgICovXG4gICAgc2hha2Uobm9kZXM6IE91dGxpbmVOb2RlW10pOiBhbnlbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5vZGVzXG4gICAgICAgICAgICAuZmlsdGVyKG5vZGUgPT4gbm9kZS52aXNpYmxlKVxuICAgICAgICAgICAgLm1hcChub2RlID0+ICh7XG4gICAgICAgICAgICAgICAgLi4ubm9kZSxcbiAgICAgICAgICAgICAgICBpc0V4cGFuZGVkOiBub2RlLnZpc2libGUsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IG5vZGUuY2hpbGRyZW4gJiYgdGhpcy5zaGFrZShub2RlLmNoaWxkcmVuKVxuICAgICAgICAgICAgfSkpO1xuICAgIH1cblxufVxuXG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbmltcG9ydCB7RGF0YVByb3ZpZGVyc30gZnJvbSAnLi9kYXRhLXByb3ZpZGVycyc7XG5pbXBvcnQge0RhdGFGaW5kZXJzfSBmcm9tICcuL2RhdGEtZmluZGVycyc7XG5pbXBvcnQge09ic2VydmFibGV9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtJbmplY3Rpb25Ub2tlbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge3VuaW1wbGVtZW50ZWR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtEYXRhRmluZGVyLCBRdWVyeVR5cGV9IGZyb20gJy4uLy4uL2NvcmUvZGF0YS9kYXRhLWZpbmRlcnMnO1xuaW1wb3J0IHtEYXRhUHJvdmlkZXJ9IGZyb20gJy4uLy4uL2NvcmUvZGF0YS9kYXRhdHlwZS1yZWdpc3RyeS5zZXJ2aWNlJztcblxuXG5leHBvcnQgY29uc3QgREFUQV9TT1VSQ0UgPSBuZXcgSW5qZWN0aW9uVG9rZW48RGF0YVNvdXJjZT4oJ0RBVEFfU09VUkNFJyk7XG5cbi8qKlxuICogRGF0YVNvdXJjZSBkZXNjcmliZXMgYmFzaWMgZnVuY3Rpb25hbGl0eSBmb3IgaGFuZGxpbmcgc3RyZWFtIG9mIGRhdGEgc3BlY2lmaWMgdG8gY29tcG9uZW50XG4gKlxuICogSXQgaXMgZXhwZWN0ZWQgdGhhdCBEYXRhU291cmNlIHdpbGwgYmUgZGVmaW5lZCBhcyBjb21wb25lbnQgcHJvdmlkZXIgdXNpbmdcbiAqXG4gKiBAQ29tcG9uZW50cyAoe1xuICogICAgICAuLi5cbiAqICAgICAgcHJvdmlkZXJzOltcbiAqXG4gKiAgICAgICAgICBwcm92aWRlOiBEQVRBX1NPVVJDRSwgdXNlQ2xhc3M6IENob29zZXJEYXRhU291cmNlUGxhaW5BcnJheUV4YW1wbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbRGF0YVByb3ZpZGVycywgRGF0YUZpbmRlcnNdXG4gKiAgICAgIF1cbiAqXG4gKiB9KVxuICpcbiAqXG4gKiBzbyBhbGwgdGhlIGRlcGVuZGVuY2llcyAoRGF0YVByb3ZpZGVycywgRGF0YUZpbmRlcnMpIGFyZSBwcm9wZXJseSBpbmplY3RlZC5cbiAqXG4gKiBEYXRhUHJvdmlkZXIgdXNlcyBvcGVuKCkgbWV0aG9kIHRvIGJyb2FkY2FzdCBjaGFuZ2VzIHRvIGFsbCB0aGUgc3Vic2NyaWJlcnMgaW4gcmVhY3RpdmUgd2F5LlxuICogT3IgeW91IGNhbiB1c2UgaW5zdGFudCgpIG1ldGhvZCB0byByZXRyaWV2ZSBjdXJyZW50IHN0YXRlIG9mIHRoaXMgRGF0YVNvdXJjZSAoc3luYylcbiAqXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEYXRhU291cmNlXG57XG4gICAgc3RhdGljIHJlYWRvbmx5IE1heExlbmd0aCA9IDEwO1xuICAgIHN0YXRpYyByZWFkb25seSBNYXhSZWNlbnRTZWxlY3RlZCA9IDU7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEVhY2ggRGF0YVNvdXJjZSBoYXZlIGluamVjdGVkIERhdGFQcm92aWRlcnMgYW5kIERhdGFGaW5kZXJzIHRvIHJldHJpZXZlIGNvbmNyZXRlXG4gICAgICogaW1wbGVtZW50YXRpb25cbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBkYXRhUHJvdmlkZXJzPzogRGF0YVByb3ZpZGVycywgcHJvdGVjdGVkIGZpbmRlcnM/OiBEYXRhRmluZGVycylcbiAgICB7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gaW5pdGlhbGl6ZSBkYXRhIHNvdXJjZSBhbmQgcGFzcyBzb21lIGFkZGl0aW9uYWwgdmFsdWVzXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIGFic3RyYWN0IGluaXQoLi4uYXJnczogYW55W10pOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogRGF0YVByb3ZpZGVycyB3b3JrcyB3aXRoIHN0cmVhbSBvZiBkYXRhIGFuZCB0aGlzIG9wZW5zIHVwIHRoZSBjaGFubmVsIGluIG9yZGVyIHRvXG4gICAgICogbGlzdGVuIGFuZCByZWFjdCBmb3IgYW55IGNoYW5nZXMgdGhhdCBjb3VsZCBoYXBwZW4gaW5zaWRlIERhdGFQcm92aWRlclxuICAgICAqL1xuICAgIGFic3RyYWN0IG9wZW48VD4oKTogT2JzZXJ2YWJsZTxUW10+O1xuXG5cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHN1YnNjcmlwdGlvbiB0byBEYXRhUHJvdmlkZXJcbiAgICAgKi9cbiAgICBhYnN0cmFjdCBjbG9zZSgpOiB2b2lkO1xuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZGF0YSBpbnN0YW50bHkgZnJvbSB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgRGF0YVByb3ZpZGVyXG4gICAgICovXG4gICAgaW5zdGFudDxUPigpOiBUW11cbiAgICB7XG5cbiAgICAgICAgcmV0dXJuIHVuaW1wbGVtZW50ZWQoKTtcbiAgICB9XG5cbn1cblxuXG4vKipcbiAqIFRvIG1ha2UgaW5pdGlhbGl6YXRpb24gZWFzaWVyIHdlIGhhdmUgdGhpcyBjb21tb24gZm9ybWF0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIERTSW5pdFBhcmFtc1xue1xuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgdmFsdWVzIG9yIHRoZSBvYmplY3QgdHlwZSBuYW1lIHdlIHdhbnQgdG8gcmVuZGVyXG4gICAgICovXG4gICAgb2JqPzogYW55O1xuXG4gICAgLyoqXG4gICAgICogV2hpY2ggZmluZCB3ZSB3YW50IHRvIGxvYWQgRnVsbFRleHQgb3IgUHJlZGljYXRlXG4gICAgICovXG4gICAgcXVlcnlUeXBlOiBRdWVyeVR5cGU7XG5cbiAgICAvKipcbiAgICAgKiBDYW4gc3BlY2lmeSBsb29rdXAgS2V5IHRvIG5hcnJvdyBkb3duIHRoZSBzZWFyY2ggdG8gc3BlY2lmaWMgZmllbGQuIElmIGxvb2t1cCBrZXkgaXNcbiAgICAgKiBudWxsLCBpdGVtcyBhcmUgYXNzdW1lZCB0byBiZSBzdHJpbmdzXG4gICAgICovXG4gICAgbG9va3VwS2V5Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGVsbHMgaWYgdGhlIENob29zZXIgaXMgc2luZ2xlIG9yIG11bHRpIHNlbGVjdFxuICAgICAqL1xuICAgIG11bHRpc2VsZWN0OiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9uIHRvIHBhc3MgY3VzdG9tIERhdGFQcm92aWRlciBpbnN0ZWFkIGxldHRpbmcgRGF0YVByb3ZpZGVycyB0byBmaW5kIG1hdGNoXG4gICAgICovXG4gICAgZGF0YVByb3ZpZGVyPzogRGF0YVByb3ZpZGVyPGFueT47XG5cbiAgICAvKipcbiAgICAgKiBPcHRpb24gdG8gcGFzcyBjdXN0b20gRGF0YUZpbmRlciBpbnN0ZWFkIGxldHRpbmcgRGF0YUZpbmRlcnMgdG8gZmluZCBtYXRjaFxuICAgICAqL1xuICAgIGRhdGFGaW5kZXI/OiBEYXRhRmluZGVyO1xufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge0NvbXBvbmVudCwgSG9zdEJpbmRpbmd9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG4vKipcbiAqIFdlIGFyZSB1c2luZyB0aGVzZSBjb21wb25lbnRzIGFzIGEgYmV0dGVyIHdheSBzZWxlY3RvcnMuXG4gKlxuICovXG5cblxuLyoqXG4gKiBDb21tb24gY2xhc3MgdXNlZCB1c2VkIGZvciBGaXZlIFpvbmUgbGF5b3V0LiBVc2VkIGZvciB0aGUgbmctY29udGVudCBzZWxlY3RvclxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LXRvcCcsXG4gICAgdGVtcGxhdGU6ICc8bmctY29udGVudD48L25nLWNvbnRlbnQ+J1xufSlcbmV4cG9ydCBjbGFzcyBUb3Bab25lQ29tcG9uZW50XG57XG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcycpIGNsYXNzTGlzdDogc3RyaW5nID0gJ3VpLWctMTIgdWktZy1ub3BhZCAnO1xufVxuXG4vKipcbiAqIENvbW1vbiBjbGFzcyB1c2VkIHVzZWQgZm9yIEZpdmUgWm9uZSBsYXlvdXQuIFVzZWQgZm9yIHRoZSBuZy1jb250ZW50IHNlbGVjdG9yXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctbGVmdCcsXG4gICAgdGVtcGxhdGU6ICc8bmctY29udGVudD48L25nLWNvbnRlbnQ+J1xufSlcbmV4cG9ydCBjbGFzcyBMZWZ0Wm9uZUNvbXBvbmVudFxue1xuICAgIEBIb3N0QmluZGluZygnY2xhc3MnKSBjbGFzc0xpc3Q6IHN0cmluZyA9ICd1aS1nLTEyIHVpLWctbm9wYWQnO1xufVxuXG4vKipcbiAqIENvbW1vbiBjbGFzcyB1c2VkIHVzZWQgZm9yIEZpdmUgWm9uZSBsYXlvdXQuIFVzZWQgZm9yIHRoZSBuZy1jb250ZW50IHNlbGVjdG9yXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctbWlkZGxlJyxcbiAgICB0ZW1wbGF0ZTogJzxuZy1jb250ZW50PjwvbmctY29udGVudD4nXG59KVxuZXhwb3J0IGNsYXNzIE1pZGRsZVpvbmVDb21wb25lbnRcbntcbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzJykgY2xhc3NMaXN0OiBzdHJpbmcgPSAndWktZy0xMiB1aS1tZC02IHVpLWxnLTQgdWktZy1ub3BhZCc7XG59XG5cblxuLyoqXG4gKiBDb21tb24gY2xhc3MgdXNlZCB1c2VkIGZvciBGaXZlIFpvbmUgbGF5b3V0LiBVc2VkIGZvciB0aGUgbmctY29udGVudCBzZWxlY3RvclxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LXJpZ2h0JyxcbiAgICB0ZW1wbGF0ZTogJzxuZy1jb250ZW50PjwvbmctY29udGVudD4nXG59KVxuZXhwb3J0IGNsYXNzIFJpZ2h0Wm9uZUNvbXBvbmVudFxue1xuICAgIEBIb3N0QmluZGluZygnY2xhc3MnKSBjbGFzc0xpc3Q6IHN0cmluZyA9ICd1aS1nLTEyIHVpLWctbm9wYWQnO1xuXG59XG5cbi8qKlxuICogQ29tbW9uIGNsYXNzIHVzZWQgdXNlZCBmb3IgRml2ZSBab25lIGxheW91dC4gVXNlZCBmb3IgdGhlIG5nLWNvbnRlbnQgc2VsZWN0b3JcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1ib3R0b20nLFxuICAgIHRlbXBsYXRlOiAnPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50Pidcbn0pXG5leHBvcnQgY2xhc3MgQm90dG9tWm9uZUNvbXBvbmVudFxue1xuICAgIEBIb3N0QmluZGluZygnY2xhc3MnKSBjbGFzc0xpc3Q6IHN0cmluZyA9ICd1aS1nLTEyIHVpLWctbm9wYWQnO1xufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge0NvbXBvbmVudCwgZm9yd2FyZFJlZiwgSG9zdEJpbmRpbmcsIEluamVjdCwgSW5wdXQsIE9wdGlvbmFsLCBTa2lwU2VsZn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0FzeW5jVmFsaWRhdG9yRm4sIFZhbGlkYXRvckZuLCBWYWxpZGF0b3JzfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0Vudmlyb25tZW50LCBpc0JsYW5rLCBpc1ByZXNlbnQsIExpc3RXcmFwcGVyLCBTdHJpbmdXcmFwcGVyfSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7Rm9ybVRhYmxlQ29tcG9uZW50fSBmcm9tICcuLi9mb3JtLXRhYmxlLmNvbXBvbmVudCc7XG5pbXBvcnQge0Jhc2VGb3JtQ29tcG9uZW50LCBXaWRnZXRTaXplQ29sdW1uc30gZnJvbSAnLi4vLi4vLi4vY29yZS9iYXNlLWZvcm0uY29tcG9uZW50JztcblxuLyoqXG4gKiBVc2VkIGJ5IEZvcm1UYWJsZSB0byBsYXlvdXQgZmllbGRzIGludG8gUm93cy4gRWFjaCBGb3JtVGFibGUgcm93IGlzIHJlYXNvbmFibGUgZm9yIG5vdCBvbmx5IHRvXG4gKiBpbmNsdWRlIGFjdHVhbCBjb21wb25lbnQgc3VjaCBpcyBEcm9wRG93biBvciBJbnB1dEZpZWxkIGJ1dCBtYWlubHkgcHJvdmlkZXMgYSBlbm91Z2ggY29udGV4dCBmb3JcbiAqIHRoZSBjb21wb25lbnQgdG8gc3BlY2lmeSB0aGUgc2l6ZSwgaG93IGl0IHNob3VsZCBsYXlvdXQsIHdoZXRoZXIgd2UgbmVlZCB0byBzaG93IHJlcXVpcmVkIGZsYWcsXG4gKiB0byBzaG93L2hpZGUgbGFiZWxzIGluIGNhc2UgaWYgd2UgaGF2ZSBubyBsYWJlbCBsYXlvdXQgYW5kIG11Y2ggbW9yZS5cbiAqXG4gKiBGb3JtUm93IGNvbXBvbmVudCBhbHNvIHJlZ2lzdGVycyBhbmd1bGFyIHZhbGlkYXRvciBmb3IgdGhlIGN1cnJlbnQgcm93L2ZpZWxkLiBBcyBhbHJlYWR5XG4gKiBtZW50aW9uZWQgV2UgdHJlYXQgb3VyIHdpZGdldHMgd2l0aCBtaW5pbWFsIHJlc3BvbnNpYmlsaXR5IGFzIHBvc3NpYmxlIHRvIHByZXNlbnQgYW5kIHJldHJpdmVcbiAqIGluZm9ybWF0aW9uIHRvL2Zyb20gdXNlciBhbmQgbGV0IHNvbWVib2R5IGVsc2UgdG8gZmlndXJlIG91dCB3aGVyZSBpdCBhcHBlYXIgYW5kIGhvdy5cbiAqXG4gKiB0b2RvOiBNb3ZlIHVuZGVyIEZvcm1UYWJsZVxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LWZvcm0tcm93JyxcbiAgICB0ZW1wbGF0ZVVybDogJ2Zvcm0tcm93LmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnZm9ybS1yb3cuY29tcG9uZW50LnNjc3MnXSxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAge3Byb3ZpZGU6IEJhc2VGb3JtQ29tcG9uZW50LCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBGb3JtUm93Q29tcG9uZW50KX1cbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIEZvcm1Sb3dDb21wb25lbnQgZXh0ZW5kcyBCYXNlRm9ybUNvbXBvbmVudFxue1xuXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIGxhYmVsXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG5vTGFiZWxMYXlvdXQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgcm93IHdpdGggaGlnaGxpZ2h0ZWQgYmFja2dyb3VuZFxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBoaWdobGlnaHRSb3c6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogIEZpZWxkIGxhYmVsIHRoYXQgc2hvdWxkIGFwcGVhciBhYm92ZSBvciBuZXh0IHRvIHRoZSBjb250cm9sXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGxhYmVsOiBzdHJpbmcgPSAnJztcblxuICAgIC8qKlxuICAgICAqICBGb3IgaW5wdXRzIHR5cGUgZmllbGRzIHByb3ZpZGVzIGRlZmF1bHQgYW5ndWxhciB2YWxpZGF0b3JzLCBtYXhpbWFsIGxlbmd0aCBvZiB0aGUgZmllbGRcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG1heExlbmd0aDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogIEZvciBpbnB1dHMgdHlwZSBmaWVsZHMgcHJvdmlkZXMgZGVmYXVsdCBhbmd1bGFyIHZhbGlkYXRvcnMsIG1pbmltYWwgbGVuZ3RoIG9mIHRoZSBmaWVsZFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgbWluTGVuZ3RoOiBudW1iZXI7XG5cblxuICAgIC8qKlxuICAgICAqICBGb3IgaW5wdXRzIHR5cGUgZmllbGRzIHByb3ZpZGVzIGRlZmF1bHQgYW5ndWxhciBmb3JtYXR0ZXJzLiBIb3cgdGhlIGlucHV0IGZpZWxkcyBzaG91bGQgYmVcbiAgICAgKiBmb3JtYXR0ZWRcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHBhdHRlcm46IHN0cmluZztcblxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBjdXN0b20gYXN5bmMgdmFsaWRhdG9ycyB3aGljaCB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBDb250cm9sXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBjdXN0b21Bc3luY1ZhbGlkYXRvcnM6IEFzeW5jVmFsaWRhdG9yRm5bXTtcblxuICAgIC8qKlxuICAgICAqIERlZmluZXMgY3VzdG9tICB2YWxpZGF0b3JzIHdoaWNoIHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIENvbnRyb2xcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGN1c3RvbVZhbGlkYXRvcnM6IFZhbGlkYXRvckZuW107XG5cbiAgICAvKipcbiAgICAgKiBUZWxscyB0aGUgZm9ybSByb3cgdGhhdCB3ZSBhcmUgcmVuZGVyaW5nIGFub3RoZXIgbmVzdGVkIGZvcm0gaW4gdGhpcyByb3cuIHNvIHdlIG5lZWRcbiAgICAgKiB0byBnbyAxMDAlXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBpc05lc3RlZExheW91dDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogV2hhdCBpcyB0aGUgY3VycmVudCBzaXplIG9mIHRoZSBmaWVsZC4gQ3VycmVudCB3ZSBzdXBwb3J0IDQgZGlmZmVyZW50IHNpemVzOiB4LXNtYWxsLCBzbWFsbCxcbiAgICAgKiBtZWRpdW0sIGxhcmdlLCB4LWxhcmdlXG4gICAgICovXG4gICAgcHJpdmF0ZSBfc2l6ZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBGb3Igc2luZ2xlIGNvbHVtbiBsYXlvdXQgd2l0aG91dCB6b25lcyB3ZSBuZWVkIHRvIGFwcGx5IGdyaWQgZGlyZWN0bHkgdG8gdGhlIEZvcm1Sb3cgdGFnXG4gICAgICogc28gd2UgZG9uJ3QgbmVlZCB0byBpbnRyb2R1Y2UgZXh0cmEgZGl2IGxldmVsXG4gICAgICpcbiAgICAgKi9cbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzJykgY2xhc3NMaXN0OiBzdHJpbmcgPSAnJztcblxuXG4gICAgcHJpdmF0ZSBfbGFiZWxzT25Ub3A6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZW52OiBFbnZpcm9ubWVudCxcbiAgICAgICAgICAgICAgICAvLyBFdmVudCB0aGlzIGNyZWF0ZXMgQ0kgZGVwZW5kcy4gTmVlZCB0byBoYXZlIGEgcmVmZXJlbmNlIHRvIHBhcmVudFxuICAgICAgICAgICAgICAgIC8vIEkgbmVlZCB0byByZWZhY3RvciBtb3JlIHBhcmVudCB0byBub3QgdXNlIHRoaXMgY2hpbGQgYW5kIHJlZmFjdG9yIGxheW91dGluZ1xuICAgICAgICAgICAgICAgIEBTa2lwU2VsZigpIEBPcHRpb25hbCgpIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBGb3JtVGFibGVDb21wb25lbnQpKVxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBwYXJlbnRDb250YWluZXI6IEZvcm1UYWJsZUNvbXBvbmVudClcbiAgICB7XG4gICAgICAgIHN1cGVyKGVudiwgcGFyZW50Q29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLl9zaXplID0gJ3VpLWctMTIgdWktbWQtJyArIFdpZGdldFNpemVDb2x1bW5zLm1lZGl1bTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJpZ2h0IG5vdyB3ZSBqdXN0IGluaXRpYWxpemUgdGhpcyBvbmNlIGFuZCB1c2UgdGhlIHZhbHVlcyB3ZSBkbyBub3QgZXhwZWN0IG5vdyB0byByZWFjdCB0b1xuICAgICAqIGNoYW5nZXNcbiAgICAgKi9cbiAgICBuZ09uSW5pdCgpXG4gICAge1xuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xuICAgICAgICBzdXBlci5yZWdpc3RlckZvcm1Db250cm9sKG51bGwpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJWYWxpZGF0b3JzKCk7XG5cbiAgICAgICAgdGhpcy5vbWl0UGFkZGluZyA9IHRoaXMucGFyZW50Q29udGFpbmVyLm9taXRQYWRkaW5nO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdCArPSBpc1ByZXNlbnQodGhpcy5wYXJlbnRDb250YWluZXIpID8gJyB1aS1nLTEyICcgOiAnJztcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QgPSB0aGlzLmhpZ2hsaWdodFJvdyA/IHRoaXMuY2xhc3NMaXN0ICsgJyBoaWdobGlnaHQtcm93ICcgOiB0aGlzLmNsYXNzTGlzdDtcblxuICAgICAgICB0aGlzLmNsYXNzTGlzdCA9IHRoaXMub21pdFBhZGRpbmcgPyB0aGlzLmNsYXNzTGlzdCArICcgdWktZy1ub3BhZCAnIDogdGhpcy5jbGFzc0xpc3Q7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBKdXN0IGEgc2l6ZSBnZXR0ZXJcbiAgICAgKlxuICAgICAqL1xuICAgIGdldCBzaXplKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIEEgc2l6ZSBzZXR0ZXIgd2UgdHJhbnNsYXRlIGN1c3RvbSBzaXplcyBpbnRvIGFjdHVhbCBib290c3RyYXAgZ3JpZCBzeXN0ZW0uIFdlIHVzZSBtZWRpdW1cbiAgICAgKiByaWdodCBub3cuIGJ1dCB3ZSBzaG91bGQgZXh0ZW5kIHRoaXMgZm9yIG90aGVyIHNjcmVlbiBzaXplc1xuICAgICAqXG4gICAgICogIHRvZG86IHByb3ZpZGUgbWFwcGluZyBhbmQgYWRkIG90aGVyIGdyaWQgY2xhc3NlcyBmb3Igb3RoZXIgc2l6ZXMgeHMsIHNtLCBsZywgeGxcbiAgICAgKlxuICAgICAqICBBbHNvIGNoZWNrIGlmIHRoaXMgaXMgZHluYW1pYyBzaXplIHRoYXQgc2hvdWxkIHZhcnkgYmFzZWQgb24gdGhlIGhvdyBtYW55IG51bWJlciBvZiBjb2x1bW5zXG4gICAgICogd2UgaGF2ZS4gZS5nLiBEYXRlIHdpZGdldHMgaXMgYnkgZGVmYXVsdCBzbWFsbCwgYnV0IGluIDIsIDMgY29sdW1ucyBsYXlvdXQgdGhpcyBzbWFsbCBpcyB0b29cbiAgICAgKiBzbWFsbC5cbiAgICAgKi9cblxuXG5cbiAgICBASW5wdXQoKVxuICAgIHNldCBzaXplKHZhbHVlOiBzdHJpbmcpXG4gICAge1xuXG4gICAgICAgIGxldCBpc0R5blZhbCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChTdHJpbmdXcmFwcGVyLnN0YXJ0c1dpZHRoKHZhbHVlLCAnZC0nKSkge1xuICAgICAgICAgICAgaXNEeW5WYWwgPSB0cnVlO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHIoMiwgdmFsdWUubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNQcmVzZW50KHZhbHVlKSAmJiAhdGhpcy5pc05lc3RlZExheW91dCkge1xuICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IHZhbHVlO1xuICAgICAgICAgICAgbGV0IGRTaXplID0gdGhpcy5keW5TaXplKHZhbHVlLCBpc0R5blZhbCk7XG4gICAgICAgICAgICB0aGlzLl9zaXplID0gJ3VpLWctMTIgdWktbWQtJyArIGRTaXplO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNOZXN0ZWRMYXlvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSAndWktZy0xMiB1aS1tZC0xMic7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIG5nRG9DaGVjaygpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5uZ0RvQ2hlY2soKTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMucGFyZW50Q29udGFpbmVyKSAmJiB0aGlzLmVkaXRhYmxlICE9PSB0aGlzLnBhcmVudENvbnRhaW5lci5lZGl0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5lZGl0YWJsZSA9IHRoaXMucGFyZW50Q29udGFpbmVyLmVkaXRhYmxlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVzaCBvdXQgb2YgYm94IGFuZ3VsYXIgdmFsaWRhdG9yIGFzIHdlbGwgYXMgY3VzdG9tIG9uZSB0byBjdXJyZW50IEZvcm1Db250cm9sXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWdpc3RlclZhbGlkYXRvcnMoKVxuICAgIHtcbiAgICAgICAgbGV0IHZhbGlkYXRvcnM6IFZhbGlkYXRvckZuW10gPSBbXTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMubWF4TGVuZ3RoKSkge1xuICAgICAgICAgICAgdmFsaWRhdG9ycy5wdXNoKFZhbGlkYXRvcnMubWF4TGVuZ3RoKHRoaXMubWF4TGVuZ3RoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMubWluTGVuZ3RoKSkge1xuICAgICAgICAgICAgdmFsaWRhdG9ycy5wdXNoKFZhbGlkYXRvcnMubWluTGVuZ3RoKHRoaXMubWluTGVuZ3RoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMucmVxdWlyZWQpICYmIHRoaXMucmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHZhbGlkYXRvcnMucHVzaChWYWxpZGF0b3JzLnJlcXVpcmVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5wYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFsaWRhdG9ycy5wdXNoKFZhbGlkYXRvcnMucGF0dGVybih0aGlzLnBhdHRlcm4pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuY3VzdG9tVmFsaWRhdG9ycykpIHtcbiAgICAgICAgICAgIExpc3RXcmFwcGVyLmFkZEFsbCh2YWxpZGF0b3JzLCB0aGlzLmN1c3RvbVZhbGlkYXRvcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbGlkYXRvcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmZvcm1Db250cm9sLnNldFZhbGlkYXRvcnModmFsaWRhdG9yc1swXSk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsaWRhdG9ycy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmZvcm1Db250cm9sLnNldFZhbGlkYXRvcnMoVmFsaWRhdG9ycy5jb21wb3NlKHZhbGlkYXRvcnMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5jdXN0b21Bc3luY1ZhbGlkYXRvcnMpICYmIHRoaXMuY3VzdG9tQXN5bmNWYWxpZGF0b3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5mb3JtQ29udHJvbC5zZXRBc3luY1ZhbGlkYXRvcnModGhpcy5jdXN0b21Bc3luY1ZhbGlkYXRvcnNbMF0pO1xuICAgICAgICB9IGVsc2UgaWYgKGlzUHJlc2VudCh0aGlzLmN1c3RvbUFzeW5jVmFsaWRhdG9ycykgJiYgdGhpcy5jdXN0b21Bc3luY1ZhbGlkYXRvcnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhpcy5mb3JtQ29udHJvbC5zZXRBc3luY1ZhbGlkYXRvcnMoXG4gICAgICAgICAgICAgICAgVmFsaWRhdG9ycy5jb21wb3NlQXN5bmModGhpcy5jdXN0b21Bc3luY1ZhbGlkYXRvcnMpKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBEbyB3ZSBoYXZlIGxhYmVscyBvbiBUT1AsIHRyeSB0byByZWFkIHRoaXMgZnJvbSBQYXJlbnRcbiAgICAgKlxuICAgICAqL1xuICAgIGdldCBsYWJlbHNPblRvcCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLl9sYWJlbHNPblRvcCkgJiYgaXNQcmVzZW50KHRoaXMucGFyZW50Q29udGFpbmVyKSkge1xuICAgICAgICAgICAgcmV0dXJuICg8Rm9ybVRhYmxlQ29tcG9uZW50PnRoaXMucGFyZW50Q29udGFpbmVyKS5pc0xhYmVsc09uVG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDYW4gcmVmYWN0b3IgYWxsIGludG8gMSBsaW5lIGJ1dCBpdHMgaGFyZCB0byBkZWJ1ZyBzbyB0aGlzIGlzIGp1c3QgZm9yIHJlYWRcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgZHluU2l6ZSh2YWx1ZTogc3RyaW5nLCBpc0R5blZhbHVlOiBib29sZWFuKTogc3RyaW5nXG4gICAge1xuICAgICAgICBsZXQgbm9ybWFsaXplU2l6ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnLScsICcnKTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMucGFyZW50Q29udGFpbmVyKSAmJlxuICAgICAgICAgICAgKDxGb3JtVGFibGVDb21wb25lbnQ+dGhpcy5wYXJlbnRDb250YWluZXIpLmhhc1R3b0NvbHVtbiAmJiBpc0R5blZhbHVlKVxuICAgICAgICB7XG5cbiAgICAgICAgICAgIGxldCBlbnVtVmFsdWVzOiBzdHJpbmdbXSA9IE9iamVjdC5rZXlzKFdpZGdldFNpemVDb2x1bW5zKTtcbiAgICAgICAgICAgIG5vcm1hbGl6ZVNpemUgPSBlbnVtVmFsdWVzW2VudW1WYWx1ZXMuaW5kZXhPZihub3JtYWxpemVTaXplKSArIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoPGFueT5XaWRnZXRTaXplQ29sdW1ucylbbm9ybWFsaXplU2l6ZV07XG5cbiAgICB9XG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7XG4gICAgQWZ0ZXJDb250ZW50SW5pdCxcbiAgICBDb21wb25lbnQsXG4gICAgQ29udGVudENoaWxkLFxuICAgIENvbnRlbnRDaGlsZHJlbixcbiAgICBFdmVudEVtaXR0ZXIsXG4gICAgZm9yd2FyZFJlZixcbiAgICBJbnB1dCxcbiAgICBPdXRwdXQsXG4gICAgUXVlcnlMaXN0LFxuICAgIFNpbXBsZUNoYW5nZXNcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Vudmlyb25tZW50LCBpc1ByZXNlbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtcbiAgICBCb3R0b21ab25lQ29tcG9uZW50LFxuICAgIExlZnRab25lQ29tcG9uZW50LFxuICAgIE1pZGRsZVpvbmVDb21wb25lbnQsXG4gICAgUmlnaHRab25lQ29tcG9uZW50LFxuICAgIFRvcFpvbmVDb21wb25lbnRcbn0gZnJvbSAnLi4vZml2ZS16b25lLWxheW91dC5jb21wb25lbnQnO1xuaW1wb3J0IHtGb3JtUm93Q29tcG9uZW50fSBmcm9tICcuL2Zvcm0tcm93L2Zvcm0tcm93LmNvbXBvbmVudCc7XG5pbXBvcnQge0Jhc2VGb3JtQ29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL2Jhc2UtZm9ybS5jb21wb25lbnQnO1xuXG5cbi8qKlxuICogRm9ybVRhYmxlIGlzIGEgc3BlY2lmaWMgbGF5b3V0IGNvbXBvbmVudCBmb3IgcmVuZGVyaW5nIExhYmVscyBhbmQgaXRzIGNvbnRyb2xzIGluIHR3byBjb2x1bW5zXG4gKiBhbmQgNSBkaWZmZXJlbnQgem9uZXMuXG4gKlxuICogV2Ugc3VwcG9ydCBMRUZULCBNSURETEUsIFJJR0hULCBUT1AsIEJPVFRPTSB6b25lIHdoZXJlIHdlIGNhbiBwbGFjZSBvdXIgY29tcG9uZW50IG9yIHdpZGdldHMuXG4gKiBUaGlzXG4gKiBjb21wb25lbnQgaXMgdXNlZCBhcyBwcmltYXJ5IGxheW91dCB0byB3cmFwIGFsbCB0aGUgY29tbW9uIHVzZSBjYXNlcy4gRS5nLiBXaGVuIHdlIGxheSBvdXRcbiAqIGZpZWxkcyBpbiB0aGUgZm9ybSBJIGRvIG5vdCB3YW50IGNvbnRyb2xzIHRvIGJlIGF3YXJlIG9mIGVycm9yIHZhbGlkYXRpb24sIHNpemUsIGxhYmVscywgYW5kXG4gKiBzb21lIG90aGVyIHRoaW5ncy4gQ29udHJvbCBzdWNoIElOUFVUIGlzIGp1c3QgcmVzcG9uc2libGUgZm9yIHJldHJpZXZlIHVzZXIgdmFsdWUgYnV0IG5vdCBob3cgaXRcbiAqIGFwcGVhciBvbiB0aGUgcGFnZS5cbiAqXG4gKiBUaGlzIHdheSB3ZSBjYW4gYmUgZmxleGlibGUgaG93IHdlIHRyZWF0IHdpZGdldHMgZm9yIGRpZmZlcmVudCBraW5kcyBvZiBzaXR1YXRpb24gZGVwZW5kaW5nXG4gKiB3aGVyZSB0aGV5IGFwcGVhclxuXG4gKiBGb3JtVGFibGUganVzdCBsaWtlIHRoZSByZXN0IG9mIHRoZSBjb21wb25lbnRzIGFyZSB1c2luZyBNb2RlbCBkcml2ZW4gYXBwcm9hY2ggaG93IHRvIHdvcmsgd2l0aFxuICogZGF0YSwgbWVhbiB3ZSBhcmUgdXNpbmcgRm9ybUdyb3VwLCBGb3JtQ29udHJvbCBldGMuIEZvcm1Hcm91cCBjYW4gYmUgcGFzc2VkIGludG8gdGhlIEZvcm1UYWJsZSxcbiAqIG90aGVyd2lzZSBpdHMgYXV0b21hdGljYWxseSBjcmVhdGVkIHdoZW4gdGhlIEZvcm1UYWJsZSBpcyBpbnN0YW50aWF0ZWQuXG4gKlxuICogRm9ybUdyb3VwIGlzIHNhdmVkIGluc29kZSBFbnZpcm9ubWVudCB3aGVyZSB3ZSBhcmUgdXNpbmcgdGhpcyB0byBwYXNzIHRoaXMgYXJvdW5kIHRoZSBwYWdlcyBhbmRcbiAqIGNvbXBvbmVudHMuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBTaW1wbGUgTGF5b3V0IGZpZWxkcyBhbmQgaXRzIGNvbnRyb2xcbiAqXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogIEBDb21wb25lbnQoe1xuICogICAgICBzZWxlY3RvcjogJ3dyYXBwZXItY29tcCcgLFxuICogICAgICB0ZW1wbGF0ZTogYFxuICogIFx0XHRcdDxhdy1mb3JtLXRhYmxlIFtmb3JtR3JvdXBdPVwiZm9ybUdyb3VwXCIgKG9uU3VibWl0KT0+XG4gKiAgXHRcdFx0XHQ8YXctZm9ybS1yb3cgW2xhYmVsXT1cIiduYW1lJ1wiIFtuYW1lXT1cIiduYW1lJ1wiPlxuICogIFx0XHRcdFx0XHQ8YXctaW5wdXQtZmllbGQgW3R5cGVdPVwiJ3N0cmluZydcIj48L2F3LWlucHV0LWZpZWxkPlxuICogIFx0XHRcdFx0PC9hdy1mb3JtLXJvdz5cbiAqXG4gKiAgXHRcdFx0XHQ8YXctZm9ybS1yb3cgW2xhYmVsXT1cIidQcmVmZXJyZWQgQ29sb3JzJ1wiIFtuYW1lXT1cIidteUNvbG9ycydcIj5cbiAqICBcdFx0XHRcdFx0PGF3LWNoZWNrYm94LWxpc3QgW2xpc3RdPVwiY2hlY2tCb3hMaXN0VmFsdWVzXCJcbiAqICBcdFx0XHRcdFx0ICAgICAgICAgICAgICAgICBbc2VsZWN0aW9uc109XCJzZWxlY3RlZFZhbHVlc1wiXG4gKiAgXHRcdFx0XHRcdCAgICAgICAgICAgICAgICAgW2xheW91dF09XCInaW5saW5lJ1wiXG4gKiAgXHRcdFx0XHRcdCAgICAgICAgICAgICAgICAgKG9uU2VsZWN0aW9uKT1cIm9uQ0JDbGljaygkZXZlbnQpXCI+XG4gKiAgXHRcdFx0XHRcdDwvYXctY2hlY2tib3gtbGlzdD5cbiAqICBcdFx0XHRcdDwvYXctZm9ybS1yb3c+XG4gKiAgXHRcdFx0XHQ8YXctZm9ybS1yb3cgW2xhYmVsXT1cIidHZW5kZXInXCIgW25hbWVdPVwiJ2dlbmRlcidcIj5cbiAqXG4gKiAgXHRcdFx0XHRcdDxhdy1yYWRpb2J1dHRvbi1saXN0IFtsaXN0XT1cInJiVmFsdWVzXCIgW3NlbGVjdGlvbl09XCJyYlNlbGVjdGlvblwiPlxuICpcbiAqICBcdFx0XHRcdFx0PC9hdy1yYWRpb2J1dHRvbi1saXN0PlxuICpcbiAqICBcdFx0XHRcdDwvYXctZm9ybS1yb3c+XG4gKiAgXHRcdFx0XHQ8YXctZm9ybS1yb3cgW2xhYmVsXT1cIidNeSBiaXJ0aGRhdGUnXCIgW25hbWVdPVwiJ2JpcnRoRGF0ZSdcIiBbc2l6ZV09XCInc21hbGwnXCI+XG4gKlxuICogIFx0XHRcdFx0XHQ8YXctZGF0ZS10aW1lIFt2YWx1ZV09XCJkYXRlXCIgW2VkaXRhYmxlXT1cImVkaXRhYmxlXCIgW3Nob3dUaW1lXT1cInNob3dUaW1lXCI+XG4gKiAgXHRcdFx0XHRcdDwvYXctZGF0ZS10aW1lPlxuICogIFx0XHRcdFx0PC9hdy1mb3JtLXJvdz5cbiAqICBcdFx0XHQ8L2F3LWZvcm0tdGFibGU+XG4gKiAgICBgXG4gKiAgfSlcbiAqICBleHBvcnQgY2xhc3MgU2hvd1VzZXJJbmZvQ29tcG9uZW50XG4gKiAge1xuICogICAgICAgY2hlY2tCb3hMaXN0VmFsdWVzOiBzdHJpbmdbXSA9IFsnYmx1ZScgLCAncmVkJyAsICd5ZWxsb3cnICwgJ29yYW5nZScgLCAnd2hpdGUnICwgJ3NpbHZlcidcbiAqICAgICAsICdibGFjaycgLCAnR3JlZW4nXG4gKiAgICAgLCAnR3JheScgLCAnTmF2eScgLFxuICogICAgICAgICAgJ09saXZlJyAsICdBcXVhJyAsICdQdXJwbGUnXTtcbiAqICAgICAgc2VsZWN0ZWRWYWx1ZXM6IHN0cmluZ1tdID0gWydibHVlJyAsICdPbGl2ZScgLCAnQXF1YScgLCAnUHVycGxlJ107XG4gKiAgICAgIHJiVmFsdWVzOiBzdHJpbmdbXSA9IFsnbWFsZScgLCAnZmVtYWxlJyAsICdvdGhlciddO1xuICogICAgICByYlNlbGVjdGlvbjogc3RyaW5nID0gJ21hbGUnO1xuICogICAgICBlZGl0YWJsZTogYm9vbGVhbiA9IHRydWU7XG4gKiAgICAgIHNob3dUaW1lOiBib29sZWFuID0gdHJ1ZTtcbiAqXG4gKiAgICAgIGZvcm1Hcm91cDogRm9ybUdyb3VwID0gbmV3IEZvcm1Hcm91cCh7fSk7XG4gKlxuICpcbiAqICAgICAgb25DQkNsaWNrIChldmVudCk6IHZvaWRcbiAqICAgICAge1xuICogICAgICAgICAgY29uc29sZS5sb2coJ29uQ0JDbGljayA9ICcgKyBldmVudCk7XG4gKiAgICAgIH1cbiAqXG4gKiAgICAgIG9uU3VibWl0IChtb2RlbDogYW55KTogdm9pZFxuICogICAgICB7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKG1vZGVsKVxuICpcbiAqICAgICAgICAgLy8gd2lsbCBwcmludCB7IG5hbWU6bnVsbCwgbXlDb2xvcnM6WydibHVlJyAsICdPbGl2ZScgLCAnQXF1YScgLCAnUHVycGxlJ10sIGdlbmRlcjpcbiAqICAgICBtYWxlfVxuICogICAgICB9XG4gKlxuICogIH1cbiAqXG4gKiAgYGBgXG4gKlxuICogIE9yIHlvdSBjYW4gdXNlIHpvbmUgdG8gbGF5b3V0IHRoZXNlIGZpZWxkcyBpbnRvIHR3byBjb2x1bW5zOlxuICpcbiAqICBDdXJyZW50IHpvbmVzIGFyZSBpbXBsZW1lbnQgd2l0aCA8bmctY29udGVudCBTRUxFQ1Q+IHdoaWNoIGlzIGp1c3QgYSBzZWxlY3RvciB0byBzZWFyY2hlcyBmb3JcbiAqICAgICBzcGVjaWZpYyBwYXR0ZXJuLiBJbiBvdXIgY2FzZSBpbnN0ZWFkIG9mIGNyZWF0aW5nIGV4dHJhIHdyYXBwZXIgY3VzdG9tIGNvbXBvbmVudCB1c2Ugc2ltcGxlXG4gKiAgICAgQ1NTIGNsYXNzXG4gKlxuICpcbiAqICBgYGBcbiAqICAgICAgICAgICAgPGF3LWZvcm0tdGFibGUgI21ldGFGb3JtVGFibGUgW2VkaXRhYmxlXT1cImVkaXRpbmdcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIFt1c2VGaXZlWm9uZV09XCJpc0ZpdmVab25lTGF5b3V0XCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAob25TdWJtaXQpPVwib25TYXZlQWN0aW9uKCRldmVudClcIj5cbiAqXG4gKiAgICAgICAgICAgICAgICA8YXctbGVmdCAgKm5nSWY9XCJjYW5TaG93Wm9uZSgnekxlZnQnKVwiPlxuICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgPGF3LWZvcm0tcm93IFtsYWJlbF09XCInbmFtZSdcIiBbbmFtZV09XCInbmFtZSdcIj5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhdy1pbnB1dC1maWVsZCBbdHlwZV09XCInc3RyaW5nJ1wiPjwvYXctaW5wdXQtZmllbGQ+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgIDwvYXctZm9ybS1yb3c+XG4gKlxuICogICAgICAgICAgICAgICAgICAgICAgICA8YXctZm9ybS1yb3cgW2xhYmVsXT1cIidQcmVmZXJyZWQgQ29sb3JzJ1wiIFtuYW1lXT1cIidteUNvbG9ycydcIj5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhdy1jaGVja2JveC1saXN0IFtsaXN0XT1cImNoZWNrQm94TGlzdFZhbHVlc1wiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzZWxlY3Rpb25zXT1cInNlbGVjdGVkVmFsdWVzXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2xheW91dF09XCInaW5saW5lJ1wiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvblNlbGVjdGlvbik9XCJvbkNCQ2xpY2soJGV2ZW50KVwiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hdy1jaGVja2JveC1saXN0PlxuICogICAgICAgICAgICAgICAgICAgICAgICA8L2F3LWZvcm0tcm93PlxuICogICAgICAgICAgICAgICAgPC9hdy1sZWZ0PlxuICpcbiAqXG4gKiAgICAgICAgICAgICAgICA8YXctcmlnaHQgICpuZ0lmPVwiY2FuU2hvd1pvbmUoJ3pSaWdodCcpXCI+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgIDxhdy1mb3JtLXJvdyBbbGFiZWxdPVwiJ0dlbmRlcidcIiBbbmFtZV09XCInZ2VuZGVyJ1wiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhdy1yYWRpb2J1dHRvbi1saXN0IFtsaXN0XT1cInJiVmFsdWVzXCIgW3NlbGVjdGlvbl09XCJyYlNlbGVjdGlvblwiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYXctcmFkaW9idXR0b24tbGlzdD5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgPC9hdy1mb3JtLXJvdz5cbiAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIDxhdy1mb3JtLXJvdyBbbGFiZWxdPVwiJ015IGJpcnRoZGF0ZSdcIiBbbmFtZV09XCInYmlydGhEYXRlJ1wiXG4gKiAgICAgW3NpemVdPVwiJ3NtYWxsJ1wiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGF3LWRhdGUtdGltZSBbdmFsdWVdPVwiZGF0ZVwiIFtlZGl0YWJsZV09XCJlZGl0YWJsZVwiXG4gKiAgICAgW3Nob3dUaW1lXT1cInNob3dUaW1lXCI+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2F3LWRhdGUtdGltZT5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgPC9hdy1mb3JtLXJvdz5cbiAqICAgICAgICAgICAgICAgIDwvPGF3LXJpZ2h0PlxuICogICAgICAgICAgICA8L2F3LWZvcm0tdGFibGU+XG4gKlxuICogIGBgYFxuICpcbiAqICB0b2RvOiByZW1vdmUgbXkgY3NzIHNlbGVjdG9ycyBmb3Igem9uZXMgYW5kIHJlcGxhY2UgaXQgd2l0aCByZWFsIGNvbXBvbmVudCBldmVuIGp1c3QgYSB0YWdcbiAqICB0b2RvOiB3b3VsZCB3b3JrIGZpbGVcbiAqXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctZm9ybS10YWJsZScsXG4gICAgdGVtcGxhdGVVcmw6ICdmb3JtLXRhYmxlLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnZm9ybS10YWJsZS5jb21wb25lbnQuc2NzcyddLFxuICAgIHByb3ZpZGVyczogW1xuICAgICAgICB7cHJvdmlkZTogQmFzZUZvcm1Db21wb25lbnQsIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IEZvcm1UYWJsZUNvbXBvbmVudCl9XG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBGb3JtVGFibGVDb21wb25lbnQgZXh0ZW5kcyBCYXNlRm9ybUNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyQ29udGVudEluaXRcbntcblxuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIHRoZSBmb3JtIGxheW91dCB0byBzZWUgaWYgd2UgbmVlZCB0byByZW5kZXIgbGFiZWxzIHN0YWNrZWQgIG9yIHNpZGUgYnkgc2lkZSBuZXh0IHRvXG4gICAgICogdGhlIGNvbnRyb2xcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgbGFiZWxzT25Ub3A/OiBib29sZWFuID0gZmFsc2U7XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogSXMgdGhpcyBhIDQgem9uZSBsYXlvdXRcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgdXNlRml2ZVpvbmU/OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBGb3IgY2VydGFpbiB1c2VjYXNlIHdlIGRvbnQgd2FudCB0byBzZXQgYXV0b21hdGljYWxseSB0aGlzIHRvIGFsbCBjaGlsZHJlblxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgZWRpdGFiaWxpdHlDaGVjazogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiAgVHJpZ2dlcnMgd2hlbiB0aGUgPGZvcm0+IGlzIHN1Ym1pdHRlZC4gb25TdWJtaXQgd2UgZW1pdCB0aGUgd2hvbGUgZm9ybUNvbnRyb2xsZXIgb2JqZWN0c1xuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBvblN1Ym1pdDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cblxuICAgIC8qKlxuICAgICAqIFRoZXNlIHByb3BlcnRpZXMgcmVwcmVzZW50IGluZGl2aWR1YWwgem9uZXMgYW5kIHdlIHVzZSB0aGVtIHRvIGFkanVzdCBvdXIgY29sdW1uIGdyaWRcbiAgICAgKiBsYXlvdXRcbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKExlZnRab25lQ29tcG9uZW50KSBsZWZ0Wm9uZTogTGVmdFpvbmVDb21wb25lbnQ7XG5cbiAgICBAQ29udGVudENoaWxkKE1pZGRsZVpvbmVDb21wb25lbnQpIG1pZGRsZVpvbmU6IE1pZGRsZVpvbmVDb21wb25lbnQ7XG5cbiAgICBAQ29udGVudENoaWxkKFJpZ2h0Wm9uZUNvbXBvbmVudCkgcmlnaHRab25lOiBSaWdodFpvbmVDb21wb25lbnQ7XG5cbiAgICBAQ29udGVudENoaWxkKFRvcFpvbmVDb21wb25lbnQpIHRvcFpvbmU6IFRvcFpvbmVDb21wb25lbnQ7XG5cbiAgICBAQ29udGVudENoaWxkKEJvdHRvbVpvbmVDb21wb25lbnQpIGJvdHRvbVpvbmU6IEJvdHRvbVpvbmVDb21wb25lbnQ7XG5cblxuICAgIEBDb250ZW50Q2hpbGRyZW4oQmFzZUZvcm1Db21wb25lbnQsIHtkZXNjZW5kYW50czogdHJ1ZX0pXG4gICAgZm9ybUZpZWxkczogUXVlcnlMaXN0PEJhc2VGb3JtQ29tcG9uZW50PjtcblxuICAgIEBDb250ZW50Q2hpbGRyZW4oZm9yd2FyZFJlZigoKSA9PiBGb3JtUm93Q29tcG9uZW50KSwge2Rlc2NlbmRhbnRzOiB0cnVlfSlcbiAgICByb3dzOiBRdWVyeUxpc3Q8Rm9ybVJvd0NvbXBvbmVudD47XG5cblxuICAgIC8qKlxuICAgICAqIENhY2hlIGNhbGN1bGF0ZWQgcHJvcGVydGllcyB3aGVuIGluaXQgdGhpcyBjb21wb25lbnRcbiAgICAgKlxuICAgICAqL1xuICAgIGhhc09uZUNvbHVtbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGhhc1R3b0NvbHVtbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGhhc1RocmVlQ29sdW1uOiBib29sZWFuID0gZmFsc2U7XG5cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY6IEVudmlyb25tZW50KVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52LCBudWxsKTtcbiAgICB9XG5cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5uZ09uQ2hhbmdlcyhjaGFuZ2VzKTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KGNoYW5nZXNbJ2VkaXRhYmxlJ10pICYmXG4gICAgICAgICAgICBjaGFuZ2VzWydlZGl0YWJsZSddLnByZXZpb3VzVmFsdWUgIT09IGNoYW5nZXNbJ2VkaXRhYmxlJ10uY3VycmVudFZhbHVlKSB7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlRm9ybUZpZWxkcygpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBvblN1Ym1pdEZvcm0oZXZlbnQ6IGFueSlcbiAgICB7XG4gICAgICAgIHRoaXMub25TdWJtaXQuZW1pdChldmVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBBcmUgbGFiZWxzIG9uIHRvcFxuICAgICAqXG4gICAgICovXG4gICAgaXNMYWJlbHNPblRvcCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5sYWJlbHNPblRvcDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogVXNlZCBieSBjaGlsZCBjb21wb25lbnQgdG8gaW5oZXJpdCBlZGl0YWJpbGl0eVxuICAgICAqXG4gICAgICovXG4gICAgaXNGb3JtRWRpdGFibGUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWRpdGFibGU7XG4gICAgfVxuXG5cbiAgICBhcHBseUNvbHVtbnMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnVzZUZpdmVab25lICYmIHRoaXMuaGFzQW55Wm9uZXMoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdab25lcyBkZXRlY3RlZCBpbiB0aGUgRm9ybVRhYmxlIGJ1dCB1c2VGaXZlWm9uZSBvcHRpb24gaXMgZmFsc2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaGFzT25lQ29sdW1uID0gIWlzUHJlc2VudCh0aGlzLnJpZ2h0Wm9uZSkgJiYgIWlzUHJlc2VudCh0aGlzLm1pZGRsZVpvbmUpO1xuICAgICAgICB0aGlzLmhhc1R3b0NvbHVtbiA9IGlzUHJlc2VudCh0aGlzLmxlZnRab25lKSAmJiBpc1ByZXNlbnQodGhpcy5yaWdodFpvbmUpICYmXG4gICAgICAgICAgICAhaXNQcmVzZW50KHRoaXMubWlkZGxlWm9uZSk7XG5cbiAgICAgICAgdGhpcy5oYXNUaHJlZUNvbHVtbiA9IGlzUHJlc2VudCh0aGlzLmxlZnRab25lKSAmJiBpc1ByZXNlbnQodGhpcy5yaWdodFpvbmUpICYmXG4gICAgICAgICAgICBpc1ByZXNlbnQodGhpcy5taWRkbGVab25lKTtcblxuICAgICAgICBpZiAodGhpcy5oYXNUd29Db2x1bW4gJiYgIXRoaXMuaXNUd29ab25lUmVhZHkoKSkge1xuICAgICAgICAgICAgdGhpcy5sZWZ0Wm9uZS5jbGFzc0xpc3QgKz0gJyB1aS1tZC02IHVpLWxnLTYnO1xuICAgICAgICAgICAgdGhpcy5yaWdodFpvbmUuY2xhc3NMaXN0ICs9ICcgdWktbWQtNiB1aS1sZy02JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmhhc1RocmVlQ29sdW1uICYmICF0aGlzLmlzVGhyZWVab25lUmVhZHkoKSkge1xuICAgICAgICAgICAgdGhpcy5sZWZ0Wm9uZS5jbGFzc0xpc3QgKz0gJyB1aS1tZC02IHVpLWxnLTQnO1xuICAgICAgICAgICAgdGhpcy5yaWdodFpvbmUuY2xhc3NMaXN0ICs9ICcgdWktbWQtNiB1aS1sZy00JztcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBoYXNBbnlab25lcygpXG4gICAge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMubGVmdFpvbmUpIHx8IGlzUHJlc2VudCh0aGlzLnJpZ2h0Wm9uZSkgfHwgaXNQcmVzZW50KHRoaXMubWlkZGxlWm9uZSlcbiAgICAgICAgICAgIHx8IGlzUHJlc2VudCh0aGlzLnRvcFpvbmUpIHx8IGlzUHJlc2VudCh0aGlzLmJvdHRvbVpvbmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gY2hlY2sgaWYgd2UgYWxyZWFkeSBpbml0aWFsaXplZCB0aGUgY2xhc3NMaXN0LlxuICAgICAqIHRoZVxuICAgICAqXG4gICAgICogVE9ETzogUHJvYmFibHkgc3RyaW5nIGFycmF5IHdvdWxkIGJlIGVhc2llclxuICAgICAqL1xuICAgIGlzVHdvWm9uZVJlYWR5KCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnRab25lLmNsYXNzTGlzdC5pbmRleE9mKCd1aS1sZy02JykgPiAwICYmXG4gICAgICAgICAgICB0aGlzLmxlZnRab25lLmNsYXNzTGlzdC5pbmRleE9mKCd1aS1sZy02JykgPiAwO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCB0byBjaGVjayBpZiB3ZSBhbHJlYWR5IGluaXRpYWxpemVkIHRoZSBjbGFzc0xpc3QuXG4gICAgICogdGhlXG4gICAgICpcbiAgICAgKiBUT0RPOiBQcm9iYWJseSBzdHJpbmcgYXJyYXkgd291bGQgYmUgZWFzaWVyXG4gICAgICovXG4gICAgaXNUaHJlZVpvbmVSZWFkeSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5sZWZ0Wm9uZS5jbGFzc0xpc3QuaW5kZXhPZigndWktbGctNCcpID4gMCAmJlxuICAgICAgICAgICAgdGhpcy5sZWZ0Wm9uZS5jbGFzc0xpc3QuaW5kZXhPZigndWktbGctNCcpID4gMDtcbiAgICB9XG5cbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gcHJvYmxlbSBzaW5jZSBBbmd1bGFyIDQuMiwgbmdBZnRlckNvbnRlbnRJbml0XG4gICAgICAgIC8vIHdpdGhvdXQgdGhpcyBJIGdldCBlcnJvciB0aGF0IHZhbHVlIHdhcyBjaGFuZ2VkIGFmdGVyIHZpZXcgd2FzIGNoZWNrZWRcbiAgICAgICAgLy8gdG9kbzogcmVmYWN0b3IgIC0gbWFpbmx5IG91ciB6b25lcyBsZWZ0LCByaWdodCBtaWRkbGVcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5Q29sdW1ucygpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVGb3JtRmllbGRzKCk7XG4gICAgICAgICAgICB0aGlzLmFkanVzdExheW91dCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgdXBkYXRlRm9ybUZpZWxkcygpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5lZGl0YWJpbGl0eUNoZWNrICYmIGlzUHJlc2VudCh0aGlzLmZvcm1GaWVsZHMpICYmIHRoaXMuZm9ybUZpZWxkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmZvcm1GaWVsZHMuZm9yRWFjaCgoaXRlbTogQmFzZUZvcm1Db21wb25lbnQpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXRlbS5lZGl0YWJsZSA9IHRoaXMuZWRpdGFibGU7XG4gICAgICAgICAgICAgICAgLy8gaXRlbS5mb3JtR3JvdXAgPSB0aGlzLmZvcm1Hcm91cDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBCYXNlZCBvbiBpZiB3ZSBhcmUgMiBvciAzIG9yIDEgY29sdW1uIGxheW91dCB3ZSBuZWVkIHRvIGFkanVzdCB3aWRnZXRzIHdpZHRoIHdpdGhpbiB0aGVcbiAgICAgKiBmb3JtIHJvdy5cbiAgICAgKi9cbiAgICBwcml2YXRlIGFkanVzdExheW91dCgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMucm93cykgJiYgdGhpcy5yb3dzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc1RocmVlQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3dzLmZvckVhY2goKGl0ZW06IEZvcm1Sb3dDb21wb25lbnQpID0+IGl0ZW0uc2l6ZSA9ICdsYXJnZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtOZ01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0lucHV0VGV4dE1vZHVsZX0gZnJvbSAncHJpbWVuZy9jb21wb25lbnRzL2lucHV0dGV4dC9pbnB1dHRleHQnO1xuaW1wb3J0IHtGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge0Zvcm1UYWJsZUNvbXBvbmVudH0gZnJvbSAnLi9mb3JtLXRhYmxlLmNvbXBvbmVudCc7XG5pbXBvcnQge0Zvcm1Sb3dDb21wb25lbnR9IGZyb20gJy4vZm9ybS1yb3cvZm9ybS1yb3cuY29tcG9uZW50JztcbmltcG9ydCB7XG4gICAgQm90dG9tWm9uZUNvbXBvbmVudCxcbiAgICBMZWZ0Wm9uZUNvbXBvbmVudCxcbiAgICBNaWRkbGVab25lQ29tcG9uZW50LFxuICAgIFJpZ2h0Wm9uZUNvbXBvbmVudCxcbiAgICBUb3Bab25lQ29tcG9uZW50XG59IGZyb20gJy4uL2ZpdmUtem9uZS1sYXlvdXQuY29tcG9uZW50JztcbmltcG9ydCB7QVdDb3JlQ29tcG9uZW50TW9kdWxlfSBmcm9tICcuLi8uLi9jb3JlL2NvcmUubW9kdWxlJztcblxuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBGb3JtVGFibGVDb21wb25lbnQsXG4gICAgICAgIEZvcm1Sb3dDb21wb25lbnQsXG4gICAgICAgIFRvcFpvbmVDb21wb25lbnQsXG4gICAgICAgIExlZnRab25lQ29tcG9uZW50LFxuICAgICAgICBSaWdodFpvbmVDb21wb25lbnQsXG4gICAgICAgIE1pZGRsZVpvbmVDb21wb25lbnQsXG4gICAgICAgIEJvdHRvbVpvbmVDb21wb25lbnRcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZSxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgSW5wdXRUZXh0TW9kdWxlLFxuICAgICAgICBBV0NvcmVDb21wb25lbnRNb2R1bGVcbiAgICBdLFxuICAgIGVudHJ5Q29tcG9uZW50czogW1xuICAgICAgICBGb3JtVGFibGVDb21wb25lbnQsXG4gICAgICAgIEZvcm1Sb3dDb21wb25lbnQsXG4gICAgICAgIFRvcFpvbmVDb21wb25lbnQsXG4gICAgICAgIExlZnRab25lQ29tcG9uZW50LFxuICAgICAgICBSaWdodFpvbmVDb21wb25lbnQsXG4gICAgICAgIE1pZGRsZVpvbmVDb21wb25lbnQsXG4gICAgICAgIEJvdHRvbVpvbmVDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgRm9ybVRhYmxlQ29tcG9uZW50LFxuICAgICAgICBGb3JtUm93Q29tcG9uZW50LFxuICAgICAgICBUb3Bab25lQ29tcG9uZW50LFxuICAgICAgICBMZWZ0Wm9uZUNvbXBvbmVudCxcbiAgICAgICAgUmlnaHRab25lQ29tcG9uZW50LFxuICAgICAgICBNaWRkbGVab25lQ29tcG9uZW50LFxuICAgICAgICBCb3R0b21ab25lQ29tcG9uZW50XG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBBV0Zvcm1UYWJsZU1vZHVsZVxue1xufVxuXG5cbiIsImltcG9ydCB7ZGlzdGluY3RVbnRpbENoYW5nZWR9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7Q29tcG9uZW50LCBmb3J3YXJkUmVmLCBJbmplY3QsIElucHV0LCBPcHRpb25hbCwgU2tpcFNlbGZ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtOR19WQUxVRV9BQ0NFU1NPUn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtFbnZpcm9ubWVudCwgaXNQcmVzZW50LCBWYWx1ZX0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0Jhc2VGb3JtQ29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL2Jhc2UtZm9ybS5jb21wb25lbnQnO1xuaW1wb3J0IHtGb3JtUm93Q29tcG9uZW50fSBmcm9tICcuLi8uLi9sYXlvdXRzL2Zvcm0tdGFibGUvZm9ybS1yb3cvZm9ybS1yb3cuY29tcG9uZW50JztcbmltcG9ydCB7U3Vic2NyaXB0aW9ufSBmcm9tICdyeGpzJztcbmltcG9ydCB7RGVjaW1hbFBpcGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cblxuLyoqXG4gKiBUaGlzIGNvbXBvbmVudCByZXByZXNlbnQgYSBJbnB1dCBmaWVsZCBhbmQgaXQgY2FuICBhY2NlcHQgZGlmZmVyZW50IHR5cGVzIG9mIHZhbHVlcyBzdWNoIGFzXG4gKiB0ZXh0LCBudW1iZXIuXG4gKlxuICpcbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqICBAQ29tcG9uZW50KHtcbiAqICAgICAgc2VsZWN0b3I6ICd3cmFwcGVyLWNvbXAnICxcbiAqICAgICAgdGVtcGxhdGU6ICc8YXctaW5wdXQtZmllbGQgW3ZhbHVlXT1cImlucHV0VmFsdWVcIiBbdHlwZV09XCJpbnB1dFR5cGVcIj48L2F3LWlucHV0LWZpZWxkPidcbiAqICB9KVxuICogIGV4cG9ydCBjbGFzcyBUZXN0SW5wdXRDb21wb25lbnRcbiAqICB7XG4gKiAgICAgIGlucHV0VmFsdWU6IHN0cmluZyA9ICdTb21lIHRleHQnO1xuICpcbiAqICAgICAgLy8gYnkgZGVmYXVsdCBpbnB1dCB0eXBlIGlzIHRleHQsIHlvdSBjYW4gcGFzcyBzdHJpbmcsIFN0cmluZywgb3IgdGV4dFxuICogICAgICBpbnB1dFR5cGU6IHN0cmluZyA9ICdzdHJpbmcnO1xuICogIH1cbiAqXG4gKiBgYGBcbiAqXG4gKlxuICpcbiAqICMjIyBFeGFtcGxlIHdoZXIgaW5wdXQgZmllbGQgaXMgaW5pdGlhbGl6ZWQgd2l0aCBuZ01vZGVsXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogIEBDb21wb25lbnQoe1xuICogICAgICBzZWxlY3RvcjogJ3dyYXBwZXItY29tcCcgLFxuICogICAgICB0ZW1wbGF0ZTogJzxhdy1pbnB1dC1maWVsZCBbdmFsdWVdPVwiaW5wdXRWYWx1ZVwiIFsobmdNb2RlbCldPVwiaW5wdXRUeXBlXCI+PC9hdy1pbnB1dC1maWVsZD4nXG4gKiAgfSlcbiAqICBleHBvcnQgY2xhc3MgVGVzdElucHV0Q29tcG9uZW50XG4gKiAge1xuICogICAgICBpbnB1dFZhbHVlOiBzdHJpbmcgPSAnU29tZSB0ZXh0JztcbiAqXG4gKiAgICAgIC8vIGJ5IGRlZmF1bHQgaW5wdXQgdHlwZSBpcyB0ZXh0LCB5b3UgY2FuIHBhc3Mgc3RyaW5nLCBTdHJpbmcsIG9yIHRleHRcbiAqICAgICAgaW5wdXRUeXBlOiBzdHJpbmcgPSAnc3RyaW5nJztcbiAqICB9XG4gKlxuICogYGBgXG4gKlxuICogIE5vdGU6IGlmIHlvdSBhcmUgdXNpbmcgdGhpcyBvdXRzaWRlIG9mIEZvcm1UYWJsZSBwbGVhc2UgcHJvdmlkZSB5b3VyIG93biBGb3JtR3JvdXBcbiAqXG4gKi9cblxuXG5cbmV4cG9ydCBjb25zdCBJTlBVVF9DT05UUk9MX1ZBTFVFX0FDQ0VTU09SOiBhbnkgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gSW5wdXRGaWVsZENvbXBvbmVudCksXG4gICAgbXVsdGk6IHRydWVcbn07XG5cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1pbnB1dC1maWVsZCcsXG4gICAgdGVtcGxhdGVVcmw6ICdpbnB1dC1maWVsZC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ2lucHV0LWZpZWxkLmNvbXBvbmVudC5zY3NzJ10sXG5cbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgSU5QVVRfQ09OVFJPTF9WQUxVRV9BQ0NFU1NPUixcblxuICAgICAgICB7cHJvdmlkZTogQmFzZUZvcm1Db21wb25lbnQsIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IElucHV0RmllbGRDb21wb25lbnQpfVxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgSW5wdXRGaWVsZENvbXBvbmVudCBleHRlbmRzIEJhc2VGb3JtQ29tcG9uZW50XG57XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEEgdmFsdWUgdXNlZCB0byBzYXZlIGFuZCByZWFkICB3aGVuIHJlbmRlcmluZyBhbmQgdXBkYXRpbmcgYSBjb21wb25lbnRcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgdmFsdWU6IGFueSA9ICcnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHVzZWQgdG8gZm9ybWF0IHRoZSBudW1iZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBwcmVjaXNpb246IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEJpZ0RlY2ltYWwgb2JqZWN0IHRoYXQgZW5jYXBzdWxhdGVzIHZhbHVlIGFuZCBsb2NhbGUuXG4gICAgICogSWYgdGhpcyBvYmplY3QgaXMgc2V0LCB2YWx1ZXMgd2lsbCBiZSB0YWtlbiBmcm9tIHRoaXMgb2JqZWN0XG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBiaWdEZWNpbWFsOiBCaWdEZWNpbWFsO1xuXG4gICAgLyoqXG4gICAgICogUHJvdmlkZSBjdXN0b20gaWNvbiB0aGF0IGlzIHBsYWNlZCBpbnRvIHRoZSBpbnB1dCBmaWVsZC5cbiAgICAgKlxuICAgICAqIFRvZG86IGFkZCBleHRyYSBiaW5kaW5nIHRoYXQgd2lsbCBhbGxvdyBkZXZlbG9wZXIgdG8gdGVsbCBwb3NpdGlvbiwgbGVmdCByaWdodFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgaWNvbjogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSBkZWNpbWFsIHBpcGUgaXMgdXNlZCB0byBmb3JtYXQgb3VyIG51bWJlciBvYmplY3QuXG4gICAgICovXG4gICAgZGVjaW1hbFBpcGU6IERlY2ltYWxQaXBlO1xuICAgIC8qKlxuICAgICAqIFRoZSBmb3JtYXR0ZWQgZGVjaW1hbCB2YWx1ZS4gVXNlcyBhbmd1bGFyIGRlY2ltYWxQaXBlIHRvIGZvcm1hdCBiYXNlZCBvbiBsb2NhbGUuXG4gICAgICovXG4gICAgZGlzcGxheVZhbHVlOiBzdHJpbmcgPSAnJztcbiAgICAvKipcbiAgICAgKiBKdXN0IHRvIGNsZWFuIHVwIHN1YnNjcmliZXIgd2hlbiBjb21wb25lbnQgaXMgZGVzdHJveWVkXG4gICAgICovXG4gICAgcHJpdmF0ZSB2Y2hTdWJzY3JpYmVyOiBTdWJzY3JpcHRpb247XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZW52OiBFbnZpcm9ubWVudCxcbiAgICAgICAgICAgICAgICBAU2tpcFNlbGYoKSBAT3B0aW9uYWwoKSBASW5qZWN0KGZvcndhcmRSZWYoKCkgPT4gRm9ybVJvd0NvbXBvbmVudCkpXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIHBhcmVudENvbnRhaW5lcjogQmFzZUZvcm1Db21wb25lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYsIHBhcmVudENvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuZGVjaW1hbFBpcGUgPSBuZXcgRGVjaW1hbFBpcGUoZW52LmxvY2FsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5wdXQgZmllbGQgdHlwZS4gQ3VycmVudGx5IHdlIHN1cHBvcnQgZWl0aGVyIE51bWJlciBvciB0ZXh0XG4gICAgICovXG4gICAgcHJpdmF0ZSBfdHlwZTogc3RyaW5nID0gJ3N0cmluZyc7XG5cbiAgICBnZXQgdHlwZSgpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogZ2VuZXJhdGVkIHNldHRlciB0byBjaGVjayBmb3IgdmFsdWUgYW5kIG5vcm1hbGl6aW5nIGludG8gZXhwZWN0ZWQgZWl0aGVyIG51bWJlciBvciB0ZXh0XG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNldCB0eXBlKHZhbHVlOiBzdHJpbmcpXG4gICAge1xuICAgICAgICBpZiAodmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3N0cmluZycgfHwgdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICB0aGlzLl90eXBlID0gJ3RleHQnO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLl90eXBlID0gJ251bWJlcic7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpXG4gICAge1xuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xuICAgICAgICBzdXBlci5yZWdpc3RlckZvcm1Db250cm9sKHRoaXMuYmlnRGVjaW1hbCk7XG5cbiAgICAgICAgdGhpcy52Y2hTdWJzY3JpYmVyID0gdGhpcy5mb3JtQ29udHJvbC52YWx1ZUNoYW5nZXNcbiAgICAgICAgICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKHZhbCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlZCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmJpZ0RlY2ltYWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVZhbHVlID0gdGhpcy5mb3JtYXROdW1iZXIodGhpcy5iaWdEZWNpbWFsLmFtb3VudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYW5TZXRUeXBlKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIG9uS2V5RG93bihlbDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9IGVsLnZhbHVlO1xuICAgICAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlZCh0aGlzLmRpc3BsYXlWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkJsdXIoZWw6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5iaWdEZWNpbWFsID0gbmV3IEJpZ0RlY2ltYWwoTnVtYmVyKGVsLnZhbHVlKSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9IHRoaXMuZm9ybWF0TnVtYmVyKHRoaXMuYmlnRGVjaW1hbC5hbW91bnQpO1xuICAgICAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlZCh0aGlzLmRpc3BsYXlWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuZGlzcGxheVZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9ICcnO1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZvcm1Db250cm9sLnNldFZhbHVlKHZhbHVlLCB7b25seVNlbGY6IHRydWV9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcm1hdCB0aGUgbnVtYmVyIG9iamVjdCBhY2NvcmRpbmcgdG8gaXRzIHByZWNpc2lvbi5cbiAgICAgKlxuICAgICAqL1xuICAgIGZvcm1hdE51bWJlcih2YWx1ZTogYW55KVxuICAgIHtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgcHJlY2lzaW9uIGlzIHByZXNlbnQsIHVzZSBpdCBmb3IgZm9ybWF0IHRoZSBiaWdEZWNpbWFsIHZhbHVlIGZvciBkaXNwbGF5LlxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMucHJlY2lzaW9uKSAmJlxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0IHByZWNpc2lvbiBpcyAyLiBGb3IgZXhhbXBsZSwgMTAuMjMuXG4gICAgICAgICAgICBsZXQgZGlnaXRzID0gJzEuMC0yJztcbiAgICAgICAgICAgIGRpZ2l0cyA9ICcxLjAtJyArIHRoaXMucHJlY2lzaW9uO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjaW1hbFBpcGUudHJhbnNmb3JtKHZhbHVlLCBkaWdpdHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5uZ09uRGVzdHJveSgpO1xuXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy52Y2hTdWJzY3JpYmVyKSkge1xuICAgICAgICAgICAgdGhpcy52Y2hTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQmlnRGVjaW1hbCBvYmplY3QgaXMgcmVwcmVzZW50ZWQgYXMgYSB2YWx1ZSwgbG9jYWxlLCBhbmQgY3VycmVuY3lDb2RlXG4gKi9cbmV4cG9ydCBjbGFzcyBCaWdEZWNpbWFsIGltcGxlbWVudHMgVmFsdWVcbntcbiAgICB1bmlxdWVOYW1lOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgYW1vdW50OiBudW1iZXIgPSAwLFxuICAgICAgICAgICAgICAgIHB1YmxpYyByZWFkb25seSBsb2NhbGU6IHN0cmluZyA9ICdlbl9VUycpXG4gICAge1xuICAgIH1cblxuXG4gICAgZ2V0VHlwZXMoKTogYW55XG4gICAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYW1vdW50OiBOdW1iZXIsXG4gICAgICAgICAgICBsb2NhbGU6IFN0cmluZ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNsYXNzTmFtZSgpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiAnQmlnRGVjaW1hbCc7XG4gICAgfVxuXG4gICAgJHByb3RvKCk6IEJpZ0RlY2ltYWxcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgQmlnRGVjaW1hbCgxLCAnZW5fVVMnKTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmFtb3VudCArICcsIGxvY2FsZTogJyArIHRoaXMubG9jYWxlO1xuICAgIH1cblxuXG4gICAgY2xvbmUoZGF0YTogeyBhbW91bnQ/OiBudW1iZXIsIGxvY2FsZT86IHN0cmluZyB9ID0ge30pOiBCaWdEZWNpbWFsXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IEJpZ0RlY2ltYWwoXG4gICAgICAgICAgICBpc1ByZXNlbnQoZGF0YS5hbW91bnQpID8gZGF0YS5hbW91bnQgOiB0aGlzLmFtb3VudCxcbiAgICAgICAgICAgIGlzUHJlc2VudChkYXRhLmxvY2FsZSkgPyBkYXRhLmxvY2FsZSA6IHRoaXMubG9jYWxlKTtcbiAgICB9XG5cbn1cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Rm9ybXNNb2R1bGUsIFJlYWN0aXZlRm9ybXNNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtTdHJpbmdDb21wb25lbnR9IGZyb20gJy4vc3RyaW5nLmNvbXBvbmVudCc7XG5cbkBOZ01vZHVsZSh7XG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIFN0cmluZ0NvbXBvbmVudFxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlXG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgU3RyaW5nQ29tcG9uZW50XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIFN0cmluZ0NvbXBvbmVudFxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBBV1N0cmluZ0ZpZWxkTW9kdWxlXG57XG59XG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7SW5wdXRUZXh0TW9kdWxlfSBmcm9tICdwcmltZW5nL2NvbXBvbmVudHMvaW5wdXR0ZXh0L2lucHV0dGV4dCc7XG5pbXBvcnQge0Zvcm1zTW9kdWxlLCBSZWFjdGl2ZUZvcm1zTW9kdWxlfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0NvbW1vbk1vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7SW5wdXRGaWVsZENvbXBvbmVudH0gZnJvbSAnLi4vaW5wdXQtZmllbGQvaW5wdXQtZmllbGQuY29tcG9uZW50JztcbmltcG9ydCB7QVdTdHJpbmdGaWVsZE1vZHVsZX0gZnJvbSAnLi4vc3RyaW5nL3N0cmluZy5tb2R1bGUnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBJbnB1dEZpZWxkQ29tcG9uZW50XG4gICAgXSxcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGUsXG4gICAgICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gICAgICAgIElucHV0VGV4dE1vZHVsZSxcbiAgICAgICAgQVdTdHJpbmdGaWVsZE1vZHVsZVxuICAgIF0sXG4gICAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgICAgIElucHV0RmllbGRDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgSW5wdXRGaWVsZENvbXBvbmVudCxcbiAgICAgICAgQVdTdHJpbmdGaWVsZE1vZHVsZSxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGVcbiAgICBdLFxuICAgIHByb3ZpZGVyczogW11cbn0pXG5leHBvcnQgY2xhc3MgQVdJbnB1dEZpZWxkTW9kdWxlXG57XG59XG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge0NvbXBvbmVudCwgQ29udGVudENoaWxkLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIFRlbXBsYXRlUmVmfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7QmFzZUNvbXBvbmVudH0gZnJvbSAnLi4vLi4vY29yZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQge0FwcENvbmZpZywgRW52aXJvbm1lbnQsIGlzQmxhbmssIGlzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5cblxuLyoqXG4gKlxuICogYmFzaWMgbmF2aWdhdGlvbiBiYXIgcHJvdmlkZSBhIG1haW4gYWN0aW9uIGJ1dHRvbnMgZm9yIGl0cyBjb250ZW50IChwYWdlIGxldmVsIGJ1dHRvbnMpLlxuICogVGhpcyBpcyBub3QgdGhlIFRvcCBsZXZlbCBhcHBsaWNhdGlvbiBuYXZpZ2F0aW9uLiBUaGlzIGNvbXBvbmVudCBwcm92aWRlcyBieSBkZWZhdWx0IGFjdGlvbiBPSyxcbiAqIENBTkNFTCBhbmQgeW91IGFyZSBmcmVlIHRvIG1vZGlmeSBob3cgdGhlIE9LIG9yIENBTkNFTCB3aWxsIGJlIGNhbGwgYXMgd2VsbCBhcyBzdWJzY3JpYmUgdG8gdGhlXG4gKiBldmVudC4gT3IgeW91IGNhbiBwcm92aWRlIHlvdXIgb3duIGJ1dHRvbnMgdGVtcGxhdGUgd2hpY2ggd2lsbCBiZSB1c2VkIGluc3RlYWQgb2YgdGhpcyBkZWZhdWx0XG4gKiBvbmUuXG4gKlxuICpcbiAqXG4gKlxuICpcbiAqICMjIyBFeGFtcGxlIDE6XG4gKlxuICogSW4gb3JkZXIgdG8gdXNlIG5hdmlnYXRpb24gYmFyIGluIGl0cyBiYXNpYyB1c2FnZSB5b3UgY2FuIGRvIGZvbGxvd2luZzpcbiAqIHRoaXMgd2lsbCByZW5kZXIgYnV0dG9ucyBvbiB0aGUgdG9wIGFzIHdlbGwgYXMgb24gdGhlIGJvdHRvbSBhcm91bmQgdGhlIGNvbnRlbnQuXG4gKlxuICpcbiAqICBgYGBodG1sXG4gKlxuICogICAgICA8YXctYmFzaWMtbmF2aWdhdG9yIFticmFuZEltZ109XCInaW1nL2FyaWJhbG9nb2JhbC5wbmcnXCI+XG4gKlxuICogICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gKiAgICAgICAgICAgICAgICA8Zm9ybT5cbiAqICAgICAgICAgICAgICAgICAgICBVc2VyIG5hbWU6IDxpbnB1dCB0eXBlPXRleHQgdmFsdWU9XCJwZXRlci5wYW5cIj5cbiAqICAgICAgICAgICAgICAgIDwvPGZvcm0+PlxuICogICAgICAgICAgICA8L2Rpdj5cbiAqICAgICAgPC9hdy1iYXNpYy1uYXZpZ2F0b3I+XG4gKlxuICpcbiAqIGBgYFxuICpcbiAqICBpZiB5b3UgZG8gbm90IHdhbnQgYnV0dG9uIG9uIHRoZSB0b3Agb3IgYm90dG9tIHlvdSBjYW4gc2F5IHRoaSB1c2luZyBiaW5kaW5nIHNob3dUb3Agb3JcbiAqIHNob3dCb3R0b20uXG4gKlxuICpcbiAqICMjIyBFeGFtcGxlIDI6XG4gKiAgSW4gdGhpcyBleGFtcGxlIHdlIGFyZSBwcm92aWRpbmcgY3VzdG9tIGJ1dHRvbnMgYXMgd2VsbCBhcyBicmFuayBzZWN0aW9uXG4gKlxuICpcbiAqICBgYGBodG1sXG4gKlxuICpcbiAqICAgICAgPGF3LWJhc2ljLW5hdmlnYXRvciBbYnJhbmRJbWddPVwiJ2ltZy9hcmliYWxvZ29iYWwucG5nJ1wiPlxuICogICAgICAgICAgICA8bmctdGVtcGxhdGUgI2J1dHRvbnM+XG4gKiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJuYXYgbmF2YmFyLW5hdiBmbG9hdC1tZC1yaWdodCBjb2xsYXBzZSBuYXZiYXItdG9nZ2xlYWJsZS14c1wiPlxuICogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtIFwiPlxuICogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zZWNvbmRhcnlcIiB0eXBlPVwiYnV0dG9uXCJcbiAqIChjbGljayk9XCJvblNhdmVBY3Rpb24oJGV2ZW10KVwiPkNhbmNlbDwvYnV0dG9uPlxuICogICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gKiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW0gYWN0aXZlXCI+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiB0eXBlPVwiYnV0dG9uXCJcbiAqIChjbGljayk9XCJvbkNhbmNlbEFjdGlvbigkZXZlbnQpXCI+IFNhdmVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gKiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAqICAgICAgICAgICAgICAgIDwvdWw+XG4gKiAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gKlxuICogICAgICAgICAgICA8bmctdGVtcGxhdGUgI2JyYW5kPlxuICogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJicmFuZC10aXRsZVwiPkFyaWJhPC9zcGFuPlxuICogICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICpcbiAqXG4gKiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAqICAgICAgICAgICAgICAgIDxmb3JtPlxuICogICAgICAgICAgICAgICAgICAgIFVzZXIgbmFtZTogPGlucHV0IHR5cGU9dGV4dCB2YWx1ZT1cInBldGVyLnBhblwiPlxuICogICAgICAgICAgICAgICAgPC88Zm9ybT4+XG4gKiAgICAgICAgICAgIDwvZGl2PlxuICogICAgICA8L2F3LWJhc2ljLW5hdmlnYXRvcj5cbiAqXG4gKlxuICogYGBgXG5cbiAqXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctYmFzaWMtbmF2aWdhdG9yJyxcbiAgICB0ZW1wbGF0ZVVybDogJ2Jhc2ljLW5hdmlnYXRvci5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ2Jhc2ljLW5hdmlnYXRvci5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIEJhc2ljTmF2aWdhdG9yQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudFxue1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgYnV0dG9ucyB3aWxsIGJlIHJlbmRlcmVkIG9uIHRoZSB0b3BcbiAgICAgKlxuICAgICAqIERlZmF1bHQgdmFsdWUgaXMgVFJVRVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzaG93VG9wOiBib29sZWFuID0gdHJ1ZTtcblxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgYnV0dG9ucyB3aWxsIGJlIHJlbmRlcmVkIG9uIHRoZSBib3R0b21cbiAgICAgKlxuICAgICAqIERlZmF1bHQgdmFsdWUgaXMgVFJVRVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzaG93Qm90dG9tOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IGJyYW5kIHNlY3Rpb24gdGhhdCBpcyBvbiB0aGUgbGVmdCBzaWRlIGFuZCBvbmx5IGluIHRoZSB0b3AgYmFyIGlzIHZpc2libGVcbiAgICAgKlxuICAgICAqIERlZmF1bHQgdmFsdWUgaXMgVFJVRVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzaG93QnJhbmQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogUmVsYXRpdmUgcGF0aCB0byBhIGltYWdlLiBJbWFnZXMgYXJlIHNhdmVkIGluc2lkZSBhc3NldHMgZm9sZGVyLlxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBicmFuZEltZzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogSWYgeW91IGFyZSBub3QgdXNpbmcgY3VzdG9tIGJ1dHRvbnMgeW91IGNhbiBwYXNzIGEgbGFiZWwgdG8gT0sgYWN0aW9uXG4gICAgICpcbiAgICAgKiBEZWZhdWx0IHZhbHVlIGlzIE9LXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBva0FjdGlvbkxhYmVsOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBJZiB5b3UgYXJlIG5vdCB1c2luZyBjdXN0b20gYnV0dG9ucyB5b3UgY2FuIHBhc3MgYSBsYWJlbCB0byBDYW5jZWwgYWN0aW9uXG4gICAgICpcbiAgICAgKiBEZWZhdWx0IHZhbHVlIGlzIE9LXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBjYW5jZWxBY3Rpb25MYWJlbDogc3RyaW5nO1xuXG5cbiAgICAvKipcbiAgICAgKiBDb250ZXh0IGlzIGFuIG9iamVjdCB3aGljaCBpcyByZW5kZXJlZCBpbnNpZGUgbmF2LWJhciBjb250ZW50LiBTb21ldGltZXMgdGhlcmUgYXJlIHNpdHVhdGlvblxuICAgICAqIHRoYXQgeW91IHdhbnQgdG8gcmVuZGVyIHNvbWUgaW5mb3JtYXRpb24gZnJvbSB0aGUgb2JqZWN0IGluc2lkZSBuYXZpZ2F0aW9uIGJhci4gU28geW91IGFyZVxuICAgICAqIGZyZWUgdG8gcGFzcyBhIGNvbnRleHQgb2JqZWN0IGFuZCB0aGVuIGFjY2VzcyBpdCBpbnNpZGUgeW91ciB0ZW1wbGF0ZVxuICAgICAqXG4gICAgICogYGBgSFRNTFxuICAgICAqICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNicmFuZCBsZXQtaXRlbT5cbiAgICAgKiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJyYW5kLXRpdGxlXCI+e3tpdGVtLmZpcnN0TmFtZX19PC9zcGFuPlxuICAgICAqICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgY29udGV4dDogYW55O1xuXG5cbiAgICBASW5wdXQoKVxuICAgIHNob3dDYW5jZWxCdXR0b246IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEV2ZW50RW1pdHRlciB0aGF0IGlzIHRyaWdnZXJlZCB3aGVuIHlvdSBjbGljayBvbiBkZWZhdWx0IE9LIEFjdGlvblxuICAgICAqXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgb25PS0FjdGlvbjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogRXZlbnRFbWl0dGVyIHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4geW91IGNsaWNrIG9uIGRlZmF1bHQgQ0FOQ0VMIEFjdGlvblxuICAgICAqXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgb25DYW5jZWxBY3Rpb246IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cblxuICAgIC8qKlxuICAgICAqIFF1ZXJpZXMgYSBidXR0b25zIHRlbXBsYXRlIGlmIGFueVxuICAgICAqL1xuICAgIEBDb250ZW50Q2hpbGQoJ2J1dHRvbnMnKVxuICAgIGJ1dHRvbnNUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcblxuICAgIC8qKlxuICAgICAqIFF1ZXJpZXMgYSBicmFuZCB0ZW1wbGF0ZSBpZiBhbnlcbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKCdicmFuZCcpXG4gICAgYnJhbmRUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcblxuXG5cbiAgICBjb25zdHJ1Y3RvcihlbnY6IEVudmlyb25tZW50LCBhcHBDb25maWc6IEFwcENvbmZpZylcbiAgICB7XG4gICAgICAgIHN1cGVyKGVudik7XG5cbiAgICAgICAgLy8gdG9kbzogbG9hZCB0aGlzIGZyb20gcmVzb3VyY2UgZmlsZSB1c2luZyBuZ1RyYW5zbGF0ZSBzZXJ2aWNlXG4gICAgICAgIHRoaXMub2tBY3Rpb25MYWJlbCA9ICdPSyc7XG4gICAgICAgIHRoaXMuY2FuY2VsQWN0aW9uTGFiZWwgPSAnQ2FuY2VsJztcbiAgICAgICAgdGhpcy5icmFuZEltZyA9ICdpbWFnZXMvYXJpYmFsb2dvYmFsLnBuZyc7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKVxuICAgIHtcbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5zaG93Q2FuY2VsQnV0dG9uKSkge1xuICAgICAgICAgICAgdGhpcy5zaG93Q2FuY2VsQnV0dG9uID0gdGhpcy5lZGl0YWJsZSB8fCAodGhpcy5vbkNhbmNlbEFjdGlvbi5vYnNlcnZlcnMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICYmIHRoaXMub25PS0FjdGlvbi5vYnNlcnZlcnMubGVuZ3RoID4gMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaWYgYnV0dG9uc1RlbXBsYXRlIGlzIGF2YWlsYWJsZVxuICAgICAqXG4gICAgICovXG4gICAgaGFzQnV0dG9uVGVtcGxhdGUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLmJ1dHRvbnNUZW1wbGF0ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBpZiBicmFuZFRlbXBsYXRlIGlzIGF2YWlsYWJsZVxuICAgICAqXG4gICAgICovXG4gICAgaGFzQnJhbmRUZW1wbGF0ZSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMuYnJhbmRUZW1wbGF0ZSk7XG4gICAgfVxuXG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7QWZ0ZXJWaWV3SW5pdCwgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtFbnZpcm9ubWVudCwgaXNCbGFuaywgaXNQcmVzZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7QmFzZUNvbXBvbmVudH0gZnJvbSAnLi4vLi4vY29yZS9iYXNlLmNvbXBvbmVudCc7XG5cbi8qKlxuICogQnV0dG9uIGNvbXBvbmVudCB0aGF0IGltcGxlbWVudHMgY29uc2lzdGVudCBzdHlsaW5nLCBiZWhhdmlvci4gQnV0dG9uIGNhbiBiZSByZW5kZXJlZCBlaXRoZXIgYXNcbiAqIGEgYnV0dG9uIG9yIGFzIGEgbGluay4gSXQgY291bGQgYmUgc3RhbmRhbG9uZSBvciBiZSBwYXJ0IG9mIGEgZm9ybS5cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqXG4gKiAgQENvbXBvbmVudCh7XG4gKiAgICBzZWxlY3RvcjogJ3JlZ2lzdHJhdGlvbicgLFxuICogICAgdGVtcGxhdGU6IGBcbiAqXG4gKiAgIDxhdy1mb3JtLXRhYmxlID5cbiAqICAgICAgIDxhdy1mb3JtLXJvdyBbbGFiZWxdPVwiJ0Ftb3VudCdcIiBbbmFtZV09XCInYW1vdW50J1wiIFtzaXplXT1cIidzbWFsbCdcIj5cbiAqXG4gKiAgICAgICAgICAgPGF3LWJ1dHRvbiBbdHlwZV09XCInc3VibWl0J1wiIFtuYW1lXT1cIididXR0b24nXCJcbiAqICAgICAgICAgICAgICAgICAgICAgKGFjdGlvbik9XCJvbkNsaWNrZWQoJGV2ZW50KVwiIFt2YWx1ZV09XCJjb21tYW5kXCJcbiAqICAgICAgICAgICAgICAgICAgICAgW3N0eWxlXT1cIid3YXJuaW5nJ1wiID5CdXR0b248L2F3LWJ1dHRvbj5cbiAqICAgICAgIDwvYXctZm9ybS1yb3c+XG4gKiAgIDwvYXctZm9ybS10YWJsZT5cbiAqXG4gKiAgICBgXG4gKiAgICB9KVxuICogICAgZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50XG4gKiAgICB7XG4gKiAgICAgICAgY29tbWFuZDpib29sZWFuO1xuICpcbiAqICAgICAgICBjb25zdHJ1Y3RvciAoKVxuICogICAgICAgIHtcbiAqICAgICAgICB9XG4gKlxuICogICAgICAgIG9uQ2xpY2tlZCh2YWx1ZTpzdHJpbmcpIHtcbiAqICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAqICAgICAgICAgICAgICAvLyBzdWJtaXQgZm9ybS5cbiAqICAgICAgICAgICB9XG4gKiAgICAgICAgfVxuICogICAgfVxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LWJ1dHRvbicsXG4gICAgdGVtcGxhdGVVcmw6ICdidXR0b24uY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydidXR0b24uY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBCdXR0b25Db21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdFxue1xuXG4gICAgLyoqXG4gICAgICogQnV0dG9uIHR5cGVzICBbIGJ1dHRvbiB8IHN1Ym1pdCB8IHJlc2V0IF1cbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgdHlwZTogc3RyaW5nID0gJ2J1dHRvbic7XG5cbiAgICAvKipcbiAgICAgKiBOYW1lIGZvciB0aGlzIGJ1dHRvbi4gQ2FuIGJlIHVzZWQgdG8gbG9va3VwIGNvbXBvbmVudCBpbiBmb3JtLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgbmFtZTogc3RyaW5nO1xuXG5cbiAgICAvKipcbiAgICAgKiBzdHlsaW5nIGZvciB0aGlzIGJ1dHRvbi4gU2VlIEJ1dHRvblN0eWxlIGZvciBhbGwgc3VwcG9ydGVkIHN0eWxlcy5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHN0eWxlOiBCdXR0b25TdHlsZSA9ICdwcmltYXJ5JztcblxuXG4gICAgLyoqXG4gICAgICogc2l6aW5nIGZvciB0aGlzIGJ1dHRvbi4gW2xhcmdlLCBub3JtYWwsIHNtYWxsXS5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNpemU6IEJ1dHRvblNpemUgPSAnbm9ybWFsJztcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgdGhlIHRhcmdldCBvZiB0aGUgYnV0dG9uLiBbX2JsYW5rIHwgX3NlbGYgfCBfcGFyZW50IHwgX3RvcCB8IGZyYW1lbmFtZSBdXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICB0YXJnZXQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFZhbHVlIHRvIGJlIHNlbmQgdG8gc2VydmVyIHdoZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHZhbHVlOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBmaXJlZCB3aGVuIHVzZXIgc2VsZWN0IGEgaXRlbVxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGFjdGlvbjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cblxuICAgIC8qKlxuICAgICAqIFByaW1lTmcgYnV0dG9uIHNpbXBseSBkb2VzIG5vdCBzdXBwb3J0IGNvbnRlbnQgc28gd2UgbmVlZCB0byBnZXQgYXJvdW5kIGl0XG4gICAgICovXG4gICAgbGFiZWw6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIENTUyBjbGFzcyB0aGF0IHN0eWxlcyB0aGlzIGJ1dHRvbiBiYXNlZCBvbiBpbnB1dCAnc3R5bGUnIGFuZCAnc2l6ZSdcbiAgICAgKi9cbiAgICBidXR0b25DbGFzczogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGVsZW1lbnQ6IEVsZW1lbnRSZWYsIHB1YmxpYyBlbnY6IEVudmlyb25tZW50KVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52KTtcblxuICAgICAgICAvLyBEZWZhdWx0IGJ1dHRvbiBjbGFzcyBpcyBzZWNvbmRhcnkuXG4gICAgICAgIHRoaXMuYnV0dG9uQ2xhc3MgPSAndWktYnV0dG9uLXNlY29uZGFyeSc7XG5cbiAgICAgICAgLy8gRGVmYXVsdCBkaXNhYmxlZFxuICAgICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKVxuICAgIHtcbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcbiAgICAgICAgLy8gSG93IHRvIHN0eWxlIHRoaXMgYnV0dG9uLlxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuc3R5bGUpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZSA9PT0gJ3ByaW1hcnknKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdCAudWktYnV0dG9uIGFuZCAudWktYnV0dG9uLXByaW1hcnkgZ2V0IHRoZSBzYW1lIHN0eWxlLlxuICAgICAgICAgICAgICAgIC8vIC51aS1idXR0b24tcHJpbWFyeSBpcyBuZWNlc3NhcnkgYmVjYXVzZSBidXR0b24gc3R5bGUgY2FuIGJlIG92ZXJyaWRkZW5cbiAgICAgICAgICAgICAgICAvLyB3aGVuIGluY2x1ZGVkIGluc2lkZSBvdGhlciB3aWRnZXRzLiBTbyBzcGVjaWZ5IHByaW1hcnlcbiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbkNsYXNzID0gJ3VpLWJ1dHRvbi1wcmltYXJ5JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idXR0b25DbGFzcyA9ICd1aS1idXR0b24tJyArIHRoaXMuc3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIGJ1dHRvbiBjbGFzcyBiYXNlZCBvbiBpbnB1dCBzaXplLlxuICAgICAgICBpZiAodGhpcy5zaXplKSB7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5zaXplKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbGFyZ2UnIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXR0b25DbGFzcyArPSAnIGJ0bi1sZyc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ25vcm1hbCcgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbkNsYXNzICs9ICcgYnRuLW1pZCc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NtYWxsJyA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uQ2xhc3MgKz0gJyBidG4tc20nO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBsaXR0bGUgaGFja3kgaGFja2l0eSBoYWNrIGFzIGN1cnJlbnRseSBwcmltZW5nIGJ1dHRvbiBkaXJlY3RpdmUgZG9lcyBub3Qgd29yayB3aXRoXG4gICAgICogbmdjb250ZW50IHByb2plY3Rpb24gYnV0IGl0IGhhcyBhIGxhYmVsIGJpbmRpbmdzLCB3aGljaCBpcyBub3QgdGhlIHdheSBkZXZlbG9wZXJzIHdvcmsgd2l0aFxuICAgICAqIGJ1dHRvbi4geW91IHdhbnQgdG9cbiAgICAgKlxuICAgICAqIDxidXR0b24+IE1ZIENPTlRFTlQ8L2J1dHRvbiBpbnN0ZWFkIG9mIDxidXR0b24gbGFiZWw9J015Q29udGVudCc+PC9idXR0b24+XG4gICAgICpcbiAgICAgKlxuICAgICAqIEBUb2RvOiBDaGFuZ2UgdGhpcyB1bnRpbCB0aGUgdGltZSBrZWVwIGEgdGVzdCB0aGF0IGNoZWNrIHRoYXQgdGhleSBhcmUgc3RpbGwgdXNpbmcgdWktYnV0dG9uXG4gICAgICogICAgIHRoYXQgd2UgYXJlIGV4cGVjdGluZyBhbmQgcmVwbGFjaW5nXG4gICAgICovXG4gICAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5lbGVtZW50KSkge1xuICAgICAgICAgICAgbGV0IGJ1dHRvbiA9IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpO1xuICAgICAgICAgICAgbGV0IGJ1dHRvblRpdGxlID0gYnV0dG9uLmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgYnV0dG9uLmNoaWxkcmVuWzBdLnRleHRDb250ZW50ID0gdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQudGV4dENvbnRlbnQudHJpbSgpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3VpLWJ1dHRvbicsICcnKS5yZXBsYWNlKCd1aS1idG4nLCAnJyk7XG5cbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCd1aS1idXR0b24tdGV4dC1lbXB0eScpO1xuICAgICAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgICAgICBidXR0b24uYXBwZW5kQ2hpbGQoYnV0dG9uVGl0bGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIEFjdGlvbiBjbGlja2VkLiBDYWxsIHBhcmVudCBhY3Rpb24uXG4gICAgICovXG4gICAgY2xpY2tlZCgkZXZlbnQ6IGFueSlcbiAgICB7XG4gICAgICAgIHRoaXMuYWN0aW9uLmVtaXQoaXNCbGFuayh0aGlzLnZhbHVlKSA/ICRldmVudCA6IHRoaXMudmFsdWUpO1xuICAgIH1cbn1cblxuXG4vKipcbiAqIFN1cHBvcnRlZCBCdXR0b24gU3R5bGVcbiAqL1xuZXhwb3J0IHR5cGUgQnV0dG9uU3R5bGUgPSAnaW5mbycgfCAncHJpbWFyeScgfCAnc2Vjb25kYXJ5JyB8ICd3YXJuaW5nJyB8ICdzdWNjZXNzJyB8ICdkYW5nZXInIHxcbiAgICAnbGluayc7XG5cbi8qKlxuICogU3VwcG9ydGVkIEJ1dHRvbiBTaXplXG4gKi9cbmV4cG9ydCB0eXBlIEJ1dHRvblNpemUgPSAnbGFyZ2UnIHwgJ25vcm1hbCcgfCAnc21hbGwnO1xuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtCdXR0b25Db21wb25lbnR9IGZyb20gJy4vYnV0dG9uLmNvbXBvbmVudCc7XG5pbXBvcnQge0J1dHRvbk1vZHVsZX0gZnJvbSAncHJpbWVuZy9wcmltZW5nJztcblxuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBCdXR0b25Db21wb25lbnRcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBCdXR0b25Nb2R1bGUsXG5cbiAgICBdLFxuICAgIGVudHJ5Q29tcG9uZW50czogW1xuICAgICAgICBCdXR0b25Db21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgQnV0dG9uQ29tcG9uZW50XG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEFXQnV0dG9uTW9kdWxlXG57XG59XG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtCYXNpY05hdmlnYXRvckNvbXBvbmVudH0gZnJvbSAnLi9iYXNpYy1uYXZpZ2F0b3IuY29tcG9uZW50JztcbmltcG9ydCB7VG9vbGJhck1vZHVsZX0gZnJvbSAncHJpbWVuZy9wcmltZW5nJztcbmltcG9ydCB7QVdCdXR0b25Nb2R1bGV9IGZyb20gJy4uL2J1dHRvbi9idXR0b24ubW9kdWxlJztcbmltcG9ydCB7QVdDb3JlQ29tcG9uZW50TW9kdWxlfSBmcm9tICcuLi8uLi9jb3JlL2NvcmUubW9kdWxlJztcblxuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBCYXNpY05hdmlnYXRvckNvbXBvbmVudFxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGUsXG4gICAgICAgIFRvb2xiYXJNb2R1bGUsXG4gICAgICAgIEFXQnV0dG9uTW9kdWxlLFxuICAgICAgICBBV0NvcmVDb21wb25lbnRNb2R1bGVcblxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBCYXNpY05hdmlnYXRvckNvbXBvbmVudFxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBBV0Jhc2ljTmF2aWdhdG9yTW9kdWxlXG57XG59XG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgQ29udGVudENoaWxkLFxuICAgIERpcmVjdGl2ZSxcbiAgICBFbGVtZW50UmVmLFxuICAgIEV2ZW50RW1pdHRlcixcbiAgICBJbnB1dCxcbiAgICBPdXRwdXQsXG4gICAgVGVtcGxhdGVSZWYsXG4gICAgVmlld0NoaWxkXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtCYXNlQ29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7RW52aXJvbm1lbnQsIGlzQmxhbmssIGlzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5cblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6IGBhdy1jYXJkLXRvcGAsXG4gICAgaG9zdDoge1xuICAgICAgICAnY2xhc3MnOiAndy1jYXJkLXp0b3AnXG4gICAgfVxufSlcbmV4cG9ydCBjbGFzcyBDYXJkWm9uZVRvcENvbXBvbmVudFxue1xufVxuXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogYGF3LWNhcmQtYm90dG9tYCxcbiAgICBob3N0OiB7XG4gICAgICAgICdjbGFzcyc6ICd3LWNhcmQtemJvdHRvbSdcbiAgICB9XG59KVxuZXhwb3J0IGNsYXNzIENhcmRab25lQm90dG9tQ29tcG9uZW50XG57XG59XG5cbi8qKlxuICpcbiAqIENhcmQgY29tcG9uZW50IGlzIGEgY29udGFpbmVyIHJlbmRlcmluZyBpdHMgY29udGVudCBpbnNpZGUgMyBkaWZmZXJlbnQgem9uZXMuXG4gKlxuICogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIHwgICBUSVRMRSAgICAgICAgICAgICAgICAgICAgICAgfCBBQ1RJT04gfFxuICogIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogIHwgICBUT1AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogIHwgICBCT1RUT00gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqXG4gKiAgVGhlcmUgYXJlIDMgem9uZXMgICsgMSBwbGFjZWhvbGRlciBmb3IgdGhlIGFjdGlvbkljb25cbiAqXG4gKiAgQ2FyZHMgY2FuIGJlIHNlbGVjdGFibGUgd2hpY2ggbWVhbnMgd2hlbiB5b3UgY2xpY2sgb24gaXQgdGhlcmUgd2lsbCBiZSByZW5kZXJlZCBhIGJvcmRlciB3aXRoXG4gKiAgYSBjaGVjayBtYXJrIGluc2lkZSBBY3Rpb24gem9uZSAodGhpcyBpcyBkZWZhdWx0IGJlaGF2aW9yKS5cbiAqICBZb3UgY2FuIHVzZSBbc2VsZWN0YWJsZV0gYmluZGluZyB0byBkaXNhYmxlIHRoaXMsIGluIHN1Y2ggY2FzZSBjYXJkIHdpbGwgaGF2ZSBqdXN0IGEgYm9yZGVyXG4gKiAgd2l0aG91dCBhbnkgY2hlY2sgbWFyay5cbiAqXG4gKiAgQ2FyZHMgY2FuIGFsc28gY29udGFpbiBjdXN0b20gQWN0aW9uIHdoaWNoIGlzIHJlbmRlcmVkIGluc2lkZSBBQ1RJT04gem9uZSBhbmQgb24gdGhlXG4gKiAgYXBwbGljYXRpb24gbGV2ZWwgeW91IGNhbiBsaXN0ZW4gZm9yIChjbGljaykgZXZlbnRzIGFzIHdlbGwgYXMgeW91IGNhbiBwcm92aWRlIHlvdXIgb3duIGFjdGlvblxuICogIGljb25cbiAqXG4gKiAgQmVzaWRlcyBBQ1RJT04sIFRJVExFLCBUT1AgYW5kIEJPVFRPTSBjb250ZW50IHpvbmVzIGNhcmRzIHN1cHBvcnQgaG92ZXIgb3ZlcmxheSBlZmZlY3QgYW5kXG4gKiAgd2hlbiBpdHMgYWN0aXZhdGVkIHRoZXJlIGlzIGEgb3ZlcmxheSBkaXNwbGF5ZWQgb24gdG9wIG9mIHRoZSBjYXJkIHdpdGggSWNvbiBpbiB0aGUgbWlkZGxlLlxuICogIFBsZWFzZSBub3RlIHdoZW4gW2hhc0hvdmVyXSBpcyBUUlVFIGFsbCB0aGUgYWN0aW9ucyBhbmQgc2VsZWN0YWJpbGl0eSBhcmUgZGlzYWJsZWQgYXMgdGhlcmUgaXNcbiAqICBvbmx5IG9uZSBhY3Rpb24gd2hpY2ggY2xpY2sgb24gdGhlIGhvdmVyIG92ZXJsYXkuXG4gKlxuICpcbiAqICMjI2V4YW1wbGUgMTpcbiAqICBCYXNpYyBob3ZlciBjYXJkIHdoaWNoIGJ5IGRlZmF1bHQgc3VwcG9ydCBzZWxlY3RhYmxlIG1vZGVcbiAqXG4gKiBgYGBcbiAqICAgICAgICAgIDxhdy1jYXJkICNjYXJkMSBbaGFzQWN0aW9uXT1cImZhbHNlXCIgW3dpZHRoXT1cIicyMDJweCdcIiBbaGVpZ2h0XT1cIicxNTRweCdcIj5cbiAqXG4gKiAgICAgICAgICAgICAgICAgPGF3LWNhcmQtdGl0bGUgW2FsaWduXT1cIidib3R0b20tbGVmdCdcIj5cbiAqICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhLXN1cHBsaWVyLXRhZ1wiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgUHJlZmVycmVkXG4gKiAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAqICAgICAgICAgICAgICAgICA8L2F3LWNhcmQtdGl0bGU+XG4gKlxuICogICAgICAgICAgICAgICAgIDxhdy1jYXJkLXRvcD5cbiAqICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1cHBsaWVyTmFtZVwiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgSGFpZ2h0IFB1bXBzXG4gKiAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICogICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VwcGxpZXJMb2NhdGlvblwiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgUGFsbyBBbHRvLCBDQSwgVVNBXG4gKiAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICogICAgICAgICAgICAgICAgIDwvYXctY2FyZC10b3A+XG4gKlxuICogICAgICAgICAgICAgICAgIDxhdy1jYXJkLWJvdHRvbSBjbGFzcz1cInctY2FyZC16Ym90dG9tXCI+XG4gKiAgICAgICAgICAgICAgICAgICAgIHNvbWUgdGV4dCBhYm91dCB0aGUgc3VwcGxpZXIgYW5kIGhpcyBwYXJlbnRzPGJyLz5cbiAqICAgICAgICAgICAgICAgICAgICAgYW5kIHNvbWUgY29udGFjdHNcbiAqICAgICAgICAgICAgICAgICA8L2F3LWNhcmQtYm90dG9tPlxuICpcbiAqICAgICAgICAgICAgIDwvYXctY2FyZD5cbiAqXG4gKiBgYGBcbiAqXG4gKiAgIyMjZXhhbXBsZSAyOlxuICogICBIb3ZlciBjYXJkIHdpdGggY3VzdG9tIGFjdGlvbi4gd2hlbiB1bnNlbGVjdGVkIGFjdGlvbiB3aWxsIGFwcGVhciBhbmQgdXNlciBjYW4gY2xpY2sgb24gaXQuXG4gKlxuICogYGBgXG4gKiAgICAgICAgICA8YXctY2FyZCAjY2FyZDEgW3NlbGVjdGFibGVdPVwidHJ1ZVwiIFthY3Rpb25JY29uXT1cIidpY29uLXF1ZXN0aW9uLW1hcmsnXCJcbiAqICAgICAgICAgICAgICAgICAgICAgKG9uQWN0aW9uKT1cIm9uQWN0aW9uKDMsICRldmVudClcIj5cbiAqXG4gKiAgICAgICAgICAgICAgICAgPGF3LWNhcmQtdGl0bGUgW2FsaWduXT1cIidib3R0b20tbGVmdCdcIj5cbiAqICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhLXN1cHBsaWVyLXRhZ1wiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgUHJlZmVycmVkXG4gKiAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAqICAgICAgICAgICAgICAgICA8L2F3LWNhcmQtdGl0bGU+XG4gKlxuICogICAgICAgICAgICAgICAgIDxhdy1jYXJkLXRvcD5cbiAqICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1cHBsaWVyTmFtZVwiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgSGFpZ2h0IFB1bXBzXG4gKiAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICogICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VwcGxpZXJMb2NhdGlvblwiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgUGFsbyBBbHRvLCBDQSwgVVNBXG4gKiAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICogICAgICAgICAgICAgICAgIDwvYXctY2FyZC10b3A+XG4gKlxuICogICAgICAgICAgICAgICAgIDxhdy1jYXJkLWJvdHRvbSBjbGFzcz1cInctY2FyZC16Ym90dG9tXCI+XG4gKiAgICAgICAgICAgICAgICAgICAgIHNvbWUgdGV4dCBhYm91dCB0aGUgc3VwcGxpZXIgYW5kIGhpcyBwYXJlbnRzPGJyLz5cbiAqICAgICAgICAgICAgICAgICAgICAgYW5kIHNvbWUgY29udGFjdHNcbiAqICAgICAgICAgICAgICAgICA8L2F3LWNhcmQtYm90dG9tPlxuICpcbiAqICAgICAgICAgICAgIDwvYXctY2FyZD5cbiAqXG4gKiBgYGBcbiAqXG4gKlxuICpcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1jYXJkJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vY2FyZC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vY2FyZC5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIENhcmRDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50XG57XG4gICAgLyoqXG4gICAgICogVGVsbHMgaWYgd2Ugc2hvdWxkIGV4cGxpY2l0bHkgaGlkZSB0aGUgYWN0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGhhc0FjdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBJcyBzZWxlY3RhYmxlIG1vZGUgc3VwcG9ydGVkPyBTYXlpbmcgWWVzLCBjYXJkIHdpbGwgaGF2ZSBieSBkZWZhdWx0IGNoZWNrLW1hcmsgaW4gdGhlXG4gICAgICogQUNUSU9OIHpvbmUgd2hlbiBzZWxlY3RlZFxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzZWxlY3RhYmxlOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIE9wdGlvbiB0byBwYXNzIGN1c3RvbSBcIkNhcmQgU2VsZWN0ZWRcIiBJY29uXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNlbGVjdGVkSWNvbjogc3RyaW5nID0gJ2ljb24tYWNjZXB0JztcblxuICAgIC8qKlxuICAgICAqIFRoZXJlIGlzIG5vIGRlZmF1bHQgdmFsdWUgZm9yIGFjdGlvbiBpY29uLCB3aGVuIGFwcGxpY2F0aW9uIHdhbnQgdG8gYWRkIGFjdGlvbiB0byB0aGUgY2FyZFxuICAgICAqIGl0IG11c3QgYWxzbyBwcm92aWRlIGEgaWNvblxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBhY3Rpb25JY29uOiBzdHJpbmc7XG5cbiAgICAvKlxuICAgICAqIEVuYWJsZSBhbmQgZGlzYWJsZXMgaG92ZXIgZWZmZWN0IG9uIHRvcCBvZiB0aGUgY2FyZFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgaGFzSG92ZXI6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogRGVmYXVsdCBpY29uIG5hbWUgZm9yIHRoZSBob3ZlciBvdmVybGF5LiBUaGlzIGljb25zIHNob3dzIHVwIGluIHRoZSBtaWRkbGUgb3ZlciB0aGUgY2FyZFxuICAgICAqIHZlcnRpY2FsbHkgYW5kIGhvcml6b250YWxseSBjZW50ZXJlZFxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBob3Zlckljb246IHN0cmluZyA9ICdpY29uLWFkZCc7XG5cblxuICAgIC8qKlxuICAgICAqICBTZWxlY3Rpb24gc3RhdGVcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2VsZWN0ZWQ6IGJvb2xlYW4gPSB0cnVlO1xuXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSBjYXJkIGlzIHNlbGVjdGVkLlxuICAgICAqXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgb25TZWxlY3Q6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhY3Rpb24gaWNvbiBpcyBjbGlja2VkLlxuICAgICAqXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgb25BY3Rpb246IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb24gdGhlIGhvdmVyIG92ZXJsYXkuXG4gICAgICpcbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBvbkhvdmVyQWN0aW9uOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBxdWVyeSBpcyB1c2VkIHRvIHNhdmUgdGhlIGNvbnRlbnQgcmVmZXJlbmNlIHRvIGJvdHRvbSBzZWN0aW9uIGlmIGFueVxuICAgICAqL1xuICAgIEBDb250ZW50Q2hpbGQoQ2FyZFpvbmVCb3R0b21Db21wb25lbnQpXG4gICAgYm90dG9tOiBDYXJkWm9uZUJvdHRvbUNvbXBvbmVudDtcblxuXG4gICAgLyoqXG4gICAgICogUHJvdmlkZXMgY3VzdG9tIHRlbXBsYXRlIGZvciB0aGUgYm9keSB3aGljaCBpcyB1bmRlciBhcHBsaWNhdGlvbiBkZXZlbG9wZXIgY29udHJvbC5cbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKCdib2R5JylcbiAgICBib2R5VGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG5cblxuICAgIEBWaWV3Q2hpbGQoJ2hvdmVyRGl2JylcbiAgICBob3ZlckRpdjogRWxlbWVudFJlZjtcblxuICAgIC8qKlxuICAgICAqIFVzdWFsbHkgd2hlbiB0ZW1wbGF0ZSBpcyBwcm92aWRlZCB3ZSB3YW50IHRvIHVzZSBpdCBhbmQgcmVwbGFjZSBpbnRlcm5hbCBvbmUgYnV0IGluIHRoaXNcbiAgICAgKiBjYXNlIGl0IHdpbGwgYmUgYWx3YXlzIGNvbmRpdGlvbmFsIGFuZCBhcHBsaWNhdGlvbiBkZXZlbG9wZXIgY2FuIHN3aXRjaCBiZXR3ZWVuIGRlZmF1bHRcbiAgICAgKiB0ZW1wbGF0ZSB3aXRoIHpvbmVzIGFuZCBjdXN0b20gb25lIHByb3ZpZGVkIGJ5IGRldmVsb3Blci5cbiAgICAgKlxuICAgICAqL1xuICAgIHVzZUJvZHlUZW1wbGF0ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZW52OiBFbnZpcm9ubWVudClcbiAgICB7XG4gICAgICAgIHN1cGVyKGVudik7XG5cbiAgICAgICAgLy8gc2V0cyBkZWZhdWx0IHZhbHVlXG4gICAgICAgIHRoaXMud2lkdGggPSAnMjAycHgnO1xuICAgICAgICB0aGlzLmhlaWdodCA9ICcxNTRweCc7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKVxuICAgIHtcbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcblxuICAgICAgICAvLyBJZiBhcHBsaWNhdGlvbiB3YW50cyB0byB1c2UgYWN0aW9uIGl0IG11c3QgcHJvdmlkZSBhY3Rpb25JY29uXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuYWN0aW9uSWNvbikgJiYgdGhpcy5oYXNBY3Rpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgdG8gcHJvdmlkZSBhY3Rpb24gaWNvbicpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgc2hvd0JvdHRvbVNlY3Rpb24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLmJvdHRvbSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBmaXJlcyBzZWxlY3QgYW5kIHVuc2VsZWN0IGV2ZW50LlxuICAgICAqL1xuICAgIHRvZ2dsZVNlbGVjdChldmVudDogYW55KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGFibGUpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZCA9ICF0aGlzLnNlbGVjdGVkO1xuICAgICAgICAgICAgdGhpcy5vblNlbGVjdC5lbWl0KHRoaXMuc2VsZWN0ZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBPbmx5IGZpcmVkIHdoZW4gYWN0aW9uIGlzIHJlbmRlcmVkIGFuZCB1c2VyIGNsaWNrcyBvbiBjdXN0b20gYWN0aW9uSWNvblxuICAgICAqXG4gICAgICovXG4gICAgb25BY3Rpb25DbGljayhldmVudDogYW55KVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQWN0aW9uICYmICghdGhpcy5zZWxlY3RlZCB8fCAhdGhpcy5zZWxlY3RhYmxlKSkge1xuICAgICAgICAgICAgdGhpcy5vbkFjdGlvbi5lbWl0KHRoaXMuc2VsZWN0ZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkICB3aGVuIGhvdmVyIGVmZmVjdCBpcyBvbiArIHVzZXIgY2xpY2sgb24gdGhlIGNhcmRcbiAgICAgKlxuICAgICAqL1xuICAgIG9uSG92ZXIoaXNFbnRlcjogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5ob3ZlckRpdikpIHtcbiAgICAgICAgICAgIHRoaXMuaG92ZXJEaXYubmF0aXZlRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gaXNFbnRlciA/IDAuNSA6IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFVzZWQgdG8gZGVjaWRlIGlmIHdlIHNob3VsZCByZW5kZXIgaW1wbGljaXQgY2FyZCB0ZW1wbGF0ZSB3aXRoIG91ciB6b25lcyBvclxuICAgICAqIHVzZXIgcHJvdmlkZWQgdGVtcGxhdGVcbiAgICAgKlxuICAgICAqL1xuICAgIHNob3dCb2R5VGVtcGxhdGUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLmJvZHlUZW1wbGF0ZSkgICYmIHRoaXMudXNlQm9keVRlbXBsYXRlO1xuICAgIH1cblxufVxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5pbXBvcnQge0RpcmVjdGl2ZSwgRWxlbWVudFJlZiwgSW5wdXR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtCYXNlQ29tcG9uZW50fSBmcm9tICcuLi8uLi8uLi9jb3JlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7RW52aXJvbm1lbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuXG5cbi8qKlxuICogTWFwcyBvdXIgaW50ZXJuYWwgYWxpZ25tZW50IHZhbHVlIHRvIHJlYWwgY3NzIHZhbHVlc1xuICpcbiAqL1xuY29uc3QgVkFsaWduTWFwID0ge1xuICAgICd0b3AtbGVmdCc6ICdmbGV4LXN0YXJ0JyxcbiAgICAndG9wLWNlbnRlcic6ICdmbGV4LXN0YXJ0JyxcbiAgICAndG9wLXJpZ2h0JzogJ2ZsZXgtc3RhcnQnLFxuICAgICdjZW50ZXItbGVmdCc6ICdjZW50ZXInLFxuICAgICdjZW50ZXItY2VudGVyJzogJ2NlbnRlcicsXG4gICAgJ2NlbnRlci1yaWdodCc6ICdjZW50ZXInLFxuICAgICdib3R0b20tbGVmdCc6ICdmbGV4LWVuZCcsXG4gICAgJ2JvdHRvbS1jZW50ZXInOiAnZmxleC1lbmQnLFxuICAgICdib3R0b20tcmlnaHQnOiAnZmxleC1lbmQnXG59O1xuXG5cbmNvbnN0IEhBbGlnbk1hcCA9IHtcbiAgICAndG9wLWxlZnQnOiAnZmxleC1zdGFydCcsXG4gICAgJ3RvcC1jZW50ZXInOiAnY2VudGVyJyxcbiAgICAndG9wLXJpZ2h0JzogJ2ZsZXgtZW5kJyxcbiAgICAnY2VudGVyLWxlZnQnOiAnZmxleC1zdGFydCcsXG4gICAgJ2NlbnRlci1jZW50ZXInOiAnY2VudGVyJyxcbiAgICAnY2VudGVyLXJpZ2h0JzogJ2ZsZXgtZW5kJyxcbiAgICAnYm90dG9tLWxlZnQnOiAnZmxleC1zdGFydCcsXG4gICAgJ2JvdHRvbS1jZW50ZXInOiAnY2VudGVyJyxcbiAgICAnYm90dG9tLXJpZ2h0JzogJ2ZsZXgtZW5kJ1xufTtcblxuXG4vKipcbiAqIFRpdGxlIHpvbmUgcHJvdmlkZXMgYSBjb250ZW50IHBsYWNlaG9sZGVyIGZvciB0aGUgVGl0bGUgQXJlYS4gVGhpcyB6b25lIGlzIGFkZGluZyBhYmlsaXR5XG4gKiB0byBhbGlnbiBpdHMgY29udGVudCBpbnRvIDkgZGlmZmVyZW50IHBvc2l0aW9uLlxuICpcbiAqIFlvdSBjYW4gdXNlIHRoaXMgVGl0bGUgem9uZSB3aXRoaW4gPGF3LWNhcmQ+IGFzOlxuICpcbiAqXG4gKiBgYGBodG1sXG4gKlxuICogIDxhdy1jYXJkICBbd2lkdGhdPVwiJzIwMnB4J1wiIFtoZWlnaHRdPVwiJzE1NHB4J1wiIFtoYXNIb3Zlcl09XCJ0cnVlXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICBbc2VsZWN0YWJsZV09XCJmYWxzZVwiIFtoYXNBY3Rpb25dPVwiZmFsc2VcIlxuICogICAgICAgICAgICAgICAgICAob25Ib3ZlckFjdGlvbik9XCJvbkFjdGlvbig3LCAkZXZlbnQpXCIgPlxuICpcbiAqICAgICAgICAgICAgICAgICAgPGF3LWNhcmQtdGl0bGUgW2FsaWduXT1cIidib3R0b20tbGVmdCdcIj5cbiAqICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYS1zdXBwbGllci10YWdcIj5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBQcmVmZXJyZWRcbiAqICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAqICAgICAgICAgICAgICAgICAgPC9hdy1jYXJkLXRpdGxlPlxuICpcbiAqICAgPC9hdy1jYXJkPlxuICpcbiAqIGBgYFxuICogRGVmYXVsdCBhbGlnbm1lbnQgaXMgdG9wLWxlZnRcbiAqXG4gKlxuICpcbiAqXG4gKi9cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiBgYXctY2FyZC10aXRsZWAsXG4gICAgaG9zdDoge1xuICAgICAgICAnY2xhc3MnOiAndy1jYXJkLXRpdGxlJ1xuICAgIH1cbn0pXG5leHBvcnQgY2xhc3MgQ2FyZFpvbmVUaXRsZUNvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnRcbntcbiAgICAvKipcbiAgICAgKiBTcGVjaWFsIHByb3BlcnR5IHdoaWNoIGlzIHVzZWQgdG8gYXBwbHkgZmxleCBwcm9wZXJ0aWVzIGZvciBhbGlnbmluZyBjb250ZW50IHZlcnRpY2FsbHlcbiAgICAgKiBhcyB3ZWxsIGFzIGhvcml6b250YWxseVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBhbGlnbjogQ2FyZFRpdGxlQWxpZ25tZW50ID0gJ3RvcC1sZWZ0JztcblxuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQsIHB1YmxpYyBlbGVtOiBFbGVtZW50UmVmKVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52KTtcblxuICAgIH1cblxuXG4gICAgbmdPbkluaXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcblxuICAgICAgICB0aGlzLmVsZW0ubmF0aXZlRWxlbWVudC5zdHlsZS5hbGlnbkl0ZW1zID0gVkFsaWduTWFwW3RoaXMuYWxpZ25dO1xuICAgICAgICB0aGlzLmVsZW0ubmF0aXZlRWxlbWVudC5zdHlsZS5qdXN0aWZ5Q29udGVudCA9IEhBbGlnbk1hcFt0aGlzLmFsaWduXTtcbiAgICB9XG59XG5cblxuLyoqXG4gKiBNYWtlIHN1cmUgd2UgZG9udCBhY2NlcHQgYW55IHVuc3VwcG9ydGVkIHZhbHVlcy4gVGhlc2UgdmFsdWVzIG1hcHMgdG8gdGhlIEhBbGlnbk1hcCBhbmRcbiAqIFZBbGlnbk1hcCBpbiBvcmRlciB0byBnZXQgcmVhbCBjc3MgdmFsdWUgZm9yIHRoZSBmbGV4IGFsaWdubWVudFxuICovXG5leHBvcnQgdHlwZSBDYXJkVGl0bGVBbGlnbm1lbnQgPSAndG9wLWxlZnQnIHwgJ3RvcC1jZW50ZXInIHwgJ3RvcC1yaWdodCcgfCAnY2VudGVyLWxlZnQnIHxcbiAgICAnY2VudGVyLWNlbnRlcicgIHwgJ2NlbnRlci1yaWdodCcgfCAnYm90dG9tLWxlZnQnIHwgJ2JvdHRvbS1jZW50ZXInIHwgJ2JvdHRvbS1yaWdodCc7XG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbmltcG9ydCB7TmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge0NhcmRDb21wb25lbnQsIENhcmRab25lQm90dG9tQ29tcG9uZW50LCBDYXJkWm9uZVRvcENvbXBvbmVudH0gZnJvbSAnLi9jYXJkLmNvbXBvbmVudCc7XG5pbXBvcnQge0NhcmRab25lVGl0bGVDb21wb25lbnR9IGZyb20gJy4vY2FyZC10aXRsZS9jYXJkLXRpdGxlLmNvbXBvbmVudCc7XG5cblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZVxuICAgIF0sXG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIENhcmRDb21wb25lbnQsXG4gICAgICAgIENhcmRab25lVGl0bGVDb21wb25lbnQsXG4gICAgICAgIENhcmRab25lVG9wQ29tcG9uZW50LFxuICAgICAgICBDYXJkWm9uZUJvdHRvbUNvbXBvbmVudFxuICAgIF0sXG4gICAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgICAgIENhcmRDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgQ2FyZENvbXBvbmVudCxcbiAgICAgICAgQ2FyZFpvbmVUaXRsZUNvbXBvbmVudCxcbiAgICAgICAgQ2FyZFpvbmVUb3BDb21wb25lbnQsXG4gICAgICAgIENhcmRab25lQm90dG9tQ29tcG9uZW50XG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEFXQ2FyZE1vZHVsZVxue1xufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBFdmVudEVtaXR0ZXIsXG4gICAgZm9yd2FyZFJlZixcbiAgICBJbmplY3QsXG4gICAgSW5wdXQsXG4gICAgT3B0aW9uYWwsXG4gICAgT3V0cHV0LFxuICAgIFNpbXBsZUNoYW5nZXMsXG4gICAgU2tpcFNlbGZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Zvcm1Db250cm9sLCBOR19WQUxVRV9BQ0NFU1NPUn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtFbnZpcm9ubWVudCwgaXNCb29sZWFuLCBpc1ByZXNlbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtCYXNlRm9ybUNvbXBvbmVudH0gZnJvbSAnLi4vLi4vY29yZS9iYXNlLWZvcm0uY29tcG9uZW50JztcblxuXG4vKipcbiAqICBDaGVja2JveFR5cGUgZGVzY3JpYmVzIHdoYXQgdHlwZSBvZiBjaGVja2JveCBpcyB0aGlzOlxuICpcbiAqIC0gRm9ybSB0eXBlOiB0aGF0IGlzIHdyaXRpbmcgYW5kIHJlYWRpbmcgYSB2YWx1ZSBmcm9tL3RvIG1vZGVsIGJvdGggdXNpbmcgRm9ybUdyb3VwIGFzIHdlbGxcbiAqICAgICAgICAgICAgICBhcyBuZ01vZGVsXG4gKiAtIEFjdGlvbiB0eXBlOiAgb25seSBmaXJlcyBhY3Rpb24gYW5kIGRvZXMgbm90IHdyaXRlIHZhbHVlIHRvIG1vZGVsLlxuICpcbiAqXG4gKi9cbmV4cG9ydCB0eXBlIENoZWNrYm94VHlwZSA9ICdmb3JtJyB8ICdhY3Rpb24nO1xuXG4vKipcbiAqXG4gKiBJbXBsZW1lbnRzIHN0YW5kYXJkIEhUTUwgY2hlY2tib3ggb24gdG9wIG9mIFByaW1lTkcuIFRoZXJlIGFyZSAyIHR5cGVzIG9mXG4gKiB7QGxpbmsgQ2hlY2tib3hDb21wb25lbnR9OiBmb3JtIGFuZCBhY3Rpb24gY2hlY2tib3ggYXMgZGVzY3JpYmVkIGFib3ZlLlxuICpcbiAqXG4gKiBVc2FnZTogQmFzaWMgZXhhbXBsZSBoYXZpbmcgcmVkIGNoZWNrYm94IGNoZWNrZWRcbiAqXG4gKiBgYGBIVE1MXG4gKiAgICAgICAgPGF3LWNoZWNrYm94IFtuYW1lXT1cIidjb2xvcidcIiBbdmFsdWVdPVwiJ3JlZCdcIiBbbGFiZWxdPVwiJ1JlZCdcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJtb2RlbFwiPlxuICogICAgICAgIDwvYXctY2hlY2tib3g+XG4gKiAgICAgICAgPGF3LWNoZWNrYm94IFtuYW1lXT1cIidjb2xvcidcIiBbdmFsdWVdPVwiJ2JsdWUnXCIgW2xhYmVsXT1cIidCbHVlJ1wiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbKG5nTW9kZWwpXT1cIm1vZGVsXCI+XG4gKiAgICAgICA8L2F3LWNoZWNrYm94PlxuICpcbiAqIGBgYFxuICpcbiAqIGBgYHRzXG4gKlxuICpcbiAqICAgY2xhc3MgQ0JCYXNpY1dpdGhOZ01vZGVsQ29tcG9uZW50XG4gKiAgIHtcbiAqXG4gKiAgICAgICBtb2RlbDogc3RyaW5nW10gPSBbJ3JlZCddO1xuICpcbiAqICAgICAgIGNvbnN0cnVjdG9yKClcbiAqICAgICAgIHtcbiAqICAgICAgIH1cbiAqICAgfVxuICpcbiAqIGBgYFxuICpcbiAqIEZvciBtb3JlIGV4YW1wbGVzIHBsZWFzZSBzZWUgYSBwbGF5Z3JvdW5kIG9yIHVuaXQgdGVzdC5cbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBDQl9DT05UUk9MX1ZBTFVFX0FDQ0VTU09SOiBhbnkgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gQ2hlY2tib3hDb21wb25lbnQpLFxuICAgIG11bHRpOiB0cnVlXG59O1xuXG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctY2hlY2tib3gnLFxuICAgIHRlbXBsYXRlVXJsOiAnY2hlY2tib3guY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydjaGVja2JveC5jb21wb25lbnQuc2NzcyddLFxuXG4gICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIENCX0NPTlRST0xfVkFMVUVfQUNDRVNTT1IsXG4gICAgICAgIHtwcm92aWRlOiBCYXNlRm9ybUNvbXBvbmVudCwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gQ2hlY2tib3hDb21wb25lbnQpfVxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgQ2hlY2tib3hDb21wb25lbnQgZXh0ZW5kcyBCYXNlRm9ybUNvbXBvbmVudFxue1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBBIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGNoZWNrYm94XG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHZhbHVlOiBhbnkgPSAnJztcblxuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBjaGVja2JveC4gRm9ybSBiYXNlZCB1cGRhdGVzIG1vZGVsIGFuZCBBY3Rpb24gYmFzZWQgb25seSBmaXJlcyBjbGljayBldmVudHNcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgdHlwZTogQ2hlY2tib3hUeXBlID0gJ2Zvcm0nO1xuXG5cbiAgICAvKipcbiAgICAgKiBMYWJlbCB0byBiZSB1c2VkIHdoZW4gcmVuZGVyaW5nIGEgY2hlY2tib3hcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGxhYmVsOiBzdHJpbmc7XG5cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgY2xpY2sgZXZlbnQuXG4gICAgICpcbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBhY3Rpb246IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgLyoqXG4gICAgICogUHJpbWVORyBoYXMgdGhpcyB0eXBlIGNhbGxlZCBiaW5hcnkgd2hpY2ggd29ya3Mgb25seSB3aXRoIEJvb2xlYW4gbWVhbmluZyBpdCBkb2VzIG5vdCBhZGQgb3JcbiAgICAgKiByZW1vdmUgdmFsdWVzLlxuICAgICAqXG4gICAgICogSW4gb3VyIGNhc2UgQ2hlY2t0eXBlID0gQWN0aW9uIGlzIGFsd2F5cyBiaW5hcnkgb3Igd2hlbiB0aGlzLnZhbHVlIGlzIGJvb2xlYW5cbiAgICAgKlxuICAgICAqL1xuICAgIGlzQmluYXJ5OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtb2RlbCBmb3IgY2hlY2tib3hcbiAgICAgKi9cbiAgICBtb2RlbDogYW55O1xuXG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZW52OiBFbnZpcm9ubWVudCxcbiAgICAgICAgICAgICAgICBAU2tpcFNlbGYoKSBAT3B0aW9uYWwoKSBASW5qZWN0KGZvcndhcmRSZWYoKCkgPT4gQmFzZUZvcm1Db21wb25lbnQpKVxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBwYXJlbnRDb250YWluZXI6IEJhc2VGb3JtQ29tcG9uZW50KVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52LCBwYXJlbnRDb250YWluZXIpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KClcbiAgICB7XG4gICAgICAgIHRoaXMubW9kZWwgPSB0aGlzLnZhbHVlO1xuICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLmFjdGlvbi5vYnNlcnZlcnMubGVuZ3RoID4gMCA/ICdhY3Rpb24nIDogdGhpcy50eXBlO1xuXG4gICAgICAgIGlmICh0aGlzLmlzRm9ybVR5cGUoKSkge1xuICAgICAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNTdGFuZGFsb25lKSB7XG4gICAgICAgICAgICAgICAgc3VwZXIucmVnaXN0ZXJGb3JtQ29udHJvbCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsID0gdGhpcy5mb3JtQ29udHJvbC52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uTW9kZWxDaGFuZ2VkKHRoaXMubW9kZWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgY29udHJvbCBmcm9tIHBhcmVudFxuICAgICAgICAgICAgICAgIHRoaXMuZm9ybUNvbnRyb2wgPSA8Rm9ybUNvbnRyb2w+IHRoaXMuZm9ybUdyb3VwLmNvbnRyb2xzW3RoaXMubmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiB2YWx1ZSBpcyBib29sZWFuIHdlIGFyZSBkZWFsaW5nIHdpdGggUHJpbWVOZyBCaW5hcnkgY2hlY2tib3hcbiAgICAgICAgLy8gd2hpY2ggb25seSBzZXRzIFRSVUUvRkFMU0UgYW5kIGRvZXMgbm90IGFkZCBvciByZW1vdmUgdmFsdWVzXG4gICAgICAgIHRoaXMuaXNCaW5hcnkgPSBpc0Jvb2xlYW4odGhpcy52YWx1ZSk7XG5cbiAgICB9XG5cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5uZ09uQ2hhbmdlcyhjaGFuZ2VzKTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KGNoYW5nZXNbJ3ZhbHVlJ10pICYmXG4gICAgICAgICAgICAoY2hhbmdlc1sndmFsdWUnXS5jdXJyZW50VmFsdWUgIT09IGNoYW5nZXNbJ3ZhbHVlJ10ucHJldmlvdXNWYWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwgPSBjaGFuZ2VzWyd2YWx1ZSddLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBDaGVja2JveCBpcyBjbGlja2VkIGFuZCBpdCBlaXRoZXIgZmlyZSBhY3Rpb24gb3IgdXBkYXRlcyB0aGUgbW9kZWwuXG4gICAgICpcbiAgICAgKi9cbiAgICBvbkNoYW5nZShldmVudDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaXNGb3JtVHlwZSgpKSB7XG4gICAgICAgICAgICB0aGlzLm9uTW9kZWxDaGFuZ2VkKHRoaXMubW9kZWwpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTdGFuZGFsb25lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JtQ29udHJvbC5zZXRWYWx1ZSh0aGlzLm1vZGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uLmVtaXQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFRlbGwgaWYgd2UgYXJlIHVzaW5nIEZvcm0gQ2hlY2tib3guIFRoaXMgaXMgdXNlZCByZW1vdmUgc29tZSBvZiB0aGUgYmluZGluZ3MgdGhhdCBhcmUgbm90XG4gICAgICogYXBwbGljYWJsZSBmb3IgY2VydGFpbiB0eXBlLlxuICAgICAqXG4gICAgICovXG4gICAgaXNGb3JtVHlwZSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSAnZm9ybSc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwuIFBsZWFzZSBzZWUgQ29udHJvbFZhbHVlQWNjZXNzb3JcbiAgICAgKlxuICAgICAqL1xuICAgIHdyaXRlVmFsdWUodmFsdWU6IGFueSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5tb2RlbCAmJiB0aGlzLmlzRm9ybVR5cGUoKSkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbCA9IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc1N0YW5kYWxvbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uTW9kZWxDaGFuZ2VkKHRoaXMubW9kZWwpO1xuICAgICAgICAgICAgICAgIHRoaXMuZm9ybUNvbnRyb2wuc2V0VmFsdWUodGhpcy5tb2RlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtOZ01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0NvbW1vbk1vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7Rm9ybXNNb2R1bGUsIFJlYWN0aXZlRm9ybXNNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7Q2hlY2tib3hDb21wb25lbnR9IGZyb20gJy4vY2hlY2tib3guY29tcG9uZW50JztcbmltcG9ydCB7Q2hlY2tib3hNb2R1bGV9IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XG5cblxuQE5nTW9kdWxlKHtcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgQ2hlY2tib3hDb21wb25lbnRcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZSxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgQ2hlY2tib3hNb2R1bGVcbiAgICBdLFxuXG4gICAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgICAgIENoZWNrYm94Q29tcG9uZW50XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIENoZWNrYm94Q29tcG9uZW50LFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZVxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBBV0NoZWNrQm94TW9kdWxlXG57XG59XG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge1xuICAgIEFmdGVyQ29udGVudEluaXQsXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgQ29tcG9uZW50LFxuICAgIEV2ZW50RW1pdHRlcixcbiAgICBmb3J3YXJkUmVmLFxuICAgIEluamVjdCxcbiAgICBJbnB1dCxcbiAgICBPcHRpb25hbCxcbiAgICBPdXRwdXQsXG4gICAgU2tpcFNlbGZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Vudmlyb25tZW50LCBlcXVhbHMsIGlzQmxhbmssIGlzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge05HX1ZBTFVFX0FDQ0VTU09SfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0Jhc2VGb3JtQ29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL2Jhc2UtZm9ybS5jb21wb25lbnQnO1xuaW1wb3J0IHtGb3JtUm93Q29tcG9uZW50fSBmcm9tICcuLi8uLi9sYXlvdXRzL2Zvcm0tdGFibGUvZm9ybS1yb3cvZm9ybS1yb3cuY29tcG9uZW50JztcblxuXG4vKipcbiAqICBDaGVja2JveCBsaXN0IGlzIGEgd3JhcHBlciBjbGFzcyBhcm91bmQgJ0NoZWNrYm94JyBjb21wb25lbnQgdG8gc2ltcGx5IGFzc2VtYmx5IG9mIG11bHRpIGNob2ljZVxuICogY29tcG9uZW50XG4gKlxuICogSW4gQWRkaXRpb24gaXQgYWRkcyBhYmlsaXR5IHRvIHdvcmsgd2l0aCBjb21wbGV4IG9iamVjdC4gUHJpbWVORyBjaGVja2JveGVzIHdvcmsgb25seSB3aXRoXG4gKiBwcmltaXRpdmUgdmFsdWVzLlxuICpcbiAqIEBzZWUge0BsaW5rIGNoZWNrLWJveC9jaGVjay1ib3guY29tcG9uZW50LnRzfVxuICpcbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqXG4gKiAgICBAQ29tcG9uZW50KHtcbiAqICAgICAgIHNlbGVjdG9yOiAnc2hvd0NoZWNrQm94TGlzdCcgLFxuICogICAgICAgdGVtcGxhdGU6IGBcbiAqICAgICAgICAgICA8YXctY2hlY2tib3gtbGlzdCBbbGlzdF09XCJjaGVja0JveExpc3RWYWx1ZXNcIiBbc2VsZWN0aW9uc109XCJzZWxlY3RlZFZhbHVlc1wiXG4gKlxuICogICAgICAgICAgICBbbmFtZV09XCInbXlDb2xvcnMnXCIgW2Zvcm1Hcm91cF09XCJmb3JtR3JvdXBcIiAob25TZWxlY3Rpb24pPVwib25DQkNsaWNrXCI+XG4gKiAgICAgICAgICAgPC9hdy1jaGVja2JveC1saXN0PlxuICogICAgICAgYFxuICpcbiAqICAgICAgIH0pXG4gKiAgICAgICAgY2xhc3MgTXlTaG93Q0xDb21wb25lbnRcbiAqICAgICAgICB7XG4gKiAgICAgICAgICAgIGNoZWNrQm94TGlzdFZhbHVlczogc3RyaW5nW10gPSBbJ2JsdWUnICwgJ3JlZCcgLCAneWVsbG93JyAsICdvcmFuZ2UnICwgJ3doaXRlJyAsXG4gKiAgICAgJ3NpbHZlcicgLCAnYmxhY2snICxcbiAqICAgICAgICAgICAgJ0dyZWVuJyAsICdHcmF5JyAsICdOYXZ5JyAsICdPbGl2ZScgLCAnQXF1YScgLCAnUHVycGxlJ107XG4gKlxuICogICAgICAgICAgICBzZWxlY3RlZFZhbHVlczogc3RyaW5nW10gPSBbJ2JsdWUnICwgJ09saXZlJyAsICdBcXVhJyAsICdQdXJwbGUnXTtcbiAqXG4gKlxuICogICAgICAgICAgICBmb3JtR3JvdXA6IEZvcm1Hcm91cCA9IG5ldyBGb3JtR3JvdXAoe30pO1xuICpcbiAqXG4gKiAgICAgICAgICAgIG9uQ0JDbGljayAoZXZlbnQpOiB2b2lkXG4gKiAgICAgICAgICAgIHtcbiAqICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvbkNCQ2xpY2sgPSAnICsgZXZlbnQpO1xuICogICAgICAgICAgICB9XG4gKlxuICogICAgICAgIH1cbiAqKlxuICovXG5cblxuXG5cbmV4cG9ydCBjb25zdCBDQl9MSVNUX0NPTlRST0xfVkFMVUVfQUNDRVNTT1I6IGFueSA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBDaGVja0JveExpc3RDb21wb25lbnQpLFxuICAgIG11bHRpOiB0cnVlXG59O1xuXG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctY2hlY2tib3gtbGlzdCcsXG4gICAgdGVtcGxhdGVVcmw6ICdjaGVjay1ib3gtbGlzdC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ2NoZWNrLWJveC1saXN0LmNvbXBvbmVudC5zY3NzJ10sXG5cbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgQ0JfTElTVF9DT05UUk9MX1ZBTFVFX0FDQ0VTU09SLFxuICAgICAgICB7cHJvdmlkZTogQmFzZUZvcm1Db21wb25lbnQsIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IENoZWNrQm94TGlzdENvbXBvbmVudCl9XG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBDaGVja0JveExpc3RDb21wb25lbnQgZXh0ZW5kcyBCYXNlRm9ybUNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyQ29udGVudEluaXRcbntcbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHZhbHVlcyB1c2VkIHRvIHJlbmRlciBjaGVja2JveGVzLiBFdmVuIHdlIGhhdmUgaGVyZSB0eXBlIGFzIEFOWSB3ZSBpbnRlcm5hbGx5XG4gICAgICogc3VwcG9ydCBvbmx5IHN0cmluZyBhdCB0aGUgbW9tZW50XG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBsaXN0OiBhbnlbXTtcblxuXG4gICAgLyoqXG4gICAgICogIFNlbGVjdGlvbnMgYXJlIGRlZmF1bHQgQ0hFQ0tFRCB2YWx1ZXMgcGFzc2VkLiBlLmcuIFdoZW4gcmVuZGVyaW5nIGZpZWxkIGZhdm9yaXRlIGNvbG9yczpcbiAgICAgKiBibHVlLCByZWQsIHllbGxvdyB5b3Ugd2lsbCBwYXNzIGluIGhlcmUgYmx1ZSwgcmVkLCB0aGVuIGNoZWNrYm94ZXMgd2l0aCB2YWx1ZSBibHVlLCByZWQgd2lsXG4gICAgICogYmUgcmVuZGVyZWQgYXMgY2hlY2sgYW5kIHllbGxvdyB1bmNoZWNrZWRcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNlbGVjdGlvbnM6IGFueVtdO1xuXG4gICAgLyoqXG4gICAgICogRmlyZXMgZXZlbnQgd2hlbiBjaGVja2JveCBpcyBzZWxlY3RlZC9jbGlja2VkLiBFbWl0cyBjdXJyZW50IGNsaWNrZWQgY2hlY2tib3hlZC4gbm90IHRoZVxuICAgICAqIGFjdHVhbGwgaW50ZXJuYWwgbW9kZWwgdmFsdWUgaW4gdGhpcyBjYXNlIGFycmF5IG9mIGNob2ljZXNcbiAgICAgKlxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIG9uU2VsZWN0aW9uOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgLyoqXG4gICAgICogc3BlY2lhbCBleHByZXNzaW9uIHRvIGZvcm1hdCBsYWJlbFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgbGFiZWxGb3JtYXR0ZXI6ICh2YWx1ZTogYW55KSA9PiBzdHJpbmc7XG5cblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIG1vZGVsXG4gICAgICovXG4gICAgbW9kZWw6IGFueSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgICAgICAgICAgICAgQFNraXBTZWxmKCkgQE9wdGlvbmFsKCkgQEluamVjdChmb3J3YXJkUmVmKCgpID0+IEZvcm1Sb3dDb21wb25lbnQpKVxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBwYXJlbnRDb250YWluZXI6IEJhc2VGb3JtQ29tcG9uZW50KVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52LCBwYXJlbnRDb250YWluZXIpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KClcbiAgICB7XG4gICAgICAgIHN1cGVyLm5nT25Jbml0KCk7XG5cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5zZWxlY3Rpb25zKSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlZ2lzdGVyRm9ybUNvbnRyb2wodGhpcy5zZWxlY3Rpb25zKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZU1vZGVsKHRoaXMuc2VsZWN0aW9ucyk7XG4gICAgICAgIHRoaXMub25Nb2RlbENoYW5nZWQodGhpcy5zZWxlY3Rpb25zKTtcbiAgICB9XG5cblxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgdXBkYXRlZE1vZGVsOiBhbnlbXSA9IFtdO1xuXG4gICAgICAgIHRoaXMubW9kZWwuZm9yRWFjaCgoaW5kZXg6IG51bWJlcikgPT4gdXBkYXRlZE1vZGVsLnB1c2godGhpcy5saXN0W2luZGV4XSkpO1xuICAgICAgICB0aGlzLmZvcm1Db250cm9sLnNldFZhbHVlKHVwZGF0ZWRNb2RlbCwge1xuICAgICAgICAgICAgZW1pdEV2ZW50OiB0cnVlLFxuICAgICAgICAgICAgZW1pdFZpZXdUb01vZGVsQ2hhbmdlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIExhYmVsIGlzIGV4dHJhY3RlZCBpbnRvIHRoaXMgbWV0aG9kIHNvIGluIHRoZSBmdXR1cmUgd2UgY2FuIHBsYXkgbW9yZSBob3cgd2Ugd2FudCB0byBkaXNwbGF5XG4gICAgICogdGhlIHZhbHVlLiBTaW5jZSBJIHdhbnQgdG8gc3VwcG9ydCBmb3JtYXR0ZXJzIGZvciBlYWNoIGNvbXBvbmVudHMgd2UgbWlnaHQgaGF2ZSBhIGNoYW5jZSB0b1xuICAgICAqIGRlY2lkZSBob3cgbGFiZWwgd2lsbCBsb29rIGxpa2UuXG4gICAgICpcbiAgICAgKi9cbiAgICBsYWJlbFZhbHVlKGl0ZW06IGFueSk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmxhYmVsRm9ybWF0dGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxGb3JtYXR0ZXIoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW0udG9TdHJpbmcoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEluIHRoaXMgdmVyc2lvbiBvZiBjaGVja2JveGVzIHdlIHN0aWxsIGV4cGVjdCBvbmx5IHByaW1pdGl2ZSB0eXBlcy4gS2VlcCB0aGlzIGZ1bmN0aW9uYWxpdHlcbiAgICAgKiBpbiBleHRyYSBtZXRob2Qgc28gd2UgY2FuIHdvcmsgd2l0aCBpdCBldmVuIG5vdyB3ZSBqdXN0IHJldHVybiB0aGUgc2FtZSB2YWx1ZSBiYWNrXG4gICAgICovXG4gICAgdmFsdWUoaXRlbTogYW55KTogYW55XG4gICAge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWxlZ2F0ZSBldmVudCBvdXRzaWRlIG9mIHRoaXMgY29tcG9uZW50IGFuZCBjb252ZXJ0IGluZGV4ZWQgbW9kZWwgdG8gb3JpZ2luYWwgb2JqZWN0c1xuICAgICAqXG4gICAgICovXG4gICAgb25DaGFuZ2UoZXZlbnQ6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCB1cGRhdGVkTW9kZWw6IGFueVtdID0gW107XG5cbiAgICAgICAgdGhpcy5tb2RlbC5mb3JFYWNoKChpbmRleDogbnVtYmVyKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB1cGRhdGVkTW9kZWwucHVzaCh0aGlzLmxpc3RbaW5kZXhdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5vblNlbGVjdGlvbi5lbWl0KHVwZGF0ZWRNb2RlbCk7XG4gICAgICAgIHRoaXMub25Nb2RlbENoYW5nZWQodXBkYXRlZE1vZGVsKTtcbiAgICAgICAgdGhpcy5mb3JtQ29udHJvbC5zZXRWYWx1ZSh1cGRhdGVkTW9kZWwsIHtcbiAgICAgICAgICAgIGVtaXRFdmVudDogdHJ1ZSxcbiAgICAgICAgICAgIGVtaXRWaWV3VG9Nb2RlbENoYW5nZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBTaW5jZSB3ZSBtaWdodCBiZSBkZWFsaW5nIHdpdGggY29tcGxleCBvYmplY3Qgc3RvcmUgb25seSBJTkRFWGVzIG51bWJlciBpbiB0aGUgbW9kZWwuXG4gICAgICpcbiAgICAgKi9cbiAgICB1cGRhdGVNb2RlbChzb3VyY2VMaXN0OiBhbnlbXSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHNvdXJjZUxpc3QuZm9yRWFjaCgoaXRlbTogYW55KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmxpc3QuZmluZEluZGV4KChlbGVtOiBhbnkpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVxdWFscyhpdGVtLCBlbGVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5wdXNoKGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbC4gUGxlYXNlIHNlZSBDb250cm9sVmFsdWVBY2Nlc3NvclxuICAgICAqXG4gICAgICovXG4gICAgd3JpdGVWYWx1ZSh2YWx1ZTogYW55KVxuICAgIHtcbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLm1vZGVsKSAmJiBpc1ByZXNlbnQodmFsdWUpKSB7XG4gICAgICAgICAgICBsZXQgbmV3TW9kZWwgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTW9kZWwobmV3TW9kZWwpO1xuXG4gICAgICAgICAgICAvLyB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtDaGVja0JveExpc3RDb21wb25lbnR9IGZyb20gJy4uL2NoZWNrLWJveC1saXN0L2NoZWNrLWJveC1saXN0LmNvbXBvbmVudCc7XG5pbXBvcnQge0FXQ2hlY2tCb3hNb2R1bGV9IGZyb20gJy4uL2NoZWNrYm94L2NoZWNrLWJveC5tb2R1bGUnO1xuXG5cbkBOZ01vZHVsZSh7XG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIENoZWNrQm94TGlzdENvbXBvbmVudFxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBBV0NoZWNrQm94TW9kdWxlXG4gICAgXSxcblxuXG4gICAgZXhwb3J0czogW1xuICAgICAgICBDaGVja0JveExpc3RDb21wb25lbnRcbiAgICBdLFxuICAgIHByb3ZpZGVyczogW11cbn0pXG5leHBvcnQgY2xhc3MgQVdDaGVja0JveExpc3RNb2R1bGVcbntcbn1cblxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7Q29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtCYXNlQ29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7RW52aXJvbm1lbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuXG4vKipcbiAqIEh5cGVybGluayBjb21wb25lbnQgdGhhdCBpbXBsZW1lbnRzIGNvbnNpc3RlbnQgc3R5bGluZywgYmVoYXZpb3IuIEh5cGVybGluayBzdXBwb3J0cyBhbGwgb2YgdGhlXG4gKiBuYXRpdmUgbGluayBmdW5jdGlvbmFsaXR5LiBJbiBhZGRpdGlvbiwgaXQgc3VwcG9ydHMgbmF2aWdhdGlvbiB0byBjb21wb25lbnRzIHRocm91Z2ggdGhlIGFjdGlvblxuICogYmluZGluZy5cbiAqXG4gKlxuICogZm9yIG1vcmUgaW5mbyBwbGVhc2Ugc2VlIGNsYXNzIERvYyBvZiB0aGU6XG4gKiAgQHNlZSB7QGxpbmsgYnV0dG9uL2J1dHRvbi5jb21wb25lbnQudHN9XG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKlxuICogIEBDb21wb25lbnQoe1xuICogICAgc2VsZWN0b3I6ICdyZWdpc3RyYXRpb24nICxcbiAqICAgIHRlbXBsYXRlOiBgXG4gKlxuICogICAgICAgICAgIDxhdy1oeXBlcmxpbmsgIFt0eXBlXT1cIid0ZXh0L2h0bWwnXCIgW25hbWVdPVwiJ2xpbmsnXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgKGFjdGlvbik9XCJvbkNsaWNrZWQoJGV2ZW50KVwiIFt2YWx1ZV09XCJjdXN0b21lcklkXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgW3NpemVdPVwiJ2xhcmdlJ1wiID5teSBsaW5rPC9hdy1oeXBlcmxpbms+XG4gKlxuICogICAgYFxuICogICAgfSlcbiAqICAgIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudFxuICogICAge1xuICogICAgICAgIGNvbW1hbmQ6Ym9vbGVhbjtcbiAqXG4gKiAgICAgICAgY29uc3RydWN0b3IgKClcbiAqICAgICAgICB7XG4gKiAgICAgICAgfVxuICpcbiAqICAgICAgICBvbkNsaWNrZWQoY3VzdG9tZXJJZDpzdHJpbmcpIHtcbiAqICAgICAgICAgICBpZiAoY3VzdG9tZXJJZCkge1xuICogICAgICAgICAgICAgIC8vIGRpc3BsYXkgY3VzdG9tZXIgZGV0YWlscyBjb21wb25lbnQuXG4gKiAgICAgICAgICAgfVxuICogICAgICAgIH1cbiAqICAgIH1cbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1oeXBlcmxpbmsnLFxuICAgIHRlbXBsYXRlVXJsOiAnaHlwZXJsaW5rLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnaHlwZXJsaW5rLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgSHlwZXJsaW5rQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudFxue1xuXG4gICAgLyoqXG4gICAgICogICAgU3BlY2lmaWVzIHRoZSBtZWRpYSB0eXBlIG9mIHRoZSBsaW5rZWQgZG9jdW1lbnQuIE1pbWUgdHlwZVxuICAgICAqICAgIGV4OiBbdGV4dC9odG1sIHwgdGV4dC9jc3YgfCBpbWFnZS9wbmcgfCBhdWRpby8zZ3BwIHwgLi4uLl1cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHR5cGU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIHVybCBmb3IgdGhpcyBoeXBlcmxpbmsuIENhbiBiZSB1c2VkIHRvIG5hdmlnYXRlIHRvIGEgY29tcG9uZW50LlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgaHJlZjogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogcmVsIGZvciB0aGlzIGh5cGVybGluay4gU3BlY2lmeSB0aGUgcmVsYXRpb25zaGlwIG9mIHRoZSBjdXJyZW50IGRvY3VtZW50IGFuZCBsaW5rZWQgZG9jdW1lbnRcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHJlbDogc3RyaW5nO1xuXG5cbiAgICAvKipcbiAgICAgKiBzaXppbmcgZm9yIHRoaXMgbGluay4gW2xhcmdlLCBub3JtYWwsIHNtYWxsXS5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNpemU6IExpbmtTaXplID0gJ25vcm1hbCc7XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSB0YXJnZXQgb2YgdGhlIGh5cGVybGluay4gW19ibGFuayB8IF9zZWxmIHwgX3BhcmVudCB8IF90b3AgfCBmcmFtZW5hbWUgXVxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgdGFyZ2V0OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBWYWx1ZSB0byBiZSBzZW5kIHRvIHNlcnZlciB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICB2YWx1ZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogRXZlbnQgZmlyZWQgd2hlbiB1c2VyIHNlbGVjdCBhIGl0ZW1cbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBhY3Rpb246IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgQ1NTIGNsYXNzIHRoYXQgc3R5bGVzIHRoaXMgaHlwZXJsaW5rIGJhc2VkIG9uIGlucHV0ICdzaXplJ1xuICAgICAqL1xuICAgIGxpbmtDbGFzczogc3RyaW5nID0gJ2xpbmsnO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuXG4gICAgfVxuXG4gICAgbmdPbkluaXQoKVxuICAgIHtcbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcblxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIGxpbmsgY2xhc3MgYmFzZWQgb24gaW5wdXQgc2l6ZS5cbiAgICAgICAgaWYgKHRoaXMuc2l6ZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnNpemUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdsYXJnZScgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmtDbGFzcyArPSAnIGxpbmstbGcnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdub3JtYWwnIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5rQ2xhc3MgKz0gJyBsaW5rLW1pZCc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NtYWxsJyA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlua0NsYXNzICs9ICcgbGluay1zbSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgSSBoYXZlIGFuIGFjdGlvbiB0YWcsIGFuZCBubyBocmVmLiBXZSBhZGQgZGVmYXVsdCBzdHlsaW5nIGFuZCBiZWhhdmlvci5cbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uLm9ic2VydmVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmtDbGFzcyArPSAnIGxpbmstYmgnO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgQWN0aW9uIGNsaWNrZWQuIENhbGwgcGFyZW50IGFjdGlvbi5cbiAgICAgKi9cbiAgICBjbGlja2VkKGV2ZW50OiBhbnkpXG4gICAge1xuICAgICAgICB0aGlzLmFjdGlvbi5lbWl0KHtcbiAgICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBTdXBwb3J0ZWQgTGluayBTaXplXG4gKi9cbmV4cG9ydCB0eXBlIExpbmtTaXplID0gJ2xhcmdlJyB8ICdub3JtYWwnIHwgJ3NtYWxsJztcbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtOZ01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0NvbW1vbk1vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7SHlwZXJsaW5rQ29tcG9uZW50fSBmcm9tICcuL2h5cGVybGluay5jb21wb25lbnQnO1xuXG5cbkBOZ01vZHVsZSh7XG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIEh5cGVybGlua0NvbXBvbmVudFxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGVcbiAgICBdLFxuICAgIGVudHJ5Q29tcG9uZW50czogW1xuICAgICAgICBIeXBlcmxpbmtDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgSHlwZXJsaW5rQ29tcG9uZW50XG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEFXSHlwZXJsaW5rTW9kdWxlXG57XG59XG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge3VuaW1wbGVtZW50ZWR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuXG5cbi8qKlxuICogU2VsZWN0aW9uIFN0YXRlIGZvciB0aGUgY2hvb3NlciBpbiBvcmRlciB0byBiZSBhYmxlIHRvIGNvbXVuaWNhdGUgd2l0aCB0aGUgcGFyZW50IG9iamVjdCB1c2luZyBhXG4gKiBjaG9vc2VyLiBJZiBJIHdvdWxkIGhhdmUgdG8gbWFuYWdlIG9ubHkgc2luZ2xlIHZhbHVlcyB3aXRoIG5vIGFkZGlvbmFsIG1ldGhvZHMgaSB3b3VsZCB1c2VyXG4gKiBlbWl0dGVycyB0byBkbyB0aGUgam9iLCBidXQgaW4gdGhpcyBjYXNlIHdlIG5lZWQgdGhpcyBpbnRlcmZhY2UgKGFic3RyYWN0IGNsYXNzKSBiZXR3ZWVuIGFcbiAqIGNob29zZXIgYW5kIGFjdHVhbCBvYmplY3QuXG4gKlxuICpcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENob29zZXJTZWxlY3Rpb25TdGF0ZVxue1xuICAgIC8qKlxuICAgICAqXG4gICAgICogU2V0IHNlbGVjdGlvbiBzdGF0ZSBpcyB1c3VhbGx5IHRyaWdnZXJlZCBieSBzZWxlY3RpbmcgYW5kIHVuc2VsZWN0aW5nIGEgaXRlbSAoaW4gY2FzZSBvZlxuICAgICAqIG11bHRpc2VsZWN0KSBhbmQgaXQgc2hvdWxkIHVwZGF0ZSBpdHMgbGlzdCBvZiBvYmplY3RzIHdpdGggZWl0aGVyIHNldHRpbmdzL2FkZGluZyBpdGVtIG9yXG4gICAgICogcmVtb3ZpbmcgaXQuXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIHNldFNlbGVjdGlvblN0YXRlKHNlbGVjdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG1vc3QgcmVjZW50IHNlbGVjdGlvbiAuIE51bGwgaWYgbGFzdCBhY3Rpb24gd2FzIGEgZGVzZWxlY3Rpb24uIFVzdWFsbHkgdXNlZCBieSBDaG9vc2VyXG4gICAgICogb3IgQ2hvb3NlclN0YXRlIHRvIGdldCBjdXVyZW50IHZhbHVlLlxuICAgICAqXG4gICAgICovXG4gICAgc2VsZWN0ZWRPYmplY3QoKTogYW55XG4gICAge1xuICAgICAgICByZXR1cm4gdW5pbXBsZW1lbnRlZCgpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhlIG1vc3QgcmVjZW50IHNlbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKi9cbiAgICBzZWxlY3RlZE9iamVjdHMoKTogQXJyYXk8YW55PlxuICAgIHtcbiAgICAgICAgcmV0dXJuIHVuaW1wbGVtZW50ZWQoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ2hlY2sgaWYgdGhlIGl0ZW0gc2VsZWN0aW9uIGl0ZW1zIGlzIGluIHRoZSBzZWxlY3RlZE9iamVjdHNcbiAgICAgKi9cbiAgICBpc1NlbGVjdGVkKHNlbGVjdGlvbjogYW55KTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHVuaW1wbGVtZW50ZWQoKTtcbiAgICB9XG59XG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtpc0JsYW5rLCBpc1ByZXNlbnQsIExpc3RXcmFwcGVyfSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7Q2hvb3NlclNlbGVjdGlvblN0YXRlfSBmcm9tICcuL2Nob29zZXItc2VsZWN0aW9uLXN0YXRlJztcbmltcG9ydCB7RGF0YVNvdXJjZX0gZnJvbSAnLi4vLi4vY29yZS9kYXRhL2RhdGEtc291cmNlJztcblxuLyoqXG4gKiBDaG9vc2VyU3RhdGUgbWFuYWdlcyBjb21wbGV0ZSBsaWZlY3ljbGUgZm9yIHRoZSBDaG9vc2VyIENvbXBvbmVudC4gSXQga2VlcHMgdHJhY2sgb2YgY3VycmVudFxuICogc2VsZWN0aW9uIGFzIHdlbGwgYXMgaXQgY2FuIGJyb2FkY2FzdCBhbnkgdXBkYXRlcy5cbiAqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQ2hvb3NlclN0YXRlXG57XG5cbiAgICAvKipcbiAgICAgKiAgQ2FsbGJhY2sgdG8gdGhlIHBhcmVudCBvYmplY3QgdG8gc3RvcmUgY3VycmVudCBzZWxlY3Rpb25cbiAgICAgKi9cbiAgICBzZWxlY3Rpb25TdGF0ZTogQ2hvb3NlclNlbGVjdGlvblN0YXRlO1xuXG4gICAgLyoqXG4gICAgICogdG9kbzogV2UgZG8gbm90IG5lZWRlZCB0aGlzICEhXG4gICAgICovXG4gICAgY3VycmVudEl0ZW06IGFueTtcblxuXG4gICAgLyoqXG4gICAgICogTWF0Y2hpbmcgcGF0dGVybi4gVXNlciBsYXRlc3QgaW5wdXQgdG8gdGhlIGNob29zZXIgaW5wdXQgZmllbGRcbiAgICAgKi9cbiAgICBwYXR0ZXJuOiBzdHJpbmc7XG5cblxuICAgIC8qKlxuICAgICAqIExhc3Qgc3VjY2Vzc2Z1bGwgcGF0dGVybiB0aGF0IHJldHJpZXZlZCBzb21lIGRhdGFcbiAgICAgKi9cbiAgICBsYXN0RnVsbE1hdGNoUGF0dGVybjogc3RyaW5nO1xuXG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IG1hdGNoZWQgaXRlbXMgdXNpbmcgQ2hvb3NlclNlbGVjdGlvblN0YXRlXG4gICAgICovXG4gICAgbWF0Y2hlczogQXJyYXk8YW55PjtcblxuXG4gICAgLyoqXG4gICAgICogSXMgdGhpcyBtdWx0aXNlbGVjdCBjaG9vc2VyXG4gICAgICovXG4gICAgbXVsdGlzZWxlY3Q6IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogSW1wbGVtZW50YXRpb24gY2FuIHNldCBsb29rdXAga2V5IHRvIG5hcnJvdyB0aGUgc2VhcmNoLiBJZiB3ZSBhcmUgZGVhbGluZyB3aXRoIG9iamVjdFxuICAgICAqIHlvdSBzaG91bGQgc2V0IHRoaXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBsb29rdXBLZXk6IHN0cmluZztcblxuXG4gICAgLyoqXG4gICAgICogcHJldmlvdXMgZGlzcGxheSB2YWx1ZSBpcyBzZXQgd2hlbiB0aGUgZGlzcGxheSB2YWx1ZSBpcyByZW5kZXJlZCBvbiB0aGUgY2hvb3Nlci4gd2UgY2FjaGVcbiAgICAgKiB0aGUgVUkgdmFsdWUgdG8gY29tcGFyZSB3aXRoIHRoZSBpbmJvdW5kIHZhbHVlIGxhdGVyIGluc3RlYWQgb2YgdGhlIHZhbHVlIGZyb20gdW5kZXJseWluZ1xuICAgICAqIG9iamVjdCBiZWNhdXNlIGJ1c2luZXNzIGxvZ2ljIGxldmVsIGNvZGUgY291bGQgaGF2ZSBjaGFuZ2VkIHRoZSB1bmRlcmx5aW5nIG9iamVjdCdzIHZhbHVlXG4gICAgICpcbiAgICAgKiB0b2RvOiBkbyBJIHN0aWxsIG5lZWQgdGhpcz9cbiAgICAgKi9cbiAgICBwcmV2RGlzcGxheVZhbHVlOiBzdHJpbmc7XG5cblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGVyZSBhcmUgYW55IHZhbGlkYXRpb24gbGlrZSBlbnRlcmVkIHZhbHVlIGRvZXMgbm90IG11Y2ggd2l0aCB0aGUgc291cmNlIGxpc3QuXG4gICAgICpcbiAgICAgKi9cbiAgICBpc0ludmFsaWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogaW5kaWNhdGVzIHRoYXQgd2Ugc3RhcnRlZCB0byBzb21lIGVkaXRpbmcgZS5nLiBzdGFydGluZyB0byB0eXBlIGluIHNvbWV0aGluZyBpbnRvIHRoZVxuICAgICAqIGZpbHRlciwgb3IgcmVtb3ZpbmcgYWxyZWFkeSBzZWxlY3RlZCBpdGVtc1xuICAgICAqL1xuICAgIGFkZE1vZGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICAgcmVjZW50U2VsZWN0ZWREaXNwbGF5ZWQ6IG51bWJlciA9IDA7XG5cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhpcyBvcHRpb24gaXMgYWN0aXZlIHdlIGRvIG5vdCBzaG93IGFsbCBzZWxlY3RlZCBpdGVtcywgYnV0IG1heCBudW1iZXIgdGhhdCBpc1xuICAgICAqIGRlZmluZWQuIFVzZXIgaXMgYWJsZSB0byB0b2dnbGUgdG8gZXhwYW5kIHRoZSB2aWV3IHRvIHNlZSBhbGwgc2VsZWN0aW9ucyBhbmQgaGlkZSB0aGVtIGFzXG4gICAgICogd2VsbFxuICAgICAqL1xuICAgIHNob3dBbGxSZWNlbnRseVNlbGVjdGVkOiBib29sZWFuID0gZmFsc2U7XG5cblxuICAgIGNvbnN0cnVjdG9yKGNob29zZXJTZWxlY3Rpb25TdGF0ZT86IENob29zZXJTZWxlY3Rpb25TdGF0ZSwgaXNNdWx0aTogYm9vbGVhbiA9IHRydWUpXG4gICAge1xuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3RhdGUgPSBjaG9vc2VyU2VsZWN0aW9uU3RhdGU7XG4gICAgICAgIHRoaXMubXVsdGlzZWxlY3QgPSBpc011bHRpO1xuXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuc2VsZWN0aW9uU3RhdGUpKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXRlID0gbmV3IERlZmF1bHRTZWxlY3Rpb25TdGF0ZSh0aGlzLm11bHRpc2VsZWN0KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBJdCB3aWxsIHNlbGVjdCBhbmQgcGVyc2lzdCBhbiBpdGVtIHVzaW5nIENob29zZXJTZWxlY3Rpb25TdGF0ZSBwcm92aWRlci5cbiAgICAgKlxuICAgICAqL1xuICAgIHVwZGF0ZWRTZWxlY3RlZE9iamVjdHMoaXRlbTogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsoaXRlbSkpIHtcbiAgICAgICAgICAgIGl0ZW0gPSB0aGlzLmN1cnJlbnRJdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm11bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGlvblN0YXRlKGl0ZW0sIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkT2JqZWN0ID0gdGhpcy5zZWxlY3RlZE9iamVjdCgpO1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkT2JqZWN0cyA9IHRoaXMuc2VsZWN0ZWRPYmplY3RzKCk7XG5cblxuICAgICAgICAgICAgaWYgKHRoaXMuYWRkTW9kZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzSW52YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNQcmVzZW50KHNlbGVjdGVkT2JqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25TdGF0ZShzZWxlY3RlZE9iamVjdCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25TdGF0ZShpdGVtLCAhTGlzdFdyYXBwZXIuY29udGFpbnNDb21wbGV4KHNlbGVjdGVkT2JqZWN0cywgaXRlbSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNQcmVzZW50KHNlbGVjdGVkT2JqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNlbGVjdGlvblN0YXRlKHNlbGVjdGVkT2JqZWN0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uU3RhdGUoaXRlbSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdXNlciBzZWxlY3Rpb24gaXMgbGFyZ2Ugd2UgdXNlIHRoaXMgbWV0aG9kIHRvIGNoZWNrIGlmIHdlIG5lZWQgdG8gc2hvdyBhbGwgc2VsZWN0ZWRcbiAgICAgKiBpdGVtcyBvciBvbmx5IE1heFJlY2VudFNlbGVjdGVkXG4gICAgICovXG4gICAgdG9nZ2xlQWxsU2VsZWN0ZWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zaG93QWxsUmVjZW50bHlTZWxlY3RlZCA9ICF0aGlzLnNob3dBbGxSZWNlbnRseVNlbGVjdGVkO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBSZW5kZXJzIHVzZXIncyBzZWxlY3Rpb24gdW5kZXIgdGhlIGlucHV0IGZpZWxkXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXQgcmVjZW50U2VsZWN0ZWRPYmplY3RzKCk6IEFycmF5IDxhbnk+XG4gICAge1xuXG4gICAgICAgIGlmICghdGhpcy5tdWx0aXNlbGVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlY2VudFNlbGVjdGVkT2JqZWN0czogYW55W10gPSBbXTtcbiAgICAgICAgdGhpcy5yZWNlbnRTZWxlY3RlZERpc3BsYXllZCA9IDA7XG4gICAgICAgIGxldCBzZWxlY3RlZE9iamVjdHMgPSB0aGlzLnNlbGVjdGVkT2JqZWN0cygpO1xuICAgICAgICBsZXQgc2l6ZSA9IHNlbGVjdGVkT2JqZWN0cy5sZW5ndGg7XG4gICAgICAgIGxldCBtYXhDb3VudCA9IERhdGFTb3VyY2UuTWF4UmVjZW50U2VsZWN0ZWQ7XG4gICAgICAgIGlmIChzaXplID4gRGF0YVNvdXJjZS5NYXhSZWNlbnRTZWxlY3RlZCAmJiAhdGhpcy5zaG93QWxsUmVjZW50bHlTZWxlY3RlZCkge1xuICAgICAgICAgICAgbWF4Q291bnQgLT0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zaG93QWxsUmVjZW50bHlTZWxlY3RlZCkge1xuICAgICAgICAgICAgbWF4Q291bnQgPSBzaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IHNpemUgLSAxOyBpID49IDAgJiYgKHRoaXMucmVjZW50U2VsZWN0ZWREaXNwbGF5ZWQgPCBtYXhDb3VudCk7IGktLSkge1xuICAgICAgICAgICAgbGV0IHNlbGVjdGlvbiA9IHNlbGVjdGVkT2JqZWN0c1tpXTtcbiAgICAgICAgICAgIHJlY2VudFNlbGVjdGVkT2JqZWN0cy5wdXNoKHNlbGVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLnJlY2VudFNlbGVjdGVkRGlzcGxheWVkKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVjZW50U2VsZWN0ZWRPYmplY3RzO1xuICAgIH1cblxuICAgIHNlbGVjdGVkT2JqZWN0KCk6IGFueVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uU3RhdGUuc2VsZWN0ZWRPYmplY3QoKTtcbiAgICB9XG5cblxuICAgIHNlbGVjdGVkT2JqZWN0cygpOiBBcnJheTxhbnk+XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb25TdGF0ZS5zZWxlY3RlZE9iamVjdHMoKTtcbiAgICB9XG5cbiAgICBzZXRTZWxlY3Rpb25TdGF0ZShzZWxlY3Rpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaXNQcmVzZW50KHNlbGVjdGlvbilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXRlLnNldFNlbGVjdGlvblN0YXRlKHNlbGVjdGlvbiwgc2VsZWN0ZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cblxuLyoqXG4gKiBEdW1teSBpbXBsZW1lbnRhdGlvbiBDaG9vc2VyU2VsZWN0aW9uU3RhdGVcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRTZWxlY3Rpb25TdGF0ZSBleHRlbmRzIENob29zZXJTZWxlY3Rpb25TdGF0ZVxue1xuICAgIHByaXZhdGUgX3NlbGVjdGVkT2JqZWN0OiBhbnk7XG4gICAgcHJpdmF0ZSBfc2VsZWN0ZWRPYmplY3RzOiBhbnk7XG5cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgbXVsdGlTZWxlY3Q6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHNldFNlbGVjdGlvblN0YXRlKHNlbGVjdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRPYmplY3QgPSBzZWxlY3Rpb247XG4gICAgICAgICAgICBpZiAodGhpcy5tdWx0aVNlbGVjdCAmJiAhTGlzdFdyYXBwZXIuY29udGFpbnNDb21wbGV4KHRoaXMuc2VsZWN0ZWRPYmplY3RzKCksXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkT2JqZWN0cygpLnB1c2goc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm11bHRpU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgTGlzdFdyYXBwZXIucmVtb3ZlSWZFeGlzdCh0aGlzLnNlbGVjdGVkT2JqZWN0cygpLCBzZWxlY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VsZWN0ZWRPYmplY3QoKTogYW55XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRPYmplY3Q7XG4gICAgfVxuXG4gICAgc2VsZWN0ZWRPYmplY3RzKCk6IEFycmF5PGFueT5cbiAgICB7XG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuX3NlbGVjdGVkT2JqZWN0cykpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkT2JqZWN0cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZE9iamVjdHM7XG4gICAgfVxuXG4gICAgaXNTZWxlY3RlZChzZWxlY3Rpb246IGFueSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBzdXBlci5pc1NlbGVjdGVkKHNlbGVjdGlvbik7XG4gICAgfVxufVxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5pbXBvcnQge0RhdGFTb3VyY2UsIERTSW5pdFBhcmFtc30gZnJvbSAnLi4vLi4vY29yZS9kYXRhL2RhdGEtc291cmNlJztcbmltcG9ydCB7RGF0YUZpbmRlciwgRGF0YUZpbmRlcnN9IGZyb20gJy4uLy4uL2NvcmUvZGF0YS9kYXRhLWZpbmRlcnMnO1xuaW1wb3J0IHtEYXRhUHJvdmlkZXJzfSBmcm9tICcuLi8uLi9jb3JlL2RhdGEvZGF0YS1wcm92aWRlcnMnO1xuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICdyeGpzJztcbmltcG9ydCB7RGF0YVByb3ZpZGVyfSBmcm9tICcuLi8uLi9jb3JlL2RhdGEvZGF0YXR5cGUtcmVnaXN0cnkuc2VydmljZSc7XG5pbXBvcnQge0Nob29zZXJTdGF0ZX0gZnJvbSAnLi9jaG9vc2VyLXN0YXRlJztcbmltcG9ydCB7YXNzZXJ0LCBpc0FycmF5LCBpc0JsYW5rLCBpc1ByZXNlbnQsIExpc3RXcmFwcGVyfSBmcm9tICdAYXJpYmF1aS9jb3JlJztcblxuLyoqXG4gKiBDb25jcmV0ZSBEYXRhU291cmNlIGltcGxlbWVudGF0aW9uIGZvciB0aGUgQ2hvb3NlciBjb21wb25lbnQuIFRoZXJlIGFyZSB0d28gd2F5cyBob3cgdG8gdXNlIGl0OlxuICpcbiAqIDEpIFlvdSBjYW4gdXNlIGRlZmF1bHQgRGF0YVNvdXJjZSBpbmplY3RlZCBpbnNpZGUgY29tcG9uZW50IGNvbnN0cnVjdG9yIGFuZCBqdXN0IGNhbGxcbiAqIGluaXRpYWxpemUgdG8gY29uZmlndXJlIGl0IHdpdGggY29ycmVjdCBEYXRhUHJvdmlkZXIgYW5kIERhdGFGaW5kZXI6XG4gKlxuICpcbiAqIGBgYFxuICogICB0aGlzLmRhdGFTb3VyY2UuaW5pdCh7XG4gKiAgICAgICAgICAgICAgIG9iajogdGhpcy5saXN0LFxuICogICAgICAgICAgICAgICBxdWVyeVR5cGU6IFF1ZXJ5VHlwZS5GdWxsVGV4dCxcbiAqICAgICAgICAgICAgICAgc3RhdGU6IG51bGwsXG4gKiAgICAgICAgICAgICAgIG11bHRpc2VsZWN0OiB0aGlzLm11bHRpc2VsZWN0XG4gKiAgICAgICAgICAgfSk7XG4gKlxuICogYGBgXG4gKlxuICogYW5kIHRoZW4geW91IGNhbiB1c2UgaXQgdG8gc2ltcGx5IHJldHJpZXZlIGRhdGEgb3IgcnVuIHF1ZXJpZXMuXG4gKlxuICogMikgWW91IHdpbGwgaW5zdGFudGlhdGUgeW91ciBvd24gRGF0YVNvdXJjZSBhbmQgcGFzcyBpdCBpbnRvIHRoZSBjb21wb25lbnQgdXNpbmcgW2RhdGFTb3VyY2VdXG4gKiBiaW5kaW5nXG4gKlxuICogYGBgXG4gKlxuICogICB0aGlzLmRzID0gbmV3IENob29zZXJEYXRhU291cmNlKHRoaXMuZGF0YSwgdGhpcy5maW5kZXJzKTtcbiAqICAgdGhpcy5kcy5pbml0KHtcbiAqICAgICAgICAgICAgICAgb2JqOiB0aGlzLmxpc3QsXG4gKiAgICAgICAgICAgICAgIHF1ZXJ5VHlwZTogUXVlcnlUeXBlLkZ1bGxUZXh0LFxuICogICAgICAgICAgICAgICBzdGF0ZTogbnVsbCxcbiAqICAgICAgICAgICAgICAgbXVsdGlzZWxlY3Q6IHRoaXMubXVsdGlzZWxlY3RcbiAqICAgICAgICAgICB9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQ2hvb3NlckRhdGFTb3VyY2UgZXh0ZW5kcyBEYXRhU291cmNlXG57XG5cbiAgICAvKipcbiAgICAgKiBNYXRjaGluZyBkYXRhUHJvdmlkZXJzIGFuZCBmaW5kZXJzXG4gICAgICovXG4gICAgcHJpdmF0ZSBkYXRhUHJvdmlkZXI6IERhdGFQcm92aWRlcjxhbnk+O1xuICAgIHByaXZhdGUgZGF0YUZpbmRlcjogRGF0YUZpbmRlcjtcblxuXG4gICAgLyoqXG4gICAgICogU3BlY2lhbCBvYmplY3QgdG8ga2VlcCBjdXJyZW50IHN0YXRlIG9mIHRoaXMgY2hvb3NlclxuICAgICAqL1xuICAgIHN0YXRlOiBDaG9vc2VyU3RhdGU7XG5cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkYXRhUHJvdmlkZXJzOiBEYXRhUHJvdmlkZXJzLCBwdWJsaWMgZmluZGVyczogRGF0YUZpbmRlcnMpXG4gICAge1xuICAgICAgICBzdXBlcihkYXRhUHJvdmlkZXJzLCBmaW5kZXJzKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRvIGluaXRpYWxpemUgdGhpcyBEYXRhU291cmNlIHdpdGggY3VycmVudCBEYXRhRmluZGVyIGFuZCBQcm92aWRlciBhcyB3ZWxsIGFzIHN0YXRlIHdlIHVzZVxuICAgICAqIGFuIGludGVyZmFjZSBEU0Nob29zZXJJbml0UGFyYW1zIHRvIGhhdmUgYWxsIGluaXQgdmFsdWVzIHR5cGVkIGNoZWNrZWRcbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgaW5pdCguLi5hcmdzOiBhbnlbXSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpc0JsYW5rKGFyZ3MpIHx8IGFyZ3MubGVuZ3RoICE9PSAxICYmICFpc0RTQ2hvb3NlckluaXRQYXJhbXMoYXJnc1swXSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgdG8gaW5pdGlhbGl6ZSBEUyB3aXRoIChEU0Nob29zZXJJbml0UGFyYW1zKScpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbml0OiBEU0Nob29zZXJJbml0UGFyYW1zID0gYXJnc1swXTtcblxuICAgICAgICB0aGlzLmRhdGFQcm92aWRlciA9IGlzUHJlc2VudChpbml0LmRhdGFQcm92aWRlcikgPyBpbml0LmRhdGFQcm92aWRlclxuICAgICAgICAgICAgOiB0aGlzLmRhdGFQcm92aWRlcnMuZmluZChpbml0Lm9iaik7XG5cbiAgICAgICAgdGhpcy5kYXRhRmluZGVyID0gaXNQcmVzZW50KGluaXQuZGF0YUZpbmRlcikgPyBpbml0LmRhdGFGaW5kZXJcbiAgICAgICAgICAgIDogdGhpcy5maW5kZXJzLmZpbmQodGhpcy5kYXRhUHJvdmlkZXIsIGluaXQucXVlcnlUeXBlKTtcblxuICAgICAgICBhc3NlcnQoaXNQcmVzZW50KHRoaXMuZGF0YVByb3ZpZGVyKSAmJiBpc1ByZXNlbnQodGhpcy5kYXRhRmluZGVyKSxcbiAgICAgICAgICAgICdEYXRhU291cmNlIGluY29ycmVjdGx5IGluaXRpYWxpemVkLiAoRGF0YVByb3ZpZGVyLCBEYXRhRmluZGVyKSBtaXNzaW5nLiAnKTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KGluaXQuc3RhdGUpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gaW5pdC5zdGF0ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBuZXcgQ2hvb3NlclN0YXRlKG51bGwsIGluaXQubXVsdGlzZWxlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kYXRhRmluZGVyLmxvb2t1cEtleSA9IGluaXQubG9va3VwS2V5O1xuICAgICAgICB0aGlzLnN0YXRlLmxvb2t1cEtleSA9IGluaXQubG9va3VwS2V5O1xuICAgIH1cblxuXG4gICAgZmluZChwYXR0ZXJuOiBzdHJpbmcsIG1heDogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5wYXR0ZXJuID0gcGF0dGVybjtcbiAgICAgICAgdGhpcy5zdGF0ZS5sYXN0RnVsbE1hdGNoUGF0dGVybiA9IHBhdHRlcm47XG5cbiAgICAgICAgaWYgKHBhdHRlcm4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdHRlcm4gPT09ICcqJykgeyAvLyBxdWVyeSBldmVyeXRoaW5nXG4gICAgICAgICAgICBwYXR0ZXJuID0gJyc7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBkYXRhRmluZGVyIGhhcyBleHBlY3RlZCBsb29rdXAga2V5XG4gICAgICAgIGxldCBvcmlnS2V5ID0gdGhpcy5kYXRhRmluZGVyLmxvb2t1cEtleTtcbiAgICAgICAgdGhpcy5kYXRhRmluZGVyLmxvb2t1cEtleSA9IHRoaXMuc3RhdGUubG9va3VwS2V5O1xuICAgICAgICB0aGlzLmRhdGFGaW5kZXIuZm9yRGF0YSh0aGlzLmRhdGFQcm92aWRlcikubWF0Y2g8YW55PihwYXR0ZXJuLCBtYXgpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChyZXN1bHQ6IGFueVtdKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUubWF0Y2hlcyA9IHJlc3VsdDtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLm11bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5zZWxlY3RlZE9iamVjdHMoKS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLnN0YXRlLnNlbGVjdGVkT2JqZWN0cygpW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgTGlzdFdyYXBwZXIucmVtb3ZlSWZFeGlzdCh0aGlzLnN0YXRlLm1hdGNoZXMsIGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhRmluZGVyLmxvb2t1cEtleSA9IG9yaWdLZXk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFdoZW4gbXVsdGlzZWxlY3QgdGhpcyBtZXRob2QgY2hlY2tzIGlmIHdlIG5lZWQgdG8gc2hvdyBTSE9XIE1PUkUgbGFiZWwgdW5kZXIgdGhlIHNlbGVjdGVkXG4gICAgICogaXRlbXMuIFdlIGRvIG5vdCB3YW50IHNob3cgZS5nLiA1MCBzZWxlY3Rpb24gdW5kZXIgdGhlIGNob29zZXIgdGhhdCB3b3VsZCB0YWtlIHVwIHdob2xlXG4gICAgICogcGFnZS5cbiAgICAgKlxuICAgICAqL1xuICAgIHNob3dNb3JlU2VsZWN0ZWQoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuc2VsZWN0ZWRPYmplY3RzKCkubGVuZ3RoID49IERhdGFTb3VyY2UuTWF4UmVjZW50U2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgb3BlbjxUPigpOiBPYnNlcnZhYmxlPFRbXT5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFQcm92aWRlci5kYXRhQ2hhbmdlcy5hc09ic2VydmFibGUoKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmRhdGFQcm92aWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YUZpbmRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgIH1cblxuICAgIGluc3RhbnQ8VD4oKTogVFtdXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhUHJvdmlkZXIuZGF0YSgpO1xuICAgIH1cblxuICAgIHVwZGF0ZVZhbHVlKHZhbHVlOiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnN0YXRlLmFkZE1vZGUgPSB0cnVlO1xuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGxldCBpdGVtczogYW55W10gPSB2YWx1ZTtcbiAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuc3RhdGUudXBkYXRlZFNlbGVjdGVkT2JqZWN0cyhpdGVtKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnVwZGF0ZWRTZWxlY3RlZE9iamVjdHModmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUuYWRkTW9kZSA9IGZhbHNlO1xuXG4gICAgfVxuXG5cbiAgICBnZXQgbG9va3VwS2V5KCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUZpbmRlci5sb29rdXBLZXk7XG4gICAgfVxufVxuXG4vKiBpcyBcImluaXRcIiB0eXBlIG9mIERTQ2hvb3NlckluaXRQYXJhbXMgaW50ZXJmYWNlID8gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RTQ2hvb3NlckluaXRQYXJhbXMoaW5pdDogRFNDaG9vc2VySW5pdFBhcmFtcyk6IGluaXQgaXMgRFNDaG9vc2VySW5pdFBhcmFtc1xue1xuICAgIHJldHVybiBpc1ByZXNlbnQoaW5pdC5vYmopIHx8IGlzUHJlc2VudChpbml0LnF1ZXJ5VHlwZSk7XG59XG5cbi8qKlxuICogVG8gbWFrZSBpbml0aWFsaXphdGlvbiBlYXNpZXIgd2UgaGF2ZSB0aGlzIGNvbW1vbiBmb3JtYXQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRFNDaG9vc2VySW5pdFBhcmFtcyBleHRlbmRzIERTSW5pdFBhcmFtc1xue1xuICAgIC8qKlxuICAgICAqIENob29zZXIgc3RhdGUga2VlcGluZyBpbmZvcm1hdGlvbiB3aGF0IGlzIGN1cnJlbnRseSBzZWxlY3RlZCAsIHJlc3VsdCBvZiB0aGUgbGFzdCBtYXRjaFxuICAgICAqL1xuICAgIHN0YXRlPzogQ2hvb3NlclN0YXRlO1xufVxuXG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge1xuICAgIEFmdGVyVmlld0NoZWNrZWQsXG4gICAgQWZ0ZXJWaWV3SW5pdCxcbiAgICBDb21wb25lbnQsXG4gICAgQ29udGVudENoaWxkLFxuICAgIEVsZW1lbnRSZWYsXG4gICAgRXZlbnRFbWl0dGVyLFxuICAgIGZvcndhcmRSZWYsXG4gICAgSW5qZWN0LFxuICAgIElucHV0LFxuICAgIE9wdGlvbmFsLFxuICAgIE91dHB1dCxcbiAgICBTa2lwU2VsZixcbiAgICBUZW1wbGF0ZVJlZixcbiAgICBWaWV3Q2hpbGRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Zvcm1Db250cm9sLCBOR19WQUxVRV9BQ0NFU1NPUn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtBdXRvQ29tcGxldGV9IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XG5pbXBvcnQge2Fzc2VydCwgRW52aXJvbm1lbnQsIGlzQmxhbmssIGlzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0Jhc2VGb3JtQ29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL2Jhc2UtZm9ybS5jb21wb25lbnQnO1xuaW1wb3J0IHtEQVRBX1NPVVJDRX0gZnJvbSAnLi4vLi4vY29yZS9kYXRhL2RhdGEtc291cmNlJztcbmltcG9ydCB7Q2hvb3NlckRhdGFTb3VyY2V9IGZyb20gJy4vY2hvb3Nlci1kYXRhLXNvdXJjZSc7XG5pbXBvcnQge0RhdGFQcm92aWRlcnN9IGZyb20gJy4uLy4uL2NvcmUvZGF0YS9kYXRhLXByb3ZpZGVycyc7XG5pbXBvcnQge0RhdGFGaW5kZXJzLCBRdWVyeVR5cGV9IGZyb20gJy4uLy4uL2NvcmUvZGF0YS9kYXRhLWZpbmRlcnMnO1xuaW1wb3J0IHtDaG9vc2VyU3RhdGUsIERlZmF1bHRTZWxlY3Rpb25TdGF0ZX0gZnJvbSAnLi9jaG9vc2VyLXN0YXRlJztcblxuXG4vKipcbiAqIFR5cGVhaGVhZCBjaG9vc2VyIHRoYXQgc3VwcG9ydHMgYm90aCBzaW5nbGUgYW5kIG11bHRpLXNlbGVjdC4gTm90IGxpa2UgRHJvcGRvd24sIHRoaXMgY2hvb3NlclxuICogcmVxdWlyZXMgbGl0dGxlIGJpdCBkaWZmZXJlbnQgc2V0dXAuIEl0IHJlcXVpcmVzIGF0IG1pbmltdW0gQElucHV0IGRhdGFTb3VyY2Ugb3JcbiAqIGRlc3RpbmF0aW9uQ2xhc3NcbiAqXG4gKlxuICogQnkgZGVmYXVsdCBjaG9vc2VyIGlzIG11bHRpLXNlbGVjdC4gSWYgeW91IHdhbnQgc2luZ2xlIHNlbGVjdCB0aGVuIHlvdSBtdXN0IHByb3ZpZGUgbXVsdGktc2VsZWN0XG4gKiB3aXRoIEBJbnB1dC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIEluIHNpbXBsZSBzY2VuYXJpbyB5b3UgY2FuIHVzZSBDaG9vc2VyIGxpa2Ugc286XG4gKlxuICpcbiAqIGBgYFxuICogIEBDb21wb25lbnQoe1xuICogICAgICBzZWxlY3RvcjogJ2Nob29zZXItYXBwJyAsXG4gKiAgICAgIHRlbXBsYXRlOiBgPGF3LWNob29zZXIgIFtmb3JtR3JvdXBdPVwiZm9ybUdyb3VwXCIgbmFtZT1cImNvbG9yXCInXG4gKiAgICAgICAgICAgICAgICAgICAgICBbZGF0YVNvdXJjZV09XCJkc1wiPjwvYXctY2hvb3Nlcj5gXG4gKiAgfSlcbiAqICBleHBvcnQgY2xhc3MgTXlDaG9vc2VyQXBwXG4gKiAge1xuICpcbiAqICAgICAgZHM6IENob29zZXJEYXRhU291cmNlO1xuICpcbiAqICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRhdGE6IERhdGFQcm92aWRlcnMsIHByaXZhdGUgZmluZGVyczogRGF0YUZpbmRlcnMpe1xuICogICAgICAgICAgdGhpcy5kcyA9IG5ldyBDaG9vc2VyRGF0YVNvdXJjZSh0aGlzLmRhdGEsIHRoaXMuZmluZGVycyk7XG4gKlxuICogICAgICAgdGhpcy5kcy5pbml0KHtcbiAqICAgICAgICAgICBvYmo6IFsnYmx1ZScsICdyZWQnLCAneWVsbG93J10sIHF1ZXJ5VHlwZTogUXVlcnlUeXBlLkZ1bGxUZXh0LCBzdGF0ZTogbnVsbCxcbiAqICAgICAgICAgICAgbXVsdGlzZWxlY3Q6IHRydWVcbiAqICAgICAgIH0pO1xuICpcbiAqICAgICB9XG4gKiAgfVxuICpcbiAqIGBgYGBcbiAqICBBYm92ZSBleGFtcGxlIHdpbGwgdXNlIHByb3ZpZGVkIGRhdGFTb3VyY2UgYW5kIHJlbmRlciBtdWx0aS1zZWxlY3QgY2hvb3Nlci4gV2l0aCBkZWZhdWx0XG4gKiAgaW1wbGVtZW50YXRpb24gIHNlbGVjdGVkIHZhbHVlcyB3aWxsIGFwcGVhciBhcyBhIHRhZ3MgdW5kZXIgdGhlIGlucHV0IGJveFxuICpcbiAqXG4gKlxuICogKiAjIyMgRXhhbXBsZVxuICpcbiAqICBJbiB0aGlzIGV4YW1wbGUgd2UgcHJvdmlkZSBjdXN0b20gdGVtcGxhdGUgdG8gY2hhbmdlIHRoZSB3YXkgaG93IGNob29zZXIncyBNZW51SXRlbSBhcmVcbiAqICAgICByZW5kZXJlZCBhcyB3ZWxsIGFzIHRlbXBsYXRlIGZvciB0aGUgc2VsZWN0aW9uIGl0ZW0gbG9va3MgbGlrZVxuICpcbiAqIGBgYFxuICogIEBDb21wb25lbnQoe1xuICogICAgICBzZWxlY3RvcjogJ2Nob29zZXItYXBwJyAsXG4gKiAgICAgIHRlbXBsYXRlOiBgPGF3LWNob29zZXIgIG5hbWU9XCJjb21tb2RpdHlcIicgW2RhdGFTb3VyY2VdPVwiZHNcIj5cbiAqXG4gKiAgICAgICAgICA8bmctdGVtcGxhdGUgI21lbnVJdGVtIGxldC1pdGVtPlxuICogICAgICAgICAgICAgXHQ8c3Bhbj5cbiAqICAgICAgICAgICAgIFx0XHQ8aSBjbGFzcz1cImZhIGZhLWVudmlyYSBcIiA+PC9pPlxuICogICAgICAgICAgICAgXHRcdHt7aXRlbX19XG4gKiAgICAgICAgICAgICBcdDwvc3Bhbj5cbiAqXG4gKiAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICpcbiAqICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjc2VsZWN0aW9uSXRlbSBsZXQtaXRlbT5cbiAqICAgICAgICAgICAgIFx0PHNwYW4gY2xhc3M9XCJ0YWcgdGFnLWNpcmNsZVwiPlxuICogICAgICAgICAgICAgXHRcdGl0ZW06IHt7aXRlbSB9fVxuICogICAgICAgICAgICAgXHRcdDxpIGNsYXNzPVwiZmEgZmEtY2xvc2VcIiAoY2xpY2spPVwiY2hvb3Nlci5yZW1vdmVWYWx1ZShpdGVtKVwiPjwvaT5cbiAqICAgICAgICAgICAgIFx0PC9zcGFuPlxuICpcbiAqXG4gKiAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICpcbiAqXG4gKiAgICAgICAgICA8L2F3LWNob29zZXI+XG4gKiAgICAgIGBcbiAqICAgICAgc3R5bGU6IFtgXG4gKiAgICAgICAgICAgICAgLnRhZy1jaXJjbGUge1xuICogICAgICAgICAgICAgIFx0Ym9yZGVyLXJhZGl1czogNnJlbTtcbiAqICAgICAgICAgICAgICBcdGhlaWdodDogN3JlbTtcbiAqICAgICAgICAgICAgICBcdGNvbG9yOiAjZThlZWYxO1xuICogICAgICAgICAgICAgIFx0YmFja2dyb3VuZC1jb2xvcjogcmdiYSg1MywgNTYsIDU4LCAwLjY3KTtcbiAqICAgICAgICAgICAgICBcdGxpbmUtaGVpZ2h0OiA2cmVtO1xuICogICAgICAgICAgICAgIH1cbiAqICAgICAgYF1cbiAqICB9KVxuICpcbiAqIGBgYGBcbiAqXG4gKiAgSW4gYWJvdmUgZXhhbXBsZSB3ZSBjaGFuZ2UgaG93IHRoZSBjaG9vc2VyJ3MgbWVudSBpdGVtIGxvb2sgbGlrZSBhcyB3ZWxsIGFzIHdlIGRlZmluZSBjdXN0b21cbiAqICAgICB0ZW1wbGF0ZSBmb3Igc2VsZWN0aW9uIGl0ZW0gdG8gdHVybiBhbGwgc2VsZWN0aW9uIHRvIGNpcmNsZXMgd2l0aCB0ZXh0IGluIHRoZSBtaWRkbGUuXG4gKlxuICpcbiAqXG4gKi9cblxuZXhwb3J0IGNvbnN0IENIT09TRVJfQ09OVFJPTF9WQUxVRV9BQ0NFU1NPUjogYW55ID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IENob29zZXJDb21wb25lbnQpLFxuICAgIG11bHRpOiB0cnVlXG59O1xuXG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctY2hvb3NlcicsXG4gICAgdGVtcGxhdGVVcmw6ICdjaG9vc2VyLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnY2hvb3Nlci5jb21wb25lbnQuc2NzcyddLFxuICAgIHByb3ZpZGVyczogW1xuICAgICAgICBDSE9PU0VSX0NPTlRST0xfVkFMVUVfQUNDRVNTT1IsXG4gICAgICAgIHtwcm92aWRlOiBCYXNlRm9ybUNvbXBvbmVudCwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gQ2hvb3NlckNvbXBvbmVudCl9LFxuICAgICAgICB7cHJvdmlkZTogREFUQV9TT1VSQ0UsIHVzZUNsYXNzOiBDaG9vc2VyRGF0YVNvdXJjZSwgZGVwczogW0RhdGFQcm92aWRlcnMsIERhdGFGaW5kZXJzXX1cbiAgICBdXG5cblxufSlcbmV4cG9ydCBjbGFzcyBDaG9vc2VyQ29tcG9uZW50IGV4dGVuZHMgQmFzZUZvcm1Db21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdDaGVja2VkLFxuICAgIEFmdGVyVmlld0luaXQge1xuXG4gICAgLyoqXG4gICAgICogTWF4IG51bWJlciBvZiBpdGVtcyByZXR1cm4gYXQgc2luZ2xlIE1hdGNoIHNvIHdlIGRvIG5vdCByZXR1cm4gMTAwMCBpdGVtcyBhdCBzaW5nbGUgdGltZS5cbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgbWF4TGVuZ3RoOiBudW1iZXIgPSAxMDtcblxuXG4gICAgLyoqXG4gICAgICogTWF4IG51bWJlciBvZiBpdGVtcyByZXR1cm4gYXQgc2luZ2xlIE1hdGNoIHNvIHdlIGRvIG5vdCByZXR1cm4gMTAwMCBpdGVtcyBhdCBzaW5nbGUgdGltZS5cbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgbWluTGVuRm9yU2VhcmNoOiBudW1iZXIgPSAxO1xuXG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXR0ZXIgdXNlZCB0byBmb3JtYXQgZWFjaCBzZWxlY3Rpb24gYW5kIHNlbGVjdGVkIG9iamVjdCBmb3IgZGlzcGxheS5cbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgdmFsdWVUcmFuc2Zvcm1lcjogKHZhbHVlOiBhbnkpID0+IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIElzIHRoaXMgbXVsdGlzZWxlY3RcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgbXVsdGlzZWxlY3Q6IGJvb2xlYW4gPSB0cnVlO1xuXG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0IENob29zZXJEYXRhU291cmNlIHdpbGwgYmUgY3JlYXRlZCBidXQgdGhlcmUgaXMgYSBvcHRpb24gdG8gc2V0XG4gICAgICogY3VzdG9tIG9uZSBvbiBhcHBsaWNhdGlvbiBsZXZlbFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgZGF0YVNvdXJjZTogQ2hvb3NlckRhdGFTb3VyY2U7XG5cblxuICAgIC8qKlxuICAgICAqIEluIGNhc2Ugd2Ugd2FudCB0byBjaGFuZ2UgdGhlIHBsYWNlIHdoZXJlIHNlbGVjdGlvbiBpcyByZW5kZXJlZCB1c2UgdGhpcyBhcHBlbmRUbyBwcm9wZXJ0eVxuICAgICAqIGFuZCBpdCB3aWxsIHVzZSBET00gb3BlcmF0aW9uIGFwcGVuZENoaWxkKCkgdG8gbW92ZSBzZWxlY3Rpb25WaWV3IHVuZGVyIGRpZmZlcmVudCBwYXJlbnRcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNlbGVjdGlvbkFwcGVuZFRvOiBFbGVtZW50UmVmO1xuXG5cbiAgICBASW5wdXQoKVxuICAgIGRlbGF5OiBudW1iZXIgPSAzMDA7XG5cblxuICAgIC8qKlxuICAgICAqIFRhcmdldCB0eXBlIHRvIHJlbmRlci4gRGF0YSB3aWxsIGJlIHJlYWQgZnJvbSB0aGUgcmVnaXN0ZXJlZCBEYXRhUHJvdmlkZXJcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGRlc3RpbmF0aW9uQ2xhc3M6IHN0cmluZztcblxuXG4gICAgQElucHV0KClcbiAgICBmaWVsZDogc3RyaW5nO1xuXG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBmaXJlZCB3aGVuIHVzZXIgc2VsZWN0IGEgaXRlbVxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIG9uU2VsZWN0aW9uOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuXG4gICAgLyoqXG4gICAgICogaW50ZXJuYWwgbW9kZWwgdG8gbGlzdGVuIGZvciBJbnB1dCB2YWx1ZSBjaGFuZ2VzXG4gICAgICovXG4gICAgaW50ZXJuYWxDaG9vc2VyTW9kZWw6IGFueTtcblxuXG4gICAgLyoqXG4gICAgICogRW1iZWRkZWQgdGVtcGxhdGUgZGVmaW5lZCBieSB1c2VyLiBJZiB1c2VyIGRvZXMgbm90IHByb3ZpZGUgYW55IHRlbXBsYXRlIHRoZW4gd2hlbiByZW5kZXJpbmdcbiAgICAgKiBhbiBpdGVtIHdlIGFzc3VtZSB3ZSBhcmUgZGVhbGluZyB3aXRoIHByaW1pdGl2ZSB0eXBlcyBhbmQgY2FsbCBvbiBlYWNoIGl0ZW0gdG9TdHJpbmcoKSwgaWZcbiAgICAgKiB3ZSBhcmUgZGVhbGluZyB3aXRoIG9iamVjdCwgdGhlbiB3ZSBleHBlY3QgdXNlciB0byBwcm92aWRlIGEgdGVtcGxhdGUgYW5kIHRlbGwgdGhlIGNob29zZXJcbiAgICAgKiBob3cgaXRlbXMgc2hvdWxkcyBiZSBoYW5kbGVkIG9yIGF0IGxlYXN0IHZhbHVlVHJhbnNmb3JtZXIgc28gd2Uga25vdyBob3cgdG8gY29udmVydCB0aGlzXG4gICAgICogdmFsdWUuXG4gICAgICpcbiAgICAgKiBFYWNoIG9iamVjdCBjYW4gcHJvdmlkZSBpdHMgb3duIHRvU3RyaW5nIGltcGxlbWVudGF0aW9uLlxuICAgICAqXG4gICAgICovXG4gICAgQENvbnRlbnRDaGlsZCgnbWVudUl0ZW0nKVxuICAgIG1lbnVUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcblxuXG4gICAgQENvbnRlbnRDaGlsZCgnc2VsZWN0aW9uSXRlbScpXG4gICAgc2VsZWN0aW9uVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG5cbiAgICBAVmlld0NoaWxkKCdhdXRvQ29tcHBsZXRlJylcbiAgICBhdXRvQ29tcGxldGVDb21wb25lbnQ6IEF1dG9Db21wbGV0ZTtcblxuICAgIEBWaWV3Q2hpbGQoJ3NlbGVjdGlvblZpZXcnKVxuICAgIHNlbGVjdGlvblZpZXdFbGVtOiBFbGVtZW50UmVmO1xuXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBzZWxlY3Rpb24gaXMgPiBtYXggc2VsZWN0aW9uLCB0aGVuIHNob3cgaGlkZSBsaW5rLlxuICAgICAqL1xuICAgIHByaXZhdGUgaGlkZUxpbms6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY6IEVudmlyb25tZW50LCBwcml2YXRlIGVsZW1lbWVudFJlZjogRWxlbWVudFJlZixcbiAgICAgICAgICAgICAgICBASW5qZWN0KERBVEFfU09VUkNFKSBwcml2YXRlIF9kZWZhdWx0RFM6IENob29zZXJEYXRhU291cmNlLFxuICAgICAgICAgICAgICAgIEBTa2lwU2VsZigpIEBPcHRpb25hbCgpIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBCYXNlRm9ybUNvbXBvbmVudCkpXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIHBhcmVudENvbnRhaW5lcjogQmFzZUZvcm1Db21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoZW52LCBwYXJlbnRDb250YWluZXIpO1xuXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMucGxhY2VIb2xkZXIpKSB7XG4gICAgICAgICAgICAvLyB0aGlzLnBsYWNlSG9sZGVyID0gaTE4bi5pbnN0YW50KCdXaWRnZXRzLmNob29zZXIucGxhY2VIb2xkZXInKTtcbiAgICAgICAgICAgIHRoaXMucGxhY2VIb2xkZXIgPSAnU2VhcmNoJztcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzLmhpZGVMaW5rID0gaTE4bi5pbnN0YW50KCdXaWRnZXRzLmNob29zZXIuaGlkZVNlbGVjdGlvbicpO1xuICAgICAgICB0aGlzLmhpZGVMaW5rID0gJ0hpZGUnO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xuXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuZGF0YVNvdXJjZSkpIHtcblxuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlID0gdGhpcy5fZGVmYXVsdERTO1xuICAgICAgICAgICAgdGhpcy5pbml0RGF0YXNvdXJjZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmZvcm1Db250cm9sKSAmJiBpc1ByZXNlbnQodGhpcy5mb3JtQ29udHJvbC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZS51cGRhdGVWYWx1ZSh0aGlzLmZvcm1Db250cm9sLnZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5pdEludGVybmFsTW9kZWwoKTtcblxuXG4gICAgICAgIGlmICh0aGlzLmlzU3RhbmRhbG9uZSkge1xuICAgICAgICAgICAgc3VwZXIucmVnaXN0ZXJGb3JtQ29udHJvbCh0aGlzLmludGVybmFsQ2hvb3Nlck1vZGVsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9ybUNvbnRyb2wgPSA8Rm9ybUNvbnRyb2w+IHRoaXMuZm9ybUdyb3VwLmNvbnRyb2xzW3RoaXMubmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgU2VhcmNoIGljb24gaW4gY2FzZSBvZiBtdWx0aXNlbGVjdC5cbiAgICAgKiB0b2RvOiBPbmNlIFByaW1lTkcgd2lsbCBwcm92aWRlIGEgdGVtcGxhdGUgdG8gb3ZlcnJpZGUgZGVmYXVsdCBiZWhhdmlvciByZW1vdmUgaXRcbiAgICAgKlxuICAgICAqL1xuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRhdGFTb3VyY2Uuc3RhdGUubXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWFyY2hJbnB1dCA9IHRoaXMuZWxlbWVtZW50UmVmLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICcudWktYXV0b2NvbXBsZXRlLWlucHV0LXRva2VuJyk7XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudChzZWFyY2hJbnB1dCkpIHtcbiAgICAgICAgICAgIGxldCBpY29uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGljb25FbGVtZW50LmNsYXNzTmFtZSA9ICdzZWFyY2gtaWNvbi1yaWdodCBmYSBmYS1mdyBmYS1zZWFyY2gnO1xuICAgICAgICAgICAgc2VhcmNoSW5wdXQuYXBwZW5kQ2hpbGQoaWNvbkVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLnNlbGVjdGlvbkFwcGVuZFRvKSAmJiBpc1ByZXNlbnQodGhpcy5zZWxlY3Rpb25WaWV3RWxlbSkpIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnRFbGVtID0gdGhpcy5zZWxlY3Rpb25BcHBlbmRUbyBpbnN0YW5jZW9mIEVsZW1lbnRSZWYgP1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uQXBwZW5kVG8ubmF0aXZlRWxlbWVudCA6IHRoaXMuc2VsZWN0aW9uQXBwZW5kVG87XG5cbiAgICAgICAgICAgIHBhcmVudEVsZW0uYXBwZW5kQ2hpbGQodGhpcy5zZWxlY3Rpb25WaWV3RWxlbS5uYXRpdmVFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5lZWQgdG8gY2hhbmdlIGN1cnJlbnQgYmVoYXZpb3Igc2luY2Ugd2Ugd2FudCB0byBzaG93IHNlbGVjdGlvbiB1bmRlciB0aGUgY2hvb3Nlci4gS1xuICAgICAqXG4gICAgICovXG4gICAgbmdBZnRlclZpZXdDaGVja2VkKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZGF0YVNvdXJjZS5zdGF0ZS5tdWx0aXNlbGVjdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRva2VucyA9IHRoaXMuZWxlbWVtZW50UmVmLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICcudWktYXV0b2NvbXBsZXRlIC51aS1hdXRvY29tcGxldGUtdG9rZW4nKTtcbiAgICAgICAgaWYgKGlzUHJlc2VudCh0b2tlbnMpICYmIHRva2Vucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0b2tlbnMuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaXRlbS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBXaGVuIHZhbHVlIGlzIGVudGVyZWQgaW50byBzZWFyY2ggYm94LCB3ZSBhc2sgb3VyIERhdGFTb3VyY2UgdG8gbWF0Y2ggdGhpcyBwYXR0ZXJuXG4gICAgICogYWdhaW5zdCBkYXRhIHJlcG9zaXRvcnkuIEl0IHdpbGwgcmV0cmlldmUgYWxsIHBvc3NpYmxlIG1hdGNoZXMgbGltaXRlZCBieSBNYXhMZW4gYW5kIHRoaXNcbiAgICAgKiBpcyBhZ2FpbiBmaWx0ZXJlZCBzbyBpdCBkb2VzIG5vdCBpbmNsdWRlIGFscmVhZHkgc2VsZWN0ZWQgaXRlbXMuXG4gICAgICpcbiAgICAgKiAgdGhlIG1hdGNoZWQgcmVzdWx0ZWQgaXMgc2F2ZWQgaW4gdGhlOiB0aGlzLmRhdGFTb3VyY2Uuc3RhdGUubWF0Y2hlc1xuICAgICAqL1xuICAgIG1hdGNoKHBhdHRlcm46IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBsZXQgbWF4TGVuID0gdGhpcy5tYXhMZW5ndGggPyB0aGlzLm1heExlbmd0aCA6IENob29zZXJEYXRhU291cmNlLk1heExlbmd0aDtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlLmZpbmQocGF0dGVybiwgbWF4TGVuKTtcblxuXG4gICAgICAgIC8vIGZpeDogZm9yIHRlc3RzOiBJbiB2ZXJzaW9uIDQgd2UgbmVlZCB0byBleHBsaWNpdGx5IGZvY3VzIGlucHV0IG90aGVyd2lzZSBhdXRvY29tcGxldGVcbiAgICAgICAgLy8gZG9lc24ndCBnaXZlIHVzIGFueSBwb3B1cCBwYW5lbFxuICAgICAgICBpZiAodGhpcy5lbnYuaW5UZXN0ICYmIGlzUHJlc2VudCh0aGlzLmF1dG9Db21wbGV0ZUNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0b0NvbXBsZXRlQ29tcG9uZW50LmZvY3VzSW5wdXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBJbnZva2VkIGJ5IERyb3Bkb3duIGJ1dHRvbiBpbiBjYXNlIG9mIHNpbmdsZSBzZWxlY3QgYW5kIGhlcmUgd2Ugd2FudCB0byBpbnZva2UgbWF0Y2hcbiAgICAgKiB0byByZXRyaWV2ZSBhbGwgc3VnZ2VzdGlvbnMgd2l0aG91dCBhbnkgZmlsdGVyXG4gICAgICpcbiAgICAgKi9cbiAgICBvbkRyb3Bkb3duQ2xpY2soZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLm1hdGNoKCcqJyk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tYXRjaCgnKicpO1xuICAgICAgICB9LCAxMDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ2hvb3NlciBzdGF0ZSBpcyB1cGRhdGVkICB3aXRoIHVzZXIgc2VsZWN0aW9uLiBQbGVhc2Ugc2VlIHdyaXRlVmFsdWUuIFdoZW4gZG8gbm90IG5lZWRcbiAgICAgKiBjYWxsIGFueXRoaW5nIGFkZGl0aW9uYWwgYXMgaW50ZXJuYWxDaG9vc2VyTW9kZWwgYW5kIHRoaXMuY2hvb3NlclN0YXRlLnNlbGVjdGVkT2JqZWN0cygpXG4gICAgICogc2hhcmVzIHRoZSBzYW1lIHJlZmVyZW5jZXMgc28gaXRzIGltcG9ydGFudCB0aGF0IHdlIGZpcnN0IHNhdmUgcmVmZXJlbmNlIHRvXG4gICAgICogdGhpcy5jaG9vc2VyU3RhdGUuc2VsZWN0ZWRPYmplY3RzKCkgYW5kIHRoZW4gYmFjayB0byBpbnRlcm5hbENob29zZXJNb2RlbFxuICAgICAqXG4gICAgICovXG4gICAgc2VsZWN0SXRlbShpdGVtOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vblNlbGVjdGlvbi5lbWl0KHRoaXMuaW50ZXJuYWxDaG9vc2VyTW9kZWwpO1xuICAgICAgICB0aGlzLmZvcm1Db250cm9sLnNldFZhbHVlKHRoaXMuaW50ZXJuYWxDaG9vc2VyTW9kZWwsIHtlbWl0RXZlbnQ6IHRydWV9KTtcbiAgICAgICAgdGhpcy5mb3JtQ29udHJvbC5tYXJrQXNEaXJ0eSh7b25seVNlbGY6IHRydWV9KTtcblxuICAgICAgICB0aGlzLmRhdGFTb3VyY2Uuc3RhdGUuYWRkTW9kZSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlZCh0aGlzLmludGVybmFsQ2hvb3Nlck1vZGVsKTtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlLnN0YXRlLnVwZGF0ZWRTZWxlY3RlZE9iamVjdHMoaXRlbSk7XG5cbiAgICAgICAgdGhpcy5kYXRhU291cmNlLnN0YXRlLmFkZE1vZGUgPSB0cnVlO1xuXG4gICAgICAgIGlmICghdGhpcy5kYXRhU291cmNlLnN0YXRlLm11bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmF1dG9Db21wbGV0ZUNvbXBvbmVudC5pbnB1dEVMLm5hdGl2ZUVsZW1lbnQudmFsdWUgPVxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheUl0ZW0odGhpcy5pbnRlcm5hbENob29zZXJNb2RlbCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogVW5zZWxlY3QgaXRlbVxuICAgICAqXG4gICAgICovXG4gICAgcmVtb3ZlVmFsdWUoaXRlbTogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZS5zdGF0ZS5hZGRNb2RlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlLnN0YXRlLnVwZGF0ZWRTZWxlY3RlZE9iamVjdHMoaXRlbSk7XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZS5zdGF0ZS5hZGRNb2RlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5pbnRlcm5hbENob29zZXJNb2RlbCA9IHRoaXMuZGF0YVNvdXJjZS5zdGF0ZS5zZWxlY3RlZE9iamVjdHMoKTtcblxuICAgICAgICB0aGlzLm9uU2VsZWN0aW9uLmVtaXQodGhpcy5pbnRlcm5hbENob29zZXJNb2RlbCk7XG4gICAgICAgIHRoaXMuZm9ybUNvbnRyb2wuc2V0VmFsdWUodGhpcy5pbnRlcm5hbENob29zZXJNb2RlbCwge2VtaXRFdmVudDogdHJ1ZX0pO1xuICAgICAgICB0aGlzLmZvcm1Db250cm9sLm1hcmtBc0RpcnR5KHtvbmx5U2VsZjogdHJ1ZX0pO1xuXG4gICAgICAgIHRoaXMub25Nb2RlbENoYW5nZWQodGhpcy5pbnRlcm5hbENob29zZXJNb2RlbCk7XG5cblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuYXV0b0NvbXBsZXRlQ29tcG9uZW50KSkge1xuICAgICAgICAgICAgdGhpcy5hdXRvQ29tcGxldGVDb21wb25lbnQuZm9jdXNJbnB1dCgpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIENvbnZlcnQgYSBvYmplY3QgaWYgYW55IGludG8gdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAqXG4gICAgICogdG9kbzogaW1wbGVtZW50IGJldHRlciB3YXkgaG93IHRvIHdvcmsgd2l0aCBvYmplY3RzXG4gICAgICpcbiAgICAgKi9cbiAgICBkaXNwbGF5SXRlbShpdGVtOiBhbnkpIHtcbiAgICAgICAgaWYgKGlzQmxhbmsoaXRlbSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZS5zdGF0ZS5jdXJyZW50SXRlbSA9IGl0ZW07XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLnZhbHVlVHJhbnNmb3JtZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZVRyYW5zZm9ybWVyKGl0ZW0pO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoaXNQcmVzZW50KHRoaXMuZGF0YVNvdXJjZS5sb29rdXBLZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbVt0aGlzLmRhdGFTb3VyY2UubG9va3VwS2V5XTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0udG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogUmV0dXJucyBhIGxhYmVsIHRoYXQgaXMgc2hvd24gdW5kZXIgdGhlIHNlbGVjdGVkIGl0ZW0gd2hlbiB1c2VyIHNlbGVjdGlvbiBpcyA+XG4gICAgICogTWF4UmVjZW50U2VsZWN0ZWRcbiAgICAgKlxuICAgICAqL1xuICAgIG1vcmVTZWxlY3RTdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IG1vcmVTZWxlY3RlZCA9IHRoaXMuZGF0YVNvdXJjZS5zdGF0ZS5zZWxlY3RlZE9iamVjdHMoKS5sZW5ndGggLVxuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlLnN0YXRlLnJlY2VudFNlbGVjdGVkRGlzcGxheWVkO1xuICAgICAgICBpZiAobW9yZVNlbGVjdGVkIDwgMiAmJiAhdGhpcy5kYXRhU291cmNlLnN0YXRlLnNob3dBbGxSZWNlbnRseVNlbGVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kYXRhU291cmNlLnN0YXRlLnNob3dBbGxSZWNlbnRseVNlbGVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oaWRlTGluaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7bW9yZVNlbGVjdGVkfSBtb3JlIHNlbGVjdGVkLi4uYDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEluIGNhc2Ugb2YgbXVsdGlzZWxlY3QgPSBmYWxzZSBjaGVjayBpZiB3ZSB3YW50IHRvIHNob3cgYSBzZWxlY3RlZCB2YWx1ZSBpbnNpZGUgdGhlIGlucHV0XG4gICAgICogZmllbGRcbiAgICAgKlxuICAgICAqL1xuICAgIHNpbmdsZVZhbHVlU2VsZWN0ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy5kYXRhU291cmNlLnN0YXRlICYmIGlzUHJlc2VudCh0aGlzLmRhdGFTb3VyY2Uuc3RhdGUuY3VycmVudEl0ZW0pXG4gICAgICAgICAgICAmJiAhdGhpcy5kYXRhU291cmNlLnN0YXRlLmFkZE1vZGU7XG4gICAgfVxuXG4gICAgaGFzTWVudVRlbXBsYXRlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMubWVudVRlbXBsYXRlKTtcbiAgICB9XG5cblxuICAgIGhhc1NlbGVjdGlvblRlbXBsYXRlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMuc2VsZWN0aW9uVGVtcGxhdGUpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwuIFBsZWFzZSBzZWUgQ29udHJvbFZhbHVlQWNjZXNzb3JcbiAgICAgKiBBcyB3ZSBhcmUgdXNpbmcgRGF0YVNvdXJjZSBpbnRlcm5hbGx5IGZvciBbKG5nTW9kZWwpXSBjYXNlIHdlIG5lZWQgdG8gZGVmZmVyIERhdGFTb3VyY2VcbiAgICAgKiBpbml0aWFsaXphdGlvbiBvbmNlIHdlIGhhdmUgYSB2YWx1ZSBhbmQgd2Ugb25seSBhY2NlcHQgW11cbiAgICAgKlxuICAgICAqXG4gICAgICogPyBTaG91bGQgd2UgZG8gc29tZSBkZWVwZXIgY29tcGFyaXNpb24/XG4gICAgICovXG4gICAgd3JpdGVWYWx1ZSh2YWx1ZTogYW55KSB7XG4gICAgICAgIGlmIChpc0JsYW5rKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmRhdGFTb3VyY2UpKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2UudXBkYXRlVmFsdWUodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHNlbFN0YXRlOiBEZWZhdWx0U2VsZWN0aW9uU3RhdGUgPSBuZXcgRGVmYXVsdFNlbGVjdGlvblN0YXRlKHRoaXMubXVsdGlzZWxlY3QpO1xuICAgICAgICAgICAgbGV0IGNoU3RhdGU6IENob29zZXJTdGF0ZSA9IG5ldyBDaG9vc2VyU3RhdGUoc2VsU3RhdGUsIHRoaXMubXVsdGlzZWxlY3QpO1xuICAgICAgICAgICAgdGhpcy5pbml0RGF0YXNvdXJjZShjaFN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlLnVwZGF0ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5pdEludGVybmFsTW9kZWwoKTtcbiAgICB9XG5cbiAgICBpbml0RGF0YXNvdXJjZShjaG9vc2VyU3RhdGU/OiBDaG9vc2VyU3RhdGUpOiB2b2lkIHtcbiAgICAgICAgYXNzZXJ0KGlzUHJlc2VudCh0aGlzLmRlc3RpbmF0aW9uQ2xhc3MpLFxuICAgICAgICAgICAgJ1lvdSBuZWVkIHRvIHByb3ZpZGUgZGVzdGluYXRpb25DbGFzcyBvciBjdXN0b20gRGF0YVNvdXJjZScpO1xuXG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZS5pbml0KHtcbiAgICAgICAgICAgIG9iajogdGhpcy5kZXN0aW5hdGlvbkNsYXNzLFxuICAgICAgICAgICAgcXVlcnlUeXBlOiBRdWVyeVR5cGUuRnVsbFRleHQsXG4gICAgICAgICAgICBsb29rdXBLZXk6IHRoaXMuZmllbGQsXG4gICAgICAgICAgICBzdGF0ZTogY2hvb3NlclN0YXRlLFxuICAgICAgICAgICAgbXVsdGlzZWxlY3Q6IHRoaXMubXVsdGlzZWxlY3RcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBVc2VkIGJ5IG5nT25Jbml0IGFuZCBXcml0ZSB2YWx1ZSB0byByZWFkIHN0YXRlIGZyb20gQ2hvb3NlclN0YXRlIGFuZCBzZXQgaXQgdG8gaW50ZXJuYWxcbiAgICAgKiBuZ01vZGVsIHByb3BlcnR5XG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGluaXRJbnRlcm5hbE1vZGVsKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5kYXRhU291cmNlLnN0YXRlLm11bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmludGVybmFsQ2hvb3Nlck1vZGVsID0gdGhpcy5kYXRhU291cmNlLnN0YXRlLnNlbGVjdGVkT2JqZWN0cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbENob29zZXJNb2RlbCA9IHRoaXMuZGF0YVNvdXJjZS5zdGF0ZS5zZWxlY3RlZE9iamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5mb3JtQ29udHJvbCkpIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybUNvbnRyb2wuc2V0VmFsdWUodGhpcy5pbnRlcm5hbENob29zZXJNb2RlbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7TmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge0Zvcm1zTW9kdWxlLCBSZWFjdGl2ZUZvcm1zTW9kdWxlfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0Nob29zZXJDb21wb25lbnR9IGZyb20gJy4vY2hvb3Nlci5jb21wb25lbnQnO1xuaW1wb3J0IHtBdXRvQ29tcGxldGVNb2R1bGV9IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XG5pbXBvcnQge0FXSHlwZXJsaW5rTW9kdWxlfSBmcm9tICcuLi9oeXBlcmxpbmsvaHlwZXJsaW5rLm1vZHVsZSc7XG5pbXBvcnQge0FXQ29yZUNvbXBvbmVudE1vZHVsZX0gZnJvbSAnLi4vLi4vY29yZS9jb3JlLm1vZHVsZSc7XG5cblxuQE5nTW9kdWxlKHtcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgQ2hvb3NlckNvbXBvbmVudFxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBBdXRvQ29tcGxldGVNb2R1bGUsXG4gICAgICAgIEFXSHlwZXJsaW5rTW9kdWxlLFxuICAgICAgICBBV0NvcmVDb21wb25lbnRNb2R1bGVcblxuICAgIF0sXG4gICAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgICAgIENob29zZXJDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgQ2hvb3NlckNvbXBvbmVudCxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGVcbiAgICBdLFxuICAgIHByb3ZpZGVyczogW11cbn0pXG5leHBvcnQgY2xhc3MgQVdDaG9vc2VyTW9kdWxlXG57XG59XG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBDb250ZW50Q2hpbGQsXG4gICAgRXZlbnRFbWl0dGVyLFxuICAgIGZvcndhcmRSZWYsXG4gICAgSW5qZWN0LFxuICAgIElucHV0LFxuICAgIE9wdGlvbmFsLFxuICAgIE91dHB1dCxcbiAgICBTa2lwU2VsZixcbiAgICBUZW1wbGF0ZVJlZlxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Rm9ybUNvbnRyb2wsIE5HX1ZBTFVFX0FDQ0VTU09SfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge1NlbGVjdEl0ZW19IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XG5pbXBvcnQge0Vudmlyb25tZW50LCBlcXVhbHMsIGlzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0Jhc2VGb3JtQ29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL2Jhc2UtZm9ybS5jb21wb25lbnQnO1xuXG5cbi8qKlxuICogQSBwb3B1cCBsaWtlIGNvbXBvbmVudCByZW5kZXJpbmcgbGlzdCBvZiB2YWx1ZXMgYXMuIEJhc2VkIG9uIFByaW1lTkcgY29tcG9uZW50IGFuZCBvbmUgb2YgdGhlXG4gKiBtYWluIHJlYXNvbiB3aHkgd2UgbmVlZCB0byB3cmFwIHRoaXMgaXMgdG8gZXh0ZW5kIGl0cyBjYXBhYmlsaXRpZXMgdG8gYWNjZXB0IGFsbW9zdCBhbnlcbiAqIGRhdGEgdHlwZSB3aXRob3V0IHVzaW5nIFByaW1lbnMncyBzcGVjaWZpYyBTZWxlY3RJdGVtIHR5cGUuXG4gKlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiAgQENvbXBvbmVudCh7XG4gKiAgICAgIHNlbGVjdG9yOiAnc2hvd0Ryb3BEb3duJyAsXG4gKiAgICAgIHRlbXBsYXRlOiAnPGF3LWRyb3Bkb3duIFtsaXN0XT1cInRlc3RJdGVtU21hbGxcIlxuICogICAgIChvblNlbGVjdGlvbik9XCJvblNlbGVjdGlvbigkZXZlbnQpXCI+PC9hdy1kcm9wZG93bj4nXG4gKiAgfSlcbiAqICBleHBvcnQgY2xhc3MgTXlEcm9wQ29tcG9uZW50XG4gKiAge1xuICogICAgICB0ZXN0SXRlbVNtYWxsOiBzdHJpbmdbXSA9IFsndmlldycgLCAnZWRpdCddO1xuICpcbiAqICAgICAgLy8gd2hlbiB5b3Ugc3dpdGNoIGxpc3QgYmluZGluZyB0byByZWZlcnQgdG8gbGFyZ2UgaXRlbSBmaWlsdGVyIGF1dG9tYXRpY2FsbHkgaXMgc2hvd24gYW5kXG4gKiAgICAgbWF4IDEwIGl0ZW1zIGFyZVxuICogICAgICAvLyB2aXNpYmxlXG4gKiAgICAgIHRlc3RJdGVtTGFyZ2U6IHN0cmluZ1tdID0gWyd2aWV3JyAsICdlZGl0JyAsICdmcmFuaycgLCAna29sYXInICwgJ1RoZSBTdW4nICwgJ0RvZycgLFxuICogICAgICdDb21wdXRlcicgLCAnQSBEZXNrJyAsXG4gKiAgICAgICdNeSBDYXInICwgJ1BlbmNpbCcgLCAnVGhpcyBQYWdlJyAsICdZZXN0ZXJkYXknICwgJ01vbmRheScgLCAnVHVlc2RheScgLCAnQk1XIFIxMjAwIEdTJyAsXG4gKiAgICAgJ0N6ZWNoIFJlcHVibGljJyAsXG4gKiAgICAgICdMYXN0IEl0ZW0nXTtcbiAqXG4gKlxuICogICAgICBpdGVtU2VsZWN0ZWQ6IHN0cmluZyA9ICd2aWV3JztcbiAqICAgICAgaXRlbVNlbGVjdGVkTGc6IHN0cmluZyA9ICdNb25kYXknO1xuICpcbiAqICAgICAgbm9zZWxTdHJpbmc6IHN0cmluZyA9ICcobm8gc2VsZWN0aW9uKSc7XG4gKlxuICpcbiAqICAgICAgb25TZWxlY3Rpb24gKGV2ZW50KTogdm9pZFxuICogICAgICB7XG4gKiAgICAgICAgICB0aGlzLml0ZW1TZWxlY3RlZCA9IGV2ZW50O1xuICpcbiAqICAgICAgfVxuICogIH1cbiAqXG4gKiAgYGBgXG4gKlxuICovXG5cblxuZXhwb3J0IGNvbnN0IEREX0NPTlRST0xfVkFMVUVfQUNDRVNTT1I6IGFueSA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBEcm9wZG93bkNvbXBvbmVudCksXG4gICAgbXVsdGk6IHRydWVcbn07XG5cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1kcm9wZG93bicsXG4gICAgdGVtcGxhdGVVcmw6ICdkcm9wZG93bi5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ2Ryb3Bkb3duLmNvbXBvbmVudC5zY3NzJ10sXG4gICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIEREX0NPTlRST0xfVkFMVUVfQUNDRVNTT1IsXG4gICAgICAgIHtwcm92aWRlOiBCYXNlRm9ybUNvbXBvbmVudCwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gRHJvcGRvd25Db21wb25lbnQpfVxuICAgIF1cblxufSlcbmV4cG9ydCBjbGFzcyBEcm9wZG93bkNvbXBvbmVudCBleHRlbmRzIEJhc2VGb3JtQ29tcG9uZW50XG57XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWF4TnVtU2hvd24gPSAxMDtcblxuICAgIC8qKlxuICAgICAqIE9yZGVyZWQgbGlzdCBvZiBpdGVtcyByZW5kZXJlZCBhcyBhIHBvcHVwIG1lbnVcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGxpc3Q6IGFueVtdO1xuXG4gICAgLyoqXG4gICAgICogSXRlbXMgd2hpY2ggd2FzIHNlbGVjdGVkIGFzIGEgZGVmYXVsdCB2YWx1ZSBvciBieSB1c2VkIGluIHRoZSBwb3B1cCBtZW51LlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2VsZWN0aW9uOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBTdHJpbmcgcmVuZGVyZWQgYXMgZmlyc3QgdmFsdWUgaW4gdGhlIHBvcHVwIHdoaWNoIGxldCB0aGUgdXNlciB0byBtYWtlICdubyBzZWxlY3Rpb24nIGZyb21cbiAgICAgKiBhdmFpbGFibGUgbGlzdCBvZiB2YWx1ZXMuIFdoZW4gdGhpcyBvcHRpb24gaXMgYWN0aXZlIGFuZCB1c2UgbWFrZSB0aGlzIHNlbGVjdGlvbiB3ZSBzYXZlIGFcbiAgICAgKiBOVUxMIHZhbHVlXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBub1NlbGVjdGlvblN0cmluZzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogRXZlbnQgZmlyZWQgd2hlbiB1c2VyIHNlbGVjdCBhIGl0ZW1cbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBvblNlbGVjdGlvbjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBpbnRlcm5hbCBsaXN0IHRoYXQgaGlkZXMgUHJpbWVORyBzcGVjaWZpY3Mgd2hlcmUgd2UgbmVlZCB0byBkZWFsIHdpdGggc3BlY2lhbFxuICAgICAqIHR5cGU6IFNlbGVjdEl0ZW0uIE91ciBleHBlY3RhdGlvbiBpcyB0aGF0IHlvdSBuZWVkIHRvIGJlIGFibGUgdG8gcGFzcyByZWd1bGFyIHN0cmluZyB2YWx1ZXNcbiAgICAgKiBvciBmdWxsIG9iamVjdCBhbmQgbm90IHRyeWluZyB0byB3cmFwIGl0IGludG8gZXh0cmEgbGF5ZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBpbnRlcm5hbExpc3Q6IFNlbGVjdEl0ZW1bXTtcblxuXG4gICAgLyoqXG4gICAgICogRW1iZWRkZWQgdGVtcGxhdGUgZGVmaW5lZCBieSB1c2VyLiBJZiB1c2VyIGRvZXMgbm90IHByb3ZpZGUgYW55IHRlbXBsYXRlIGFuZCB3aGlsZSByZW5kZXJpbmdcbiAgICAgKiBpdGVtIHdlIGFzc3VtZSB3ZSBhcmUgZGVhbGluZyB3aXRoIHByaW1pdGl2ZSB0eXBlcyBhbmQgY2FsbCBvbiBlYWNoIGl0ZW0gdG9TdHJpbmcoKSwgaWYgd2VcbiAgICAgKiBhcmUgZGVhbGluZyB3aXRoIG9iamVjdCwgdGhlbiB3ZSBleHBlY3QgdXNlciB0byBwcm92aWRlIGEgdGVtcGxhdGUgYW5kIHRlbGwgdGhlIGRyb3Bkb3duIG9mXG4gICAgICogZWFjaCBpdGVtIHNob3VsZCBiZSBoYW5kbGVkXG4gICAgICpcbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKCdpdGVtVGVtcGxhdGUnKVxuICAgIGl0ZW1UZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcblxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbW9kZWwgdXNlZCBmb3IgZW1iZWRkZWQgdmVyc2lvbi5cbiAgICAgKi9cbiAgICBtb2RlbDogU2VsZWN0SXRlbTtcblxuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgQFNraXBTZWxmKCkgQE9wdGlvbmFsKCkgQEluamVjdChmb3J3YXJkUmVmKCgpID0+IEJhc2VGb3JtQ29tcG9uZW50KSlcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgcGFyZW50Q29udGFpbmVyOiBCYXNlRm9ybUNvbXBvbmVudClcbiAgICB7XG4gICAgICAgIHN1cGVyKGVudiwgcGFyZW50Q29udGFpbmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2RvOiBQdXQgYmFjayB0aGUgc2Nyb2xsaW5nIG9wdGlvbiBvbmNlIHdlIGRlY2lkZSBzby4gQ3VycmVudGx5IHRoZSByZXF1aXJlbWVudHMgYXJlXG4gICAgICogc2hvdyBvbmx5IDEwIGl0ZW1zIG1heCwgbm8gc2Nyb2xsaW5nLiBGdW5jdGlvbmFsaXR5IGNvbW1lbnRlZCBvdXQgY2FuIHNob3cgc2Nyb2xsYmFyIHdpdGhcbiAgICAgKiBzZWFyY2ggZmlsdGVyLlxuICAgICAqL1xuICAgIG5nT25Jbml0KClcbiAgICB7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNTdGFuZGFsb25lKSB7XG4gICAgICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xuICAgICAgICAgICAgc3VwZXIucmVnaXN0ZXJGb3JtQ29udHJvbCh0aGlzLnNlbGVjdGlvbik7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9ybUNvbnRyb2wgPSA8Rm9ybUNvbnRyb2w+IHRoaXMuZm9ybUdyb3VwLmNvbnRyb2xzW3RoaXMubmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIHRyYW5zZm9ybSBhIHZhbHVlIHRvIFByaW1lTmcgRm9ybWF0LCB3ZSBhcmUgbm90IHJlYWxseSBiZSB1c2luZyBhIGxhYmVsIGZpZWxkIG9ubHkgYVxuICAgICAgICAvLyB2YWx1ZS5cbiAgICAgICAgdGhpcy5pbnRlcm5hbExpc3QgPSBbXTtcbiAgICAgICAgLy8gaWYgKGlzUHJlc2VudCh0aGlzLm5vU2VsZWN0aW9uU3RyaW5nKSkge1xuICAgICAgICAvLyAgICAgdGhpcy5pbnRlcm5hbExpc3QucHVzaCh7XG4gICAgICAgIC8vICAgICAgICAgbGFiZWw6IHRoaXMubm9TZWxlY3Rpb25TdHJpbmcsXG4gICAgICAgIC8vICAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgaWYgKGlzQmxhbmsodGhpcy5zZWxlY3Rpb24pKSB7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSB0aGlzLm5vU2VsZWN0aW9uU3RyaW5nO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmxpc3QpICYmIHRoaXMubGlzdC5sZW5ndGggPj0gRHJvcGRvd25Db21wb25lbnQuTWF4TnVtU2hvd24pIHtcblxuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbExpc3QgPSB0aGlzLmxpc3Quc2xpY2UoMCwgRHJvcGRvd25Db21wb25lbnQuTWF4TnVtU2hvd24pLm1hcCgoaXRlbTogYW55KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB7bGFiZWw6IGl0ZW0udG9TdHJpbmcoKSwgdmFsdWU6IGl0ZW19O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNQcmVzZW50KHRoaXMubGlzdCkpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxMaXN0ID0gdGhpcy5saXN0LnNsaWNlKDApLm1hcCgoaXRlbTogYW55KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB7bGFiZWw6IGl0ZW0udG9TdHJpbmcoKSwgdmFsdWU6IGl0ZW19O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGhhc0VtYmVkZGVkVGVtcGxhdGUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLml0ZW1UZW1wbGF0ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdG8gcHJldmVudCBFbXB0eSBpdGVtIHRvIGJlIHJlbmRlcmVkXG4gICAgICpcbiAgICAgKiB0b2RvOiBSZXBvcnQgdGhpcyBvbiBQcmltZU5nXG4gICAgICpcbiAgICAgKi9cbiAgICBpdGVtRXhpc3QoaXRlbTogYW55KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudChpdGVtKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFdoZW4gZHJvcGRvd24gbGlzdCBpcyBtb3JlIHRoZW4gZGVmaW5lZCBjb25zdGFudCBNYXhOdW1TaG93biAoMTApIGF1dG9tYXRpY2FsbHkgc2hvdyBmaWx0ZXJcbiAgICAgKiBpbnB1dCBmaWVsZFxuICAgICAqL1xuICAgIHNob3dGaWx0ZXIoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyByZXR1cm4gaXNQcmVzZW50KHRoaXMubGlzdCkgJiYgdGhpcy5saXN0Lmxlbmd0aCA+IERyb3Bkb3duQ29tcG9uZW50Lk1heE51bVNob3duO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogVXBkYXRlcyBpbnRlcm5hbCBtb2RlbHMgb2YgY3VycmVudCBzZWxlY3Rpb25zIGFuZCB0cmlnZ2VycyBvblNlbGVjdGlvbiBldmVudFxuICAgICAqXG4gICAgICovXG4gICAgb25JdGVtU2VsZWN0aW9uKHZhbHVlOiBhbnkpXG4gICAge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHZhbHVlLnZhbHVlO1xuICAgICAgICB0aGlzLm9uU2VsZWN0aW9uLmVtaXQodmFsdWUudmFsdWUpO1xuXG4gICAgICAgIGlmICh0aGlzLmlzU3RhbmRhbG9uZSkge1xuICAgICAgICAgICAgdGhpcy5mb3JtQ29udHJvbC5zZXRWYWx1ZSh0aGlzLnNlbGVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLmZvcm1Db250cm9sLm1hcmtBc0RpcnR5KHtvbmx5U2VsZjogdHJ1ZX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlZCh2YWx1ZS52YWx1ZSk7XG4gICAgfVxuXG4gICAgZGlzcGxheUl0ZW0oaXRlbTogYW55KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudChpdGVtKSA/IGl0ZW0ubGFiZWwgOiAnTm8gU2VsZWN0aW9uJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbC4gUGxlYXNlIHNlZSBDb250cm9sVmFsdWVBY2Nlc3NvclxuICAgICAqXG4gICAgICovXG4gICAgd3JpdGVWYWx1ZSh2YWx1ZTogYW55KVxuICAgIHtcbiAgICAgICAgaWYgKCFlcXVhbHModmFsdWUsIHRoaXMuc2VsZWN0aW9uKSkge1xuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5mb3JtQ29udHJvbC5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxufVxuXG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtEcm9wZG93bkNvbXBvbmVudH0gZnJvbSAnLi9kcm9wZG93bi5jb21wb25lbnQnO1xuaW1wb3J0IHtGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtEcm9wZG93bk1vZHVsZX0gZnJvbSAncHJpbWVuZy9wcmltZW5nJztcbmltcG9ydCB7QVdDb3JlQ29tcG9uZW50TW9kdWxlfSBmcm9tICcuLi8uLi9jb3JlL2NvcmUubW9kdWxlJztcblxuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBEcm9wZG93bkNvbXBvbmVudFxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBEcm9wZG93bk1vZHVsZSxcbiAgICAgICAgQVdDb3JlQ29tcG9uZW50TW9kdWxlXG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgRHJvcGRvd25Db21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgRHJvcGRvd25Db21wb25lbnQsXG4gICAgICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlXG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEFXRHJvcGRvd25Nb2R1bGVcbntcbn1cblxuXG4iLCJpbXBvcnQge0NvbXBvbmVudCwgZm9yd2FyZFJlZiwgSW5qZWN0LCBJbnB1dCwgT3B0aW9uYWwsIFNraXBTZWxmfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Q3VycmVuY3lQaXBlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtOR19WQUxVRV9BQ0NFU1NPUn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtFbnZpcm9ubWVudCwgZXF1YWxzLCBpc0JsYW5rLCBpc1ByZXNlbnQsIFZhbHVlfSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7QmFzZUZvcm1Db21wb25lbnR9IGZyb20gJy4uLy4uL2NvcmUvYmFzZS1mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQge0Zvcm1Sb3dDb21wb25lbnR9IGZyb20gJy4uLy4uL2xheW91dHMvZm9ybS10YWJsZS9mb3JtLXJvdy9mb3JtLXJvdy5jb21wb25lbnQnO1xuXG4vKipcbiAqIExpZ2h0d2VpZ2h0IGFuZCBjb25maWd1cmFibGUgQ3VycmVuY3kgY29tcG9uZW50IGJhc2VkIG9uIHRoZSBuZyBib290c3RyYXAgZGlyZWN0aXZlLiBUaGlzXG4gKiBjb21wb25lbnQgY29tYmluZXMgYW4gaW5wdXQgYW5kIGN1cnJlbmN5IGNvZGUgZHJvcGRvd24uXG4gKlxuICpcbiAqIGZvciBtb3JlIGluZm8gcGxlYXNlIHNlZSBjbGFzcyBEb2Mgb2YgdGhlOlxuICogIEBzZWUge0BsaW5rIGN1cnJlbmN5L2N1cnJlbmN5LmNvbXBvbmVudC50c31cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqXG4gKiAgQENvbXBvbmVudCh7XG4gKiAgICBzZWxlY3RvcjogJ2Ftb3VudCcgLFxuICogICAgdGVtcGxhdGU6IGBcbiAqXG4gKiAgICAgIDxhdy1jdXJyZW5jeSBbbW9uZXldPVwicHJpY2VcIiBbY3VycmVuY2llc109XCJjdXJyZW5jaWVzXCIgW25hbWVdPVwiJ2N1cnJlbmN5J1wiPlxuICogICAgICA8L2F3LWN1cnJlbmN5PlxuICpcbiAqICAgIGBcbiAqICAgIH0pXG4gKiAgICBleHBvcnQgY2xhc3MgTXlDb21wb25lbnRcbiAqICAgIHtcbiAqICAgICAgICBhbW91bnQ6IG51bWJlciA9IDEwMDA7XG4gKiAgICAgICAgY3VycmVuY2llczogc3RyaW5nW10gPSBbJ1VTRCcsICdDTlknLCAnQVVEJywgJ0VVUicsICdHQlAnXTtcbiAqICAgICAgICBjdXJyZW5jeUNvZGU6IHN0cmluZyA9IHRoaXMuY3VycmVuY2llc1swXTtcbiAqXG4gKiAgICAgICAgY29uc3RydWN0b3IgKClcbiAqICAgICAgICB7XG4gKiAgICAgICAgfVxuICogICAgfVxuICovXG5cbmV4cG9ydCBjb25zdCBDVVJSRU5DWV9DT05UUk9MX1ZBTFVFX0FDQ0VTU09SOiBhbnkgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gQ3VycmVuY3lDb21wb25lbnQpLFxuICAgIG11bHRpOiB0cnVlXG59O1xuXG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctY3VycmVuY3knLFxuICAgIHRlbXBsYXRlVXJsOiAnY3VycmVuY3kuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydjdXJyZW5jeS5jb21wb25lbnQuc2NzcyddLFxuICAgIHByb3ZpZGVyczogW1xuICAgICAgICBDVVJSRU5DWV9DT05UUk9MX1ZBTFVFX0FDQ0VTU09SLFxuICAgICAgICB7cHJvdmlkZTogQmFzZUZvcm1Db21wb25lbnQsIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IEN1cnJlbmN5Q29tcG9uZW50KX1cbiAgICBdXG5cbn0pXG5leHBvcnQgY2xhc3MgQ3VycmVuY3lDb21wb25lbnQgZXh0ZW5kcyBCYXNlRm9ybUNvbXBvbmVudFxue1xuICAgIC8qKlxuICAgICAqIE1vbmV5IG9iamVjdCB0aGF0IGVuY2Fwc3VsYXRlcyB2YWx1ZSwgbG9jYWxlLCBjdXJyZW5jeSBjb2RlLlxuICAgICAqIElmIHRoaXMgb2JqZWN0IGlzIHNldCwgdmFsdWVzIHdpbGwgYmUgdGFrZW4gZnJvbSB0aGlzIG9iamVjdFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgbW9uZXk6IE1vbmV5O1xuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZSB1c2VyIHRvIGNoYW5nZSBNb25leSdzIGN1cnJlbmN5IGNvZGUgYW5kIHN0aWxsXG4gICAgICogYWxsb3cgdXNlciB0byBlZGl0IE1vbmV5J3MgYW1vdW50LlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgcmVhZG9ubHlDdXJyZW5jeUNvZGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW5jeSB0aGF0J3Mgc2VsZWN0ZWQgZm9yIHRoaXMgY3VycmVuY3kgZmllbGQuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBjdXJyZW5jeVNlbGVjdGlvbjogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHVzZWQgdG8gZm9ybWF0IHRoZSBtb25leSBvYmplY3QuXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHByZWNpc2lvbjogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBjdXJyZW5jaWVzIHRoYXQgdGhpcyBjdXJyZW5jeSB3aWRnZXQgc3VwcG9ydC4gVGhlIGZvcm1hdCBmb3IgZWFjaCBlbnRyeSBzaG91bGQgYmVcbiAgICAgKiBbY3VycmVuY3ktY29kZSAtIGRlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIF9jdXJyZW5jaWVzOiBhbnlbXTtcblxuXG4gICAgLyoqXG4gICAgICogVGhlIGZvcm1hdHRlZCBjdXJyZW5jeSB2YWx1ZS4gVXNlcyBhbmd1bGFyIGN1cnJlbmN5UGlwZSB0byBmb3JtYXQgYmFzZWQgb24gY291bnRyeSBjb2RlLlxuICAgICAqL1xuICAgIGRpc3BsYXlWYWx1ZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbmN5IHBpcGUgaXMgdXNlZCB0byBmb3JtYXQgb3VyIG1vbmV5IG9iamVjdC5cbiAgICAgKi9cbiAgICBjdXJyZW5jeVBpcGU6IEN1cnJlbmN5UGlwZTtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY6IEVudmlyb25tZW50LFxuICAgICAgICAgICAgICAgIEBTa2lwU2VsZigpIEBPcHRpb25hbCgpIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBGb3JtUm93Q29tcG9uZW50KSlcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgcGFyZW50Q29udGFpbmVyOiBCYXNlRm9ybUNvbXBvbmVudClcbiAgICB7XG4gICAgICAgIHN1cGVyKGVudiwgcGFyZW50Q29udGFpbmVyKTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIGN1cnJlbmNpZXMuXG4gICAgICAgIHRoaXMuaW5pdEN1cnJlbmNpZXMoKTtcblxuICAgICAgICB0aGlzLmN1cnJlbmN5UGlwZSA9IG5ldyBDdXJyZW5jeVBpcGUoZW52LmxvY2FsZSk7XG5cbiAgICAgICAgZW52Lm9uTG9jYWxlQ2hhbmdlLnN1YnNjcmliZSgobG9jYWxlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVuY3lQaXBlID0gbmV3IEN1cnJlbmN5UGlwZShsb2NhbGUpO1xuXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMubW9uZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5VmFsdWUgPSB0aGlzLmZvcm1hdEN1cnJlbmN5KFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vbmV5LmFtb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG5nT25Jbml0KClcbiAgICB7XG5cbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcbiAgICAgICAgc3VwZXIucmVnaXN0ZXJGb3JtQ29udHJvbCh0aGlzLm1vbmV5KTtcblxuICAgICAgICB0aGlzLmluaXRDdXJyZW5jaWVzKCk7XG5cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5jdXJyZW5jeVNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVuY3lTZWxlY3Rpb24gPSB0aGlzLl9jdXJyZW5jaWVzWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVhZHkgdGhlIG1vbmV5IGZpZWxkIGlmIGl0IGV4aXN0cy4gYW5kIG92ZXJyaWRlIHRoZSBleGlzdGluZyB2YWx1ZXMuXG4gICAgICAgIGlmICh0aGlzLm1vbmV5KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbmN5U2VsZWN0aW9uID0gdGhpcy5tb25leS5jdXJyZW5jeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW9uZXkgPSBuZXcgTW9uZXkobnVsbCwgdGhpcy5jdXJyZW5jeVNlbGVjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9IHRoaXMuZm9ybWF0Q3VycmVuY3kodGhpcy5tb25leS5hbW91bnQpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBpbml0Q3VycmVuY2llcygpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbmNpZXMgfHwgdGhpcy5fY3VycmVuY2llcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbmNpZXMgPSBbJ1VTRCcsICdDTlknLCAnQVVEJywgJ0VVUicsICdHQlAnXTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRGlzcGxheSB0aGUgcmVhbCB2YWx1ZSB3aGVuIHRoZSB1c2VyIGNsaWNrcyBpbiB0aGUgY3VycmVuY3kgd2lkZ2V0LiBUaGVuIGhlIGNhbiBtb2RpZnkgdGhlXG4gICAgICogdmFsdWUgd2l0aG91dCBzZWVpbmcgdGhlIGZvcm1hdHRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxcbiAgICAgKi9cbiAgICBvbkZvY3VzKGVsOiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMubW9uZXkpICYmIGlzUHJlc2VudCh0aGlzLm1vbmV5LmFtb3VudCkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVZhbHVlID0gdGhpcy5tb25leS5hbW91bnQudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpc3BsYXkgdGhlIGZvcm1hdHRlZCBjdXJyZW5jeSB2YWx1ZSB3aGVuIHRoZSB1c2VyIG5hdmlnYXRlcyBhd2F5LlxuICAgICAqIEBwYXJhbSBlbFxuICAgICAqL1xuICAgIG9uQmx1cihlbDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5tb25leSA9IHRoaXMubW9uZXkuY2xvbmUoe2Ftb3VudDogTnVtYmVyKGVsLnZhbHVlKX0pO1xuICAgICAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9IHRoaXMuZm9ybWF0Q3VycmVuY3kodGhpcy5tb25leS5hbW91bnQpO1xuXG4gICAgICAgIHRoaXMub25Nb2RlbENoYW5nZWQodGhpcy5tb25leSk7XG4gICAgfVxuXG4gICAgb25TZWxlY3Rpb24oY3VycmVuY3k6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuY3VycmVuY3lTZWxlY3Rpb24gPSBjdXJyZW5jeTtcbiAgICAgICAgdGhpcy5kaXNwbGF5VmFsdWUgPSB0aGlzLmZvcm1hdEN1cnJlbmN5KHRoaXMubW9uZXkuYW1vdW50KTtcblxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gd2lsbCBjaGVjayB0byBzZWUgaWYgY3VycmVuY3kgaXMgYSB2YWxpZCBudW1iZXIgYmVmb3JlIGZvcm1hdHRpbmcuXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqL1xuICAgIHByaXZhdGUgZm9ybWF0Q3VycmVuY3kodmFsOiBhbnkpOiBhbnlcbiAgICB7XG4gICAgICAgIGlmICghdmFsIHx8IHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNOYU4odmFsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjb2RlID0gJ1VTRCc7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbmN5U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBjb2RlID0gdGhpcy5jdXJyZW5jeVNlbGVjdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW9uZXkgPSB0aGlzLm1vbmV5LmNsb25lKHtjdXJyZW5jeTogdGhpcy5jdXJyZW5jeVNlbGVjdGlvbn0pO1xuXG4gICAgICAgIC8vIEJ5IGRlZmF1bHQsIHRoZSBwcmVjaXNpb24gaXMgMi4gRm9yIGV4YW1wbGUsIDEwLjIzIFVTRC5cbiAgICAgICAgbGV0IGRpZ2l0cyA9ICcxLjAtMic7XG4gICAgICAgIC8vIElmIHByZWNpc2lvbiBpcyBwcmVzZW50LCB1c2UgaXQgZm9yIGZvcm1hdCB0aGUgbW9uZXkgdmFsdWUgZm9yIGRpc3BsYXkuXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5wcmVjaXNpb24pKSB7XG4gICAgICAgICAgICBkaWdpdHMgPSAnMS4wLScgKyB0aGlzLnByZWNpc2lvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW5jeVBpcGUudHJhbnNmb3JtKHZhbCwgY29kZSwgJ3N5bWJvbCcsIGRpZ2l0cyk7XG4gICAgfVxuXG4gICAgZ2V0TW9uZXlDdXJyZW5jeSgpOiBzdHJpbmcge1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuZGlzcGxheVZhbHVlKSAmJiB0aGlzLmRpc3BsYXlWYWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW5jeVNlbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgQElucHV0KClcbiAgICBnZXQgY3VycmVuY2llcygpOiBhbnlbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbmNpZXM7XG4gICAgfVxuXG4gICAgc2V0IGN1cnJlbmNpZXModmFsdWU6IGFueVtdKVxuICAgIHtcbiAgICAgICAgaWYgKGlzUHJlc2VudCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbmNpZXMgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludGVybmFsLiBQbGVhc2Ugc2VlIENvbnRyb2xWYWx1ZUFjY2Vzc29yXG4gICAgICpcbiAgICAgKi9cbiAgICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpXG4gICAge1xuICAgICAgICBpZiAoKHZhbHVlIGluc3RhbmNlb2YgTW9uZXkpICYmICFlcXVhbHModmFsdWUsIHRoaXMubW9uZXkpKSB7XG4gICAgICAgICAgICB0aGlzLm1vbmV5ID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMubW9uZXkuY3VycmVuY3kpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW5jeVNlbGVjdGlvbiA9IHRoaXMubW9uZXkuY3VycmVuY3k7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlWYWx1ZSA9IHRoaXMuZm9ybWF0Q3VycmVuY3kodGhpcy5tb25leS5hbW91bnQpO1xuICAgICAgICAgICAgdGhpcy5mb3JtQ29udHJvbC5zZXRWYWx1ZSh0aGlzLm1vbmV5KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBNb25leSBvYmplY3QgaXMgcmVwcmVzZW50ZWQgYXMgYSB2YWx1ZSwgbG9jYWxlLCBhbmQgY3VycmVuY3lDb2RlXG4gKi9cbmV4cG9ydCBjbGFzcyBNb25leSBpbXBsZW1lbnRzIFZhbHVlXG57XG4gICAgdW5pcXVlTmFtZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGFtb3VudDogbnVtYmVyID0gMCwgcHVibGljIHJlYWRvbmx5IGN1cnJlbmN5OiBzdHJpbmcgPSAnVVNEJyxcbiAgICAgICAgICAgICAgICBwdWJsaWMgcmVhZG9ubHkgbG9jYWxlOiBzdHJpbmcgPSAnZW5fVVMnKVxuICAgIHtcbiAgICB9XG5cblxuICAgIGdldFR5cGVzKCk6IGFueVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFtb3VudDogTnVtYmVyLFxuICAgICAgICAgICAgY3VycmVuY3k6IFN0cmluZyxcbiAgICAgICAgICAgIGxvY2FsZTogU3RyaW5nXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY2xhc3NOYW1lKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuICdNb25leSc7XG4gICAgfVxuXG4gICAgJHByb3RvKCk6IE1vbmV5XG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IE1vbmV5KDEsICcyMycsICczMycpO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW1vdW50ICsgJywgbG9jYWxlOiAnICsgdGhpcy5sb2NhbGUgKyAnLCBjb2RlOiAgJyArIHRoaXMuY3VycmVuY3k7XG4gICAgfVxuXG5cbiAgICBjbG9uZShkYXRhOiB7IGFtb3VudD86IG51bWJlciwgY3VycmVuY3k/OiBzdHJpbmcsIGxvY2FsZT86IHN0cmluZyB9ID0ge30pOiBNb25leVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb25leShcbiAgICAgICAgICAgIGlzUHJlc2VudChkYXRhLmFtb3VudCkgPyBkYXRhLmFtb3VudCA6IHRoaXMuYW1vdW50LFxuICAgICAgICAgICAgaXNQcmVzZW50KGRhdGEuY3VycmVuY3kpID8gZGF0YS5jdXJyZW5jeSA6IHRoaXMuY3VycmVuY3ksXG4gICAgICAgICAgICBpc1ByZXNlbnQoZGF0YS5sb2NhbGUpID8gZGF0YS5sb2NhbGUgOiB0aGlzLmxvY2FsZVxuICAgICAgICApO1xuICAgIH1cblxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlLCBDdXJyZW5jeVBpcGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge0Zvcm1zTW9kdWxlLCBSZWFjdGl2ZUZvcm1zTW9kdWxlfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0Ryb3Bkb3duTW9kdWxlLCBJbnB1dFRleHRNb2R1bGV9IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XG5pbXBvcnQge0N1cnJlbmN5Q29tcG9uZW50fSBmcm9tICcuL2N1cnJlbmN5LmNvbXBvbmVudCc7XG5pbXBvcnQge0FXU3RyaW5nRmllbGRNb2R1bGV9IGZyb20gJy4uL3N0cmluZy9zdHJpbmcubW9kdWxlJztcbmltcG9ydCB7QVdEcm9wZG93bk1vZHVsZX0gZnJvbSAnLi4vZHJvcGRvd24vZHJvcGRvd24ubW9kdWxlJztcbmltcG9ydCB7QVdDb3JlQ29tcG9uZW50TW9kdWxlfSBmcm9tICcuLi8uLi9jb3JlL2NvcmUubW9kdWxlJztcblxuQE5nTW9kdWxlKHtcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgQ3VycmVuY3lDb21wb25lbnRcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZSxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgSW5wdXRUZXh0TW9kdWxlLFxuICAgICAgICBEcm9wZG93bk1vZHVsZSxcbiAgICAgICAgQVdEcm9wZG93bk1vZHVsZSxcbiAgICAgICAgQVdTdHJpbmdGaWVsZE1vZHVsZSxcbiAgICAgICAgQVdDb3JlQ29tcG9uZW50TW9kdWxlXG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgQ3VycmVuY3lDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgQ3VycmVuY3lDb21wb25lbnQsXG4gICAgICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlXG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtDdXJyZW5jeVBpcGVdXG59KVxuZXhwb3J0IGNsYXNzIEFXQ3VycmVuY3lNb2R1bGVcbntcbn1cblxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIEV2ZW50RW1pdHRlcixcbiAgICBmb3J3YXJkUmVmLFxuICAgIEluamVjdCxcbiAgICBJbnB1dCxcbiAgICBPcHRpb25hbCxcbiAgICBPdXRwdXQsXG4gICAgU2tpcFNlbGZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2Rpc3RpbmN0VW50aWxDaGFuZ2VkfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQge0Vudmlyb25tZW50LCBpc0JsYW5rLCBpc0RhdGV9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtOR19WQUxVRV9BQ0NFU1NPUn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtCYXNlRm9ybUNvbXBvbmVudH0gZnJvbSAnLi4vLi4vY29yZS9iYXNlLWZvcm0uY29tcG9uZW50JztcbmltcG9ydCB7Rm9ybVJvd0NvbXBvbmVudH0gZnJvbSAnLi4vLi4vbGF5b3V0cy9mb3JtLXRhYmxlL2Zvcm0tcm93L2Zvcm0tcm93LmNvbXBvbmVudCc7XG5cblxuLyoqXG4gKiBMaWdodHdlaWdodCBhbmQgY29uZmlndXJhYmxlIERhdGUgYW5kIFRpbWUgY29tcG9uZW50IGJhc2VkIG9uIHRoZSBwcmltZW5nLiBUaGlzXG4gKiBjb21wb25lbnQgY29tYmluZXMgYm90aCBkYXRlIHBpY2tlciBhcyB3ZWxsIGFzIHRpbWUgcGlja2VyXG4gKlxuICpcbiAqICAjIyMgRXhhbXBsZVxuICogIGBgYFxuICpcbiAqICBAQ29tcG9uZW50KHtcbiAqICAgIHNlbGVjdG9yOiAnbXlUaW1lcicgLFxuICogICAgdGVtcGxhdGU6IGBcbiAqICAgIDxhdy1kYXRlLXRpbWUgW3ZhbHVlXT1cImRhdGVcIiBbZWRpdGFibGVdPVwiZWRpdGFibGVcIiAgW25hbWVdPVwiJ2R1ZURhdGUnXCI+XG4gKiAgICA8L2F3LWRhdGUtdGltZT5cbiAqXG4gKiAgICBgXG4gKiAgICB9KVxuICogICAgZXhwb3J0IGNsYXNzIE15VGltbWVyQ29tcG9uZXRcbiAqICAgIHtcbiAqXG4gKiAgICAgICAgZGF0ZTogRGF0ZSA9IG5ldyBEYXRlKCk7XG4gKlxuICpcbiAqICAgICAgICBjb25zdHJ1Y3RvciAoKVxuICogICAgICAgIHtcbiAqICAgICAgICAgICAgdGhpcy5kYXRlLnNldEZ1bGxZZWFyKDIwMTYgLCAxMCAsIDMpO1xuICogICAgICAgICAgICB0aGlzLmRhdGUuc2V0SG91cnMoMTAgLCAxMCAsIDEwKTtcbiAqICAgICAgICB9XG4gKiAgICB9XG4gKlxuICogYGBgXG4gKlxuICogQnkgZGVmYXVsdCB5b3Ugd2lsbCBzZWUgZGF0ZSBmaWVsZCBhbmQgdGltZSBmaWVsZCBpcyBoaWRkZW4gdG8gc2hvdyBib3RoIHlvdSBqdXN0IGRvIGZvbGxvd2luZzpcbiAqXG4gKiAgYGBgXG4gKlxuICogIEBDb21wb25lbnQoe1xuICogICAgc2VsZWN0b3I6ICdteVRpbWVyJyAsXG4gKiAgICB0ZW1wbGF0ZTogYFxuICpcbiAqICAgIDxhdy1kYXRlLXRpbWUgW3ZhbHVlXT1cImRhdGVcIiAgW3Nob3dUaW1lXT1cInNob3dUaW1lXCIgW2VkaXRhYmxlXT1cImVkaXRhYmxlXCIgIFtuYW1lXT1cIidiYmRkJ1wiPlxuICogICAgPC9hdy1kYXRlLXRpbWU+XG4gKlxuICogICAgYFxuICogICAgfSlcbiAqICAgIGV4cG9ydCBjbGFzcyBNeVRpbW1lckNvbXBvbmV0XG4gKiAgICB7XG4gKiAgICAgICAgZGF0ZTogRGF0ZSA9IG5ldyBEYXRlKCk7XG4gKiAgICAgICAgc2hvd1RpbWUgPSB0cnVlO1xuICpcbiAqICAgICAgICBjb25zdHJ1Y3RvciAoKVxuICogICAgICAgIHtcbiAqICAgICAgICAgICAgdGhpcy5kYXRlLnNldEZ1bGxZZWFyKDIwMTYgLCAxMCAsIDMpO1xuICogICAgICAgICAgICB0aGlzLmRhdGUuc2V0SG91cnMoMTAgLCAxMCAsIDEwKTtcbiAqICAgICAgICB9XG4gKiAgICB9XG4gKlxuICogYGBgXG4gKlxuICpcbiAqXG4gKi9cblxuXG5leHBvcnQgY29uc3QgREFURVRJTUVfQ09OVFJPTF9WQUxVRV9BQ0NFU1NPUjogYW55ID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IERhdGVBbmRUaW1lQ29tcG9uZW50KSxcbiAgICBtdWx0aTogdHJ1ZVxufTtcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1kYXRlLXRpbWUnLFxuICAgIHRlbXBsYXRlVXJsOiAnZGF0ZS1hbmQtdGltZS5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ2RhdGUtYW5kLXRpbWUuY29tcG9uZW50LnNjc3MnXSxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgREFURVRJTUVfQ09OVFJPTF9WQUxVRV9BQ0NFU1NPUixcbiAgICAgICAge3Byb3ZpZGU6IEJhc2VGb3JtQ29tcG9uZW50LCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBEYXRlQW5kVGltZUNvbXBvbmVudCl9XG4gICAgXVxuXG59KVxuZXhwb3J0IGNsYXNzIERhdGVBbmRUaW1lQ29tcG9uZW50IGV4dGVuZHMgQmFzZUZvcm1Db21wb25lbnQge1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IE5nVGltZTEyOiBzdHJpbmcgPSAnaGg6bW0gYSc7XG4gICAgc3RhdGljIHJlYWRvbmx5IE5nVGltZTI0OiBzdHJpbmcgPSAnSEgubW0gYSc7XG5cblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgdmFsdWUgdXNlZCB0byBzZXQgdGhlIGRhdGUgYW5kIHRpbWUgcGlja2VyXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICB2YWx1ZTogRGF0ZTtcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZGF0ZSBmb3JtYXQgcGF0dGVybiB1c2VkIGlmIG5vbmUgaXMgcGFzc2VkXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGZvcm1hdFBhdHRlcm46IHN0cmluZyA9ICdtbS9kZC95eSc7XG5cblxuICAgIC8qKlxuICAgICAqIFNwZWNpYWwgd29ya2Fyb3VuZCBhcyBmb3JtYXR0ZXJzIGluIHRoZSBwcmltZU5HIGFuZCBhbmd1bGFyIGFyZSBkaWZmZXJlbnQgc28gdW50aWwgaXRzXG4gICAgICogZml4ZWQgd2UgbmVlZCB0byBrZWVwIHRoaXMgZXh0cmEgcGF0dGVybi5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGZvcm1hdFBhdHRlcm5ORzogc3RyaW5nID0gJ01NL2RkL3l5JztcblxuXG4gICAgLyoqXG4gICAgICogU2hvd3MgYW5kIGhpZGVzIG5hdmlnYXRpb24gYmFyIHdpdGggeWVhciBhbmQgbW9udGhzIHNlbGVjdGlvbnNcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dOYXZpZ2F0aW9uOiBib29sZWFuID0gZmFsc2U7XG5cblxuICAgIC8qKlxuICAgICAqIFllYXIgcmFuZ2UgZGlzcGxheWVkIGZvciB0aGUgZHJvcCBkb3duLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgeWVhclJhbmdlOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyBhbmQgaGlkZXMgbmF2aWdhdGlvbiBiYXIgd2l0aCB5ZWFyIGFuZCBtb250aHMgc2VsZWN0aW9uc1xuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2hvd0ljb246IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBzaG93IHRpbWVwaWNrZXJcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dUaW1lOiBib29sZWFuID0gZmFsc2U7XG5cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gc2hvdyBEYXRlUGlja2VyLiBFdmVuIHdlIGNhbiBoaWRlIGl0LiBpdCBzaG91bGQgYmUgZm9yIG1vc3Qgb2YgdGhlIGNhc2UgYWx3YXlzXG4gICAgICogdHJ1ZVxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2hvd0RhdGU6IGJvb2xlYW4gPSB0cnVlO1xuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFRlbGxzIHRoZSBkYXRlIHBpY2tlciB3aGF0IGZvcm1hdCBpdCBzaG91bGQgdXNlIHdoZW4gcHJlc2VudGluZyB0aW1lLiBXaGVuIGhvdXJGb3JtYXQgaXMgMTIsXG4gICAgICogaXQgc2hvd3MgdGhlIEFNLCBQTVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBob3VyRm9ybWF0OiBzdHJpbmcgPSAnMjQnO1xuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgZXZlbnQgd2hlbiBzcGVjaWZpYyBkYXRlIGlzIGNsaWNrZWQgaW5zaWRlIERhdGVQaWNrZXJcbiAgICAgKlxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIG9uQ2hhbmdlOiBFdmVudEVtaXR0ZXI8RGF0ZT4gPSBuZXcgRXZlbnRFbWl0dGVyPERhdGU+KCk7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGRhdGUgdG8gaGlnaGxpZ2h0IG9uIGZpcnN0IG9wZW5pbmcgaWYgdGhlIGZpZWxkIGlzIGJsYW5rLlxuICAgICAqXG4gICAgICovXG4gICAgZGVmYXVsdERhdGU6IERhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgLyoqXG4gICAgICogSW4gY2FzZSBvZiBEYXRldGltZSB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGUgRGF0ZUFuZFRpbWUgZm9ybWF0TmFtZSBpcyBub3QgcHJvcGFnYXRlZFxuICAgICAqIHRvIERhdGUgZmllbGQuXG4gICAgICovXG4gICAgZm9ybWF0TmFtZVdpdGhUaW1lOiBzdHJpbmc7XG5cblxuICAgIGkxOG46IGFueTtcbiAgICB0aW1lUGxhY2VIb2xkZXI6IHN0cmluZyA9ICdoaDpzcyc7XG5cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY6IEVudmlyb25tZW50LFxuICAgICAgICAgICAgICAgIEBTa2lwU2VsZigpIEBPcHRpb25hbCgpIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBGb3JtUm93Q29tcG9uZW50KSlcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgcGFyZW50Q29udGFpbmVyOiBCYXNlRm9ybUNvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihlbnYsIHBhcmVudENvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG5cbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcbiAgICAgICAgc3VwZXIucmVnaXN0ZXJGb3JtQ29udHJvbCh0aGlzLnZhbHVlKTtcblxuICAgICAgICAvLyBkZWZhdWx0IHRvIGRhdGVUaW1lIHBhdHRlcm4gd2hpY2ggaXMgZGVmaW5lZCBpbiByZXNvdXJjZSBmaWxlc1xuICAgICAgICBpZiAodGhpcy5ob3VyRm9ybWF0ICE9PSAnMTInICYmIHRoaXMuaG91ckZvcm1hdCAhPT0gJzI0Jykge1xuICAgICAgICAgICAgdGhpcy5ob3VyRm9ybWF0ID0gJzI0JztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGltZVBsYWNlSG9sZGVyID0gKHRoaXMuaG91ckZvcm1hdCA9PT0gJzEyJykgP1xuICAgICAgICAgICAgYCAke0RhdGVBbmRUaW1lQ29tcG9uZW50Lk5nVGltZTEyfWAgOiBgICR7RGF0ZUFuZFRpbWVDb21wb25lbnQuTmdUaW1lMjR9YDtcblxuICAgICAgICB0aGlzLmZvcm1Db250cm9sLnZhbHVlQ2hhbmdlcy5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpLnN1YnNjcmliZSgodmFsOiBEYXRlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlZCh0aGlzLnZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5pbml0VHJhbnNsYXRpb25zKCk7XG5cbiAgICAgICAgdGhpcy5lbnYub25Mb2NhbGVDaGFuZ2Uuc3Vic2NyaWJlKChsb2NhbGU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbml0VHJhbnNsYXRpb25zKCk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE5lZWQgdG8gcmVmYWN0b3IgdGhpcyBhcyB0aGlzIHJlYWxseSBnZXQgY29tcGxpY2F0ZWQgdHJ5aW5nIHRvIGNvdmVyIHVzZWNhc2Ugd2l0aCB0aW1lXG4gICAgICogYW5kIGRhdGUgYW5kIGV2ZXJ5IGZvcm1hdCB3ZSBoYXZlLiBXZSBzaG91bGQgcHJvYmFibHkgaGF2ZSBzZXBhcmF0ZSBwYXR0ZXJucyBmb3JcbiAgICAgKiBkYXRlcyBvbmx5IGFuZCBkYXRlICsgdGltZVxuICAgICAqL1xuICAgIHByaXZhdGUgaW5pdFRyYW5zbGF0aW9ucygpIHtcblxuICAgICAgICB0aGlzLmZvcm1hdE5hbWVXaXRoVGltZSA9IHRoaXMuZm9ybWF0UGF0dGVybjtcbiAgICAgICAgaWYgKCF0aGlzLnNob3dEYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmZvcm1hdFBhdHRlcm5ORyA9IHRoaXMuZm9ybWF0UGF0dGVybiArPSAodGhpcy5ob3VyRm9ybWF0ID09PSAnMTInKSA/XG4gICAgICAgICAgICAgICAgYCAke0RhdGVBbmRUaW1lQ29tcG9uZW50Lk5nVGltZTEyfWAgOiBgICR7RGF0ZUFuZFRpbWVDb21wb25lbnQuTmdUaW1lMjR9YDtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2hvd1RpbWUpIHtcbiAgICAgICAgICAgIGxldCB0aW1lU3RhcnRzID0gdGhpcy5mb3JtYXRQYXR0ZXJuLmluZGV4T2YoJ2gnKTtcbiAgICAgICAgICAgIGlmICh0aW1lU3RhcnRzICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0TmFtZVdpdGhUaW1lID0gdGhpcy5mb3JtYXRQYXR0ZXJuLnN1YnN0cmluZygwLCB0aW1lU3RhcnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZm9ybWF0UGF0dGVybk5HICs9ICh0aGlzLmhvdXJGb3JtYXQgPT09ICcxMicpID9cbiAgICAgICAgICAgICAgICBgICR7RGF0ZUFuZFRpbWVDb21wb25lbnQuTmdUaW1lMTJ9YCA6IGAgJHtEYXRlQW5kVGltZUNvbXBvbmVudC5OZ1RpbWUyNH1gO1xuICAgICAgICB9XG5cblxuICAgICAgICB0aGlzLmkxOG4gPSB7XG4gICAgICAgICAgICBmaXJzdERheU9mV2VlazogMCxcbiAgICAgICAgICAgIGRheU5hbWVzOiBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JyxcbiAgICAgICAgICAgICAgICAnU2F0dXJkYXknXSxcbiAgICAgICAgICAgIGRheU5hbWVzU2hvcnQ6IFsnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0J10sXG4gICAgICAgICAgICBkYXlOYW1lc01pbjogWydTJywgJ00nLCAnVCcsICdXJywgJ1QnLCAnRicsICdTJ10sXG4gICAgICAgICAgICBtb250aE5hbWVzOiBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLFxuICAgICAgICAgICAgICAgICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddLFxuICAgICAgICAgICAgbW9udGhOYW1lc1Nob3J0OiBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsXG4gICAgICAgICAgICAgICAgJ05vdicsICdEZWMnXVxuICAgICAgICB9O1xuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGRhdGVzIGNoYW5nZXMuIEhlcmUgd2UgdXBkYXRlICB0aGlzLnZhbHVlIC0gPiBkYXRlIGFuZCBhbHNvIHVwZGF0ZSB2YWx1ZSBpbnNpZGVcbiAgICAgKiBmb3JtQ29udHJvbGxlclxuICAgICAqXG4gICAgICovXG4gICAgb25EYXRlQ2hhbmdlKGV2ZW50OiBhbnkpOiB2b2lkIHtcblxuICAgICAgICBpZiAoaXNCbGFuayhldmVudCkpIHtcbiAgICAgICAgICAgIC8vIHRocm93IHNvbWUgZXJyb3IgP1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YWx1ZSA9IGlzRGF0ZShldmVudCkgPyBldmVudCA6IG5ldyBEYXRlKGV2ZW50KTtcblxuICAgICAgICB0aGlzLmZvcm1Db250cm9sLnNldFZhbHVlKHRoaXMudmFsdWUsIHtvbmx5U2VsZjogZmFsc2UsIGVtaXRFdmVudDogdHJ1ZX0pO1xuICAgICAgICB0aGlzLm9uTW9kZWxDaGFuZ2VkKHRoaXMudmFsdWUpO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlLmVtaXQodGhpcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwuIFBsZWFzZSBzZWUgQ29udHJvbFZhbHVlQWNjZXNzb3JcbiAgICAgKlxuICAgICAqL1xuICAgIHdyaXRlVmFsdWUodmFsdWU6IGFueSkge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZm9ybUNvbnRyb2wuc2V0VmFsdWUodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICB9XG59XG4iLCJpbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtDYWxlbmRhck1vZHVsZX0gZnJvbSAncHJpbWVuZy9wcmltZW5nJztcbmltcG9ydCB7RGF0ZUFuZFRpbWVDb21wb25lbnR9IGZyb20gJy4vZGF0ZS1hbmQtdGltZS5jb21wb25lbnQnO1xuaW1wb3J0IHtBV1N0cmluZ0ZpZWxkTW9kdWxlfSBmcm9tICcuLi9zdHJpbmcvc3RyaW5nLm1vZHVsZSc7XG5cbkBOZ01vZHVsZSh7XG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIERhdGVBbmRUaW1lQ29tcG9uZW50XG4gICAgXSxcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGUsXG4gICAgICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gICAgICAgIENhbGVuZGFyTW9kdWxlLFxuICAgICAgICBBV1N0cmluZ0ZpZWxkTW9kdWxlXG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgRGF0ZUFuZFRpbWVDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgRGF0ZUFuZFRpbWVDb21wb25lbnQsXG4gICAgICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlXG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBBV0RhdGVBbmRUaW1lTW9kdWxlXG57XG59XG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbi8qKlxuICogQW4gZGlhbG9nIGhlYWRlciBhcmVhLlxuICpcbiAqIFNlZSB7QGxpbmsgRGlhbG9nQ29tcG9uZW50fSBmb3IgbW9yZSBleHBsYW5hdGlvbi5cbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1kaWFsb2ctaGVhZGVyJyxcbiAgICB0ZW1wbGF0ZTogJzxuZy1jb250ZW50PjwvbmctY29udGVudD4nXG59KVxuZXhwb3J0IGNsYXNzIERpYWxvZ0hlYWRlckNvbXBvbmVudFxue1xufVxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuLyoqXG4gKiBBbiBkaWFsb2cgaGVhZGVyIGFyZWEuXG4gKlxuICogU2VlIHtAbGluayBEaWFsb2dDb21wb25lbnR9IGZvciBtb3JlIGV4cGxhbmF0aW9uLlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LWRpYWxvZy1mb290ZXInLFxuICAgIHRlbXBsYXRlOiAnPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50Pidcbn0pXG5leHBvcnQgY2xhc3MgRGlhbG9nRm9vdGVyQ29tcG9uZW50XG57XG59XG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnQsIENvbnRlbnRDaGlsZCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RW52aXJvbm1lbnQsIGlzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge01vZGFsQ29udGFpbmVyfSBmcm9tICcuLi8uLi9jb3JlL21vZGFsLXNlcnZpY2UvbW9kYWwtY29udGFpbmVyJztcbmltcG9ydCB7RGlhbG9nSGVhZGVyQ29tcG9uZW50fSBmcm9tICcuL2RpYWxvZy1oZWFkZXIuY29tcG9uZW50JztcbmltcG9ydCB7RGlhbG9nRm9vdGVyQ29tcG9uZW50fSBmcm9tICcuL2RpYWxvZy1mb290ZXIuY29tcG9uZW50JztcblxuLyoqXG4gKiBEaWFsb2cgQ29tcG9uZW50IHRoYXQgcHJvdmlkZXMgdGhlIGxvb2sgYW5kIGZlZWwgZm9yIGEgbW9kYWwgZGlhbG9nLiBUaGlzIGNvbXBvbmVudCBoYXMgdGhyZWVcbiAqIHNlY3Rpb25zOiBoZWFkZXIsIGJvZHksIGFuZCBmb290ZXIuIEl0IGNhbiBiZSB1c2VkIGJ5IGl0c2VsZiBvciBleHRlbmRlZC5cbiAqXG4gKiBUaGVyZSBhcmUgdGhyZWUgdHlwZXMgb2YgcG9wdXAuXG4gKiAgIDEuICBhIHJlZ3VsYXIgZGlhbG9nIGJveCB0aGF0IGhhcyBoZWFkZXIsIGJvZHkgYW5kIGZvb3Rlci4gSXQncyB0aGUgbW9zdCBjdXN0b21pemFibGUuXG4gKiAgIDIuICBhIGNvbmZpcm1hdGlvbiBib3ggaXMgc2ltaWxhciB0byBhIGRpYWxvZyBib3ggYnV0IGhhcyBhY2NlcHQgYW5kIHJlamVjdCBhY3Rpb24gYnV0dG9ucy5cbiAqICAgMy4gIGEgb3ZlcmxheSwgd2hpY2ggaXMgYSB2ZXJ5IGJhc2ljIHBvcHVwIHdpdGggd2hhdCB5b3UgcHV0IGluc2lkZS5cbiAqICAgICAgIEl0IGRvZXNuJ3QgaGF2ZSBoZWFkZXIgYW5kIGZvb3Rlci5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIHdheXMgdG8gdXNlIGFueSBwb3B1cCBjb21wb25lbnQuXG4gKiAgIDEuICBFaXRoZXIgZGlyZWN0bHkgYnkgdXNpbmcgY29tcG9uZW50LCBhdy1kaWFsb2csIGF3LWNvbmZpcm1hdGlvbiBvciBhdy1vdmVybGF5XG4gKiAgIDIuICBvciB0aGUgTW9kYWxTZXJ2aWNlICBzZXJ2aWNlLm9wZW4oPERpYWxvZ0NvbXBvbmVudD4pLCBzZXJ2aWNlLmNsb3NlKClcbiAqXG4gKiBVc2FnZTpcbiAqICAgIDEuICBVc2luZyBEaWFsb2cgZGlyZWN0bHkgdG8gZGlzcGxheSBhIG1vZGFsIHBvcHVwLiBUaGlzIHVzYWdlIGlzIGEgcXVpY2sgd2F5IHRvIHNob3cgYVxuICogbWVzc2FnZSB0byB0aGUgdXNlci5cbiAqXG4gKiAgICAgICAgICAgICB0aGlzLm1vZGFsU2VydmljZS5vcGVuPERpYWxvZ0NvbXBvbmVudD4oIERpYWxvZ0NvbXBvbmVudCwge1xuICogICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ015IFBvcHVwIFRpdGxlJyxcbiAqICAgICAgICAgICAgICAgICAgICAgYm9keTogJ015IFBvcHVwIEJvZHknXG4gKiAgICAgICAgICAgICAgfSk7XG4gKlxuICpcbiAqICAgMi4gICBVc2UgdGhlIGNvbXBvbmVudCBpbnNpZGUgeW91ciB0ZW1wbGF0ZS5cbiAqXG4gKiAgICAgICAgICBAQ29tcG9uZW50KHtcbiAqICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnYXctcGFnZScgLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YXctZGlhbG9nIFsodmlzaWJsZSldPVwiZGlzcGxheVwiIFttb2RhbF09XCJ0cnVlXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvbk9wZW4pPVwib3BlbkFjdGlvbigpXCIgKG9uQ2xvc2UpPVwiY2xvc2VBY3Rpb24oKVwiPlxuICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGF3LWRpYWxvZy1oZWFkZXI+RGlhbG9nIEhlYWRlcjwvYXctZGlhbG9nLWhlYWRlcj5cbiAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaWFsb2cgQm9keTogQ3JlYXRpbmcgYSBkaWFsb2cgdXNpbmcgdGhlIGRpYWxvZyBjb21wb25lbnRcbiAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhdy1kaWFsb2ctZm9vdGVyPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhdy1idXR0b24gW3NpemVdPVwiJ3NtYWxsJ1wiIFtzdHlsZV09XCIncHJpbWFyeSdcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImNsb3NlKClcIj5PSzwvYXctYnV0dG9uPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2F3LWRpYWxvZy1mb290ZXI+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYXctZGlhbG9nPlxuICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICA8YXctYnV0dG9uIFtzaXplXT1cIidzbWFsbCdcIiAoY2xpY2spPVwib3BlbigpXCI+T3BlbiBEaWFsb2c8L2F3LWJ1dHRvbj5cbiAqICAgICAgICAgICAgICAgICAgYFxuICogICAgICAgICBleHBvcnQgY2xhc3MgTXlQYWdlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAqXG4gKiAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJvb2xlYW4gPSBmYWxzZTtcbiAqXG4gKiAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ0FjdGlvbjogc3RyaW5nO1xuICpcbiAqICAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBtb2RhbFNlcnZpY2U6IE1vZGFsU2VydmljZSkge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgIHN1cGVyKCk7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgfVxuICogICAgICAgICAgICAgICAgICAgICBuZ09uSW5pdCgpIHsgfVxuICpcbiAqICAgICAgICAgICAgICAgICAgICAgb3BlbigpIHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5ID0gdHJ1ZTtcbiAqICAgICAgICAgICAgICAgICAgICAgfVxuICpcbiAqICAgICAgICAgICAgICAgICAgICAgb3BlbkFjdGlvbigpICB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nQWN0aW9uID0gXCJvcGVuXCI7XG4gKiAgICAgICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICB9XG4gKlxuICpcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1kaWFsb2cnLFxuICAgIHRlbXBsYXRlVXJsOiAnZGlhbG9nLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnZGlhbG9nLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgRGlhbG9nQ29tcG9uZW50IGV4dGVuZHMgTW9kYWxDb250YWluZXJcbntcbiAgICAvKipcbiAgICAgKiBUaXRsZSBmb3IgdGhlIERpYWxvZy4gIGlmIHRpdGxlIGFuZCAnVGl0bGVUZW1wbGF0ZScgYXJlIGJvdGggc2V0LCB0aXRsZVRlbXBsYXRlIHRha2VzXG4gICAgICogcHJlY2VkZW5jZS5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHRpdGxlOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBCb2R5IHNlY3Rpb24gZm9yIERpYWxvZy4gQ2FsbGVyIHNob3VsZCB1c2UgZWl0aGVyIHRoZSBib2R5IHN0cmluZywgb3IgY29udGVudCBwcm9qZWN0aW9uXG4gICAgICogdG8gYWRkIHZhbHVlcyB0byB0aGUgZGlhbG9nLiBJZiBib3RoIGFyZSB1c2VkLCB0aGV5IHdpbGwgYm90aCBzaG93IHVwLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgYm9keTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIHN1cHBvcnQgdHdvIHdheSBkYXRhIGJpbmRpbmcgb24gdmlzaWJsZSBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICB2aXNpYmxlQ2hhbmdlOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIC8qKlxuICAgICAqIHdoZXRoZXIgdGhpcyBkaWFsb2cgYmxvY2tzIHRoZSByZXN0IG9mIHRoZSBwYWdlIG9yIG5vdCB3aGVuIGRpc3BsYXllZC5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG1vZGFsOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlcmUncyBhbiB4IGF0IHRoZSB0b3AgcmlnaHQgdGhhdCBtYWtlcyB0aGUgZGlhbG9nIGNsb3NhYmxlLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgY2xvc2FibGU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogVGFyZ2V0IGVsZW1lbnQgdG8gYXR0YWNoIHRoZSBkaWFsb2cuIFwiYm9keVwiIG9yIGxvY2FsIG5nLXRlbXBsYXRlIHZhcmlhYmxlIGFyZSB2YWxpZC5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGFwcGVuZFRvOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBmaXJlZCB3aGVuIGRpYWxvZyBpcyBjbG9zZWQuXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgb25DbG9zZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBmaXJlZCB3aGVuIHRoZSBkaWFsb2cgaXMgb3BlbmVkLlxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIG9uT3BlbjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBIZWFkZXIgY29tcG9uZW50LiBVc3VhbGx5IGNvbnRhaW5zIHRoZSB0aXRsZS5cbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKERpYWxvZ0hlYWRlckNvbXBvbmVudCkgaGVhZGVyOiBEaWFsb2dIZWFkZXJDb21wb25lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBEaWFsb2cgZm9vdGVyLiBVc3VhbGx5IGNvbnRhaW5zIGJ1dHRvbnNcbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKERpYWxvZ0Zvb3RlckNvbXBvbmVudCkgZm9vdGVyOiBEaWFsb2dGb290ZXJDb21wb25lbnQ7XG5cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY6IEVudmlyb25tZW50KVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52KTtcblxuICAgICAgICB0aGlzLndpZHRoID0gMzAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9ICdhdXRvJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPcGVuIHRoaXMgZGlhbG9nLlxuICAgICAqL1xuICAgIG9wZW4oKVxuICAgIHtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vbk9wZW4uZW1pdCgpO1xuXG4gICAgICAgIC8vIHZpc2libGUgaXMgYSAyLXdheSBiaW5kaW5nIHZhcmlhYmxlLlxuICAgICAgICB0aGlzLnZpc2libGVDaGFuZ2UuZW1pdCh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjbG9zZSB0aGUgZGlhbG9nXG4gICAgICovXG4gICAgY2xvc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25DbG9zZS5lbWl0KCk7XG5cbiAgICAgICAgLy8gSW1wb3J0YW50IHRvIG1ha2Ugc3VyZSBjaGFuZ2UgaXMgc2V0IG9uIHBhcmVudCBiaW5kaW5nLlxuICAgICAgICAvLyBPdGhlcndpc2UsIHRoZSB2YXJpYWJsZSBhbmQgZGlhbG9nIG9wZW4vY2xvc2Ugc3RhdGUgY2FuIGJlIG91dFxuICAgICAgICAvLyBvZiBzeW5jIGFuZCB3ZSB3b3VsZG4ndCB0cmlnZ2VyIGNoYW5nZSBkZXRlY3Rpb24uXG4gICAgICAgIHRoaXMudmlzaWJsZUNoYW5nZS5lbWl0KGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEb2VzIHRoaXMgZGlhbG9nIGhhdmUgaGVhZGVyLlxuICAgICAqXG4gICAgICovXG4gICAgaGFzSGVhZGVyKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBpc1ByZXNlbnQodGhpcy5oZWFkZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERvZXMgdGhpcyBkaWFsb2cgaGF2ZSBmb290ZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBoYXNGb290ZXIoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLmZvb3Rlcik7XG4gICAgfVxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtBV0NvcmVDb21wb25lbnRNb2R1bGV9IGZyb20gJy4uLy4uL2NvcmUvY29yZS5tb2R1bGUnO1xuaW1wb3J0IHtEaWFsb2dDb21wb25lbnR9IGZyb20gJy4vZGlhbG9nLmNvbXBvbmVudCc7XG5pbXBvcnQge0RpYWxvZ0hlYWRlckNvbXBvbmVudH0gZnJvbSAnLi9kaWFsb2ctaGVhZGVyLmNvbXBvbmVudCc7XG5pbXBvcnQge0RpYWxvZ0Zvb3RlckNvbXBvbmVudH0gZnJvbSAnLi9kaWFsb2ctZm9vdGVyLmNvbXBvbmVudCc7XG5pbXBvcnQge01vZGFsQ29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL21vZGFsLXNlcnZpY2UvbW9kYWwvbW9kYWwuY29tcG9uZW50JztcbmltcG9ydCB7RGlhbG9nTW9kdWxlfSBmcm9tICdwcmltZW5nL2RpYWxvZyc7XG5cbkBOZ01vZHVsZSh7XG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIERpYWxvZ0NvbXBvbmVudCxcbiAgICAgICAgRGlhbG9nSGVhZGVyQ29tcG9uZW50LFxuICAgICAgICBEaWFsb2dGb290ZXJDb21wb25lbnRcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBBV0NvcmVDb21wb25lbnRNb2R1bGUsXG4gICAgICAgIERpYWxvZ01vZHVsZVxuICAgIF0sXG4gICAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgICAgIE1vZGFsQ29tcG9uZW50LFxuICAgICAgICBEaWFsb2dDb21wb25lbnQsXG4gICAgICAgIERpYWxvZ0hlYWRlckNvbXBvbmVudCxcbiAgICAgICAgRGlhbG9nRm9vdGVyQ29tcG9uZW50XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIERpYWxvZ0NvbXBvbmVudCxcbiAgICAgICAgRGlhbG9nSGVhZGVyQ29tcG9uZW50LFxuICAgICAgICBEaWFsb2dGb290ZXJDb21wb25lbnQsXG4gICAgICAgIEFXQ29yZUNvbXBvbmVudE1vZHVsZVxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBBV0RpYWxvZ01vZHVsZVxue1xufVxuXG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgZm9yd2FyZFJlZixcbiAgICBJbmplY3QsXG4gICAgSW5wdXQsXG4gICAgT3B0aW9uYWwsXG4gICAgU2tpcFNlbGYsXG4gICAgVmlld0NvbnRhaW5lclJlZlxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gICAgRW52aXJvbm1lbnQsXG4gICAgZXF1YWxzLFxuICAgIEZpZWxkUGF0aCxcbiAgICBpc0FycmF5LFxuICAgIGlzQmxhbmssXG4gICAgaXNGdW5jdGlvbixcbiAgICBpc1ByZXNlbnQsXG4gICAgTGlzdFdyYXBwZXJcbn0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0Nob29zZXJTZWxlY3Rpb25TdGF0ZX0gZnJvbSAnLi4vY2hvb3Nlci9jaG9vc2VyLXNlbGVjdGlvbi1zdGF0ZSc7XG5pbXBvcnQge0Nob29zZXJTdGF0ZX0gZnJvbSAnLi4vY2hvb3Nlci9jaG9vc2VyLXN0YXRlJztcbmltcG9ydCB7QmFzZUZvcm1Db21wb25lbnR9IGZyb20gJy4uLy4uL2NvcmUvYmFzZS1mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQge0Nob29zZXJEYXRhU291cmNlfSBmcm9tICcuLi9jaG9vc2VyL2Nob29zZXItZGF0YS1zb3VyY2UnO1xuaW1wb3J0IHtEQVRBX1NPVVJDRX0gZnJvbSAnLi4vLi4vY29yZS9kYXRhL2RhdGEtc291cmNlJztcbmltcG9ydCB7RGF0YUZpbmRlcnMsIFF1ZXJ5VHlwZX0gZnJvbSAnLi4vLi4vY29yZS9kYXRhL2RhdGEtZmluZGVycyc7XG5pbXBvcnQge0RhdGFQcm92aWRlcnN9IGZyb20gJy4uLy4uL2NvcmUvZGF0YS9kYXRhLXByb3ZpZGVycyc7XG5cblxuLyoqXG4gKiBDb252ZW5pZW50IHdyYXBwZXIgY2xhc3MgYXJvdW5kIGNvbnRyb2xzIHN1Y2ggYXMgcmFkaW9idXR0b25zLCBkcm9wZG93biwgY2hlY2tib3hlcyxcbiAqIENob29zZXIuIFRoZSB0eXBlIG9mIHRoZSBjaG9vc2VyIG1heSBiZSBkZXRlcm1pbmVkIGR5bmFtaWNhbGx5IGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgaXRlbXMgaW5cbiAqIHRoZSBkYXRhIHNvdXJjZSBsaXN0LCBvciBjYW4gYmUgc3BlY2lmaWVkIGV4cGxpY2l0bHkgdmlhIHRoZSBcInR5cGVcIiBiaW5kaW5nLlxuICpcbiAqXG4gKlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LWdlbmVyaWMtY2hvb3NlcicsXG4gICAgdGVtcGxhdGVVcmw6ICdnZW5lcmljLWNob29zZXIuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydnZW5lcmljLWNob29zZXIuY29tcG9uZW50LnNjc3MnXSxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAge3Byb3ZpZGU6IEJhc2VGb3JtQ29tcG9uZW50LCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBHZW5lcmljQ2hvb3NlckNvbXBvbmVudCl9LFxuICAgICAgICB7cHJvdmlkZTogREFUQV9TT1VSQ0UsIHVzZUNsYXNzOiBDaG9vc2VyRGF0YVNvdXJjZSwgZGVwczogW0RhdGFQcm92aWRlcnMsIERhdGFGaW5kZXJzXX1cbiAgICBdXG5cbn0pXG5leHBvcnQgY2xhc3MgR2VuZXJpY0Nob29zZXJDb21wb25lbnQgZXh0ZW5kcyBCYXNlRm9ybUNvbXBvbmVudFxue1xuXG4gICAgLyoqXG4gICAgICogT3JkZXJlZCBsaXN0IG9mIGl0ZW1zIGFzc2lnbmFibGUgdG8gdGhlIGtleSBvZiB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBsaXN0OiBhbnlbXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3QgdGhpcyBjb250cm9sIGlzIGJlaW5nIGFzc2lnbmVkIHRvLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgb2JqZWN0OiBhbnk7XG5cblxuICAgIC8qKlxuICAgICAqIFRoZSBrZXkgZmllbGQgcGF0aCB0aGlzIGNvbnRyb2wgaXMgYmVpbmcgYXNzaWduZWQgdG8uXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBrZXk6IHN0cmluZztcblxuXG4gICAgLyoqXG4gICAgICogQ2FuIGJlIHVzZWQgaW4gcGxhY2Ugb2YgTElTVCBiaW5kaW5nIHRvIHJldHJpZXZlIGEgbGlzdCBiYXNlZCBvbiB0aGUgQ2hvaWNlU291cmNlXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGRlc3RpbmF0aW9uQ2xhc3M6IHN0cmluZztcblxuXG4gICAgLyoqXG4gICAgICogVXNlZCB3aGVuIHJldHJpZXZpbmcgY2hvaWNlU291cmNlIGJ5IGRlc3RpbmF0aW9uIGNsYXNzIGFuZCB0aGlzIGFyZSBleHRyYSBwYXJhbXMgdGhhdCBjYW4gYmVcbiAgICAgKiB1c2VkIHRvIG5hcnJvdyB0aGUgbWF0Y2hpbmcgb3IgdG8gcGFzcyBwYXJhbWV0ZXJzIGludG8gQ2hvaWNlU291cmNlIHByb3ZpZGVyXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBjaG9pY2VQcm92aWRlclBhcmFtczogTWFwPHN0cmluZywgYW55PjtcblxuXG4gICAgLyoqXG4gICAgICogIElzIHRoaXMgYSBMaXN0IHByb3BlcnR5LCBvciBhIHRvLW9uZS5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG11bHRpc2VsZWN0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiAgVGhlIHN0eWxlIG9mIGNob29zZXIgdG8gdXNlIChSYWRpbywgQ2hlY2tib3gsIERyb3Bkb3duLCBDaG9vc2VyKVxuICAgICAqICBEZWZhdWx0cyBiYXNlZCBvbiBjYXJkaW5hbGl0eSBvZiB0aGUgbGlzdCBhbmQgd2hldGhlciBpdCdzIG11bHRpU2VsZWN0LlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgdHlwZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogU3VwcG9ydCBjdXN0b20ga2V5LiBpbiBvcmRlciB0byBtYWtlIHRoaXMgd29yayB3ZSBuZWVkIHRvIGludHJvZHVjZSBjdXN0b20gPHRlbXBsYXRlcz4gZm9yXG4gICAgICogYWxsIHRoaXMgY2hvb3NlciB0eXBlc1xuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgZGlzcGxheUtleTogc3RyaW5nO1xuXG4gICAgLy8gLyoqXG4gICAgLy8gICogIFNob3VsZCB3ZSBhdHRlbXB0IGEgbWF0Y2ggYXMgdGhleSB0eXBlIChhZ2FpbnN0IHRoZSBmdWxsIGxpc3QpXG4gICAgLy8gICovXG4gICAgLy8gQElucHV0KClcbiAgICAvLyBhbGxvd0Z1bGxNYXRjaE9uSW5wdXQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBTdHJpbmcgcmVuZGVyZWQgYXMgZmlyc3QgdmFsdWUgaW4gdGhlIGRyb3Bkb3duIHdoaWNoIGxldCB0aGUgdXNlciB0byBtYWtlICdubyBzZWxlY3Rpb24nXG4gICAgICogZnJvbSBhdmFpbGFibGUgbGlzdCBvZiB2YWx1ZXMuIFdoZW4gdGhpcyBvcHRpb24gaXMgYWN0aXZlIGFuZCB1c2UgbWFrZSB0aGlzIHNlbGVjdGlvbiB3ZVxuICAgICAqIHNhdmUgYSBOVUxMIHZhbHVlXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBub1NlbGVjdGlvblN0cmluZzogc3RyaW5nO1xuXG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmljIENob29zZXIgd29ya3MgZGlyZWN0bHkgd2l0aCBvYmplY3QgYW5kIGl0cyByZWZlcmVuY2VzIGFuZCB3ZSBuZWVkIHRvIGNyZWF0ZSB0aGlzXG4gICAgICoga2V5cGF0aCB0byBiZSBhYmxlIHRvIHNldC9nZXQgdmFsdWUgZnJvbSB0YXJnZXQgb3IgcGFyZW50IG9iamVjdFxuICAgICAqL1xuICAgIGtleVBhdGg6IEZpZWxkUGF0aDtcblxuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQsIHByaXZhdGUgX3ZpZXdDb250YWluZXI6IFZpZXdDb250YWluZXJSZWYsXG4gICAgICAgICAgICAgICAgQEluamVjdChEQVRBX1NPVVJDRSkgcHVibGljIGRhdGFTb3VyY2U6IENob29zZXJEYXRhU291cmNlLFxuICAgICAgICAgICAgICAgIEBTa2lwU2VsZigpIEBPcHRpb25hbCgpIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBCYXNlRm9ybUNvbXBvbmVudCkpXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIHBhcmVudENvbnRhaW5lcjogQmFzZUZvcm1Db21wb25lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYsIHBhcmVudENvbnRhaW5lcik7XG4gICAgfVxuXG5cbiAgICBuZ09uSW5pdCgpXG4gICAge1xuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xuXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMub2JqZWN0KSkge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QgPSAoPGFueT50aGlzLl92aWV3Q29udGFpbmVyLmluamVjdG9yKS52aWV3LmNvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5rZXlQYXRoID0gbmV3IEZpZWxkUGF0aCh0aGlzLmtleSk7XG4gICAgICAgIGxldCBkZWZhdWx0RGF0YVByb3ZpZGVyID0gbnVsbDtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMubGlzdCkpIHtcbiAgICAgICAgICAgIGRlZmF1bHREYXRhUHJvdmlkZXIgPSB0aGlzLmRhdGFTb3VyY2UuZGF0YVByb3ZpZGVycy5maW5kKHRoaXMubGlzdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZhdWx0RGF0YVByb3ZpZGVyID0gdGhpcy5kYXRhU291cmNlLmRhdGFQcm92aWRlcnMuZmluZCh0aGlzLmRlc3RpbmF0aW9uQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHByb2plY3RlZFNpemUgPSBkZWZhdWx0RGF0YVByb3ZpZGVyLmV4cGVjdGVkQ291bnQodGhpcy5jaG9pY2VQcm92aWRlclBhcmFtcyk7XG4gICAgICAgIHRoaXMuaW5pdFR5cGUocHJvamVjdGVkU2l6ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ0Nob29zZXInKSB7XG5cbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZS5pbml0KHtcbiAgICAgICAgICAgICAgICBkYXRhUHJvdmlkZXI6IGRlZmF1bHREYXRhUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgcXVlcnlUeXBlOiBRdWVyeVR5cGUuRnVsbFRleHQsXG4gICAgICAgICAgICAgICAgbG9va3VwS2V5OiB0aGlzLmRpc3BsYXlLZXksXG4gICAgICAgICAgICAgICAgc3RhdGU6IG5ldyBDaG9vc2VyU3RhdGUobmV3IEdDQ2hvb3NlclN0YXRlKHRoaXMpLCB0aGlzLm11bHRpc2VsZWN0KSxcbiAgICAgICAgICAgICAgICBtdWx0aXNlbGVjdDogdGhpcy5tdWx0aXNlbGVjdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIC8vIGRvIHdlIG5lZWQgdG8gcmVhZCB0aGlzIHZhbHVlIGluIGFzeW5jP1xuICAgICAgICAgICAgdGhpcy5saXN0ID0gZGVmYXVsdERhdGFQcm92aWRlci5kYXRhKCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIucmVnaXN0ZXJGb3JtQ29udHJvbCh0aGlzLnNlbGVjdGlvbik7XG4gICAgICAgIHRoaXMudmFsaWRhdGVSZXF1aXJlZCgpO1xuXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgLy8gdGhpcy5ub1NlbGVjdGlvblN0cmluZyA9IHRoaXMuaTE4bi5pbnN0YW50KCdXaWRnZXRzLmdjaG9vc2VyLm5vU2VsU3RyaW5nJyk7XG4gICAgICAgICAgICB0aGlzLm5vU2VsZWN0aW9uU3RyaW5nID0gJ1NlbGVjdCBhIEl0ZW0nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBXaGVuIEBJbnB1dCB0eXBlIGlzIG5vdCBwYXNzZWQgd2UgdHJ5IHRvIGd1ZXNzIGFuZCBzZWxlY3QgdGhlIGJlc3QgdHlwZSBmb3IgY3VycmVudCBkYXRhXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGluaXRUeXBlKHByb2plY3RlZFNpemU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMudHlwZSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm11bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gKHByb2plY3RlZFNpemUgPD0gMCB8fCBwcm9qZWN0ZWRTaXplID4gOCkgPyAnQ2hvb3NlcicgOiAnQ2hlY2tib3gnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSAocHJvamVjdGVkU2l6ZSA8PSAwIHx8IHByb2plY3RlZFNpemUgPiAyMCkgPyAnQ2hvb3NlcidcbiAgICAgICAgICAgICAgICAgICAgOiAocHJvamVjdGVkU2l6ZSA8IDYpID8gJ1JhZGlvJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAnRHJvcGRvd24nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlcmUgYXJlIGNlcnRhaW4gcHJvcGVydGllcyB3aGljaCBhcmUgcmVxdWlyZWQgYnkgdGhpcyBjb21wb25lbnQuIEFzIGFscmVhZHkgbWVudGlvbmVkXG4gICAgICogYWJvdmUgR2VuZXJpY0Nob29zZXIgd29ya3Mgd2l0aCByZWZlcmVuY2VzIGFuZCB0aGVmb3JlIHR3byBrZXkgcHJvcGVydGllcyBhcmUgb2JqZWN0IGFuZCBrZXlcbiAgICAgKiBzbyB3ZSBjYW4gYWNjZXNzIGFuIG9iamVjdFxuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIHZhbGlkYXRlUmVxdWlyZWQoKVxuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5vYmplY3QpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignQ2Fubm90IGNvbnRpbnVlIHdpdGhvdXQgYSBvYmplY3QnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMua2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCBjb250aW51ZSB3aXRob3V0IGEga2V5IGJpbmRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLmxpc3QpICYmIGlzQmxhbmsodGhpcy5kZXN0aW5hdGlvbkNsYXNzKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCBjb250aW51ZSB3aXRob3V0IGhhdmluZyBlaXRoZXIgbGlzdCBvZiB2YWx1ZXMgb3IgZGVzdGluYXRpb25DbGFzcycpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudChcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUpICYmXG4gICAgICAgICAgICAodGhpcy50eXBlICE9PSAnUmFkaW8nICYmIHRoaXMudHlwZSAhPT0gJ0NoZWNrYm94JyAmJiB0aGlzLnR5cGUgIT09ICdEcm9wZG93bicgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgIT09ICdDaG9vc2VyJykpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdDYW5ub3QgaW5zdGFudGlhdGUgR2VuZXJpY0Nob29zZXIgIC0gaW52YWxpZCB0eXBlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLmRpc3BsYXlLZXkpKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlLZXkgPSAndG9TdHJpbmcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBVc2VkIHdoZW4gZGlzcGxheWluZyB2YWx1ZSBib3RoIGZyb20gcHJpbWl0aXZlIHR5cGUgYXMgd2VsbCBjb21wbGV4IG9iamVjdC4gSWYgeW91IHdhbnQgdG9cbiAgICAgKiBjb250cm9sIGhvdyBpdGVtIGlzIGRpc3BsYXllZCB5b3UgY2FuIHByb3ZpZGUgZGlzcGxheSBrZXksIHdoaWNoIGlzIGNhbiBiZSBhICBtZXRob2Qgb3JcbiAgICAgKiBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0IHlvdSBhcmUgZGlzcGxheWluZy5cbiAgICAgKlxuICAgICAqIFRvZG86IHRoaW5rIGFib3V0IGZvcm1hdHRlcnMgYXMgd2VsbFxuICAgICAqXG4gICAgICovXG4gICAgZGlzcGxheVZhbHVlKGl0ZW06IGFueSk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5kaXNwbGF5S2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZpZWxkVmFsdWUgPSBGaWVsZFBhdGguZ2V0RmllbGRWYWx1ZShpdGVtLCB0aGlzLmRpc3BsYXlLZXkpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihmaWVsZFZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkVmFsdWUuY2FsbChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmllbGRWYWx1ZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqICBSZXRyaWV2ZSBhIGN1cnJlbnQgdmFsdWUgZnJvbSB0aGUgcGFyZW50L3RhcmdldCBvYmplY3RcbiAgICAgKlxuICAgICAqL1xuICAgIGdldCBzZWxlY3Rpb24oKTogYW55XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5rZXlQYXRoLmdldEZpZWxkVmFsdWUodGhpcy5vYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBzZXQgdmFsdWUgYmFjayB0byB0aGUgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cbiAgICBzZXQgc2VsZWN0aW9uKHZhbHVlOiBhbnkpXG4gICAge1xuICAgICAgICB0aGlzLmtleVBhdGguc2V0RmllbGRWYWx1ZSh0aGlzLm9iamVjdCwgdmFsdWUpO1xuICAgIH1cblxuXG4gICAgb25TZWxlY3Rpb24odmFsdWU6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy5mb3JtQ29udHJvbC5zZXRWYWx1ZSh0aGlzLnNlbGVjdGlvbik7XG4gICAgICAgIHRoaXMuZm9ybUNvbnRyb2wubWFya0FzRGlydHkoKTtcblxuICAgIH1cbn1cblxuLyoqXG4gKiBHZW5lcmljQ2hvb3NlciBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgQ2hvb3NlclNlbGVjdGlvblN0YXRlIHdoaWNoIGlzIHVzZWQgd2hlbiBUeXBlID0gQ2hvb3Nlci5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBHQ0Nob29zZXJTdGF0ZSBleHRlbmRzIENob29zZXJTZWxlY3Rpb25TdGF0ZVxue1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBnQ2hvb3NlcjogR2VuZXJpY0Nob29zZXJDb21wb25lbnQpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHNldFNlbGVjdGlvblN0YXRlKHNlbGVjdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChzZWxlY3RlZCA9PT0gdGhpcy5pc1NlbGVjdGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmdDaG9vc2VyLm11bHRpc2VsZWN0KSB7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGNhbiBpbXBsZW1lbnQgc21hcnRlciBhbmQgbW9yZSBnZW5lcmljIHdheSBob3cgd2UgdXNlIGl0IGluIGphdmFcbiAgICAgICAgICAgIC8vIFJlbGF0aW9uc2hpcEZpZWxkLmFkZFRvKF9vYmplY3QsIF9rZXlQYXRoLCBzZWxlY3Rpb24pO1xuXG4gICAgICAgICAgICBsZXQgbXVsdGlSZWw6IEFycmF5PGFueT4gPSB0aGlzLmdDaG9vc2VyLmtleVBhdGguZ2V0RmllbGRWYWx1ZSh0aGlzLmdDaG9vc2VyLm9iamVjdCk7XG4gICAgICAgICAgICBpZiAoaXNCbGFuayhtdWx0aVJlbCkpIHtcbiAgICAgICAgICAgICAgICBtdWx0aVJlbCA9IFtdO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzUHJlc2VudChtdWx0aVJlbCkgJiYgIWlzQXJyYXkobXVsdGlSZWwpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJIGNhbiBub3Qgc3RvcmUgbXVsdGlzZWxlY3QgdmFsdWUgaW50byBub24tYXJyYXkgb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIG11bHRpUmVsLnB1c2goc2VsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdDaG9vc2VyLnNlbGVjdGlvbiA9IG11bHRpUmVsO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIExpc3RXcmFwcGVyLnJlbW92ZUlmRXhpc3QobXVsdGlSZWwsIHNlbGVjdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZ0Nob29zZXIuc2VsZWN0aW9uID0gc2VsZWN0aW9uO1xuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxlY3RlZE9iamVjdCgpOiBhbnlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmdDaG9vc2VyLm11bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICBsZXQgb2JqZWN0cyA9IHRoaXMuc2VsZWN0ZWRPYmplY3RzKCk7XG4gICAgICAgICAgICByZXR1cm4gKGlzQmxhbmsob2JqZWN0cykgfHwgTGlzdFdyYXBwZXIuaXNFbXB0eShvYmplY3RzKSkgPyBudWxsIDogTGlzdFdyYXBwZXIubGFzdChcbiAgICAgICAgICAgICAgICBvYmplY3RzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nQ2hvb3Nlci5zZWxlY3Rpb247XG4gICAgfVxuXG4gICAgc2VsZWN0ZWRPYmplY3RzKCk6IEFycmF5PGFueT5cbiAgICB7XG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSB0aGlzLmdDaG9vc2VyLnNlbGVjdGlvbjtcbiAgICAgICAgaWYgKHRoaXMuZ0Nob29zZXIubXVsdGlzZWxlY3QgJiYgaXNCbGFuayhzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICBzZWxlY3Rpb24gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRoaXMuZ0Nob29zZXIubXVsdGlzZWxlY3QgJiYgaXNBcnJheShzZWxlY3Rpb24pKSA/IHNlbGVjdGlvbiA6IFtzZWxlY3Rpb25dO1xuICAgIH1cblxuICAgIGlzU2VsZWN0ZWQoc2VsZWN0aW9uOiBhbnkpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodGhpcy5nQ2hvb3Nlci5tdWx0aXNlbGVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIExpc3RXcmFwcGVyLmNvbnRhaW5zQ29tcGxleCh0aGlzLnNlbGVjdGVkT2JqZWN0cygpLCBzZWxlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdXJWYWx1ZSA9IHRoaXMuc2VsZWN0ZWRPYmplY3QoKTtcbiAgICAgICAgcmV0dXJuIGVxdWFscyhjdXJWYWx1ZSwgc2VsZWN0aW9uKTtcbiAgICB9XG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5pbXBvcnQge1xuICAgIEFmdGVyQ29udGVudEluaXQsXG4gICAgQ29tcG9uZW50LFxuICAgIEV2ZW50RW1pdHRlcixcbiAgICBmb3J3YXJkUmVmLFxuICAgIEluamVjdCxcbiAgICBJbnB1dCxcbiAgICBPcHRpb25hbCxcbiAgICBPdXRwdXQsXG4gICAgU2tpcFNlbGZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge05HX1ZBTFVFX0FDQ0VTU09SfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0Vudmlyb25tZW50LCBpc1ByZXNlbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtCYXNlRm9ybUNvbXBvbmVudH0gZnJvbSAnLi4vLi4vY29yZS9iYXNlLWZvcm0uY29tcG9uZW50JztcbmltcG9ydCB7Rm9ybVJvd0NvbXBvbmVudH0gZnJvbSAnLi4vLi4vbGF5b3V0cy9mb3JtLXRhYmxlL2Zvcm0tcm93L2Zvcm0tcm93LmNvbXBvbmVudCc7XG5cblxuLyoqXG4gKiBXcmFwcGVyIGNsYXNzIGZvciBSYWRpb0J1dHRvbiBjb21wb25lbnQgcHJvdmlkaW5nIGNvbnZlbmllbnQgd2F5IHRvIHRvIHJlbmRlciBSYWRpb0J1dHRvbiBHcm91cHNcbiAqXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKlxuICogYGBgXG4gKiAgICAgIEBDb21wb25lbnQoe1xuICogICAgICAgICAgc2VsZWN0b3I6ICdnZW5kZXItc2VsZWN0b3InICxcbiAqICAgICAgICAgIHRlbXBsYXRlOiBgXG4gKiAgICAgICAgICAgICAgPGF3LXJhZGlvYnV0dG9uLWxpc3QgW2xpc3RdPVwicmJMaXN0VmFsdWVzXCIgW2xheW91dF09XCJsYXlvdXRcIlxuICogICAgIFtzZWxlY3Rpb25dPVwic2VsZWN0ZWRWYWx1ZVwiIFtuYW1lXT1cIiduYW1lJ1wiPlxuICogICAgICAgICAgICAgICA8L2F3LXJhZGlvYnV0dG9uLWxpc3Q+XG4gKiAgICAgIGBcbiAqICAgICAgfSlcbiAqICAgICAgZXhwb3J0IGNsYXNzIEdlbmRlclNlbGVjdG9yQ29tcG9uZW50XG4gKiAgICAgIHtcbiAqICAgICAgICAgIHJiTGlzdFZhbHVlczogc3RyaW5nW10gPSBbJ21hbGUnICwgJ2ZlbWFsZScgLCAnb3RoZXInXTtcbiAqICAgICAgICAgIHNlbGVjdGVkVmFsdWU6IHN0cmluZyA9ICdvdGhlcic7XG4gKiAgICAgICAgICBsYXlvdXQ6IHN0cmluZyA9ICdzdGFja2VkJztcbiAqXG4gKlxuICogICAgICAgICAgZm9ybUdyb3VwOiBGb3JtR3JvdXAgPSBuZXcgRm9ybUdyb3VwKHt9KTtcbiAqXG4gKlxuICogICAgICAgICAgb25DQkNsaWNrIChldmVudCk6IHZvaWRcbiAqICAgICAgICAgIHtcbiAqICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb25DQkNsaWNrID0gJyArIGV2ZW50KTtcbiAqICAgICAgICAgIH1cbiAqXG4gKiAgICAgIH1cbiAqXG4gKiBgYGBcbiAqL1xuXG5cbmV4cG9ydCBjb25zdCBSQl9MSVNUX0NPTlRST0xfVkFMVUVfQUNDRVNTT1I6IGFueSA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBSYWRpb0J1dHRvbkxpc3RDb21wb25lbnQpLFxuICAgIG11bHRpOiB0cnVlXG59O1xuXG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctcmFkaW9idXR0b24tbGlzdCcsXG4gICAgdGVtcGxhdGVVcmw6ICdyYWRpby1idXR0b24tbGlzdC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ3JhZGlvLWJ1dHRvbi1saXN0LmNvbXBvbmVudC5zY3NzJ10sXG4gICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIFJCX0xJU1RfQ09OVFJPTF9WQUxVRV9BQ0NFU1NPUixcbiAgICAgICAge3Byb3ZpZGU6IEJhc2VGb3JtQ29tcG9uZW50LCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBSYWRpb0J1dHRvbkxpc3RDb21wb25lbnQpfVxuICAgIF1cblxufSlcbmV4cG9ydCBjbGFzcyBSYWRpb0J1dHRvbkxpc3RDb21wb25lbnQgZXh0ZW5kcyBCYXNlRm9ybUNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyQ29udGVudEluaXRcbntcblxuICAgIC8qKlxuICAgICAqIExJc3Qgb2YgdmFsdWVzIHVzZWQgdG8gcmVuZGVyIHRoZSByYWRpbyBidXR0b24gZ3JvdXBcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGxpc3Q6IGFueVtdO1xuXG5cbiAgICAvKipcbiAgICAgKiBJZGVudGlmaWVzIHdoaWNoIHJhZGlvIGJ1dHRvbnMgaXMgc2VsZWN0ZWQgd2hlbiByZW5kZXJlZFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2VsZWN0aW9uOiBhbnk7XG5cblxuICAgIC8qKlxuICAgICAqIHNwZWNpYWwgZXhwcmVzc2lvbiB0byBmb3JtYXQgbGFiZWxcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGxhYmVsRm9ybWF0dGVyOiAodmFsdWU6IGFueSkgPT4gc3RyaW5nO1xuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEZpcmVzIGFuIGV2ZW50IHdoZW4gcmFkaW8gYnV0dG9uIGlzIHNlbGVjdGVkXG4gICAgICpcbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBvblNlbGVjdGlvbjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuXG4gICAgLyoqXG4gICAgICogaW50ZXJuYWwgbW9kZWwgdG8gbGlzdGVuIGZvciByYWRpbyB2YWx1ZSBjaGFuZ2VzXG4gICAgICpcbiAgICAgKi9cbiAgICBtb2RlbDogYW55O1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgQFNraXBTZWxmKCkgQE9wdGlvbmFsKCkgQEluamVjdChmb3J3YXJkUmVmKCgpID0+IEZvcm1Sb3dDb21wb25lbnQpKVxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBwYXJlbnRDb250YWluZXI6IEJhc2VGb3JtQ29tcG9uZW50KVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52LCBwYXJlbnRDb250YWluZXIpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KClcbiAgICB7XG4gICAgICAgIHN1cGVyLm5nT25Jbml0KCk7XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLnNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVNb2RlbCh0aGlzLnNlbGVjdGlvbik7XG4gICAgICAgIHRoaXMub25Nb2RlbENoYW5nZWQodGhpcy5zZWxlY3Rpb24pO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRm9ybUNvbnRyb2wodGhpcy5zZWxlY3Rpb24pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTGFiZWwgaXMgZXh0cmFjdGVkIGludG8gYSBtZXRob2Qgc28gaW4gdGhlIGZ1dHVyZSB3ZSBjYW4gcGxheSBob3cgd2Ugd2FudCB0byBkaXNwbGF5IHRoZVxuICAgICAqIHZhbHVlLiBTaW5jZSBJIHdhbnQgdG8gc3VwcG9ydCBmb3JtYXR0ZXJzIGZvciBlYWNoIGNvbXBvbmVudHMgd2UgbWlnaHQgaGF2ZSBhIGNoYW5jZSB0b1xuICAgICAqIGRlY2lkZSBob3cgdGhlIGxhYmVsIHdpbGwgbG9vayBsaWtlLlxuICAgICAqXG4gICAgICovXG4gICAgbGFiZWxWYWx1ZShpdGVtOiBhbnkpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5sYWJlbEZvcm1hdHRlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxhYmVsRm9ybWF0dGVyKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtLnRvU3RyaW5nKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBJbiB0aGlzIHZlcnNpb24gb2YgY2hlY2tib3hlcyB3ZSBzdGlsbCBleHBlY3Qgb25seSBwcmltaXRpdmUgdHlwZXMuIEtlZXAgdGhpcyBmdW5jdGlvbmFsaXR5XG4gICAgICogaW4gZXh0cmEgbWV0aG9kIHNvIHdlIGNhbiB3b3JrIHdpdGggaXQgZXZlbiBub3cgd2UganVzdCByZXR1cm4gdGhlIHNhbWUgdmFsdWUgYmFja1xuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICB2YWx1ZShpdGVtOiBhbnkpOiBhbnlcbiAgICB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBPbiBOR01vZGVsIGNoYW5nZSByZXRyaWV2ZSBhY3R1YWwgcmVjb3JkIGJhc2VkIG9uIHRoZSBJTkRFWCBhbmQgcHJvcGFnYXRlIGl0IHRvIGJvdGhcbiAgICAgKiBuZ01vZGVsIGFzIHdlbGwgYXMgRm9ybUdyb3VwLlxuICAgICAqXG4gICAgICovXG4gICAgb25DaGFuZ2UoZXZlbnQ6IGFueSlcbiAgICB7XG4gICAgICAgIGxldCB1cGRhdGVkTW9kZWw6IGFueSA9IHRoaXMubGlzdFt0aGlzLm1vZGVsXTtcblxuICAgICAgICB0aGlzLm9uU2VsZWN0aW9uLmVtaXQodXBkYXRlZE1vZGVsKTtcbiAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlZCh1cGRhdGVkTW9kZWwpO1xuICAgICAgICB0aGlzLmZvcm1Db250cm9sLnNldFZhbHVlKHVwZGF0ZWRNb2RlbCwge1xuICAgICAgICAgICAgZW1pdEV2ZW50OiB0cnVlLFxuICAgICAgICAgICAgZW1pdFZpZXdUb01vZGVsQ2hhbmdlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNpbmNlIHdlIG1pZ2h0IGJlIGRlYWxpbmcgd2l0aCBjb21wbGV4IG9iamVjdCBzdG9yZSBvbmx5IElOREVYIG51bWJlciBpbiB0aGUgbW9kZWwuXG4gICAgICpcbiAgICAgKi9cbiAgICB1cGRhdGVNb2RlbChzb3VjZUl0ZW06IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMubGlzdC5maW5kSW5kZXgoKGVsZW06IGFueSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHNvdWNlSXRlbSA9PT0gZWxlbTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubW9kZWwgPSBpbmRleCA9PT0gLTEgPyAwIDogaW5kZXg7XG4gICAgfVxuXG4gICAgbmdBZnRlckNvbnRlbnRJbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCB1cGRhdGVkTW9kZWw6IGFueSA9IHRoaXMubGlzdFt0aGlzLm1vZGVsXTtcbiAgICAgICAgdGhpcy5mb3JtQ29udHJvbC5zZXRWYWx1ZSh1cGRhdGVkTW9kZWwsIHtcbiAgICAgICAgICAgIGVtaXRFdmVudDogdHJ1ZSxcbiAgICAgICAgICAgIGVtaXRWaWV3VG9Nb2RlbENoYW5nZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwuIFBsZWFzZSBzZWUgQ29udHJvbFZhbHVlQWNjZXNzb3JcbiAgICAgKlxuICAgICAqL1xuICAgIHdyaXRlVmFsdWUodmFsdWU6IGFueSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgbGV0IG5ld01vZGVsID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1vZGVsKG5ld01vZGVsKTtcbiAgICAgICAgfVxuXG4gICAgfVxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgRXZlbnRFbWl0dGVyLFxuICAgIGZvcndhcmRSZWYsXG4gICAgSW5qZWN0LFxuICAgIElucHV0LFxuICAgIE9wdGlvbmFsLFxuICAgIE91dHB1dCxcbiAgICBTa2lwU2VsZlxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Rm9ybUNvbnRyb2wsIE5HX1ZBTFVFX0FDQ0VTU09SfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0Vudmlyb25tZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7QmFzZUZvcm1Db21wb25lbnR9IGZyb20gJy4uLy4uL2NvcmUvYmFzZS1mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQge0Zvcm1Sb3dDb21wb25lbnR9IGZyb20gJy4uLy4uL2xheW91dHMvZm9ybS10YWJsZS9mb3JtLXJvdy9mb3JtLXJvdy5jb21wb25lbnQnO1xuXG5cbi8qKlxuICpcbiAqIEltcGxlbWVudHMgc3RhbmRhcmQgSFRNTCByYWRpbyBidXR0b24gb24gdG9wIG9mIFByaW1lTkcgd2l0aCBhcmliYSBzdHlsaW5nXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiAxLiBCYXNpYyB1c2FnZSB1c2luZyBuZ01vZGVsIHByZS1zZWxlY3RlZCBmaXJzdCByYWRpb1xuICpcbiAqICBgYGB0c1xuICpcbiAqICAgICAgQENvbXBvbmVudCh7XG4gKiAgICAgICAgICBzZWxlY3RvcjogJ2RlbW8tY29tcCcsXG4gKiAgICAgICAgICB0ZW1wbGF0ZTogYFxuICogICAgICAgICAgICAgIDxhdy1yYWRpb2J1dHRvbiBbbmFtZV09XCInY29sb3InXCIgW3ZhbHVlXT1cIidyZWQnXCIgW2xhYmVsXT1cIidSZWQnXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbKG5nTW9kZWwpXT1cIm1vZGVsXCI+XG4gKiAgICAgICAgICAgICA8L2F3LXJhZGlvYnV0dG9uPlxuICogICAgICAgICAgICAgIDxhdy1yYWRpb2J1dHRvbiBbbmFtZV09XCInY29sb3InXCIgW3ZhbHVlXT1cIidibHVlJ1wiIFtsYWJlbF09XCInQmx1ZSdcIlxuICogICAgICAgICAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJtb2RlbFwiPlxuICogICAgICAgICAgICAgIDwvYXctcmFkaW9idXR0b24+XG4gKiAgICAgIGBcbiAqICAgICAgfSkqXG4gKiAgICAgIGNsYXNzIEJhc2ljV2l0aE5nTW9kZWxDb21wb25lbnRcbiAqICAgICAge1xuICogICAgICAgICAgbW9kZWw6IHN0cmluZ1tdID0gWydyZWQnXTtcbiAqXG4gKiAgICAgICAgICBjb25zdHJ1Y3RvcigpXG4gKiAgICAgICAgICB7XG4gKiAgICAgICAgICB9XG4gKiAgICAgIH1cbiAqXG4gKiAgYGBgXG4gKlxuICpcbiAqIDIuIEJhc2ljIHVzYWdlIHdpdGggZm9ybUdyb3VwXG4gKlxuICpcbiAqIGBgYHRzXG4gKiAgICAgICBAQ29tcG9uZW50KHtcbiAqICAgICAgICAgICBzZWxlY3RvcjogJ2RlbW8tY29tcCcsXG4gKiAgICAgICAgICAgdGVtcGxhdGU6IGBcbiAqICAgICAgICAgIDxkaXYgW2Zvcm1Hcm91cF09XCJlbnYuY3VycmVudEZvcm1cIj5cbiAqICAgICAgICAgICAgICAgPGF3LXJhZGlvYnV0dG9uIFtuYW1lXT1cIidjb2xvcjInXCIgW3ZhbHVlXT1cIidyZWQnXCIgW2xhYmVsXT1cIidSZWQnXCJcbiAqICAgICAgICAgICAgICAgKG9uQ2hhbmdlKT1cIm9uQ2hhbmdlKCRldmVudClcIj5cbiAqICAgICAgICAgICAgICAgPC9hdy1yYWRpb2J1dHRvbj5cbiAqICAgICAgICAgICAgICAgPGF3LXJhZGlvYnV0dG9uIFtuYW1lXT1cIidjb2xvcjInXCIgW3ZhbHVlXT1cIidibHVlJ1wiIFtsYWJlbF09XCInQmx1ZSdcIlxuICogICAgICAgICAgICAgICAob25DaGFuZ2UpPVwib25DaGFuZ2UoJGV2ZW50KVwiPlxuICogICAgICAgICAgICAgICA8L2F3LXJhZGlvYnV0dG9uPlxuICpcbiAqICAgICAgIDwvZGl2PlxuICogICAgICAgYFxuICogICAgICAgfSlcbiAqICAgICAgIGNsYXNzIEJhc2ljV2l0aEZvcm1Hcm91cENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdFxuICogICAgICAge1xuICogICAgICAgICAgIG1vZGVsOiBzdHJpbmcgPSAnYmx1ZSc7XG4gKlxuICogICAgICAgICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY6IEVudmlyb25tZW50KVxuICogICAgICAgICAgIHtcbiAqICAgICAgICAgICB9XG4gKlxuICogICAgICAgICAgIG5nT25Jbml0KCk6IHZvaWRcbiAqICAgICAgICAgICB7XG4gKiAgICAgICAgICAgICAgIHRoaXMuZW52LmN1cnJlbnRGb3JtID0gbmV3IEZvcm1Hcm91cCh7fSk7XG4gKiAgICAgICAgICAgICAgIHRoaXMuZW52LmN1cnJlbnRGb3JtLnJlZ2lzdGVyQ29udHJvbCgnY29sb3IyJywgbmV3IEZvcm1Db250cm9sKHRoaXMubW9kZWwpKTtcbiAqICAgICAgICAgICB9XG4gKlxuICpcbiAqICAgICAgICAgICBvbkNoYW5nZShldmVudDogYW55KTogdm9pZFxuICogICAgICAgICAgIHtcbiAqICAgICAgICAgICAgICAgdGhpcy5tb2RlbFNldCA9IGV2ZW50O1xuICogICAgICAgICAgIH1cbiAqXG4gKiAgICAgICB9XG4gKiAgYGBgYFxuICpcbiAqXG4gKlxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IFJBQl9DT05UUk9MX1ZBTFVFX0FDQ0VTU09SOiBhbnkgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gUmFkaW9CdXR0b25Db21wb25lbnQpLFxuICAgIG11bHRpOiB0cnVlXG59O1xuXG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctcmFkaW9idXR0b24nLFxuICAgIHRlbXBsYXRlVXJsOiAncmFkaW8tYnV0dG9uLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsncmFkaW8tYnV0dG9uLmNvbXBvbmVudC5zY3NzJ10sXG5cbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgUkFCX0NPTlRST0xfVkFMVUVfQUNDRVNTT1IsXG4gICAgICAgIHtwcm92aWRlOiBCYXNlRm9ybUNvbXBvbmVudCwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gUmFkaW9CdXR0b25Db21wb25lbnQpfVxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgUmFkaW9CdXR0b25Db21wb25lbnQgZXh0ZW5kcyBCYXNlRm9ybUNvbXBvbmVudFxue1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBBIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHJhZGlvXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHZhbHVlOiBhbnkgPSAnJztcblxuXG4gICAgLyoqXG4gICAgICogTGFiZWwgdG8gYmUgdXNlZCB3aGVuIHJlbmRlcmluZyBhIHJhZGlvXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBsYWJlbDogc3RyaW5nO1xuXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIGNsaWNrIGV2ZW50IHdpdGggY3VycnJlbnQgc2VsZWN0ZWQgdmFsdWVcbiAgICAgKlxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIG9uQ2hhbmdlOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbW9kZWwgdG8gY29tdW5pY2F0ZSB3aXRoIHByaW1lTmcgUmFkaW9cbiAgICAgKi9cbiAgICBtb2RlbDogYW55O1xuXG5cbiAgICBjb25zdHJ1Y3RvciAocHVibGljIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgIEBTa2lwU2VsZigpIEBPcHRpb25hbCgpIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBGb3JtUm93Q29tcG9uZW50KSlcbiAgICAgICAgICAgICAgICAgcHJvdGVjdGVkIHBhcmVudENvbnRhaW5lcjogQmFzZUZvcm1Db21wb25lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYsIHBhcmVudENvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgbmdPbkluaXQgKClcbiAgICB7XG4gICAgICAgIHN1cGVyLm5nT25Jbml0KCk7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhbmRhbG9uZSkge1xuICAgICAgICAgICAgc3VwZXIucmVnaXN0ZXJGb3JtQ29udHJvbCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMubW9kZWwgPSB0aGlzLmZvcm1Db250cm9sLnZhbHVlO1xuICAgICAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlZCh0aGlzLm1vZGVsKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mb3JtQ29udHJvbCA9IDxGb3JtQ29udHJvbD4gdGhpcy5mb3JtR3JvdXAuY29udHJvbHNbdGhpcy5uYW1lXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHJhZGlvIGlzIGNsaWNrZWQuIE5vdCB1c2luZyBQcmltZU5HIGNsaWNrIGV2ZW50IGFzIGl0IGlzIGZpcmVkIGJlZm9yZVxuICAgICAqIHRoZSBtb2RlbCBpcyBjaGFuZ2VkLiBUaGVyZWZvcmUgbmVlZCB0byBsaXN0ZW4gb24gKG5nTW9kZWxDaGFuZ2UpXG4gICAgICpcbiAgICAgKi9cbiAgICBvbk1vZGVsQ2hhbmdlIChuZXdWYWw6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMub25Nb2RlbENoYW5nZWQodGhpcy5tb2RlbCk7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhbmRhbG9uZSkge1xuICAgICAgICAgICAgdGhpcy5mb3JtQ29udHJvbC5zZXRWYWx1ZSh0aGlzLm1vZGVsLCB7ZW1pdEV2ZW50OiB0cnVlfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbkNoYW5nZS5lbWl0KHRoaXMubW9kZWwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludGVybmFsLiBQbGVhc2Ugc2VlIENvbnRyb2xWYWx1ZUFjY2Vzc29yXG4gICAgICpcbiAgICAgKi9cbiAgICB3cml0ZVZhbHVlICh2YWx1ZTogYW55KVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLm1vZGVsKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1N0YW5kYWxvbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm1Db250cm9sLnNldFZhbHVlKHRoaXMubW9kZWwsIHtlbWl0RXZlbnQ6IHRydWV9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlZCh0aGlzLm1vZGVsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtSYWRpb0J1dHRvbkNvbXBvbmVudH0gZnJvbSAnLi9yYWRpby1idXR0b24uY29tcG9uZW50JztcbmltcG9ydCB7UmFkaW9CdXR0b25Nb2R1bGV9IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XG5cblxuQE5nTW9kdWxlKHtcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgUmFkaW9CdXR0b25Db21wb25lbnRcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZSxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgUmFkaW9CdXR0b25Nb2R1bGVcbiAgICBdLFxuICAgIGVudHJ5Q29tcG9uZW50czogW1xuICAgICAgICBSYWRpb0J1dHRvbkNvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBSYWRpb0J1dHRvbkNvbXBvbmVudCxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGVcbiAgICBdLFxuICAgIHByb3ZpZGVyczogW11cbn0pXG5leHBvcnQgY2xhc3MgQVdSYWRpb0J1dHRvbk1vZHVsZVxue1xufVxuXG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtOZ01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0NvbW1vbk1vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7Rm9ybXNNb2R1bGUsIFJlYWN0aXZlRm9ybXNNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7UmFkaW9CdXR0b25MaXN0Q29tcG9uZW50fSBmcm9tICcuL3JhZGlvLWJ1dHRvbi1saXN0LmNvbXBvbmVudCc7XG5pbXBvcnQge0FXUmFkaW9CdXR0b25Nb2R1bGV9IGZyb20gJy4uL3JhZGlvLWJ1dHRvbi9yYWRpby1idXR0b24ubW9kdWxlJztcblxuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBSYWRpb0J1dHRvbkxpc3RDb21wb25lbnRcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZSxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgQVdSYWRpb0J1dHRvbk1vZHVsZVxuICAgIF0sXG4gICAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgICAgIFJhZGlvQnV0dG9uTGlzdENvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBSYWRpb0J1dHRvbkxpc3RDb21wb25lbnQsXG4gICAgICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlXG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEFXUmFkaW9CdXR0b25MaXN0TW9kdWxlXG57XG59XG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtBV0NvcmVDb21wb25lbnRNb2R1bGV9IGZyb20gJy4uLy4uL2NvcmUvY29yZS5tb2R1bGUnO1xuaW1wb3J0IHtHZW5lcmljQ2hvb3NlckNvbXBvbmVudH0gZnJvbSAnLi9nZW5lcmljLWNob29zZXIuY29tcG9uZW50JztcbmltcG9ydCB7QVdDaGVja0JveExpc3RNb2R1bGV9IGZyb20gJy4uL2NoZWNrLWJveC1saXN0L2NoZWNrLWJveC1saXN0Lm1vZHVsZSc7XG5pbXBvcnQge0FXQ2hvb3Nlck1vZHVsZX0gZnJvbSAnLi4vY2hvb3Nlci9jaG9vc2VyLm1vZHVsZSc7XG5pbXBvcnQge0FXUmFkaW9CdXR0b25MaXN0TW9kdWxlfSBmcm9tICcuLi9yYWRpby1idXR0b24tbGlzdC9yYWRpby1idXR0b24tbGlzdC5tb2R1bGUnO1xuaW1wb3J0IHtBV0Ryb3Bkb3duTW9kdWxlfSBmcm9tICcuLi9kcm9wZG93bi9kcm9wZG93bi5tb2R1bGUnO1xuXG5cbkBOZ01vZHVsZSh7XG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIEdlbmVyaWNDaG9vc2VyQ29tcG9uZW50XG4gICAgXSxcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGUsXG4gICAgICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gICAgICAgIEFXQ29yZUNvbXBvbmVudE1vZHVsZSxcbiAgICAgICAgQVdEcm9wZG93bk1vZHVsZSxcbiAgICAgICAgQVdDaGVja0JveExpc3RNb2R1bGUsXG4gICAgICAgIEFXQ2hvb3Nlck1vZHVsZSxcbiAgICAgICAgQVdSYWRpb0J1dHRvbkxpc3RNb2R1bGVcbiAgICBdLFxuICAgIGVudHJ5Q29tcG9uZW50czogW1xuICAgICAgICBHZW5lcmljQ2hvb3NlckNvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZSxcbiAgICAgICAgR2VuZXJpY0Nob29zZXJDb21wb25lbnRcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIEFXR2VuZXJpY0Nob29zZXJNb2R1bGVcbntcbn1cblxuXG4iLCJpbXBvcnQge0VudGl0eSwgaXNCbGFuaywgaXNFbnRpdHksIGlzUHJlc2VudCwgTGlzdFdyYXBwZXJ9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7T3V0bGluZUZvckNvbXBvbmVudCwgT3V0bGluZU5vZGV9IGZyb20gJy4vb3V0bGluZS1mb3IuY29tcG9uZW50JztcblxuLyoqXG4gKiBPdXRsaW5lU3RhdGUgaXMgdGhlIGtleSBnbHVpbmcgcGFydCBmb3IgdGhlIE91dGxpbmVGb3IgYW5kIE91dGxpbmVDb250cm9sbGVyIGNvbXBvbmVudHMuIEl0XG4gKiBob2xkcyBhbGwgaW1wb3J0YW50IGluZm9ybWF0aW9uIGZvciB0aGUgY3VycmVudCBvdXRsaW5lIHRyZWUgYW5kIG1hbmFnZXMgZXhwYW5zaW9uIHN0YXRlcyBpbiBmb3JtXG4gKiBvZiBzbyBjYWxsZWQgZXhwYW5zaW9uUGF0aCBhbmQgZXhwYW5zaW9uU3RhdGVzXG4gKlxuICogV2UgbmVlZCB0byBoYXZlIGEgd2F5IGhvdyB0byB3b3JrIHdpdGggZ2VuZXJpYyBkYXRhIHN0cnVjdHVyZSBpbiBvcmRlciBub3QgdG8gaG9sZCBVSSBzcGVjaWZpY1xuICogaW5mb3JtYXRpb24gb24gdGhlIGRvbWFpbiBvYmplY3QgbW9kZWwganVzdCBsaWtlIHdlIGhhZCBpdCBiZWZvcmUsIHdoZXJlIHdlIGhhZCBhbiBpbnRlcmZhY2VcbiAqIGNhbGxlZCBPdXRsaW5lTm9kZSwgd2l0aCBmaWVsZHMgKGV4cGFuZGVkLCBzZWxlY3RlZCwgZXRjLi4gKVxuICpcbiAqXG4gKiBgZXhwYW5zaW9uUGF0aGA6IEhvbGRzIGFuIGFycmF5IG9mIGN1cnJlbnRseSBzZWxlY3RlZCBhbmQgZXhwYW5kZWQgbm9kZXMuIFRoaXMgaXMgZmlsbGVkIGJ5XG4gKiBPdXRsaW5lQ29udHJvbGxlci5cbiAqXG4gKlxuICogSWYgd2UgYXJlIGRlYWxpbmcgd2l0aCBFbnRpdHkgb3IgYW55dGhpbmcgdGhhdCBoYXMgaWRlbnRpdHkgdGhlbiB3ZSBoYXZlIGVhc2llciBzaXR1YXRpb24gYXMgd2VcbiAqIGNhbiBhc2sgZm9yIElEIGFuZCBpdCBpcyBtb3JlIGVmZmljaWVudCBmb3Igc2VyaWFsaXphdGlvblxuICovXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgT3V0bGluZVN0YXRlXG57XG4gICAgLyoqXG4gICAgICogQXJyYXkgb2YgY3VycmVudGx5IHNlbGVjdGVkIGFuZCBleHBhbmRlZCBub2Rlc1xuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBfZXhwYW5zaW9uUGF0aDogYW55W107XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGBhbGxvd1NlbGVjdGlvbmAgaXMgZW5hYmxlZCBvbiBPdXRsaW5lQ29udHJvbCBpdCBzYXZlZCBjdXJyZW50bHkgc2VsZWN0ZWQgaXRlbSB0byBiZVxuICAgICAqIGFibGUgbGF0ZXIgb24gYXBwbHkgc29tZSBzdHlsaW5nIGFuZCBicm9hZGNhc3QgdGhpcyBzZWxlY3Rpb24gb3V0c2lkZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHNlbGVjdGVkSXRlbTogYW55O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBNYXBzIG9iamVjdCByZWZlcmVuY2UgdG8gYm9vbGVhbiB2YWx1ZXMsIHdoZXJlIFRSVUUgbWVhbnMgRVhQQU5ERUQsIEZBTFNFIGNvbGxhcHNlZFxuICAgICAqXG4gICAgICovXG4gICAgZXhwYW5zaW9uU3RhdGVzOiBNYXA8YW55LCBib29sZWFuPjtcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBXaGVuIG91dGxpbmUgaXMgcmVuZGVyZWQgZm9yIGZpcnN0IHRpbWUgb3IgcmUtcmVuZGVyZWQgYW5kIHdlIHNldCBkZWZhdWx0IHZhbHVlIGZvciB0aGVcbiAgICAgKiBleHBhbnNpb25TdGF0ZXMuIFRoaXMgd2F5IHdlIGNhbiBwcmV0dHkgZWFzaWx5IGV4ZWN1dGUgQ29sbGFwc2VBbGwsIEV4cGFuZEFsbFxuICAgICAqXG4gICAgICovXG4gICAgaXNFeHBhbmRlZEFsbDogYm9vbGVhbiA9IGZhbHNlOyAvLyBjb2xsYXBzZWRcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogSG9sZHMgY3VycmVudCBsZXZlbCBkdXJpbmcgdHJlZSBub2RlIHJlbmRlcmluZyBzbyB3ZSBjYW4gYXBwbHkgY29ycmVjdCBpbmRlbnRhdGlvblxuICAgICAqXG4gICAgICovXG4gICAgY3VycmVudExldmVsOiBudW1iZXIgPSAtMTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgZHVyaW5nIGEgdG9nZ2xlIGFjdGlvbiB0byByZWNvcmQgY3VycmVudCBzZWxlY3Rpb24gcGF0aC5cbiAgICAgKlxuICAgICAqL1xuICAgIGN1cnJlbnRQYXRoOiBhbnlbXTtcblxuXG4gICAgLyoqXG4gICAgICogR2xvYmFsbHkgc2hhcmVkIHByb3BlcnR5XG4gICAgICovXG4gICAgb3V0bGluZUZvcjogT3V0bGluZUZvckNvbXBvbmVudDtcblxuXG4gICAgY29uc3RydWN0b3IgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZXhwYW5zaW9uU3RhdGVzID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvciB0aGUgY29sbGFwc2VBbGwgYW5kIGV4cGFuZEFsbCB3ZSBhcmUgdXNpbmcgc2ltcGxlIG1lY2hhbmlzbSB3aGVyZSB3ZSBjbGVhbiB1cCBhbGxcbiAgICAgKiBzZWxlY3Rpb24gYW5kIHRoZW4gc2V0IHRoZSBnbG9iYWwgZXhwYW5kIHN0YXRlLCB0aGlzIHdoZXkgaXNFeHBhbmQgbWV0aG9kIHJldHVybnMgdGhlIHNhbWVcbiAgICAgKiBzdGF0ZSBmb3IgYWxsIGl0ZW1zXG4gICAgICovXG4gICAgY29sbGFwc2VBbGwgKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5vdXRsaW5lRm9yKSAmJlxuICAgICAgICAgICAgdGhpcy5vdXRsaW5lRm9yLmlzVHJlZU1vZGVsRm9ybWF0KCkpIHtcblxuICAgICAgICAgICAgLy8gZm9yIHRoaXMgY2FzZSB3ZSBjb2xsYXBzZSBhbGwgYnV0IHJvb3Qgbm9kZXNcbiAgICAgICAgICAgIGlmICh0aGlzLm91dGxpbmVGb3IucHVzaFJvb3RTZWN0aW9uT25OZXdMaW5lKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm91dGxpbmVGb3IubGlzdC5mb3JFYWNoKChpdGVtOiBPdXRsaW5lTm9kZSkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTm9kZXMoaXRlbS5jaGlsZHJlbiB8fCBbXSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5vZGVzKHRoaXMub3V0bGluZUZvci5saXN0IHx8IFtdLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXhwYW5zaW9uU3RhdGVzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0V4cGFuZGVkQWxsID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZXhwYW5kQWxsICgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMub3V0bGluZUZvcikgJiZcbiAgICAgICAgICAgIHRoaXMub3V0bGluZUZvci5pc1RyZWVNb2RlbEZvcm1hdCgpKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU5vZGVzKHRoaXMub3V0bGluZUZvci5saXN0LCB0cnVlKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5leHBhbnNpb25TdGF0ZXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzRXhwYW5kZWRBbGwgPSB0cnVlO1xuICAgIH1cblxuXG4gICAgZ2V0IGV4cGFuc2lvblBhdGggKCk6IGFueVtdXG4gICAge1xuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLl9leHBhbnNpb25QYXRoKSkge1xuICAgICAgICAgICAgdGhpcy5fZXhwYW5zaW9uUGF0aCA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9leHBhbnNpb25QYXRoO1xuICAgIH1cblxuXG4gICAgc2V0IGV4cGFuc2lvblBhdGggKHZhbHVlOiBhbnlbXSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2V4cGFuc2lvblBhdGggPSB2YWx1ZTtcblxuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLl9leHBhbnNpb25QYXRoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2V4cGFuc2lvblBhdGguZm9yRWFjaCgoaXRlbTogYW55KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNldEV4cGFuc2lvblN0YXRlKGl0ZW0sIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIHRvZ2dsZUV4cGFuc2lvbiAoY3VycmVudFBhdGg6IGFueVtdLCBjaGlsZHJlbj86IGFueVtdKTogdm9pZFxuICAgIHtcblxuICAgICAgICBpZiAoaXNCbGFuayhjdXJyZW50UGF0aCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaXRlbSA9IExpc3RXcmFwcGVyLmxhc3QoY3VycmVudFBhdGgpO1xuICAgICAgICBsZXQgaXRlbUNoaWxkcmVuID0gY2hpbGRyZW4gfHwgW107XG4gICAgICAgIGxldCBuZXdTdGF0ZSA9ICF0aGlzLmlzRXhwYW5kZWQoaXRlbSk7XG4gICAgICAgIHRoaXMuc2V0RXhwYW5zaW9uU3RhdGUoaXRlbSwgbmV3U3RhdGUpO1xuXG4gICAgICAgIGlmICghbmV3U3RhdGUpIHtcbiAgICAgICAgICAgIExpc3RXcmFwcGVyLnJlbW92ZUxhc3QoY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVOb2RlcyhpdGVtQ2hpbGRyZW4sIG5ld1N0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0RXhwYW5zaW9uUGF0aChjdXJyZW50UGF0aCk7XG4gICAgfVxuXG4gICAgdXBkYXRlTm9kZXMgKG5vZGVzOiBhbnlbXSwgbmV3U3RhdGU6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBub2Rlcy5mb3JFYWNoKChjaGlsZDogYW55KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgaXRlbXMgPSB0aGlzLm91dGxpbmVGb3IuY2hpbGRyZW5Gb3JJdGVtKGNoaWxkKTtcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQoaXRlbXMpICYmIGl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5vZGVzKGl0ZW1zLCBuZXdTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldEV4cGFuc2lvblN0YXRlKGNoaWxkLCBuZXdTdGF0ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldEV4cGFuc2lvblN0YXRlIChpdGVtOiBhbnksIGlzRXhwYW5kZWQ6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBFdmVuIGZvciB0cmVlIG1vZGUgZm9ybWF0IHNhdmUgdGhlIHN0YXRlIHNvIHdlIGNhbiB1c2UgaXQgbGF0ZXIgb24gaW4gY2FzZSBvYmplY3RcbiAgICAgICAgLy8gcmVmZXJlbmNlcyBnZXRzIG1lZXNlZCB1cFxuICAgICAgICBpZiAodGhpcy5vdXRsaW5lRm9yICYmXG4gICAgICAgICAgICB0aGlzLm91dGxpbmVGb3IuaXNUcmVlTW9kZWxGb3JtYXQoKSkge1xuICAgICAgICAgICAgKDxPdXRsaW5lTm9kZT5pdGVtKS5pc0V4cGFuZGVkID0gaXNFeHBhbmRlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBrZXkgPSB0aGlzLml0ZW1Ub0tleShpdGVtKTtcbiAgICAgICAgICAgIGlmIChpc0V4cGFuZGVkID09PSB0aGlzLmlzRXhwYW5kZWRBbGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGFuc2lvblN0YXRlcy5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5leHBhbnNpb25TdGF0ZXMuc2V0KGtleSwgKGlzRXhwYW5kZWQpID8gdHJ1ZSA6IGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvIGltcHJvdmUgc3RhdGUgcGVyc2lzdGluZyBsZXRzIGNoZWNrIGlmIHdlIGFyZSBkZWFsaW5nIHdpdGggYW4gT2JqZWN0IHRoYXQgaGFzIElkZW50aXR5XG4gICAgICogc28gd2UgY2FuIGV4dHJhY3QgYW4gSUQgb3RoZXJ3aXNlIHVzZSBvYmplY3QgdG8gY29tcGFyZSBieSByZWZlcmVuY2VcbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBpdGVtVG9LZXkgKGl0ZW06IGFueSk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzRW50aXR5KGl0ZW0pID8gKDxFbnRpdHk+aXRlbSkuaWRlbnRpdHkoKSA6IGl0ZW07XG4gICAgfVxuXG5cbiAgICBzZXRFeHBhbnNpb25QYXRoIChpdGVtczogYW55W10pOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmV4cGFuc2lvblBhdGggPSBpdGVtcztcblxuICAgICAgICBpdGVtcy5mb3JFYWNoKChub2RlOiBhbnkpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RXhwYW5zaW9uU3RhdGUobm9kZSwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlzRXhwYW5kZWQgKGl0ZW06IGFueSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5vdXRsaW5lRm9yKSAmJlxuICAgICAgICAgICAgdGhpcy5vdXRsaW5lRm9yLmlzVHJlZU1vZGVsRm9ybWF0KCkpIHtcbiAgICAgICAgICAgIHJldHVybiAoPE91dGxpbmVOb2RlPml0ZW0pLmlzRXhwYW5kZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQga2V5ID0gdGhpcy5pdGVtVG9LZXkoaXRlbSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZXhwYW5zaW9uU3RhdGVzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNFeHBhbmRlZEFsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4cGFuc2lvblN0YXRlcy5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBDb250ZW50Q2hpbGQsXG4gICAgRGlyZWN0aXZlLFxuICAgIEVsZW1lbnRSZWYsXG4gICAgRXZlbnRFbWl0dGVyLFxuICAgIElucHV0LFxuICAgIE9uSW5pdCxcbiAgICBPdXRwdXQsXG4gICAgVGVtcGxhdGVSZWYsXG4gICAgVmlld0NoaWxkLFxuICAgIFZpZXdDb250YWluZXJSZWZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2FuaW1hdGUsIEFuaW1hdGlvbkJ1aWxkZXIsIHN0YXRlLCBzdHlsZSwgdHJhbnNpdGlvbiwgdHJpZ2dlcn0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5pbXBvcnQge2Fzc2VydCwgRW52aXJvbm1lbnQsIElkZW50aXR5LCBpc0JsYW5rLCBpc1ByZXNlbnQsIExpc3RXcmFwcGVyfSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7QmFzZUNvbXBvbmVudH0gZnJvbSAnLi4vLi4vY29yZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQge091dGxpbmVTdGF0ZX0gZnJvbSAnLi9vdXRsaW5lLXN0YXRlJztcblxuXG4vKipcbiAqIFRoaXMgaW50ZXJmYWNlIHJlcHJlc2VudCBjb25jcmV0ZSB0cmVlIHN0cnVjdHVyZSBmb3IgdGhlIG91dGxpbmUgdHJlZSBtb2RlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3V0bGluZU5vZGUgZXh0ZW5kcyBJZGVudGl0eVxue1xuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byBwYXJlbnQgbm9kZS5cbiAgICAgKi9cbiAgICBwYXJlbnQ6IE91dGxpbmVOb2RlO1xuXG4gICAgLyoqXG4gICAgICogTm9kZSdzIGNoaWxkcmVuLiBFdmVuIGl0cyBhIGZpZWxkIGl0IGNhbiBiZSBpbXBsZW1lbnRlZCBsYXppbHkgdXNpbmcgZ2V0dGVyIHdoZXJlIGEgdGFyZ2V0XG4gICAgICogb2JqZWN0IGRvZXMgbm90IGltcGxlbWVudCB0aGlzIGFzIGEgcHVibGljIGZpZWxkIGJ1dCBhIGdldHRlciB3aXRoIGNvbnRyb2wgb3ZlciB0aGVcbiAgICAgKiByZXRyaWV2ZWQgbGlzdFxuICAgICAqL1xuICAgIGNoaWxkcmVuOiBPdXRsaW5lTm9kZVtdO1xuXG4gICAgLyoqXG4gICAgICogRGlmZmVyZW50IHN0YXRlcyBmb3Igb3V0bGluZSBOb2RlXG4gICAgICpcbiAgICAgKiBpc0V4cGFuZGVkOiBib29sZWFuOz0gbW92aW5nIG91dCBhcyB0aGlzIGlzIG1hbmFnZWQgYnkgZXhwYW5zaW9uc3RhdGUuXG4gICAgICovXG4gICAgaXNFeHBhbmRlZDogYm9vbGVhbjtcbiAgICBpc1NlbGVjdGVkOiBib29sZWFuO1xuICAgIGlzTWF0Y2g/OiBib29sZWFuO1xuICAgIHJlYWRvbmx5PzogYm9vbGVhbjtcbiAgICB0eXBlPzogc3RyaW5nO1xuICAgIGRyYWdnYWJsZT86IGJvb2xlYW47XG4gICAgZHJvcHBhYmxlPzogYm9vbGVhbjtcbiAgICB2aXNpYmxlPzogYm9vbGVhbjtcblxufVxuXG5cbi8qKlxuICpcbiAqIENoZWNrcyB0eXBlIGZvciBPdXRsaW5lTm9kZVxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT3V0bGluZU5vZGUobm9kZTogYW55KTogbm9kZSBpcyBPdXRsaW5lTm9kZVxue1xuICAgIHJldHVybiBpc1ByZXNlbnQobm9kZSkgJiYgaXNQcmVzZW50KCg8T3V0bGluZU5vZGU+bm9kZSkpXG4gICAgICAgICYmIGlzUHJlc2VudCgoPE91dGxpbmVOb2RlPm5vZGUpLnBhcmVudClcbiAgICAgICAgJiYgaXNQcmVzZW50KCg8T3V0bGluZU5vZGU+bm9kZSkuY2hpbGRyZW4pO1xufVxuXG5cbi8qKlxuICogQ3VycmVudGx5IG91dGxpbmUgc3VwcG9ydHMgb25seSB0d28gbW9kZXMgZnJlZSwgd2hlcmUgYXBwbGljYXRpb24gaXMgcmVzcG9uc2libGUgdG8gcmV0cmlldmVcbiAqIGNoaWxkcmVuIGZvciBlYWNoIG5vZGUgYW5kIHRyZWUgd2l0aCBhYm92ZSBPdXRsaW5lTm9kZSBzdHJ1Y3R1cmVcbiAqL1xuZXhwb3J0IHR5cGUgTW9kZWxGb3JtYXQgPSAnZnJlZScgfCAndHJlZSc7XG5cblxuLyoqXG4gKlxuICogT3V0bGluZUZvckNvbXBvbmVudCBpcyBsaWtlIG5nRm9yLCBidXQgZm9yIGhpZXJhcmNoaWNhbCAob3V0bGluZS90cmVlKSBzdHJ1Y3R1cmVzIC0tIGkuZS4gaW5cbiAqIHRob3NlIGNhc2VzIHdoZXJlIGFuIGl0ZW0gbWF5IGhhdmUgY2hpbGRyZW4uXG4gKlxuICpcbiAqIEl0IHVzZXMgb3V0bGluZSBgPGF3LW91dGxpbmUtY29udHJvbD5gIHRvIHByb3ZpZGUgZXhwYW5kaW5nIGZ1bmN0aW9uYWxpdHksIGluZGVudGF0aW9uXG4gKiBhbmQgb3RoZXIgdGhpbmdzLlxuICpcbiAqXG4gKiBUaGlzIGNvbXBvbmVudCBoYXMgbWluaW1hbCBzdHlsaW5nIHRvIG1ha2Ugc3VyZSBpdCBjYW4gYmUgY2hhbmdlZCBlYXNpbHkuXG4gKlxuICogIyMjIEV4YW1wbGUgcmVuZGVyaW5nIHRyZWUgc2VjdGlvbiwgd2hlcmUgYmFzZWQgb24gdGhlIHR5cGUgd2UgZm9ybWF0IHRoZSBvdXQgcGx1c1xuICogZm9yIHRoZSBtYWluIHJvb3Qgc2VjdGlvbiB3ZSBhbHdheXMgcmVuZGVyIGxpdHRsZSBwb3B1cCBtZW51LlxuICpcbiAqIGBgYFxuICpcbiAqICAgPGF3LW91dGxpbmUtZm9yIFtsaXN0XT1cImxpc3RcIiBbaGFzQ2hpbGRyZW5dPVwiaGFzQ2hpbGRyZW5cIj5cbiAqXG4gKiAgICAgICA8bmctdGVtcGxhdGUgI291dGxpbmUgbGV0LWl0ZW0+XG4gKlxuICogICAgICAgICAgIDxkaXYgY2xhc3M9XCJteS1zZWN0aW9uXCI+XG4gKiAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvdXRsaW5lXCI+XG4gKiAgICAgICAgICAgICAgICAgICA8YXctb3V0bGluZS1jb250cm9sPlxuICogICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgW25nU3dpdGNoXT1cIml0ZW0udHlwZVwiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgW25nU3dpdGNoQ2FzZV09XCIndGV4dCdcIj5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhcy1wYXJhZ3JhZlwiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7aXRlbT8uY29udGVudH19XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAqXG4gKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgbmdTd2l0Y2hEZWZhdWx0PlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3tpdGVtPy5jb250ZW50fX1cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAqXG4gKlxuICogICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICpcbiAqXG4gKiAgICAgICAgICAgICAgICAgICA8L2F3LW91dGxpbmUtY29udHJvbD5cbiAqICAgICAgICAgICAgICAgPC9kaXY+XG4gKlxuICogICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyc1wiICpuZ0lmPVwiaXRlbS50eXBlID09PSAnc2VjdGlvbidcIiA+XG4gKlxuICogICAgICAgICAgICAgICAgICAgPGF3LWhvdmVyLWNhcmQgW2xpbmtUaXRsZV09XCInRmlsdGVyIEl0ZW1zJ1wiPlxuICogICAgICAgICAgICAgICAgICAgICAgIDxhdy1saXN0IFtsaXN0XT1cImZpbHRlckl0ZW1zXCIgW2JvcmRlcmxlc3NdPVwidHJ1ZVwiPjwvYXctbGlzdD5cbiAqICAgICAgICAgICAgICAgICAgIDwvYXctaG92ZXItY2FyZD5cbiAqXG4gKiAgICAgICAgICAgICAgIDwvZGl2PlxuICogICAgICAgICAgIDwvZGl2PlxuICogICAgIDwvbmctdGVtcGxhdGU+YFxuICogICA8L2F3LW91dGxpbmUtZm9yPlxuICpcbiAqIGBgYFxuICpcbiAqXG4gKiBXZSBjYW4gdXNlIGl0IGFsc28gaW4gZW1iZWRkZWQgbW9kZSB3aGVyZSB3ZSB1c2UgdGhlIGBhd091dGxpbmVGb3JgIGRpcmVjdGl2ZVxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKlxuICogYGBgYFxuICogIDx0YWJsZSAgY2xhc3M9XCJ0cmVlLXRhYmxlXCIgPlxuICogICAgICA8dGhlYWQ+XG4gKiAgICAgICAgICA8dHI+XG4gKiAgICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxuICogICAgICAgICAgICAgIDx0aD5UeXBlPC90aD5cbiAqICAgICAgICAgIDwvdHI+XG4gKiAgICAgIDwvdGhlYWQ+XG4gKiAgICAgIDx0Ym9keSAjb29vMiBhd091dGxpbmVGb3IgW2xpc3RdPVwibGlzdFwiXG4gKiAgICAgICAgICAgICBbaGFzQ2hpbGRyZW5dPVwiaGFzQ2hpbGRyZW5cIlxuICogICAgICAgICAgICAgY2xhc3M9XCJvdXRsaW5lLXRhYmxlXCJcbiAqICAgICAgPlxuICogICAgICAgICAgPG5nLXRlbXBsYXRlICNvdXRsaW5lIGxldC1pdGVtPlxuICogICAgICAgICAgICAgIDx0cj5cbiAqICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwiaXRlbS1uYW1lIG91dGxpbmUtYW5pbWF0aW9uXCI+XG4gKiAgICAgICAgICAgICAgICAgICAgICA8ZGl2Pjxhdy1vdXRsaW5lLWNvbnRyb2w+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAge3tpdGVtPy5jb250ZW50fX1cbiAqICAgICAgICAgICAgICAgICAgICAgIDwvYXctb3V0bGluZS1jb250cm9sPjwvZGl2PlxuICogICAgICAgICAgICAgICAgICA8L3RkPlxuICogICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJpdGVtLXR5cGUgb3V0bGluZS1hbmltYXRpb25cIj5cbiAqICAgICAgICAgICAgICAgICAgICAgIDxkaXY+e3tpdGVtLnR5cGV9fTwvZGl2PlxuICogICAgICAgICAgICAgICAgICA8L3RkPlxuICogICAgICAgICAgICAgIDwvdHI+XG4gKiAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICogICAgICA8L3Rib2R5PlxuICogIDwvdGFibGU+XG4gKlxuICogYGBgXG4gKlxuICogSSB3YXMgdGhpbmtpbmcgbWF5YmUgZm9yIGZpcnN0IHRpbWUgd2UgZG9uJ3QgbmVlZCB0aGUgc2FtZSBhbmltYXRpb24gbGlrZSBleHBhbmRpbmcgYW5kXG4gKiBjb2xsYXBzaW5nLiBNYXliZSB3ZSBuZWVkIGZhZGUtaW4uIEluIHN1Y2ggY2FzZSBJIHdvdWxkIHByb2JhYmx5IGFwcGx5IEBzZWN0aW9uIGFuaW0gb25seVxuICogb24gaXRlbXMgd2hlcmUgbGV2ZWwgPiAwIChpbiB0aGUgdGVtcGxhdGUgSSBrZWVwIGxldmVscykgYW5kIGlmIGxldmVsID09IDAgdGhlbiBJIHdvdWxkXG4gKiBleGVjdXRlIHRoZSBzYW1lIHJlbmRlcmluZyBqdXN0IHdpdGhvdXQgW0BzZWN0aW9uXVxuICpcbiAqXG4gKiBUb2RvOiBUaGluayBhYm91dCBob3cgdG8gZG8gYW5pbWF0aW9uIGZvciB0aGUgdGFibGUgY2FzZS4gTXVzdCBhbHNvIHdyaXRlIHVuaXRlc3QgLSBkdWUgdG9cbiAqIEFyaWJhTGl2ZSBhZ2dyZXNzaXZlIHNjaGVkdWxlIHdlIGFyZSBza2lwcGluZyB0aGVtIGZvciBub3dcbiAqXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctb3V0bGluZS1mb3IsIFthd091dGxpbmVGb3JdJyxcbiAgICB0ZW1wbGF0ZVVybDogJ291dGxpbmUtZm9yLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnb3V0bGluZS1mb3IuY29tcG9uZW50LnNjc3MnXSxcblxuICAgIGFuaW1hdGlvbnM6IFtcbiAgICAgICAgdHJpZ2dlcignc2VjdGlvbicsIFtcbiAgICAgICAgICAgIHN0YXRlKCcqJywgc3R5bGUoe1xuICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6ICcqJyxcbiAgICAgICAgICAgICAgICAnb3BhY2l0eSc6ICcxJ1xuXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICBzdGF0ZSgndm9pZCcsIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzAnLFxuICAgICAgICAgICAgICAgICdvcGFjaXR5JzogJzAnLFxuICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcblxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgdHJhbnNpdGlvbignKiA9PiB2b2lkJywgYW5pbWF0ZSgnMjAwbXMgZWFzZS1vdXQnKSksXG4gICAgICAgICAgICB0cmFuc2l0aW9uKCd2b2lkID0+IConLCBhbmltYXRlKCcyMDBtcyBlYXNlLWluJykpXG4gICAgICAgIF0pLFxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgT3V0bGluZUZvckNvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnRcbntcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgaXRlbXMgdGhhdCBuZWVkcyB0byBiZSByZW5kZXJlZC4gSXQgZG9lcyBub3QgaGF2ZSB0byBpbiBoaWVyYXJjaGljYWwgb3JkZXIgb3Igd2VcbiAgICAgKiBsZWF2ZSBpdCB1cCB0byB0aGUgYXBwbGljYXRpb24gdG8gZGVjaWRlIGFib3V0IHRoZSBzdHJ1Y3R1cmUuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBsaXN0PzogYW55W107XG5cblxuICAgIC8qKlxuICAgICAqIFRlbGxzIHRoZSBjb21wb25lbnQgbm90IHRvIHJlbmRlciBleHBhbnNpb24gY29udHJvbCwgaW4gc3VjaCBjYXNlIHdlIGV4cGFuZEFsbCBhcyBhXG4gICAgICogZGVmYXVsdCBiZWhhdmlvclxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzaG93RXhwYW5zaW9uQ29udHJvbDogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBDdXN0b20gbWV0aG9kIHByb3ZpZGVkIGJ5IGFwcGxpY2F0aW9uIHRvIHJldHJpZXZlIGxpc3Qgb2YgY2hpbGRyZW4gZm9yIGN1cnJlbnQgaXRlbS4gSWZcbiAgICAgKiBjaGlsZHJlbiBpcyB1bmRlZmluZWQgdGhlbiwgZGVmYXVsdCAnY2hpbGRyZW4nIGZpZWxkIGlzIHVzZWQgPGN1cnJlbnRJdGVtPi5jaGlsZHJlblxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgY2hpbGRyZW46ICh2YWx1ZTogYW55KSA9PiBhbnlbXTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogT3B0aW9uIHRvIGNvbmRpdGlvbmFsbHkgcmVuZGVyIG9ubHkgaXRlbXMgdGhhdCBhcmUgc2F0aXNmeWluZyBmaWx0ZXIgY29uZGl0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGZpbHRlck91dDogKHZhbHVlOiBhbnkpID0+IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqIE9wZW5zIGFsbCB0cmVlIG5vZGVzLlxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBleHBhbmRBbGw6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICAgLyoqXG4gICAgICogIE1hbmFnZXMgdGhlIHN0YXRlIGZvciB0aGUgT3V0bGluZSBjb21wb25lbnQuIExhdGVyIG9uIHdlIGNhbiBwcm92aWRlIGVhc2llciB3ZSBob3cgdG9cbiAgICAgKiAgaW5pdGlhbGl6ZSBhbmQgc2V0IHNlbGVjdGlvblBhdGhzIGFuZCBzZWxlY3Rpb25TdGF0ZXMgZnJvbSB0aGUgYXBwbGljYXRpb25cbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc3RhdGU6IE91dGxpbmVTdGF0ZTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogU2V0IGluZGVudGF0aW9uIHNpemUgdG8gYmUgdXNlZCBmb3IgZWFjaCBsZXZlbFxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBpbmRlbnRhdGlvblBlckxldmVsOiBudW1iZXIgPSAyNTtcblxuXG4gICAgLyoqXG4gICAgICogSW4gY2FzZSB0ZW1wbGF0ZSBpcyBvdXRzaWRlIG9mIHRoZSBvdXRsaW5lRm9yXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBleHRlcm5hbFRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gY3VycmVudCBvYmplY3QgdXNpbmcgdGhpcyBjb21wb25lbnRcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGNvbnRleHQ6IGFueTtcblxuXG4gICAgQElucHV0KClcbiAgICBwdXNoUm9vdFNlY3Rpb25Pbk5ld0xpbmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogSWRlbnRpZmllcyBjdXJyZW50IG1vZGVsIG1vZGUuXG4gICAgICpcbiAgICAgKiBXZSByZWNvZ25pemUgdHdvIG1vZGVzOlxuICAgICAqXG4gICAgICogRnJlZSAtIEFwcGxpY2F0aW9uIG5lZWRzIHRvIGltcGxlbWVudCBhIGNoaWxkcmVuIG1ldGhvZCB0byByZXRyaWV2ZSBhIGxpc3Qgb2YgY2hpbGRyZW4gZm9yXG4gICAgICogZWFjaCBub2RlIGFuZCBmb3JtYXQgaXMgcHJldHR5IG11Y2ggdXB0IHRvIHRoZSBhcHBsaWNhdGlvblxuICAgICAqXG4gICAgICogVHJlZSAtIHRoaXMgaXMgbW9yZSByZXN0cmljdGl2ZSB3aGVyZSB3ZSBoYXZlIGNvbmNyZXRlIGRhdGEgc3RydWN0dXJlXG4gICAgICogaW50ZXJmYWNlIHRoYXQgbmVlZHMgdG8gYmUgZm9sbGVkXG4gICAgICpcbiAgICAgKiB0b2RvOiBpbnN0ZWFkIG9mIHBhc3NpbmcgZm9ybWF0IGJpbmRpbmcgdHJ5IHRvIGxvb2sgaW50byB0aGUgbGlzdCB0byBzZWUgd2hhdCB0eXBlIHNvXG4gICAgICogd2UgZG9udCBtYWtlIGl0IG1hbmRhdG9yeVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBmb3JtYXQ6IE1vZGVsRm9ybWF0ID0gJ2ZyZWUnO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBVc2VkIHdoZW4gaW4gc2VsZWN0aW9uIG1vZGUgdG8gcHVzaCBjdXJyZW50IHNlbGVjdGVkIEl0ZW0gdG8gdGhlIGFwcGxpY2F0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBvbkl0ZW1TZWxlY3RlZDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogVGhpcyBldmVudCBpcyB0cmlnZ2VyZWQgYnkgT3V0bGluZUNvbnRyb2wgd2hlbiBub2RlIGlzIGV4cGFuZGVkIG9yIGNvbGxhcHNlZFxuICAgICAqXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgb25FeHBhbmRDaGFuZ2U6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgLyoqXG4gICAgICogQSB0ZW1wbGF0ZSB0byB1c2Ugb24gYXBwbGljYXRpb24gbGV2ZWwgdG8gcmVuZGVyIGluZGl2aWR1YWwgaXRlbXNcbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKCdvdXRsaW5lJylcbiAgICBjb250cm9sVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG5cblxuICAgIEBWaWV3Q2hpbGQoJ3JlbmRlcmVkSXRlbScpXG4gICAgb3V0bGluZUl0ZW06IEVsZW1lbnRSZWY7XG5cblxuICAgIC8qKlxuICAgICAqIEludGVybmFsc1xuICAgICAqXG4gICAgICogY3VycmVudEl0ZW0gYW5kIHBhcmVudEl0ZW0gYXJlIHVzZWQgdG8gY2FwdHVyZSBjdXJyZW50IHByb2Nlc3NlZCBpdGVtIG9mIG5nRm9yLiBUaGlzIGlzXG4gICAgICogc2V0IGJ5IGRpcmVjdGl2ZSBgSW5pdE5lc3RpbmdEaXJlY3RpdmVgXG4gICAgICpcbiAgICAgKiBhbmltYXRpb25JblByb2dyZXNzOiB1c2VkIGJ5IGFuaW1hdGlvbiBlbmdpbmUgdG8gbWFrZSBzdXJlIHdlIGRvbnQgZG8gYW55IGFjdGlvbnMgd2hpbGVcbiAgICAgKiBhbmltYXRpb24gaXMgaW4gdGhlIHByb2dyZXNzXG4gICAgICpcbiAgICAgKiBlbWJlZGRlZDogSW5kaWNhdGVzIHRoYXQgd2UgYXJlIHVzaW5nIGRpcmVjdGl2ZSBzbyBpdCB3aWxsIG5vdCBoYXZlIGRlZmF1bHQgY29tcG9uZW50XG4gICAgICogd3JhcHBlclxuICAgICAqXG4gICAgICovXG4gICAgY3VycmVudEl0ZW06IGFueTtcbiAgICBwYXJlbnRJdGVtOiBhbnk7XG4gICAgYW5pbWF0aW9uSW5Qcm9ncmVzczogYm9vbGVhbjtcbiAgICBlbWJlZGRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogRmxhZyB0aGF0IHRlbGxzIHVzIHRoYXQgY29tcG9uZW50IGlzIGZ1bGx5IHJlbmRlcmVkXG4gICAgICpcbiAgICAgKi9cbiAgICB2aWV3SW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBfdmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZixcbiAgICAgICAgICAgICAgICBwcml2YXRlIGJ1aWxkZXI6IEFuaW1hdGlvbkJ1aWxkZXIsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmKVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52KTtcblxuICAgIH1cblxuICAgIG5nT25Jbml0KClcbiAgICB7XG4gICAgICAgIHN1cGVyLm5nT25Jbml0KCk7XG5cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5zdGF0ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBuZXcgT3V0bGluZVN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5zdGF0ZS5vdXRsaW5lRm9yKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5vdXRsaW5lRm9yID0gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmV4cGFuZEFsbCkge1xuICAgICAgICAgICAgdGhpcy5zaG93RXhwYW5zaW9uQ29udHJvbCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5pc0V4cGFuZGVkQWxsID0gdGhpcy5leHBhbmRBbGw7XG5cbiAgICAgICAgLy8gaW4gY2FzZSB3ZSB3YW50IHRvIHJlbmRlciBjb250ZW50IG9mIHRyZWUgb3V0c2lkZSBvZiBvdXRsaW5lRm9yXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5leHRlcm5hbFRlbXBsYXRlKSkge1xuICAgICAgICAgICAgdGhpcy5jb250cm9sVGVtcGxhdGUgPSB0aGlzLmV4dGVybmFsVGVtcGxhdGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtYmVkZGVkID0gdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuaGFzQXR0cmlidXRlKCdhd291dGxpbmVmb3InKTtcblxuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLmNvbnRleHQpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzO1xuICAgICAgICB9XG5cbiAgICB9XG5cblxuICAgIG5nRG9DaGVjaygpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5uZ0RvQ2hlY2soKTtcbiAgICB9XG5cbiAgICBpc1RyZWVNb2RlbEZvcm1hdCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQgPT09ICd0cmVlJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IHRlbXBsYXRlIGFuZCBPdXRsaW5lQ29udHJvbCB0byBpZGVudGlmeSB3aGljaCBpdGVtIGlzIGV4cGFuZGVkIGFuZCBjb2xsYXBzZWRcbiAgICAgKlxuICAgICAqL1xuICAgIGlzRXhwYW5kZWQoaXRlbTogYW55LCBjdXJyZW50TGV2ZWw6IG51bWJlciA9IC0xKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKGN1cnJlbnRMZXZlbCA9PT0gMCAmJiB0aGlzLnB1c2hSb290U2VjdGlvbk9uTmV3TGluZSkge1xuICAgICAgICAgICAgLy8gYWx3YXlzIG92ZXJyaWRlL3Jlc2V0IGZvciByb290IG5vZGVzXG4gICAgICAgICAgICBpZiAodGhpcy5pc1RyZWVNb2RlbEZvcm1hdCgpKSB7XG4gICAgICAgICAgICAgICAgKDxPdXRsaW5lTm9kZT5pdGVtKS5pc0V4cGFuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmlzRXhwYW5kZWQoaXRlbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBTaW5jZSB3ZSBoYXZlIGN1cnJlbnRseSB0d28gd2F5cyBob3cgdG8gcGFzcyBjaGlsZHJlbiBpdGVtcyB3ZSBuZWVkIGhhdmUgdGhpcyBtZXRob2QgdG9cbiAgICAgKiB1bmlmeSB0aGUgd2F5IGhvdyB3ZSBhY2Nlc3MgaXQuIElmIHdlIHBhc3MgYGNoaWxkcmVuYCBiaW5kaW5nIHdlIHVzZSB0aGlzIGluc3RlYWQsIG90aGVyd2lzZVxuICAgICAqIHdlIGV4cGVjdCBjdXJyZW50IG9iamVjdCB0byBoYXZlIGBjaGlsZHJlbmAgZmllbGRcbiAgICAgKlxuICAgICAqL1xuICAgIGNoaWxkcmVuRm9ySXRlbShpdGVtOiBhbnkpOiBhbnlbXVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaXNUcmVlTW9kZWxGb3JtYXQoKSkge1xuICAgICAgICAgICAgcmV0dXJuICg8T3V0bGluZU5vZGU+aXRlbSkuY2hpbGRyZW4gfHwgW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYXNDaGlsZHJlbihpdGVtKSA/IHRoaXMuZG9HZXRDaGlsZHJlbihpdGVtKSA6IFtdO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIENoZWNrIGlmIHRoZSBjdXJyZW50IGl0ZW0gaGFzIGEgY2hpbGRyZW4gYW5kIG5lZWRzIHRvIGJlIHJlbmRlcmVkXG4gICAgICpcbiAgICAgKi9cbiAgICBoYXNDaGlsZHJlbihpdGVtOiBhbnkpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pc1RyZWVNb2RlbEZvcm1hdCgpKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGRyZW4gPSAoPE91dGxpbmVOb2RlPml0ZW0pLmNoaWxkcmVuO1xuICAgICAgICAgICAgcmV0dXJuIGlzUHJlc2VudChjaGlsZHJlbikgJiYgY2hpbGRyZW4ubGVuZ3RoID4gMDtcblxuICAgICAgICB9IGVsc2UgaWYgKGlzQmxhbmsodGhpcy5jaGlsZHJlbikgJiYgaXNCbGFuayhpdGVtLmNoaWxkcmVuKSkge1xuICAgICAgICAgICAgYXNzZXJ0KGZhbHNlLCAnTWlzc2luZyBbY2hpbGRyZW5dIG1ldGhvZCBiaW5kaW5nJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kb0dldENoaWxkcmVuKGl0ZW0pLmxlbmd0aCA+IDA7XG5cbiAgICB9XG5cbiAgICBkb0dldENoaWxkcmVuKGl0ZW06IGFueSk6IGFueVtdXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5hcHBseSh0aGlzLmNvbnRleHQsIFtpdGVtXSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgVXNlcyB0aGUgYE91dGxpbmVTdGF0ZWAgdG8gdG9nZ2xlIHN0YXRlIG9mIGN1cnJlbnQgc2VsZWN0aW9uUGF0aC4gVGhlIGBzZWxlY3Rpb25QYXRoYCBpc1xuICAgICAqICBwdXQgdG9nZXRoZXIgaW5zaWRlIGBPdXRsaW5lQ29udHJvbGAgd2hlcmUgd2UgaXRlcmF0ZSBhbGwgdGhlIHdheSB0byB0aGUgcm9vdCBhbmQgYWRkXG4gICAgICogIGVhY2ggaXRlbSB0byB0aGUgYGN1cnJlbnRQYXRoYCBhcnJheS4gVGhpcyB3YXkgd2UgY29sbGVjdCBsaXN0IG9mIGl0ZW0gcmVwcmVzZW50aW5nIGN1cnJlbnRcbiAgICAgKiAgY3VycmVudCBleHBhbnNpb25QYXRoLlxuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICB0b2dnbGVFeHBhbnNpb24oKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgLy8gYmFja3VwIHByb2NlZHVyZSBpbiBjYXNlIG9uQW5pbWF0aW9uRG9uZSBmYWlsc1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbkluUHJvZ3Jlc3MpIHsgLy8gY2hhbmdlIG9ubHkgaWYgaXRzIGZhaWxzXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuZW1iZWRkZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudEl0ZW0gPSBMaXN0V3JhcHBlci5sYXN0KHRoaXMuc3RhdGUuY3VycmVudFBhdGgpO1xuICAgICAgICB0aGlzLnN0YXRlLnRvZ2dsZUV4cGFuc2lvbih0aGlzLnN0YXRlLmN1cnJlbnRQYXRoLCB0aGlzLmNoaWxkcmVuRm9ySXRlbShjdXJyZW50SXRlbSkpO1xuXG4gICAgICAgIGlmICh0aGlzLmVtYmVkZGVkKSB7XG4gICAgICAgICAgICAvLyB0aGlzLmFuaW1hdGVFbWJlZGRlZEl0ZW0oKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQW5ndWxhciBhbmltLiBjYWxsYmFjayB0aGF0IHNldHMgYmFjayB0aGUgZmxhZyB0byBtYWtlIHN1cmUgd2UgZG9uJ3QgdHJpZ2dlciBhbmltYXRpb25zXG4gICAgICogd2hlbiBvbmUgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICpcbiAgICAgKi9cbiAgICBvbkFuaW1hdGlvbkRvbmUoZXZlbnQ6IEV2ZW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb25JblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlZCBpbmRlbnRhdGlvbiB1c2VkIHRvIHNoaWZ0IHRoZSBuZXN0ZWQgc2VjdGlvbiB0byB0aGUgcmlnaHQgb3IgbGF0ZXIgb24gdG8gdGhlXG4gICAgICogbGVmdCB3aGVuIFJUTCBpcyBzdXBwb3J0ZWRcbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgaW5kZW50YXRpb24oY3VycmVudExldmVsOiBudW1iZXIpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnB1c2hSb290U2VjdGlvbk9uTmV3TGluZSAmJiBjdXJyZW50TGV2ZWwgPiAwKSB7XG4gICAgICAgICAgICBjdXJyZW50TGV2ZWwgLT0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoY3VycmVudExldmVsID09PSAwICYmIHRoaXMucHVzaFJvb3RTZWN0aW9uT25OZXdMaW5lKVxuICAgICAgICAgICAgPyAwIDogKHRoaXMuaW5kZW50YXRpb25QZXJMZXZlbCAqIGN1cnJlbnRMZXZlbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm90IGFsbCByb3dzIGFyZSB2aXNpYmxlIGJ5IGRlZmF1bHQsIHRoZXJlIGNhbiBiZSBhIGNhc2Ugd2hlcmUgeW91IGRvbnQgd2FudCB0byByZW5kZXIgaXRlbXNcbiAgICAgKiB1c2luZyBvdXRsaW5lLiBlLmcuIERhdGF0YWJsZSB3aXRoIGRldGFpbCByb3cuXG4gICAgICovXG4gICAgaXNWaXNpYmxlKGl0ZW06IGFueSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5maWx0ZXJPdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuZmlsdGVyT3V0KGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuLyoqXG4gKlxuICogU2luY2Ugd2UgY2FuIG5vdCBkaXJlY3RseSBzZXQgYCpuZ1RlbXBsYXRlT3V0bGV0YCBjb250ZXh0IHZhcmlhYmxlcyB0byB0aGUgdHlwZXNjcmlwdCBjbGFzcyB3ZVxuICogdXNlIHRoaXMgZGlyZWN0aXZlIHRvIGRvIHRoZSBKb2JcbiAqXG4gKi9cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnW2luaXROZXN0aW5nXSdcbn0pXG5leHBvcnQgY2xhc3MgSW5pdE5lc3RpbmdEaXJlY3RpdmUgaW1wbGVtZW50cyBPbkluaXRcbntcblxuICAgIEBJbnB1dCgpXG4gICAgc2V0TGV2ZWw6IG51bWJlcjtcblxuXG4gICAgQElucHV0KClcbiAgICBzZXRDdXJycmVudEl0ZW06IGFueTtcblxuXG4gICAgQElucHV0KClcbiAgICBzZXRQYXJlbnRJdGVtOiBhbnk7XG5cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgb3V0bGluZTogT3V0bGluZUZvckNvbXBvbmVudClcbiAgICB7XG4gICAgfVxuXG5cbiAgICBuZ09uSW5pdCgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuc2V0TGV2ZWwpKSB7XG4gICAgICAgICAgICB0aGlzLm91dGxpbmUuc3RhdGUuY3VycmVudExldmVsID0gdGhpcy5zZXRMZXZlbDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLnNldEN1cnJyZW50SXRlbSkpIHtcbiAgICAgICAgICAgIHRoaXMub3V0bGluZS5jdXJyZW50SXRlbSA9IHRoaXMuc2V0Q3VycnJlbnRJdGVtO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vdXRsaW5lLmlzVHJlZU1vZGVsRm9ybWF0KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dGxpbmUuY3VycmVudEl0ZW1bJyQkcGFyZW50SXRlbSddXG4gICAgICAgICAgICAgICAgICAgID0gKDxPdXRsaW5lTm9kZT50aGlzLnNldEN1cnJyZW50SXRlbSkucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm91dGxpbmUuaXNUcmVlTW9kZWxGb3JtYXQoKSAmJiBpc1ByZXNlbnQodGhpcy5zZXRQYXJlbnRJdGVtKSkge1xuICAgICAgICAgICAgdGhpcy5vdXRsaW5lLmN1cnJlbnRJdGVtWyckJHBhcmVudEl0ZW0nXSA9IHRoaXMuc2V0UGFyZW50SXRlbTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIEV2ZW50RW1pdHRlcixcbiAgICBmb3J3YXJkUmVmLFxuICAgIEluamVjdCxcbiAgICBJbnB1dCxcbiAgICBPcHRpb25hbCxcbiAgICBPdXRwdXQsXG4gICAgU2tpcFNlbGZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2Fzc2VydCwgRW52aXJvbm1lbnQsIGlzQmxhbmssIGlzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0Jhc2VDb21wb25lbnR9IGZyb20gJy4uLy4uLy4uL2NvcmUvYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHtPdXRsaW5lRm9yQ29tcG9uZW50fSBmcm9tICcuLi9vdXRsaW5lLWZvci5jb21wb25lbnQnO1xuaW1wb3J0IHtPdXRsaW5lU3RhdGV9IGZyb20gJy4uL291dGxpbmUtc3RhdGUnO1xuXG5cbi8qKlxuICogT3V0bGluZUNvbnRyb2xDb21wb25lbnQgcmVuZGVycyB0aGUgaW5kZW50YXRpb24sIGFycm93LCBhbmQgdGV4dCBmb3IgYSBub2RlIGluIGFuIG91dGxpbmUuXG4gKiBJdCBzaG91bGQgYmUgdXNlZCBlaXRoZXIgaW4gdGhlIGJvZHkgb2YgYW4gT3V0bGluZUZvciBjb21wb25lbnQsIG9yIGluc2lkZSBkYXRhdGFibGVcbiAqXG4gKlxuICogIyNVc2FnZSBpbnNpZGUgYm9keTpcbiAqXG4gKiAgSGVyZSB5b3UgY2FuIHNlZSB0aGF0IHdlIG5lZWQgdG8gd3JhcCBvdXQgY29udGVudCBpbnNpZGUgbmctdGVtcGxhdGUgd2hpY2ggd2lsbCBwdXNoIHVzXG4gKiAgZ2l2ZSB1cyBjdXJyZW50IGl0ZW0gaXRlbSBhbmQgdGhlbiB3ZSBjYW4gcGxhY2UgT3V0bGluZUNvbnRyb2xDb21wb25lbnQgdG8gY29udHJvbFxuICogIHRoZSB0cmVlLlxuICpcbiAqIGBgYFxuICogIDxhdy1vdXRsaW5lLWZvcjIgI29vbyBbbGlzdF09XCJsaXN0XCIgW2hhc0NoaWxkcmVuXT1cImhhc0NoaWxkcmVuXCI+XG4gKlxuICogICAgICA8bmctdGVtcGxhdGUgI291dGxpbmUgbGV0LWl0ZW0+XG4gKiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXktc2VjdGlvblwiPlxuICogICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvdXRsaW5lXCI+XG4gKiAgICAgICAgICAgICAgICAgIDxhdy1vdXRsaW5lLWNvbnRyb2w+XG4gKiAgICAgICAgICAgICAgICAgICAgICB7e2l0ZW0/LmNvbnRlbnR9fVxuICogICAgICAgICAgICAgICAgICA8L2F3LW91dGxpbmUtY29udHJvbD5cbiAqICAgICAgICAgICAgICA8L2Rpdj4qXG4gKiAgICAgICAgICA8L2Rpdj5cbiAqICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAqICA8L2F3LW91dGxpbmUtZm9yMj5cbiAqXG4gKlxuICogYGBgXG4gKlxuICpcbiAqXG4gKlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LW91dGxpbmUtY29udHJvbCcsXG4gICAgdGVtcGxhdGVVcmw6ICdvdXRsaW5lLWNvbnRyb2wuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydvdXRsaW5lLWNvbnRyb2wuY29tcG9uZW50LnNjc3MnXSxcbn0pXG5leHBvcnQgY2xhc3MgT3V0bGluZUNvbnRyb2xDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50XG57XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqICBJZiBUUlVFIGl0IGNoYW5nZXMgdGhlIGJlaGF2aW9yIG9mIHRoZSBvdXRsaW5lIG5vZGUgdGV4dCB3aGljaCBjbGljayBpcyB0cmlnZ2VyZWRcbiAgICAgKiAgaXQgc2VsZWN0cyB0aGUgaXRlbSBhbmQgYnJvYWRjYXN0IHRoZSBgb25JdGVtU2VsZWN0ZWRgIGV2ZW50XG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGFsbG93U2VsZWN0aW9uOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBASW5wdXQoKVxuICAgIGFsbG93RWRpdDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBUcmlnZ2VycyBhY3Rpb24gd2hlbiBvdXRsaW5lIGl0ZW0gaXMgZXhwYW5kZWRcbiAgICAgKlxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGFjdGlvbjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGl0ZW0gdXNlZCBmb3IgdGhpcyBgT3V0bGluZUNvbnRyb2xgXG4gICAgICpcbiAgICAgKi9cbiAgICBpdGVtOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVkIGluZGVudGF0aW9uIHVzZWQgdG8gc2hpZnQgdGhlIG5lc3RlZCBzZWN0aW9uIHRvIHRoZSBsZWZ0LiBUaGlzIGlzIHVzZWQgZm9yXG4gICAgICogZW1iZWRkZWQgbW9kZSBlLmcuIHRyZWUgdGFibGUgd2hlcmUgd2UgY2Fubm90IGluZGVudCBwYXJlbnRcbiAgICAgKi9cbiAgICBpbmRlbnRhdGlvbjogbnVtYmVyO1xuXG5cbiAgICBpc1Jvb3RJdGVtOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZW52OiBFbnZpcm9ubWVudCxcbiAgICAgICAgICAgICAgICBAT3B0aW9uYWwoKSBASW5qZWN0KGZvcndhcmRSZWYoKCkgPT4gT3V0bGluZVN0YXRlKSlcbiAgICAgICAgICAgICAgICBwcml2YXRlIG91dGxpbmVTdGF0ZTogT3V0bGluZVN0YXRlLFxuICAgICAgICAgICAgICAgIEBTa2lwU2VsZigpIEBPcHRpb25hbCgpIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBPdXRsaW5lQ29udHJvbENvbXBvbmVudCkpXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBwYXJlbnRDb250cm9sOiBPdXRsaW5lQ29udHJvbENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBAU2tpcFNlbGYoKSBAT3B0aW9uYWwoKSBASW5qZWN0KGZvcndhcmRSZWYoKCkgPT4gT3V0bGluZUZvckNvbXBvbmVudCkpXG4gICAgICAgICAgICAgICAgcHVibGljIG91dGxpbmVGb3I6IE91dGxpbmVGb3JDb21wb25lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuXG4gICAgfVxuXG4gICAgbmdPbkluaXQoKVxuICAgIHtcbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcblxuICAgICAgICB0aGlzLnByZXBhcmVDb250cm9sKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFdlIGRvbnQgc2hvdyBleHBhbnNpb24gaWNvbnMgd2hlbiB0aGVyZSBubyBjaGlsZHJlblxuICAgICAqXG4gICAgICovXG4gICAgaGFzRXhwYW5zaW9uQ29udHJvbCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRsaW5lRm9yLmhhc0NoaWxkcmVuKHRoaXMuaXRlbSkgJiYgdGhpcy5vdXRsaW5lRm9yLnNob3dFeHBhbnNpb25Db250cm9sO1xuICAgIH1cblxuXG4gICAgaXNTZWxlY3RlZCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRsaW5lRm9yLnN0YXRlLnNlbGVjdGVkSXRlbSA9PT0gdGhpcy5pdGVtO1xuICAgIH1cblxuICAgIGNhbGN1bGF0ZVN0eWxlQ2xhc3MoKTogc3RyaW5nXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuaGFzRXhwYW5zaW9uQ29udHJvbCgpIHx8XG4gICAgICAgICAgICAodGhpcy5vdXRsaW5lRm9yLnB1c2hSb290U2VjdGlvbk9uTmV3TGluZSAmJiBpc0JsYW5rKHRoaXMuaXRlbS4kJHBhcmVudEl0ZW0pKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3V0bGluZUZvci5lbWJlZGRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0bGluZUZvci5pc0V4cGFuZGVkKHRoaXMuaXRlbSkgPyAnaWNvbi1zbGltLWFycm93LWRvd24nXG4gICAgICAgICAgICAgICAgOiAnaWNvbi1zbGltLWFycm93LXJpZ2h0JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm91dGxpbmVGb3IuaXNFeHBhbmRlZCh0aGlzLml0ZW0pXG4gICAgICAgICAgICAgICAgPyAnaWNvbi1zbGltLWFycm93LXJpZ2h0IG91dGxpbmUtaWNvbi1leHBhbmRlZCcgOiAnaWNvbi1zbGltLWFycm93LXJpZ2h0JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbGxhcHNlcyBhbmQgZXhwYW5kcyBjdXJyZW50IG5vZGVcbiAgICAgKlxuICAgICAqL1xuICAgIHRvZ2dsZUV4cGFuc2lvbihldmVudDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5vdXRsaW5lRm9yLnN0YXRlLmN1cnJlbnRQYXRoID0gW107XG4gICAgICAgIGxldCBjdXJyZW50UGF0aCA9IHRoaXMuaXRlbTtcblxuICAgICAgICB3aGlsZSAoaXNQcmVzZW50KGN1cnJlbnRQYXRoKSkge1xuICAgICAgICAgICAgdGhpcy5vdXRsaW5lRm9yLnN0YXRlLmN1cnJlbnRQYXRoLnVuc2hpZnQoY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgY3VycmVudFBhdGggPSBjdXJyZW50UGF0aC4kJHBhcmVudEl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm91dGxpbmVGb3IudG9nZ2xlRXhwYW5zaW9uKCk7XG4gICAgICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgaXRlbTogdGhpcy5pdGVtLFxuICAgICAgICAgICAgZXhwYW5kZWQ6IHRoaXMub3V0bGluZUZvci5zdGF0ZS5pc0V4cGFuZGVkKHRoaXMuaXRlbSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hY3Rpb24uZW1pdChwYXlsb2FkKTtcbiAgICAgICAgdGhpcy5vdXRsaW5lRm9yLm9uRXhwYW5kQ2hhbmdlLmVtaXQocGF5bG9hZCk7XG5cbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgc2VsZWN0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMub3V0bGluZUZvci5zdGF0ZS5zZWxlY3RlZEl0ZW0gPSB0aGlzLml0ZW07XG4gICAgICAgIHRoaXMub3V0bGluZUZvci5vbkl0ZW1TZWxlY3RlZC5lbWl0KHRoaXMuaXRlbSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcmVwYXJlQ29udHJvbCgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLm91dGxpbmVGb3IpICYmIGlzUHJlc2VudCh0aGlzLm91dGxpbmVTdGF0ZSkpIHtcbiAgICAgICAgICAgIHRoaXMub3V0bGluZUZvciA9IHRoaXMub3V0bGluZVN0YXRlLm91dGxpbmVGb3I7XG4gICAgICAgIH1cblxuICAgICAgICBhc3NlcnQoaXNQcmVzZW50KHRoaXMub3V0bGluZUZvciksICdNaXNzaW5nIG91dGxpbmVGb3IgY29tcG9uZW50Jyk7XG4gICAgICAgIGlmICh0aGlzLm91dGxpbmVGb3IuZW1iZWRkZWQpIHtcbiAgICAgICAgICAgIGxldCBsZXZlbCA9IHRoaXMub3V0bGluZUZvci5zdGF0ZS5jdXJyZW50TGV2ZWw7XG4gICAgICAgICAgICBpZiAodGhpcy5vdXRsaW5lRm9yLnB1c2hSb290U2VjdGlvbk9uTmV3TGluZSAmJiBsZXZlbCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXZlbCAtPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmluZGVudGF0aW9uID0gKHRoaXMub3V0bGluZUZvci5pbmRlbnRhdGlvblBlckxldmVsICogbGV2ZWwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbSA9IHRoaXMub3V0bGluZUZvci5jdXJyZW50SXRlbTtcbiAgICAgICAgdGhpcy5pc1Jvb3RJdGVtID0gaXNCbGFuayh0aGlzLml0ZW0uJCRwYXJlbnRJdGVtKTtcbiAgICB9XG5cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtOZ01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Zvcm1zTW9kdWxlLCBSZWFjdGl2ZUZvcm1zTW9kdWxlfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0NvbW1vbk1vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7SW5pdE5lc3RpbmdEaXJlY3RpdmUsIE91dGxpbmVGb3JDb21wb25lbnR9IGZyb20gJy4vb3V0bGluZS1mb3IuY29tcG9uZW50JztcbmltcG9ydCB7QVdDb3JlQ29tcG9uZW50TW9kdWxlfSBmcm9tICcuLi8uLi9jb3JlL2NvcmUubW9kdWxlJztcbmltcG9ydCB7T3V0bGluZUNvbnRyb2xDb21wb25lbnR9IGZyb20gJy4vb3V0bGluZS1jb250cm9sL291dGxpbmUtY29udHJvbC5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBPdXRsaW5lRm9yQ29tcG9uZW50LFxuICAgICAgICBPdXRsaW5lQ29udHJvbENvbXBvbmVudCxcbiAgICAgICAgSW5pdE5lc3RpbmdEaXJlY3RpdmVcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZSxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgQVdDb3JlQ29tcG9uZW50TW9kdWxlXG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIE91dGxpbmVGb3JDb21wb25lbnQsXG4gICAgICAgIE91dGxpbmVDb250cm9sQ29tcG9uZW50LFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZVxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBBV091dGxpbmVGb3JNb2R1bGVcbntcbn1cblxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7Q29tcG9uZW50LCBmb3J3YXJkUmVmLCBJbmplY3QsIElucHV0LCBPcHRpb25hbCwgU2tpcFNlbGZ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtOR19WQUxVRV9BQ0NFU1NPUn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtFbnZpcm9ubWVudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0Jhc2VGb3JtQ29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL2Jhc2UtZm9ybS5jb21wb25lbnQnO1xuaW1wb3J0IHtGb3JtUm93Q29tcG9uZW50fSBmcm9tICcuLi8uLi9sYXlvdXRzL2Zvcm0tdGFibGUvZm9ybS1yb3cvZm9ybS1yb3cuY29tcG9uZW50JztcbmltcG9ydCB7ZGlzdGluY3RVbnRpbENoYW5nZWR9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuXG4vKipcbiAqIFJlbmRlcnMgaHRtbCB0ZXh0IGFyZWEgY29tcG9uZW50XG5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqXG4gKiAgICAgIEBDb21wb25lbnQoe1xuICogICAgICAgICAgc2VsZWN0b3I6ICdteU5vdGUnICxcbiAqICAgICAgICAgIHRlbXBsYXRlOiAnPGF3LXRleHQtYXJlYSBbdmFsdWVdPVwiaW5wdXRWYWx1ZVwiIFthdXRvUmVzaXplXT1cImF1dG9SZXNpemVcIiA+XG4gKiAgICAgICAgICAgICAgPC9hdy10ZXh0LWFyZWE+J1xuICogICAgICB9KVxuICogICAgICBleHBvcnQgY2xhc3MgTXlOb3RlQ29tcG9uZW50XG4gKiAgICAgIHtcbiAqICAgICAgICAgIGlucHV0VmFsdWU6IHN0cmluZyA9ICdTb21lIHJlYWxseSBsb25nIHRleHQnO1xuICogICAgICAgICAgYXV0b1Jlc2l6ZTogZmFsc2U7XG4gKiAgICAgIH1cbiAqXG4gKiBgYGBcbiAqICBOb3RlOiBpZiB5b3UgYXJlIHVzaW5nIHRoaXMgb3V0c2lkZSBvZiBGb3JtVGFibGUgcGxlYXNlIHByb3ZpZGUgeW91ciBvd24gRm9ybUdyb3VwXG4gKi9cblxuZXhwb3J0IGNvbnN0IFRFWFRBUkVBX0NPTlRST0xfVkFMVUVfQUNDRVNTT1I6IGFueSA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBUZXh0QXJlYUNvbXBvbmVudCksXG4gICAgbXVsdGk6IHRydWVcbn07XG5cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy10ZXh0LWFyZWEnLFxuICAgIHRlbXBsYXRlVXJsOiAndGV4dC1hcmVhLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsndGV4dC1hcmVhLmNvbXBvbmVudC5zY3NzJ10sXG5cbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgVEVYVEFSRUFfQ09OVFJPTF9WQUxVRV9BQ0NFU1NPUixcbiAgICAgICAge3Byb3ZpZGU6IEJhc2VGb3JtQ29tcG9uZW50LCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBUZXh0QXJlYUNvbXBvbmVudCl9XG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBUZXh0QXJlYUNvbXBvbmVudCBleHRlbmRzIEJhc2VGb3JtQ29tcG9uZW50XG57XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBBIHZhbHVlIHVzZWQgdG8gc3RvcmUgYW5kIHJlYWQgdXNlciBpbnB1dFxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICB2YWx1ZTogYW55ID0gJyc7XG5cblxuICAgIC8qKlxuICAgICAqIFNwZWZpZmllcyB2aXNpYmxlIG51bWJlciBvZiBsaW5lc1xuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgcm93czogbnVtYmVyID0gMjtcblxuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHZpc2libGUgd2lkdGhcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGNvbHVtbnM6IG51bWJlciA9IDIwO1xuXG5cbiAgICAvKipcbiAgICAgKiB3aGVuIHRoaXMgb3B0aW9uIGlzIFRSVUUgYW5kIHVzZXIgc3RhcnRzIHR5cGluZyBpdCB3aWxsIG1heGltaXplIHRleHRhcmVhJ3Mgd2lkdGggYW5kIGhlaWdodFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgYXV0b1Jlc2l6ZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZW52OiBFbnZpcm9ubWVudCxcbiAgICAgICAgICAgICAgICBAU2tpcFNlbGYoKSBAT3B0aW9uYWwoKSBASW5qZWN0KGZvcndhcmRSZWYoKCkgPT4gRm9ybVJvd0NvbXBvbmVudCkpXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIHBhcmVudENvbnRhaW5lcjogQmFzZUZvcm1Db21wb25lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYsIHBhcmVudENvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKVxuICAgIHtcblxuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xuICAgICAgICBzdXBlci5yZWdpc3RlckZvcm1Db250cm9sKHRoaXMudmFsdWUpO1xuXG4gICAgICAgIHRoaXMuZm9ybUNvbnRyb2wudmFsdWVDaGFuZ2VzLnBpcGUoXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgICAgICkuc3Vic2NyaWJlKHZhbCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlZCh0aGlzLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbC4gUGxlYXNlIHNlZSBDb250cm9sVmFsdWVBY2Nlc3NvclxuICAgICAqXG4gICAgICovXG4gICAgd3JpdGVWYWx1ZSh2YWx1ZTogYW55KVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmZvcm1Db250cm9sLnNldFZhbHVlKHZhbHVlLCB7b25seVNlbGY6IHRydWV9KTtcbiAgICAgICAgfVxuXG4gICAgfVxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Rm9ybXNNb2R1bGUsIFJlYWN0aXZlRm9ybXNNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtJbnB1dFRleHRhcmVhTW9kdWxlfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xuaW1wb3J0IHtUZXh0QXJlYUNvbXBvbmVudH0gZnJvbSAnLi90ZXh0LWFyZWEuY29tcG9uZW50JztcbmltcG9ydCB7QVdTdHJpbmdGaWVsZE1vZHVsZX0gZnJvbSAnLi4vc3RyaW5nL3N0cmluZy5tb2R1bGUnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBUZXh0QXJlYUNvbXBvbmVudFxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBJbnB1dFRleHRhcmVhTW9kdWxlLFxuICAgICAgICBBV1N0cmluZ0ZpZWxkTW9kdWxlXG4gICAgXSxcblxuICAgIGVudHJ5Q29tcG9uZW50czogW1xuICAgICAgICBUZXh0QXJlYUNvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBUZXh0QXJlYUNvbXBvbmVudCxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGVcbiAgICBdLFxuICAgIHByb3ZpZGVyczogW11cbn0pXG5leHBvcnQgY2xhc3MgQVdUZXh0QXJlYU1vZHVsZVxue1xufVxuXG5cbiIsImltcG9ydCB7Q29tcG9uZW50LCBFbGVtZW50UmVmLCBJbnB1dCwgVGVtcGxhdGVSZWZ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtFbnZpcm9ubWVudCwgaXNQcmVzZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7QmFzZUNvbXBvbmVudH0gZnJvbSAnLi4vLi4vY29yZS9iYXNlLmNvbXBvbmVudCc7XG5cbi8qKlxuICpcbiAqIFBhZ2UtTm90aWZpY2F0aW9uIGNvbXBvbmVudCB0aGF0IGltcGxlbWVudHMgYSBub3RpZmljYXRpb24gc3lzdGVtIGZvciB0aGUgdXNlciByZWdhcmRpbmdcbiAqIHRoZSBjdXJyZW50IG9iamVjdCBoZSdzIHdvcmtpbmcgb24uIFR5cGljYWwgbm90aWZpY2F0aW9uIGFyZTpcbiAqICAgICAgU3VjY2VzcyAtIHNhdmVkLlxuICogICAgICBXYXJuaW5nIC0gU291cmNpbmcgcmVxdWVzdCByZXF1aXJlcyAzIHN1cHBsaWVycy5cbiAqICAgICAgRXJyb3IgICAtIGNhbm5vdCBjb25uZWN0IHRvIHNlcnZlciwgY2hlY2sgaW50ZXJuZXQgY29ubmVjdGlvbi5cbiAqXG4gKlxuICpcbiAqIFVzYWdlIDE6ICBBcyBwYXJ0IG9mIHBhZ2Ugd3JhcHBlci5cbiAqXG4gKiAgQENvbXBvbmVudCh7XG4gKiAgICBzZWxlY3RvcjogJ015UGFnZScgLFxuICogICAgdGVtcGxhdGU6IGBcbiAqICAgICAgIDxhdy1vYmplY3QtcGFnZS13cmFwcGVyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIFt0aXRsZV09XCJNeVBhZ2VcIlxuICogICAgICAgICAgICAgICAgICAgICAgICBbb2JqZWN0VHlwZV09XCJNeVR5cGVcIlxuICogICAgICAgICAgICAgICAgICAgICAgICBbbm90aWZpY2F0aW9uXT1cInBhZ2VOb3RpZmljYXRpb25cIj5cbiAqICAgICAgICAgICAgIHBhZ2UgY29udGVudFxuICogICAgICAgICAgYFxuICogICAgICAgPC9hdy1vYmplY3QtcGFnZXItd3JhcHBlcj5cbiAqICAgIH0pXG4gKiAgICBleHBvcnQgY2xhc3MgTXlQYWdlXG4gKiAgICB7XG4gKlxuICogICAgICAgIHBhZ2VOb3RpZmljYXRpb246IFBhZ2VOb3RpZmljYXRpb24gPSBuZXcgUGFnZU5vdGlmaWNhdGlvbihcIndhcm5cIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJQb2xpY3kgV2FybmluZ1wiLCBcIlRoaXMgcmVxdWVzdCByZXF1aXJlcyAzIGJpZHMuXCIpO1xuICpcbiAqICAgICAgICBjb25zdHJ1Y3RvciAoKVxuICogICAgICAgIHtcbiAqICAgICAgICB9XG4gKiAgICB9XG4gKlxuICogVXNhZ2UgMjogZGlyZWN0bHkgaW50byB0aGUgcGFnZS5cbiAqXG4gKiAgQENvbXBvbmVudCh7XG4gKiAgICBzZWxlY3RvcjogJ3JlZ2lzdHJhdGlvbicgLFxuICogICAgdGVtcGxhdGU6IGBcbiAqICAgICAgPGF3LWhlYWRlcj48L2F3LWhlYWRlcj5cbiAqICAgICAgICBQYWdlIEhlYWRlclxuICpcbiAqICAgICAgICA8bmctdGVtcGxhdGUgW25nSWZdPVwiaGFzTm90aWZpY2F0aW9ucygpXCI+XG4gKiAgICAgICAgICA8ZGl2IGNsYXNzPVwidWktZy0xMiB1LW5vcGFkZGluZ1wiPlxuICogICAgICAgICAgICA8YXctcGFnZS1ub3RpZmljYXRpb24gW25vdGlmaWNhdGlvbl09XCJub3RpZmljYXRpb25cIj48L2F3LXBhZ2Utbm90aWZpY2F0aW9uPlxuICogICAgICAgICAgPC9kaXY+XG4gKiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAqXG4gKiAgICAgIDxhdy1mb290ZXI+PC9hdy1mb290ZXI+XG4gKiAgICBgXG4gKiAgICB9KVxuICogICAgZXhwb3J0IGNsYXNzIE15UGFnZVxuICogICAge1xuICpcbiAqICAgICAgICBub3RpZmljYXRpb246IFBhZ2VOb3RpZmljYXRpb24gPSBuZXcgUGFnZU5vdGlmaWNhdGlvbihcIndhcm5pbmdcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJQb2xpY3kgV2FybmluZ1wiLCBcIlRoaXMgcmVxdWVzdCByZXF1aXJlcyAzIGJpZHMuXCIpO1xuICpcbiAqICAgICAgICBjb25zdHJ1Y3RvciAoKVxuICogICAgICAgIHtcbiAqICAgICAgICB9XG4gKiAgICB9XG4gKlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LXBhZ2Utbm90aWZpY2F0aW9uJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3BhZ2Utbm90aWZpY2F0aW9uLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsncGFnZS1ub3RpZmljYXRpb24uY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBQYWdlTm90aWZpY2F0aW9uQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudFxue1xuXG4gICAgLyoqXG4gICAgICogQW55IGluZm8sIEVycm9yLCBvciBXYXJuIGZvciB0aGlzIHBhZ2UuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBub3RpZmljYXRpb246IFBhZ2VOb3RpZmljYXRpb247XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZWxlbWVudDogRWxlbWVudFJlZiwgcHVibGljIGVudjogRW52aXJvbm1lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuICAgIH1cblxuICAgIG5vdGlmaWNhdGlvbkNsYXNzKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGBub3RpZmljYXRpb24tJHt0aGlzLm5vdGlmaWNhdGlvbi50eXBlfWA7XG4gICAgfVxuXG4gICAgbm90aWZpY2F0aW9uSWNvbigpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiBgYXJpYmEtaWNvbiBpY29uLSR7dGhpcy5ub3RpZmljYXRpb24udHlwZX1gO1xuICAgIH1cblxufVxuXG4vKipcbiAqIFBhZ2UgTm90aWZpY2F0aW9uIGFyZSBtZXNzYWdlcyBmb3IgdGhpcyBwYWdlIG9ubHkuIEl0IGRpc3BsYXlzIGluIHRoZSBjZW50ZXIgb2YgdGhlIHBhZ2VcbiAqIHJpZ2h0IHVuZGVyIHBhZ2UgdGl0bGUuIFR5cGljYWwgcGFnZSBub3RpZmljYXRpb25zIGFyZSAnc2F2ZSBjb25maXJtYXRpb24nLFxuICogJ2Vycm9yIGR1cmluZyBzdWJtaXQnLCB3YXJuaW5ncyBvZiBmaWVsZCByZXF1aXJlbWVudHMsIGV0Yy5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VOb3RpZmljYXRpb25cbntcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgdHlwZTogUGFnZU5vdGlmaWNhdGlvblR5cGUsIHB1YmxpYyB0aXRsZTogc3RyaW5nLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBkZXNjcmlwdGlvbjogc3RyaW5nLCBwdWJsaWMgY29udGVudFRtcGw/OiBUZW1wbGF0ZVJlZjxhbnk+KVxuICAgIHtcbiAgICB9XG5cbiAgICBoYXNUZW1wbGF0ZSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMuY29udGVudFRtcGwpO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZSArICcsIHRpdGxlOiAnICsgdGhpcy50aXRsZSArICcsIGRlc2NyaXB0aW9uOiAgJyArIHRoaXMuZGVzY3JpcHRpb247XG4gICAgfVxufVxuXG5leHBvcnQgdHlwZSBQYWdlTm90aWZpY2F0aW9uVHlwZSA9ICdzdWNjZXNzJyB8ICdpbmZvJyB8ICd3YXJuaW5nJyB8ICdlcnJvcic7XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7TmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1BhZ2VOb3RpZmljYXRpb25Db21wb25lbnR9IGZyb20gJy4vcGFnZS1ub3RpZmljYXRpb24uY29tcG9uZW50JztcblxuQE5nTW9kdWxlKHtcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgUGFnZU5vdGlmaWNhdGlvbkNvbXBvbmVudFxuXG4gICAgXSxcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZVxuICAgIF0sXG4gICAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgICAgIFBhZ2VOb3RpZmljYXRpb25Db21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgUGFnZU5vdGlmaWNhdGlvbkNvbXBvbmVudFxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBBV1BhZ2VOb3RpZmljYXRpb25Nb2R1bGVcbntcbn1cblxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhbiBldmVudCB0cmlnZ2VyZWQgd2hlbiBhIHBhZ2UgaGFzIGJlZW4gaW5pdGlhbGl6ZWQuXG4gKlxuICovXG5leHBvcnQgY2xhc3MgUGFnZUluaXRpYWxpemVkXG57XG4gICAgY29uc3RydWN0b3IocHVibGljIHRpdGxlOiBzdHJpbmcpXG4gICAge1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGBQYWdlSW5pdGlhbGl6aWVkKHRpdGxlOiAke3RoaXMudGl0bGV9KWA7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gZXZlbnQgdHJpZ2dlcmVkIHdoZW4gYSBwYWdlIGhhcyBiZWVuIGRlc3Ryb3llZC5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlRGVzdHJveWVkXG57XG4gICAgY29uc3RydWN0b3IocHVibGljIHRpdGxlOiBzdHJpbmcpXG4gICAge1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGBQYWdlRGVzdHJveWVkKHRpdGxlOiAke3RoaXMudGl0bGV9KWA7XG4gICAgfVxufVxuXG5leHBvcnQgdHlwZSBQYWdlRXZlbnQgPSBQYWdlSW5pdGlhbGl6ZWQgfCBQYWdlRGVzdHJveWVkO1xuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge0luamVjdGFibGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtTdWJqZWN0fSBmcm9tICdyeGpzJztcbmltcG9ydCB7UGFnZURlc3Ryb3llZCwgUGFnZUV2ZW50LCBQYWdlSW5pdGlhbGl6ZWR9IGZyb20gJy4vcGFnZS1ldmVudHMnO1xuXG4vKipcbiAqIFBhZ2UgTGlmZUN5Y2xlIFNlcnZpY2UgbW9uaXRvcnMgYWxsIHBhZ2UgaW5pdGlhbGl6YXRpb24gYW5kIGRlc3RydWN0aW9ucy5cbiAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgc2VydmljZSBpcyB0byBoZWxwIHRoZSBhcHBsaWNhdGlvbiBtb25pdG9yIHBhZ2UgbGlmZWN5Y2xlLCBzdWJzY3JpYmVcbiAqIHRvIGxpZmVjeWNsZSBldmVudHMgYW5kIGV4ZWN1dGUgYWN0aW9ucyBzdWNoIGFzIHVzZXIgYW5hbHl0aWNzLlxuICpcbiAqIFVzYWdlOlxuICpcbiAqICAgIDEuICBJbmplY3QgUGFnZUxpZmVDeWNsZVNlcnZpY2UgaW50byB5b3VyIGNvbnN0cnVjdG9yXG4gKlxuICogICAgY29uc3RydWN0b3IocGFnZUxpZmVjeWNsZTpQYWdlTGlmZUN5Y2xlU2VydmljZSkge1xuICogICAgICAgIHBhZ2VMaWZlY3ljbGUucGFnZUV2ZW50cy5zdWJzY3JpYmUoZXZlbnQ6RXZlbnQgPT4ge1xuICogICAgICAgICAgICBpZihldmVudCBpbnN0YW5jZW9mIFBhZ2VJbml0aWFsaXplZCkge1xuICogICAgICAgICAgICB9XG4gKiAgICAgICAgICAgIC8vIFBhZ2VEZXN0cm95ZWRcbiAqXG4gKiAgICAgICAgfSk7XG4gKiAgICAgfVxuICovXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUGFnZUxpZmVDeWNsZVNlcnZpY2VcbntcblxuICAgIC8qKlxuICAgICAqIFBhZ2UgZXZlbnQgcXVldWUgd2hlbiBhbGwgcGFnZSBsaWZlY3ljbGUgZXZlbnRzOiBpbml0LCBkZXN0cm95IGFyZSBlbWl0dGVkLlxuICAgICAqIExpc3RlbmVycyBjYW4gc3Vic2NyaWJlIHRvIHRoZXNlIGV2ZW50cy5cbiAgICAgKi9cbiAgICBwdWJsaWMgcGFnZUV2ZW50czogU3ViamVjdDxQYWdlRXZlbnQ+ID0gbmV3IFN1YmplY3Q8UGFnZUV2ZW50PigpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gcGFnZSBpcyBpbml0aWFsaXplZC5cbiAgICAgKiBAcGFyYW0gcGFnZVRpdGxlXG4gICAgICovXG4gICAgcHVibGljIG9uUGFnZUluaXQocGFnZVRpdGxlOiBzdHJpbmcpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnBhZ2VFdmVudHMubmV4dChuZXcgUGFnZUluaXRpYWxpemVkKHBhZ2VUaXRsZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGwgd2hlbiBwYWdlIGhhcyBiZWVuIGRlc3Ryb3llZFxuICAgICAqIEBwYXJhbSB0aXRsZVxuICAgICAqL1xuICAgIHB1YmxpYyBvblBhZ2VEZXN0cm95KHBhZ2VUaXRsZTogc3RyaW5nKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5wYWdlRXZlbnRzLm5leHQobmV3IFBhZ2VEZXN0cm95ZWQocGFnZVRpdGxlKSk7XG4gICAgfVxufVxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7RW52aXJvbm1lbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtDb21wb25lbnRSZWdpc3RyeX0gZnJvbSAnLi4vLi4vY29yZS9jb21wb25lbnQtcmVnaXN0cnkuc2VydmljZSc7XG5pbXBvcnQge1BhZ2VMaWZlQ3ljbGVTZXJ2aWNlfSBmcm9tICcuL3BhZ2UtbGlmZWN5Y2xlLnNlcnZpY2UnO1xuaW1wb3J0IHtCYXNlQ29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL2Jhc2UuY29tcG9uZW50JztcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBkaWZmZXJlbnQgcGFnZSB0eXBlcyBpbiBhbiBhcHBsaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGVudW0gUGFnZVR5cGUge1xuICAgIEluaXQsICAgICAgICAgLy8gSW5pdCBQYWdlIHR5cGVcbiAgICBMb2dpbiwgICAgICAgIC8vIExvZ2luIFBhZ2VcbiAgICBPYmplY3QsICAgICAgIC8vIE9iamVjdCBkZXRhaWwgcGFnZVxuICAgIExpc3QsICAgICAgICAgLy8gTGlzdCBQYWdlXG4gICAgTWFzdGVyRGV0YWlsLCAvLyBNYXN0ZXJEZXRhaWxcbiAgICBEYXNoYm9hcmQsICAgIC8vIERhc2hib2FyZCBwYWdlXG4gICAgTW9kYWwgICAgICAgICAvLyBNb2RhbCBwYWdlLCBpdCBjYW4gYmUgY29uZmlndXJlZCB0byBiZSBhIHBvcHVwLCBvciBzdGFuZGFsb25lIHBhZ2UuXG59XG5cbi8qKiBQbGFjZWhvbGRlciBub3cuIFRoZSBFcnJvciBNYW5hZ2VyIGhhbmRsZXMgYWxsIHRoZSBlcnJvcnMgb24gdGhlIHBhZ2UuXG4gKiAgSXQgaXMgaW5pdGlhbGl6ZWQgZm9yIGV2ZXJ5IHBhZ2UuIFBhZ2UgZXJyb3JzLCB3YXJuaW5nLCBpbmZvIGdvZXMgdGhyb3VnaFxuICogIHRoZSBlcnJvciBNYW5hZ2VyIGFuZCB0aGUgcmVzdWx0IG1lc3NhZ2UgaXMgZGlzcGxheWVkIG9uIHRoZSBwYWdlIG5vdGlmaWNhdGlvbiBhcmVhLlxuICovXG5leHBvcnQgY2xhc3MgRXJyb3JNYW5hZ2VyXG57XG5cbn1cblxuLyoqXG4gKiAgUGFnZSB3cmFwcGVyIGlzIHRoZSBiYXNlIGNsYXNzIGZvciBhbGwgcGFnZXMuIFRoZSBpZGVhIGlzIHRoYXQgdGhlcmUgYXJlIGRpZmZlcmVudCBwYWdlIHR5cGVzXG4gKiAgaW4gYW4gQXBwbGljYXRpb24uIEEgTGlzdCBQYWdlIHJlbmRlcnMgYSBsaXN0IG9mIG9iamVjdHMsIGV4OiBjdXN0b21lcnMsIHJlcXVlc3RzLCBQTy4gIEFuZFxuICogIGEgb2JqZWN0IHBhZ2Ugd2lsbCByZW5kZXIgb25lIG9iamVjdCBpbiBkZXRhaWwuXG4gKlxuICogIFRoZXkgc2hhcmUgY29tbW9uIGF0dHJpYnV0ZXMgc3VjaCBhcyBwYWdlIHR5cGUgYW5kIHBhZ2UgaWQuXG4gKlxuICogIEFyaWJhIFBhZ2UgaGF2ZSBhIGxpZmUgY3ljbGUuIFdoZW4gcGFnZSBzdGFydHMgdXAsIGl0J3MgaW5pdGlhbGl6ZWQuIEFuZCB3aGVuIHRoZSBwYWdlIGlzXG4gKiAgZGVzdHJveWVkLCBpdCdsbCBiZSBjb21wbGV0ZS5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFBhZ2VXcmFwcGVyIGV4dGVuZHMgQmFzZUNvbXBvbmVudFxue1xuICAgIC8qKlxuICAgICAqIFdoYXQgdHlwZSBvZiBwYWdlIHRoaXMgaXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgcGFnZVR5cGU6IFBhZ2VUeXBlID0gUGFnZVR5cGUuSW5pdDtcblxuICAgIC8qKlxuICAgICAqIFBhZ2UgSWQuIFVzZWQgd2hlbiBwYWdlcyBhcmUgc3RvcmVkIGluIG1hcC5cbiAgICAgKi9cbiAgICBpZDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxpbmcgYWxsIHRoZSBlcnJvciBvbiBhIHBhZ2UuXG4gICAgICovXG4gICAgcHVibGljIGVycm9yTWFuYWdlcjogRXJyb3JNYW5hZ2VyO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGUgdGhhdCB0aGlzIHBhZ2Ugd3JhcHBlciBoYXMgYmVlbiB3cmFwcGVkIGJ5IGFub3RoZXIgcGFnZSB3cmFwcGVyLlxuICAgICAqIEluIHRoaXMgY2FzZSwgd2Ugd291bGRuJ3QgZGlzcGxheSBoZWFkZXIgYW5kIGZvb3RlciBhbmQgb3RoZXIgcGFnZSB3cmFwcGVyIGNvbXBvbmVudHNcbiAgICAgKi9cbiAgICBhbHJlYWR5SW5QYWdlV3JhcHBlcjogYm9vbGVhbjtcblxuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQsIHBhZ2VUeXBlOiBQYWdlVHlwZSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgY29tcG9uZW50UmVnaXN0cnk6IENvbXBvbmVudFJlZ2lzdHJ5LFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBwYWdlTGlmZWN5Y2xlU2VydmljZTogUGFnZUxpZmVDeWNsZVNlcnZpY2UpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuICAgICAgICB0aGlzLnBhZ2VUeXBlID0gcGFnZVR5cGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsIHN1YmNsYXNzIG5lZWRzIHRvIGdlbmVyYXRlZCBhIHBhZ2UgaWRlbnRpZmllci5cbiAgICAgKiBJdCBmb2xsb3dzIHRoZSBmb2xsb3dpbmcgcGF0dGVybjpcbiAgICAgKiAgICB0eXBlX3RpdGxlX2lkXG4gICAgICpcbiAgICAgKiAgICBSRlFfU291cmNpbmdSZXF1ZXN0XzEyM1xuICAgICAqL1xuICAgIGFic3RyYWN0IGdlbmVyYXRlUGFnZUlkKCk6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdW5pcXVlIElkIGZvciB0aGlzIHBhZ2UuXG4gICAgICpcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0SWQoKTogc3RyaW5nXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlkID0gdGhpcy5nZW5lcmF0ZVBhZ2VJZCgpO1xuICAgIH1cblxufVxuXG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RW52aXJvbm1lbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtQYWdlTWVudUl0ZW19IGZyb20gJy4uL3BhZ2UtaGVhZGVyL3BhZ2UtaGVhZGVyLmNvbXBvbmVudCc7XG5pbXBvcnQge0Jhc2VDb21wb25lbnR9IGZyb20gJy4uLy4uLy4uL2NvcmUvYmFzZS5jb21wb25lbnQnO1xuXG4vKipcbiAqICBUaGlzIGlzIGEgdGVtcG9yYXJ5IGltcGxlbWVudGF0aW9uIGZvciB0aGUgcGFnZSBoZWFkZXIgY29tcG9uZW50LlxuICogIFdoZW4gdGhlIHJlYWwgaW1wbGVtZW50YXRpb24gb2Ygc2lkZSBtZW51IGlzIGRvbmUsIFBhZ2VIZWFkZXJDb21wb25lbnQgd2lsbFxuICogIGJlIHN3YXBlZCB0byB1c2UgaXQuXG4gKlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LXNpZGVuYXYnLFxuICAgIHRlbXBsYXRlVXJsOiAnc2lkZW5hdi5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ3NpZGVuYXYuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBTaWRlbmF2Q29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudFxue1xuICAgIC8qKlxuICAgICAqIGxpc3Qgb2YgbWVudSBpdGVtc1xuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgaXRlbXM6IFBhZ2VNZW51SXRlbVtdO1xuXG4gICAgLyoqXG4gICAgICogZGlzcGxheXMgdGhlIGJhY2sgbGluayB0aGF0IG5hdmlnYXRlcyB1c2VyIHRvIHRoZSBwcmV2aW91cyBwYWdlIHdoZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3c6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZWxlbWVudDogRWxlbWVudFJlZiwgcHVibGljIGVudjogRW52aXJvbm1lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuICAgIH1cblxuICAgIGdldFNpZGVuYXZDbGFzcygpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIC8vIE9ubHkgc2hvdyBpZiBJIGhhdmUgaXRlbXNcbiAgICAgICAgcmV0dXJuICh0aGlzLnNob3cgJiYgdGhpcy5pdGVtcykgPyAnc2lkZW5hdiBzaWRlbmF2LWFjdGl2ZScgOiAnc2lkZW5hdic7XG4gICAgfVxuXG4gICAgb3BlbigpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnNob3cgPSB0cnVlO1xuICAgIH1cblxuICAgIGNsb3NlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRvZ2dsZSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnNob3cgPSAhdGhpcy5zaG93O1xuICAgIH1cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0LCBWaWV3Q2hpbGR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtFbnZpcm9ubWVudCwgaXNQcmVzZW50LCBSb3V0aW5nU2VydmljZX0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge1NpZGVuYXZDb21wb25lbnR9IGZyb20gJy4uL3NpZGVuYXYvc2lkZW5hdi5jb21wb25lbnQnO1xuaW1wb3J0IHtCYXNlQ29tcG9uZW50fSBmcm9tICcuLi8uLi8uLi9jb3JlL2Jhc2UuY29tcG9uZW50JztcblxuLyoqXG4gKlxuICogSGVhZGVyIGNvbXBvbmVudCB0aGF0IGltcGxlbWVudHMgY29uc2lzdGVudCBzdHlsaW5nLCBiZWhhdmlvciBmb3IgYW4gQXJpYmEgcGFnZS5cbiAqIEhlYWRlciBpbmNsdWRlcyBhIG1lbnUsIHVzZXIgcHJvZmlsZSwgYW5kIGFsZXJ0cy5cbiAqXG4gKiAgQENvbXBvbmVudCh7XG4gKiAgICBzZWxlY3RvcjogJ3JlZ2lzdHJhdGlvbicgLFxuICogICAgdGVtcGxhdGU6IGBcbiAqICAgICAgICAgICAgICAgIDxhdy1wYWdlLWhlYWRlciBbc2hvd0JhY2tBY3Rpb25dPVwidHJ1ZVwiIHVzZXJOYW1lPVwiQ2hhZCBOb2xsXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW21lbnVJdGVtc109XCJtZW51SXRlbXNcIiBbbm90aWZpY2F0aW9uc109XCJ1c2VyTm90aWZpY2F0aW9uc1wiPlxuICogICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFnZS1oZWFkZXItY2VudGVyXCI+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2YmFyLWJyYW5kXCIgdGFiaW5kZXg9XCIwXCIgaHJlZj1cIi9cIj5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJuYXZiYXItbG9nb1wiIHNyYz1cIi4vaW1hZ2VzL1NBUF9BcmliYV9EQi5wbmdcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIkdvIHRvIGhvbWVwYWdlXCIgZGF0YS1waW4tbm9waW49XCJ0cnVlXCI+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICogICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAqICAgICAgICAgICAgICAgIDwvYXctcGFnZS1oZWFkZXI+XG4gKlxuICogICAgYFxuICogICAgfSlcbiAqICAgIGV4cG9ydCBjbGFzcyBNeVBhZ2VcbiAqICAgIHtcbiAqICAgICAgbWVudUl0ZW1zOiBQYWdlTWVudUl0ZW1bXSA9IFtuZXcgUGFnZU1lbnVJdGVtKCdpY29uLWhvbWUnLCAnSG9tZScsICcvcGxheS8nKSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQYWdlTWVudUl0ZW0oJ2ljb24tZXhwZW5zZS1yZXBvcnQnLCAnUmVwb3J0cycsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy9wbGF5L3BhZ2VoZWFkZXInKSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQYWdlTWVudUl0ZW0oJ2ljb24tc2FsZXMtb3JkZXInLCAnUHVyY2hhc2UgT3JkZXInLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy9wbGF5L3BhZ2VoZWFkZXInKSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQYWdlTWVudUl0ZW0oJ2ljb24tYWNjb3VudCcsICdBY2NvdW50cycsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy9wbGF5L3BhZ2VoZWFkZXInKV07XG4gKlxuICogICAgIHVzZXJOb3RpZmljYXRpb25zOiBVc2VyTm90aWZpY2F0aW9uW10gPSBbXG4gKiAgICAgICBuZXcgVXNlck5vdGlmaWNhdGlvbignaWNvbi1leHBlbnNlLXJlcG9ydCcsICdFeHBlbnNlIHJlcG9ydCBFWFA0NTMgaGFzIGJlZW4gYXBwcm92ZWQuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnL3BsYXkvJyksXG4gKiAgICAgICAgIG5ldyBVc2VyTm90aWZpY2F0aW9uKCdpY29uLXNhbGVzLW9yZGVyJywgJ1NhbGVzIE9yZGVyIFNPMTIzNCBoYXMgYmVlbiBjcmVhdGVkLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy9wbGF5LycpLFxuICogICAgICAgICAgIG5ldyBVc2VyTm90aWZpY2F0aW9uKCdpY29uLWFjY291bnQnLCAnU3VwcGxpZXIgYWNjb3VudCBTQTEyMzQgaGFzIGJlZW4gdXBkYXRlZC4nLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy9wbGF5LycpXG4gKiAgICAgICAgXTtcbiAqXG4gKiAgICAgICAgY29uc3RydWN0b3IgKClcbiAqICAgICAgICB7XG4gKiAgICAgICAgfVxuICpcbiAqICAgIH1cbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1wYWdlLWhlYWRlcicsXG4gICAgdGVtcGxhdGVVcmw6ICdwYWdlLWhlYWRlci5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ3BhZ2UtaGVhZGVyLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgUGFnZUhlYWRlckNvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnRcbntcblxuICAgIC8qKlxuICAgICAqIGxpc3Qgb2YgbWVudSBlbnRyaWVzLiBUaGUgcGFnZSBtZW51IGljb24gd2lsbCBvbmx5IGRpc3BsYXkgd2hlbiB0aGlzIGxpc3QgaXMgbm90IGVtcHR5LlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgbWVudUl0ZW1zOiBQYWdlTWVudUl0ZW1bXTtcblxuICAgIC8qKlxuICAgICAqIGxpc3Qgb2YgdXNlciBub3RpZmljYXRpb25cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG5vdGlmaWNhdGlvbnM6IFVzZXJOb3RpZmljYXRpb25bXTtcblxuICAgIC8qKlxuICAgICAqIFNob3VsZCB0aGUgdXNlciBub3RpZmljYXRpb24gaWNvbiBiZSBoaWRkZW4uIERlZmF1bHQgaXQgdG8gc2hvdyB0aGUgaWNvbiBldmVuXG4gICAgICogaWYgdGhlcmUncyBubyBub3RpZmljYXRpb25zLlxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBoaWRlTm90aWZpY2F0aW9uOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBkaXNwbGF5cyB0aGUgYmFjayBsaW5rIHRoYXQgbmF2aWdhdGVzIHVzZXIgdG8gdGhlIHByZXZpb3VzIHBhZ2Ugd2hlbiBjbGlja2VkLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2hvd0JhY2tBY3Rpb246IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgbG9nZ2VkIGluIHVzZXIgbmFtZS5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHVzZXJOYW1lOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2lkZW1lbnVcbiAgICAgKi9cbiAgICBAVmlld0NoaWxkKCdzaWRlbWVudScpXG4gICAgc2lkZW5hdjogU2lkZW5hdkNvbXBvbmVudDtcblxuICAgIHNob3dOb3RpZmljYXRpb25QYW5lbDogYm9vbGVhbiA9IGZhbHNlO1xuXG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZWxlbWVudDogRWxlbWVudFJlZiwgcHVibGljIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSByb3V0aW5nOiBSb3V0aW5nU2VydmljZSlcbiAgICB7XG4gICAgICAgIHN1cGVyKGVudik7XG5cbiAgICB9XG5cbiAgICBiYWNrQWN0aW9uKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMucm91dGluZy5nb0JhY2soKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEbyBpIGhhdmUgYW55IG1lbnUgaXRlbXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBoYXNNZW51SXRlbXMoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1lbnVJdGVtcyAmJiB0aGlzLm1lbnVJdGVtcy5sZW5ndGggPiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgdGhlIHNpZGUgbmF2aWdhdGlvbiBtZW51LlxuICAgICAqL1xuICAgIHNob3dIaWRlTWVudSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnNpZGVuYXYudG9nZ2xlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRG8gSSBoYXZlIGFueSBub3RpZmljYXRpb25zLlxuICAgICAqXG4gICAgICovXG4gICAgaGFzTm90aWZpY2F0aW9ucygpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMubm90aWZpY2F0aW9ucykgJiYgdGhpcy5ub3RpZmljYXRpb25zLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdG9nZ2xpbmcgd2hlYXRoZXIgbm90aWZpY2F0aW9uIHBhbmVsIGlzIGRpc3BsYXllZCBvciBub3QuXG4gICAgICovXG4gICAgdG9nZ2xlTm90aWZpY2F0aW9uUGFuZWwoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zaG93Tm90aWZpY2F0aW9uUGFuZWwgPSAhdGhpcy5zaG93Tm90aWZpY2F0aW9uUGFuZWw7XG4gICAgfVxufVxuXG4vKipcbiAqIFBhZ2VNZW51SXRlbSByZXByZXNlbnRzIGFuIGl0ZW0gaW4gdGhlIHBhZ2UgbWVudSBzdHJ1Y3R1cmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlTWVudUl0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gaWNvbiAgICAtIEljb24gb2YgdGhpcyBtZW51IGl0ZW0uXG4gICAgICogQHBhcmFtIGxhYmVsICAgLSBsYWJlbCBvZiB0aGlzIGl0ZW0uXG4gICAgICogQHBhcmFtIGxpbmsgICAgLSBsaW5rIHRvIHRoZSBkZXN0aW5hdGlvbiB3aGVuIHVzZXIgY2xpY2tzIG9uIGl0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBpY29uOiBzdHJpbmcsIHB1YmxpYyBsYWJlbDogc3RyaW5nLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBsaW5rOiBzdHJpbmcpXG4gICAge1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGBQYWdlTWVudUl0ZW06IChsYWJlbCwgJHt0aGlzLmxhYmVsfSlgO1xuICAgIH1cbn1cblxuLyoqXG4gKiBub3RpZmljYXRpb24gZm9yIHRoZSBjdXJyZW50IGxvZ2dlZCBpbiB1c2VyLlxuICogRXg6ICBQUjIwNDkgaGFzIGJlZW4gYXBwcm92ZWQuXG4gKiAgICAgIE9yZGVyIFBPNTE4IHJlY2VpdmVkLlxuICovXG5leHBvcnQgY2xhc3MgVXNlck5vdGlmaWNhdGlvblxue1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGljb24gICAtIGFsZXJ0IG5vdGlmaWNhdGlvbiBpY29uXG4gICAgICogQHBhcmFtIGxhYmVsICAtIGFsZXJ0IG5vdGlmaWNhdGlvbiBsYWJlbFxuICAgICAqIEBwYXJhbSBsaW5rICAgLSBsaW5rXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHVibGljIGljb246IHN0cmluZywgcHVibGljIGxhYmVsOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgcHVibGljIGxpbms6IHN0cmluZylcbiAgICB7XG5cbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiBgUGFnZVVzZXJOb3RpZmljYXRpb246IChsYWJlbCwgJHt0aGlzLmxhYmVsfSlgO1xuICAgIH1cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtBZnRlckNvbnRlbnRJbml0LCBDb21wb25lbnQsIENvbnRlbnRDaGlsZCwgRWxlbWVudFJlZn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Vudmlyb25tZW50LCBpc1ByZXNlbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtCYXNlQ29tcG9uZW50fSBmcm9tICcuLi8uLi8uLi9jb3JlL2Jhc2UuY29tcG9uZW50JztcblxuLyoqXG4gKiBGb290ZXIgY29tcG9uZW50IHRoYXQgaW1wbGVtZW50cyBjb25zaXN0ZW50IHN0eWxpbmcsIGJlaGF2aW9yLlxuICogVGhpcyBmb290ZXIgY29tcG9uZW50IHNlbGYgY29udGFpbmVkLlxuICpcbiAqICBAQ29tcG9uZW50KHtcbiAqICAgIHNlbGVjdG9yOiAncmVnaXN0cmF0aW9uJyAsXG4gKiAgICB0ZW1wbGF0ZTogYFxuICpcbiAqICAgICAgICAgIDxhdy1wYWdlLWZvb3Rlcj5cbiAqICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhZ2UtZm9vdGVyLWxvZ29cIj5cbiAqICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaW1hZ2VzL2FyaWJhX2xvZ29fd2hpdGVfYmtnZC5wbmdcIj5cbiAqICAgICAgICAgICAgICAgPC9kaXY+XG4gKiAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYWdlLWZvb3Rlci11c2VyLWluZm9cIj5cbiAqICAgICAgICAgICAgICAgICAgIENoYWQgTm9sbCAoY25vbGwpIGxhc3QgdmlzaXQge3tsYXN0X3Zpc2l0ZWQgfCBkYXRlOidNTS9kZC95eXl5IGg6bW1hJyB9fVxuICAqICAgICAgICAgICAgICAgICAgIHwgQnV5ZXIgT3JnYW5pemF0aW9uXG4gKiAgICAgICAgICAgICAgIDwvZGl2PlxuICogICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInBhZ2UtZm9vdGVyLWNvcHlyaWdodFwiICNjb3B5cmlnaHQ+XG4gKiAgICAgICAgICAgICAgICAgICA8cD7DgsKpIDIwMjDDosKAwpMyMDI4IFRoZSBGdXR1cmUsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZDwvcD5cbiAqICAgICAgICAgICAgICAgPC9zcGFuPlxuICogICAgICAgICAgIDwvYXctcGFnZS1mb290ZXI+XG4gKiAgICBgXG4gKiAgICB9KVxuICogICAgZXhwb3J0IGNsYXNzIE15UGFnZVxuICogICAge1xuICogICAgICAgIGNvbnN0cnVjdG9yICgpXG4gKiAgICAgICAge1xuICogICAgICAgIH1cbiAqXG4gKiAgICB9XG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctcGFnZS1mb290ZXInLFxuICAgIHRlbXBsYXRlVXJsOiAncGFnZS1mb290ZXIuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydwYWdlLWZvb3Rlci5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFBhZ2VGb290ZXJDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJDb250ZW50SW5pdFxue1xuXG4gICAgLyoqXG4gICAgICogY29weXJpZ2h0IGNvbnRlbnRcbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKCdjb3B5cmlnaHQnKSBjb3B5cmlnaHQ6IGFueTtcblxuICAgIC8qKlxuICAgICAqIHNob3cgZGVmYXVsdCBjb3B5cmlnaHQuIElmIGNvcHlyaWdodCBpcyBwYXNzZWQgaW4sIHRoZW4gc2hvdyB0aGUgcGFzc2VkIGluIG9uZS5cbiAgICAgKi9cbiAgICBzaG93RGVmYXVsdENvcHlyaWdodDogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZWxlbWVudDogRWxlbWVudFJlZiwgcHVibGljIGVudjogRW52aXJvbm1lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuICAgIH1cblxuXG4gICAgbmdPbkluaXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcbiAgICB9XG5cbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaG93RGVmYXVsdENvcHlyaWdodCA9ICFpc1ByZXNlbnQodGhpcy5jb3B5cmlnaHQpO1xuICAgIH1cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgQ29udGVudENoaWxkLFxuICAgIEVsZW1lbnRSZWYsXG4gICAgSW5wdXQsXG4gICAgT25EZXN0cm95LFxuICAgIFNpbXBsZUNoYW5nZXMsXG4gICAgVGVtcGxhdGVSZWZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Vudmlyb25tZW50LCBpc1ByZXNlbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtDb21wb25lbnRSZWdpc3RyeX0gZnJvbSAnLi4vLi4vLi4vY29yZS9jb21wb25lbnQtcmVnaXN0cnkuc2VydmljZSc7XG5pbXBvcnQge1BhZ2VUeXBlLCBQYWdlV3JhcHBlcn0gZnJvbSAnLi4vcGFnZS13cmFwcGVyJztcbmltcG9ydCB7UGFnZU5vdGlmaWNhdGlvbn0gZnJvbSAnLi4vLi4vcGFnZS1ub3RpZmljYXRpb24vcGFnZS1ub3RpZmljYXRpb24uY29tcG9uZW50JztcbmltcG9ydCB7UGFnZUxpZmVDeWNsZVNlcnZpY2V9IGZyb20gJy4uL3BhZ2UtbGlmZWN5Y2xlLnNlcnZpY2UnO1xuaW1wb3J0IHtQYWdlSGVhZGVyQ29tcG9uZW50fSBmcm9tICcuLi9wYWdlLWhlYWRlci9wYWdlLWhlYWRlci5jb21wb25lbnQnO1xuaW1wb3J0IHtQYWdlRm9vdGVyQ29tcG9uZW50fSBmcm9tICcuLi9wYWdlLWZvb3Rlci9wYWdlLWZvb3Rlci5jb21wb25lbnQnO1xuXG4vKipcbiAqXG4gKiBPYmplY3QgUGFnZSBXcmFwcGVyIENvbXBvbmVudCByZW5kZXJzIGFueSBvYmplY3QgaW5zdGFuY2UgaW4gZGV0YWlsLiBJdCBoYXMgYSB1bmlmb3JtIGxheW91dCxcbiAqIEhlYWRlciwgUGFnZSB0aXRsZSwgUGFnZSBub3RpZmljYXRpb24sIGFjdGlvbnMsIGNvbnRlbnQsIGFuZCBGb290ZXIuXG4gKlxuICpcbiAqICBVc2FnZTpcbiAqXG4gKiAgQENvbXBvbmVudCh7XG4gKiAgICBzZWxlY3RvcjogJ1JGWFBhZ2UnICxcbiAqICAgIHRlbXBsYXRlOiBgXG4gKiAgICAgICA8YXctb2JqZWN0LXBhZ2Utd3JhcHBlclxuICogICAgICAgICAgICAgICAgICAgICAgICBbdGl0bGVdPVwicmZ4RW50aXR5LmhlYWRlckluZm8udGl0bGVcIlxuICogICAgICAgICAgICAgICAgICAgICAgICBbb2JqZWN0VHlwZV09XCJyZnhFbnRpdHkuaGVhZGVySW5mby5ldmVudFR5cGVTdHJpbmdcIlxuICogICAgICAgICAgICAgICAgICAgICAgICBbbm90aWZpY2F0aW9uXT1cInBhZ2VOb3RpZmljYXRpb25cIj5cbiAqXG4gKlxuICogICAgICAgICAgIDxhdy1wYWdlLWFjdGlvbnM+XG4gKiAgICAgICAgICAgICAgIDxhdy1idXR0b24gW3R5cGVdPVwiJ3N1Ym1pdCdcIiBbbmFtZV09XCInZWRpdCdcIiBbdmFsdWVdPVwiZWRpdFwiIFtzdHlsZV09XCIncHJpbWFyeSdcIj5cbiAqICAgICAgICAgICAgICAgICAgIEVkaXRcbiAqICAgICAgICAgICAgICAgIDwvYXctYnV0dG9uPlxuICogICAgICAgICAgICAgICA8YXctYnV0dG9uIFt0eXBlXT1cIididXR0b24nXCIgW25hbWVdPVwiJ2NhbmNlbCdcIiBbdmFsdWVdPVwiY2FuY2VsXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3N0eWxlXT1cIidzZWNvbmRhcnknXCI+XG4gKiAgICAgICAgICAgICAgICAgIENhbmNlbFxuICogICAgICAgICAgICAgICA8L2F3LWJ1dHRvbj5cbiAqICAgICAgICAgICA8L2F3LXBhZ2UtYWN0aW9ucz5cbiAqXG4gKiAgICAgICAgICAgPGF3LXBhZ2UtY29udGVudD5cbiAqICAgICAgICAgICAgIDxhdy1zZWN0aW9uIHRpdGxlPVwiU291cmNpbmcgcmVxdWVzdCBpbmZvXCIgKG9uU3RhdGVDaGFuZ2VkKT1cIm9uU3RhdGVDaGFuZ2UoJGV2ZW50KVwiPlxuICpcbiAqICAgICAgICAgICAgICAgICAgIDxtLWNvbnRleHQgW29iamVjdF09XCJyZnhFbnRpdHkuaGVhZGVySW5mb1wiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtvcGVyYXRpb25dPVwidGhpcy5lZGl0YWJpbGl0eVN0YXRlLmhlYWRlckluZm9PcFwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dD1cIkluc3BlY3RcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aUdyb3VwPVwiSGVhZGVyR2VuZXJhbFwiXG4gKiAgICAgICAgICAgICAgICAgICA+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgPG0taW5jbHVkZS1jb21wb25lbnQ+PC9tLWluY2x1ZGUtY29tcG9uZW50PlxuICogICAgICAgICAgICAgICAgICAgPC9tLWNvbnRleHQ+XG4gKlxuICogICAgICAgICAgICAgPC9hdy1zZWN0aW9uPlxuICogICAgICAgICAgIDwvYXctcGFnZS1jb250ZW50PlxuICogICAgICAgPC9hdy1vYmplY3QtcGFnZS13cmFwcGVyPlxuICogICAgYFxuICogICAgfSlcbiAqICAgIGV4cG9ydCBjbGFzcyBSRlhQYWdlXG4gKiAgICB7XG4gKiAgICAgICAvLyBUbyBrZWVwIHRyYWNrIHdoYXQgc2VjdGlvbiBpcyBlZGl0YWJsZSBhbmQgd2hpY2ggcmVhZCBvbmx5XG4gKiAgICAgICBlZGl0YWJpbGl0eVN0YXRlOiBFZGl0YWJpbGl0eVN0YXRlO1xuICpcbiAqICAgICAgIC8vIEN1cnJlbnQgUkZYIGV2ZW50XG4gKiAgICAgICByZnhFbnRpdHk6IFJmeEV2ZW50RW50aXR5O1xuICpcbiAqICAgICAgIC8vIE5vdGlmaWNhdGlvbnNcbiAqICAgICAgIG5vdGlmaWNhdGlvbjogUGFnZU5vdGlmaWNhdGlvbiA9IG5ldyBQYWdlTm90aWZpY2F0aW9uKFwid2FyblwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlBvbGljeSBXYXJuaW5nXCIsIFwiVGhpcyByZXF1ZXN0IHJlcXVpcmVzIDMgYmlkcy5cIik7XG4gKlxuICogICAgICAgIGNvbnN0cnVjdG9yICgpXG4gKiAgICAgICAge1xuICogICAgICAgIH1cbiAqXG4gKiAgICB9XG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctb2JqZWN0LXBhZ2Utd3JhcHBlcicsXG4gICAgdGVtcGxhdGVVcmw6ICdvYmplY3QtcGFnZS13cmFwcGVyLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnb2JqZWN0LXBhZ2Utd3JhcHBlci5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIE9iamVjdFBhZ2VXcmFwcGVyQ29tcG9uZW50IGV4dGVuZHMgUGFnZVdyYXBwZXIgaW1wbGVtZW50cyBPbkRlc3Ryb3lcbntcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aXRsZSBvZiB0aGlzIHBhZ2VcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHRpdGxlOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0IGJlaW5nIHJlbmRlcmVkIC0gRXZlbnQsIFdvcmtzcGFjZSwgY29udHJhY3QsIGV0Yy5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG9iamVjdFR5cGU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIGxhYmVsIGZvciB0aGUgb2JqZWN0IHN0YXR1cy5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG9iamVjdFN0YXR1c0xhYmVsOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG9iamVjdCdzIHN0YXR1cy4gRm9yIGV4YW1wbGUsIGRyYWZ0LCBwZW5kaW5nIHNlbGVjdGlvbixcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG9iamVjdFN0YXR1czogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwuIFNvbWUgb2JqZWN0IGhhcyBzdGF0ZXMuIEZvciBleGFtcGxlOiBSRnhPYmplY3QgaGFzIFJlc29sdmUsIFJldmlldywgR2V0IFF1b3RlLlxuICAgICAqIE9iamVjdCBzdGF0ZXMgd2lsbCBhcHBlYXIgb24gdGhlIHBhZ2Ugd2hlbiB0aGV5IGFyZSBwcmVzZW50LlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgb2JqZWN0U3RhdGVzOiBzdHJpbmdbXTtcblxuXG4gICAgLyoqXG4gICAgICogV2hlbiBTdGVwcGVyIGlzIHVzZWQgdGhpcyBpZGVudGlmaWVzIGN1cnJlbnQgc2V0IHN0YXRlXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBjdXJyZW50U3RhdGU6IHN0cmluZztcblxuXG4gICAgLyoqXG4gICAgICogSGVhZGVyIGlzIGEgY29tcG9uZW50IHR5cGUgdG8gYmUgcmVuZGVyZWQgYXMgYSBwYWdlIEhlYWRlci5cbiAgICAgKlxuICAgICAqIFRoZSAnZGVmYXVsdCcgdmFsdWUgaXMgdGhlIGNvbXBvbmVudC93aWRnZXQvSGVhZGVyQ29tcG9uZW50XG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBoZWFkZXI6IGFueTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0cnVlIGlmIHBhZ2Ugc2hvdWxkIG5vdCBpbmNsdWRlIGFueSBoZWFkZXIuIE5lZWQgdG8gc2V0IHRvIHRydWUgZXZlbiBubyBoZWFkZXJcbiAgICAgKiBvYmplY3QgaXMgcGFzc2VkIGluLiBPdGhlcndpc2UsIGEgZGVmYXVsdCBIZWFkZXIgY29tcG9uZW50IHdpbGwgYmUgYWRkZWQuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBoaWRlSGVhZGVyOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBGb290ZXIgQ29tcG9uZW50IGlzIHRoZSBwYWdlIGZvb3Rlci5cbiAgICAgKiBjYW4gYmUgb3ZlcnJpZGVuIGJ1dCB0aGUgZGVmYXVsdCB2YWx1ZSBpcyBjb21wb2VuZW50L3dpZGdldC9Gb290ZXJDb21wb25lbnQuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBmb290ZXI6IGFueTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0cnVlIGlmIHBhZ2Ugc2hvdWxkIG5vdCBpbmNsdWRlIGFueSBmb290ZXIuIE5lZWQgdG8gc2V0IHRvIHRydWUgZXZlbiBubyBmb290ZXJcbiAgICAgKiBvYmplY3QgaXMgcGFzc2VkIGluLiBPdGhlcndpc2UsIGEgZGVmYXVsdCBGb290ZXIgY29tcG9uZW50IHdpbGwgYmUgYWRkZWQuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBoaWRlRm9vdGVyOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb25pbmcgb2YgdGhlIHBhZ2UgYWN0aW9ucyAocGFnZSBidXR0b25zKVxuICAgICAqICAgJ3RvcCcgOiAgICBwYWdlIGJ1dHRvbnMgYXJlIHBsYWNlZCBhdCB0aGUgdG9wIG9mIHRoZSBwYWdlLCBiZWxvdyB0aGUgdGl0bGUsIHRvIHRoZSByaWdodC5cbiAgICAgKiAgICdib3R0b20nIDogcGFnZSBidXR0b25zIGFyZSBwbGFjZWQgYXQgdGhlIGJvdHRvbSBvZiB0aGUgcGFnZSwgYWJvdmUgdGhlIGZvb3Rlci5cbiAgICAgKiAgICdib3RoJyAgIDogcGFnZSBidXR0b25zIGFyZSBwbGFjZWQgYXQgYm90aCB0b3AgYW5kIGJvdHRvbS5cbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgcGFnZUFjdGlvblBvc2l0aW9uOiBzdHJpbmcgPSAndG9wJztcblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmbGFnIGlzIGRyaXZlbiBieSBwYWdlQWN0aW9uUG9zaXRpb24uIFRoZSBkZWZhdWx0IHBvc2l0aW9uIGlzIHRvcC5cbiAgICAgKiBWYWx1ZSBpcyB0cnVlIGZvciBib3RoICd0b3AnIGFuZCAnYm90aCcgb2YgcGFnZUFjdGlvblBvc2l0aW9uLlxuICAgICAqL1xuICAgIGhhc1RvcFBhZ2VBY3Rpb25zOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZmxhZyBpcyBkcml2ZW4gYnkgcGFnZUFjdGlvbiBwb3NpdGlvbi5cbiAgICAgKiBWYWx1ZSBpcyB0cnVlIGZvciBib3RoICdib3R0b20nIGFuZCAnYm90aCcgb2YgcGFnZUFjdGlvblBvc2l0aW9uLlxuICAgICAqL1xuICAgIGhhc0JvdHRvbVBhZ2VBY3Rpb25zOiBib29sZWFuO1xuXG5cbiAgICAvKipcbiAgICAgKiBRdWVyaWVzIGEgcCB0ZW1wbGF0ZSBpZiBhbnlcbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKCdwYWdlQWN0aW9ucycpXG4gICAgYWN0aW9uc1RlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG4gICAgLyoqXG4gICAgICogQW55IFN1Y2Nlc3MsIEluZm8sIEVycm9yLCBvciBXYXJuIGZvciB0aGlzIHBhZ2UuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBub3RpZmljYXRpb25zOiBQYWdlTm90aWZpY2F0aW9uW107XG5cblxuICAgIG9iamVjdFN0YXRlSW5kZXg6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZWxlbWVudDogRWxlbWVudFJlZiwgcHVibGljIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50UmVnaXN0cnk6IENvbXBvbmVudFJlZ2lzdHJ5LCBwYWdlTGlmZWN5Y2xlU2VydmljZTogUGFnZUxpZmVDeWNsZVNlcnZpY2UpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYsIFBhZ2VUeXBlLk9iamVjdCwgY29tcG9uZW50UmVnaXN0cnksIHBhZ2VMaWZlY3ljbGVTZXJ2aWNlKTtcblxuICAgICAgICAvLyBTZXR0aW5nIERlZmF1bHQgaGVhZGVyIGNvbXBvbmVudFxuICAgICAgICB0aGlzLmhlYWRlciA9IFBhZ2VIZWFkZXJDb21wb25lbnQ7XG4gICAgICAgIHRoaXMuZm9vdGVyID0gUGFnZUZvb3RlckNvbXBvbmVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIHVuaXF1ZSBJZCBmb3IgdGhpcyBvYmplY3QuXG4gICAgICpcbiAgICAgKi9cbiAgICBnZW5lcmF0ZVBhZ2VJZCgpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9iamVjdFR5cGUgKyAnXycgKyB0aGlzLnRpdGxlICsgKHRoaXMuaWQpID8gKCdfJyArIHRoaXMuaWQpIDogJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRG9lcyBteSBwYWdlIGhhdmUgcGFnZSBub3RpZmljYXRpb24/XG4gICAgICpcbiAgICAgKi9cbiAgICBoYXNOb3RpZmljYXRpb25zKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiAodGhpcy5ub3RpZmljYXRpb25zICYmIHRoaXMubm90aWZpY2F0aW9ucy5sZW5ndGggPiAwKTtcbiAgICB9XG5cbiAgICBoYXNPYmplY3RTdGF0ZXMoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLm9iamVjdFN0YXRlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBteSBsb2NhbCBjb21wb25lbnRzXG4gICAgICovXG4gICAgbmdPbkluaXQoKVxuICAgIHtcbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcblxuICAgICAgICAvLyBOZXcgQ29tcG9uZW50IHR5cGVzIHRoYXQgYXJlIHVzZWQgaW4gYy1pbmNsdWRlLWNvbXBvbmVudFxuICAgICAgICBpZiAodGhpcy5oZWFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50UmVnaXN0cnkucmVnaXN0ZXJUeXBlKHRoaXMuaGVhZGVyLm5hbWUsIHRoaXMuaGVhZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5ldyBDb21wb25lbnQgdHlwZXMgdGhhdCBhcmUgdXNlZCBpbiBjLWluY2x1ZGUtY29tcG9uZW50XG4gICAgICAgIGlmICh0aGlzLmZvb3Rlcikge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRSZWdpc3RyeS5yZWdpc3RlclR5cGUodGhpcy5mb290ZXIubmFtZSwgdGhpcy5mb290ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIG5vdGlmeSBzdWJzY3JpYmVycyBvZiB0aGUgcGFnZSBsaWZlY3ljbGUgc2VydmljZSAgKi9cbiAgICAgICAgdGhpcy5wYWdlTGlmZWN5Y2xlU2VydmljZS5vblBhZ2VJbml0KHRoaXMudGl0bGUpO1xuXG4gICAgICAgIC8vIFNldHRpbmcgdGhlIHBhZ2UgYWN0aW9uIHBvc2l0aW9uLlxuICAgICAgICBpZiAodGhpcy5wYWdlQWN0aW9uUG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICB0aGlzLmhhc1RvcFBhZ2VBY3Rpb25zID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmhhc0JvdHRvbVBhZ2VBY3Rpb25zID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFnZUFjdGlvblBvc2l0aW9uID09PSAnYm90aCcpIHtcblxuICAgICAgICAgICAgdGhpcy5oYXNUb3BQYWdlQWN0aW9ucyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmhhc0JvdHRvbVBhZ2VBY3Rpb25zID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5vYmplY3RTdGF0ZXMpICYmIHRoaXMub2JqZWN0U3RhdGVzLmxlbmd0aCA+IDFcbiAgICAgICAgICAgICYmIGlzUHJlc2VudCh0aGlzLmN1cnJlbnRTdGF0ZSkpIHtcblxuICAgICAgICAgICAgdGhpcy5vYmplY3RTdGF0ZUluZGV4ID0gdGhpcy5vYmplY3RTdGF0ZXMuaW5kZXhPZih0aGlzLmN1cnJlbnRTdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5uZ09uQ2hhbmdlcyhjaGFuZ2VzKTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KGNoYW5nZXNbJ2N1cnJlbnRTdGF0ZSddKSAmJlxuICAgICAgICAgICAgY2hhbmdlc1snY3VycmVudFN0YXRlJ10uY3VycmVudFZhbHVlICE9PSBjaGFuZ2VzWydjdXJyZW50U3RhdGUnXS5wcmV2aW91c1ZhbHVlKSB7XG4gICAgICAgICAgICAvLyB3ZSBkb250IG5lZWQgdG8gY2hlY2sgaWYgb2JqZWN0U3RhdGVzIGV4aXN0c1xuICAgICAgICAgICAgdGhpcy5vYmplY3RTdGF0ZUluZGV4ID0gdGhpcy5vYmplY3RTdGF0ZXMuaW5kZXhPZih0aGlzLmN1cnJlbnRTdGF0ZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIG5nT25EZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMucGFnZUxpZmVjeWNsZVNlcnZpY2Uub25QYWdlRGVzdHJveSh0aGlzLnRpdGxlKTtcbiAgICB9XG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7Q29tcG9uZW50LCBFbGVtZW50UmVmfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RW52aXJvbm1lbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtCYXNlQ29tcG9uZW50fSBmcm9tICcuLi8uLi8uLi9jb3JlL2Jhc2UuY29tcG9uZW50JztcblxuLyoqXG4gKiBQYWdlIGFjdGlvbnMgaXMgYSB3cmFwcGVyIGZvciBhbGwgcGFnZSBhY3Rpb25zLCBidXR0b25zLCBsaW5rcywgbWVudXMgdGhhdCBpbnRlcmFjdHMgaXQgd2l0aCB0aGVcbiAqIHBhZ2UuIFRoZSB3cmFwcGVyIHVzZSB0aGUgYWJpbGl0eSB0byBwb3NpdGlvbiBpdCBhcyBuZWVkZWQuXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctcGFnZS1hY3Rpb25zJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3BhZ2UtYWN0aW9ucy5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ3BhZ2UtYWN0aW9ucy5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFBhZ2VBY3Rpb25zQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudFxue1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGVsZW1lbnQ6IEVsZW1lbnRSZWYsIHB1YmxpYyBlbnY6IEVudmlyb25tZW50KVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52KTtcbiAgICB9XG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7Q29tcG9uZW50LCBFbGVtZW50UmVmfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RW52aXJvbm1lbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtCYXNlQ29tcG9uZW50fSBmcm9tICcuLi8uLi8uLi9jb3JlL2Jhc2UuY29tcG9uZW50JztcblxuLyoqXG4gKiBQYWdlIGNvbnRlbnQgaXMgYSB3cmFwcGVyIGZvciBwYWdlIGNvbnRlbnQuXG4gKiBDdXJyZW50bHksIGl0J3MgcHJldHR5IGJhcmUsIGJ1dCBhcyB3ZSBhZGQgbW9yZSBpbnRlcmFjdGlvbnMgb24gdGhlIHBhZ2UsIGxpa2UgYSBzaWRlIGJhcixcbiAqIHRoZSBwYWdlIGNvbnRlbnQgYXJlYSB3aWxsIGxpa2VseSBnZXQgYWZmZWN0ZWQuXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctcGFnZS1jb250ZW50JyxcbiAgICB0ZW1wbGF0ZTogJzxuZy1jb250ZW50PjwvbmctY29udGVudD4nLFxuICAgIHN0eWxlczogWyc6aG9zdCB7d2lkdGg6IDEwMCU7IHBhZGRpbmc6IDAgLjVlbTt9J11cbn0pXG5leHBvcnQgY2xhc3MgUGFnZUNvbnRlbnRDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50XG57XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZWxlbWVudDogRWxlbWVudFJlZiwgcHVibGljIGVudjogRW52aXJvbm1lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuICAgIH1cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnQsIElucHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RW52aXJvbm1lbnQsIGlzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0Jhc2VDb21wb25lbnR9IGZyb20gJy4uLy4uL2NvcmUvYmFzZS5jb21wb25lbnQnO1xuXG5cbmNvbnN0IFNURVBQRVJfQ09NUExFVEVEX1NURVBfQ09MT1IgPSAnIzU4Yjk1Nyc7XG5jb25zdCBTVEVQUEVSX0NVUlJFTlRfU1RFUF9DT0xPUiA9ICcjMDA3NkNCJztcbmNvbnN0IFNURVBQRVJfUkVNQUlOSU5HX1NURVBfQ09MT1IgPSAnI0Q3RDdENyc7XG5cbi8qKlxuICogU3RlcHBlciBjb21wb25lbnQgZGlzcGxheXMgYSBsaXN0IG9mIHN0ZXBzIGZvciB1c2VyIHRvIGZvbGxvdy4gSXQgY2FuIGJlIHVzZWQgYXMgYSBjaGVja2xpc3RcbiAqIHRvIGluZGljYXRlIGNvbXBsZXRlZCwgY3VycmVudCBhbmQgcmVtYWluaW5nIGl0ZW1zLiBJdCBjb3VsZCBiZSBhbHNvIGJlIHVzZWQgdG8gaW5kaWNhdGVcbiAqIHRoZSBzdGF0ZSBvZiBhbiBkb2N1bWVudCwgY3JlYXRlZCwgc3VibWl0dGVkLCBhcHByb3ZlZCwgZXRjLi4uXG4gKlxuICpcbiAqIFVzYWdlOlxuICogICAxLiAgIFVzZSB0aGUgY29tcG9uZW50IGluc2lkZSB5b3VyIHRlbXBsYXRlLiBwcm92aWRlIGEgbGlzdCBvZiBzdGVwcyBhbmQgdGhlIGN1cnJlbnQgc3RlcC5cbiAqXG4gKiAgICAgICAgICBAQ29tcG9uZW50KHtcbiAqICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnYXctcGFnZScgLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYFxuICogICAgICAgICAgICAgICAgPGF3LXN0ZXBwZXIgW3N0ZXBzXT1cInN0ZXBzXCIgW2N1cnJlbnRTdGVwXT1cImN1cnJlbnRTdGVwXCI+PC9hdy1zdGVwcGVyPlxuICpcbiAqICAgICAgICAgICAgICAgICAgYFxuICogICAgICAgICBleHBvcnQgY2xhc3MgTXlQYWdlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAqXG4gKiAgICAgICAgICAgICAgICAgICAgIHN0ZXBzOiBzdHJpbmdbXSA9IFsnTW9uaXRvcicsICdBZGQgU3VwcGxpZXInLCAnR2V0IFF1b3RlJ107XG4gKiAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGVwOiBudW1iZXIgPSAxO1xuICpcbiAqICAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBtb2RhbFNlcnZpY2U6IE1vZGFsU2VydmljZSkge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgIHN1cGVyKCk7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgfVxuICogICAgICAgICAgICAgICAgICAgICBuZ09uSW5pdCgpIHsgfVxuICogICAgICAgfVxuICpcbiAqICAgMi4gIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbG9ycy5cbiAqXG4gKiAgICAgICAgIEBDb21wb25lbnQoe1xuICogICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdhdy1wYWdlJyAsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YXctc3RlcHBlciBbc3RlcHNdPVwic3RlcHNcIiBbc3RlcENvbG9yQ3VycmVudF09XCInI2ZmOTkwMCdcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3N0ZXBDb2xvclJlbWFpbmluZ109XCInI0NDMDAwMCdcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3N0ZXBDb2xvckNvbXBsZXRlZF09XCInIzk3YTgyMidcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2N1cnJlbnRTdGVwXT1cImN1cnJlbnRTdGVwXCI+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2F3LXN0ZXBwZXI+XG4gKiAgICAgICAgICAgICAgICAgIGBcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1zdGVwcGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3N0ZXBwZXIuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydzdGVwcGVyLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgU3RlcHBlckNvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnRcbntcbiAgICAvKipcbiAgICAgKiBSZXF1aXJlZFxuICAgICAqIEFycmF5IG9mIHN0ZXBzLiBPcmRlciBvZiB0aGUgc3RlcHMgc2hvdWxkIGJlIGluIGFycmF5IG9yZGVyLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc3RlcHM6IHN0cmluZ1tdO1xuXG5cbiAgICAvKipcbiAgICAgKiBzcGVjaWZ5IHRoZSBjb2xvcnMgYXNzb2NpYXRlZCB3aXRoIHN0ZXBzIGFib3ZlLiBUaGUgbnVtYmVyIG9mIGNvbG9yc1xuICAgICAqIGFuZCBudW1iZXIgb2Ygc3RlcHMgbXVzdCBtYXRjaC5cbiAgICAgKiBPcHRpb25hbDosIGlmIGVtcHR5LCBkZWZhdWx0IGNvbG9ycyBvciBjb2xvcnMgZnJvbSBzdGVwQ29sb3IgaW5wdXRzIHdpbGwgYmUgdXNlZC5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGNvbG9yczogc3RyaW5nW107XG5cbiAgICAvKipcbiAgICAgKiBMb2NhbCB2YXJpYWJsZSB0byBpbmRpY2F0ZSB3aGV0aGVyIHRvIHVzZSB0aGUgY29sb3JzIGFycmF5IG9yIG5vdC5cbiAgICAgKi9cbiAgICBiVXNlQ29sb3JBcnJheTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgSW5wdXQgZm9yIGNhbGxlciB0byBvdmVycmlkZSB0aGUgY29sb3Igb2YgY29tcGxldGVkIHN0ZXAuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzdGVwQ29sb3JDb21wbGV0ZWQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIElucHV0IGZvciBjYWxsZXIgdG8gb3ZlcnJpZGUgdGhlIGNvbG9yIG9mIGN1cnJlbnQgc3RlcC5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHN0ZXBDb2xvckN1cnJlbnQ6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIElucHV0IGZvciBjYWxsZXIgdG8gb3ZlcnJpZGUgdGhlIGNvbG9yIG9mIHJlbWFpbmluZyBzdGVwLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc3RlcENvbG9yUmVtYWluaW5nOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBzdGVwIHRoYXQncyBvbi4gSWYgbm90IHByb3ZpZGVkIGRlZmF1bHQgdG8gdGhlIGZpcnN0IHN0ZXAuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBjdXJyZW50U3RlcDogbnVtYmVyID0gMDtcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZWQgdGhlIHdpZHRoIG9mIGNvbm5lY3RvcnMgYmV0d2VlbiBzdGVwcy4gVGhlIGNhbGN1bGF0aW9ucyBpcyBzb1xuICAgICAqIHRoYXQgdGhlIHN0ZXBzIGFyZSBzcHJlYWQgb3V0IGV2ZW5seS5cbiAgICAgKi9cbiAgICBjb25uZWN0b3JXaWR0aDogYW55O1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuICAgICAgICAvLyBJbml0aWFsIGNvbG9yIGZvciB0aGUgZGlmZmVyZW50IHN0YWdlcyBvZiBzdGVwcy5cbiAgICAgICAgdGhpcy5zdGVwQ29sb3JDb21wbGV0ZWQgPSBTVEVQUEVSX0NPTVBMRVRFRF9TVEVQX0NPTE9SO1xuICAgICAgICB0aGlzLnN0ZXBDb2xvckN1cnJlbnQgPSBTVEVQUEVSX0NVUlJFTlRfU1RFUF9DT0xPUjtcbiAgICAgICAgdGhpcy5zdGVwQ29sb3JSZW1haW5pbmcgPSBTVEVQUEVSX1JFTUFJTklOR19TVEVQX0NPTE9SO1xuICAgIH1cblxuICAgIG5nT25Jbml0KClcbiAgICB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY29ubmVjdG9yIHdpZHRoIGJhc2VkIG9uIGhvdyBtYW55IHN0ZXBzXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5zdGVwcykgJiYgdGhpcy5zdGVwcy5sZW5ndGggPiAxKSB7XG5cbiAgICAgICAgICAgIC8vICgxMDAlIC0gMjAlIChzaWRlIG1hcmdpbnMpKSAvIChOdW1PZlN0ZXBzIC0xKVxuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3JXaWR0aCA9IE1hdGguY2VpbCg4MCAvICh0aGlzLnN0ZXBzLmxlbmd0aCAtIDEpKSArICclJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2UgdGhlIGNvbG9yIGFycmF5IGlmIGl0J3MgZGVmaW5lZC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5jb2xvcnMpKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYlVzZUNvbG9yQXJyYXkgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xvcnMubGVuZ3RoICE9PSB0aGlzLnN0ZXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHNpemUgb2YgdGhlIHN0ZXBzIGFuZCBjb2xvcnMgZG9uJ3QgbWF0Y2g6XG4gICAgICAgICAgICAgICAgICAoc3RlcHMubGVuZ3RoID0gJHt0aGlzLnN0ZXBzLmxlbmd0aH0pLCAoY29sb3JzLmxlbmd0aCA9ICR7dGhpcy5jb2xvcnMubGVuZ3RofWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGluZyB0aGUgY29sb3Igb2YgdGhlIHN0ZXAgZm9yIHRoZSBjdXJyZW50IGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5kZXhcbiAgICAgKi9cbiAgICBnZXRTdGVwQ29sb3IoaW5kZXg6IG51bWJlcilcbiAgICB7XG4gICAgICAgIC8vIENvbG9yIEFycmF5IG92ZXJyaWRlcyBldmVyeXRoaW5nIGVsc2UuXG4gICAgICAgIGlmICh0aGlzLmJVc2VDb2xvckFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvcnNbaW5kZXhdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4IDwgdGhpcy5jdXJyZW50U3RlcCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGVwQ29sb3JDb21wbGV0ZWQ7XG5cbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gdGhpcy5jdXJyZW50U3RlcCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGVwQ29sb3JDdXJyZW50O1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0ZXBDb2xvclJlbWFpbmluZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjb25uZWN0b3IgY29sb3JzIGFyZSBkcml2ZW4gYnkgdGhlIHN0ZXAgY29sb3JzLlxuICAgICAqXG4gICAgICovXG4gICAgZ2V0Q29ubmVjdG9yQ29sb3IoaW5kZXg6IG51bWJlcilcbiAgICB7XG4gICAgICAgIC8vIENvbG9yIEFycmF5IG92ZXJyaWRlcyBldmVyeXRoaW5nIGVsc2UuXG4gICAgICAgIGlmICh0aGlzLmJVc2VDb2xvckFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvcnNbaW5kZXhdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4IDwgdGhpcy5jdXJyZW50U3RlcCkge1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGVwQ29sb3JDb21wbGV0ZWQ7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RlcENvbG9yUmVtYWluaW5nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmV4dCBzdGVwLlxuICAgICAqL1xuICAgIG5leHRTdGVwKClcbiAgICB7XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZXArKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBwcmV2aW91cyBzdGVwLlxuICAgICAqL1xuICAgIHByZXZTdGVwKClcbiAgICB7XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZXAtLTtcbiAgICB9XG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7Q29tcG9uZW50LCBJbnB1dCwgT25Jbml0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RW52aXJvbm1lbnQsIGlzQmxhbmt9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuXG4vKipcbiAqIFJlbmRlcnMgaHRtbCBzdGVwIGNvbXBvbmVudFxuICpcbiAqICAqIFVzYWdlOlxuICogICAgICAgU3RyYWlnaHQgZm9yd2FyZCB0byB1c2UuIEJ1dCBtb3N0bHkgaXQgd291bGQgYmUgdXNlZCBhcyBwYXJ0IG9mIHRoZSBzdGVwcGVyIGNvbXBvbmVudC5cbiAqXG4gKiAgICAgICAgICBAQ29tcG9uZW50KHtcbiAqICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnYXctcGFnZScgLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICA8YXctc3RlcCBbdGl0bGVdPVwic3RlcFwiIFtjb2xvcl09XCJjb2xvclwiPjwvYXctc3RlcD5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxuICovXG5cbiAgICAvLyBEZWZhdWx0IGNvbG9yIGZvciB0aGlzIHN0ZXAuXG5jb25zdCBERUZBVUxUX0NPTE9SID0gJyM1OGI5NTcnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LXN0ZXAnLFxuICAgIHRlbXBsYXRlVXJsOiAnc3RlcC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ3N0ZXAuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBTdGVwQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0XG57XG4gICAgLyoqXG4gICAgICogVGhlIGNvbG9yIG9mIHN0ZXAgaWNvbi5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGNvbG9yOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiB0aXRsZSBhcHBlYXJzIHVuZGVyIHRoZSBzdGVwIGdyYXBoaWNzLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgdGl0bGU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY6IEVudmlyb25tZW50KVxuICAgIHtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpXG4gICAge1xuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLmNvbG9yKSkge1xuICAgICAgICAgICAgdGhpcy5jb2xvciA9IERFRkFVTFRfQ09MT1I7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7TmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1N0ZXBwZXJDb21wb25lbnR9IGZyb20gJy4vc3RlcHBlci5jb21wb25lbnQnO1xuaW1wb3J0IHtTdGVwQ29tcG9uZW50fSBmcm9tICcuL3N0ZXAvc3RlcC5jb21wb25lbnQnO1xuaW1wb3J0IHtBV0NvcmVDb21wb25lbnRNb2R1bGV9IGZyb20gJy4uLy4uL2NvcmUvY29yZS5tb2R1bGUnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBTdGVwQ29tcG9uZW50LFxuICAgICAgICBTdGVwcGVyQ29tcG9uZW50XG5cbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBBV0NvcmVDb21wb25lbnRNb2R1bGUsXG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgU3RlcENvbXBvbmVudCxcbiAgICAgICAgU3RlcHBlckNvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBTdGVwQ29tcG9uZW50LFxuICAgICAgICBTdGVwcGVyQ29tcG9uZW50XG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEFXU3RlcHBlck1vZHVsZVxue1xufVxuXG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtOZ01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0NvbW1vbk1vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7UGFnZUxpZmVDeWNsZVNlcnZpY2V9IGZyb20gJy4vcGFnZS1saWZlY3ljbGUuc2VydmljZSc7XG5pbXBvcnQge09iamVjdFBhZ2VXcmFwcGVyQ29tcG9uZW50fSBmcm9tICcuL29iamVjdC1wYWdlLXdyYXBwZXIvb2JqZWN0LXBhZ2Utd3JhcHBlci5jb21wb25lbnQnO1xuaW1wb3J0IHtQYWdlQWN0aW9uc0NvbXBvbmVudH0gZnJvbSAnLi9wYWdlLWFjdGlvbnMvcGFnZS1hY3Rpb25zLmNvbXBvbmVudCc7XG5pbXBvcnQge1BhZ2VDb250ZW50Q29tcG9uZW50fSBmcm9tICcuL3BhZ2UtY29udGVudC9wYWdlLWNvbnRlbnQuY29tcG9uZW50JztcbmltcG9ydCB7UGFnZUZvb3RlckNvbXBvbmVudH0gZnJvbSAnLi9wYWdlLWZvb3Rlci9wYWdlLWZvb3Rlci5jb21wb25lbnQnO1xuaW1wb3J0IHtQYWdlSGVhZGVyQ29tcG9uZW50fSBmcm9tICcuL3BhZ2UtaGVhZGVyL3BhZ2UtaGVhZGVyLmNvbXBvbmVudCc7XG5pbXBvcnQge0FXU3RlcHBlck1vZHVsZX0gZnJvbSAnLi4vc3RlcHBlci9zdGVwcGVyLm1vZHVsZSc7XG5pbXBvcnQge1NpZGVuYXZDb21wb25lbnR9IGZyb20gJy4vc2lkZW5hdi9zaWRlbmF2LmNvbXBvbmVudCc7XG5pbXBvcnQge0FXQ29yZUNvbXBvbmVudE1vZHVsZX0gZnJvbSAnLi4vLi4vY29yZS9jb3JlLm1vZHVsZSc7XG5pbXBvcnQge0FXUGFnZU5vdGlmaWNhdGlvbk1vZHVsZX0gZnJvbSAnLi4vcGFnZS1ub3RpZmljYXRpb24vcGFnZS1ub3RpZmljYXRpb24ubW9kdWxlJztcbmltcG9ydCB7Um91dGVyTW9kdWxlfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBPYmplY3RQYWdlV3JhcHBlckNvbXBvbmVudCxcbiAgICAgICAgUGFnZUFjdGlvbnNDb21wb25lbnQsXG4gICAgICAgIFBhZ2VDb250ZW50Q29tcG9uZW50LFxuICAgICAgICBQYWdlRm9vdGVyQ29tcG9uZW50LFxuICAgICAgICBQYWdlSGVhZGVyQ29tcG9uZW50LFxuICAgICAgICBTaWRlbmF2Q29tcG9uZW50XG5cbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBSb3V0ZXJNb2R1bGUsXG4gICAgICAgIEFXQ29yZUNvbXBvbmVudE1vZHVsZSxcbiAgICAgICAgQVdTdGVwcGVyTW9kdWxlLFxuICAgICAgICBBV1BhZ2VOb3RpZmljYXRpb25Nb2R1bGVcbiAgICBdLFxuICAgIGVudHJ5Q29tcG9uZW50czogW1xuICAgICAgICBQYWdlRm9vdGVyQ29tcG9uZW50LFxuICAgICAgICBQYWdlQWN0aW9uc0NvbXBvbmVudCxcbiAgICAgICAgUGFnZUNvbnRlbnRDb21wb25lbnQsXG4gICAgICAgIFBhZ2VIZWFkZXJDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgT2JqZWN0UGFnZVdyYXBwZXJDb21wb25lbnQsXG4gICAgICAgIFBhZ2VBY3Rpb25zQ29tcG9uZW50LFxuICAgICAgICBQYWdlQ29udGVudENvbXBvbmVudCxcbiAgICAgICAgUGFnZUZvb3RlckNvbXBvbmVudCxcbiAgICAgICAgUGFnZUhlYWRlckNvbXBvbmVudCxcbiAgICAgICAgU2lkZW5hdkNvbXBvbmVudFxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbUGFnZUxpZmVDeWNsZVNlcnZpY2VdXG59KVxuZXhwb3J0IGNsYXNzIEFXUGFnZVdyYXBwZXJNb2R1bGVcbntcbn1cblxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7Q29tcG9uZW50LCBmb3J3YXJkUmVmLCBJbmplY3QsIElucHV0LCBPcHRpb25hbCwgU2tpcFNlbGZ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtOR19WQUxVRV9BQ0NFU1NPUn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtFbnZpcm9ubWVudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0Jhc2VGb3JtQ29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL2Jhc2UtZm9ybS5jb21wb25lbnQnO1xuaW1wb3J0IHtGb3JtUm93Q29tcG9uZW50fSBmcm9tICcuLi8uLi9sYXlvdXRzL2Zvcm0tdGFibGUvZm9ybS1yb3cvZm9ybS1yb3cuY29tcG9uZW50JztcbmltcG9ydCB7ZGlzdGluY3RVbnRpbENoYW5nZWR9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuLyoqXG4gKiBSaWNoVGV4dEFyZWEgY29tcG9uZW50IHJlcHJlc2VudHMgYSB0ZXh0IGVkaXRvciB3aGljaCBhbGxvd3MgdXNlcnMgdG8gZm9ybWF0IHRleHQgaW5wdXQuXG4gKiBUaGUgZWRpdG9yJ3MgdG9vbGJhciBpcyBwcmUtY29uZmlndXJlZCB0byBjb250YWluIGZ1bmN0aW9uYWxpdGllcyB0aGF0IGFyZSBpbiBvdXIgZGVzaWduLlxuICogQHNlZSB7QGxpbmsgZWRpdG9yL2VkaXRvci5jb21wb25lbnQuaHRtbH1cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqXG4gKiAgQENvbXBvbmVudCh7XG4gKiAgICBzZWxlY3RvcjogJ3JmeC1ldmVudCcgLFxuICogICAgdGVtcGxhdGU6IGBcbiAqXG4gKiAgICAgICAgPCEtLSBCYXNpYyBVc2FnZS4gLS0+XG4gKiAgICAgICAgPGF3LXJpY2h0ZXh0YXJlYSBbbmFtZV09XCInZGVzY3JpcHRpb24nXCIgW3ZhbHVlXT1cImRlc2NyaXB0aW9uXCIgcGxhY2VIb2xkZXI9XCJwdXRcbiAqICAgICAgICBkZXNjcmlwdGlvblwiPlxuICogICAgICAgIDwvYXctcmljaHRleHRhcmVhPlxuICpcbiAqICAgICAgICA8IS0tIEVkaXRvciB3aXRoIEZ1bGwgZnVuY3Rpb25hbGl0eSAtLT5cbiAqICAgICAgPGF3LXJpY2h0ZXh0YXJlYSBbbmFtZV09XCInY29tbWVudCdcIiBbdHlwZV09XCJlZGl0b3JUeXBlXCIgW3ZhbHVlXT1cInZhbHVlXCJcbiAqICAgICAgcGxhY2VIb2xkZXI9XCJob2xkIHRoaXNcIj5cbiAqICAgICAgPC9hdy1yaWNodGV4dGFyZWE+XG4gKiAgICB9KVxuICogICAgZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50XG4gKiAgICB7XG4gKiAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAqXG4gKiAgICAgICAgZWRpdG9yVHlwZTpFZGl0b3JUeXBlID0gRWRpdG9yVHlwZS5GdWxsO1xuICogICAgICAgIHZhbHVlOlN0cmluZztcbiAqXG4gKiAgICAgICAgY29uc3RydWN0b3IgKClcbiAqICAgICAgICB7XG4gKiAgICAgICAgfVxuICogICAgfVxuICovXG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgZGlmZmVyZW50IHR5cGVzIG9mIHRleHQgZWRpdG9yLiBUaGV5IGFyZSBwcmVjb25maWd1cmVkIHdpdGhcbiAqIGZ1bmN0aW9uYWxpdHkgYmFzZWQgb24gdHlwZS4gVXNlIGN1c3RvbSB0byBhZGQgeW91ciBvd24gdG9vbGJhciBtZW51LlxuICovXG5leHBvcnQgZW51bSBFZGl0b3JUeXBlIHtcbiAgICBEZWZhdWx0LCAgICAvLyBEZWZhdWx0IEVkaXRvciBzdXBwb3J0cyBNaW5pbWFsIHNldCBvZiBmdW5jdGlvbmFsaXR5XG4gICAgLy8gWyBib2xkIHwgaXRhbGljIHwgdW5kZXJsaW5lIHwgb3JkZXJlZCB8IGJ1bGxldCB8IGFsaWdubWVudF1cbiAgICBGdWxsLCAgICAgICAvLyBUaGUgZnVsbCBsaXN0IG9mIGZ1bmN0aW9uYWxpdHksXG4gICAgVGV4dEZvcm1hdCwgLy8gRnVuY3Rpb25hbGl0aWVzIHRoYXQgYWZmZWN0cyB0ZXh0IGZvcm1hdHRpbmcuXG4gICAgQ3VzdG9tICAgICAvLyBDdXN0b20gdG9vbGJhci5cbn1cblxuXG5leHBvcnQgY29uc3QgRURJVE9SX0NPTlRST0xfVkFMVUVfQUNDRVNTT1I6IGFueSA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBSaWNoVGV4dEFyZWFDb21wb25lbnQpLFxuICAgIG11bHRpOiB0cnVlXG59O1xuXG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctcmljaHRleHRhcmVhJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3JpY2gtdGV4dC1hcmVhLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsncmljaC10ZXh0LWFyZWEuY29tcG9uZW50LnNjc3MnXSxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgRURJVE9SX0NPTlRST0xfVkFMVUVfQUNDRVNTT1IsXG4gICAgICAgIHtwcm92aWRlOiBCYXNlRm9ybUNvbXBvbmVudCwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gUmljaFRleHRBcmVhQ29tcG9uZW50KX1cbiAgICBdXG5cbn0pXG5leHBvcnQgY2xhc3MgUmljaFRleHRBcmVhQ29tcG9uZW50IGV4dGVuZHMgQmFzZUZvcm1Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBlZGl0b3IuICBTZWUgRWRpdG9yVHlwZSBmb3IgZGVzY3JpcHRpb24uXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICB0eXBlOiBFZGl0b3JUeXBlO1xuXG4gICAgLyoqXG4gICAgICogQSB2YWx1ZSB1c2VkIHRvIHNhdmUgYW5kIHJlYWQgd2hlbiByZW5kZXJpbmcgYW5kIHVwZGF0aW5nIHRoaXMgY29tcG9uZW50XG4gICAgICovXG4gICAgQElucHV0KClcbiAgICB2YWx1ZTogYW55ID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBFeHBvc2UgZWRpdG9yVHlwZSBzbyB0aGF0IGl0IGNhbiBiZSB1c2VkIGluIHRoaXMgY29tcG9uZW50cyB0ZW1wbGF0ZS5cbiAgICAgKi9cbiAgICBFZGl0b3JUeXBlOiBhbnkgPSBFZGl0b3JUeXBlO1xuXG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZW52OiBFbnZpcm9ubWVudCxcbiAgICAgICAgICAgICAgICBAU2tpcFNlbGYoKSBAT3B0aW9uYWwoKSBASW5qZWN0KGZvcndhcmRSZWYoKCkgPT4gRm9ybVJvd0NvbXBvbmVudCkpXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIHBhcmVudENvbnRhaW5lcjogQmFzZUZvcm1Db21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoZW52LCBwYXJlbnRDb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudHlwZSA9IEVkaXRvclR5cGUuRGVmYXVsdDtcbiAgICAgICAgdGhpcy5zdHlsZUNsYXNzID0gJ2RlZmF1bHQtZWRpdG9yJztcbiAgICB9XG5cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xuICAgICAgICBzdXBlci5yZWdpc3RlckZvcm1Db250cm9sKHRoaXMudmFsdWUpO1xuXG4gICAgICAgIHRoaXMuZm9ybUNvbnRyb2wudmFsdWVDaGFuZ2VzLnBpcGUoXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgICAgICkuc3Vic2NyaWJlKHZhbCA9PiB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsO1xuICAgICAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlZCh0aGlzLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwuIFBsZWFzZSBzZWUgQ29udHJvbFZhbHVlQWNjZXNzb3JcbiAgICAgKi9cbiAgICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmZvcm1Db250cm9sLnNldFZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtOZ01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0NvbW1vbk1vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7Rm9ybXNNb2R1bGUsIFJlYWN0aXZlRm9ybXNNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7RWRpdG9yTW9kdWxlfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xuaW1wb3J0IHtBV1N0cmluZ0ZpZWxkTW9kdWxlfSBmcm9tICcuLi9zdHJpbmcvc3RyaW5nLm1vZHVsZSc7XG5pbXBvcnQge1JpY2hUZXh0QXJlYUNvbXBvbmVudH0gZnJvbSAnLi4vcmljaC10ZXh0LWFyZWEvcmljaC10ZXh0LWFyZWEuY29tcG9uZW50JztcblxuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBSaWNoVGV4dEFyZWFDb21wb25lbnRcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZSxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgRWRpdG9yTW9kdWxlLFxuICAgICAgICBBV1N0cmluZ0ZpZWxkTW9kdWxlXG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgUmljaFRleHRBcmVhQ29tcG9uZW50XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIFJpY2hUZXh0QXJlYUNvbXBvbmVudCxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGVcbiAgICBdLFxuICAgIHByb3ZpZGVyczogW11cbn0pXG5leHBvcnQgY2xhc3MgQVdSaWNoVGV4dEFyZWFNb2R1bGVcbntcbn1cblxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIENvbnRlbnRDaGlsZCxcbiAgICBFbGVtZW50UmVmLFxuICAgIEV2ZW50RW1pdHRlcixcbiAgICBJbnB1dCxcbiAgICBPdXRwdXQsXG4gICAgVmlld0NoaWxkXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtFbnZpcm9ubWVudCwgaXNQcmVzZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7QWNjb3JkaW9uVGFifSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xuaW1wb3J0IHtCYXNlQ29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL2Jhc2UuY29tcG9uZW50JztcblxuXG4vKipcbiAqIEFsbG93IGRldmVsb3BlciB0byBvdmVycmlkZSBkZWZhdWx0IGFjdGlvbnMuIE11c3QgaGF2ZSB0aGlzIGRlY2xhcmVkIGJlZm9yZSBjbGFzcyB3aGVuIHdlXG4gKiB3YW50IHRvIGhhdmUgdGhpcyBkZWNsYXJhdGlvbiBpbnNpZGUgdGhlIHNhbWUgZmlsZS5cbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1zZWN0aW9uLWFjdGlvbnMnLFxuICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PiBgLFxufSlcbmV4cG9ydCBjbGFzcyBTZWN0aW9uQWN0aW9uc0NvbXBvbmVudFxue1xuXG59XG5cblxuLyoqXG4gKlxuICogU2VjdGlvbiBjb21wb25lbnQgdGhhdCBpbXBsZW1lbnRzIGEgc2VjdGlvbiBvZiB0aGUgcGFnZS4gSXQncyBhbiBvdXRsaW5lIGJveCB0aGF0XG4gKiBoYXMgdGhlIGFiaWxpdHkgdG8gZXhwYW5kIGFuZCBoaWRlIGl0cyBjb250ZW50LlxuICpcbiAqIGBgYHRzXG4gKiAgQENvbXBvbmVudCh7XG4gKiAgICBzZWxlY3RvcjogJ3JmeC1kZXRhaWxzJyAsXG4gKiAgICB0ZW1wbGF0ZTogYFxuICogICAgICAgICA8YXctc2VjdGlvbiB0aXRsZT1cIlNvdXJjaW5nIHJlcXVlc3QgaW5mb1wiIChvbkVkaXQpPVwib25TdGF0ZUNoYW5nZSgkZXZlbnQpXCJcbiAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgW2VkaXRhYmxlXT1cInRydWVcIj5cbiAqXG4gKiAgICAgICAgICAgICAgICA8bS1jb250ZXh0IFtvYmplY3RdPVwicmZ4RW50aXR5LmhlYWRlckluZm9cIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIFtvcGVyYXRpb25dPVwidGhpcy5lZGl0YWJpbGl0eVN0YXRlLmhlYWRlckluZm9PcFwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0PVwiSW5zcGVjdFwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgdWlHcm91cD1cIkhlYWRlckdlbmVyYWxcIj5cbiAqICAgICAgICAgICAgICAgICAgIDxtLWluY2x1ZGUtY29tcG9uZW50PjwvbS1pbmNsdWRlLWNvbXBvbmVudD5cbiAqICAgICAgICAgICAgICAgPC9tLWNvbnRleHQ+XG4gKiAgICAgICAgICAgPC9hdy1zZWN0aW9uPlxuICpcbiAqXG4gKiAgICAgICAgICAgPGF3LXNlY3Rpb24gI3N1cHBsaWVyU2VjdGlvbiB0aXRsZT1cIlNlbGVjdGVkIHN1cHBsaWVyc1wiIChvbk9wZW4pPVwib25PcGVuKClcIlxuICAgKiAgICAgICAgICAgICAgICBbb3BlbmVkXT1cImZhbHNlXCI+XG4gKiAgICAgICAgICAgICAgIDxzdXBwbGllci1wcm9maWxlLWNhcmQ+PC9zdXBwbGllci1wcm9maWxlLWNhcmQ+XG4gKiAgICAgICAgICAgPC9hdy1zZWN0aW9uPlxuICpcbiAqICAgICAgICAgICA8YXctc2VjdGlvbiB0aXRsZT1cIlJGUSBEZXRhaWxzXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj1cIlJldmlldyBhbmQgdXBkYXRlIGluZm9ybWF0aW9uIGZvciBzdXBwbGllcnMgdG8gcmVzcG9uZC5cIlxuICogICAgICAgICAgICAgICAgICAgICAgIFtkaXNhYmxlQ2xvc2VdPVwidHJ1ZVwiPlxuICpcbiAqICAgICAgICAgICAgICAgPGF3LXN1YnNlY3Rpb24gdGl0bGU9XCJFdmVudCB0aW1lbGluZVwiPlxuICogICAgICAgICAgICAgICAgICAgPGF3LWZvcm0tdGFibGUgW3VzZUZpdmVab25lXT1cImZhbHNlXCIgW2VkaXRhYmxlXT1cInRydWVcIj5cbiAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgPGF3LWZvcm0tcm93IFtsYWJlbF09XCInU3RhcnQgRGF0ZSdcIiBbbmFtZV09XCInc3RhcnREYXRlJ1wiIFtzaXplXT1cIidzbWFsbCdcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtoaWdobGlnaHRSb3ddPVwidHJ1ZVwiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICA8YXctZGF0ZS10aW1lXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXROYW1lPVwiZGF0ZVRpbWVcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInN0YXJ0RGF0ZVwiIFt2YWx1ZV09XCJyZnhFbnRpdHkuY3JlYXRlZFwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2hvd1RpbWVdPVwidHJ1ZVwiPjwvYXctZGF0ZS10aW1lPlxuICogICAgICAgICAgICAgICAgICAgICAgIDwvYXctZm9ybS1yb3c+XG4gKiAgICAgICAgICAgICAgICAgICA8L2F3LWZvcm0tdGFibGU+XG4gKiAgICAgICAgICAgICAgIDwvYXctc3Vic2VjdGlvbj5cbiAqICAgICAgICAgIDwvYXctc2VjdGlvbj5cbiAqICAgIGBcbiAqICAgIH0pXG4gKiAgICBleHBvcnQgY2xhc3MgTXlQYWdlXG4gKiAgICB7XG4gKlxuICogICAgICAgIGNvbnN0cnVjdG9yICgpXG4gKiAgICAgICAge1xuICogICAgICAgIH1cbiAqXG4gKiAgICB9XG4gKlxuICogYGBgXG4gKlxuICogU2VjdGlvbiBjb21wb25lbnQgYWxzbyBzdXBwb3J0cyBlZGl0YWJpbGl0eSBtb2RlcyBhbmQgaWYgZW5hYmxlZCBpdCB3aWxsIHJlbmRlciBhY3Rpb24gYnV0dG9uc1xuICogaW4gdGhlIGZvb3Rlci4gRGV2ZWxvcGVyIGNhbiBhbHNvIG92ZXJyaWRlIGRlZmF1bHQgYmVoYXZpb3IgYW5kIHByb3ZpZGUgY3VzdG9tIGFjdGlvbnMuXG4gKlxuICpcbiAqIGUuZzpcbiAqXG4gKiBgYGBcbiAqICAgICAgPGF3LXNlY3Rpb24gW3RpdGxlXT1cInRpdGxlXCIgW2VkaXRhYmxlXT1cInRydWVcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIChvbkNhbmNlbEFjdGlvbik9XCJzb21lSGFuZGxlcjEoJGV2ZW50KVwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgKG9uU2F2ZUFjdGlvbik9XCJzb21lSGFuZGxlcjIoJGV2ZW50KVwiID5cbiAqICAgICAgICAgICAgICBzZWN0aW9uIGNvbnRlbnRcbiAqXG4gKlxuICogICA8L2F3LXNlY3Rpb24+XG4gKlxuICogYGBgXG4gKlxuICogb3IgY3VzdG9tIGFjdGlvbiBidXR0b25zOlxuICpcbiAqXG4gKiBgYGBodG1sXG4gKlxuICogICAgICAgPGF3LXNlY3Rpb24tYWN0aW9ucz5cbiAqICAgICAgICAgICAgICAgICAgICAgIDxhdy1idXR0b24gPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgQnV0dG9uVGVzdDFcbiAqICAgICAgICAgICAgICAgICAgICAgIDwvYXctYnV0dG9uPlxuICogICAgICAgICAgICAgICAgICAgICAgPGF3LWJ1dHRvbj5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ1dHRvblRlc3QyXG4gKiAgICAgICAgICAgICAgICAgICAgICA8L2F3LWJ1dHRvbj5cbiAqICAgICA8L2F3LXNlY3Rpb24tYWN0aW9ucz5cbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogVGhlcmUgYXJlIHR3byBlZGl0IG1vZGVzXG4gKiAgIyBEZWZhdWx0XG4gKiAgICAgIFJlbmRlcnMgYWN0aW9uIGJ1dHRvbnMgaW4gdGhlIGZvb3RlcnMgYW5kIGVtaXQgYWN0aW9ucyB0byB0aGUgYXBwbGljYXRpb25cbiAqXG4gKiAgIyBFeHRlcm5hbFxuICogICAgIE5vIGFjdGlvbiBidXR0b25zIGFyZSBzaG93biBpbiB0aGUgZm9vdGVyIGFuZCBiZWhhdmlvciBpcyBoYW5kbGVkIGJ5IGFwcGxpY2F0aW9uLiBPbmx5IGV2ZW50XG4gKiAgICAgaXMgZW1pdGVkLlxuICpcbiAqXG4gKiAgZS5nOlxuICpcbiAqICBgYGB0c1xuICpcbiAqICAgICAgPGF3LXNlY3Rpb24gdGl0bGU9XCJVc2VyIEluZm9ybWF0aW9uXCIgKG9uRWRpdCk9XCJvbkFkZFNvbWV0aGluZygkZXZlbnQpXCJcbiAqICAgICAgICAgICAgICAgICAgW2VkaXRhYmxlXT1cInRydWVcIiBbZWRpdE1vZGVdPVwiJ2V4dGVybmFsJ1wiID5cbiAqICAgICAgICAgICAgICAgICAgPGRpdj5cbiAqICAgICAgICAgICAgICAgICAgICAgIENvbnRlbnRcbiAqICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gKiAgICAgIDwvYXctc2VjdGlvbj5cbiAqXG4gKiAgYGBgXG4gKlxuICogTm90ZTogV2hlbiB1c2luZyBlZGl0aW5nIG1vZGUgeW91IGhhdmUgdG8gY2FsbCBhdCB0aGUgZW5kIG9mIHRoZSBlZGl0aW5nIGN5Y2xlIG1ldGhvZFxuICogYGNvbXBsZXRlRWRpdGluZygpYCB0byBjb21taXQgZWRpdGluZyB3aGljaCBjaGFuZ2VzIGludGVybmFsIHN0YXRlIG9mIHRoZSBTZWN0aW9uLlxuICpcbiAqXG4gKlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LXNlY3Rpb24nLFxuICAgIHRlbXBsYXRlVXJsOiAnc2VjdGlvbi5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ3NlY3Rpb24uY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBTZWN0aW9uQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudFxue1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpdGxlIG9mIHRoaXMgc2VjdGlvblxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgdGl0bGU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGlzIHNlY3Rpb24uXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRoaXMgc2VjdGlvbiBiZSBvcGVuZWQgYXQgdGhlIHN0YXJ0LiBEZWZhdWx0IGlzIG9wZW5lZC5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG9wZW5lZDogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgc2VjdGlvbiBjYW4gYmUgY2xvc2VkIG9yIG5vdC5cbiAgICAgKiovXG4gICAgQElucHV0KClcbiAgICBkaXNhYmxlQ2xvc2U6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBzZWN0aW9uIGlzIGluIEVkaXRTdGF0ZSBvciBub3QuXG4gICAgICpcbiAgICAgKiBXaGVuIGluIGVkaXRpbmcgc3RhdGUgYW5kIHdlIHNob3cgXCJDYW5jZWwgLyBTYXZlXCIgYnV0dG9uIGRldmVsb3BlciBuZWVkcyB1c2UgdGhpcyBiaW5kaW5nXG4gICAgICogdG8gY29udHJvbCB0aGUgc3RhdGUuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBlZGl0U3RhdGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBFZGl0aW5nIG1vZGUuIFRlbGxzIHRoZSBjb21wb25lbnRzIGlmIGl0cyBpdHMgZGVmYXVsdCBiZWhhdmlvciBvciBkcml2ZW4gYnlcbiAgICAgKiBhcHBsaWNhdGlvbiB1c2luZyB0aGlzIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIHtAc2VlIEVkaXRNb2RlfVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBlZGl0TW9kZTogRWRpdE1vZGUgPSAnZGVmYXVsdCc7XG5cblxuICAgIC8qKlxuICAgICAqIERldmVsb3BlciBjYW4gcHJvdmlkZSBjdXN0b20gRWRpdCBhY3Rpb24gaWNvbiB0aGF0IHdpbGwgYXBwZWFyIGluIHRoZSByaWdodCB0b3AgY29ybmVyXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBhY3Rpb25JY29uOiBzdHJpbmcgPSAnaWNvbi1lZGl0JztcblxuICAgIC8qKlxuICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgc2VjdGlvbiBpcyBmdWxseSBvcGVuZWQuXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgb25PcGVuOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgc2VjdGlvbiBpcyBmdWxseSBjbG9zZWQuXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgb25DbG9zZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBFZGl0IHN0YXRlIHRvIGJyb2FkY2FzdCBzdGF0ZSBvZiBjdXJyZW50IHNlY3Rpb25cbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBvbkVkaXQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGluIGVkaXRpbmcgc3RhdGUgYW5kIGRlZmF1bHQgYnV0dG9ucyBhcmUgcmVuZGVyZWQgb24gY2xpY2sgYnJvYWRjYXN0IENhbmNlbCBhY3Rpb25cbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBvbkNhbmNlbEFjdGlvbjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cblxuICAgIC8qKlxuICAgICAqIFdoZW4gaW4gZWRpdGluZyBzdGF0ZSBhbmQgZGVmYXVsdCBidXR0b25zIGFyZSByZW5kZXJlZCBvbiBjbGljayBicm9hZGNhc3QgU2F2ZSBhY3Rpb25cbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBvblNhdmVBY3Rpb246IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG5cbiAgICBAT3V0cHV0KClcbiAgICBvbkVkaXRpbmdDb21wbGV0ZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBMb2NhbCB2YXJpYWJsZSBvbiB3aGV0aGVyIHRoaXMgc2VjdGlvbiBpcyBleHBhbmRlZCBvciBub3QuXG4gICAgICogRGlmZmVycyBmcm9tICdvcGVuZWQnLiBvcGVuZWQgaXMgYW4gaW5wdXQgcGFyYW1ldGVyIGFuZCBpdCBkb2Vzbid0IHRyYWNrXG4gICAgICogY3VycmVudCBzZWN0aW9uIGV4cGFuZGVkIHN0YXRlLlxuICAgICAqL1xuICAgIGV4cGFuZGVkOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogaW50ZXJuYWwgYWNjb3JkaW9uVGFiXG4gICAgICovXG4gICAgQFZpZXdDaGlsZCgnYWNjb3JkaW9uVGFiJylcbiAgICBwcml2YXRlIGFjY29yZGlvblRhYjogQWNjb3JkaW9uVGFiO1xuXG5cbiAgICAvKipcbiAgICAgKiBTYXZlIHJlZmVyZW5jZSB0byBkZXZlbG9wZXIncyBkZWZpbmVkIGFjdGlvbnMgc28gaWYgd2UgY2FuIGhpZGUgZGVmYXVsdCBvbmVzXG4gICAgICovXG4gICAgQENvbnRlbnRDaGlsZChTZWN0aW9uQWN0aW9uc0NvbXBvbmVudClcbiAgICBjdXN0b21BY3Rpb25zOiBTZWN0aW9uQWN0aW9uc0NvbXBvbmVudDtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBlbGVtZW50OiBFbGVtZW50UmVmLCBwdWJsaWMgZW52OiBFbnZpcm9ubWVudClcbiAgICB7XG4gICAgICAgIHN1cGVyKGVudik7XG4gICAgICAgIHRoaXMuZWRpdGFibGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpXG4gICAge1xuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xuICAgICAgICAvLyBJZiBJIGhhdmUgbm90IGhlYWRlciwgdGhlbiBJIGNhbid0IGNsb3NlIHRoZSBzZWN0aW9uLlxuICAgICAgICBpZiAoIXRoaXMuaXNIZWFkZXJEaXNwbGF5ZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlQ2xvc2UgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgSSBjYW4ndCBjbG9zZSB0aGUgc2VjdGlvbiwgdGhlbiBpdCBzaG91bGQgZGVmYXVsdCBvcGVuLlxuICAgICAgICBpZiAodGhpcy5kaXNhYmxlQ2xvc2UpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbmVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgZXhwYW5kZWQgc3RhdGUuXG4gICAgICAgIHRoaXMuZXhwYW5kZWQgPSB0aGlzLm9wZW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEb24ndCBkaXNwbGF5IGhlYWRlciBhcmVhIGlmIEkgZG9uJ3QgaGF2ZSB0aXRsZSBhbmQgZGVzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGlzSGVhZGVyRGlzcGxheWVkKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiAoaXNQcmVzZW50KHRoaXMudGl0bGUpIHx8IGlzUHJlc2VudCh0aGlzLmRlc2NyaXB0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3NzIENsYXNzIHRoYXQgY29udHJvbCB0aGUgbG9vayBhbmQgZmVlbCBmb3Igc2VjdGlvbiBjb21wb25lbnQuXG4gICAgICovXG4gICAgYUNsYXNzKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzSGVhZGVyRGlzcGxheWVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiAnc2VjdGlvbi1uby1oZWFkZXInO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpbmNlIHdlIGludHJvZHVjZWQgYnV0dG9ucyBhbmQgZWRpdFN0YXRlIHRoZSBkZWNpc2lvbiBvbiB3aGVuIHRvIGV4aXQgZWRpdGluZyBtb2RlXG4gICAgICogc2hvdWxkIGJlIG9uIHRoZSBkZXZlbG9wZXIgdXNpbmcgdGhpcyBjb21wb25lbnQgdGhlcmVmb3JlIG9ubHkgc3RhcnRFZGl0aW5nXG4gICAgICpcbiAgICAgKi9cbiAgICBvbkVkaXRBY3Rpb24oJGV2ZW50OiBhbnkpOiB2b2lkXG4gICAge1xuXG4gICAgICAgIC8vIHdoZW4gaW4gZWRpdGluZyBtYWtlIHN1cmUgd2UgZG9udCBzd2l0Y2ggc3RhdGUgYXMgdGhlcmUgY2FuIGJlIHNvbWUgRm9ybSBlcnJvcnNcbiAgICAgICAgLy8gd2hpY2ggbmVlZHMgdG8gYmUgaGFuZGxlZCBieSBkZXZlbG9wZXIgYW5kIG9ubHkgdGhlbiBjaGFuZ2UgdGhlIGVkaXRTdGF0ZVxuICAgICAgICBpZiAoIXRoaXMuZWRpdFN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRTdGF0ZSA9ICF0aGlzLmVkaXRTdGF0ZTtcbiAgICAgICAgICAgIGxldCBzdGF0ZTogc3RyaW5nID0gKHRoaXMuZWRpdFN0YXRlKSA/ICdpbkVkaXQnIDogJ25vdEluRWRpdCc7XG5cbiAgICAgICAgICAgIHRoaXMub25FZGl0LmVtaXQoc3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwcmV2ZW50IHRoZSBvcmlnaW5hbCBldmVudCBmcm9tIGJ1YmJsaW5nIHVwLiBCZWNhdXNlIHRoZSBlZGl0IGljb24gaXMgaW5zaWRlXG4gICAgICAgIC8vIHRoZSBoZWFkZXIuIElmIHRoZSBjbGljayBldmVuIGlzIGJ1YmJsZWQgdXAsIHRoaXMgZXZlbnQgd2lsbCBjYXVzZSB0aGUgc2VjdGlvbiB0b1xuICAgICAgICAvLyBleHBhbmQgb3IgY29sbGFwc2UuXG4gICAgICAgIGlmIChpc1ByZXNlbnQoJGV2ZW50LmV2ZW50KSkge1xuICAgICAgICAgICAgJGV2ZW50LmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgJGV2ZW50LmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYXNEZXNjcmlwdGlvbigpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMuZGVzY3JpcHRpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9wZW4gdGhpcyBzZWN0aW9uLCBpZiBpdCdzIGFscmVhZHkgb3Blbiwgd2lsbCBkbyBub3RoaW5nLlxuICAgICAqL1xuICAgIG9wZW4oZXZlbnQ/OiBhbnkpOiB2b2lkXG4gICAge1xuXG4gICAgICAgIGlmICghdGhpcy5leHBhbmRlZCkge1xuICAgICAgICAgICAgdGhpcy5hY2NvcmRpb25UYWIudG9nZ2xlKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoaXMgc2VjdGlvbiwgaWYgaXQncyBhbHJlYWR5IGNsb3NlLCB3aWxsIGRvIG5vdGhpbmcuXG4gICAgICovXG4gICAgY2xvc2UoZXZlbnQ6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmV4cGFuZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmFjY29yZGlvblRhYi50b2dnbGUoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIGFjY29yZGlvbiBpcyBvcGVuZWRcbiAgICAgKlxuICAgICAqL1xuICAgIG9uU2VjdGlvbk9wZW4oZXZlbnQ6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZXhwYW5kZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm9uT3Blbi5lbWl0KCdvcGVuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIGFjY29yZGlvbiBpcyBjbG9zZWRcbiAgICAgKlxuICAgICAqL1xuICAgIG9uU2VjdGlvbkNsb3NlKGV2ZW50OiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmV4cGFuZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25DbG9zZS5lbWl0KCdjbG9zZScpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBUZWxscyB1cyBpZiB3ZSBuZWVkIHRvIHJlbmRlciBhcHBsaWNhdGlvbiBkZWZpbmVkIGN1c3RvbSBhY3Rpb25zXG4gICAgICpcbiAgICAgKi9cbiAgICBoYXNDdXN0b21BY3Rpb25zKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBpc1ByZXNlbnQodGhpcy5jdXN0b21BY3Rpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbWl0IHRoZSBlZGl0aW5nIHN0YXRlIGJhY2sgdG8gbm9uLWVkaXRhYmxlXG4gICAgICovXG4gICAgY29tcGxldGVFZGl0aW5nKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZWRpdFN0YXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25FZGl0aW5nQ29tcGxldGUuZW1pdCh0aGlzLmVkaXRTdGF0ZSk7XG4gICAgfVxufVxuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LXN1YnNlY3Rpb24nLFxuICAgIHRlbXBsYXRlOiBgXG4gICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cInN1YnNlY3Rpb24tdGl0bGVcIj57e3RpdGxlfX08L2g0PlxuICAgICAgICAgICAgICAgICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gICAgICAgICAgICAgICAgIGAsXG4gICAgc3R5bGVzOiBbJy5zdWJzZWN0aW9uLXRpdGxlIHtjb2xvcjogIzM2MzYzNjsgfSddXG59KVxuZXhwb3J0IGNsYXNzIFN1YlNlY3Rpb25Db21wb25lbnRcbntcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aXRsZSBvZiB0aGlzIHN1YiBzZWN0aW9uXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICB0aXRsZTogc3RyaW5nO1xufVxuXG5cbi8qKlxuICogRGVmaW5lcyBlZGl0aW5nIG1vZGVzIGZvciB0aGUgU2VjdGlvbnMuIERlZmF1bHQgbWVhbnMgd2Ugc2hvdyBjYW5jZWwgLyBzYXZlIGJ1dHRvbnMgYW5kIGhpZGVcbiAqIGVkaXQgaWNvbnMgd2hlbiBpbiBlZGl0aW5nLiBleHRlcm5hbCBpcyBkcml2ZW4gYnkgYXBwbGljYXRpb25cbiAqL1xuZXhwb3J0IHR5cGUgRWRpdE1vZGUgPSAnZGVmYXVsdCcgfCAnZXh0ZXJuYWwnO1xuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7TmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge0Zvcm1zTW9kdWxlLCBSZWFjdGl2ZUZvcm1zTW9kdWxlfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0FyaWJhQ29yZU1vZHVsZX0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0FXU3RyaW5nRmllbGRNb2R1bGV9IGZyb20gJy4uL3N0cmluZy9zdHJpbmcubW9kdWxlJztcbmltcG9ydCB7QWNjb3JkaW9uTW9kdWxlLCBTaGFyZWRNb2R1bGV9IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XG5pbXBvcnQge1NlY3Rpb25BY3Rpb25zQ29tcG9uZW50LCBTZWN0aW9uQ29tcG9uZW50LCBTdWJTZWN0aW9uQ29tcG9uZW50fSBmcm9tICcuL3NlY3Rpb24uY29tcG9uZW50JztcbmltcG9ydCB7QVdIeXBlcmxpbmtNb2R1bGV9IGZyb20gJy4uL2h5cGVybGluay9oeXBlcmxpbmsubW9kdWxlJztcbmltcG9ydCB7QVdCdXR0b25Nb2R1bGV9IGZyb20gJy4uL2J1dHRvbi9idXR0b24ubW9kdWxlJztcblxuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBTZWN0aW9uQ29tcG9uZW50LFxuICAgICAgICBTdWJTZWN0aW9uQ29tcG9uZW50LFxuICAgICAgICBTZWN0aW9uQWN0aW9uc0NvbXBvbmVudFxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGUsXG4gICAgICAgIEFjY29yZGlvbk1vZHVsZSxcbiAgICAgICAgQXJpYmFDb3JlTW9kdWxlLFxuICAgICAgICBBV1N0cmluZ0ZpZWxkTW9kdWxlLFxuICAgICAgICBBV0h5cGVybGlua01vZHVsZSxcbiAgICAgICAgQVdCdXR0b25Nb2R1bGUsXG4gICAgICAgIFNoYXJlZE1vZHVsZVxuICAgIF0sXG5cbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgU2VjdGlvbkNvbXBvbmVudCxcbiAgICAgICAgU3ViU2VjdGlvbkNvbXBvbmVudCxcbiAgICAgICAgU2VjdGlvbkFjdGlvbnNDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgU2VjdGlvbkNvbXBvbmVudCxcbiAgICAgICAgU2VjdGlvbkFjdGlvbnNDb21wb25lbnQsXG4gICAgICAgIFN1YlNlY3Rpb25Db21wb25lbnQsXG4gICAgICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlXG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEFXU2VjdGlvbk1vZHVsZVxue1xufVxuXG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtcbiAgICBBZnRlckNvbnRlbnRJbml0LFxuICAgIENvbXBvbmVudCxcbiAgICBDb250ZW50Q2hpbGQsXG4gICAgSW5wdXQsXG4gICAgVGVtcGxhdGVSZWYsXG4gICAgVmlld0NoaWxkLFxuICAgIFZpZXdFbmNhcHN1bGF0aW9uXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtBV0RhdGFUYWJsZX0gZnJvbSAnLi4vYXctZGF0YXRhYmxlJztcbmltcG9ydCB7RGF0YXRhYmxlMkNvbXBvbmVudH0gZnJvbSAnLi4vZGF0YXRhYmxlMi5jb21wb25lbnQnO1xuaW1wb3J0IHtCb29sZWFuV3JhcHBlciwgRW52aXJvbm1lbnQsIGlzQmxhbmssIGlzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0Jhc2VDb21wb25lbnR9IGZyb20gJy4uLy4uLy4uL2NvcmUvYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHtEb21IYW5kbGVyfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xuXG5cbmV4cG9ydCB0eXBlIERUSEFsaWdubWVudCA9ICdsZWZ0JyB8ICdjZW50ZXInIHwgJ3JpZ2h0JztcblxuXG4vKipcbiAqIERUQ29sdW1uIHJlcHJlc2VudCBzaW5nbGUgY29sdW1uIGluY2x1ZGluZyBoZWFkZXIgYW5kIGl0cyBib2R5LiBFYWNoIGNvbHVtbiBoYXMgaXRzIG93blxuICogcmVuZGVyZXJUZW1wbGF0ZSB3aGljaCBhIGVudHJ5IHRvIHRoaXMgY29tcG9uZW50LlxuICpcbiAqIEtlZXBpbmcgdGhpcyBzZXBhcmF0ZSBmcm9tIHRoZSBkYXRhdGFibGUgd2hlcmUgRFQgaXMgbm90IHJlYWxseSBhd2FyZSB3aGF0IGl0IGlzIHJlbmRlcmluZyxcbiAqIGl0IGFsbG93cyB1cyBtb3JlIGZsZXhpYmlsaXR5IGluIHRlcm1zIG9mIGRpZmZlcmVudCB0eXBlIG9mIGNvbHVtbiBpbmhlcml0aW5nIGZyb20gdGhpc1xuICogb25lLi4gU3VjaCBhczpcbiAqICBEVFJvd0RldGFpbCAgY29sdW1uXG4gKiAgRFRTaW5nbGVTZWxlY3Rpb24gY29sdW1uXG4gKiAgRFRNdWx0aVNlbGVjdGlvbiBjb2x1bW5cbiAqXG4gKiBUaGlzIHdheSB3ZSBkb24ndCBkbyBJRi9USEVOL0VMU0UgaW5zaWRlIHRoZSBkYXRhdGFibGUgYW5kIHRyeWluZyB0byBjcmVhdGUgZGlmZmVyZW50IGNhc2VzLlxuICpcbiAqICBUaGVuIGxhdGVyIG9uIHRoaXMgd2lsbCBsZXQgdXMgY3JlYXRlIGFkZGl0aW9uYWwgbG9naWMgZm9yIHRoZSBwaXZvdGFsIGxheW91dC4gQmVjYXVzZSBEVFxuICogIGRvZXMga25vdyBhbnl0aGluZyBhYm91dCB0aGUgdHlwZSBvZiB0aGUgY29sdW1uIHNvIHdoYXRldmVyIGlzIGFkZGVkIHRvIHRoZSBEVC5jb2x1bW5zIGl0XG4gKiAgd2lsbCBiZSByZW5kZXJlZC5cbiAqXG4gKlxuICogIENvbHVtbnMgY2FuIGJlIGFsc28gZnJvemVuIG1lYW5pbmcgaWYgdGhlIGNvbnRlbnQgb3ZlcmZsb3dzIHRoZXkgZG9udCBzY3JvbGwuIFRvIG1ha2UgdGhlXG4gKiAgY29sdW1uIGZyb3plbiB3ZSBuZWVkIHRvIHVzZSBbZnJvemVuXSBiaW5kaW5nIGFuZCBzZSBpdCB0byBUUlVFIHBsdXMgaXQgcmVxdWlyZXMgYSBbd2lkdGhdXG4gKiAgYmluZGluZyB0byBiZSBzZXQgKGluIHB4KS5cbiAqICBXZSBuZWVkIHRoaXMgdG8gYmUgYWJsZSB0byBwcm9wZXJseSBwb3NpdGlvbiB0aGUgc2Vjb25kIHRhYmxlIHdoaWNoIGlzIGNoYW5nZWQgdG8gYWJzb2x1dGVcbiAqICBwb3NpdGlvbmluZy5cbiAqXG4gKlxuICpcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1kdC1jb2x1bW4yJyxcbiAgICB0ZW1wbGF0ZVVybDogJ2R0LWNvbHVtbi5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ2R0LWNvbHVtbi5jb21wb25lbnQuc2NzcyddLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgcHJvdmlkZXJzOiBbRG9tSGFuZGxlcl1cblxufSlcbmV4cG9ydCBjbGFzcyBEVENvbHVtbjJDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJDb250ZW50SW5pdFxue1xuICAgIC8qKlxuICAgICAqIENvbHVtbiBoZWFkZXIgbGFiZWwuXG4gICAgICpcbiAgICAgKiBPciB5b3UgY2FuIHVzZSBoZWFkZXJUZW1wbGF0ZSB0byBkZWZpbmUgeW91ciBvd24gdGVtcGxhdGVcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGxhYmVsOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBXaGF0IGZpZWxkIG5hbWUgdG8gcmVhZCBmcm9tIHRoZSBnaXZlbiBvYmplY3RcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGtleTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDZWxsIGFsaWdubWVudC4gSXQgaW5zZXJ0cyByZWd1bGFyIGFsaWduIGF0dHJpYnV0ZSB0byB0aGUgdGFibGUgY2VsbFxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBhbGlnbjogRFRIQWxpZ25tZW50ID0gJ2xlZnQnO1xuXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgZHluYW1pYyBjbGFzcyBiYXNlZCBvbiBkYXRhIGFuZCB0aGVuIGl0cyBhZGRlZCB0byB0aGUgdGFibGUgY2VsbCBURFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgYm9keUNsYXNzRm46IChjb2x1bW46IERUQ29sdW1uMkNvbXBvbmVudCwgaXRlbTogYW55KSA9PiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIElmIGZhbHNlIGFwcGxpZXMgZHQtaXMtaGlkZGVuIHN0eWxlIHRoYXQgaGlkZXMgdGhlIGNvbHVtblxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBpc1Zpc2libGU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogTWFya3MgY29sdW1uIGFzIHNvcnRhYmxlIHdoaWNoIG1lYW5zIHNvcnRpbmcgaWNvbiBpcyBhZGRlZCB0byB0aGUgaGVhZGVyIHdpdGggc3BlY2lhbFxuICAgICAqIHNvcnRpbmcgaGFuZGxpbmdcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNvcnRhYmxlOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBTb3J0aW5nIGRpcmVjdGlvblxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzb3J0T3JkZXJpbmc6IHN0cmluZyA9ICdkZXNjZW5kaW5nJztcblxuICAgIC8qKlxuICAgICAqIFRlbGxzIHRoZSB0ZW1wbGF0ZSBpZiB3aGV0aGVyIHRvIHJlbmRlciBhIGxhYmVsXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dDb2x1bW5MYWJlbDogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFNlZSBBV0RhdGFUYWJsZVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzaG93U3ViSGVhZGVyOiBib29sZWFuID0gZmFsc2U7XG5cblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3RhdGljIGNsYXNzIHRoYXQgaXMgYWRkZWQgdG8gdGhlIFRIIGludG8gdGhlIGhlYWRlci4gSXQgZG9lcyBub3QgcmVseSBvbiBkYXRhXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGhlYWRlclN0eWxlQ2xhc3M6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3RhdGljIGNsYXNzIHRoYXQgaXMgYWRkZWQgdG8gdGhlIHRkIGludG8gdGhlIGJvZHkuIEl0IGRvZXMgbm90IHJlbHkgb24gZGF0YVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBib2R5U3R5bGVDbGFzczogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBVc2VkIHRvZ2V0aGVyIHdpdGggY2VsbCBzZWxlY3Rpb25Nb2RlIHRvIHRlbGwgd2hpY2ggY29sdW1uIGlzIHNlbGVjdGFibGVcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2VsZWN0YWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVXNlIGdsb2JhbGx5IGRlZmluZWQgSEVBREVSIHRlbXBsYXRlIGZvciBjdXJyZW50IGNvbHVtblxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICB1c2VHbG9iYWxIZWFkZXI6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogVXNlIGdsb2JhbGx5IGRlZmluZWQgU3ViSGVhZGVyIHRlbXBsYXRlIGZvciBjdXJyZW50IGNvbHVtblxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICB1c2VHbG9iYWxTdWJIZWFkZXI6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogVXNlIGdsb2JhbGx5IGRlZmluZWQgYm9keSB0ZW1wbGF0ZVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICB1c2VHbG9iYWxCb2R5OiBib29sZWFuID0gdHJ1ZTtcblxuXG4gICAgLyoqXG4gICAgICogVGVsbHMgaWYgdGhlIGNvbHVtbiBpcyBkYXRhIGNvbHVtbiAgLSBpZiBpdCBpcyByZW5kZXJpbmcgZGF0YSBvciBqdXN0IGEgbGFiZWwgb3Igc29tZVxuICAgICAqIGNvbnRyb2xcbiAgICAgKlxuICAgICAqIFRoaXMgaXMgaW1wb3J0YW50IHdoZW4gY2FsY3VsYXRpbmcgYSBjb2x1bW4gc3BhbiBhbmQgd2UgbmVlZCB0byBrbm93IHdoaWNoIGNvbHVtbnMgYXJlIG9yXG4gICAgICogd2lsbCBiZSBqdXN0IGZvciBzZWxlY3Rpb24gY29udHJvbHMgYW5kIHdoaWNoIGhvbGRzIGRhdGFcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGlzRGF0YUNvbHVtbjogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBJZGVudGlmaWVzIGNvbHVtbiB0aGF0IHdpbGwgbm90IHNjcm9sbCBob3Jpem9udGFsbHkgd2l0aCBvdGhlciBjb2x1bW5zLiBDb2x1bW4gaXNcbiAgICAgKiBmcm96ZW4uXG4gICAgICpcbiAgICAgKiBGb3Igc3VjaCBjb2x1bW5zIHRoYXQgYXJlIG1hcmtlZCBhcyBmcm96ZW4gYmluZGluZyBbd2lkdGhdIGlzIHJlcXVpcmVkLlxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBmcm96ZW46IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIE1heCBXaWR0aCBmb3IgdGhlIFRELiBFdmVuIFREIGRvZXMgbm90IHN1cHBvcnQgd2UgY2FsY3VsYXRlIHRoZSBjb250ZW50IHdpZHRoXG4gICAgICogZm9yIGVhY2ggY2VsbCBhbmQgdGhlbiBkZWNpZGUgaWYgd2UgbmVlZCB0byBlbmxhcmdlIHRoZSBjb2x1bW4uXG4gICAgICpcbiAgICAgKiBARXhwZXJpbWFudGFsIGJpbmRpbmcgdGhhdCBpcyBjdXJyZW50bHkgd29ya2luZyBpZiB0aGUgY29udGVudCBvZiB0aGUgY2VsbCBpcyBpbmxpbmVcbiAgICAgKiBlbGVtZW50IHdoZXJlIHdlIGNhbiBjb250cm9sIHdoaXRlc3BhY2Ugd3JhcHBpbmcgaW4gb3JkZXIgdG8gZmluZCBvdXQgdGhlIHJlYWwgd2lkdGhcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG1heFdpZHRoOiBzdHJpbmc7XG5cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1pbldpZHRoIG9uIHRoZSBjZWxsLiBBZ2FpbiBqdXN0IGxpa2UgbWF4V2lkdGggY3NzIHByb3Blcmx5IGlzIG5vdCBzdXBwb3J0ZWQgb25cbiAgICAgKiB0aGUgdGFibGUgc28gdGhlcmUgaXMgYSB3b3JrYXJvdW5kIHdoZXJlIHdlIGNyZWF0ZSBhZGRpdGlvbmFsIHJvdyB0aGF0IHNldHMgcGFkZGluZyByaWdodFxuICAgICAqIGFuZCB0aGlzIHdpbGwgcHJldmVudCB0aGUgY29sdW1uIHRvIGNvbGxhcHNlIHVuZGVyIHNwZWNpZmllZCB3aWR0aFxuICAgICAqXG4gICAgICogdG9kbzogc3RpbGwgVEJEXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBtaW5XaWR0aDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogTWFpbiByZW5kZXJpbmcgdGVtcGxhdGUgdXNlZCBieSBkYXRhdGFibGUgdG8gcmVuZGVyIGVhY2ggY29sdW1uLlxuICAgICAqL1xuICAgIEBWaWV3Q2hpbGQoJ3JlbmRlcmluZ1RlbXBsYXRlJylcbiAgICByZW5kZXJlclRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG4gICAgLyoqXG4gICAgICogQ3VzdG9tIGhlYWRlciB0ZW1wbGF0ZS4gSXQgd2lsbCBvdmVycmlkZSBwcm92aWRlZCBsYWJlbFxuICAgICAqL1xuICAgIEBDb250ZW50Q2hpbGQoJ2hlYWRlcicpXG4gICAgaGVhZGVyVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG5cbiAgICAvKipcbiAgICAgKiBDdXN0b20gc3ViSGVhZGVyIHRlbXBsYXRlLlxuICAgICAqL1xuICAgIEBDb250ZW50Q2hpbGQoJ3N1YkhlYWRlcicpXG4gICAgc3ViSGVhZGVyVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG5cbiAgICAvKipcbiAgICAgKiBDdXN0b20gYm9keSB0ZW1wbGF0ZSB0aGF0IHdpbGwgb3ZlcnJpZGUgcmVhZCB2YWx1ZSBmcm9tIHRoZSBba2V5XSBiaW5kaW5nXG4gICAgICovXG4gICAgQENvbnRlbnRDaGlsZCgnYm9keScpXG4gICAgYm9keVRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbC4uLlxuICAgICAqL1xuICAgIHNvcnRPcmRlcjogbnVtYmVyO1xuICAgIG1heFdpZHRoUHg6IG51bWJlciA9IDA7XG4gICAgbWluV2lkdGhQeDogbnVtYmVyID0gMDtcbiAgICB3aWR0aFB4OiBudW1iZXIgPSAwO1xuICAgIHdpZGVzdENlbGw6IG51bWJlciA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gRGF0YXRhYmxlIEltcGxlbWVudGF0aW9uc1xuICAgICAqL1xuICAgIGR0OiBBV0RhdGFUYWJsZTtcblxuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgcHVibGljIGRvbUhhbmRsZXI6IERvbUhhbmRsZXIpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuICAgIH1cblxuXG4gICAgbmdPbkluaXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcblxuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLmtleSkgJiYgaXNCbGFuayh0aGlzLmxhYmVsKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGJpbmRpbmc6ICcgK1xuICAgICAgICAgICAgICAgICdba2V5XSBvciBbbGFiZWxdIGJpbmRpbmdzIG11c3QgYmUgdXNlZCBhdCBtaW5pbXVtJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUbyBiZSBhYmxlIHRvIHBvc2l0aW9uIHNlY29uZCBEVCB3ZSByZXF1aXJlIFt3aWR0aF0gdG8gYmUgc2V0IGFzIHdlbGxcbiAgICAgICAgaWYgKHRoaXMuZnJvemVuICYmIGlzQmxhbmsodGhpcy53aWR0aCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBiaW5kaW5nIFt3aWR0aF06ICcgK1xuICAgICAgICAgICAgICAgICd3aGVuIFtmcm96ZW5dPXRydWUgdGhlbiBbd2lkdGhdIGJpbmRpbmcgbmVlZHMgdG8gYmUgc3BlY2lmaWVkLicpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKTogdm9pZFxuICAgIHtcblxuICAgIH1cblxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBuZWVkIHRvIGRlZmZlciB0aGlzIGFuZCB0cmlnZ2VyIGNoYW5nZSBkZXRlY3Rpb24gb3RoZXJ3aXNlIEkgZ2V0XG4gICAgICAgIC8vIHZhbHVlIHdhcyBjaGFuZ2VkIGFmdGVyIGl0IHdhcyBjaGVja2VkIGVycm9yXG4gICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAgLy8ge1xuXG4gICAgICAgIC8vIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogV2hlbiBjZWxsIHNlbGVjdGlvbk1vZGUgaXMgZW5hYmxlZCB0aGlzIG1ldGhvZCBpcyB0cmlnZ2VyZWQgd2hlbiB3ZSBjbGljayBvbiBoZWFkZXIuXG4gICAgICogSXQgZGVsZWdhdGVzIHRoZSBjYWxsIHRvIHRoZSBEVCB3aGVyZSBpdCB0b2dnbGVzIGN1cnJlbnRseSBzZWxlY3RlZCB2YWx1ZVxuICAgICAqXG4gICAgICovXG4gICAgaGFuZGxlSGVhZGVyQ2xpY2soZXZlbnQ6IGFueSwgZWxlbWVudDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaXNIZWFkZXJTZWxlY3RhYmxlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZHQub25IZWFkZXJTZWxlY3Rpb25DaGFuZ2UoZWxlbWVudCwgdGhpcyk7XG5cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNvcnRhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnNvcnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBUb2RvOiBJbXBsZW1lbnQgb3VyIG93biBzb3J0aW5nIG1lY2hhbmlzbSBvbmNlIHdlIGV4dHJhY3QgdGhlIHNvcnRpbmcgbG9naWMgdG8gaXRzIGNvbXBvbmVudFxuICAgICAqXG4gICAgICovXG4gICAgc29ydChldmVudDogYW55KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnNvcnRhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRhcmdldE5vZGUgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGlmICh0aGlzLmRvbUhhbmRsZXIuaGFzQ2xhc3ModGFyZ2V0Tm9kZSwgJ2R0LXUtc29ydGFibGUnKSB8fFxuICAgICAgICAgICAgdGhpcy5kb21IYW5kbGVyLmhhc0NsYXNzKHRhcmdldE5vZGUsICdkdC1jb2wtdGl0bGUnKSB8fFxuICAgICAgICAgICAgdGhpcy5kb21IYW5kbGVyLmhhc0NsYXNzKHRhcmdldE5vZGUsICdkdC1jb2wtc29ydGFibGUtaWNvbicpKVxuICAgICAgICB7XG5cbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5kdC5zb3J0Q29sdW1uKSAmJiB0aGlzLmR0LnNvcnRDb2x1bW4ua2V5ID09PSB0aGlzLmtleSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc29ydE9yZGVyID0gdGhpcy5zb3J0T3JkZXIgKiAtMTtcbiAgICAgICAgICAgICAgICB0aGlzLnNvcnRPcmRlcmluZyA9IHRoaXMuZHQuc29ydE9yZGVyaW5nRm9yTnVtYmVyKHRoaXMuc29ydE9yZGVyKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR0LnNvcnRDb2x1bW4gPSB0aGlzO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmR0LmRhdGFTb3VyY2Uuc3RhdGUuc29ydEtleSA9IHRoaXMua2V5O1xuICAgICAgICAgICAgdGhpcy5kdC5kYXRhU291cmNlLnN0YXRlLnNvcnRPcmRlciA9IHRoaXMuZHQuc29ydE9yZGVyaW5nRm9yU3RyaW5nKHRoaXMuc29ydE9yZGVyaW5nKTtcblxuICAgICAgICAgICAgdGhpcy5kdC5zb3J0U2luZ2xlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kdC51cGRhdGVEYXRhVG9SZW5kZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVkIHN0eWxlIGNsYXNzIGJhc2VkIG9uIGRhdGFcbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgZHluYW1pY0JvZHlDbGFzcyhpdGVtOiBhbnkpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgZHluQ2xhc3MgPSBpc1ByZXNlbnQodGhpcy5ib2R5Q2xhc3NGbilcbiAgICAgICAgICAgID8gdGhpcy5ib2R5Q2xhc3NGbi5hcHBseSh0aGlzLmR0LmNvbnRleHQsIFt0aGlzLCBpdGVtXSkgOiAnJztcblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuYm9keVN0eWxlQ2xhc3MpKSB7XG4gICAgICAgICAgICBkeW5DbGFzcyArPSAnICcgKyB0aGlzLmJvZHlTdHlsZUNsYXNzO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoaXNQcmVzZW50KHRoaXMuc3R5bGVDbGFzcykpIHtcbiAgICAgICAgICAgIGR5bkNsYXNzICs9ICcgJyArIHRoaXMuc3R5bGVDbGFzcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkeW5DbGFzcztcbiAgICB9XG5cblxuICAgIGlzUm93U2VsZWN0YWJsZShpdGVtOiBhbnkpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuZHQuaXNSb3dTZWxlY3RhYmxlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHQuaXNSb3dTZWxlY3RhYmxlKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlzQ2VsbFNlbGVjdGFibGUoaXRlbTogYW55KTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHQuc2VsZWN0aW9uTW9kZSA9PT0gJ2NlbGwnICYmIHRoaXMuaXNSb3dTZWxlY3RhYmxlKGl0ZW0pICYmIHRoaXMuc2VsZWN0YWJsZTtcblxuICAgIH1cblxuXG4gICAgaXNIZWFkZXJTZWxlY3RhYmxlKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmR0LnNlbGVjdGlvbk1vZGUgPT09ICdjZWxsJyAmJiB0aGlzLnNlbGVjdGFibGU7XG5cbiAgICB9XG5cblxuICAgIGdldFNvcnRPcmRlcigpXG4gICAge1xuICAgICAgICBsZXQgb3JkZXIgPSAwO1xuXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5kdC5zb3J0Q29sdW1uKSAmJiB0aGlzLmtleSA9PT0gdGhpcy5kdC5zb3J0Q29sdW1uLmtleSkge1xuICAgICAgICAgICAgb3JkZXIgPSB0aGlzLmR0LnNvcnRDb2x1bW4uc29ydE9yZGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcmRlcjtcbiAgICB9XG5cbiAgICBpc1NvcnRlZCgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc29ydGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMuZHQuc29ydENvbHVtbikgJiYgdGhpcy5rZXkgPT09IHRoaXMuZHQuc29ydENvbHVtbi5rZXk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZSh0YWJsZTogQVdEYXRhVGFibGUpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmR0ID0gdGFibGU7XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmR0LmluaXRpYWxTb3J0S2V5KSAmJiB0aGlzLmR0LmluaXRpYWxTb3J0S2V5ID09PSB0aGlzLmtleSkge1xuICAgICAgICAgICAgdGhpcy5zb3J0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNvcnRPcmRlciA9IHRoaXMuZHQuc29ydE9yZGVyaW5nRm9yU3RyaW5nKHRoaXMuZHQuaW5pdGlhbFNvcnRPcmRlcik7XG4gICAgICAgICAgICB0aGlzLmR0LnNvcnRDb2x1bW4gPSB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5ib2R5VGVtcGxhdGUpICYmIHRoaXMudXNlR2xvYmFsQm9keSkge1xuICAgICAgICAgICAgdGhpcy5ib2R5VGVtcGxhdGUgPSB0aGlzLmR0LmJvZHlUZW1wbGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuaGVhZGVyVGVtcGxhdGUpICYmIHRoaXMudXNlR2xvYmFsSGVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlclRlbXBsYXRlID0gdGhpcy5kdC5oZWFkZXJUZW1wbGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuc3ViSGVhZGVyVGVtcGxhdGUpICYmIHRoaXMudXNlR2xvYmFsU3ViSGVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnN1YkhlYWRlclRlbXBsYXRlID0gdGhpcy5kdC5zdWJIZWFkZXJUZW1wbGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuYm9keUNsYXNzRm4pKSB7XG4gICAgICAgICAgICB0aGlzLmJvZHlDbGFzc0ZuID0gdGhpcy5kdC5ib2R5Q2xhc3NGbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWF4V2lkdGhQeCA9IHRoaXMud2lkdGhUb1B4KHRoaXMubWF4V2lkdGgpO1xuICAgICAgICB0aGlzLm1pbldpZHRoUHggPSB0aGlzLndpZHRoVG9QeCh0aGlzLm1pbldpZHRoKTtcbiAgICAgICAgdGhpcy53aWR0aFB4ID0gdGhpcy53aWR0aFRvUHgodGhpcy53aWR0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGF0IHRoZSBlbmQgb2YgdGhlIHZpZXcgaW5pdCBjeWNsZSBmcm9tIHRoZSBkdC5uZ0FmdGVyVmlld0NoZWNrZWQuXG4gICAgICpcbiAgICAgKiBJbiBjYXNlIHdlIHVzZSBNYXhXaWR0aCBkaXJlY3RpdmUgd2Ugc2V0IG5ldyB3aWR0aCBvbmNlIGZvciBhbGwgY29sdW1zblxuICAgICAqL1xuICAgIHBvc3RJbml0aWFsaXplKG15SW5kZXg6IG51bWJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGNvbEluZGV4ID0gbXlJbmRleCArIDE7XG4gICAgICAgIGxldCB0YWJsZTtcblxuICAgICAgICBpZiAodGhpcy5kdC5oYXNGcm96ZW5Db2x1bW5zKCkpIHtcbiAgICAgICAgICAgIHRhYmxlID0gKDxEYXRhdGFibGUyQ29tcG9uZW50PnRoaXMuZHQpLmVsXG4gICAgICAgICAgICAgICAgLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignLmR0LWJvZHktZnJvemVuIHRhYmxlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YWJsZSA9ICg8RGF0YXRhYmxlMkNvbXBvbmVudD50aGlzLmR0KS5lbC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RhYmxlJyk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmICh0aGlzLndpZGVzdENlbGwgPiAwKSB7XG4gICAgICAgICAgICBsZXQgYWxsID0gdGFibGUucXVlcnlTZWxlY3RvckFsbCgndHIgdGg6bnRoLWNoaWxkKCcgKyBjb2xJbmRleCArICcpLCAnICtcbiAgICAgICAgICAgICAgICAndHIgdGQ6bnRoLWNoaWxkKCcgKyBjb2xJbmRleCArICcpJykuZm9yRWFjaCgobm9kZTogYW55KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUud2lkdGggPSB0aGlzLndpZGVzdENlbGwgKyAncHgnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFlvdSBlaXRoZXIgdXNlIHRoaXMgYmluZGluZyBkaXJlY3RseSBhbmQgc2F5IGl0cyBkYXRhY29sdW1uIG9yIHdoZW4gdGhlcmUgaXMgYSBba2V5XVxuICAgICAqIGJpZGluZyB3ZSBrbm93IGl0IHJlZmVycyB0byBzb21lIGZpZWxkLlxuICAgICAqXG4gICAgICovXG4gICAgaXNWYWx1ZUNvbHVtbigpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gKGlzUHJlc2VudCh0aGlzLmlzRGF0YUNvbHVtbikgJiYgQm9vbGVhbldyYXBwZXIuaXNUcnVlKHRoaXMuaXNEYXRhQ29sdW1uKSkgfHxcbiAgICAgICAgICAgIGlzUHJlc2VudCh0aGlzLmtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB3ZSBhcmUgaW4gb3V0bGluZSBtb2RlICB3ZSBuZWVkIHRvIGFsc28gaW5kZW5kIGVhY2ggc2VsZWN0aW9uIGNvbnRyb2wgYWNjb3JkaW5nbHkuXG4gICAgICpcbiAgICAgKiBpbmRlbnQgLSAxID4gb25seSBvZmZzZXQgd2l0aFxuICAgICAqIGluZGVudFxuICAgICAqL1xuICAgIGluZGVudEZvckNvbnRyb2woY2VsbDogYW55LCBsZXZlbDogbnVtYmVyKTogYW55XG4gICAge1xuICAgICAgICBpZiAodGhpcy5kdC5pc091dGxpbmUoKSAmJiBsZXZlbCA+IDAgJiYgY2VsbC5vZmZzZXRXaWR0aCA+IDBcbiAgICAgICAgICAgICYmIGlzUHJlc2VudChjZWxsLm5leHRFbGVtZW50U2libGluZykpXG4gICAgICAgIHtcblxuICAgICAgICAgICAgbGV0IG91dGxpbmVOb2RlUGFkZGluZyA9XG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjZWxsLm5leHRFbGVtZW50U2libGluZykucGFkZGluZ0xlZnQpIHx8IDA7XG5cbiAgICAgICAgICAgIC8vIDFzdCBsZXZlbCBpcyBwdXNoZWQgYXMgcm9vdFxuICAgICAgICAgICAgaWYgKHRoaXMuZHQucHVzaFJvb3RTZWN0aW9uT25OZXdMaW5lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChsZXZlbCA9PT0gMSkgPyBudWxsIDogKHRoaXMuZHQuaW5kZW50YXRpb25QZXJMZXZlbCAqIGxldmVsKVxuICAgICAgICAgICAgICAgICAgICAtIG91dGxpbmVOb2RlUGFkZGluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLmR0LmluZGVudGF0aW9uUGVyTGV2ZWwgKiBsZXZlbCkgKyBvdXRsaW5lTm9kZVBhZGRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEludGVybmFsXG4gICAgICovXG4gICAgcHJpdmF0ZSB3aWR0aFRvUHgod2lkdGg6IHN0cmluZyk6IG51bWJlclxuICAgIHtcbiAgICAgICAgbGV0IHB4O1xuICAgICAgICBpZiAoaXNQcmVzZW50KHdpZHRoKSkge1xuICAgICAgICAgICAgaWYgKHdpZHRoLmluZGV4T2YoJyUnKSA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub25QYyA9IHBhcnNlRmxvYXQod2lkdGgpIC8gMTAwO1xuICAgICAgICAgICAgICAgIHB4ID0gbm9uUGMgKiAoPERhdGF0YWJsZTJDb21wb25lbnQ+dGhpcy5kdCkuZWwubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHggPSBwYXJzZUZsb2F0KHdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBweDtcbiAgICB9XG59XG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG4vKipcbiAqIEFuIGRhdGF0YWJsZSBoZWFkZXIgYXJlYS5cbiAqXG4gKiBTZWUge0BsaW5rIERhdGFUYWJsZUNvbXBvbmVudH0gZm9yIG1vcmUgZXhwbGFuYXRpb24uXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctZHQtaGVhZGVyMicsXG4gICAgdGVtcGxhdGU6ICc8bmctY29udGVudD48L25nLWNvbnRlbnQ+J1xufSlcbmV4cG9ydCBjbGFzcyBEVEhlYWRlckNvbXBvbmVudDJcbntcbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnQsIElucHV0LCBWaWV3RW5jYXBzdWxhdGlvbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Vudmlyb25tZW50LCBpc1ByZXNlbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtEb21IYW5kbGVyfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xuaW1wb3J0IHtEVENvbHVtbjJDb21wb25lbnR9IGZyb20gJy4uL2R0LWNvbHVtbi5jb21wb25lbnQnO1xuaW1wb3J0IHtBV0RhdGFUYWJsZX0gZnJvbSAnLi4vLi4vYXctZGF0YXRhYmxlJztcblxuXG4vKipcbiAqXG4gKiBDdXN0b20gY29sdW1uIGltcGxlbWVudGF0aW9uIHRvIHJlbmRlciBkZXRhaWwgcm93IHNwYW5pbmcgaXRzIGNvbHVtbiBhY3Jvc3Mgd2hvbGUgdGFibGUgd2lkdGguXG4gKlxuICpcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1kdC1kZXRhaWwtY29sdW1uJyxcbiAgICB0ZW1wbGF0ZVVybDogJ2R0LWRldGFpbC1yb3cuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydkdC1kZXRhaWwtcm93LmNvbXBvbmVudC5zY3NzJ10sXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICBwcm92aWRlcnM6IFtEb21IYW5kbGVyXVxuXG59KVxuZXhwb3J0IGNsYXNzIERURGV0YWlsUm93Q29tcG9uZW50IGV4dGVuZHMgRFRDb2x1bW4yQ29tcG9uZW50XG57XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGN1cnJlbnQgdmlzaWJpbGl0eSBmb3IgY3VycmVudCBkYXRhIHJvdyB1c2luZyBtZXRob2QgcmVmZXJlbmNlXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGlzVmlzaWJsZUZuOiAoY29sdW1uOiBEVENvbHVtbjJDb21wb25lbnQsIGl0ZW06IGFueSkgPT4gYm9vbGVhbjtcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiB0ZWxscyBpZiB3ZSBuZWVkIHRvIHJlbmRlciBhIGxpbmUgYmV0d2VlbiBpdGVtIHJvdyBhbmQgaXRzIGRldGFpbFxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzaG93Um93TGluZTogYm9vbGVhbiA9IHRydWU7XG5cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY6IEVudmlyb25tZW50LCBwdWJsaWMgZG9tSGFuZGxlcjogRG9tSGFuZGxlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKGVudiwgZG9tSGFuZGxlcik7XG4gICAgfVxuXG5cbiAgICBuZ09uSW5pdCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBqdXN0IHRvIGdldCBhcm91bmQgdGhlIGNoZWNrIGluIHBhcmVudCBjbGFzc1xuICAgICAgICB0aGlzLmtleSA9ICcnO1xuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgd2UgbmVlZCB0byBrZWVwIHNvbWUgbGVhZGluZyBURHNcbiAgICAgKlxuICAgICAqL1xuICAgIHZpc2libGVMZWFkaW5nQ29scygpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmR0Lm51bWJlck9mQ29sc0JlZm9yZURhdGEgLSAodGhpcy5kdC5oYXNJbnZpc2libGVTZWxlY3Rpb25Db2x1bW4oKSA/IDEgOiAwKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ2hlY2sgaWYgd2UgY2FuIHNob3cgZGV0YWlsIHJvdy9jb2x1bW4gdXNpbmcgZWl0aGVyIFtpc1Zpc2libGVdIG9yIFtpc1Zpc2libGVGbl0gYmluZGluZ3MuXG4gICAgICogSGVyZSBjYW4gaG9vayBvbiBhcHBsaWNhdGlvbiBsZXZlbCBjdXN0b20gbWV0aG9kIHRvIGRlY2lkZSBpZiBjdXJyZW50IGl0ZW0gaGFzIGRldGFpbCByb3dcbiAgICAgKiBvciBub3RcbiAgICAgKlxuICAgICAqIE9yIHdlIGNhbiB1c2UgaXNWaXNpYmxlPXRydWUgdG8gdGVsbCBhbGwgcm93IGhhdmUgZGV0YWlsIHJvd1xuICAgICAqXG4gICAgICovXG4gICAgc2hvd0RldGFpbFJvdyhpdGVtOiBhbnkpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgaXNWaXNpYmxlID0gdGhpcy5pc1Zpc2libGU7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5pc1Zpc2libGVGbikpIHtcbiAgICAgICAgICAgIGlzVmlzaWJsZSA9IHRoaXMuaXNWaXNpYmxlRm4uYXBwbHkodGhpcy5kdC5jb250ZXh0LCBbdGhpcywgaXRlbV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc1Zpc2libGU7XG4gICAgfVxuXG5cbiAgICBpbml0aWFsaXplKHRhYmxlOiBBV0RhdGFUYWJsZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmluaXRpYWxpemUodGFibGUpO1xuXG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gIXRoaXMuZHQuaXNPdXRsaW5lKCkgfHwgIXRoaXMuZHQucGl2b3RhbExheW91dDtcbiAgICB9XG59XG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnQsIFZpZXdFbmNhcHN1bGF0aW9ufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RW52aXJvbm1lbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtEb21IYW5kbGVyfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xuaW1wb3J0IHtEVENvbHVtbjJDb21wb25lbnR9IGZyb20gJy4uL2R0LWNvbHVtbi5jb21wb25lbnQnO1xuXG5cbi8qKlxuICpcbiAqXG4gKlxuICpcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1kdC1kZXRhaWwtY29sdW1uLWV4cGFuZCcsXG4gICAgdGVtcGxhdGVVcmw6ICdkdC1kZXRhaWwtcm93LWV4cGFuZGVyLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnZHQtZGV0YWlsLXJvdy1leHBhbmRlci5jb21wb25lbnQuc2NzcyddLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgcHJvdmlkZXJzOiBbRG9tSGFuZGxlcl1cblxufSlcbmV4cG9ydCBjbGFzcyBEVERldGFpbFJvd0V4cGFuZGVyQ29tcG9uZW50IGV4dGVuZHMgRFRDb2x1bW4yQ29tcG9uZW50XG57XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZW52OiBFbnZpcm9ubWVudCwgcHVibGljIGRvbUhhbmRsZXI6IERvbUhhbmRsZXIpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYsIGRvbUhhbmRsZXIpO1xuXG4gICAgICAgIC8vIHdlIGRvbnQgd2FudCB0byBzaG93IHRoZSByb3cvY29sdW1uIHVubGVzcyBhcHBsaWNhdGlvbiBzYXlzIHNvXG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2U7XG5cbiAgICAgICAgLy8gZGVmYXVsdCB3aWR0aCBvZiB0aGUgc2VsZWN0aW9uIGNvbnRyb2xcbiAgICAgICAgdGhpcy53aWR0aCA9ICc0NXB4JztcbiAgICB9XG5cblxuICAgIG5nT25Jbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIGp1c3QgdG8gZ2V0IGFyb3VuZCB0aGUgY2hlY2sgaW4gcGFyZW50IGNsYXNzXG4gICAgICAgIHRoaXMua2V5ID0gJyc7XG5cbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcbiAgICB9XG5cbiAgICB0b2dnbGVFeHBhbnNpb24oZXZlbnQ6IGFueSwgaXRlbTogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5kdC5kZXRhaWxSb3dFeHBhbnNpb25TdGF0ZS50b2dnbGUoaXRlbSk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIGNhbGN1bGF0ZVN0eWxlQ2xhc3MoaXRlbTogYW55KTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kdC5kZXRhaWxSb3dFeHBhbnNpb25TdGF0ZS5pc0V4cGFuZGVkKGl0ZW0pID9cbiAgICAgICAgICAgICdpY29uLXNsaW0tYXJyb3ctZG93bicgOiAnaWNvbi1zbGltLWFycm93LXJpZ2h0JztcbiAgICB9XG59XG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuXG5cbmltcG9ydCB7VGVtcGxhdGVSZWZ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtTZWxlY3Rpb25Nb2RlfSBmcm9tICcuL2RhdGF0YWJsZTIuY29tcG9uZW50JztcbmltcG9ydCB7RFRDb2x1bW4yQ29tcG9uZW50fSBmcm9tICcuL2NvbHVtbi9kdC1jb2x1bW4uY29tcG9uZW50JztcblxuaW1wb3J0IHtEZXRhaWxSb3dFeHBhbnNpb25TdGF0ZSwgRFQyRGF0YVNvdXJjZX0gZnJvbSAnLi9kYXRhdGFibGUyLWRhdGEtc291cmNlJztcbmltcG9ydCB7T3V0bGluZVN0YXRlfSBmcm9tICcuLi9vdXRsaW5lJztcbmltcG9ydCB7RFREZXRhaWxSb3dDb21wb25lbnR9IGZyb20gJy4vY29sdW1uL2RldGFpbC1yb3cvZHQtZGV0YWlsLXJvdy5jb21wb25lbnQnO1xuXG5cbmV4cG9ydCBjb25zdCBEcmFnRXZlbnRzOiBzdHJpbmdbXSA9IFsnbW91c2Vkb3duJywgJ2RyYWdzdGFydCcsICdkcmFnb3ZlcicsICdkcmFnZW50ZXInLCAnZHJhZ2xlYXZlJyxcbiAgICAnZHJvcCcsICdkcmFnZW5kJ107XG5cbmV4cG9ydCBlbnVtIERyYWdEaXJlY3Rpb25cbntcbiAgICBOb25lID0gJ25vbmUnLFxuICAgIFVwID0gJ2R0LWRyYWctcm93LXRvcCcsXG4gICAgRG93biA9ICdkdC1kcmFnLXJvdy1ib3R0b20nLFxuICAgIE1pZGRsZSA9ICdkdC1kcmFnLXJvdy1ib3RoJ1xufVxuXG5cbmV4cG9ydCBlbnVtIERyb3BQb3NpdGlvblxue1xuICAgIEJlZm9yZSA9ICdiZWZvcmUnLFxuICAgIEFmdGVyID0gJ2FmdGVyJyxcbiAgICBJbnRvID0gJ2ludG8nXG59XG5cblxuLyoqXG4gKiBBYnN0cmFjdCB0eXBlIHRoYXQgaXMgc2hhcmFibGUgYW1vbmcgZGVwZW5kYW50IERUIG9iamVjdCBzdWNoIGFzIENvbHVtbnMsIERhdGFTb3VyY2VzLFxuICogRGlyZWN0aXZlcyB0byBiZSBhYmxlIHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIGRhdGF0YWJsZSBtYWlubHkgdG8gYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jeVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFXRGF0YVRhYmxlXG57XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgeW91IHRvIHBhc3MgeW91ciBvd24gZGF0YXNvdXJjZSB0byBvdmVycmlkZSBkZWZhdWx0IG9uZS4gQWxzbyB3aGVuIGRhdGFTb3VyY2UgaXNcbiAgICAgKiB1c2VkIHRoZSBkZXN0aW5hdGlvbkNsYXNzIG9yIGxpc3QgYXJlIGlnbm9yZWRcbiAgICAgKi9cbiAgICBkYXRhU291cmNlOiBEVDJEYXRhU291cmNlO1xuXG4gICAgLyoqXG4gICAgICogTWFuYWdlcyBvdXRsaW5lIHN0YXRlcyBmb3IgRGF0YXRhYmxlcyB1c2luZyBvdXRsaW5lIGNvbnRyb2xcbiAgICAgKi9cbiAgICBvdXRsaW5lU3RhdGU6IE91dGxpbmVTdGF0ZTtcblxuXG4gICAgLyoqXG4gICAgICogSW4gY2FzZSB3ZSBoYXZlIGRldGFpbCByb3cgcmVtZW1iZXIgaXRzIGV4cGFuc2lvbiBzdGF0ZVxuICAgICAqL1xuICAgIGRldGFpbFJvd0V4cGFuc2lvblN0YXRlOiBEZXRhaWxSb3dFeHBhbnNpb25TdGF0ZTtcblxuICAgIC8qKlxuICAgICAqIFdoYXQgY29sdW1uIGlzIHVzZWQgYXMgZmlyc3QgZm9yIHNvcnRpbmdcbiAgICAgKi9cbiAgICBpbml0aWFsU29ydEtleTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQWxsb3cgdG8gY2hhbmdlIHNvcnRpbmcgZGlyZWN0aW9uXG4gICAgICovXG4gICAgaW5pdGlhbFNvcnRPcmRlcjogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBUZWxscyBEVCBpZiB3ZSBzdXBwb3J0IGNlbGwgc2VsZWN0aW9uIG9yIHJvdyBiYXNlZCBzZWxlY3Rpb24gd2hpY2ggaXMgcmVndWxhciBEVC5cbiAgICAgKlxuICAgICAqL1xuICAgIHNlbGVjdGlvbk1vZGU6IFNlbGVjdGlvbk1vZGU7XG5cbiAgICAvKipcbiAgICAgKiBJbiBjYXNlIG9mIHNpbmdsZSBvciBtdWx0aXNlbGVjdGlvbiBzaG93IGNvbnRyb2xzXG4gICAgICpcbiAgICAgKi9cbiAgICBzaG93U2VsZWN0aW9uQ29sdW1uOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogVGVsbHMgaWYgd2Ugd2FudCB0byByZW5kZXIgb25lIHNlbGVjdGlvbiBjb250cm9sIGluIHRoZSBoZWFkZXIgdG8gc2VsZWN0IGFsbCB0aGVcbiAgICAgKiByb3dzLiBBcHBsaWNhYmxlIGZvciBtdWx0aXNlbGVjdGlvblxuICAgICAqXG4gICAgICovXG4gICAgc2hvd1NlbGVjdEFsbDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIElkZW50aWZ5IGlmIHJvdyBvciBjZWxsIGlzIHNlbGVjdGFibGUgYmFzZWQgb24gZGF0YVxuICAgICAqL1xuICAgIGlzUm93U2VsZWN0YWJsZTogKGl0ZW06IGFueSkgPT4gYm9vbGVhbjtcblxuXG4gICAgLyoqXG4gICAgICogRWFjaCBEVENvbHVtbiBoYXZlIGhhdmUgaXRzIG93biB0ZW1wbGF0ZSB0byBwcm92aWRlIGNvbnRlbnQgZm9yIGhlYWRlciwgc3ViaGVhZGVyIGFuZFxuICAgICAqIGJvZHkgYnV0IGlmIHRob3NlIHRlbXBsYXRlIGFyZSBpZGVudGljYWwgdGhlcmUgd291bGQgYmUgdG9vIG11Y2ggZHVwbGljYXRlIGNvZGUgdG8gcmVwbGljYXRlXG4gICAgICogZm9yIGVhY2ggY29sdW1uIHRoZSBzYW1lLiBUaGVyZWZvcmUgd2UgaGF2ZSB0aGVzZSBnbG9iYWwgdGVtcGxhdGVzIHRoYXQgeW91IGNhbiBkZWNsYXJlXG4gICAgICogb24gRFQgbGV2ZWwgKG5vdCB1bmRlciBjb2x1bW5zKSBhbmQgY29udGVudCBvZiB0aGVzZSB0ZW1wbGF0ZSB3aWxsIGJlIHVzZWQgZm9yIGVhY2ggY29sdW1uXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIG1peCB0aGVtIGFzIHdlbGwuIFlvdSBjYW4gaGF2ZSBnbG9iYWwgdGVtcGxhdGVzIGFzIHdlbGwgYXMgdGVtcGxhdGUgb24gdGhlIENvbHVtblxuICAgICAqIGxldmVsIHdoaWNoIHdvdWxkIG92ZXJyaWRlIHRoZSBnbG9iYWwgb25lXG4gICAgICpcbiAgICAgKi9cbiAgICBoZWFkZXJUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcblxuICAgIC8qKlxuICAgICAqIFNlZSBoZWFkZXJUZW1wbGF0ZSBmb3IgbW9yZSBkZXRhaWxzXG4gICAgICovXG4gICAgc3ViSGVhZGVyVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG5cbiAgICAvKipcbiAgICAgKiBTZWUgaGVhZGVyVGVtcGxhdGUgZm9yIG1vcmUgZGV0YWlsc1xuICAgICAqL1xuICAgIGJvZHlUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcbiAgICAvKipcbiAgICAgKiBTZWUgaGVhZGVyVGVtcGxhdGUgZm9yIG1vcmUgZGV0YWlsc1xuICAgICAqL1xuICAgIGhlYWRlckZpbHRlclRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBSZW5kZXIgYSBzdWJIZWFkZXIgdGVtcGxhdGUgaWYgcHJlc2VudFxuICAgICAqXG4gICAgICovXG4gICAgc2hvd1N1YkhlYWRlcjogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgZ2xvYmFsIHN0eWxlIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIGJvdW5kIHRvIHRhYmxlIGFuZCByZWFkIGJ5IGVhY2ggY29sdW1uLlxuICAgICAqIFRoZSBzYW1lIHlvdSBjYW4gc2VlIG9uIHRoZSBEVENvbHVtblxuICAgICAqL1xuICAgIGJvZHlDbGFzc0ZuOiAoY29sdW1uOiBEVENvbHVtbjJDb21wb25lbnQsIGl0ZW06IGFueSkgPT4gc3RyaW5nO1xuXG5cbiAgICAvKipcbiAgICAgKiBDb250ZXh0IGlzIGltcG9ydGFudCB3aGVuIHdlIGV4ZWN1dGUgYW55IGZ1bmN0aW9uIHRoYXQgaXMgcGFzc2VkIGluIGFzIGlucHV0LiBXZSBuZWVkIHRvXG4gICAgICogZ2l2ZSBvcHRpb24gdG8gYmUgZXhlY3V0ZWQgd2l0aGluIHRoZSBjb250ZXh0ICh0aGlzKSBvZiB0aGUgY29kZSB1c2luZyB0aGlzIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnRleHQ6IGFueTtcblxuICAgIC8vIE91dGxpbmUgbmVlZGVkIHByb3BlcnRpZXNcblxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBvdXRsaW5lRm9yIHNlY3Rpb24gb24gdGhlIG5ldyBsaW5lIGFuZCAybmQgbGV2ZWwgY2hpbGQgbWFrZSBpdCByb290IGZvciB0aGlzXG4gICAgICogc2VjdGlvblxuICAgICAqL1xuICAgIHB1c2hSb290U2VjdGlvbk9uTmV3TGluZTogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIFlvdSBjYW4gY2hhbmdlIGRlZmF1bHQgaW5kZW50YXRpb24gZm9yIHRoZSBvdXRsaW5lIG5vZGVzXG4gICAgICpcbiAgICAgKi9cbiAgICBpbmRlbnRhdGlvblBlckxldmVsOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGFjdGl2ZSBhcHBsaWVzIHNwZWNpYWwgc3R5bGVzIHRvIHRoZSBEVC4gTGF0ZXIgb24gb25jZSBwaXZvdCBpcyBpbXBsZW1lbnRlZCB0aGlzIHdpbGxcbiAgICAgKiBhbHNvIGFkZCBhZGRpdGlvbmFsIGJlaGF2aW9yIHRvIHRoZSBEVFxuICAgICAqXG4gICAgICovXG4gICAgcGl2b3RhbExheW91dDogYm9vbGVhbjtcblxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzb3J0aW5nIGlzIGVuYWJsZWQgdGhpcyBpcyBjdXJyZW50IGFjdGl2ZSBjb2x1bW4gYmVpbmcgc29ydGVkLlxuICAgICAqXG4gICAgICogIC0gd2UgZG9udCBzdXBwb3J0IG11bHRpcGxlIGNvbHVtbiBzb3J0aW5nXG4gICAgICovXG4gICAgc29ydENvbHVtbjogRFRDb2x1bW4yQ29tcG9uZW50O1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIGF3LWR0LWRldGFpbC1jb2x1bW4gaWYgcHJlc2VudCBkZXRhaWwgcm93IGlzIHJlbmRlcmVkIGZvciBzcGVjaWZpZWRcbiAgICAgKiBpdGVtc1xuICAgICAqL1xuICAgIHJvd0RldGFpbENvbHVtbjogRFREZXRhaWxSb3dDb21wb25lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBzcGFuaW5nIGNhbGN1bGF0aW9uIG9yIGZvciB0aGUgZGV0YWlsIHJvdyB0byBpZGVudGlmeSBjb3JyZWN0IG51bWJlciBvZiBjb2x1bW5zXG4gICAgICogdG8gc3Bhbiwgd2hlbiB0aGV5IGFyZSBzb21lIG5vbi1kYXRhIGNvbHVtbiAoZXhwYW5zaW9uIGNvbnRyb2wsIHNpbmdsZS9tdWx0aSBzZWxlY3Rpb24pXG4gICAgICovXG4gICAgbnVtYmVyT2ZDb2xzQmVmb3JlRGF0YTogbnVtYmVyO1xuXG5cbiAgICAvKipcbiAgICAgKiAgd2hhdCBpcyB0aGUgaW5kZXggb2YgZmlyc3QgZGF0YSBjb2x1bW5zXG4gICAgICovXG4gICAgc3RhcnRPZkZpcnN0RGF0YUNvbHVtbjogbnVtYmVyO1xuXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBpbiBjZWxsIHNlbGVjdGlvbiBtb2RlXG4gICAgICpcbiAgICAgKi9cbiAgICBvbkNlbGxTZWxlY3Rpb25DaGFuZ2UoY2VsbDogYW55LCBjb2x1bW46IERUQ29sdW1uMkNvbXBvbmVudCwgaXRlbTogYW55KTogdm9pZDtcblxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGJ5IGNvbHVtbiB3aGUgaGVhZGVyIGlzIHNlbGVjdGVkLiBDdXJyZW50IHdlIGFzc3VtZSB0aGUgb25seSBvbmUgaGVhZGVyIGNhbiBiZVxuICAgICAqIHNlbGVjdGVkIGF0IHRoZSB0aW1lLlxuICAgICAqXG4gICAgICovXG4gICAgb25IZWFkZXJTZWxlY3Rpb25DaGFuZ2UoY2VsbDogYW55LCBjb2x1bW46IERUQ29sdW1uMkNvbXBvbmVudCk6IHZvaWQ7XG5cblxuICAgIG9uSGFuZGxlUm93Q2xpY2tlZChldmVudDogYW55LCBpdGVtOiBhbnkpOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBIYW5kbGVzIHJvdyBzZWxlY3Rpb24gbG9naWMgd2hlcmUgaWYgdGhlIGl0ZW0gaXMgZm91bmQgaW5zaWRlIHRoZSBzZWxlY3RlZCBpdGVtcywgdGhlblxuICAgICAqIGl0cyByZW1vdmVkIG90aGVyd2lzZSBpdHMgYWRkZWQuXG4gICAgICpcbiAgICAgKiBUb2RvOiBTeW5jICYgcmVmYWN0b3IgdGhpcyB3aXRoIGR0Lm9uQ2VsbFNlbGVjdGlvbkNoYW5nZSAtIHByZXR0eSBzaW1pbGFyIGNvZGVcbiAgICAgKlxuICAgICAqIFdlIHdhbnQgdG8gaGF2ZSByb3dUb2dnbGUgYXMgd2VsbCBhcyB3ZSB3aWxsIGhhdmUgcm93U2VsZWN0IG9yIHNvbWV0aGlnbiBzaW1pbGFyIHRvXG4gICAgICogaWRlbnRpZnkgd2UgYXJlIGRlYWxpbmcgd2l0aCBtdWx0aXNlbGVjdCBhbmQgc2luZ2xlIHNlbGVjdGlvblxuICAgICAqL1xuICAgIG9uUm93VG9nZ2xlKGV2ZW50OiBhbnksIGl0ZW06IGFueSk6IHZvaWQ7XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogSGFuZGxlcyByb3cgc2luZ2xlIHNlbGVjdGlvblxuICAgICAqXG4gICAgICovXG4gICAgb25Sb3dTZWxlY3QoZXZlbnQ6IGFueSwgaXRlbTogYW55KTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gZGVhbGluZyB3aXRoIG91dGxpbmUgKHRyZWUpIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHdoZW4gd2Ugc2VsZWN0IHNvbWUgcm9vdCBpdGVtIGl0XG4gICAgICogd2lsbCBhdXRvbWF0aWNhbGx5IGFsc28gc2VsZWN0IGFsbCBpdHMgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqL1xuICAgIG9uSGFuZGxlT3V0bGluZVJvd1RvZ2dsZVRvQ2hpbGRyZW4oY3VycmVudEl0ZW06IGFueSwgaXNTZWxlY3RlZDogYm9vbGVhbik6IHZvaWQ7XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogSnVzdCBsaWtlIGZvciBvbkhhbmRsZU91dGxpbmVSb3dUb2dnbGVUb0NoaWxkcmVuIHRoZSBzYW1lIGJlaGF2aW9yIG5lZWRzIHRvIGJlIGFwcGxpZWQgZm9yXG4gICAgICogdG93YXJkcyB1cC5cbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgb0hhbmRsZU91dGxpbmVSb3dUb2dnbGVUb1BhcmVudChjdXJyZW50SXRlbTogYW55LCBpc1NlbGVjdGVkOiBib29sZWFuKTogdm9pZDtcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDYWxsZWQgYnkgRCZEIHJvdyBkaXJlY3RpdmUgdG8gdXBkYXRlIHRoaXMgVEQgdGhhdCByb3cgcmVvcmRlcmluZyBuZWVkcyB0byBoYXBwZW4uIFdlXG4gICAgICogcmVjZWl2ZSBhbiBJTkRFWCBvZiByb3cgd2UgYXJlIGRyYWdnaW5nIGFuZCBuZXcgZHJvcCBwb3NpdGlvbiwgcGx1cyBpbmZvcm1hdGlvbiBpZiBpdFxuICAgICAqIG5lZWRzIHRvIGJlIGRyb3BwZWQgYmVmb3JlIG5ldyByb3cgcG9zaXRpb24gb3IgYWZ0ZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBvbkRuRFJvd0Ryb3Aob3JpZ1BvczogbnVtYmVyLCBuZXdQb3M6IG51bWJlciwgZHJvcFBvczogRHJvcFBvc2l0aW9uKTogdm9pZDtcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBXaGVuIGRldGFpbCByb3cgaXMgY29tYmluZWQgd2l0aCBvdXRsaW5lIGNvbnRyb2wgd2UgbmVlZCBtYWtlIHN1cmUgdGhhdCB3ZSBtYWludGFpbiB0aGVcbiAgICAgKiBjb3JyZWN0IHN0YXRlIGZvciBpdGVtcyB0aGF0IGFyZSBlbGlnaWJsZSBmb3IgZGV0YWlsIHJvd1xuICAgICAqXG4gICAgICogSW4gdGhpcyBzcGVjaWZpYyBjYXNlIHRoZSBkZXRhaWwgcm93IGRvZXMgbm90IGhhdmUgaXRzIG93biBleHBhbmRlciBidXQgdXRpbGl6aW5nIHRoZVxuICAgICAqIG91dGxpbmVDb250cm9sXG4gICAgICovXG4gICAgb25PdXRsaW5lRXhwYW5kQ2hhbmdlKGV2ZW50OiBhbnkpOiB2b2lkO1xuXG5cbiAgICAvKipcbiAgICAgKiBTdXBwb3J0IGZvciBzaW5nbGUgY29sdW1uIHNvcnRpbmdcbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgc29ydFNpbmdsZSgpOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogV2hlbiBkYXRhIGNoYW5nZXMsIGVpdGhlciB0aGV5IGFyZSBsYXppbHkgZmV0Y2hlZCBvciBASW5wdXQgTElTVCBpcyB1cGRhdGVkIHdlIG5lZWRcbiAgICAgKiByZXNvcnQgb3V0IGRhdGEgYmFzZWQgb24gY3VycmVudCBzdGF0ZSBhbmQgdXBkYXRlIGludGVybmFsIGxpc3QgZGF0YVRvUmVuZGVyIHNvIG5ld1xuICAgICAqIGRhdGEgY2FuIHJlLXJlbmRlcmVkICsgdHJpZ2dlcnMgZXZlbnQgdmFsdWVDaGFuZ2VcbiAgICAgKlxuICAgICAqL1xuICAgIGhhbmRsZURhdGFDaGFuZ2UoKTogdm9pZDtcblxuICAgIHVwZGF0ZURhdGFUb1JlbmRlcihkYXRhc291cmNlPzogYW55KTogdm9pZDtcblxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0IG9yIHVuc2VsZWN0IGFsbCByb3dzLiBVc2VkIGJ5IGhlYWRlciBjaGVja2JveFxuICAgICAqXG4gICAgICovXG4gICAgdG9nZ2xlQWxsQ29sdW1ucyhldmVudDogYW55KTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIE1vcmUgbGlrZSB1dGlsaXR5IG1ldGhvZHMgdG8gdHJhbnNsYXRlIHN0cmluZzwtLT5udW1iZXIgdmFsdWUgZm9yIHNvcnRpbmdcbiAgICAgKlxuICAgICAqIEN1cnJlbnRseSB1c2VkIG9ubHkgYnkgRFRDb2x1bW4uIFdlIG1pZ2h0IHdhbnQgdG8gbW92ZSB0aGlzIGl0cyBvd24gY29tcG9uZW50IGZvclxuICAgICAqIGhlYWRlclNvcnQgYW5kIG9yZGVyaW5nXG4gICAgICpcbiAgICAgKi9cbiAgICBzb3J0T3JkZXJpbmdGb3JTdHJpbmcoZGlyZWN0aW9uOiBzdHJpbmcpOiBudW1iZXI7XG5cbiAgICBzb3J0T3JkZXJpbmdGb3JOdW1iZXIoZGlyZWN0aW9uOiBudW1iZXIpOiBzdHJpbmc7XG5cbiAgICB2aXNpYmxlQ29sdW1ucygpOiBEVENvbHVtbjJDb21wb25lbnRbXTtcblxuICAgIGhhc0Zyb3plbkNvbHVtbnMoKTogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIFBsYWNlaG9sZGVyIGZ1bmN0aW9uYWxpdHkgZm9yIHRoZSBzaW5nbGUvbXVsdGlzZWxlY3QgZnVuY3Rpb25hbGl0eSB3aGVyZSB3ZSBuZWVkIHRvIHRyYWNrIGlmXG4gICAgICogd2Ugc3VwcG9ydCBzZWxlY3Rpb24gcGx1cyBob3cgbWFueSBjb2x1bW4gaXQgb2NjdXBpZXMgYW5kIGlmIHRoZSBzZWxlY3Rpb24gY29udHJvbHMgYXJlXG4gICAgICogdmlzaWJsZSBvciBoaWRkZW4uXG4gICAgICovXG4gICAgaGFzSW52aXNpYmxlU2VsZWN0aW9uQ29sdW1uKCk6IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogUGxhY2Vob2xkZXIgdG8gaWRlbnRpZnkgaWYgdGhleSBhcmUgbm9uLXZhbHVlIGNvbHVtblxuICAgICAqXG4gICAgICovXG4gICAgaGFzTGVhZGluZ1NlbGVjdENvbHVtbigpOiBib29sZWFuO1xuXG5cbiAgICAvKipcbiAgICAgKiBUbyBjb21wYXJlIHRoZSBkYXRhIGlmIHdlIHVzZSBkZWVwIG9iamVjdCBlcXVhbGl0eSBhbmQgdGhpcyBpcyB1c2VkIHdpdGhpbiB0aGlzIGNsYXNzIGFzXG4gICAgICogd2VsbCBhcyBmcm9tIHRoZSBEVENvbHVtbiB0byBjb25kaXRpb25hbGx5IGFkZCBjbGFzcyB3aGljaCBzZWxlY3QgdGhlIGNlbGxcbiAgICAgKlxuICAgICAqIFdlIG1pZ2h0IHdhbnQgdG8gY2hhbmdlIHRvIGNoZWNrIG9ubHkgYSBrZXkgb2YgdGhlIG9iamVjdCBzb21lIHVuaXF1ZSBpZGVudGlmaWVyLlxuICAgICAqL1xuICAgIGlzSGVhZGVyU2VsZWN0ZWQoaXRlbTogRFRDb2x1bW4yQ29tcG9uZW50KTogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ2hlY2sgaWYgdGhlIHNwZWNpZmljIGNlbGwgaXMgc2VsZWN0ZWQuIFdlIG5lZWQgdHdvIHBvaW50cyB0byBpZGVudGlmeSBpZiBjZWxsIGlzIHNlbGVjdGVkXG4gICAgICogdGhlIGFjdHVhbCBJdGVtIHRoYXQgY291bGQgcmVwcmVzZW50IHdob2xlIHJvdyBhbmQgQ29sdW1uXG4gICAgICpcbiAgICAgKi9cbiAgICBpc0JvZHlDZWxsU2VsZWN0ZWQoY29sdW1uOiBEVENvbHVtbjJDb21wb25lbnQsIGl0ZW06IGFueSk6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiAgQ2hlY2sgaWYgdGhlIGdpdmVuIGl0ZW0gaXMgYW1vbmcgdGhlIHNlbGVjdGVkIG9uZXNcbiAgICAgKlxuICAgICAqL1xuICAgIGlzUm93U2VsZWN0ZWQoaXRlbTogYW55KTogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogV2hlbiBbY2hpbGRyZW5dIGJpbmRpbmcgaXMgcHJlc2VudCB0aGVuIGl0IG1lYW5zIHdlIG5lZWQgdG8gcmVuZGVyIGl0IGFzIGEgdHJlZVxuICAgICAqXG4gICAgICovXG4gICAgaXNPdXRsaW5lKCk6IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogRGVmYXVsdHMgdGhlIGNoZWNrYm94IHRvIGVpdGhlciBzZWxlY3RlZCBhbmQgbm90IHNlbGVjdGVkIGRlcGVuZGVkIG9uIGludGVybmFsIHN0YXRlXG4gICAgICpcbiAgICAgKi9cbiAgICBpc1RvZ2dsZUFsbENvbHVtblNlbGVjdGVkKCk6IGJvb2xlYW47XG5cbiAgICBpc1RvZ2dsZUFsbENvbHVtbkRpc2FibGVkKCk6IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogVXNlcyBhcmUgZmllbGQgcGF0aCB1dGlsaXR5IGNsYXNzIHRvIHJldHJpZXZlIGRhdGEgZnJvbSBvYmplY3RcbiAgICAgKlxuICAgICAqL1xuICAgIGdldFZhbHVlKGRhdGE6IGFueSwgZmllbGQ6IHN0cmluZyk6IGFueTtcblxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge1xuICAgIGFzc2VydCxcbiAgICBFbnRpdHksXG4gICAgaXNCbGFuayxcbiAgICBpc0VudGl0eSxcbiAgICBpc1ByZXNlbnQsXG4gICAgaXNTdHJpbmcsXG4gICAgTGlzdFdyYXBwZXIsXG4gICAgTWFwV3JhcHBlclxufSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0RhdGFTb3VyY2UsIERTSW5pdFBhcmFtc30gZnJvbSAnLi4vLi4vY29yZS9kYXRhL2RhdGEtc291cmNlJztcbmltcG9ydCB7RGF0YVByb3ZpZGVyfSBmcm9tICcuLi8uLi9jb3JlL2RhdGEvZGF0YXR5cGUtcmVnaXN0cnkuc2VydmljZSc7XG5pbXBvcnQge0RhdGFGaW5kZXIsIERhdGFGaW5kZXJzLCBRdWVyeVR5cGV9IGZyb20gJy4uLy4uL2NvcmUvZGF0YS9kYXRhLWZpbmRlcnMnO1xuaW1wb3J0IHtEYXRhUHJvdmlkZXJzfSBmcm9tICcuLi8uLi9jb3JlL2RhdGEvZGF0YS1wcm92aWRlcnMnO1xuaW1wb3J0IHtEVENvbHVtbjJDb21wb25lbnR9IGZyb20gJy4vY29sdW1uL2R0LWNvbHVtbi5jb21wb25lbnQnO1xuaW1wb3J0IHtBV0RhdGFUYWJsZSwgRHJvcFBvc2l0aW9ufSBmcm9tICcuL2F3LWRhdGF0YWJsZSc7XG5cblxuLyoqXG4gKiBDb25jcmV0ZSBEYXRhU291cmNlIGltcGxlbWVudGF0aW9uIGZvciBEYXRhdGFibGUgd2hpY2ggZGVmaW5lcyBzdGF0ZSBhbmQgY29sdW1uIGRlZmluaXRpb24gdGhhdFxuICogY2FuIHByb2dyYW1tYXRpY2FsbHkgbW9kaWZ5IHJlbmRlcmVkIGNvbHVtbnMgKGlmIHByb3ZpZGVkKSBhbmQgbWV0aG9kIGZvciBpbnNlcnRpbmcgYW5kXG4gKiBhbmQgZGVsZXRpbmcgcmVjb3JkcztcbiAqXG4gKiBBbGwgb3BlcmF0aW9ucyBkZWFsaW5nIHdpdGggZGF0YSB1c2UgT2JzZXJ2YWJsZTxUPiBhbmQgaW5zdGFudCgpIG1ldGhvZCB0byByZXRyaWV2ZSBjdXJyZW50XG4gKiBzdGF0ZSBpcyBub3QgaW1wbGVtZW50ZWQuXG4gKlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIERUMkRhdGFTb3VyY2UgZXh0ZW5kcyBEYXRhU291cmNlXG57XG4gICAgc3RhdGljIHJlYWRvbmx5IE1heExpbWl0ID0gMTAwO1xuXG4gICAgLyoqXG4gICAgICogTWF0Y2hpbmcgZGF0YVByb3ZpZGVycyBhbmQgZmluZGVyc1xuICAgICAqL1xuICAgIGRhdGFQcm92aWRlcjogRGF0YVByb3ZpZGVyPGFueT47XG4gICAgZGF0YUZpbmRlcjogRGF0YUZpbmRlcjtcblxuICAgIC8qKlxuICAgICAqIEtlZXAgdHJhY2sgb2YgY3VycmVudCBkYXRhdGFibGUgc3RhdGVcbiAgICAgKi9cbiAgICBzdGF0ZTogRGF0YXRhYmxlMlN0YXRlO1xuICAgIGluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgZGVidWdUaW1lOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBvYmplY3QgYmVpbmcgcmVuZGVyZWRcbiAgICAgKi9cbiAgICBwcml2YXRlIGVudGl0eTogRW50aXR5RGVmMjtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkYXRhUHJvdmlkZXJzPzogRGF0YVByb3ZpZGVycywgcHVibGljIGZpbmRlcnM/OiBEYXRhRmluZGVycylcbiAgICB7XG4gICAgICAgIHN1cGVyKGRhdGFQcm92aWRlcnMsIGZpbmRlcnMpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSBEYXRhdGFibGUyU3RhdGUuY3JlYXRlKCk7XG5cbiAgICAgICAgdGhpcy5kZWJ1Z1RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB9XG5cblxuICAgIGluaXQoLi4uYXJnczogYW55W10pOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaXNCbGFuayhhcmdzKSB8fCBhcmdzLmxlbmd0aCAhPT0gMSAmJiAhaXNEVEluaXRQYXJhbXMoYXJnc1swXSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgdG8gaW5pdGlhbGl6ZSBEUyB3aXRoIChEU0Nob29zZXJJbml0UGFyYW1zKScpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbml0OiBEVERTSW5pdFBhcmFtcyA9IGFyZ3NbMF07XG5cbiAgICAgICAgLy8gdXNlIGV4aXN0aW5nIG9yIGZpbmQgYmVzdCBtYXRjaCBmb3IgZGF0YVByb3ZpZGVyXG4gICAgICAgIHRoaXMuZGF0YVByb3ZpZGVyID0gaXNQcmVzZW50KGluaXQuZGF0YVByb3ZpZGVyKSA/IGluaXQuZGF0YVByb3ZpZGVyXG4gICAgICAgICAgICA6IHRoaXMuZGF0YVByb3ZpZGVycy5maW5kKGluaXQub2JqKTtcblxuICAgICAgICAvLyB1c2UgZXhpc3Rpbmcgb3IgZmluZCBiZXN0IG1hdGNoIGZvciBkYXRhRmluZGVyXG4gICAgICAgIHRoaXMuZGF0YUZpbmRlciA9IGlzUHJlc2VudChpbml0LmRhdGFGaW5kZXIpID8gaW5pdC5kYXRhRmluZGVyXG4gICAgICAgICAgICA6IHRoaXMuZmluZGVycy5maW5kKHRoaXMuZGF0YVByb3ZpZGVyLCBpbml0LnF1ZXJ5VHlwZSk7XG5cbiAgICAgICAgYXNzZXJ0KGlzUHJlc2VudCh0aGlzLmRhdGFQcm92aWRlcikgJiYgaXNQcmVzZW50KHRoaXMuZGF0YUZpbmRlciksXG4gICAgICAgICAgICAnRGF0YVNvdXJjZSBpbmNvcnJlY3RseSBpbml0aWFsaXplZC4gKERhdGFQcm92aWRlciwgRGF0YUZpbmRlcikgbWlzc2luZy4gJyk7XG5cbiAgICAgICAgdGhpcy5kYXRhRmluZGVyLmxvb2t1cEtleSA9IGluaXQubG9va3VwS2V5O1xuICAgICAgICBpZiAoaXNCbGFuayhpbml0LnN0YXRlKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IG5ldyBEYXRhdGFibGUyU3RhdGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBpbml0LnN0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyBhc3luYyBmZXRjaCBkYXRhIHJlcXVlc3QgYW5kIHJlc3VsdCBpcyBnaXZlbiBiYWNrIHVzaW5nIGRhdGFQcm92aWRlci5kYXRhQ2hhbmdlc1xuICAgICAqXG4gICAgICovXG4gICAgZmV0Y2god2l0aFBhcmFtcz86IERhdGF0YWJsZTJTdGF0ZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBwYXJhbXMgPSBudWxsO1xuICAgICAgICBpZiAoaXNQcmVzZW50KHdpdGhQYXJhbXMpKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBuZXcgTWFwKCkuc2V0KCdvZmZzZXQnLCB3aXRoUGFyYW1zLm9mZnNldClcbiAgICAgICAgICAgICAgICAuc2V0KCdsaW1pdCcsIHdpdGhQYXJhbXMubGltaXQpXG4gICAgICAgICAgICAgICAgLnNldCgnb3JkZXJieScsIHdpdGhQYXJhbXMuc29ydEtleSlcbiAgICAgICAgICAgICAgICAuc2V0KCdzZWxlY3RvcicsIHdpdGhQYXJhbXMuc29ydE9yZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YVByb3ZpZGVyLmZldGNoKHBhcmFtcykuc3Vic2NyaWJlKChyZXN1bHQ6IGFueVtdKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAod2l0aFBhcmFtcy5vZmZzZXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluY3JEYXRhID0gWy4uLnRoaXMuZGF0YVByb3ZpZGVyLmRhdGFDaGFuZ2VzLmdldFZhbHVlKCksIC4uLnJlc3VsdF07XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhUHJvdmlkZXIuZGF0YUNoYW5nZXMubmV4dChpbmNyRGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVByb3ZpZGVyLmRhdGFDaGFuZ2VzLm5leHQocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDb21wb25lbnQgdXNlcyB0aGlzIG1ldGhvZCB0byBvcGVuIHVwIGNvbnRpbnVvdXMgc3RyZWFtIHRvIGxpc3RlbiBmb3IgYW55IGNoYW5nZXMgd2hpY2hcbiAgICAgKiBuZWVkIHRvIGJlIHJlZmxlY3RlZCBvbiB0aGUgVUkuXG4gICAgICpcbiAgICAgKiBEb250IGZvcmdldCB0byB1bnN1YnNjcmliZSB3aGVuIGNvbXBvbmVudCBpcyBkZXN0cm95ZWQuXG4gICAgICovXG4gICAgb3BlbjxUPigpOiBPYnNlcnZhYmxlPFRbXT5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFQcm92aWRlci5kYXRhQ2hhbmdlcy5hc09ic2VydmFibGUoKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmRhdGFQcm92aWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YUZpbmRlciA9IG51bGw7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBJZiBDUlVEIGlzIGVuYWJsZWQgd2UgZGVsZWdhdGUgY2FsbHMgdG8gRGF0YVByb3ZpZGVyIHRoYXQgaXMgcmVzcG9uc2libGUgdG8gdGVsbCB0aGVcbiAgICAgKiBkYXRhUHJvdmlkZXIuZGF0YUNoYW5nZXMgdGhhdCBhcmUgbmV3IGRhdGEuIElmIG5vdCBlbmFibGVkIHdlIGhhdmUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvblxuICAgICAqIHdoaWNoIHdvcmtzIHdpdGggbG9jYWwgYXJyYXlcbiAgICAgKlxuICAgICAqL1xuICAgIGluc2VydChvYmplY3Q6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmRhdGFQcm92aWRlci5jYW5DUlVEKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVByb3ZpZGVyLmluc2VydChvYmplY3QpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFQcm92aWRlci5vZmZTY3JlZW5EYXRhLnB1c2gob2JqZWN0KTtcbiAgICAgICAgICAgIHRoaXMuZGF0YVByb3ZpZGVyLmRhdGFDaGFuZ2VzLm5leHQodGhpcy5kYXRhUHJvdmlkZXIub2ZmU2NyZWVuRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFBsZWFzZSBzZWUge0BsaW5rIGluc2VydH0gbWV0aG9kXG4gICAgICpcbiAgICAgKi9cbiAgICByZW1vdmUob2JqZWN0OiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kYXRhUHJvdmlkZXIuY2FuQ1JVRCgpKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFQcm92aWRlci5yZW1vdmUob2JqZWN0KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTGlzdFdyYXBwZXIucmVtb3ZlSWZFeGlzdCh0aGlzLmRhdGFQcm92aWRlci5vZmZTY3JlZW5EYXRhLCBvYmplY3QpO1xuICAgICAgICAgICAgdGhpcy5kYXRhUHJvdmlkZXIuZGF0YUNoYW5nZXMubmV4dCh0aGlzLmRhdGFQcm92aWRlci5vZmZTY3JlZW5EYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogUHJvdmlkZXMgYWNjZXNzIHRvIERhdGFGaW5kZXIgd2hpY2ggY2FuIGFjY2VwdCBlaXRoZXIgcGxhaW4gc3RyaW5nIG9yIE1hcC5cbiAgICAgKlxuICAgICAqIFRvIGJlIGFibGUgdG8gcHJvdmlkZSBjb3JyZWN0IGlucHV0IHdlIG5lZWQgdG8gYXNrIERhdGFGaW5kZXIgaWYgaXQgc3VwcG9ydHMgRnVsbFRleHQgbGlrZVxuICAgICAqIHR5cGUgcXVlcnkgb3IgUHJlZGljYXRlLiBJbiBjYXNlIG9mIFByZWRpY2F0ZSB3ZSBidWlsZCB0aGUgTWFwIHdpdGggZGlmZmVyZW50IGtleS92YWx1ZVxuICAgICAqIHBhaXJzXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIGZpbmQocGF0dGVybj86IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpc0JsYW5rKHBhdHRlcm4pIHx8IHBhdHRlcm4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSByZWNlaXZlZCBlbXB0eSBzdHJpbmcgcmV0dXJuIG9yZ2luYWwgbGlzdFxuICAgICAgICAgICAgdGhpcy5mZXRjaCh0aGlzLnN0YXRlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWFyY2hQYXJhbTogYW55ID0gcGF0dGVybjtcbiAgICAgICAgaWYgKHRoaXMuZGF0YUZpbmRlci5hY2NlcHRzKHRoaXMuZGF0YVByb3ZpZGVyLCBRdWVyeVR5cGUuUHJlZGljYXRlKSkge1xuICAgICAgICAgICAgc2VhcmNoUGFyYW0gPSBuZXcgTWFwKCkuc2V0KCdxdWVyeScsIHBhdHRlcm4pLnNldCgnbGltaXQnLCBEVDJEYXRhU291cmNlLk1heExpbWl0KTtcblxuICAgICAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLnN0YXRlLnNvcnRLZXkpKSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW0uc2V0KCdvcmRlcmJ5JywgdGhpcy5zdGF0ZS5zb3J0S2V5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLnN0YXRlLnNvcnRLZXkpKSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW0uc2V0KCdzZWxlY3RvcicsIHRoaXMuc3RhdGUuc29ydE9yZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydChpc1N0cmluZyhwYXR0ZXJuKSwgJ0Nhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdmFsdWUgdG8gRnVsbFRleHQgRmluZGVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGFGaW5kZXIubWF0Y2g8YW55PihzZWFyY2hQYXJhbSkuc3Vic2NyaWJlKChyZXN1bHQ6IGFueVtdKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRhdGFQcm92aWRlci5kYXRhQ2hhbmdlcy5uZXh0KHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBEYXRhIHNvdXJjZSBkZWxlZ2F0ZXMgdGhlIHJlc3BvbnNpYmlsaXR5IHRvIHRoZSBnaXZlbiBkYXRhIHByb3ZpZGVyIHdoaWNoIG5lZWRzIHRvIGltcGxlbWVudFxuICAgICAqIHNwZWNpZmljIHNvcnRpbmcgbWVjaGFuaXNtXG4gICAgICpcbiAgICAgKiBUb2RvOiBFeHRlbmQgdG8gc29ydCBieSBtdWx0aXBsZSBjb2x1bW5zXG4gICAgICpcbiAgICAgKi9cbiAgICBzb3J0KGtleTogc3RyaW5nLCBzb3J0T3JkZXI6IG51bWJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuZGF0YVByb3ZpZGVyLmRhdGEoKSkgfHwgdGhpcy5kYXRhUHJvdmlkZXIuZGF0YSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUuc29ydEtleSA9IGtleTtcbiAgICAgICAgdGhpcy5zdGF0ZS5zb3J0T3JkZXIgPSBzb3J0T3JkZXI7XG4gICAgICAgIHRoaXMuZmV0Y2godGhpcy5zdGF0ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBQZXJzaXN0IGRiIHN0YXRlXG4gICAgICpcbiAgICAgKi9cbiAgICB1cGRhdGVTdGF0ZShvZmZzZXQ6IG51bWJlciwgc29ydEZpZWxkOiBzdHJpbmcsIHNPcmRlcjogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHRoaXMuc3RhdGUuc29ydEtleSA9IHNvcnRGaWVsZDtcbiAgICAgICAgdGhpcy5zdGF0ZS5zb3J0T3JkZXIgPSBzT3JkZXI7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIHJlc2h1ZmZsZXMgY3VycmVudCBhcnJheSBiYXNlZCBvbiBuZXcgcm93IEQmRCByZXN1bHQuXG4gICAgICpcbiAgICAgKiBTaW5jZSB0aGVyZSBpcyBhIGRpZmZlcmVuY2UgaWYgd2UgbW92ZSBpdGVtIGZyb20gYm90dG9tIG9yIGZyb20gdGhlIHRvcCBhbmQgdGhlbiBhY2NvcmRpbmdseVxuICAgICAqIGhpZ2hsaWdodGluZyBhIHNwYWNlIGJldHdlZW4gcm93cy4gV2UgbmVlZCB0byByZWZsZWN0IHRoaXMgaW4gaGVyZSBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogVXNlQ2FzZSAxOlxuICAgICAqXG4gICAgICogMS4gWW91IGNhbiBncmFiIGl0ZW0gd2l0aCBpbmRleCAwIGFuZCBtb3ZlIGl0IGRvd24gc28gdGhhdCB5b3UgY2FuIHNlZSBhIGRyb3BwaW5nIGxpbmVcbiAgICAgKiBiZXR3ZWVuIHJvdyB3aXRoIGluZGV4IDIgLSAzXG4gICAgICpcbiAgICAgKiAyLiBJbiB0aGlzIGNhc2Ugc3BsaWNlKCkgc3RhcnRzIGZyb20gcG9zaXRpb24gMiBhbmQgaW5zZXJ0IGFsbCBlbGVtZW50cyBhZnRlciAyXG4gICAgICogICAgICBzcGxpY2Uoc3RhcnQ6IG51bWJlciwgZGVsZXRlQ291bnQ6IG51bWJlciwgLi4uaXRlbXM6IFRbXSk6IFRbXTtcbiAgICAgKlxuICAgICAqIDMuIG5vIG5lZWQgdG8gdXBkYXRlIG5ld1Bvc1xuICAgICAqXG4gICAgICogVXNlQ2FzZSAyOlxuICAgICAqXG4gICAgICogMS4gWW91IGNhbiBncmFiIGl0ZW0gd2l0aCBpbmRleCAwIGFuZCBtb3ZlIGFsbCB0aGUgd2F5IGRvd24gb2YgdGhlIERUIGFuZCBub3cgbW92ZSB0aGVcbiAgICAgKiByb3cgdG93YXJkIFRPUCBhbmQgc3BhY2UgYmV0d2VlbiByb3dzIHdpdGggaW5kZXggMiAtIDMgaXMgaGlnaGxpZ2h0ZWQgYWdhaW4uXG4gICAgICpcbiAgICAgKiAyLiBIZXJlIGlzIHRoZSBkaWZmZXJlbmNlLCBiZWZvcmUgd2UgaGlnaGxpZ2h0ZWQgcm93ICMyIHdpdGggbGluZSBhdCB0aGUgYm90dG9tLCBub3dcbiAgICAgKiBpdCBzZWVtcyB0aGUgc2FtZSBidXQgaXRzIGhpZ2hsaWdodGVkIHJvdyAjMyB3aXRoIGxpbmUgYXQgdGhlIFRPUC5cbiAgICAgKlxuICAgICAqICogVGhpcyBpcyB0aGUgcmVhc29uIHdoZXkgd2UgbmVlZCB0byBkbyBuZXdQb3MgLT0gMSBvciBuZXdQb3MgKz0gMTsgZGVwZW5kaW5nIG91ciBkaXJlY3Rpb25cbiAgICAgKiB3aGVyZSB3aGVyZSB0aGUgbGluZSBiZXR3ZWVuIHJvd3MgaXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqXG4gICAgICogV2UgZG9uJ3QgbmVlZCBhbnkgY29tcGxpY2F0ZWQgY2FsY3VsYXRpb24gdHJ5aW5nIHRvIGZpbmQgb3V0IGlmIHdlIGFyZSBvbiBvbmUgaGFsZiBvZiB0aGUgcm93XG4gICAgICogb3Igc2Vjb25kIGhhbGYgYW5kIGJhc2VkIG9uIHRoaXMgdHJ5IHRvIGFwcGx5IGNlcnRhaW4gc3R5bGUuIFRoaXMgd291bGQgbm90IGdpdmUgc28gbXVjaFxuICAgICAqIHNwYWNlIGlmIHdlIHdhbnQgZHJvcCByb3cgaW50byB0aGUgcm93LiBBbmQgdGhlIGNhbGN1bGF0aW9uIHdpdGggY29vcmRpbmF0ZXMgd291ZGwgYmUgdG9vXG4gICAgICogY29tcGxpY2F0ZWQuXG4gICAgICpcbiAgICAgKiBXZSBzaW1wbHkgcmVtZW1iZXIgdGhlIGRpcmVjdGlvbiB3ZSBhcmUgbW92aW5nIGFuZCBiYXNlZCBvbiB0aGlzIHdlIGFwcGx5IHN0eWxlIHRvXG4gICAgICogdG8gY3JlYXRlIGEgbGluZSBhdCB0aGUgVE9QIGlmIHdlIGFyZSBnb2luZyB1cHdhcmRzIG9yIGJvdHRvbSBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIHJlb3JkZXJSb3dzKG9yaWdQb3M6IG51bWJlciwgbmV3UG9zOiBudW1iZXIsIGRyb3BQb3M6IERyb3BQb3NpdGlvbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBhcnJheSA9IHRoaXMuZGF0YVByb3ZpZGVyLmRhdGEoKS5zbGljZSgpO1xuXG4gICAgICAgIC8vIHRha2Ugc29tZXRoaW5nIGZyb20gdG9wIGFuZCBkcmFnJmRyb3AgdW5kZXJcbiAgICAgICAgaWYgKG5ld1BvcyA+IG9yaWdQb3MgJiYgZHJvcFBvcyA9PT0gRHJvcFBvc2l0aW9uLkJlZm9yZSAmJiBuZXdQb3MgPCBhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgIG5ld1BvcyAtPSAxO1xuXG4gICAgICAgICAgICAvLyB0YWtlIHNvbWV0aGluZyBmcm9tIGJvdHRvbSBhbmQgZHJhZyZkcm9wIGFib3ZlXG4gICAgICAgIH0gZWxzZSBpZiAobmV3UG9zIDwgb3JpZ1BvcyAmJiBkcm9wUG9zID09PSBEcm9wUG9zaXRpb24uQWZ0ZXIgJiYgbmV3UG9zID49IDApIHtcbiAgICAgICAgICAgIG5ld1BvcyArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgYXJyYXkuc3BsaWNlKG5ld1BvcywgMCwgLi4uYXJyYXkuc3BsaWNlKG9yaWdQb3MsIDEpWzBdKTtcbiAgICAgICAgdGhpcy5kYXRhUHJvdmlkZXIuZGF0YUNoYW5nZXMubmV4dChhcnJheSk7XG4gICAgfVxuXG59XG5cbi8qKlxuICogRW50aXR5IGRlZmluaXRpb24gdG8gYmUgdXNlZCB0byBpbml0aWFsaXplIHByb2dyYW1tYXRpY2FsbHkgY29sdW1uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEVudGl0eURlZjJcbntcbiAgICBwcm9wZXJ0eUtleXM6IHN0cmluZ1tdO1xuXG4gICAgZGVmYXVsdEZvcm1hdHRlcjogKGtleTogYW55KSA9PiBzdHJpbmc7XG5cbiAgICBkaXNwbGF5U3RyaW5nRm9yS2V5OiAoa2V5OiBzdHJpbmcpID0+IHN0cmluZztcblxuICAgIGRlZmF1bHRBbGlnbm1lbnRGb3JLZXk6IChrZXk6IHN0cmluZykgPT4gc3RyaW5nO1xufVxuXG4vKipcbiAqIEtlZXBzIGN1cnJlbnQgZGF0YXRhYmxlIHN0YXRlIHRoZSBzdGF0ZSB3aGljaCBkcml2ZXJzIHRoZSB3YXkgd2hpbGUgZmV0Y2hpbmcgdGhlIGRhdGEgYXMgd2VsbFxuICogZW5jYXBzdWxhdGUgc2V0IG9mIHByb3BlcnRpZXMgdGhhdCBuZWVkcyB0byBiZSBwZXJzaXN0ZXQgaW4gb3JkZXIgdG8gcmVjb3ZlciBhIHN0YXRlIGFmdGVyIGUuZy5cbiAqIGJyb3dzZXIgcmVmcmVzaFxuICpcbiAqXG4gKiB0b2RvOiBDcmVhdGUgbWV0aG9kcyB0byBjb252ZXJ0IHRoaXMgc3RhdGUgZnJvbSBhbmQgdG8gSlNPTiBmb3IgZWFzaWVyIHNlcmlhbGl6YXRpb25cbiAqL1xuZXhwb3J0IGNsYXNzIERhdGF0YWJsZTJTdGF0ZVxue1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQXNjZW5kaW5nID0gMTtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERlc2NlbmRpbmcgPSAtMTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnRpZXMgZm9yIHBhZ2luZyBhbmQgZmV0Y2hpbmdcbiAgICAgKi9cbiAgICBvZmZzZXQ6IG51bWJlciA9IDA7XG4gICAgbGltaXQ6IG51bWJlciA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBJZGVudGlmaWVzIGRlZmF1bHQgdmFsdWUgdGhhdCBpcyB1c2VkIHRvIHJlbmRlciBOIG51bWJlciBvZiByb3dzIGluIG5vbi1mdWxsc2NyZWVuXG4gICAgICogbW9kZVxuICAgICAqXG4gICAgICovXG4gICAgZGlzcGxheUxpbWl0OiBudW1iZXIgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBzb3J0aW5nIGZpZWxkXG4gICAgICovXG4gICAgc29ydEtleTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogU29ydGluZyBvcmRlciBvZiB0aGUgc29ydCBmaWVsZC4gRGF0YVRhYmxlIHN1cHBvcnQgc29ydGluZyBmb3IgbXVsdGlwbGUgY29sdW1uIGJ1dCB3ZVxuICAgICAqIGRvbnQgcGVyc2lzdCBpdCBub3cuIE1heWJlIGluIHRoZSBmdXR1cmVcbiAgICAgKi9cbiAgICBzb3J0T3JkZXI6IG51bWJlciA9IERhdGF0YWJsZTJTdGF0ZS5Bc2NlbmRpbmc7XG5cbiAgICAvKipcbiAgICAgKiBJZiB3ZSBhcmUgdXNpbmcgZ2xvYmFsIGZpbHRlciBmb3IgY3VycmVudCBkYXRhdGFibGUgdGhlbiBzYXZlIGl0IGhlcmVcbiAgICAgKi9cbiAgICBjdXJyZW50U2VhcmNoUXVlcnk6IHN0cmluZyA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBpZiBhbnkgcHJlc2VsZWN0ZWQgZmlsdGVyXG4gICAgICovXG4gICAgY3VycmVudEZpbHRlcjogYW55O1xuXG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50IGN1cnJlbnQgc2VsZWN0aW9uIGRlcGVuZGluZyBvbiBzZWxlY3Rpb24gbW9kZS5cbiAgICAgKlxuICAgICAqIEN1cnJlbnQgc2VsZWN0aW9uIHVzZWQgYm90aCBmb3Igcm93IHNlbGVjdGlvbiBhbmQgY2VsbCBzZWxlY3Rpb24uIFJvdyBzZWxlY3Rpb24gaXMgdXNlZCB3aGVuXG4gICAgICogU2luZ2xlU2VsZWN0IGFuZCBNdWx0aVNlbGVjdCBvbmNlIHdlIGltcGxlbWVudCB0aGlzLlxuICAgICAqXG4gICAgICovXG4gICAgc2VsZWN0aW9uOiBhbnk7XG5cblxuICAgIC8qKlxuICAgICAqIFdoZW4gaGVhZGVyIHNlbGVjdGlvbiBpcyBlbmFibGVkIGl0IGNhcHR1cmVzIGN1cnJlbnRseSBzZWxlY3RlZCBjb2x1bW5cbiAgICAgKi9cbiAgICBoZWFkZXJTZWxlY3Rpb246IERUQ29sdW1uMkNvbXBvbmVudDtcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiAgSG9sZHMgY3VycmVudCBzdGF0ZSBvZiB0aGUgb3V0bGluZSB0cmVlIGlmIHVzZWRcbiAgICAgKlxuICAgICAqL1xuICAgIG91dGxpbmVTdGF0ZT86IE1hcDxhbnksIGJvb2xlYW4+O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiAgSG9sZHMgY3VycmVudCBzdGF0ZSBvZiB0aGUgZGV0YWlsIHJvd3MgaWYgdXNlZFxuICAgICAqXG4gICAgICovXG4gICAgZGV0YWlsUm93RXhwYW5kU3RhdGU/OiBNYXA8YW55LCBib29sZWFuPjtcblxuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5vdXRsaW5lU3RhdGUgPSBuZXcgTWFwPGFueSwgYm9vbGVhbj4oKTtcbiAgICAgICAgdGhpcy5kZXRhaWxSb3dFeHBhbmRTdGF0ZSA9IG5ldyBNYXA8YW55LCBib29sZWFuPigpO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUob2Zmc2V0OiBudW1iZXIgPSAwLCBsaW1pdDogbnVtYmVyID0gMTUsIGRpc3BsYXlMaW1pdDogbnVtYmVyID0gNSxcbiAgICAgICAgICAgICAgICAgIHNvcnRGaWVsZDogc3RyaW5nID0gJycsIHNPcmRlcjogbnVtYmVyID0gMCwgc2VhcmNoUXVlcnk/OiBzdHJpbmcsIGZpbHRlcj86IGFueSxcbiAgICAgICAgICAgICAgICAgIG91dGxpbmVTdGF0ZTogTWFwPGFueSwgYm9vbGVhbj4gPSBuZXcgTWFwPGFueSwgYm9vbGVhbj4oKSxcbiAgICAgICAgICAgICAgICAgIGRldGFpbFJvd1N0YXRlOiBNYXA8YW55LCBib29sZWFuPiA9IG5ldyBNYXA8YW55LCBib29sZWFuPigpKTogRGF0YXRhYmxlMlN0YXRlXG4gICAge1xuICAgICAgICBsZXQgcyA9IG5ldyBEYXRhdGFibGUyU3RhdGUoKTtcbiAgICAgICAgcy5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHMubGltaXQgPSBsaW1pdDtcbiAgICAgICAgcy5kaXNwbGF5TGltaXQgPSBkaXNwbGF5TGltaXQ7XG4gICAgICAgIHMuc29ydEtleSA9IHNvcnRGaWVsZDtcbiAgICAgICAgcy5zb3J0T3JkZXIgPSBzT3JkZXI7XG4gICAgICAgIHMuY3VycmVudFNlYXJjaFF1ZXJ5ID0gc2VhcmNoUXVlcnk7XG4gICAgICAgIHMuY3VycmVudEZpbHRlciA9IGZpbHRlcjtcbiAgICAgICAgcy5vdXRsaW5lU3RhdGUgPSBvdXRsaW5lU3RhdGU7XG4gICAgICAgIHMuZGV0YWlsUm93RXhwYW5kU3RhdGUgPSBkZXRhaWxSb3dTdGF0ZTtcblxuICAgICAgICByZXR1cm4gcztcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUpTT04oZGF0YTogc3RyaW5nKTogRGF0YXRhYmxlMlN0YXRlXG4gICAge1xuICAgICAgICBsZXQgc3RhdGU6IERUU3RhdGVTZXJpYWxpemFibGVIZWxwZXIgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICBsZXQgZHMgPSBuZXcgRGF0YXRhYmxlMlN0YXRlKCk7XG4gICAgICAgIGRzLm9mZnNldCA9IHN0YXRlLm9mZnNldDtcbiAgICAgICAgZHMubGltaXQgPSBzdGF0ZS5saW1pdDtcbiAgICAgICAgZHMuZGlzcGxheUxpbWl0ID0gc3RhdGUuZGlzcGxheUxpbWl0O1xuICAgICAgICBkcy5zb3J0S2V5ID0gc3RhdGUuc29ydEtleTtcbiAgICAgICAgZHMuc29ydE9yZGVyID0gc3RhdGUuc29ydE9yZGVyO1xuICAgICAgICBkcy5jdXJyZW50U2VhcmNoUXVlcnkgPSBzdGF0ZS5jdXJyZW50U2VhcmNoUXVlcnk7XG4gICAgICAgIGRzLm91dGxpbmVTdGF0ZSA9IE1hcFdyYXBwZXIuY3JlYXRlRnJvbUFueU1hcDxib29sZWFuPihzdGF0ZS5vdXRsaW5lU3RhdGUpO1xuICAgICAgICBkcy5kZXRhaWxSb3dFeHBhbmRTdGF0ZSA9IE1hcFdyYXBwZXIuY3JlYXRlRnJvbUFueU1hcDxib29sZWFuPihzdGF0ZS5kZXRhaWxSb3dFeHBhbmRTdGF0ZSk7XG5cbiAgICAgICAgcmV0dXJuIGRzO1xuICAgIH1cblxuXG4gICAgc3RhdGljIHRvSlNPTihkYXRhOiBEYXRhdGFibGUyU3RhdGUpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGxldCB0b0NvbnZlcnQ6IERUU3RhdGVTZXJpYWxpemFibGVIZWxwZXIgPSB7XG4gICAgICAgICAgICBvZmZzZXQ6IGRhdGEub2Zmc2V0LFxuICAgICAgICAgICAgbGltaXQ6IGRhdGEubGltaXQsXG4gICAgICAgICAgICBkaXNwbGF5TGltaXQ6IGRhdGEuZGlzcGxheUxpbWl0LFxuICAgICAgICAgICAgc29ydEtleTogZGF0YS5zb3J0S2V5LFxuICAgICAgICAgICAgc29ydE9yZGVyOiBkYXRhLnNvcnRPcmRlcixcbiAgICAgICAgICAgIGN1cnJlbnRTZWFyY2hRdWVyeTogZGF0YS5jdXJyZW50U2VhcmNoUXVlcnksXG4gICAgICAgICAgICBvdXRsaW5lU3RhdGU6IE1hcFdyYXBwZXIudG9BbnlNYXAoZGF0YS5vdXRsaW5lU3RhdGUpLFxuICAgICAgICAgICAgZGV0YWlsUm93RXhwYW5kU3RhdGU6IE1hcFdyYXBwZXIudG9BbnlNYXAoZGF0YS5kZXRhaWxSb3dFeHBhbmRTdGF0ZSlcblxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodG9Db252ZXJ0KTtcbiAgICB9XG5cbn1cblxuXG4vKipcbiAqIFRoaXMgbmVlZHMgdG8gZ28gdG8gRFREYXRhU291cmNlIHRvIGtlZXAgYW5kIG1hbmFnZSB0aGUgc3RhdGUgb2YgdGhlIGRldGFpbCByb3cuIFRoZSBpZGVhIGlzXG4gKiBzaW1wbGUgd2UgaGF2ZSBhIG1hcCBob2xkaW5nIGl0ZW0gcmVmZXJlbmNlIGFzIGEga2V5IGFuZCBib29sZWFuIHZhbHVlIGluZGljYXRpbmcgaWYgdGhlXG4gKiBkZXRhaWwgcm93IGlzIHZpc2libGVcbiAqXG4gKiBUb2RvOiBtb3ZlIHRoaXMgb3V0IHRvIERTXG4gKi9cbmV4cG9ydCBjbGFzcyBEZXRhaWxSb3dFeHBhbnNpb25TdGF0ZVxue1xuXG4gICAgZXhwYW5zaW9uU3RhdGVzOiBNYXA8YW55LCBib29sZWFuPjtcblxuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBkdDogQVdEYXRhVGFibGUpXG4gICAge1xuICAgIH1cblxuICAgIGdldCBkZXRhaWxFeHBhbnNpb25FbmFibGVkKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBpc1ByZXNlbnQodGhpcy5leHBhbnNpb25TdGF0ZXMpO1xuICAgIH1cblxuICAgIHNldCBkZXRhaWxFeHBhbnNpb25FbmFibGVkKHZhbHVlOiBib29sZWFuKVxuICAgIHtcblxuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZXhwYW5zaW9uU3RhdGVzID0gbmV3IE1hcDxhbnksIGJvb2xlYW4+KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV4cGFuc2lvblN0YXRlcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b2dnbGUoaXRlbTogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IGtleSA9IHRoaXMuaXRlbVRvS2V5KGl0ZW0pO1xuICAgICAgICBpZiAoIXRoaXMuaXNFeHBhbmRlZChpdGVtKSkge1xuICAgICAgICAgICAgdGhpcy5leHBhbnNpb25TdGF0ZXMuc2V0KGtleSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV4cGFuc2lvblN0YXRlcy5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHQuZGF0YVNvdXJjZS5zdGF0ZS5kZXRhaWxSb3dFeHBhbmRTdGF0ZSA9IHRoaXMuZXhwYW5zaW9uU3RhdGVzO1xuICAgIH1cblxuICAgIGlzRXhwYW5kZWQoaXRlbTogYW55KTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgbGV0IGtleSA9IHRoaXMuaXRlbVRvS2V5KGl0ZW0pO1xuICAgICAgICAvLyBoYW5kbGUgc3BlY2lhbCBjYXNlIHdoZXJlIHdlIGNvbGxhcHNlIHBhcmVudCBvZiBwYXJlbnQgd2hpbGUgZGV0YWlsIHJvdyBpcyBleHBhbmRlZFxuICAgICAgICBpZiAodGhpcy5kdC5pc091dGxpbmUoKSAmJiAhdGhpcy5kdC5vdXRsaW5lU3RhdGUuaXNFeHBhbmRlZChrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGFuc2lvblN0YXRlcy5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpc091dGxpbmVFeHBhbmRlZCA9IHRoaXMuZHQuaXNPdXRsaW5lKCkgPyB0aGlzLmR0Lm91dGxpbmVTdGF0ZS5pc0V4cGFuZGVkKGtleSkgOiB0cnVlO1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KGtleSkgJiYgdGhpcy5leHBhbnNpb25TdGF0ZXMuaGFzKGtleSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpdGVtVG9LZXkoaXRlbTogYW55KTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gaXNFbnRpdHkoaXRlbSkgPyAoPEVudGl0eT5pdGVtKS5pZGVudGl0eSgpIDogaXRlbTtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRFRTdGF0ZVNlcmlhbGl6YWJsZUhlbHBlclxue1xuICAgIG9mZnNldDogbnVtYmVyO1xuICAgIGxpbWl0OiBudW1iZXI7XG4gICAgZGlzcGxheUxpbWl0OiBudW1iZXI7XG4gICAgc29ydEtleTogc3RyaW5nO1xuICAgIHNvcnRPcmRlcjogbnVtYmVyO1xuICAgIGN1cnJlbnRTZWFyY2hRdWVyeTogc3RyaW5nO1xuICAgIGN1cnJlbnRGaWx0ZXI/OiBhbnk7XG4gICAgb3V0bGluZVN0YXRlOiBhbnk7XG4gICAgZGV0YWlsUm93RXhwYW5kU3RhdGU6IGFueTtcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEVEluaXRQYXJhbXMoaW5pdDogRFREU0luaXRQYXJhbXMpOiBpbml0IGlzIERURFNJbml0UGFyYW1zXG57XG4gICAgcmV0dXJuIGlzUHJlc2VudChpbml0Lm9iaikgfHwgaXNQcmVzZW50KGluaXQucXVlcnlUeXBlKSB8fCBpc1ByZXNlbnQoaW5pdC5lbnRpdHkpO1xufVxuXG4vKipcbiAqIFRvIG1ha2UgaW5pdGlhbGl6YXRpb24gZWFzaWVyIHdlIGhhdmUgdGhpcyBjb21tb24gZm9ybWF0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIERURFNJbml0UGFyYW1zIGV4dGVuZHMgRFNJbml0UGFyYW1zXG57XG5cbiAgICAvKipcbiAgICAgKiBPYmplY3QgZGVmaW5pdGlvbiBmb3IgdGhlIGRhdGFcbiAgICAgKi9cbiAgICBlbnRpdHk/OiBFbnRpdHlEZWYyO1xuXG4gICAgc3RhdGU/OiBEYXRhdGFibGUyU3RhdGU7XG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7Q29tcG9uZW50LCBWaWV3RW5jYXBzdWxhdGlvbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Vudmlyb25tZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7RG9tSGFuZGxlcn0gZnJvbSAncHJpbWVuZy9wcmltZW5nJztcbmltcG9ydCB7RFRDb2x1bW4yQ29tcG9uZW50fSBmcm9tICcuLi9kdC1jb2x1bW4uY29tcG9uZW50JztcblxuXG4vKipcbiAqXG4gKiBDb2x1bW4gaW1wbGVtZW50YXRpb24gZm9yIHRoZSBNdWx0aXNlbGVjdGlvbiB3aGVyZSB3ZSBzaG93IGNoZWNrYm94IGNvbnRyb2xcbiAqXG4gKlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LWR0LW11bHRpLXNlbGVjdC1jb2x1bW4nLFxuICAgIHRlbXBsYXRlVXJsOiAnZHQtbXVsdGktc2VsZWN0LWNvbHVtbi5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ2R0LW11bHRpLXNlbGVjdC1jb2x1bW4uY29tcG9uZW50LnNjc3MnXSxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgIHByb3ZpZGVyczogW0RvbUhhbmRsZXJdXG5cbn0pXG5leHBvcnQgY2xhc3MgRFRNdWx0aVNlbGVjdENvbHVtbkNvbXBvbmVudCBleHRlbmRzIERUQ29sdW1uMkNvbXBvbmVudFxue1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQsIHB1YmxpYyBkb21IYW5kbGVyOiBEb21IYW5kbGVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52LCBkb21IYW5kbGVyKTtcblxuICAgICAgICAvLyBkZWZhdWx0IHdpZHRoIG9mIHRoZSBzZWxlY3Rpb24gY29udHJvbFxuICAgICAgICB0aGlzLndpZHRoID0gJzQ1cHgnO1xuICAgIH1cblxufVxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7Q29tcG9uZW50LCBWaWV3RW5jYXBzdWxhdGlvbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Vudmlyb25tZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7RG9tSGFuZGxlcn0gZnJvbSAncHJpbWVuZy9wcmltZW5nJztcbmltcG9ydCB7RFRDb2x1bW4yQ29tcG9uZW50fSBmcm9tICcuLi9kdC1jb2x1bW4uY29tcG9uZW50JztcblxuXG4vKipcbiAqXG4gKiBDb2x1bW4gaW1wbGVtZW50YXRpb24gZm9yIHRoZSBTaW5nbGVTZWxlY3Qgd2hlcmUgd2Ugc2hvdyBjaGVja2JveCBjb250cm9sXG4gKlxuICpcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1kdC1zaW5nbGUtc2VsZWN0LWNvbHVtbicsXG4gICAgdGVtcGxhdGVVcmw6ICdkdC1zaW5nbGUtc2VsZWN0LWNvbHVtbi5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ2R0LXNpbmdsZS1zZWxlY3QtY29sdW1uLmNvbXBvbmVudC5zY3NzJ10sXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICBwcm92aWRlcnM6IFtEb21IYW5kbGVyXVxuXG59KVxuZXhwb3J0IGNsYXNzIERUU2luZ2xlU2VsZWN0Q29sdW1uQ29tcG9uZW50IGV4dGVuZHMgRFRDb2x1bW4yQ29tcG9uZW50XG57XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZW52OiBFbnZpcm9ubWVudCwgcHVibGljIGRvbUhhbmRsZXI6IERvbUhhbmRsZXIpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYsIGRvbUhhbmRsZXIpO1xuXG4gICAgICAgIC8vIGRlZmF1bHQgd2lkdGggb2YgdGhlIHNlbGVjdGlvbiBjb250cm9sXG4gICAgICAgIHRoaXMud2lkdGggPSAnNDVweCc7XG4gICAgfVxuXG5cbn1cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICogIEBvcmlnaW5hbC1saWNlbnNlXG4gKiAgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKiAgQ29weXJpZ2h0IChjKSAyMDE2LTIwMTcgUHJpbWVUZWtcbiAqXG4gKiAgQ3JlZGl0OiBEZXJpdmVkIGFuZCBleHRlbmRlZCBmcm9tIFByaW1lLW5nIGRhdGFibGUgd2hlcmUgd2UgbmVlZGVkIG1vcmUgbW9kdWxhciBzb2x1dGlvbi5cbiAqICBXZSByZXVzZWQgdGhlIGNvcmUgc3RydWN0dXJlIGFuZCBsYXlvdXQgYnV0IGhhZCB0byByZWZhY3RvciBib3RoIGNvZGUgYW5kIHRlbXBsYXRlIHRvIG1hdGNoIG91clxuICogIG5lZWRzLiBNb3JlIGluIHRoZSBkZXNjcmlwdGlvblxuICpcbiAqXG4gKi9cbmltcG9ydCB7XG4gICAgQWZ0ZXJDb250ZW50SW5pdCxcbiAgICBBZnRlclZpZXdDaGVja2VkLFxuICAgIEFmdGVyVmlld0luaXQsXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgQ29tcG9uZW50LFxuICAgIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgICBDb250ZW50Q2hpbGQsXG4gICAgQ29udGVudENoaWxkcmVuLFxuICAgIEVsZW1lbnRSZWYsXG4gICAgRXZlbnRFbWl0dGVyLFxuICAgIEhvc3RCaW5kaW5nLFxuICAgIEluamVjdCxcbiAgICBJbmplY3RvcixcbiAgICBJbnB1dCxcbiAgICBOZ1pvbmUsXG4gICAgT3V0cHV0LFxuICAgIFF1ZXJ5TGlzdCxcbiAgICBTaW1wbGVDaGFuZ2VzLFxuICAgIFRlbXBsYXRlUmVmLFxuICAgIFZpZXdFbmNhcHN1bGF0aW9uXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtPYmplY3RVdGlsc30gZnJvbSAncHJpbWVuZy9jb21wb25lbnRzL3V0aWxzL29iamVjdHV0aWxzJztcbmltcG9ydCB7U3Vic2NyaXB0aW9ufSBmcm9tICdyeGpzJztcbmltcG9ydCB7aXNPdXRsaW5lTm9kZSwgT3V0bGluZVN0YXRlfSBmcm9tICcuLi9vdXRsaW5lL2luZGV4JztcbmltcG9ydCB7QmFzZUNvbXBvbmVudH0gZnJvbSAnLi4vLi4vY29yZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQge1xuICAgIGFzc2VydCxcbiAgICBCb29sZWFuV3JhcHBlcixcbiAgICBFbnZpcm9ubWVudCxcbiAgICBlcXVhbHMsXG4gICAgRmllbGRQYXRoLFxuICAgIGlzQmxhbmssXG4gICAgaXNQcmVzZW50LFxuICAgIExpc3RXcmFwcGVyXG59IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtBV0RhdGFUYWJsZSwgRHJvcFBvc2l0aW9ufSBmcm9tICcuL2F3LWRhdGF0YWJsZSc7XG5pbXBvcnQge0RUQ29sdW1uMkNvbXBvbmVudH0gZnJvbSAnLi9jb2x1bW4vZHQtY29sdW1uLmNvbXBvbmVudCc7XG5pbXBvcnQge0RUSGVhZGVyQ29tcG9uZW50Mn0gZnJvbSAnLi9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudCc7XG5pbXBvcnQge0RURGV0YWlsUm93Q29tcG9uZW50fSBmcm9tICcuL2NvbHVtbi9kZXRhaWwtcm93L2R0LWRldGFpbC1yb3cuY29tcG9uZW50JztcbmltcG9ydCB7XG4gICAgRFREZXRhaWxSb3dFeHBhbmRlckNvbXBvbmVudFxufSBmcm9tICcuL2NvbHVtbi9kZXRhaWwtcm93LWV4cGFuZGVyL2R0LWRldGFpbC1yb3ctZXhwYW5kZXIuY29tcG9uZW50JztcbmltcG9ydCB7REFUQV9TT1VSQ0V9IGZyb20gJy4uLy4uL2NvcmUvZGF0YS9kYXRhLXNvdXJjZSc7XG5pbXBvcnQge0RhdGFQcm92aWRlcnN9IGZyb20gJy4uLy4uL2NvcmUvZGF0YS9kYXRhLXByb3ZpZGVycyc7XG5pbXBvcnQge0RhdGFGaW5kZXJzLCBRdWVyeVR5cGV9IGZyb20gJy4uLy4uL2NvcmUvZGF0YS9kYXRhLWZpbmRlcnMnO1xuaW1wb3J0IHtEYXRhdGFibGUyU3RhdGUsIERldGFpbFJvd0V4cGFuc2lvblN0YXRlLCBEVDJEYXRhU291cmNlfSBmcm9tICcuL2RhdGF0YWJsZTItZGF0YS1zb3VyY2UnO1xuaW1wb3J0IHtcbiAgICBEVE11bHRpU2VsZWN0Q29sdW1uQ29tcG9uZW50XG59IGZyb20gJy4vY29sdW1uL211bHRpLXNlbGVjdC9kdC1tdWx0aS1zZWxlY3QtY29sdW1uLmNvbXBvbmVudCc7XG5pbXBvcnQge1xuICAgIERUU2luZ2xlU2VsZWN0Q29sdW1uQ29tcG9uZW50XG59IGZyb20gJy4vY29sdW1uL3NpbmdsZS1zZWxlY3QvZHQtc2luZ2xlLXNlbGVjdC1jb2x1bW4uY29tcG9uZW50JztcbmltcG9ydCB7TW9kZWxGb3JtYXR9IGZyb20gJy4uL291dGxpbmUvb3V0bGluZS1mb3IuY29tcG9uZW50JztcblxuXG5leHBvcnQgdHlwZSBTZWxlY3Rpb25Nb2RlID0gJ211bHRpJyB8ICdzaW5nbGUnIHwgJ2NlbGwnIHwgJ25vbmUnO1xuXG4vKipcbiAqIERUIGNvbXBvbmVudCB0aGF0IGltcGxlbWVudHMgdGhlIGRhdGEgZ3JpZCB0aGF0IHNob3dzIHRhYnVsYXIgZGF0YS4gRXZlbiB0aGUgYmFzaWNcbiAqIHN0cnVjdHVyZSBpcyBiYXNlZCBvbiBQcmltZU5HIGRhdGF0YWJsZSBpdHMgY29tcGxldGVseSByZWZhY3RvcmVkIGludG8gc21hbGxlciBwaWVjZXMgdGhhdFxuICogYWxsb3dzIG1vcmUgZXh0ZW5zaWJpbGl0eSBhbmQgdHJ5aW5nIHRvIHN0YXkgYXMgY2xvc2UgYXMgcG9zc2libGUgdG8gZXhpc3RpbmcgQVdMIGltcGxlbWVudGF0aW9uXG4gKlxuICogVGhlcmUgYXJlIDMgbWFpbiBwaWVjZXM6XG4gKlxuICogIFRhYmxlIFdyYXBwZXIgLSBmb2N1c2VzIG9uIHRoZSBvdXRlciBzdHJ1Y3R1cmUuIENvbnRhaW5lciB3aXRoIGJhc2ljIGRhdGFibGUgbGF5b3V0IHBsdXNcbiAqICBjb250YWlucyBhbnkgYWRkaXRpb25hbCBwYW5lbHMgdGhhdCBkYXRhdGFibGUgbmVlZHMgc3VjaCBhcyBvdXIgbmV3IGNvbmNlcHQgaG93IGVkaXRpbmcgd2lsbFxuICogIHdvcmsgLSBzbGlkaW5nIHBhbmVsIGZyb20gdGhlIGJvdHRvbVxuICpcbiAqICBEYXRhdGFibGUgQ29sdW1uIC0gSW5zdGVhZCBvZiByZW5kZXJpbmcgZXZlcnl0aGluZyBpbnNpZGUgRFQgSSBzcGxpdCB0aGUgcGFydCB0aGF0IHJlbmRlcnNcbiAqICBjb2x1bW4gaW50byBzZXBhcmF0ZSBjb21wb25lbnQuIFRoaXMgd2F5IGNvbXBvbmVudCBjb2x1bW4gaGFzIGl0cyBvd24gcmVuZGVyZXIgdGVtcGxhdGUgd2hpY2hcbiAqICBjYW4gcmVuZGVyIGJvdGggaGVhZGVyIGFuZCBkYXRhIGNlbGxzLlxuICogIExhdGVyIG9uIERUQ29sdW1uIGlzIHRoZW4gZXh0ZW5kZWQgdG8gc3VwcG9ydCBvdGhlciBhZGRpdGlvbmFsIGNvbHVtbiB0eXBlc1xuICogIFNpbmdsZVNlbGVjdGlvbkNvbHVtbiwgTXVsdGlTZWxlY3Rpb25Db2x1bW4sIGJvdGggcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyBzZWxlY3Rpb24gY29udHJvbHMuXG4gKlxuICogVG8gc3VwcG9ydCBwaXZvdGFsIGxheW91dCB0aGlzIGNhbiBiZSBleHRlbmRlZCBmb3Igb3RoZXIgYWRkaXRpb25hbCBjb2x1bW5zIHRoYXQgaW1wbGVtZW50cyB0aGVpclxuICogb3duIHJlbmRlcmluZyB0ZW1wbGF0ZXNcbiAqXG4gKiBEYXRhdGFibGUgLSBUaGUgbWFpbiBjb21wb25lbnQgdGhhdCBpcyBvbmx5IGZvY3VzIG9uIGhlYWRlciBhbmQgYm9keSByZW5kZXJpbmcgYW5kIGJhc2FlZCBvbiB0aGVcbiAqIGNvbHVtbiB0eXBlIGl0IHdpbGwgcmVuZGVyIHRoZSBjb3JyZWN0IHRlbXBsYXRlXG4gKiBjb2x1bW4gdHlwZSBpdCB3aWxsIHJlbmRlciB0aGUgY29ycmVjdCB0ZW1wbGF0ZVxuICpcbiAqXG4gKlxuICpcbiAqXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctZGF0YXRhYmxlMicsXG4gICAgdGVtcGxhdGVVcmw6ICdkYXRhdGFibGUyLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnZGF0YXRhYmxlMi5jb21wb25lbnQuc2NzcyddLFxuICAgIHByb3ZpZGVyczogW1xuICAgICAgICBPYmplY3RVdGlscyxcbiAgICAgICAgT3V0bGluZVN0YXRlLFxuICAgICAgICB7cHJvdmlkZTogREFUQV9TT1VSQ0UsIHVzZUNsYXNzOiBEVDJEYXRhU291cmNlLCBkZXBzOiBbRGF0YVByb3ZpZGVycywgRGF0YUZpbmRlcnNdfSxcbiAgICBdLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcblxufSlcbmV4cG9ydCBjbGFzcyBEYXRhdGFibGUyQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCBpbXBsZW1lbnRzIEFXRGF0YVRhYmxlLCBBZnRlclZpZXdDaGVja2VkLFxuICAgIEFmdGVyVmlld0luaXQsIEFmdGVyQ29udGVudEluaXRcbntcblxuICAgIC8qKlxuICAgICAqICBMaXN0IG9mIGl0ZW1zIHRvIHNob3cgaW4gdGhlIGRhdGF0YWJsZS5cbiAgICAgKlxuICAgICAqICB0b2RvOiBpbXBsZW1lbnQgdGhlIHNhbWUgRGF0YXNvdXJjZSBhbmQgbGF6eSBsb2FkaW5nIGp1c3QgbGlrZSBJIGRpZCBpdCBmb3IgZGF0YXRhYmxlXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBsaXN0OiBhbnlbXTtcblxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGVudGl0eSBmb3Igd2hpY2ggRGF0YVByb3ZpZGVyIHdpbGwgYmUgbG9hZGVkLiBZb3UgY2FuIGVpdGhlciBwYXNzIGxpc3Qgb2YgaXRlbXNcbiAgICAgKiBvciB1c2UgdGhpcyBkZXN0aW5hdGlvbkNsYXNzLiBOb3QgYm90aFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgZGVzdGluYXRpb25DbGFzczogc3RyaW5nO1xuXG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IFRhYmxlV3JhcHBlciB0byBhZGQgdXNlciBkZWZpbmVkIGNsYXMgaW50byB0aGUgdGFibGUgdGFnXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHRhYmxlU3R5bGVDbGFzczogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogU2VlIGhlYWRlclRlbXBsYXRlIGZvciBtb3JlIGRldGFpbHNcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGJvZHlDbGFzc0ZuOiAoY29sdW1uOiBEVENvbHVtbjJDb21wb25lbnQsIGl0ZW06IGFueSkgPT4gc3RyaW5nO1xuXG5cbiAgICAvKipcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGlzUm93U2VsZWN0YWJsZTogKGl0ZW06IGFueSkgPT4gYm9vbGVhbjtcblxuXG4gICAgLyoqXG4gICAgICogIEhpZGVzIG9yIHNob3dzIHRhYmxlIGhlYWRpbmcgd2hlcmUgd2UgaGF2ZSBmaWx0ZXJzIGFuZCB0b29scyBtZW51c1xuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2hvd1RhYmxlSGVhZGVyOiBib29sZWFuID0gdHJ1ZTtcblxuXG4gICAgLyoqXG4gICAgICogU2VlIEFXRGF0YVRhYmxlXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHBpdm90YWxMYXlvdXQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFNlZSBBV0RhdGFUYWJsZVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBjb250ZXh0OiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGluaXRpYWxTb3J0T3JkZXI6IHN0cmluZyA9ICdkZXNjZW5kaW5nJztcblxuICAgIC8qKlxuICAgICAqIFNlZSBBV0RhdGFUYWJsZVxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgaW5pdGlhbFNvcnRLZXk6IHN0cmluZztcblxuXG4gICAgLyoqXG4gICAgICogV2hlbiBEVCBpcyBsb2FkZWQgaW4gdGhlIHBhZ2UgYW5kIHdlIGFyZSBub3QgaW4gdGhlIGZ1bGwgc2NyZWVuIChmdWxsIHBhZ2UgbW9kZSksIHRoaXNcbiAgICAgKiBpcyBodGUgbnVtYmVyIG9mIGxpbmVzIHRoYXQgRFQgd2lsbCBzaG93XG4gICAgICpcbiAgICAgKiB0b2RvOiBjb21lIHVwIHdpdGggYmV0dGVyIG5hbWVcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGRpc3BsYXlSb3dTaXplOiBudW1iZXIgPSAxMDtcblxuXG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgcGFnaW5nIG9uIGxhenkgbG9hZGluZyB1c2luZyBpbmZpbml0ZSBzY3JvbGxlciB0byBzZXQgaW5pdGlhbCBmZXRjaCBsaW1pdCBzaXplXG4gICAgICpcbiAgICAgKiB0b2RvOiBjb21lIHVwIHdpdGggYmV0dGVyIG5hbWUgISEhXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHBhZ2VTaXplOiBudW1iZXIgPSAxNTtcblxuXG4gICAgLyoqXG4gICAgICogU2VlIEFXRGF0YVRhYmxlXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBkYXRhU291cmNlOiBEVDJEYXRhU291cmNlO1xuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBtZXNzYWdlIHdoZW4gdGhlcmUgYXJlIG5vIGRhdGEgLlxuICAgICAqXG4gICAgICogdG9kbzogVXNlIGkxOG4gdmFsdWUgYW5kIGNyZWF0ZSByZXNvdXJjZSBmaWxlXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBlbXB0eU1lc3NhZ2U6IHN0cmluZyA9ICdObyByZWNvcmRzIGZvdW5kJztcblxuXG4gICAgLyoqXG4gICAgICogRGV2ZWxvcGVyIGNhbiBwcm92aWRlIGN1c3RvbSB0cmFja0J5IGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGl0ZXJhdGUgb3ZlciB0aGVcbiAgICAgKiByZWNvcmRzXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICByb3dUcmFja0J5OiAoaW5kZXg6IG51bWJlciwgaXRlbTogYW55KSA9PiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUgYWRkcyBjdXN0b20gaG92ZXJpbmcgY2xhc3MgdG8gdGhlIHRib2R5XG4gICAgICovXG4gICAgQElucHV0KClcbiAgICByb3dIb3ZlcjogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIERvIHdlIHNob3cgbG9hZGluZyBpbmRpY2F0b3JcbiAgICAgKlxuICAgICAqIFRvZG86IHJlbmFtZSB0byBzaG93TG9hZGluZ1xuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgbG9hZGluZzogYm9vbGVhbjtcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2VsZWN0aW9uTW9kZTogU2VsZWN0aW9uTW9kZSA9ICdub25lJztcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ2FuIHByb3ZpZGUgY3VzdG9tIGljb24uIFRoZXNlIGljb25zIGFyZSBub3QgYW5pbWF0ZWQgZGl2cywgd2UgdXNlZCBjc3NcbiAgICAgKiB0cmFuc2Zvcm1hdGlvbiB0byByb3RhdGUgdGhlbS5cbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgbG9hZGluZ0ljb246IHN0cmluZyA9ICdpY29uLXN5bmNocm9uaXplJztcblxuXG4gICAgLyoqXG4gICAgICogQWRkaXRpb25hbCBpbmRlbnQgY2FuIGJlIGFkZGVkIHdoZW4gcmVuZGVyaW5nIGRldGFpbCByb3dcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGluZGVudERldGFpbFJvdzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogU2VlIEFXRGF0YVRhYmxlXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGluZGVudGF0aW9uUGVyTGV2ZWw6IG51bWJlciA9IDI1O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiAgU3ViSGVhZGVyIGlzIHVzZWQgdG8gc2hvdyBzdW1tYXJ5IGNvbHVtbnMsIHdoaWNoIGluIG91ciBVWCBpcyBzaG93biBhdCB0aGUgdG9wIGp1c3QgdW5kZXJcbiAgICAgKiAgdGhlIHJlZ3VsYXIgdGFibGUgaGVhZGVyXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dTdWJIZWFkZXI6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFNlZSBPdXRsaW5lRm9yIC0gb25seSB1c2VkIGluIHRoZSB0cmVlIG1vZGVcbiAgICAgKlxuICAgICAqIE5vdCB1c2VkIHdoZW4gW291dGxpbmVGb3JtYXRdPVwiJ3RydWVlJ1wiXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBjaGlsZHJlbjogKHZhbHVlOiBhbnkpID0+IGFueVtdO1xuXG5cbiAgICAvKipcbiAgICAgKiBXZSBtaWdodCBoYXZlIHRoaXMgY29uZGl0aW9uYWwgYXMgdGhpcyBjYW4gYmUgZHluYW1pYyBiYXNlZCBvbiB2YWx1ZSwgc28gdGhlIHNhbWVcbiAgICAgKiBhcyBjaGlsZHJlblxuICAgICAqXG4gICAgICogU2VlIE91dGxpbmVGb3IgLSBvbmx5IHVzZWQgaW4gdGhlIHRyZWUgbW9kZVxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2hvd0V4cGFuc2lvbkNvbnRyb2w6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBTZWUgT3V0bGluZUZvciAtIG9ubHkgdXNlZCBpbiB0aGUgdHJlZSBtb2RlXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBleHBhbmRBbGw6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBTZWUgT3V0bGluZUZvciAgLSBmb3JtYXQgLSBvbmx5IHVzZWQgaW4gdGhlIHRyZWUgbW9kZVxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgb3V0bGluZUZvcm1hdDogTW9kZWxGb3JtYXQgPSAnZnJlZSc7XG5cbiAgICAvKipcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHB1c2hSb290U2VjdGlvbk9uTmV3TGluZTogYm9vbGVhbiA9IHRydWU7XG5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBvciBoaWRlIGV4cGFuc2lvbiBjb250cm9sIGZvciByb3cgZGV0YWlsIGNvbHVtbnMuIEV4cGFuc2lvbiBjb250cm9sIG1ha2VzIHNlbnNlIGZvclxuICAgICAqIHNpbXBsZSB0YWJsZSwgd2hlbiB1c2luZyB0aGlzIGluc2lkZSBvdXRsaW5lICh0cmVlIHRhYmxlKSwgaXRzIGRyaXZlbiBieSBvdXRsaW5lIGNvbnRyb2xcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dSb3dEZXRhaWxFeHBhbnNpb25Db250cm9sOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFNlZSBBV0RhdGFUYWJsZVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzaG93U2VsZWN0aW9uQ29sdW1uOiBib29sZWFuID0gdHJ1ZTtcblxuXG4gICAgLyoqXG4gICAgICogU2VlIEFXRGF0YVRhYmxlXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dTZWxlY3RBbGw6IGJvb2xlYW4gPSB0cnVlO1xuXG5cbiAgICAvKipcbiAgICAgKiBTaG93IG9yIGhpZGUgZ2xvYmFsIHNlYXJjaCB0ZXJtIGlucHV0IGZpZWxkIGluIHRoZSBoZWFkZXJcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dHbG9iYWxTZWFyY2g6IGJvb2xlYW4gPSB0cnVlO1xuXG5cbiAgICAvKipcbiAgICAgKiBJbiBjYXNlIGZyb3plbiBjb2x1bW4gYXJlIHVzaW5nIHdlIGNhbiBzcGVjaWZ5IG9uIGdsb2JhbCBsZXZlbCB0b3RhbCB3aWR0aCBvZiB0aGUgdGFibGUgdGhlXG4gICAgICogb3ZlcmZsb3dpbmcgY29udGVudCBvciB3aWR0aCBmb3IgZWFjaCBjb2x1bW4uXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzY3JvbGxXaWR0aDogYW55O1xuXG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIHJvdyByZW9yZGVyaW5nXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGRuZFJvd0VuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogRmlyZXMgZXZlbnQgdGhhdCBzb3J0aW5nIGlzIGVuYWJsZWQgZm9yIGNvbHVtbiBhbmQgd2UgdHJpZ2dlciBzb3J0aW5nXG4gICAgICpcbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBvblNvcnQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG5cbiAgICAvKipcbiAgICAgKiBCYXNlZCBvbiBzZWxlY3Rpb24gbW9kZSBpdCB0cmlnZ2VycyBldmVuXG4gICAgICpcbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBvblJvd0NsaWNrOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogV2hlbiBtdWx0aSBvciBzaW5nbGUgc2VsZWN0aW9uIG1vZGUgaXMgZW5hYmxlZCBpdCB3aWxsIHRyaWdnZXIgZXZlbnQgd2hlbiBjaGVja2JveCBvclxuICAgICAqIHJhZGlvIGJ1dHRvbnMgaXMgc2VsZWN0ZWRcbiAgICAgKlxuICAgICAqIHRvZG86IGltcGxlbWVudCBTaW5nbGVTZWxlY3Rpb25EVENvbHVtbiwgTXVsdGlTZWxlY3Rpb25EVENvbHVtbiB3aXRoIHRoZWlyIHJlbmRlcmVyc1xuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIG9uUm93U2VsZWN0aW9uQ2hhbmdlOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuXG4gICAgLyoqXG4gICAgICogV2hlbiBjZWxsIGJvZHkgc2VsZWN0aW9uIGNoYW5nZXMgd2UgZmlyZSBldmVudFxuICAgICAqXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgb25DZWxsQ2hhbmdlOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gY2VsbCBoZWFkZXIgc2VsZWN0aW9uIGNoYW5nZXMgd2UgZmlyZSBldmVudFxuICAgICAqXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgb25IZWFkZXJTZWxlY3Rpb246IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG5cbiAgICBAQ29udGVudENoaWxkKERUSGVhZGVyQ29tcG9uZW50MilcbiAgICBoZWFkZXI6IERUSGVhZGVyQ29tcG9uZW50MjtcblxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBjdXN0b20gdGVtcGxhdGUgdGhhdCBjYW4gYmUgaW1wbGVtZW50ZWQgYnkgYXBwbGljYXRpb24gdG8gc2hvdyB3aGVuIHRoZXJlIGFyZVxuICAgICAqIG5vIGRhdGEgaW4gdGhlIGRhdGFibGVcbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKCdub0RhdGFUZW1wbCcpXG4gICAgZW1wdHlNZXNzYWdlVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG5cbiAgICAvKipcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKlxuICAgICAqL1xuICAgIEBDb250ZW50Q2hpbGQoJ2R0SGVhZGVyJylcbiAgICBoZWFkZXJUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcblxuICAgIC8qKlxuICAgICAqIFNlZSBBV0RhdGFUYWJsZVxuICAgICAqL1xuICAgIEBDb250ZW50Q2hpbGQoJ2R0U3ViSGVhZGVyJylcbiAgICBzdWJIZWFkZXJUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcblxuICAgIC8qKlxuICAgICAqIFNlZSBBV0RhdGFUYWJsZVxuICAgICAqL1xuICAgIEBDb250ZW50Q2hpbGQoJ2R0Qm9keScpXG4gICAgYm9keVRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG5cbiAgICAvKipcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKCdoZWFkZXJGaWx0ZXInKVxuICAgIGhlYWRlckZpbHRlclRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0cyB1c2VkIERUQ29sdW1uIGluc2lkZSBkYXRhdGFibGUgYW5kIHRoZW4gdGhleSBhcmUgdXNlZCBpbnNpZGUgdGhlIHRlbXBsYXRlIHRvXG4gICAgICogaXRlcmF0ZSBvdmVyIGFuZCB1c2UgaXRzIHJlbmRlcmVyVGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBXaGVuIHdlIHdpbGwgYmUgZGVmaW5pbmcgbmV3IGNvbHVtbnMgaXRzIGltcG9ydGFudCB0aGF0IGl0IGNhbiBhbHNvIG1hdGNoIGFsbCB0aGVcbiAgICAgKiBpbmhlcml0ZWQgb25lcy4gc28gd2UgbmVlZCB0byBtYWtlIHN1cmUgd2UgZGVmaW5lIGEgcHJvdmlkZXIgdGhvc2UgdGhvc2UgY29sdW1ucyB0byBwb2ludFxuICAgICAqIHRvIHRoZSBEVENvbHVtbkNvbXBvbmVudFxuICAgICAqXG4gICAgICogZS5nLjpcbiAgICAgKlxuICAgICAqIHtwcm92aWRlOiBEVENvbHVtbkNvbXBvbmVudCwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gRGV0YWlsUm93Q29sdW1uKX1cbiAgICAgKlxuICAgICAqL1xuICAgIEBDb250ZW50Q2hpbGRyZW4oRFRDb2x1bW4yQ29tcG9uZW50KVxuICAgIGNvbHNRdWVyeTogUXVlcnlMaXN0PERUQ29sdW1uMkNvbXBvbmVudD47XG5cblxuICAgIC8qKlxuICAgICAqIFNlZSBBV0RhdGFUYWJsZVxuICAgICAqL1xuICAgIEBDb250ZW50Q2hpbGQoRFREZXRhaWxSb3dDb21wb25lbnQpXG4gICAgcm93RGV0YWlsQ29sdW1uOiBEVERldGFpbFJvd0NvbXBvbmVudDtcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBUcmlnZ2VycyB3aGVuIGl0ZW1zIGluIHRoZSBsaXN0IGFyZSB1cGRhdGVkXG4gICAgICpcbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICB2YWx1ZUNoYW5nZTogRXZlbnRFbWl0dGVyPGFueVtdPiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55W10+KCk7XG5cblxuICAgIEBIb3N0QmluZGluZygnY2xhc3MnKVxuICAgIGNsYXNzTGlzdDogc3RyaW5nID0gJ3ctZGF0YXRhYmxlICc7XG5cblxuICAgIC8qKlxuICAgICAqIEZvciBpbnRlcm5hbCB1c2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgZGF0YXNldCB0aGF0IGlzIGJlaW5nIHJlbmRlcmVkLiBTZXQgZnJvbSB0aGUgW2xpc3RdIGJpbmRpbmcgb3IgYnkgbGF6eSBsb2FkIGZyb21cbiAgICAgKiBkYXRhc291cmNlXG4gICAgICovXG4gICAgcHVibGljIGRhdGFUb1JlbmRlcjogYW55W107XG5cbiAgICAvKipcbiAgICAgKiBXZSBjb252ZXJ0IFF1ZXJ5TGlzdDxEVENvbHVtbjJDb21wb25lbnQ+IHRvIHRoaXMgYXJyYXkgZm9yIGVhc2llciBtYW5pcHVsYXRpb25cbiAgICAgKi9cbiAgICBwdWJsaWMgY29sdW1uczogRFRDb2x1bW4yQ29tcG9uZW50W107XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgc2Vjb25kYXJ5IGxpc3Qgb2YgY29sdW1ucyB3aGljaCBpcyB1c2VkIGluIGNhc2Ugd2UgaGF2ZSBoYXZlIGVuYWJsZWRcbiAgICAgKiBmcm96ZW4gY29sdW1ucy4gQ29sdW1ucyB0aGF0IGFyZSBtYXJrZWQgYXMgZnJvemVuIG5lZWRzIHRvIGJlIHBsYWNlZCBpbnRvIHNlcGFyYXRlIGFycmF5XG4gICAgICogdG8gYmUgcmVuZGVyZWQgd2F5IHRoYW4gcmVndWxhciBjb2x1bW5zIHdoaWNoIGFyZSBzdG9yZWQgaW4gdGhlIGNvbHVtbnMgYXJyYXkuXG4gICAgICovXG4gICAgcHVibGljIGZyb3plbkNvbHVtbnM6IERUQ29sdW1uMkNvbXBvbmVudFtdO1xuXG5cbiAgICAvKipcbiAgICAgKiAgSW5kaWNhdGVzIHRoYXQgY29sdW1ucyB3ZXJlIGluaXRpYWxlZCBBbHNvIHVzZWQgd2hlbiB3ZSBoaWRlIGFuZCBzaG93IGNvbHVtbiB0byB0cmlnZ2VyXG4gICAgICogIGNoYW5nZS5cbiAgICAgKlxuICAgICAqL1xuICAgIHB1YmxpYyBjb2x1bW5zQ2hhbmdlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc29ydENvbHVtbjogRFRDb2x1bW4yQ29tcG9uZW50O1xuXG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gY29sc1F1ZXJ5IGFuZCBpdHMgY2hhbmdlcyBzbyB3ZSBjYW4gbGF0ZXIgb24gcmVsZWFzZSB0aGUgc3Vic2NyaXB0aW9uXG4gICAgICovXG4gICAgY29sdW1uc1N1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuICAgIGluaXRpYWxpemVkOiBib29sZWFuO1xuXG5cbiAgICAvKipcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKi9cbiAgICBkZXRhaWxSb3dFeHBhbnNpb25TdGF0ZTogRGV0YWlsUm93RXhwYW5zaW9uU3RhdGU7XG5cblxuICAgIC8qKlxuICAgICAqIFNlZSBBV0RhdGFUYWJsZVxuICAgICAqL1xuICAgIG51bWJlck9mQ29sc0JlZm9yZURhdGE6IG51bWJlciA9IDA7XG5cblxuICAgIC8qKlxuICAgICAqIFNlZSBBV0RhdGFUYWJsZVxuICAgICAqL1xuICAgIHN0YXJ0T2ZGaXJzdERhdGFDb2x1bW46IG51bWJlciA9IDA7XG5cblxuICAgIC8qKlxuICAgICAqIFNlY3Rpb24gZm9yIHByb2dyYW1tYXRpY2FsbHkgaW5zdGFudGlhdGVkIGNvbHVtbnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIGxpc3QgaWYgYWRkaXRpb25hbFxuICAgICAqIHNwYW4gb3IgbG9naWMgaXMgbmVlZGVkLlxuICAgICAqXG4gICAgICogVG8gcHJvZ3JhbW1hdGljYWxseSBpbnNlcnQgYSBuZXcgY29sdW1uIGludG8gY29sdW1ucyBhcnJheSBsaWtlIGV4cGFuZG8gY29sdW1uIGZvciBkZXRhaWxcbiAgICAgKiByb3csIG9yIFNpbmdsZVNlbGVjdCwgTXVsdGlTZWxlY3QgY29sdW1uIHdoZW4gc2VsZWN0aW9uIGlzIGVuYWJsZWQgd2UgbmVlZCB0byB1c2VcbiAgICAgKiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgdG8gaW5zdGFudGlhdGUgYSBuZXcgY29tcG9uZW50LlxuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSByb3dEZXRhaWxFeHBhbmRDb2x1bW46IERURGV0YWlsUm93RXhwYW5kZXJDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBtdWx0aVNlbGVjdENvbHVtbjogRFRNdWx0aVNlbGVjdENvbHVtbkNvbXBvbmVudDtcbiAgICBwcml2YXRlIHNpbmdsZVNlbGVjdENvbHVtbjogRFRTaW5nbGVTZWxlY3RDb2x1bW5Db21wb25lbnQ7XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogSW4gY2FzZSBvZiBvdXRsaW5lIHRhYmxlIHdlIGFyZSBpbmplY3QgT3V0bGluZVN0YXRlIHdoaWNoIGlzIHByb3ZpZGVkIGluIHRoZSBEVCBjb21wb25lbnRcbiAgICAgKiBkZWZpbml0aW9uLiBUaGlzIGlzIHVzZWQgYnkgbmVzdGVkIG91dGxpbmVGb3IgY29tcG9uZW50IGl0IHNldCBpdHNlbGYgYXMgcmVmZXJlbmNlIGFuZFxuICAgICAqIGluaXRpYWxpemUgdGhlIHN0YXRlIHNvIGl0IGNhbiBiZSB1c2VkIGxhdGVyIG9uIGluc2lkZSBPdXRsaW5lQ29udHJvbFxuICAgICAqXG4gICAgICpcbiAgICAgKiBFYWNoIERhdGF0YWJsZSBpcyBwcmUtZGVmYXVsdGVkIHdpdGggaXRzIG93biB2ZXJzaW9uIG9mIERhdGFTb3VyY2Ugc28gYWxsIHRoZSBvYnNlcnZlcnNcbiAgICAgKiBpbnNpZGUgYXJlIHVuaXF1ZSBmb3IgdGhpcyBjb21wb25lbnRcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY6IEVudmlyb25tZW50LCBwdWJsaWMgZWw6IEVsZW1lbnRSZWYsXG4gICAgICAgICAgICAgICAgQEluamVjdChEQVRBX1NPVVJDRSkgcHJpdmF0ZSBfZGVmYXVsdERTOiBEVDJEYXRhU291cmNlLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBjaGFuZ2VEZXRlY3RvcjogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgICAgICAgICAgICAgcHVibGljIGZhY3RvcnlSZXNvbHZlcjogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBvdXRsaW5lU3RhdGU6IE91dGxpbmVTdGF0ZSxcbiAgICAgICAgICAgICAgICBwdWJsaWMgem9uZTogTmdab25lLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yKVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52KTtcblxuICAgICAgICB0aGlzLmRhdGFTb3VyY2UgPSB0aGlzLl9kZWZhdWx0RFM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgc3RhdGUgb3V0IHRvIGFwcGxpY2F0aW9uLiBDYW4gYmUgdXNlIGFzIHR3byB3YXkgYmluZGluZ3NcbiAgICAgKlxuICAgICAqIFsoc3RhdGUpXT1kdFN0YXRlKHMpXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGdldCBzdGF0ZSgpOiBhbnlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFTb3VyY2Uuc3RhdGU7XG4gICAgfVxuXG4gICAgc2V0IHN0YXRlKHZhbDogYW55KVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlLnN0YXRlID0gdmFsO1xuICAgIH1cblxuICAgIG5nT25Jbml0KClcbiAgICB7XG5cbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmxpc3QpICYmIGlzUHJlc2VudCh0aGlzLmRlc3RpbmF0aW9uQ2xhc3MpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBjYW5ub3QgdXNlIGJvdGggYmluZGluZ3MgW2xpc3RdIGFuZCBbZGVzdGluYXRpb25DbGFzc10hJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXRhaWxSb3dFeHBhbnNpb25TdGF0ZSA9IG5ldyBEZXRhaWxSb3dFeHBhbnNpb25TdGF0ZSh0aGlzKTtcblxuICAgICAgICAvLyBpbml0IGRlZmF1bHQgY29sdW1uc1xuICAgICAgICB0aGlzLnJvd0RldGFpbEV4cGFuZENvbHVtbiA9IHRoaXMuZmFjdG9yeVJlc29sdmVyXG4gICAgICAgICAgICAucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoRFREZXRhaWxSb3dFeHBhbmRlckNvbXBvbmVudCkuY3JlYXRlKHRoaXMuaW5qZWN0b3IpLmluc3RhbmNlO1xuXG5cbiAgICAgICAgdGhpcy5tdWx0aVNlbGVjdENvbHVtbiA9IHRoaXMuZmFjdG9yeVJlc29sdmVyXG4gICAgICAgICAgICAucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoRFRNdWx0aVNlbGVjdENvbHVtbkNvbXBvbmVudCkuY3JlYXRlKHRoaXMuaW5qZWN0b3IpLmluc3RhbmNlO1xuXG4gICAgICAgIHRoaXMuc2luZ2xlU2VsZWN0Q29sdW1uID0gdGhpcy5mYWN0b3J5UmVzb2x2ZXJcbiAgICAgICAgICAgIC5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShEVFNpbmdsZVNlbGVjdENvbHVtbkNvbXBvbmVudCkuY3JlYXRlKHRoaXMuaW5qZWN0b3IpLmluc3RhbmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgZGF0YSBhcmUgbm90IGRlZmVycmVkIGFuZCB3ZSBnZXQgbGlzdCBkaXJlY3RseSB0aGVuIGl0IGNyZWF0ZXMgRFMuIElmXG4gICAgICAgICAqIG5nT25DaGFuZ2VzIGlzIGNhbGxlZCBmaXJzdCB3ZSBwcm9wZXJseSBpbml0IERTIGFuZCBjbGVhbiB0aGlzLmxpc3RcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5kZXN0aW5hdGlvbkNsYXNzKSB8fCBpc1ByZXNlbnQodGhpcy5saXN0KSkge1xuICAgICAgICAgICAgdGhpcy5pbml0RGF0YXNvdXJjZSgpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhU291cmNlLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLmluaXREYXRhc291cmNlKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpbmNlIHdlIHdvcmsgd2l0aCByZWZlcmVuY2VzIGxldCdzIHBhc3MgY3JlYXRlZCBtYXAgaW5zaWRlIG91ciBzdGF0ZVxuICAgICAgICB0aGlzLm91dGxpbmVTdGF0ZS5leHBhbnNpb25TdGF0ZXMgPSB0aGlzLnN0YXRlLm91dGxpbmVTdGF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGRhdGEgYXJyaXZlcyBsYXRlciBtYXliZSBkdWUgdG8gUkVTVCBBUEkgbGF0ZW5jeSwgaW5pdGlhbGl6ZSBEUyBvbmx5IHdoZW4gd2UgaGF2ZSBhXG4gICAgICogZGF0YSwgb3RoZXJ3aXNlIGlmIGRhdGEgY2hhbmdlZCB0aHJ1IHRoZSBiaW5kaW5ncyBqdXN0IHRyaWdnZXIgZGF0YUNoYW5nZSBldmVudFxuICAgICAqXG4gICAgICovXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLm5nT25DaGFuZ2VzKGNoYW5nZXMpO1xuXG4gICAgICAgIGlmIChjaGFuZ2VzWydsaXN0J10gJiYgaXNQcmVzZW50KGNoYW5nZXNbJ2xpc3QnXS5jdXJyZW50VmFsdWUpXG4gICAgICAgICAgICAmJiAhdGhpcy5kYXRhU291cmNlLmluaXRpYWxpemVkKVxuICAgICAgICB7XG5cbiAgICAgICAgICAgIHRoaXMuaW5pdERhdGFzb3VyY2UoKTtcblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YVNvdXJjZS5pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlLmRhdGFQcm92aWRlci5kYXRhQ2hhbmdlcy5uZXh0KHRoaXMubGlzdCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpXG4gICAge1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBpbml0IGEgc3RhdGUgd2hlbiBkZXRhaWwgY29sdW1uIGlzIHByZXNlbnRcbiAgICAgICAgLy8gdG9kbzogbW92ZSB0aGlzIGluaXRpYWxpemF0aW9uIHRvIGRhdGFzb3VyY2VcbiAgICAgICAgdGhpcy5kZXRhaWxSb3dFeHBhbnNpb25TdGF0ZS5kZXRhaWxFeHBhbnNpb25FbmFibGVkID0gaXNQcmVzZW50KHRoaXMucm93RGV0YWlsQ29sdW1uKTtcblxuICAgICAgICB0aGlzLmluaXRDb2x1bW5zKCk7XG4gICAgICAgIHRoaXMuY29sdW1uc1N1YnNjcmlwdGlvbiA9IHRoaXMuY29sc1F1ZXJ5LmNoYW5nZXMuc3Vic2NyaWJlKF8gPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbml0Q29sdW1ucygpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbmdBZnRlclZpZXdJbml0KClcbiAgICB7XG4gICAgICAgIC8vIGFzc2lnbiBpdCBwcm9ncmFtYXRpY2FsbHkgYXMgd2Ugd2FudCB0byBoYXZlIGEgY29udGV4dCBmb3IgdGhlIGZpbHRlclxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMucm93RGV0YWlsQ29sdW1uKSAmJiBpc1ByZXNlbnQodGhpcy5vdXRsaW5lU3RhdGUub3V0bGluZUZvcikpIHtcbiAgICAgICAgICAgIHRoaXMub3V0bGluZVN0YXRlLm91dGxpbmVGb3IuZmlsdGVyT3V0ID0gdGhpcy5za2lwT3V0bGluZUl0ZW0uYmluZCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5vdXRsaW5lU3RhdGUub3V0bGluZUZvcikpIHtcbiAgICAgICAgICAgIC8vIHRoaXMub3V0bGluZVN0YXRlLm91dGxpbmVGb3IuY2hhbmdlRGV0ZWN0b3IuZGV0YWNoKCk7XG4gICAgICAgICAgICAvLyB0aGlzLm91dGxpbmVTdGF0ZS5vdXRsaW5lRm9yLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIG5nQWZ0ZXJWaWV3Q2hlY2tlZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jb2x1bW5zQ2hhbmdlZCAmJiB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQub2Zmc2V0UGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNvbHVtbnNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5oYXNGcm96ZW5Db2x1bW5zKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZnJvemVuQ29sdW1ucy5mb3JFYWNoKChjb2w6IERUQ29sdW1uMkNvbXBvbmVudCwgaW5kZXg6IG51bWJlcikgPT5cbiAgICAgICAgICAgICAgICBjb2wucG9zdEluaXRpYWxpemUoaW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucy5mb3JFYWNoKChjb2w6IERUQ29sdW1uMkNvbXBvbmVudCwgaW5kZXg6IG51bWJlcikgPT5cbiAgICAgICAgICAgICAgICBjb2wucG9zdEluaXRpYWxpemUoaW5kZXgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEtleSBlbnRyeSBtZXRob2QgdGhhdCBpbml0aWFsaXplZCBvdXIgY29sdW1ucy4gTGF0ZXIgb24gd2hlbiB3ZSB3aWxsIHN1cHBvcnQgc2VsZWN0aW9uIGFuZFxuICAgICAqIG11bHRpc2VsZWN0aW9uIHdlIHdpbGwgcHJvZ3JhbW1hdGljYWxseSBpbnN0YW50aWF0ZSBTaW5nbGVTZWxlY3Rpb24sIE11bHRpU2VsZWN0aW9uIGNvbHVtblxuICAgICAqIGNvbXBvbmVudHMgYW5kIGFkZCB0aGVtIHRvIHRoZSBsaXN0IHNvIHRoZXkgY2FuIGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogc28gdGhlIGlkZWEgaGVyZSBpczpcbiAgICAgKlxuICAgICAqIFdoZW4gRFQgY29tcG9uZW50IGluaXRpYWxpemUgYW5kIHdlIGFyZSBpbiBlZGl0aW5nIG1vZGUgYW5kIHdlIHN1cHBvcnQgU2luZ2xlL011bHRpIHNlbGVjdGlvblxuICAgICAqIHdlIHdpbGwgdXNlIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB0byBjcmVhdGUgY29tcG9uZW50IGFuZCBhZGQgaXQgYXMgZmlyc3QgaXRlbSB0byB0aGUgbGlzdFxuICAgICAqIGFuZCB0aGVuIGl0IHdpbGwgYmUgcmVuZGVyZWQganVzdCBsaWtlIGFueXRoaWduIGVsc2UuXG4gICAgICpcbiAgICAgKi9cbiAgICBpbml0Q29sdW1ucygpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmNvbHVtbnMgPSBbXTtcbiAgICAgICAgdGhpcy5mcm96ZW5Db2x1bW5zID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuZGV0YWlsUm93RXhwYW5zaW9uU3RhdGUuZGV0YWlsRXhwYW5zaW9uRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5pbml0RGV0YWlsQ29sdW1uRXhwYW5zaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzTGVhZGluZ1NlbGVjdENvbHVtbigpICYmIHRoaXMuc2VsZWN0aW9uTW9kZSA9PT0gJ211bHRpJykge1xuICAgICAgICAgICAgdGhpcy5tdWx0aVNlbGVjdENvbHVtbi5pbml0aWFsaXplKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5jb2x1bW5zLnB1c2godGhpcy5tdWx0aVNlbGVjdENvbHVtbik7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5oYXNMZWFkaW5nU2VsZWN0Q29sdW1uKCkgJiYgdGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnc2luZ2xlJykge1xuICAgICAgICAgICAgdGhpcy5zaW5nbGVTZWxlY3RDb2x1bW4uaW5pdGlhbGl6ZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucy5wdXNoKHRoaXMuc2luZ2xlU2VsZWN0Q29sdW1uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgZXhwYW5zaW9uIGNvbHVtbiB3aGVuIGRldGFpbCByb3cgaXMgZW5hYmxlZFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuZGV0YWlsUm93RXhwYW5zaW9uU3RhdGUuZGV0YWlsRXhwYW5zaW9uRW5hYmxlZCAmJiAhdGhpcy5pc091dGxpbmUoKSkge1xuICAgICAgICAgICAgdGhpcy5yb3dEZXRhaWxFeHBhbmRDb2x1bW4uaW5pdGlhbGl6ZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucy5wdXNoKHRoaXMucm93RGV0YWlsRXhwYW5kQ29sdW1uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29sc1F1ZXJ5XG4gICAgICAgICAgICAuZmlsdGVyKChjb2wxOiBEVENvbHVtbjJDb21wb25lbnQpID0+ICFjb2wxLmZyb3plbilcbiAgICAgICAgICAgIC5mb3JFYWNoKChjb2w6IERUQ29sdW1uMkNvbXBvbmVudCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb2wuaW5pdGlhbGl6ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMucHVzaChjb2wpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5pbml0RnJvemVuQ29sdW1ucygpO1xuICAgICAgICB0aGlzLmluaXRDb2x1bW5JbmZvKCk7XG4gICAgICAgIHRoaXMuY29sdW1uc0NoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGN1cnJlbnQgY29sdW1uIGlzIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlZFxuICAgICAqXG4gICAgICovXG4gICAgaXNJbnRlcm5hbENvbHVtbihjb2w6IERUQ29sdW1uMkNvbXBvbmVudCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBjb2wgaW5zdGFuY2VvZiBEVFNpbmdsZVNlbGVjdENvbHVtbkNvbXBvbmVudCB8fFxuICAgICAgICAgICAgY29sIGluc3RhbmNlb2YgRFRNdWx0aVNlbGVjdENvbHVtbkNvbXBvbmVudCB8fFxuICAgICAgICAgICAgY29sIGluc3RhbmNlb2YgRFREZXRhaWxSb3dFeHBhbmRlckNvbXBvbmVudDtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBuZXcgRGF0YXNvdXJjZSBiYXNlZCBvbiBwYXNzZWQgdmFsdWVzLiBJdCB0cmllcyB0byBpbml0aWFsaXplIERTIGZvciBmaXJzdCB0aW1lXG4gICAgICogaW5zaWRlIHRoZSBuZ0luaXQgYnV0IGluIGNhc2UgRGF0YSBhcnJpdmVzIGxhdGVyIG1heWJlIGR1ZSB0byBzb21lIFJFU1QgQVBJIGNhbGxzIHRoaXNcbiAgICAgKiBjYW4gYmUgdHJpZ2dlcmVkIGFsc28gZnJvbSBuZ09uQ2hhbmdlcy5cbiAgICAgKlxuICAgICAqL1xuICAgIGluaXREYXRhc291cmNlKGluaXRpYWxpemU6IGJvb2xlYW4gPSB0cnVlKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5zdGF0ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBEYXRhdGFibGUyU3RhdGUuY3JlYXRlKDAsIHRoaXMucGFnZVNpemUsIHRoaXMuZGlzcGxheVJvd1NpemUsXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsU29ydEtleSwgdGhpcy5zb3J0T3JkZXJpbmdGb3JTdHJpbmcodGhpcy5pbml0aWFsU29ydE9yZGVyKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmxpbWl0ID0gdGhpcy5zdGF0ZS5kaXNwbGF5TGltaXQgPSB0aGlzLmRpc3BsYXlSb3dTaXplO1xuICAgICAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmluaXRpYWxTb3J0S2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc29ydEtleSA9IHRoaXMuaW5pdGlhbFNvcnRLZXk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zb3J0T3JkZXIgPSB0aGlzLnNvcnRPcmRlcmluZ0ZvclN0cmluZyh0aGlzLmluaXRpYWxTb3J0T3JkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluaXRpYWxpemUpIHtcblxuICAgICAgICAgICAgbGV0IHFUeXBlID0gKHRoaXMuaXNPdXRsaW5lKCkgJiYgdGhpcy5vdXRsaW5lRm9ybWF0ID09PSAndHJlZScpID9cbiAgICAgICAgICAgICAgICBRdWVyeVR5cGUuRnVsbFRleHRPdXRsaW5lIDogUXVlcnlUeXBlLkZ1bGxUZXh0O1xuXG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2UuaW5pdCh7XG4gICAgICAgICAgICAgICAgb2JqOiBpc1ByZXNlbnQodGhpcy5kZXN0aW5hdGlvbkNsYXNzKSA/IHRoaXMuZGVzdGluYXRpb25DbGFzcyA6IHRoaXMubGlzdCxcbiAgICAgICAgICAgICAgICBxdWVyeVR5cGU6IHFUeXBlLFxuICAgICAgICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIG11bHRpc2VsZWN0OiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRhU291cmNlLmZldGNoKHRoaXMuc3RhdGUpO1xuXG4gICAgICAgIC8vIHJlc2V0IGxpc3QgdG8gbWFrZSBzdXJlIGl0IGNvbWVzIGZyb20gRGF0YVByb3ZpZGVyLCB3ZSB1c2UgbGlzdCAgdG8gaW5pdGlhbGl6ZVxuICAgICAgICB0aGlzLmxpc3QgPSBudWxsO1xuXG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIEVOVFJZIHBvaW50IGZvciB0aGUgREFUQSBDSEFOR0VTLiBBbGwgYWRkaXRpb24sIGVkaXRzLCBkZWxldGlvbiBlbmRzIHVwXG4gICAgICAgIC8vIGhlcmUuIFdlIGRvbnQgd29yayBkaXJlY3RseSB3aXRoIExJU1QuIEFueSBjaGFuZ2UgaXMgcmVhY3RpdmUgYW5kIGhlcmUgaXMgbGlzdGVuZXJcbiAgICAgICAgdGhpcy5kYXRhU291cmNlLm9wZW4oKS5zdWJzY3JpYmUoKGRhdGE6IGFueVtdKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpc3QoZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gZGV0YWlsUm93IGNvbHVtbiBpcyBwcmVzZW50IHdlIGluaXRpYWxpemUgYSBzdGF0ZSBob2xkaW5nIGluZm9ybWF0aW9uIHdoaWNoIGl0ZW0gaXNcbiAgICAgKiBleHBhbmRlZC5cbiAgICAgKlxuICAgICAqIHRvZG86IFRoaXMgaXMgdGVtcG9yYXJ5IGhlcmUgYW5kIG9uY2Ugd2Ugc3Vwb3J0IGxhenkgbG9hZGluZyBtb3ZlIHRoaXMgdG8gZGF0YXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEZvciBleGFtcGxlIGZvciBvdXRsaW5lIHRyZWUgdGFibGUgd2UgbmVlZCB0byBjb25uZWN0IGEgc3RhdGUgZnJvbSBvdXRsaW5lIHdpdGggYSBzdGF0ZSBpblxuICAgICAqIGhlcmUgYXMgd2UgYXJlIHVzaW5nIG91dGxpbmUgY29udHJvbCB0byBleHBhbmQgYW5kIGNvbGxhcHNlIGl0ZW1zXG4gICAgICovXG4gICAgaW5pdERldGFpbENvbHVtbkV4cGFuc2lvbigpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMucm93RGV0YWlsQ29sdW1uKSkge1xuICAgICAgICAgICAgdGhpcy5yb3dEZXRhaWxDb2x1bW4uaW5pdGlhbGl6ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRldGFpbFJvd0V4cGFuc2lvblN0YXRlLmRldGFpbEV4cGFuc2lvbkVuYWJsZWQgPSBpc1ByZXNlbnQodGhpcy5yb3dEZXRhaWxDb2x1bW4pICYmXG4gICAgICAgICAgICBCb29sZWFuV3JhcHBlci5pc1RydWUodGhpcy5zaG93Um93RGV0YWlsRXhwYW5zaW9uQ29udHJvbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgZXhlY3V0ZWQgYWZ0ZXIgd2UgaW5pdGlhbGl6ZSBhbGwgdGhlIGNvbHVtbnMgaW4gb3JkZXIgdG8gY2FsY3VsYXRlIGNvcnJlY3RcbiAgICAgKiBudW1iZXJzIHVzZWQgZm9yIGluZGVudGF0aW9uIHdoaWxlIHJlbmRlcmluZyBzZWxlY3Rpb24gY29sdW1ucyBhcyB3ZWxsIGFzIGRldGFpbCByb3cgY29sdW1ucy5cbiAgICAgKlxuICAgICAqIEhlcmUgd2UgbmVlZCB0byBiZSBhd2FyZSBob3cgbWFueSBjb2x1bW5zIHRvIHNwYW5cbiAgICAgKlxuICAgICAqL1xuICAgIGluaXRDb2x1bW5JbmZvKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMubnVtYmVyT2ZDb2xzQmVmb3JlRGF0YSA9IDA7XG5cbiAgICAgICAgdGhpcy5jb2x1bW5zLmZvckVhY2goKGNvbDogRFRDb2x1bW4yQ29tcG9uZW50KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWNvbC5pc1ZhbHVlQ29sdW1uKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm51bWJlck9mQ29sc0JlZm9yZURhdGErKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuaW5kZW50RGV0YWlsUm93KSB7XG4gICAgICAgICAgICB0aGlzLm51bWJlck9mQ29sc0JlZm9yZURhdGErKztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhcnRPZkZpcnN0RGF0YUNvbHVtbiA9IHRoaXMuY29sdW1ucy5sZW5ndGggLSB0aGlzLm51bWJlck9mQ29sc0JlZm9yZURhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VlIEFXRGF0YVRhYmxlXG4gICAgICpcbiAgICAgKi9cbiAgICBvbkNlbGxTZWxlY3Rpb25DaGFuZ2UoY2VsbDogYW55LCBjb2x1bW46IERUQ29sdW1uMkNvbXBvbmVudCwgaXRlbTogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uTW9kZSAhPT0gJ2NlbGwnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxvb2t1cEtleSA9IHtcbiAgICAgICAgICAgIGNvbDogY29sdW1uLmtleSB8fCBjb2x1bW4ubGFiZWwsXG4gICAgICAgICAgICBpdGVtOiBpdGVtXG4gICAgICAgIH07XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5zdGF0ZS5zZWxlY3Rpb24pICYmIHRoaXMuc3RhdGUuc2VsZWN0aW9uLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgbGV0IGZvdW5kSW5kZXggPSBMaXN0V3JhcHBlci5maW5kSW5kZXhDb21wbGV4KHRoaXMuc3RhdGUuc2VsZWN0aW9uLCBsb29rdXBLZXkpO1xuICAgICAgICAgICAgbGV0IGlzU2VsZWN0ZWQgPSBmb3VuZEluZGV4ICE9PSAtMTtcblxuICAgICAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGlvbiA9IHRoaXMuc3RhdGUuc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHZhbDogYW55LCBpbmRleDogbnVtYmVyKSA9PiBpbmRleCAhPT0gZm91bmRJbmRleCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0aW9uID0gWy4uLnRoaXMuc3RhdGUuc2VsZWN0aW9uLCBsb29rdXBLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3Rpb24gPSBbbG9va3VwS2V5XTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uQ2VsbENoYW5nZS5lbWl0KHRoaXMuc3RhdGUuc2VsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKlxuICAgICAqL1xuICAgIG9uSGVhZGVyU2VsZWN0aW9uQ2hhbmdlKGNlbGw6IGFueSwgY29sdW1uOiBEVENvbHVtbjJDb21wb25lbnQpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuc3RhdGUuaGVhZGVyU2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNIZWFkZXJTZWxlY3RlZChjb2x1bW4pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5oZWFkZXJTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmhlYWRlclNlbGVjdGlvbiA9IGNvbHVtbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaGVhZGVyU2VsZWN0aW9uID0gY29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25IZWFkZXJTZWxlY3Rpb24uZW1pdCh0aGlzLnN0YXRlLmhlYWRlclNlbGVjdGlvbik7XG4gICAgfVxuXG4gICAgb25IYW5kbGVSb3dDbGlja2VkKGV2ZW50OiBhbnksIGl0ZW06IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIHNwZWNpYWwgYWx0IGtleSBtb2RpZmllci4gV2hlbiB1c2VkIHdpdGggcm93cyBpdCBpbmRpY2F0ZXMgdGhlcmUgaXMgYSBEJkQgZW5hYmxlZFxuICAgICAgICBpZiAoZXZlbnQuYWx0S2V5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnbXVsdGknKSB7XG4gICAgICAgICAgICB0aGlzLm9uUm93VG9nZ2xlKGV2ZW50LCBpdGVtKTtcblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0aW9uTW9kZSA9PT0gJ3NpbmdsZScpIHtcbiAgICAgICAgICAgIHRoaXMub25Sb3dTZWxlY3QoZXZlbnQsIGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VlIEFXRGF0YVRhYmxlXG4gICAgICpcbiAgICAgKi9cbiAgICBvblJvd1RvZ2dsZShldmVudDogYW55LCBpdGVtOiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgcm93U2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuc3RhdGUuc2VsZWN0aW9uKSAmJiB0aGlzLnN0YXRlLnNlbGVjdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgZm91bmRJbmRleCA9IExpc3RXcmFwcGVyLmZpbmRJbmRleENvbXBsZXgodGhpcy5zdGF0ZS5zZWxlY3Rpb24sIGl0ZW0pO1xuICAgICAgICAgICAgbGV0IGlzU2VsZWN0ZWQgPSBmb3VuZEluZGV4ICE9PSAtMTtcblxuICAgICAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGlvbiA9IHRoaXMuc3RhdGUuc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHZhbDogYW55LCBpbmRleDogbnVtYmVyKSA9PiBpbmRleCAhPT0gZm91bmRJbmRleCk7XG5cbiAgICAgICAgICAgICAgICByb3dTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGlvbiA9IFsuLi50aGlzLnN0YXRlLnNlbGVjdGlvbiwgaXRlbV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGZvciB0aGUgb3V0bGluZSBnbyB1cCBhbmQgZG93biB0aGUgc3luYyB3aXRoIHRyZWVpdGVtc1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNPdXRsaW5lKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uSGFuZGxlT3V0bGluZVJvd1RvZ2dsZVRvQ2hpbGRyZW4oaXRlbSwgaXNTZWxlY3RlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vSGFuZGxlT3V0bGluZVJvd1RvZ2dsZVRvUGFyZW50KGl0ZW0sIGlzU2VsZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3Rpb24gPSBbaXRlbV07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzT3V0bGluZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkhhbmRsZU91dGxpbmVSb3dUb2dnbGVUb0NoaWxkcmVuKGl0ZW0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9IYW5kbGVPdXRsaW5lUm93VG9nZ2xlVG9QYXJlbnQoaXRlbSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vblJvd1NlbGVjdGlvbkNoYW5nZS5lbWl0KHtcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IHJvd1NlbGVjdGVkLFxuICAgICAgICAgICAgaXRlbTogdGhpcy5zdGF0ZS5zZWxlY3Rpb25cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VlIEFXRGF0YVRhYmxlXG4gICAgICpcbiAgICAgKi9cbiAgICBvblJvd1NlbGVjdChldmVudDogYW55LCBpdGVtOiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGlvbiA9IGl0ZW07XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIHRoaXMub25Sb3dTZWxlY3Rpb25DaGFuZ2UuZW1pdChpdGVtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKlxuICAgICAqL1xuICAgIG9uSGFuZGxlT3V0bGluZVJvd1RvZ2dsZVRvQ2hpbGRyZW4oY3VycmVudEl0ZW06IGFueSwgaXNTZWxlY3RlZDogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBjaGlsZHJlbkZvck5vZGUgPSB0aGlzLmNoaWxkcmVuLmFwcGx5KHRoaXMuY29udGV4dCwgW2N1cnJlbnRJdGVtXSkgfHwgW107XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuRm9yTm9kZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBJZiBpcyBzZWxlY3RlZCBjdXJyZW50bHkgdGhlbiB0b2dnbGUgdG8gb3RoZXIgc3RhdGVcbiAgICAgICAgICAgIGlmICghaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIC8vIHdoZW4gY2hlY2tpbmcgYWxsIGZyb20gcm9vdCwgZGVzZWxlY3QgY2hpbGRyZW4gYW5kIGFkZCBhbGxcbiAgICAgICAgICAgICAgICB0aGlzLm9uSGFuZGxlT3V0bGluZVJvd1RvZ2dsZVRvQ2hpbGRyZW4oY3VycmVudEl0ZW0sIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0aW9uID0gWy4uLnRoaXMuc3RhdGUuc2VsZWN0aW9uLCAuLi5jaGlsZHJlbkZvck5vZGVdO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBlYWNoIGNoaWxkXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgY2hpbGRyZW5Gb3JOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3VuZEluZGV4ID0gTGlzdFdyYXBwZXIuZmluZEluZGV4Q29tcGxleCh0aGlzLnN0YXRlLnNlbGVjdGlvbiwgY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGlvbiA9IHRoaXMuc3RhdGUuc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKCh2YWw6IGFueSwgaW5kZXg6IG51bWJlcikgPT4gaW5kZXggIT09IGZvdW5kSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYXBwbHkgdGhlIHNhbWUgZm9yIGNoaWxkcmVuIG9mIGNoaWxkcmVuXG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiBjaGlsZHJlbkZvck5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uSGFuZGxlT3V0bGluZVJvd1RvZ2dsZVRvQ2hpbGRyZW4oY2hpbGQsIGlzU2VsZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VlIEFXRGF0YVRhYmxlXG4gICAgICpcbiAgICAgKi9cbiAgICBvSGFuZGxlT3V0bGluZVJvd1RvZ2dsZVRvUGFyZW50KGN1cnJlbnRJdGVtOiBhbnksIGlzU2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgcGFyZW50ID0gY3VycmVudEl0ZW0uJCRwYXJlbnRJdGVtO1xuICAgICAgICBpZiAoaXNQcmVzZW50KHBhcmVudCkpIHtcbiAgICAgICAgICAgIGxldCBjaGlsZHJlbkZvck5vZGUgPSB0aGlzLmNoaWxkcmVuLmFwcGx5KHRoaXMuY29udGV4dCwgW3BhcmVudF0pIHx8IFtdO1xuXG4gICAgICAgICAgICBsZXQgYWxsU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgY2hpbGRyZW5Gb3JOb2RlKSB7XG4gICAgICAgICAgICAgICAgYWxsU2VsZWN0ZWQgPSBMaXN0V3JhcHBlci5maW5kSW5kZXhDb21wbGV4KHRoaXMuc3RhdGUuc2VsZWN0aW9uLCBjaGlsZCkgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICYmIGFsbFNlbGVjdGVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWxsU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3Rpb24ucHVzaChwYXJlbnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFsbFNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnRJbmRleCA9IExpc3RXcmFwcGVyLmZpbmRJbmRleENvbXBsZXgodGhpcy5zdGF0ZS5zZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGlvbiA9IHRoaXMuc3RhdGUuc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKCh2YWw6IGFueSwgaW5kZXg6IG51bWJlcikgPT4gaW5kZXggIT09IHBhcmVudEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9IYW5kbGVPdXRsaW5lUm93VG9nZ2xlVG9QYXJlbnQoY3VycmVudEl0ZW0uJCRwYXJlbnRJdGVtLCBpc1NlbGVjdGVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlZSBBV0RhdGFUYWJsZVxuICAgICAqXG4gICAgICovXG4gICAgb25EbkRSb3dEcm9wKG9yaWdQb3M6IG51bWJlciwgbmV3UG9zOiBudW1iZXIsIGRyb3BQb3M6IERyb3BQb3NpdGlvbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5kYXRhU291cmNlKSkge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0Ryb3BwaW5nIHJvdyAjOiAnLCBvcmlnUG9zICsgJyAnICsgZHJvcFBvcyArICcgcm93ICM6ICcgKyBuZXdQb3MpO1xuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlLnJlb3JkZXJSb3dzKG9yaWdQb3MsIG5ld1BvcywgZHJvcFBvcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKlxuICAgICAqL1xuICAgIG9uT3V0bGluZUV4cGFuZENoYW5nZShldmVudDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IGl0ZW0gPSBldmVudC5pdGVtO1xuXG4gICAgICAgIC8vIFdlIGRvbnQgcmVhbGx5IG5lZWQgdG8gc3RvcmUgYSBzdGF0ZSBmb3JtIG91dGxpbmUgbG9jYWxseSBhcyB3ZSBhcmUgdXNpbmcgdGhlIHNhbWUgb2JqZWN0XG4gICAgICAgIC8vIHJlZmVyZW5jZVxuICAgICAgICAvLyB0aGlzLnN0YXRlLm91dGxpbmVTdGF0ZSA9IHRoaXMub3V0bGluZVN0YXRlLmV4cGFuc2lvblN0YXRlcztcblxuICAgICAgICBpZiAodGhpcy5jYW5Vc2VGb3JEZXRhaWxSb3coaXRlbSkpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsUm93RXhwYW5zaW9uU3RhdGUudG9nZ2xlKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VlIEFXRGF0YVRhYmxlXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIHNvcnRTaW5nbGUoKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmxpc3QpICYmIGlzUHJlc2VudCh0aGlzLnNvcnRDb2x1bW4pKSB7XG5cbiAgICAgICAgICAgIGFzc2VydChpc1ByZXNlbnQodGhpcy5zb3J0Q29sdW1uLmtleSksICdJbnZhbGlkIGNvbHVtbiB0byBzb3J0Jyk7XG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2Uuc29ydCh0aGlzLnNvcnRDb2x1bW4ua2V5LCB0aGlzLnNvcnRDb2x1bW4uc29ydE9yZGVyKTtcblxuICAgICAgICAgICAgdGhpcy5vblNvcnQuZW1pdCh7XG4gICAgICAgICAgICAgICAgZmllbGQ6IHRoaXMuc29ydENvbHVtbi5rZXksXG4gICAgICAgICAgICAgICAgb3JkZXI6IHRoaXMuc29ydENvbHVtbi5zb3J0T3JkZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VlIEFXRGF0YVRhYmxlXG4gICAgICpcbiAgICAgKi9cbiAgICBoYW5kbGVEYXRhQ2hhbmdlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNvcnRLZXkgfHwgdGhpcy5zb3J0Q29sdW1uKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc29ydENvbHVtbiAmJiB0aGlzLmNvbHVtbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvcnRDb2x1bW4gPSB0aGlzLmNvbHVtbnMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgY29sID0+IGNvbC5rZXkgPT09IHRoaXMuc3RhdGUuc29ydEtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZURhdGFUb1JlbmRlcigpO1xuICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlLmVtaXQodGhpcy5saXN0KTtcbiAgICB9XG5cbiAgICB1cGRhdGVEYXRhVG9SZW5kZXIoZGF0YXNvdXJjZT86IGFueSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YVRvUmVuZGVyID0gZGF0YXNvdXJjZSB8fCB0aGlzLmxpc3Q7XG5cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5jaGlsZHJlbikgJiYgaXNQcmVzZW50KHRoaXMuZGF0YVRvUmVuZGVyKVxuICAgICAgICAgICAgJiYgdGhpcy5kYXRhVG9SZW5kZXIubGVuZ3RoID4gMCAmJiBpc091dGxpbmVOb2RlKHRoaXMuZGF0YVRvUmVuZGVyWzBdKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vdXRsaW5lRm9ybWF0ID0gJ3RyZWUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zb3J0Q29sdW1uID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGRhdGVEYXRhVG9SZW5kZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKi9cbiAgICBpc0hlYWRlclNlbGVjdGVkKGl0ZW06IERUQ29sdW1uMkNvbXBvbmVudCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuc3RhdGUuaGVhZGVyU2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvbE1hdGNoZWQgPSBpdGVtLmtleSB8fCBpdGVtLmxhYmVsO1xuICAgICAgICBsZXQgY3VycmVudENvbCA9IHRoaXMuc3RhdGUuaGVhZGVyU2VsZWN0aW9uLmtleSB8fCB0aGlzLnN0YXRlLmhlYWRlclNlbGVjdGlvbi5sYWJlbDtcbiAgICAgICAgcmV0dXJuIGNvbE1hdGNoZWQgPT09IGN1cnJlbnRDb2w7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKlxuICAgICAqL1xuICAgIGlzQm9keUNlbGxTZWxlY3RlZChjb2x1bW46IERUQ29sdW1uMkNvbXBvbmVudCwgaXRlbTogYW55KTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgbGV0IGxvb2t1cEtleSA9IHtcbiAgICAgICAgICAgIGNvbDogY29sdW1uLmtleSB8fCBjb2x1bW4ubGFiZWwsXG4gICAgICAgICAgICBpdGVtOiBpdGVtXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpc1ByZXNlbnQodGhpcy5zdGF0ZS5zZWxlY3Rpb24pICYmXG4gICAgICAgICAgICBMaXN0V3JhcHBlci5maW5kSW5kZXhDb21wbGV4KHRoaXMuc3RhdGUuc2VsZWN0aW9uLCBsb29rdXBLZXkpICE9PSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgU2VlIEFXRGF0YVRhYmxlXG4gICAgICpcbiAgICAgKi9cbiAgICBpc1Jvd1NlbGVjdGVkKGl0ZW06IGFueSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmhhc0xlYWRpbmdTZWxlY3RDb2x1bW4oKSAmJiBpc1ByZXNlbnQodGhpcy5zdGF0ZS5zZWxlY3Rpb24pKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk1vZGUgPT09ICdtdWx0aScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTGlzdFdyYXBwZXIuZmluZEluZGV4Q29tcGxleCh0aGlzLnN0YXRlLnNlbGVjdGlvbiwgaXRlbSkgIT09IC0xO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0aW9uTW9kZSA9PT0gJ3NpbmdsZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXF1YWxzKHRoaXMuc3RhdGUuc2VsZWN0aW9uLCBpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBEbyB3ZSBoYXZlIGRhdGEgdG8gcmVuZGVyIFVzZWQgaW5zaWRlIHRlbXBsYXRlIHRvIHRlbGwgaWYgd2Ugc2hvdWxkIHVzZSB0aGUgTm9EYXRhIHRlbXBsYXRlXG4gICAgICpcbiAgICAgKi9cbiAgICBpc0VtcHR5KClcbiAgICB7XG4gICAgICAgIHJldHVybiBpc0JsYW5rKHRoaXMuZGF0YVRvUmVuZGVyKSB8fCAodGhpcy5kYXRhVG9SZW5kZXIubGVuZ3RoID09PSAwKTtcbiAgICB9XG5cbiAgICBoYXNGcm96ZW5Db2x1bW5zKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBpc1ByZXNlbnQodGhpcy5mcm96ZW5Db2x1bW5zKSAmJiB0aGlzLmZyb3plbkNvbHVtbnMubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKi9cbiAgICBoYXNJbnZpc2libGVTZWxlY3Rpb25Db2x1bW4oKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzTGVhZGluZ1NlbGVjdENvbHVtbigpICYmICF0aGlzLnNob3dTZWxlY3Rpb25Db2x1bW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBTZWUgQVdEYXRhVGFibGVcbiAgICAgKlxuICAgICAqL1xuICAgIGhhc0xlYWRpbmdTZWxlY3RDb2x1bW4oKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uTW9kZSAhPT0gJ25vbmUnICYmIHRoaXMuc2VsZWN0aW9uTW9kZSAhPT0gJ2NlbGwnO1xuICAgIH1cblxuICAgIHZpc2libGVDb2x1bW5zKCk6IERUQ29sdW1uMkNvbXBvbmVudFtdXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2x1bW5zID8gdGhpcy5jb2x1bW5zLmZpbHRlcihjID0+IGMuaXNWaXNpYmxlKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlZSBBV0RhdGFUYWJsZVxuICAgICAqXG4gICAgICovXG4gICAgc29ydE9yZGVyaW5nRm9yU3RyaW5nKGRpcmVjdGlvbjogc3RyaW5nKTogbnVtYmVyXG4gICAge1xuICAgICAgICBpZiAoaXNCbGFuayhkaXJlY3Rpb24pIHx8IGRpcmVjdGlvbiA9PT0gJ2FzY2VuZGluZycpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQmxhbmsoZGlyZWN0aW9uKSB8fCBkaXJlY3Rpb24gPT09ICdkZXNjZW5kaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvZG86IGxvZyBiYWQga2V5XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIHNvcnRPcmRlcmluZ0Zvck51bWJlcihkaXJlY3Rpb246IG51bWJlcik6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsoZGlyZWN0aW9uKSB8fCBkaXJlY3Rpb24gPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiAnYXNjZW5kaW5nJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0JsYW5rKGRpcmVjdGlvbikgfHwgZGlyZWN0aW9uID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuICdkZXNjZW5kaW5nJztcbiAgICAgICAgfVxuICAgICAgICAvLyB0b2RvOiBsb2cgYmFkIGtleVxuICAgICAgICByZXR1cm4gJ2FzY2VuZGluZyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VlIEFXRGF0YVRhYmxlXG4gICAgICpcbiAgICAgKi9cbiAgICB0b2dnbGVBbGxDb2x1bW5zKGV2ZW50OiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgY3VycmVudEl0ZW1zID0gdGhpcy5kYXRhVG9SZW5kZXIgfHwgW107XG4gICAgICAgIGxldCBzZWxlY3RlZE9iamVjdCA9IHRoaXMuc3RhdGUuc2VsZWN0aW9uIHx8IFtdO1xuICAgICAgICBpZiAoc2VsZWN0ZWRPYmplY3QubGVuZ3RoID49IGN1cnJlbnRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0aW9uID0gW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGlvbiA9IFtdO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3Rpb24gPSBbLi4uY3VycmVudEl0ZW1zXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogU2VlIEFXRGF0YVRhYmxlXG4gICAgICpcbiAgICAgKi9cbiAgICBpc1RvZ2dsZUFsbENvbHVtblNlbGVjdGVkKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGxldCBjdXJyZW50SXRlbXMgPSB0aGlzLmRhdGFUb1JlbmRlciB8fCBbXTtcbiAgICAgICAgbGV0IHNlbGVjdGVkT2JqZWN0ID0gdGhpcy5zdGF0ZS5zZWxlY3Rpb24gfHwgW107XG5cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRJdGVtcy5sZW5ndGggPiAwICYmIHNlbGVjdGVkT2JqZWN0Lmxlbmd0aCA+PSBjdXJyZW50SXRlbXMubGVuZ3RoO1xuICAgIH1cblxuICAgIGlzVG9nZ2xlQWxsQ29sdW1uRGlzYWJsZWQoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgbGV0IGN1cnJlbnRJdGVtcyA9IHRoaXMuZGF0YVRvUmVuZGVyIHx8IFtdO1xuXG4gICAgICAgIHJldHVybiBjdXJyZW50SXRlbXMubGVuZ3RoID09PSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogVXNlZCBieSB0ZW1wbGF0ZSB0byBkZWNpZGUgaWYgd2UgbmVlZCB0byByZW5kZXIgRGV0YWlsUm93IHRlbXBsYXRlLiBXZSBuZWVkIHRvIGhhdmVcbiAgICAgKiBEZXRhaWxSb3cgQ29udGVudENoaWxkIGFuZCB1c2luZyBEZXRhaWxSb3cgY29tcG9uZW50IFtpc1Zpc2libGVGbl0gZnVuY3Rpb24gYmluZGluZyB3ZVxuICAgICAqIGNoZWNrIGlmIHRoZSBpdGVtIHRoYXQgaXMgYWJvdXQgdG8gYmUgcmVuZGVyZWQgaXMgZWxpZ2libGUgZm9yIGRldGFpbCByb3dcbiAgICAgKlxuICAgICAqL1xuICAgIHNob3dEZXRhaWxDb2x1bW4oaXRlbTogYW55KTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuVXNlRm9yRGV0YWlsUm93KGl0ZW0pICYmIHRoaXMuZGV0YWlsUm93RXhwYW5zaW9uU3RhdGUuaXNFeHBhbmRlZChpdGVtKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogU2VlIEFXRGF0YVRhYmxlXG4gICAgICpcbiAgICAgKi9cbiAgICBpc091dGxpbmUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLmNoaWxkcmVuKSB8fCB0aGlzLm91dGxpbmVGb3JtYXQgPT09ICd0cmVlJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFdoZW4gZGVhbGluZyB3aXRoIGRldGFpbCBjb2x1bW4gKGRldGFpbCByb3cpIGFuZCBvdXRsaW5lIGFsbCB0b2dldGhlciB3ZSBuZWVkIGhhdmUgYVxuICAgICAqIG1lY2hhbmlzbSB0byB0ZWxsIHRvIHRoZSBvdXRsaW5lIFwiZG9uJ3QgcmVuZGVyIHRoZSBuZXh0IGxldmVsIG9mIGl0ZW1zXCIgYW5kIHVzZSBkZXRhaWwgcm93LlxuICAgICAqIFNvIGNlcnRhaW4gaXRlbSB0eXBlIG5lZWRzIHRvIGJlIHNraXBwZWQuXG4gICAgICpcbiAgICAgKiBUaGUgd2F5IHdlIHNraXAgdGhvc2UgaXRlbSBpcyB3ZSB1c2UgaXNWaXNpYmxlRm4gY29uZGl0aW9uIG9mIHRoZSBkZXRhaWwgcm93IGFuZCBsb29rIGFoZWFkXG4gICAgICogaWYgd2Ugc2hvdWxkIHNraXAgbmV4dCBsZXZlbC5cbiAgICAgKlxuICAgICAqL1xuICAgIHNraXBPdXRsaW5lSXRlbShpdGVtOiBhbnkpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW5Vc2VGb3JEZXRhaWxSb3coaXRlbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBTZWUgQVdEYVRhYmxlXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXRWYWx1ZShkYXRhOiBhbnksIGZpZWxkOiBzdHJpbmcpOiBhbnlcbiAgICB7XG4gICAgICAgIHJldHVybiBGaWVsZFBhdGguZ2V0RmllbGRWYWx1ZShkYXRhLCBmaWVsZCk7XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgc3VwZXIubmdPbkRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuY29sdW1uc1N1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb2x1bW5zU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlcyBzdXJlIHRoYXQgd2UgYWxzbyBpbmNsdWRlIHByb2dyYW1tYXRpYyBjb2x1bW4gaWYgcHJlc2VudC4gTW92ZSB0aGVtIHRvIHRoZSBjb3JyZWN0XG4gICAgICogYXJyYXlcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgaW5pdEZyb3plbkNvbHVtbnMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5jb2xzUXVlcnlcbiAgICAgICAgICAgIC5maWx0ZXIoKGNvbDE6IERUQ29sdW1uMkNvbXBvbmVudCkgPT4gY29sMS5mcm96ZW4pXG4gICAgICAgICAgICAuZm9yRWFjaCgoY29sOiBEVENvbHVtbjJDb21wb25lbnQpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29sLmluaXRpYWxpemUodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm96ZW5Db2x1bW5zLnB1c2goY29sKTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuZnJvemVuQ29sdW1ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBmaW5kIGxhc3QgaW5kZXggb2YgY29sdW1uIHRoYXQgaXMgaW50ZXJuYWwgLyBwcm9ncmFtbWF0aWNcblxuICAgICAgICAgICAgbGV0IGxhc3RJbnggPSB0aGlzLmNvbHVtbnMuc2xpY2UoKVxuICAgICAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgICAgICAgICAuZmluZEluZGV4KChjb2w6IERUQ29sdW1uMkNvbXBvbmVudCkgPT4gdGhpcy5pc0ludGVybmFsQ29sdW1uKGNvbCkpO1xuXG4gICAgICAgICAgICBpZiAobGFzdElueCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsZXQgaWR4ID0gdGhpcy5jb2x1bW5zLmxlbmd0aCAtIDEgLSBsYXN0SW54O1xuICAgICAgICAgICAgICAgIGxldCBpbnRlcm5hbENvbHMgPSB0aGlzLmNvbHVtbnMuc3BsaWNlKDAsIGlkeCArIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvemVuQ29sdW1ucyA9IFsuLi5pbnRlcm5hbENvbHMsIC4uLnRoaXMuZnJvemVuQ29sdW1uc107XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGhhc1ZhbGlkQ29scyA9IHRoaXMuY29sdW1uc1xuICAgICAgICAgICAgICAgIC5maW5kSW5kZXgoKGNvbDogRFRDb2x1bW4yQ29tcG9uZW50KSA9PiBpc0JsYW5rKGNvbC53aWR0aCkpID09PSAtMTtcblxuICAgICAgICAgICAgYXNzZXJ0KGhhc1ZhbGlkQ29scyB8fCBpc1ByZXNlbnQodGhpcy5zY3JvbGxXaWR0aCksXG4gICAgICAgICAgICAgICAgJ1doZW4gdXNpbmcgW2Zyb3plbl0gYmluZGluZyB5b3UgbmVlZCBzcGVjaWZ5IFt3aWR0aF0gZm9yIGVhY2ggJyArXG4gICAgICAgICAgICAgICAgJ2NvbHVtbiBvciBbc2Nyb2xsV2lkdGhdIG9uIGRhdGF0YWJsZSEnKTtcblxuXG4gICAgICAgICAgICBhc3NlcnQoaXNCbGFuayh0aGlzLnJvd0RldGFpbENvbHVtbiksXG4gICAgICAgICAgICAgICAgJ1lvdSBjYW5ub3QgY29tYmluZSBhdy1kdC1kZXRhaWwtY29sdW1uIHdpdGggZnJvemVuIGNvbHVtbnMhJyk7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgY3VycmVudCBpbW11dGFibGUgbGlzdCBhbmQgdHJpZ2dlciBjaGFuZ2UgZGV0ZWN0aW9uLiBOZWVkIHRvIHdyYXAgaXQgd2l0aFxuICAgICAqIHNldFRpbWVvdXQgYXMgdGhlIGNoYW5nZSBjYW4gZWFzaWx5IGNvbWUgYWZ0ZXIgdmlldyBjaGVja2VkIGFuZCB0aGlzIHdvdWxkIHJlc3VsdCBzb21lIGVycm9yc1xuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSB1cGRhdGVMaXN0KG5ld0xpc3Q6IGFueVtdKTogdm9pZFxuICAgIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxpc3QgPSBuZXdMaXN0O1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVEYXRhQ2hhbmdlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2FuVXNlRm9yRGV0YWlsUm93KGl0ZW06IGFueSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBpc1ByZXNlbnQodGhpcy5yb3dEZXRhaWxDb2x1bW4pICYmXG4gICAgICAgICAgICAoPERURGV0YWlsUm93Q29tcG9uZW50PnRoaXMucm93RGV0YWlsQ29sdW1uKS5zaG93RGV0YWlsUm93KGl0ZW0pO1xuICAgIH1cbn1cblxuXG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtcbiAgICBBZnRlclZpZXdDaGVja2VkLFxuICAgIEFmdGVyVmlld0luaXQsXG4gICAgQ29tcG9uZW50LFxuICAgIENvbnRlbnRDaGlsZCxcbiAgICBFbGVtZW50UmVmLFxuICAgIGZvcndhcmRSZWYsXG4gICAgSW5qZWN0LFxuICAgIElucHV0LFxuICAgIFBMQVRGT1JNX0lELFxuICAgIFJlbmRlcmVyMixcbiAgICBUZW1wbGF0ZVJlZixcbiAgICBWaWV3Q2hpbGQsXG4gICAgVmlld0VuY2Fwc3VsYXRpb25cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2Fzc2VydCwgRW52aXJvbm1lbnQsIGlzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0RhdGF0YWJsZTJDb21wb25lbnR9IGZyb20gJy4uL2RhdGF0YWJsZTIuY29tcG9uZW50JztcbmltcG9ydCB7QmFzZUNvbXBvbmVudH0gZnJvbSAnLi4vLi4vLi4vY29yZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQge29mLCBTdWJqZWN0LCBTdWJzY3JpcHRpb259IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtkZWJvdW5jZVRpbWUsIGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBzd2l0Y2hNYXB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7aXNQbGF0Zm9ybUJyb3dzZXJ9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge0luZmluaXRlU2Nyb2xsQ29tcG9uZW50fSBmcm9tICcuLi8uLi8uLi9jb3JlL2luZml0ZS1zY3JvbGwvaW5maXRlLXNjcm9sbC5jb21wb25lbnQnO1xuaW1wb3J0IHtEb21VdGlsc1NlcnZpY2V9IGZyb20gJy4uLy4uLy4uL2NvcmUvZG9tLXV0aWxzLnNlcnZpY2UnO1xuaW1wb3J0IHtEVENvbHVtbjJDb21wb25lbnR9IGZyb20gJy4uL2NvbHVtbi9kdC1jb2x1bW4uY29tcG9uZW50JztcblxuXG4vKipcbiAqIFBsZWFzZSBzZWUgZGF0YXRhYmxlIGZvciBtb3JlIGRldGFpbCBkZXNjcmlwdGlvbi4gQnV0IHRoZSBtYWluIGdvYWwgb2YgdGhpcyB3cmFwcGVyIHRvIHJlbW92ZVxuICogYWxsIHRoZSBjb21tb24gc3Vycm91bmRpbmcgcGFydHMgYXJvdW5kIHRoZSBkYXRhdGFibGUgYW5kIG1ha2Ugc3VyZSBEVCBjYW4gZm9jdXMgb25seSBhY3R1YWxcbiAqIGhlYWRlciBhbmQgYm9keSBzdHJ1Y3R1cmVcbiAqXG4gKiBJdCBpcyBleHBlY3RlZCB0aGF0IHdyYXBwZXIgYWxzbyBwcm92aWRlcyBzb21lIGNvZGUgZm9yIHRoZSBzbGlkaW5nIHVwIHBhbmVsIGNvbnRhaW5pbmdcbiAqIGJ1dHRvbnMgYW5kIG90aGVyIGFjdGlvbnMgdGhhdCB3aWxsIGJlIHVzZWQgZHVyaW5nIGVkaXRpbmdcbiAqXG4gKlxuICogVG9kbzogRXh0cmFjdCB0aGUgZXhwYW5kIGxvZ2ljIG91dCBpbnRvIHNvbWUgZGlyZWN0aXZlIG9yIGNvbXBvbmVudCBvciBqdXN0IGEgY2xhc3NcbiAqXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctZHQtd3JhcHBlcicsXG4gICAgdGVtcGxhdGVVcmw6ICd0YWJsZS13cmFwcGVyLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsndGFibGUtd3JhcHBlci5jb21wb25lbnQuc2NzcyddLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcblxufSlcbmV4cG9ydCBjbGFzcyBEVFdyYXBwZXIgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgQWZ0ZXJWaWV3Q2hlY2tlZFxue1xuXG4gICAgLyoqXG4gICAgICogQ29sb3IgdGhhdCBpcyB1c2VkIGJ5IGZ1bGwgc2NyZWVuIGRpdiBvdmVybGF5IHRvIGNyZWF0ZSBleHBhbmRpbmcgZWZmZWN0IHdoaWNoIG5lZWRzIHRvIGhhdmVcbiAgICAgKiBsaXR0bGUgdGVudDtcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgZXhwYW5kQ29sb3JGcm9tOiBzdHJpbmcgPSAnI2YzZjNmMyc7XG5cblxuICAgIC8qKlxuICAgICAqIENvbG9yIHRoYXQgaXMgdXNlZCB0byBzZXQgYWZ0ZXIgd2UgYXJlIGluIHRoZSBmdWxsIHNjcmVlbiBzbyBvdXIgb3ZlcmxheSBkaXYgaGlkZSBldmVyeXRoaW5nXG4gICAgICogb24gdGhlIHBhZ2VcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgZXhwYW5kQ29sb3JUbzogc3RyaW5nID0gJyNGRkZGRkYnO1xuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFRhYmxlIGhlYWRpbmcgYXJlYSBvZmZlcnMgZGV2ZWxvcGVyIHRvIGNvbXBsZXRlbHkgb3ZlcnJpZGUgdGhlIHRvcCBiYXIgd2hlcmUgd2UgaGF2ZSBmaWx0ZXJzXG4gICAgICogYW5kIG90aGVycyBhY3Rpb25zLlxuICAgICAqXG4gICAgICovXG4gICAgQENvbnRlbnRDaGlsZCgnaGVhZGluZ0FyZWEnKVxuICAgIGhlYWRpbmc6IFRlbXBsYXRlUmVmPGFueT47XG5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGFibGUgaGVhZGVycyBhbmQgd3JhcHMgdGhlbSB3aXRoaW4gdGhlYWQgdGFnXG4gICAgICovXG4gICAgQENvbnRlbnRDaGlsZCgnaGVhZGVyUm93cycpXG4gICAgaGVhZGVyUm93czogVGVtcGxhdGVSZWY8YW55PjtcblxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0YWJsZSBib2R5XG4gICAgICovXG4gICAgQENvbnRlbnRDaGlsZCgnYm9keVJvd3MnKVxuICAgIGJvZHlSb3dzOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2FtZSBhcyBoZWFkaW5nIHRlbXBsYXRlLiBXZSBuZWVkIHRvIHJlbW92ZSB0aGlzIGRlcGVuZGVuY3kgb24gcHJpbWVORyBzbyBmYXIgaXQgaXMgdXNpbmdcbiAgICAgKiBwLWZvb3RlclxuICAgICAqL1xuICAgIEBDb250ZW50Q2hpbGQoJ2Zvb3RlckFyZWEnKVxuICAgIGZvb3RlcjogVGVtcGxhdGVSZWY8YW55PjtcblxuXG4gICAgLyoqXG4gICAgICogRGl2IHVzZWQgdG8gbWFrZSB0aGUgZnVsbCBzY3JlZW4gZXhwYW5zaW9uIGVmZmVjdFxuICAgICAqL1xuICAgIEBWaWV3Q2hpbGQoJ2R0RnVsbFNjcmVlbk92ZXJsYXknKVxuICAgIGR0RnVsbFNjcmVlbk92ZXJsYXk6IEVsZW1lbnRSZWY7XG5cblxuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byBpbmZpdGUgc2Nyb2xsLiBXZSBhcmUgdXNpbmcgdGhpcyB0byB0cmlnZ2VyIGxvYWRpbmcgZmluaXNoIGV2ZW50IHNvIHdlIGNhblxuICAgICAqIGhpZGUgbG9hZGluZyBhbmltYXRpb25cbiAgICAgKi9cbiAgICBAVmlld0NoaWxkKCdpbmZpbml0ZVNjcm9sbCcpXG4gICAgaW5maW5pdGVTY3JvbGw6IEluZmluaXRlU2Nyb2xsQ29tcG9uZW50O1xuXG5cbiAgICAvKipcbiAgICAgKiBJbiBvcmRlciB0byBkZWJvdW5jZSB0aGUgdHlwaW5nIHdlIG5lZWQgdG8gdXNlIHN1YmplY3RcbiAgICAgKlxuICAgICAqL1xuICAgIHNlYXJjaFRlcm1zID0gbmV3IFN1YmplY3Q8c3RyaW5nPigpO1xuXG5cbiAgICAvKipcbiAgICAgKiAgU3BlY2lmaWVzIGlmIHdlIGFyZSBpbiB2aWV3aW5nL2VkaXRpbmcgbW9kZSB0aGF0IGNhbiBicm93c2Ugd2hvbGUgZGF0YXNldCBsYXppbHlcbiAgICAgKlxuICAgICAqL1xuICAgIGlzRnVsbFNjcmVlbk1vZGUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRlbGxzIGlmIHdlIGNhbiBzdXBwb3J0IGZ1bGwgc2NyZWVuIG1vZGUgLSBvbmx5IGF2YWlsYWJsZSBmb3IgdGhlIGJyb3dzZXJcbiAgICAgKlxuICAgICAqL1xuICAgIHN1cHBvcnRGdWxsU2NyZWVuOiBib29sZWFuID0gdHJ1ZTtcbiAgICBxdWVyeVN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuICAgIGxvYWRpbmdTdWI6IFN1YnNjcmlwdGlvbjtcbiAgICAvKipcbiAgICAgKiAgU2F2ZXMgb3JpZ2luYWwgYm91bmRpbmcgcmVjdCBjb29yZGluYXRlcyBiZWZvcmUgd2UgZXhwYW5kIHRoZSBEVCB0byBmdWxsIHNjcmVlblxuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBkdEJvdW5kaW5nQ2xpZW50UmVjdDogYW55O1xuICAgIC8qKlxuICAgICAqIFJlbWVtYmVycyBvcmlnaW5hbCBzY3JvbGwgcG9zaXRpb24gYmVmb3JlIHdlIHN3aXRjaCB0byBmdWxsIHNjcmVlbiBtb2RlXG4gICAgICovXG4gICAgcHJpdmF0ZSBvcmlnaW5hbFNjcm9sbFBvc2l0aW9uOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZW52OiBFbnZpcm9ubWVudCxcbiAgICAgICAgICAgICAgICBwcml2YXRlIHJlbmRlcjogUmVuZGVyZXIyLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgdGhpc0VsZW1lbnQ6IEVsZW1lbnRSZWYsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBkb21VdGlsczogRG9tVXRpbHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIEBJbmplY3QoUExBVEZPUk1fSUQpIHByaXZhdGUgcGxhdGZvcm1JZDogT2JqZWN0LFxuICAgICAgICAgICAgICAgIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBEYXRhdGFibGUyQ29tcG9uZW50KSlcbiAgICAgICAgICAgICAgICBwdWJsaWMgZHQ6IERhdGF0YWJsZTJDb21wb25lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuICAgIH1cblxuXG4gICAgbmdPbkluaXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcblxuICAgICAgICB0aGlzLnF1ZXJ5U3Vic2NyaXB0aW9uID0gdGhpcy5zZWFyY2hUZXJtcy5waXBlKFxuICAgICAgICAgICAgLy8gd2FpdCAzMDBtcyBhZnRlciBlYWNoIGtleXN0cm9rZSBiZWZvcmUgY29uc2lkZXJpbmcgdGhlIHRlcm1cbiAgICAgICAgICAgIGRlYm91bmNlVGltZSgzMDApLFxuXG4gICAgICAgICAgICAvLyBpZ25vcmUgbmV3IHRlcm0gaWYgc2FtZSBhcyBwcmV2aW91cyB0ZXJtXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKHRlcm06IHN0cmluZykgPT4gb2YodGVybSkpXG4gICAgICAgICkuc3Vic2NyaWJlKCh0ZXJtOiBhbnkpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodGVybSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR0LmRhdGFTb3VyY2UuZmluZCh0ZXJtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5sb2FkaW5nU3ViID0gdGhpcy5kdC52YWx1ZUNoYW5nZVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoZGF0YTogYW55KSA9PiB0aGlzLmxvYWRpbmdGaW5pc2hlZCgpKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgYWxsIGNvbHVtbnMgbWFya2VkIGFzIGZyb3plbiBhbmQgcmV0cmlldmUgYSB3aWR0aCBzbyB3ZSBjYW4gdXBkYXRlXG4gICAgICogcGFyZW50IGRpdlxuICAgICAqXG4gICAgICovXG4gICAgY2FsY3VsYXRlRnJvemVuV2lkdGgoKTogbnVtYmVyXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuZHQuaGFzRnJvemVuQ29sdW1ucygpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmV2lkdGggPSAwO1xuICAgICAgICB0aGlzLmR0LmZyb3plbkNvbHVtbnMuZm9yRWFjaCgoY29sOiBEVENvbHVtbjJDb21wb25lbnQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChjb2wubWF4V2lkdGhQeCA+IDApIHtcbiAgICAgICAgICAgICAgICBmV2lkdGggKz0gY29sLndpZGVzdENlbGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZXaWR0aCArPSBwYXJzZUludChjb2wud2lkdGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZldpZHRoO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogV2hlbiBoYXZpbmcgdHdvIHNlcGFyYXRlIHRhYmxlcyB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IHJvd3Mgb2YgdGhlIHRhYmxlcyBhcmUgYWxpZ25lZC5cbiAgICAgKlxuICAgICAqIFRoZXJlZm9yZSB0aGlzIG1ldGhvZCB0YWtlcyBmaXJzdCBjb2x1bW4gZnJvbSBlYWNoIHRhYmxlIHJlYWQgdGhlIGhlaWdodCBvZiB0aGUgcm93cyBhbmQgc2V0XG4gICAgICogdGhlIG1heCBoZWlnaHQgdG8gYm90aCByb3dzLlxuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICBhbGlnblRhYmxlc0hlaWdodHMoZnJvemVuVmlldzogYW55LCB1bkZyb3plblZpZXc6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGFzc2VydChpc1ByZXNlbnQoZnJvemVuVmlldykgJiYgaXNQcmVzZW50KGZyb3plblZpZXcpLFxuICAgICAgICAgICAgJ0NhbnQgYWxpZ24gdGFibGUgdmlld3MgYXMgb25lIG9mIHRoZSB2aWV3IGlzIHVuZGVmaW5lZCcpO1xuXG4gICAgICAgIGxldCBmcm96ZW5Sb3dzOiBhbnlbXSA9IGZyb3plblZpZXcucXVlcnlTZWxlY3RvckFsbCgndGFibGUgdHInKTtcbiAgICAgICAgbGV0IHVuRnJvemVuUm93czogYW55W10gPSB1bkZyb3plblZpZXcucXVlcnlTZWxlY3RvckFsbCgndGFibGUgdHInKTtcblxuICAgICAgICBhc3NlcnQoZnJvemVuUm93cy5sZW5ndGggPT09IHVuRnJvemVuUm93cy5sZW5ndGgsXG4gICAgICAgICAgICAnRnJvemVuIENvbHVtbjogVHdvIHRhYmxlcyBkb2VzIG5vdCBtdWNoIScpO1xuXG4gICAgICAgIEFycmF5LmZyb20oZnJvemVuUm93cykuZm9yRWFjaCgoZnJvemVuOiBhbnksIGluZGV4OiBudW1iZXIpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBoID0gTWF0aC5tYXgoZnJvemVuLm9mZnNldEhlaWdodCwgdW5Gcm96ZW5Sb3dzW2luZGV4XS5vZmZzZXRIZWlnaHQpO1xuICAgICAgICAgICAgZnJvemVuLnN0eWxlLmhlaWdodCA9IGggKyAncHgnO1xuICAgICAgICAgICAgdW5Gcm96ZW5Sb3dzW2luZGV4XS5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4JztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuaW5pdEZ1bGxTY3JlZW4oKTtcbiAgICB9XG5cblxuICAgIG5nQWZ0ZXJWaWV3Q2hlY2tlZCgpOiB2b2lkXG4gICAge1xuXG4gICAgICAgIGlmICh0aGlzLmR0Lmhhc0Zyb3plbkNvbHVtbnMoKSkge1xuICAgICAgICAgICAgbGV0IGZyb3plblZpZXcgPSB0aGlzLnRoaXNFbGVtZW50Lm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignLmR0LWJvZHktZnJvemVuJyk7XG4gICAgICAgICAgICBsZXQgdW5Gcm96ZW5WaWV3ID0gdGhpcy50aGlzRWxlbWVudC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kdC1ib2R5LXVuZnJvemVuJyk7XG5cbiAgICAgICAgICAgIGxldCBmcm96ZW5XaWR0aCA9IHRoaXMuY2FsY3VsYXRlRnJvemVuV2lkdGgoKTtcblxuICAgICAgICAgICAgZnJvemVuVmlldy5zdHlsZS53aWR0aCA9IGZyb3plbldpZHRoICsgJ3B4JztcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodW5Gcm96ZW5WaWV3KSkge1xuICAgICAgICAgICAgICAgIC8vIGluY2x1ZGUgYm9yZGVyIGFuZCBjcmVhdGUgaW5kZW50IGVmZmVjdCBieSBoYXZpbmcgMXB4IHdoaXRlIHNwYWNlXG4gICAgICAgICAgICAgICAgdW5Gcm96ZW5WaWV3LnN0eWxlLmxlZnQgPSAoZnJvemVuV2lkdGggKyAyKSArICdweCc7XG4gICAgICAgICAgICAgICAgdW5Gcm96ZW5WaWV3LnN0eWxlLndpZHRoID0gdW5Gcm96ZW5WaWV3LnBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGhcbiAgICAgICAgICAgICAgICAgICAgLSBmcm96ZW5WaWV3Lm9mZnNldFdpZHRoICsgJ3B4JztcblxuICAgICAgICAgICAgICAgIHRoaXMuYWxpZ25UYWJsZXNIZWlnaHRzKGZyb3plblZpZXcsIHVuRnJvemVuVmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5uZ09uRGVzdHJveSgpO1xuXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5xdWVyeVN1YnNjcmlwdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMucXVlcnlTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5sb2FkaW5nU3ViKSkge1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEZVTEwgU0NSRUVOIE1PREUgbWV0aG9kc1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBXaGVuIGZ1bGxzY3JlZW4gZnVuY3Rpb25hbGl0eSBpcyBlbmFibGVkIHRoaXMgbWV0aG9kIHN3aXRjaGVzIGJldHdlZW4gbm9ybWwgYW5kIGZ1bGwgc2NyZWVuXG4gICAgICogbW9kZVxuICAgICAqXG4gICAgICovXG4gICAgdG9nZ2xlRnVsbFNjcmVlbihldmVudDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaXNGdWxsU2NyZWVuTW9kZSkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZUZ1bGxTY3JlZW4oZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vcGVuRnVsbFNjcmVlbihldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUbyBwdXNoIHRoaXMgY29tcG9uZW50IHRvIGZ1bGwgc2NyZWVuIG1vZGUgb3IgbWF5YmUgZnVsbCBwYWdlIG1vZGUgd2UgbmVlZCBydW4gZm9sbG93aW5nOlxuICAgICAqXG4gICAgICogIC0gRXhlY3V0ZSBleHBhbmQgdHJhbnNmb3JtYXRpb24sIHdoZXJlIHdlIGhhdmUgYWRkaXRpb25hbCBvdmVybGF5IGRpdiB0aGF0IHdlIHNsb3dseSBleHBhbmRcbiAgICAgKiAgYW5kIHRoaXMgY3JlYXRlcyBpbXByZXNzaW9uIHRoZSBEVCBpcyBleHBhbmRpbmdcbiAgICAgKlxuICAgICAqICAtIGFwcGx5IGZ1bGwtc2NyZWVuIGNsYXNzIG9uIHRvcCBob3N0IGVsZW1lbnQgIC0gaW4gdGhpcyBjYXNlIGl0cyBEYXRhVGFibGUgdG8gc3dpdGNoXG4gICAgICogIHRvIGFic29sdXRlIHBvc2l0aW9uaW5nXG4gICAgICpcbiAgICAgKiAgLSBtYWtlIHN1cmUgd2UgYXJlIHNjcm9sbGVkIGFsbCB0aGUgd2F5IHVwXG4gICAgICpcbiAgICAgKiAgLSBoaWRlIGFsbCB0aGUgZWxlbWVudHMgb24gdGhlIHBhZ2Ugc28gdGhlaXIgZGltZW5zaW9uIGRvbid0IGludGVyZmVyZSB3aXRoIHRoaXMgdGFibGUuXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIG9wZW5GdWxsU2NyZWVuKGV2ZW50OiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmlzRnVsbFNjcmVlbk1vZGUgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMucnVuRXhwYW5kRWZmZWN0KCk7XG4gICAgICAgIHRoaXMub3JpZ2luYWxTY3JvbGxQb3NpdGlvbiA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgICAgd2luZG93LnNjcm9sbCgwLCAwKTtcbiAgICAgICAgdGhpcy50b2dnbGVGdWxsU2NyZWVuT25EVCh0cnVlKTtcblxuXG4gICAgICAgIC8vIG1hcmsgbXkgZWxlbWVudCBpbiB0aGUgcGF0aCB0aGF0IG5lZWRzIHRvIHN0YXlcbiAgICAgICAgbGV0IHBhcmVudE5vZGUgPSB0aGlzLnRoaXNFbGVtZW50Lm5hdGl2ZUVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgd2hpbGUgKGlzUHJlc2VudChwYXJlbnROb2RlKSAmJiBwYXJlbnROb2RlLnRhZ05hbWUgIT09ICdCT0RZJykge1xuICAgICAgICAgICAgcGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCd1LWZ1bGwtc2NyZWVuLWVsZW1lbnQnKTtcbiAgICAgICAgICAgIHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oaWRlTm9uRnVsbFNjcmVlbkVsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG5cbiAgICAgICAgdGhpcy5kdC5zdGF0ZS5saW1pdCA9IE1hdGgucm91bmQodGhpcy5jYWxjdWxhdGVMaW1pdCgpKTtcbiAgICAgICAgdGhpcy5kdC5kYXRhU291cmNlLmZldGNoKHRoaXMuZHQuc3RhdGUpO1xuXG4gICAgICAgIC8vIG9uY2UgbG9hZGVkIHNldCBiYWNrIGNvcnJlY3QgcGFnZSBzaXplIHdlIHVzZSB3aGVuIGxvYWRpbmcgZGF0YVxuICAgICAgICB0aGlzLmR0LnN0YXRlLmxpbWl0ID0gdGhpcy5kdC5wYWdlU2l6ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFRoZSBzYW1lIGxpa2UgYWJvdmUgbWV0aG9kIChvcGVuRnVsbFNjcmVlbikgYnV0IGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBjbG9zZUZ1bGxTY3JlZW4oZXZlbnQ6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuaXNGdWxsU2NyZWVuTW9kZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuc2hvd05vbkZ1bGxTY3JlZW5FbGVtZW50KCk7XG4gICAgICAgIHRoaXMucnVuQ29sbGFwc2VFZmZlY3QoKTtcbiAgICAgICAgdGhpcy50b2dnbGVGdWxsU2NyZWVuT25EVChmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5kdC5kYXRhU291cmNlLnN0YXRlLmxpbWl0ID0gdGhpcy5kdC5kYXRhU291cmNlLnN0YXRlLmRpc3BsYXlMaW1pdDtcbiAgICAgICAgdGhpcy5kdC5kYXRhU291cmNlLnN0YXRlLm9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuZHQuZGF0YVNvdXJjZS5mZXRjaCh0aGlzLmR0LmRhdGFTb3VyY2Uuc3RhdGUpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbCgwLCB0aGlzLm9yaWdpbmFsU2Nyb2xsUG9zaXRpb24pO1xuICAgICAgICB9LCAzMDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgc2V0IG9mIHNldCBvZiBjc3MgcHJvcGVydGllcyB0byBtYWtlIHRoZSBEVCBtYWluIGNvbXBvbmVudCBvbiB0aGUgcGFnZSBleHBhbmQgdG9cbiAgICAgKiBmdWxsIHBhZ2UgbW9kZSBhbmQgYmFja1xuICAgICAqXG4gICAgICogV2Ugd2FudCB0byBtYWtlIGl0IHdpdGggbGl0dGxlIGRlbGF5IHRvIGxldCBvdGhlciBhbmltYXRpb24gZmluaXNoXG4gICAgICovXG4gICAgdG9nZ2xlRnVsbFNjcmVlbk9uRFQoZnVsbFNjcmVlbjogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZHQuZWwubmF0aXZlRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZnVsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHQuY2xhc3NMaXN0ICs9ICdkdC1mdWxsLXNjcmVlbic7XG4gICAgICAgICAgICAgICAgdGhpcy5kdC5lbC5uYXRpdmVFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAxO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZHQuY2xhc3NMaXN0ID0gdGhpcy5kdC5jbGFzc0xpc3QucmVwbGFjZSgnZHQtZnVsbC1zY3JlZW4nLFxuICAgICAgICAgICAgICAgICAgICAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5kdC5lbC5uYXRpdmVFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAyMDApO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlzdGVuIGZvciBpbmZpbml0ZSBzY3JvbGwgZXZlbnQgYW5kIHJlcXVlc3QgbmV3IGRhdGEgZnJvbSBkYXRhIHNvdXJjZVxuICAgICAqXG4gICAgICovXG4gICAgb25MYXp5TG9hZChldmVudDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKGV2ZW50LmlzTG9hZCkge1xuICAgICAgICAgICAgdGhpcy5kdC5zdGF0ZS5vZmZzZXQgPSBldmVudC5vZmZzZXQ7XG4gICAgICAgICAgICB0aGlzLmR0LmRhdGFTb3VyY2UuZmV0Y2godGhpcy5kdC5zdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGF0YVByb3ZpZGVyID0gdGhpcy5kdC5kYXRhU291cmNlLmRhdGFQcm92aWRlcjtcbiAgICAgICAgICAgIGxldCBkYXRhID0gZGF0YVByb3ZpZGVyLmRhdGFDaGFuZ2VzLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBkYXRhUHJvdmlkZXIuZGF0YUNoYW5nZXMubmV4dChkYXRhLnNsaWNlKDAsIGV2ZW50Lm9mZnNldCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbmltYXRpb24gZWZmZWN0IHRvIG1ha2UgaXQgZmVlbCBsaWtlIHRoZSBlbGVtZW50IChpbiB0aGlzIGNhc2UgRFQpIGlzIGV4cGFuZGluZ1xuICAgICAqIGZyb20gdGhlIG1pZGRsZSB0byB0aGUgZnVsbCBwYWdlIG1vZGUuXG4gICAgICpcbiAgICAgKiBXZSB0YWtlIHRoZSBkaW1lbnNpb24gb2YgdGhlIHRhYmxlIHRoZW4gaXQgaXMgc2NhbGVkIHNsb3dseSB0byB0aGUgZnVsbCBwYWdlXG4gICAgICovXG4gICAgcHJpdmF0ZSBydW5FeHBhbmRFZmZlY3QoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kdEJvdW5kaW5nQ2xpZW50UmVjdCA9IHRoaXMudGhpc0VsZW1lbnQubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoKTtcbiAgICAgICAgdGhpcy5kdEZ1bGxTY3JlZW5PdmVybGF5Lm5hdGl2ZUVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5leHBhbmRDb2xvckZyb207XG4gICAgICAgIHRoaXMuZHRGdWxsU2NyZWVuT3ZlcmxheS5uYXRpdmVFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtYXRpb24odHJ1ZSk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmR0RnVsbFNjcmVlbk92ZXJsYXkubmF0aXZlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmV4cGFuZENvbG9yVG87XG4gICAgICAgIH0sIDMwMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgdHJhbnNmb3JtYXRpb24gYW5kIHNjYWxlIHRoZSBoZWxwZXIgZGl2IChvdmVybGF5KSBkb3duIHRvIG1ha2UgaXQgbG9vayBsaWtlXG4gICAgICogaXQgY29sbGFwc2VzXG4gICAgICovXG4gICAgcHJpdmF0ZSBydW5Db2xsYXBzZUVmZmVjdCgpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoKTtcbiAgICAgICAgdGhpcy5hcHBseVRyYW5zZm9ybWF0aW9uKGZhbHNlKTtcblxuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KCk7XG4gICAgICAgICAgICB0aGlzLmR0RnVsbFNjcmVlbk92ZXJsYXkubmF0aXZlRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMDtcblxuICAgICAgICB9LCAyMDApO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KHRoaXMuZHRCb3VuZGluZ0NsaWVudFJlY3QubGVmdCwgdGhpcy5kdEJvdW5kaW5nQ2xpZW50UmVjdC50b3AsIDAsXG4gICAgICAgICAgICAgICAgMCk7XG4gICAgICAgIH0sIDQwMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogREZTICAtIHRvIGdvIHRocnUgYWxsIHRoZSBlbGVtZW50IHVuZGVyIEJPRFkgYW5kIHJlbW92ZSB0aGVtIGZyb20gdGhlIHBhZ2UuXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGhpZGVOb25GdWxsU2NyZWVuRWxlbWVudChwYXJlbnRFbGVtZW50OiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy50aGlzRWxlbWVudC5uYXRpdmVFbGVtZW50LnBhcmVudE5vZGUgPT09IHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyZW50RWxlbWVudC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBwYXJlbnRFbGVtZW50LmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKHRoaXMubmVlZFRyYXZlcnNlRG93bihlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZU5vbkZ1bGxTY3JlZW5FbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZHQtZnVsbC1zY3JlZW4nKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndS1mcy1lbGVtZW50LW91dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHV0IGFsbCB0aGUgZWxlbWVudCB0aGF0IHdlcmUgcHJldmlvdXNseSByZW1vdmVkIGJ5IGhpZGVOb25GdWxsU2NyZWVuRWxlbWVudCgpIGJhY2tcbiAgICAgKi9cbiAgICBwcml2YXRlIHNob3dOb25GdWxsU2NyZWVuRWxlbWVudCgpOiB2b2lkXG4gICAge1xuICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy51LWZzLWVsZW1lbnQtb3V0JykpXG4gICAgICAgICAgICAuZm9yRWFjaCgoZWxlbTogYW55KSA9PiBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3UtZnMtZWxlbWVudC1vdXQnKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQEludGVybmFsXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIG5lZWRUcmF2ZXJzZURvd24oZWxlbWVudDogYW55KTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudChlbGVtZW50KSAmJiBlbGVtZW50LnRhZ05hbWUgIT09ICdTQ1JJUFQnICYmXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygndS1mdWxsLXNjcmVlbi1lbGVtZW50JykgJiZcbiAgICAgICAgICAgICFlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZHQtZnVsbC1zY3JlZW4nKTtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gd2UgZW50ZXIgZnVsbCBzY3JlZW4gL3BhZ2UgbW9kZSB3aGVuIG5lZWQgdG8gY2FsY3VsYXRlIGhvdyBtYW55IHJvd3MgdG8gbG9hZCBpbml0aWFsbHlcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgY2FsY3VsYXRlTGltaXQoKTogbnVtYmVyXG4gICAge1xuICAgICAgICBsZXQgYnJvd3NlckggPSB0aGlzLmRvbVV0aWxzLmJyb3dzZXJEaW1lbnRpb25zKCkuaGVpZ2h0O1xuICAgICAgICBsZXQgcm93SCA9IHRoaXMuZHQuZWwubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCd0Ym9keSB0cjpmaXJzdC1jaGlsZCcpLm9mZnNldEhlaWdodDtcblxuICAgICAgICByZXR1cm4gKGlzUHJlc2VudChyb3dIKSAmJiByb3dIID4gMCkgPyAoYnJvd3NlckggLyByb3dIKSArIDIwIDogNTA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQEludGVybmFsXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIHVwZGF0ZUVsZW1lbnQobDogbnVtYmVyID0gdGhpcy5kdEJvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0OiBudW1iZXIgPSB0aGlzLmR0Qm91bmRpbmdDbGllbnRSZWN0LnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdzogbnVtYmVyID0gdGhpcy5kdEJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaDogbnVtYmVyID0gdGhpcy5kdEJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmR0RnVsbFNjcmVlbk92ZXJsYXkubmF0aXZlRWxlbWVudC5zdHlsZS5sZWZ0ID0gbCArICdweCc7XG4gICAgICAgIHRoaXMuZHRGdWxsU2NyZWVuT3ZlcmxheS5uYXRpdmVFbGVtZW50LnN0eWxlLnRvcCA9IHQgKyAncHgnO1xuICAgICAgICB0aGlzLmR0RnVsbFNjcmVlbk92ZXJsYXkubmF0aXZlRWxlbWVudC5zdHlsZS53aWR0aCA9IHcgKyAncHgnO1xuICAgICAgICB0aGlzLmR0RnVsbFNjcmVlbk92ZXJsYXkubmF0aXZlRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBASW50ZXJuYWxcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgYXBwbHlUcmFuc2Zvcm1hdGlvbihleHBhbmQ6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgeCwgeSwgdHgsIHR5O1xuICAgICAgICBpZiAoZXhwYW5kKSB7XG4gICAgICAgICAgICB4ID0gd2luZG93LmlubmVyV2lkdGggLyB0aGlzLmR0Qm91bmRpbmdDbGllbnRSZWN0LndpZHRoO1xuICAgICAgICAgICAgeSA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHRoaXMuZHRCb3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0O1xuICAgICAgICAgICAgdHggPSAod2luZG93LmlubmVyV2lkdGggLyAyIC0gdGhpcy5kdEJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aCAvIDJcbiAgICAgICAgICAgICAgICAtIHRoaXMuZHRCb3VuZGluZ0NsaWVudFJlY3QubGVmdCkgLyB4O1xuICAgICAgICAgICAgdHkgPSAod2luZG93LmlubmVySGVpZ2h0IC8gMiAtIHRoaXMuZHRCb3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0IC8gMlxuICAgICAgICAgICAgICAgIC0gdGhpcy5kdEJvdW5kaW5nQ2xpZW50UmVjdC50b3ApIC8geTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeCA9IDE7XG4gICAgICAgICAgICB5ID0gMTtcbiAgICAgICAgICAgIHR4ID0gdGhpcy5kdEJvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0O1xuICAgICAgICAgICAgdHkgPSB0aGlzLmR0Qm91bmRpbmdDbGllbnRSZWN0LnRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHRGdWxsU2NyZWVuT3ZlcmxheS5uYXRpdmVFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9XG4gICAgICAgICAgICAnc2NhbGVYKCcgKyB4ICsgJykgc2NhbGVZKCcgKyB5ICsgJykgdHJhbnNsYXRlM2QoJyArICh0eCkgKyAncHgsICcgKyAodHkpICsgJ3B4LCAwcHgpJztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIElORklOSVRFIFNDUk9MTElORyBNRVRIT0RTXG4gICAgICovXG5cbiAgICBwcml2YXRlIGluaXRGdWxsU2NyZWVuKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgICAgICAgdGhpcy5zdXBwb3J0RnVsbFNjcmVlbiA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuYm9keSwgdGhpcy5kdEZ1bGxTY3JlZW5PdmVybGF5Lm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gbG9hZGluZyBpcyBmaW5pc2hlZCBtYXJrIGxvYWRpbmcgaWNvbiBpcyBkb25lIHNvIHdlIGNhbiBoaWRlIGl0LiBJIGFtIHVzaW5nIGxpdHRsZVxuICAgICAqIGRlbGF5IHRvIG1ha2UgdGhlIGFuaW1hdGlvbiB2aXNpYmxlXG4gICAgICovXG4gICAgcHJpdmF0ZSBsb2FkaW5nRmluaXNoZWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmluZmluaXRlU2Nyb2xsKSkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmluZmluaXRlU2Nyb2xsLmNvbXBsZXRlKCksIDIwMCk7XG5cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7QWZ0ZXJWaWV3SW5pdCwgRGlyZWN0aXZlLCBFbGVtZW50UmVmLCBJbnB1dCwgT25Jbml0LCBSZW5kZXJlcjJ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtEVENvbHVtbjJDb21wb25lbnR9IGZyb20gJy4uL2NvbHVtbi9kdC1jb2x1bW4uY29tcG9uZW50JztcbmltcG9ydCB7aXNQcmVzZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcblxuLyoqXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgaXMgcmVzcG9uc2libGUgZm9yIGNoZWNraW5nIGFuZCBzZXR0aW5nIHRoZSB3aWRlc3QgY29udGVudCB3aWR0aCBvbnRvXG4gKiBDb2x1bW4gY29tcG9uZW50IGFzIHRoZSB3aWRlc3RDZWxsIHByb3BlcnR5LlxuICpcbiAqIFdlIHVzZSB0aGlzIGRpcmVjdGl2ZSBpbnNpZGUgZHQtY29sdW1uLmNvbXBvbmVudCB0byBzdG9yZSBhIGN1cnJlbnQgd2lkdGggZm9yIGVhY2ggdGQsdGhcbiAqXG4gKlxuICovXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogJ1tkdE1heFdpZHRoXSdcbn0pXG5leHBvcnQgY2xhc3MgU2V0Q2VsbE1heFdpZHRoRGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0XG57XG5cbiAgICBASW5wdXQoKVxuICAgIGR0TWF4V2lkdGg6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZWxlbWVudDogRWxlbWVudFJlZixcbiAgICAgICAgICAgICAgICBwcml2YXRlIHJlbmRlcjogUmVuZGVyZXIyLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgdGQ6IERUQ29sdW1uMkNvbXBvbmVudClcbiAgICB7XG4gICAgfVxuXG5cbiAgICBuZ09uSW5pdCgpOiB2b2lkXG4gICAge1xuXG4gICAgfVxuXG4gICAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdDZWxsIE1heCBXaWR0aDogJyArIHRoaXMuZHRNYXhXaWR0aCwgdGhpcy5kdE1heFdpZHRoID4gMCk7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5kdE1heFdpZHRoKSAmJiB0aGlzLmR0TWF4V2lkdGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgaW5saW5lRGF0YSA9IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kdC1jb2wtY2VsbC1kYXRhJyk7XG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KGlubGluZURhdGEpKSB7XG4gICAgICAgICAgICAgICAgaW5saW5lRGF0YS5zdHlsZS53aGl0ZVNwYWNlID0gJ25vd3JhcCc7XG4gICAgICAgICAgICAgICAgaW5saW5lRGF0YS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICAgICAgICAgICAgbGV0IGNlbGxXaWR0aCA9IGlubGluZURhdGEub2Zmc2V0V2lkdGg7IC8vIHRkXG4gICAgICAgICAgICAgICAgaW5saW5lRGF0YS5zdHlsZS53aGl0ZVNwYWNlID0gJ25vcm1hbCc7XG4gICAgICAgICAgICAgICAgaW5saW5lRGF0YS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZSc7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNJblRocmVzSG9sZChjZWxsV2lkdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjZWxsV2lkdGggKz0gdGhpcy50ZFBhZGRpbmcoKTtcbiAgICAgICAgICAgICAgICBpZiAoY2VsbFdpZHRoID4gdGhpcy50ZC53aWR0aFB4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjZWxsV2lkdGggPCB0aGlzLmR0TWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGQud2lkZXN0Q2VsbCA9IGNlbGxXaWR0aCA+IHRoaXMudGQud2lkZXN0Q2VsbCA/IGNlbGxXaWR0aCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZC53aWRlc3RDZWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2VsbFdpZHRoID49IHRoaXMuZHRNYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZC53aWRlc3RDZWxsID0gKHRoaXMuZHRNYXhXaWR0aCA+IHRoaXMudGQud2lkZXN0Q2VsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZHRNYXhXaWR0aCA6IHRoaXMudGQud2lkZXN0Q2VsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogSXMgdGhlIG5ldyB3aWR0aCB0aGUgc2FtZSBhcyB0aGUgb25lIGFscmVhZHkgc2V0IG9uIHRoZSBjb2x1bW4/IElmIHllcyB0aGVuIHByb2JhYmx5XG4gICAgICogbmV3IGNvbnRlbnQgZG9lcyBub3QgZGlmZmVyIHRoYXQgbXVjaC4gV2Ugc3RpbGwga2VlcCBjZXJ0YWluIHRocmVzaG9sZCBhcyB0aGUgbmV3IGNvbnRlbnRcbiAgICAgKiB3aWR0aCBtaWdodCBkaWZmZXIgMSBvciAyIHBpeGVzIGRlcGVuZGluZyBob3cgc2V0IHRoZSBjc3MuXG4gICAgICpcbiAgICAgKiBUbyBtYWtlIHN1cmUgd2UgcmVzaXplIGNvbHVtbiBvbmx5IGlmIG5lY2Vzc2FyeSBiZWNhdXNlIGl0IGNvdWxkIGJlIG9yaWdpbmFsIHNpemVcbiAgICAgKiBpcyA0MDBweCBidXQgdGhlIG5ldyBvbmUgaXMgNDAxcHggc2luY2Ugc29tZXdoZXJlIGFkZCBzb21lIGV4dHJhIGJvcmRlciB3ZSBoYXZlIHRoaXNcbiAgICAgKiBzYWZlIHRocmVzaG9sZFxuICAgICAqXG4gICAgICovXG4gICAgaXNJblRocmVzSG9sZChuZXdXaWR0aDogbnVtYmVyKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudGQud2lkZXN0Q2VsbCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnRkLndpZGVzdENlbGwgLSBuZXdXaWR0aCkgPiAzICYmIG5ld1dpZHRoID4gdGhpcy50ZC53aWRlc3RDZWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSB0ZFBhZGRpbmcoKTogbnVtYmVyXG4gICAge1xuICAgICAgICBsZXQgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQpO1xuICAgICAgICBsZXQgY2VsbCA9IHBhcnNlSW50KGNvbXB1dGVkU3R5bGUucGFkZGluZ0xlZnQpIHx8IDA7XG4gICAgICAgIGNlbGwgKz0gcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5wYWRkaW5nUmlnaHQpIHx8IDA7XG4gICAgICAgIGNlbGwgKz0gcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5ib3JkZXJSaWdodFdpZHRoKSB8fCAwO1xuICAgICAgICBjZWxsICs9IHBhcnNlSW50KGNvbXB1dGVkU3R5bGUuYm9yZGVyTGVmdFdpZHRoKSB8fCAwO1xuXG4gICAgICAgIC8vIHBsdXMgZ2l2ZSBpdCBzb21lIGxpdHRsZSBzcGFjZSBhcm91bmQgdGhlIHRleHQgc28gaXQgbm90cyBweCB0byBweCBpbm5lciB3aWR0aCBvZiB0aGUgdGRcbiAgICAgICAgLy8gY3V6IGl0IGNvdWxkIHdyYXBcbiAgICAgICAgY2VsbCArPSA1O1xuXG4gICAgICAgIHJldHVybiBjZWxsO1xuICAgIH1cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuXG5pbXBvcnQge1xuICAgIERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgZm9yd2FyZFJlZiwgSW5qZWN0LCBJbnB1dCwgTmdab25lLCBPbkRlc3Ryb3ksXG4gICAgT25Jbml0XG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtEYXRhdGFibGUyQ29tcG9uZW50fSBmcm9tICcuLi9kYXRhdGFibGUyLmNvbXBvbmVudCc7XG5pbXBvcnQge0RvbVV0aWxzU2VydmljZX0gZnJvbSAnLi4vLi4vLi4vY29yZS9kb20tdXRpbHMuc2VydmljZSc7XG5pbXBvcnQge2lzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0RyYWdEaXJlY3Rpb24sIERyYWdFdmVudHMsIERyb3BQb3NpdGlvbn0gZnJvbSAnLi4vYXctZGF0YXRhYmxlJztcblxuXG4vKipcbiAqIERpcmVjdGl2ZSB1c2VkIGluc2lkZSBEVCBpbiBvcmRlciB0byBzdXBwb3J0IHRhYmxlIHJvd3MgcmUtb3JkZXJpbmcuIFRoaXMgbWFuYWdlcyBhbGwgdGhlXG4gKiBEJkQgbmVjZXNzYXJ5IGxvZ2ljIGZvciB0aGlzIGZ1bmN0aW9uYWxpdHkuXG4gKlxuICogW2R0RHJhZ2dhYmxlUm93XSBpcyB1c2VkIGluc2lkZSB0aGUgYHJvd1RlbXBsYXRlYCBsaWtlIHRoaXM6XG4gKlxuICpcbiAqIGBgYGh0bWxcbiAqXG4gKiA8bmctdGVtcGxhdGUgI3Jvd1RlbXBsYXRlIGxldC1yb3dEYXRhIGxldC1ldmVuPSdldmVudFwiIGxldC1vZGQ9XCJvZGRcIiBsZXQtcm93SW5kZXg9XCJyb3dJbmRleFwiXG4gKiAgICAgICAgICAgICAgbGV0LW5lc3RpbmdMZXZlbD1cIm5lc3RpbmdMZXZlbFwiIGxldC1jb2xzVG9SZW5kZXI9XCJjb2xzVG9SZW5kZXJcIj5cbiAqXG4gKiAgICAgPHRyICNyb3dFbGVtZW50IGR0RHJhZ2dhYmxlUm93IFtkbmRSb3dJbmRleF09XCJyb3dJbmRleFwiXG4gKiAgICAgICAgICBjbGFzcz1cImR0LWJvZHktcm93XCJcbiAqXG4gKlxuICpcbiAqIGBgYFxuICpcbiAqIHdoaWNoIGVuYWJsZWQgb3IgZGlzYWJsZXMgYmFzZWQgb24gdGhlIHVzZWQgRFQgYmluZGluZyBbZG5kUm93RW5hYmxlZF0uIEJ5IGRlZmF1bHQgaXRzIGRpc2FibGVkLlxuICpcbiAqXG4gKlxuICovXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogJ1tkdERyYWdnYWJsZVJvd10nXG59KVxuZXhwb3J0IGNsYXNzIERURHJhZ2dhYmxlUm93RGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3lcbntcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogVGVsbHMgdGhlIGRpcmVjdGl2ZSBpZiB3ZSBlbmFibGUgbWlkZGxlIHJvdyB6b25lIHRvIGNyZWF0ZSBhbiBlZmZlY3QgdGhhdCB3ZSBhcmUgZHJvcHBpbmdcbiAgICAgKiBpbnRvIHRoZSByb3cuIFVzZWQgZm9yIG91dGxpbmUgRFQgbWFpbmx5LlxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBkcm9wSW50b0VuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgVFIgaW5kZXggbnVtYmVyXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGRuZFJvd0luZGV4OiBudW1iZXIgPSAwO1xuXG4gICAgLyoqXG4gICAgICogSG9sZHMgaW5mb3JtYXRpb24gYWJvdXQgb3VyIGRyYWdnaW5nIGRpcmVjdGlvbiBVUCBhbmQgRE9XTiBpbiBvcmRlciB0byBhc3NpZ24gY29ycmVjdCBzdHlsZVxuICAgICAqIHRoYXQgaGlnaGxpZ2h0cyB0aGUgcm93IGF0IHRoZSB0b3Agb3IgYm90dG9tXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGRyYWdEaXI6IERyYWdEaXJlY3Rpb24gPSBEcmFnRGlyZWN0aW9uLk5vbmU7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB3ZSBkcmFnZ2VkIG91ciByb3cgYW5kIHN0b3BwZWQgaW4gdGhlIG1pZGRsZSBvZiB0aGUgb3RoZXIgcm93XG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGluTWlkZGxlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEN1cnJlbnQgZHJhZyBZIGNvb3JkaW5hdGVzIHdoaWNoIGlzIHVzZWQgdG9nZXRoZXIgd2l0aCB0aGUgZHJhZ0RpciB3aGVuIGFzc2luZ2luZyBkcmFnZ2luZ1xuICAgICAqIGRpcmVjdGlvbi5cbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgZHJhZ1k6IG51bWJlciA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBsaXN0ZW5lcnMgaGFuZGxlcnMgaGVyZSAtIHRoZSByZXR1cm4gZnJvbSAuYmluZCh0aGlzKS5cbiAgICAgKi9cbiAgICBwcml2YXRlIGV2ZW50SGFuZGxlcnM6IHsgW25hbWU6IHN0cmluZ106IGFueSB9O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmLFxuICAgICAgICAgICAgICAgIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBEYXRhdGFibGUyQ29tcG9uZW50KSlcbiAgICAgICAgICAgICAgICBwcml2YXRlIGR0OiBEYXRhdGFibGUyQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHByaXZhdGUgZG9tVXRpbHM6IERvbVV0aWxzU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIG5nWm9uZTogTmdab25lKVxuICAgIHtcbiAgICB9XG5cblxuICAgIG5nT25Jbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmR0LmRuZFJvd0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBuZ09uRGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kdC5kbmRSb3dFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VFdmVudExpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dXBzIGxpc3RlbmVycyBhbmQgcmV0dXJucyBoYW5kbGUgdG8gdGhlbSBzbyB3ZSBjYW4gbGF0ZXIgb24gdW5zdWJzY3JpYmUuXG4gICAgICovXG4gICAgcHJpdmF0ZSBzZXR1cEV2ZW50TGlzdGVuZXJzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzWydtb3VzZWRvd24nXSA9IHRoaXMub25Nb3VzZURvd25FdmVudC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyxcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbJ21vdXNlZG93biddKTtcblxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzWydkcmFnc3RhcnQnXSA9IHRoaXMub25EcmFnU3RhcnRFdmVudC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JyxcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbJ2RyYWdzdGFydCddKTtcblxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzWydkcmFnb3ZlciddID0gdGhpcy5vbkRyYWdPdmVyRXZlbnQuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJyxcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbJ2RyYWdvdmVyJ10pO1xuXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbJ2RyYWdsZWF2ZSddID0gdGhpcy5vbkRyYWdMZWF2ZUV2ZW50LmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLFxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1snZHJhZ2xlYXZlJ10pO1xuXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbJ2Ryb3AnXSA9IHRoaXMub25Ecm9wRXZlbnQuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLFxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1snZHJvcCddKTtcblxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzWydkcmFnZW5kJ10gPSB0aGlzLm9uRHJhZ0VuZEV2ZW50LmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJyxcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbJ2RyYWdlbmQnXSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSBjcmVhdGVkIGxpc3RlbmVycyBpbnNpZGUgZGVzdHJveSgpIGNhbGxiYWNrXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWxlYXNlRXZlbnRMaXN0ZW5lcnMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgRHJhZ0V2ZW50cy5mb3JFYWNoKChuYW1lOiBzdHJpbmcpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ25hbWUnLCB0aGlzLmV2ZW50SGFuZGxlcnNbbmFtZV0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogVGhpcyBpcyBmaXJzdCBldmVudCB3aGVyZSB3ZTpcbiAgICAgKlxuICAgICAqICAtIE1hcmsgZWxlbWVudCBkcmFnZ2FibGUgdG8gZW5hYmxlIEQmRFxuICAgICAqICAtIFNldCBjbGljayBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgbWlkZGxlIG9mIHRoZSBjdXJyZW50IHJvd1xuICAgICAqICAgICAgVGhpcyBpcyBtYWlubHkgbmVlZGVkIHdoZW4gd2UgYXJlIHRyeWluZyB0byBjYWxjdWxhdGUgc29tZXRoaW5nIGZvclxuICAgICAqICAgICAgZHJvcEludG8gcm93IChvdXRsaW5lKVxuICAgICAqXG4gICAgICogZXZlbnQudGFyZ2V0IHVzdWFsbHkgY29udGFpbnMgcmVmZXJlbmNlIHRvIFREIGVsZW1lbnRcbiAgICAgKi9cbiAgICBwcml2YXRlIG9uTW91c2VEb3duRXZlbnQoZXZlbnQ6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChldmVudC5hbHRLZXkgJiYgdGhpcy5kb21VdGlscy5oYXNQYXJlbnQoZXZlbnQudGFyZ2V0LCAnLmR0LXJvdy1kcmFnZ2FibGUnKSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBlbFRvQmVEcmFnZ2VkID0gdGhpcy5kb21VdGlscy5lbGVtZW50RGltZW5zaW9ucyhldmVudC50YXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5kdC5lbnYuc2V0VmFsdWUoJ2RkQ2xpY2tEZXZpYW5jZScsIChlbFRvQmVEcmFnZ2VkLmhlaWdodCAvIDIpIC0gZXZlbnQub2Zmc2V0WSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmRyYWdnYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHNlY29uZCB0cmlnZ2VyZWQgZXZlbnQgd2hlbiB0aGUgYWN0dWFsIGRyYWdnaW5nIHN0YXJ0cy4gSGVyZSB3ZSBuZWVkIHRvIGRpc2FibGVcbiAgICAgKiBkcmFnZ2VkIHJvdyBhbmQgc2F2ZSBpbmZvcm1hdGlvbiB0aGF0IGFyZSBjb21tb24gdG8gYSB0YWJsZS5cbiAgICAgKlxuICAgICAqIE1hcmtpbmcgcm93IGRpc2FibGVkIHdpdGggdGhlIHN0eWxlIC5kdC1yb3ctZHJhZ2dpbmcgdXNpbmcgc2V0VGltZW91dCBpcyBuZWVkZWQgYXNcbiAgICAgKiBpZiB3ZSB3b3VsZCBnbyB3aXRob3V0IGl0IHRoZW4gRCZEIGZyYW1ld29yayB3b3VsZCBjcmVhdGUgYSBjb3B5IG9mIHJvdyBpbiBkaXNhYmxlZCBzdGF0ZS5cbiAgICAgKiBOb3cgd2UgZ3JhYiBhIHJvdyB3aXRoIGFjdGl2ZSBzdGF0ZSBhbmQgYWZ0ZXIgYSAyMDBtcyBkZWxheSB3ZSBkaXNhYmxlIHRoZSBvcmlnaW5hbCByb3cuXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIG9uRHJhZ1N0YXJ0RXZlbnQoZXZlbnQ6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGlzUHJlc2VudChldmVudC50YXJnZXQuY2xhc3NMaXN0KSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdkdC1yb3ctZHJhZ2dpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMjAwKTtcblxuICAgICAgICB0aGlzLmR0LmVudi5zZXRWYWx1ZSgnaXNEcmFnZ2luZycsIHRydWUpO1xuICAgICAgICB0aGlzLmR0LmVudi5zZXRWYWx1ZSgnZG5kSWQnLCB0aGlzLmRuZFJvd0luZGV4KTtcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQnLCB0aGlzLmRuZFJvd0luZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFRoaXMgZXZlbnRzIGhhcHBlbnMgYW55dGltZSBhcyB3ZSBkcmFnIG92ZXIgcm93cy4gVGhpcyBldmVudCB0cmlnZ2VyZWQgYWZ0ZXIgY2VydGFpblxuICAgICAqIGRlbGF5LiBJbiBoZXJlIHdlIGNhbGN1bGF0ZSB0aGUgbW91c2UgbW92ZW1lbnQgdG8gaWRlbnRpZnkgaWYgd2UgYXJlIGdvaW5nIFVQIG9yIERPV04uXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIG1haW5seSBuZWVkZWQgdG8gbWFyayBhIHJvdyB3aXRoIHRoZSBjb3JyZWN0IGxpbmUgb24gVE9QIG9yIEJPVFRPTSB0byB2aXN1YWxseVxuICAgICAqIHNob3cgYSB1c2VyIHdoZXJlIHdlIGFyZS5cbiAgICAgKlxuICAgICAqIE9uY2Ugd2Uga25vdyB0aGUgZGlyZWN0aW9uIGFuZCB0aGUgZHJvcCB0YXJnZXQgaXMgdmFsaWQgd2UgbWFyayB0aGUgcm93IHdpdGggY29ycmVjdCBjbGFzc1xuICAgICAqIHRoYXQgZG9lcyB0aGUgdHJpY2tcbiAgICAgKi9cbiAgICBwcml2YXRlIG9uRHJhZ092ZXJFdmVudChldmVudDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7XG4gICAgICAgIGlmICh0aGlzLmRyYWdZIDwgZXZlbnQucGFnZVkpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ0RpciA9IERyYWdEaXJlY3Rpb24uRG93bjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRyYWdZID4gZXZlbnQucGFnZVkpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ0RpciA9IERyYWdEaXJlY3Rpb24uVXA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9udCBzZXQgYWdhaW4gdW5sZXNzIGl0cyBkaWZmZXJlbnRcbiAgICAgICAgaWYgKHRoaXMuZHJhZ1kgIT09IGV2ZW50LnBhZ2VZKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdZID0gZXZlbnQucGFnZVk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkRHJvcFRhcmdldChldmVudCkpIHtcbiAgICAgICAgICAgIC8vIHRvZG8gdGVzdCB0aGlzIHByZXZlbnREZWZhdWx0KCkgc28gaXQgZG9lcyBub3QgY3JlYXRlIHNvbWUgc2lkZWVmZmVjdFxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMubWFya1Jvd1dpdGhDbGFzcyhldmVudCwgdGhpcy5kb21VdGlscy5jbG9zZXN0KGV2ZW50LnRhcmdldCwgJ3RyJykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBmaW5pc2hpbmcgZXZlbnQganVzdCBiZWZvcmUgRCZEIGlzIGRvbmUuIEl0IHRha2VzIGN1cnJlbnQgaW5mb3JtYXRpb24gYW5kXG4gICAgICogYnJvYWRjYXN0IHRoZW0gdG8gdGhlIERUIHNvIERUIGNhbiBkbyBuZWNlc3Nhcnkgcm93IHJlb3JkZXJpbmdcbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBvbkRyb3BFdmVudChldmVudDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5jbGVhckNsYXNzZXMoZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQpO1xuICAgICAgICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGxldCBvcmlnSW5keCA9IHRoaXMuZHQuZW52LmdldFZhbHVlKCdkbmRJZCcpO1xuICAgICAgICBsZXQgZHJvcFBvczogRHJvcFBvc2l0aW9uID0gdGhpcy5pbk1pZGRsZSA/IERyb3BQb3NpdGlvbi5JbnRvIDogKFxuICAgICAgICAgICAgdGhpcy5kcmFnRGlyID09PSBEcmFnRGlyZWN0aW9uLlVwID8gRHJvcFBvc2l0aW9uLkJlZm9yZSA6IERyb3BQb3NpdGlvbi5BZnRlclxuICAgICAgICApO1xuICAgICAgICB0aGlzLmR0Lm9uRG5EUm93RHJvcChvcmlnSW5keCwgdGhpcy5kbmRSb3dJbmRleCwgZHJvcFBvcyk7XG5cbiAgICAgICAgdGhpcy5pbk1pZGRsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRyYWdZID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFdmVyeSB0aW1lIHdlIGRyYWcgb3ZlciB0aGUgZWxlbWVudCB3ZSBhcHBseSBzb21lIGNsYXNzZXMgdG8gdGhlIGl0LiB0aGlzIG1ldGhvZCBkb2VzIHRoZVxuICAgICAqIG9wcG9zaXRlIHdoaWNoIGlzIHRvIHJlbW92ZSBldmVyeXRoaW5nIHNvIHdlIGFyZSByZWFkeSBmb3IgdGhlIG5leHQgcm93XG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgb25EcmFnTGVhdmVFdmVudChldmVudDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IHRyID0gdGhpcy5kb21VdGlscy5jbG9zZXN0KGV2ZW50LnRhcmdldCwgJ3RyJyk7XG4gICAgICAgIHRoaXMuY2xlYXJDbGFzc2VzKHRyKTtcblxuICAgICAgICB0aGlzLmR0LmVudi5kZWxldGVWYWx1ZSgnZG5kT25Ib2xkSW5kZXgnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFRoaXMgaXMgbGFzdCBldmVudCB3aXRoaW4gRCZEIGZsb3cuIE1haW5seSB1c2VkIHRvIGNsZWFuIHVwIGFsbCB0aGUgcmVzb3VyY2UgdGhhdCBoYXMgbm90XG4gICAgICogYmVlbiBjbGVhbiB1cCBhbHJlYWR5IGluc2lkZSBvbkRyb3BFdmVudC5cbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgb25EcmFnRW5kRXZlbnQoZXZlbnQ6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdCkpIHtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdkdC1yb3ctZHJhZ2dpbmcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xlYXJDbGFzc2VzKGV2ZW50LnRhcmdldCk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmRyYWdnYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmR0LmVudi5kZWxldGVWYWx1ZSgnaXNEcmFnZ2luZycpO1xuICAgICAgICB0aGlzLmR0LmVudi5kZWxldGVWYWx1ZSgnZG5kSWQnKTtcbiAgICAgICAgdGhpcy5kdC5lbnYuZGVsZXRlVmFsdWUoJ2RkQ2xpY2tEZXZpYW5jZScpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQXNzaWduIENTUyBjbGFzc2VzIHRvIHRoZSByb3cgdG8gY3JlYXRlIGFuIGhpZ2hsaWdodGluZyBlZmZlY3QgdG8gY2FwdHVyZSBjdXJyZW50IHBvc2l0aW9uXG4gICAgICogZm9yIHRoZSB1c2VyLlxuICAgICAqXG4gICAgICogQmFzZWQgb24gdGhlIERyYWcgZGlyZWN0aW9uIHdlIGVpdGhlciBhcHBseVxuICAgICAqIGNzcyBjbGFzcyB0aGF0IGNyZWF0ZXMgYSBsaW5lIG9uIHRvcCBvciBib3R0b20uICBPbmx5IGZvciB0aGUgZHJvcEludG8gZnVuY3Rpb25hbGl0eSB3ZVxuICAgICAqIG5lZWQgdG8gY2FsY3VsYXRlIHNvbWUgbW9yZSB0byBpZGVudGlmeSBpZiB3ZSBhcmUgcmVhbGx5IGluIHRoZSBtaWRkbGUgb2YgdGhlIHJvdy5cbiAgICAgKlxuICAgICAqIERyb3BJbnRvOlxuICAgICAqIC0tLS0tLS0tLVxuICAgICAqXG4gICAgICogSW5pdGlhbGx5IHdlIGNhcHR1cmVkIGEgcG9zaXRpb24gKGluIG1vdXNlZG93bikgdGhlIGRpc3RhbmNlIHRvIHRoZSBtaWRkbGUgb2YgdGhlIHJvdyBhbmRcbiAgICAgKiB0aGlzIHdlIGFyZSB1c2luZyBoZXJlIHdpdGggc29tZSB0aHJlc2hvbGQgb2YgMiBwaXhlcyBzbyB3ZSBkb250IGhhdmUgdG8gYmUgZXhhY3RseSBvbiBwaXhlbFxuICAgICAqIHBlcmZlY3QuXG4gICAgICpcbiAgICAgKiAtIGxldCBjdXJyZW50VHJDZW50ZXIgPSB0aGlzLmRvbVV0aWxzLmVsZW1lbnREaW1lbnNpb25zKGFjdGl2ZVJvdykuaGVpZ2h0IC8gMjtcbiAgICAgKiAgICAgIFJlYWQgY2VudGVyIG9mIGN1cnJlbnQgcm93XG4gICAgICpcbiAgICAgKiAtIGxldCBkcmFnZ2VkVHJDZW50ZXIgPSBldmVudC5vZmZzZXRZICsgdGhpcy5kdC5lbnYuZ2V0VmFsdWUoJ2RkQ2xpY2tEZXZpYW5jZScpO1xuICAgICAqICAgICAgUmVhZCBtb3VzZSBjb29yZGluYXRlcyByZWxhdGl2ZSB0byBjdXJyZW50IHJvdy90ZCBhbmQgYWRkIHRvIGl0IG91ciBkZXZpYXRpb24uXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgbWFya1Jvd1dpdGhDbGFzcyhldmVudDogYW55LCBhY3RpdmVSb3c6IGFueSk6IHZvaWRcbiAgICB7XG5cbiAgICAgICAgdGhpcy5jbGVhckNsYXNzZXMoYWN0aXZlUm93KTtcblxuICAgICAgICAvLyBDaGVjayBpZiBkcmFnIGl0ZW0gaXMgaW4gdGhlIG1pZGRsZSBvZiBvdGhlciByb3dcbiAgICAgICAgbGV0IGN1cnJlbnRUckNlbnRlciA9IHRoaXMuZG9tVXRpbHMuZWxlbWVudERpbWVuc2lvbnMoYWN0aXZlUm93KS5oZWlnaHQgLyAyO1xuICAgICAgICBsZXQgZHJhZ2dlZFRyQ2VudGVyID0gZXZlbnQub2Zmc2V0WSArIHRoaXMuZHQuZW52LmdldFZhbHVlKCdkZENsaWNrRGV2aWFuY2UnKTtcblxuICAgICAgICBpZiAodGhpcy5kcm9wSW50b0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5NaWRkbGUgPSBNYXRoLmFicyhjdXJyZW50VHJDZW50ZXIgLSBkcmFnZ2VkVHJDZW50ZXIpIDwgMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmluTWlkZGxlKSB7XG4gICAgICAgICAgICBhY3RpdmVSb3cuY2xhc3NMaXN0LmFkZChEcmFnRGlyZWN0aW9uLk1pZGRsZSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZVJvdy5jbGFzc0xpc3QuYWRkKHRoaXMuZHJhZ0Rpcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIERyb3AgdGFyZ2V0IG11c3QgYmUgb25seSBhbm90aGVyIFRSIGFuZCBpdCBjYW5ub3QgYmUgdGhlIGVsZW1lbnQgaXRzZWxmIHRoZSBvbmUgd2UgYXJlXG4gICAgICogZHJhZ2dpbmcgYW5kIGl0IGRvZXMgbm90IG1ha2Ugc2Vuc2UgdG8gYWxsb3cgdG8gZHJvcCB0byB0aGUgc2FtZSBwb3NpdGlvbiB3ZSBzdGFydGVkIGZyb21cbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgaXNWYWxpZERyb3BUYXJnZXQoZXZlbnQ6IGFueSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGxldCBvcmlnSW54ID0gdGhpcy5kdC5lbnYuZ2V0VmFsdWUoJ2RuZElkJyk7XG4gICAgICAgIGxldCBzaWJsaW5nUm93ID0gdGhpcy5kbmRSb3dJbmRleCAtIG9yaWdJbng7XG5cbiAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnRhZ05hbWUgPT09ICdUUicgJiYgdGhpcy5kbmRSb3dJbmRleCAhPT0gb3JpZ0lueCAmJlxuICAgICAgICAgICAgIShzaWJsaW5nUm93ID09PSAxICYmIHRoaXMuZHJhZ0RpciA9PT0gRHJhZ0RpcmVjdGlvbi5VcCkgJiZcbiAgICAgICAgICAgICEoc2libGluZ1JvdyA9PT0gLTEgJiYgdGhpcy5kcmFnRGlyID09PSBEcmFnRGlyZWN0aW9uLkRvd24pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogIHByaXZhdGVcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgY2xlYXJDbGFzc2VzKHRyOiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICB0ci5jbGFzc0xpc3QucmVtb3ZlKCdkdC1kcmFnLXJvdy10b3AnKTtcbiAgICAgICAgdHIuY2xhc3NMaXN0LnJlbW92ZSgnZHQtZHJhZy1yb3ctYm90dG9tJyk7XG4gICAgICAgIHRyLmNsYXNzTGlzdC5yZW1vdmUoJ2R0LWRyYWctcm93LWJvdGgnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgcHJpdmF0ZVxuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBkcmFnRGlyVG9TdHJpbmcoKTogc3RyaW5nXG4gICAge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuZHJhZ0Rpcikge1xuICAgICAgICAgICAgY2FzZSBEcmFnRGlyZWN0aW9uLlVwOlxuICAgICAgICAgICAgICAgIHJldHVybiAnVXAnO1xuICAgICAgICAgICAgY2FzZSBEcmFnRGlyZWN0aW9uLkRvd246XG4gICAgICAgICAgICAgICAgcmV0dXJuICdEb3duJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdOb3QgU3VyZSc7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7TmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge0Zvcm1zTW9kdWxlfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0FXQ29yZUNvbXBvbmVudE1vZHVsZX0gZnJvbSAnLi4vLi4vY29yZS9jb3JlLm1vZHVsZSc7XG5pbXBvcnQge0FXT3V0bGluZUZvck1vZHVsZX0gZnJvbSAnLi4vb3V0bGluZS9vdXRsaW5lLWZvci5tb2R1bGUnO1xuaW1wb3J0IHtEYXRhdGFibGUyQ29tcG9uZW50fSBmcm9tICcuL2RhdGF0YWJsZTIuY29tcG9uZW50JztcbmltcG9ydCB7RFRXcmFwcGVyfSBmcm9tICcuL3RhYmxlLXdyYXBwZXIvdGFibGUtd3JhcHBlci5jb21wb25lbnQnO1xuaW1wb3J0IHtEVENvbHVtbjJDb21wb25lbnR9IGZyb20gJy4vY29sdW1uL2R0LWNvbHVtbi5jb21wb25lbnQnO1xuaW1wb3J0IHtBV0lucHV0RmllbGRNb2R1bGV9IGZyb20gJy4uL2lucHV0LWZpZWxkL2lucHV0LWZpZWxkLm1vZHVsZSc7XG5pbXBvcnQge0RUSGVhZGVyQ29tcG9uZW50Mn0gZnJvbSAnLi9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudCc7XG5pbXBvcnQge0RURGV0YWlsUm93Q29tcG9uZW50fSBmcm9tICcuL2NvbHVtbi9kZXRhaWwtcm93L2R0LWRldGFpbC1yb3cuY29tcG9uZW50JztcbmltcG9ydCB7XG4gICAgRFREZXRhaWxSb3dFeHBhbmRlckNvbXBvbmVudFxufSBmcm9tICcuL2NvbHVtbi9kZXRhaWwtcm93LWV4cGFuZGVyL2R0LWRldGFpbC1yb3ctZXhwYW5kZXIuY29tcG9uZW50JztcbmltcG9ydCB7XG4gICAgRFRNdWx0aVNlbGVjdENvbHVtbkNvbXBvbmVudFxufSBmcm9tICcuL2NvbHVtbi9tdWx0aS1zZWxlY3QvZHQtbXVsdGktc2VsZWN0LWNvbHVtbi5jb21wb25lbnQnO1xuaW1wb3J0IHtBV0NoZWNrQm94TW9kdWxlfSBmcm9tICcuLi9jaGVja2JveC9jaGVjay1ib3gubW9kdWxlJztcbmltcG9ydCB7XG4gICAgRFRTaW5nbGVTZWxlY3RDb2x1bW5Db21wb25lbnRcbn0gZnJvbSAnLi9jb2x1bW4vc2luZ2xlLXNlbGVjdC9kdC1zaW5nbGUtc2VsZWN0LWNvbHVtbi5jb21wb25lbnQnO1xuaW1wb3J0IHtBV1JhZGlvQnV0dG9uTW9kdWxlfSBmcm9tICcuLi9yYWRpby1idXR0b24vcmFkaW8tYnV0dG9uLm1vZHVsZSc7XG5pbXBvcnQge1NldENlbGxNYXhXaWR0aERpcmVjdGl2ZX0gZnJvbSAnLi9kaXJlY3RpdmVzL2R0LWNlbGwtZGlyZWN0aXZlcyc7XG5pbXBvcnQge0RURHJhZ2dhYmxlUm93RGlyZWN0aXZlfSBmcm9tICcuL2RpcmVjdGl2ZXMvZHQtZHJhZ2dhYmxlLXJvdy5kaXJlY3RpdmUnO1xuXG5cbkBOZ01vZHVsZSh7XG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIERhdGF0YWJsZTJDb21wb25lbnQsXG4gICAgICAgIERUV3JhcHBlcixcbiAgICAgICAgRFRDb2x1bW4yQ29tcG9uZW50LFxuICAgICAgICBEVEhlYWRlckNvbXBvbmVudDIsXG4gICAgICAgIERURGV0YWlsUm93Q29tcG9uZW50LFxuICAgICAgICBEVERldGFpbFJvd0V4cGFuZGVyQ29tcG9uZW50LFxuICAgICAgICBEVE11bHRpU2VsZWN0Q29sdW1uQ29tcG9uZW50LFxuICAgICAgICBEVFNpbmdsZVNlbGVjdENvbHVtbkNvbXBvbmVudCxcbiAgICAgICAgRFREcmFnZ2FibGVSb3dEaXJlY3RpdmUsXG4gICAgICAgIFNldENlbGxNYXhXaWR0aERpcmVjdGl2ZVxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBBV0NvcmVDb21wb25lbnRNb2R1bGUsXG4gICAgICAgIEFXQ2hlY2tCb3hNb2R1bGUsXG4gICAgICAgIEFXT3V0bGluZUZvck1vZHVsZSxcbiAgICAgICAgQVdSYWRpb0J1dHRvbk1vZHVsZSxcbiAgICAgICAgQVdJbnB1dEZpZWxkTW9kdWxlXG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgRFREZXRhaWxSb3dFeHBhbmRlckNvbXBvbmVudCxcbiAgICAgICAgRFRNdWx0aVNlbGVjdENvbHVtbkNvbXBvbmVudCxcbiAgICAgICAgRFRTaW5nbGVTZWxlY3RDb2x1bW5Db21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgRGF0YXRhYmxlMkNvbXBvbmVudCxcbiAgICAgICAgRFRDb2x1bW4yQ29tcG9uZW50LFxuICAgICAgICBBV091dGxpbmVGb3JNb2R1bGUsXG4gICAgICAgIERUSGVhZGVyQ29tcG9uZW50MixcbiAgICAgICAgRFREZXRhaWxSb3dDb21wb25lbnRcbiAgICBdLFxuICAgIHByb3ZpZGVyczogW11cbn0pXG5leHBvcnQgY2xhc3MgQVdEYXRhdGFibGUyTW9kdWxlXG57XG59XG5cblxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7Q29tcG9uZW50fSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuLyoqXG4gKiBBbiBjb25maXJtYXRpb24gaGVhZGVyIGFyZWEuXG4gKlxuICogU2VlIHtAbGluayBDb25maXJtYXRpb25Db21wb25lbnR9IGZvciBtb3JlIGV4cGxhbmF0aW9uLlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LWNvbmZpcm1hdGlvbi1oZWFkZXInLFxuICAgIHRlbXBsYXRlOiAnPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50Pidcbn0pXG5leHBvcnQgY2xhc3MgQ29uZmlybWF0aW9uSGVhZGVyQ29tcG9uZW50XG57XG59XG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG4vKipcbiAqIEFuIGNvbmZpcm1hdGlvbiBoZWFkZXIgYXJlYS5cbiAqXG4gKiBTZWUge0BsaW5rIENvbmZpcm1hdGlvbkNvbXBvbmVudH0gZm9yIG1vcmUgZXhwbGFuYXRpb24uXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctY29uZmlybWF0aW9uLWZvb3RlcicsXG4gICAgdGVtcGxhdGU6ICc8bmctY29udGVudD48L25nLWNvbnRlbnQ+J1xufSlcbmV4cG9ydCBjbGFzcyBDb25maXJtYXRpb25Gb290ZXJDb21wb25lbnRcbntcbn1cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge0NvbXBvbmVudCwgQ29udGVudENoaWxkLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtFbnZpcm9ubWVudCwgaXNQcmVzZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7TW9kYWxDb250YWluZXJ9IGZyb20gJy4uLy4uL2NvcmUvbW9kYWwtc2VydmljZS9tb2RhbC1jb250YWluZXInO1xuaW1wb3J0IHtDb25maXJtYXRpb25IZWFkZXJDb21wb25lbnR9IGZyb20gJy4vY29uZmlybWF0aW9uLWhlYWRlci5jb21wb25lbnQnO1xuaW1wb3J0IHtDb25maXJtYXRpb25Gb290ZXJDb21wb25lbnR9IGZyb20gJy4vY29uZmlybWF0aW9uLWZvb3Rlci5jb21wb25lbnQnO1xuXG4vKipcbiAqIENvbmZpcm1hdGlvbiBDb21wb25lbnQgaXMgYSBzcGVjaWZpYyB2ZXJzaW9uIG9mIHRoZSBkaWFsb2cgd2hlcmUgaXQgc3VwcG9ydHMgY29uZmlybSBhbmQgY2FuY2VsXG4gKiBmdW5jdGlvbmFsaXR5LiBJdCBiZWhhdmVzIGxpa2UgYSBkaWFsb2csIGlzIG1vZGFsLCBhbmQgbm90IGNsb3NhYmxlIGJ5IGRlZmF1bHQuXG4gKlxuICogVGhlcmUgYXJlIHRocmVlIHR5cGVzIG9mIHBvcHVwLlxuICogICAxLiAgYSByZWd1bGFyIGRpYWxvZyBib3ggdGhhdCBoYXMgaGVhZGVyLCBib2R5IGFuZCBmb290ZXIuIEl0J3MgdGhlIG1vc3QgY3VzdG9taXphYmxlLlxuICogICAyLiAgYSBjb25maXJtYXRpb24gYm94IGlzIHNpbWlsYXIgdG8gYSBkaWFsb2cgYm94IGJ1dCBoYXMgYWNjZXB0IGFuZCByZWplY3QgYWN0aW9uIGJ1dHRvbnMuXG4gKiAgIDMuICBhIG92ZXJsYXksIHdoaWNoIGlzIGEgdmVyeSBiYXNpYyBwb3B1cCB3aXRoIHdoYXQgeW91IHB1dCBpbnNpZGUuXG4gKiAgICAgICBJdCBkb2Vzbid0IGhhdmUgaGVhZGVyIGFuZCBmb290ZXIuXG4gKlxuICogVGhlcmUgYXJlIHR3byB3YXlzIHRvIHVzZSBhbnkgcG9wdXAgY29tcG9uZW50LlxuICogICAxLiAgRWl0aGVyIGRpcmVjdGx5IGJ5IHVzaW5nIGNvbXBvbmVudCwgYXctZGlhbG9nLCBhdy1jb25maXJtYXRpb24gb3IgYXctb3ZlcmxheVxuICogICAyLiAgb3IgdGhlIE1vZGFsU2VydmljZSAgc2VydmljZS5vcGVuKDxDb25maXJtYXRpb25Db21wb25lbnQ+KSwgc2VydmljZS5jbG9zZSgpXG4gKlxuICogVXNhZ2U6XG4gKiAgICAxLiAgVXNpbmcgTW9kYWxTZXJ2aWNlIGRpcmVjdGx5IHRvIGRpc3BsYXkgYSBtb2RhbCBwb3B1cC4gVGhpcyB1c2FnZSBpcyBhIHF1aWNrIHdheSB0byBzaG93XG4gKiAgICAgICAgYSBjb25maXJtYXRpb24gdG8gdGhlIHVzZXIuXG4gKlxuICogICAgICAgICAgdGhpcy5tb2RhbFNlcnZpY2Uub3BlbjxDb25maXJtYXRpb25Db21wb25lbnQ+KENvbmZpcm1hdGlvbkNvbXBvbmVudCwge1xuICogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0NvbmZpcm1hdGlvbicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGAgQXJlIHlvdSBzdXJlID8gYCxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDMwMCxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtOiAoKSA9PiB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybUFjdGlvbigpO1xuICogICAgICAgICAgICAgICAgICAgICAgICB9LFxuICogICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbDogKCkgPT4ge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbEFjdGlvbigpO1xuICogICAgICAgICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgfSk7XG4gKlxuICpcbiAqICAgMi4gICBVc2UgdGhlIGNvbXBvbmVudCBpbnNpZGUgeW91ciB0ZW1wbGF0ZS5cbiAqXG4gKiAgICAgICAgICBAQ29tcG9uZW50KHtcbiAqICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnYXctcGFnZScgLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YXctY29uZmlybWF0aW9uIFt0aXRsZV09XCInQ29uZmlybWF0aW9uJ1wiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyh2aXNpYmxlKV09XCJkaXNwbGF5XCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvbkNvbmZpcm0pPVwiY29uZmlybUFjdGlvbigpXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9uQ2FuY2VsKT1cImNhbmNlbEFjdGlvbigpXCI+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwic2FwLWljb24gaWNvbi1hbGVydFwiPjwvaT5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB5b3VyIGhhcmQgZHJpdmU/XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2F3LWNvbmZpcm1hdGlvbj5cbiAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGF3LWJ1dHRvbiBbc2l6ZV09XCInc21hbGwnXCIgKGNsaWNrKT1cIm9wZW4oKVwiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcGVuIENvbmZpcm1hdGlvblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYXctYnV0dG9uPlxuICogICAgICAgICAgICAgICAgICBgXG4gKiAgICAgICAgIGV4cG9ydCBjbGFzcyBNeVBhZ2VDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICpcbiAqICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogYm9vbGVhbiA9IGZhbHNlO1xuICpcbiAqICAgICAgICAgICAgICAgICAgICAgY29uZmlybUFjdGlvbjogc3RyaW5nO1xuICpcbiAqICAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBtb2RhbFNlcnZpY2U6IE1vZGFsU2VydmljZSkge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgIHN1cGVyKCk7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgfVxuICogICAgICAgICAgICAgICAgICAgICBuZ09uSW5pdCgpIHsgfVxuICpcbiAqICAgICAgICAgICAgICAgICAgICAgb3BlbigpIHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5ID0gdHJ1ZTtcbiAqICAgICAgICAgICAgICAgICAgICAgfVxuICpcbiAqICAgICAgICAgICAgICAgICAgICAgY29uZmlybUFjdGlvbigpICB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybUFjdGlvbiA9IFwiY29uZmlybWVkXCI7XG4gKiAgICAgICAgICAgICAgICAgICAgICB9XG4gKlxuICogICAgICAgICAgICAgICAgICAgICAgY2xvc2UoKSB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkgPSBmYWxzZTtcbiAqICAgICAgICAgICAgICAgICAgICAgIH1cbiAqXG4gKiAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxBY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maXJtQWN0aW9uID0gXCJjYW5jZWxlZFwiO1xuICogICAgICAgICAgICAgICAgICAgICAgfVxuICpcbiAqICAgICAgIH1cbiAqXG4gKlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2F3LWNvbmZpcm1hdGlvbicsXG4gICAgdGVtcGxhdGVVcmw6ICdjb25maXJtYXRpb24uY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydjb25maXJtYXRpb24uY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBDb25maXJtYXRpb25Db21wb25lbnQgZXh0ZW5kcyBNb2RhbENvbnRhaW5lclxue1xuICAgIC8qKlxuICAgICAqIFRpdGxlIGZvciB0aGUgRGlhbG9nLiAgaWYgdGl0bGUgYW5kICdUaXRsZVRlbXBsYXRlJyBhcmUgYm90aCBzZXQsIHRpdGxlVGVtcGxhdGUgdGFrZXNcbiAgICAgKiBwcmVjZWRlbmNlLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgdGl0bGU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEJvZHkgc2VjdGlvbiBmb3IgRGlhbG9nLiBDYWxsZXIgc2hvdWxkIHVzZSBlaXRoZXIgdGhlIGJvZHkgc3RyaW5nLCBvciBjb250ZW50IHByb2plY3Rpb25cbiAgICAgKiB0byBhZGQgdmFsdWVzIHRvIHRoZSBkaWFsb2cuIElmIGJvdGggYXJlIHVzZWQsIHRoZXkgd2lsbCBib3RoIHNob3cgdXAuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBib2R5OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBJZiB5b3UgYXJlIG5vdCB1c2luZyBjdXN0b20gYnV0dG9ucyB5b3UgY2FuIHBhc3MgYSBsYWJlbCB0byBPSyBhY3Rpb25cbiAgICAgKlxuICAgICAqIERlZmF1bHQgdmFsdWUgaXMgT0tcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGNvbmZpcm1BY3Rpb25MYWJlbDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogSWYgeW91IGFyZSBub3QgdXNpbmcgY3VzdG9tIGJ1dHRvbnMgeW91IGNhbiBwYXNzIGEgbGFiZWwgdG8gQ2FuY2VsIGFjdGlvblxuICAgICAqXG4gICAgICogRGVmYXVsdCB2YWx1ZSBpcyBPS1xuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgY2FuY2VsQWN0aW9uTGFiZWw6IHN0cmluZztcblxuXG4gICAgLyoqXG4gICAgICogc3VwcG9ydCB0d28gd2F5IGRhdGEgYmluZGluZyBvbiB2aXNpYmxlIHByb3BlcnR5LlxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIHZpc2libGVDaGFuZ2U6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGVyZSdzIGFuIHggYXQgdGhlIHRvcCByaWdodCB0aGF0IG1ha2VzIHRoZSBkaWFsb2cgY2xvc2FibGUuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBjbG9zYWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGFyZ2V0IGVsZW1lbnQgdG8gYXR0YWNoIHRoZSBkaWFsb2cuIFwiYm9keVwiIG9yIGxvY2FsIG5nLXRlbXBsYXRlIHZhcmlhYmxlIGFyZSB2YWxpZC5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGFwcGVuZFRvOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBmaXJlZCB3aGVuIGRpYWxvZyBpcyBjbG9zZWQuXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgb25DbG9zZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBmaXJlZCB3aGVuIHRoZSBkaWFsb2cgaXMgb3BlbmVkLlxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIG9uT3BlbjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHVzZXIgY2xpY2tlZCBvbiBjb25maXJtIGJ1dHRvbi5cbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBvbkNvbmZpcm06IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB1c2VyIGNsaWNrZWQgb24gY2FuY2VsIGJ1dHRvbi5cbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBvbkNhbmNlbDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBIZWFkZXIgY29tcG9uZW50LiBVc3VhbGx5IGNvbnRhaW5zIHRoZSB0aXRsZS5cbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKENvbmZpcm1hdGlvbkhlYWRlckNvbXBvbmVudCkgaGVhZGVyOiBDb25maXJtYXRpb25IZWFkZXJDb21wb25lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBEaWFsb2cgZm9vdGVyLiBVc3VhbGx5IGNvbnRhaW5zIGJ1dHRvbnNcbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKENvbmZpcm1hdGlvbkZvb3RlckNvbXBvbmVudCkgZm9vdGVyOiBDb25maXJtYXRpb25Gb290ZXJDb21wb25lbnQ7XG5cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY6IEVudmlyb25tZW50KVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52KTtcblxuICAgICAgICB0aGlzLndpZHRoID0gNDAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9ICdhdXRvJztcbiAgICAgICAgLy8gVG9kbzogaW50ZXJuYXRpb25hbGl6ZS5cbiAgICAgICAgdGhpcy5jb25maXJtQWN0aW9uTGFiZWwgPSAnQ29uZmlybSc7XG4gICAgICAgIHRoaXMuY2FuY2VsQWN0aW9uTGFiZWwgPSAnQ2FuY2VsJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBvcGVuIGNvbmZpcm1hdGlvbi5cbiAgICAgKi9cbiAgICBvcGVuKClcbiAgICB7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMub25PcGVuLmVtaXQoKTtcblxuICAgICAgICB0aGlzLnZpc2libGVDaGFuZ2UuZW1pdCh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjbG9zZSBjb25maXJtYXRpb24uXG4gICAgICovXG4gICAgY2xvc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25DbG9zZS5lbWl0KCk7XG5cbiAgICAgICAgLy8gSW1wb3J0YW50IHRvIG1ha2Ugc3VyZSBjaGFuZ2UgaXMgc2V0IG9uIHBhcmVudCBiaW5kaW5nLlxuICAgICAgICAvLyBPdGhlcndpc2UsIHRoZSB2YXJpYWJsZSBhbmQgZGlhbG9nIG9wZW4vY2xvc2Ugc3RhdGUgY2FuIGJlIG91dFxuICAgICAgICAvLyBvZiBzeW5jIGFuZCB3ZSB3b3VsZG4ndCB0cmlnZ2VyIGNoYW5nZSBkZXRlY3Rpb24uXG4gICAgICAgIHRoaXMudmlzaWJsZUNoYW5nZS5lbWl0KGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEb2VzIHRoZSBjb25maXJtYXRpb24gaGF2ZSBoZWFkZXIgY29udGVudD9cbiAgICAgKi9cbiAgICBoYXNIZWFkZXIoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLmhlYWRlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRG9lcyB0aGUgY29uZmlybWF0aW9uIGhhdmUgZm9vdGVyIGNvbnRlbnQ/XG4gICAgICovXG4gICAgaGFzRm9vdGVyKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBpc1ByZXNlbnQodGhpcy5mb290ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmZpcm0gYWN0aW9uLlxuICAgICAqL1xuICAgIGNvbmZpcm0oKVxuICAgIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB0aGlzLm9uQ29uZmlybS5lbWl0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FuY2VsIGFjdGlvbi5cbiAgICAgKi9cbiAgICBjYW5jZWwoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB0aGlzLm9uQ2FuY2VsLmVtaXQoKTtcbiAgICB9XG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7TmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge0FXQ29yZUNvbXBvbmVudE1vZHVsZX0gZnJvbSAnLi4vLi4vY29yZS9jb3JlLm1vZHVsZSc7XG5pbXBvcnQge0NvbmZpcm1hdGlvbkNvbXBvbmVudH0gZnJvbSAnLi9jb25maXJtYXRpb24uY29tcG9uZW50JztcbmltcG9ydCB7Q29uZmlybWF0aW9uSGVhZGVyQ29tcG9uZW50fSBmcm9tICcuL2NvbmZpcm1hdGlvbi1oZWFkZXIuY29tcG9uZW50JztcbmltcG9ydCB7Q29uZmlybWF0aW9uRm9vdGVyQ29tcG9uZW50fSBmcm9tICcuL2NvbmZpcm1hdGlvbi1mb290ZXIuY29tcG9uZW50JztcbmltcG9ydCB7TW9kYWxDb21wb25lbnR9IGZyb20gJy4uLy4uL2NvcmUvbW9kYWwtc2VydmljZS9tb2RhbC9tb2RhbC5jb21wb25lbnQnO1xuaW1wb3J0IHtBV0RpYWxvZ01vZHVsZX0gZnJvbSAnLi4vZGlhbG9nL2RpYWxvZy5tb2R1bGUnO1xuaW1wb3J0IHtBV0J1dHRvbk1vZHVsZX0gZnJvbSAnLi4vYnV0dG9uL2J1dHRvbi5tb2R1bGUnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBDb25maXJtYXRpb25Db21wb25lbnQsXG4gICAgICAgIENvbmZpcm1hdGlvbkhlYWRlckNvbXBvbmVudCxcbiAgICAgICAgQ29uZmlybWF0aW9uRm9vdGVyQ29tcG9uZW50XG4gICAgXSxcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgQVdDb3JlQ29tcG9uZW50TW9kdWxlLFxuICAgICAgICBBV0RpYWxvZ01vZHVsZSxcbiAgICAgICAgQVdCdXR0b25Nb2R1bGVcbiAgICBdLFxuICAgIGVudHJ5Q29tcG9uZW50czogW1xuICAgICAgICBNb2RhbENvbXBvbmVudCxcbiAgICAgICAgQ29uZmlybWF0aW9uQ29tcG9uZW50LFxuICAgICAgICBDb25maXJtYXRpb25IZWFkZXJDb21wb25lbnQsXG4gICAgICAgIENvbmZpcm1hdGlvbkZvb3RlckNvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBDb25maXJtYXRpb25Db21wb25lbnQsXG4gICAgICAgIENvbmZpcm1hdGlvbkhlYWRlckNvbXBvbmVudCxcbiAgICAgICAgQ29uZmlybWF0aW9uRm9vdGVyQ29tcG9uZW50XG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEFXQ29uZmlybWF0aW9uTW9kdWxlXG57XG59XG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge0NvbXBvbmVudCwgRWxlbWVudFJlZiwgSW5wdXQsIFNpbXBsZUNoYW5nZXN9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtFbnZpcm9ubWVudCwgaXNCbGFuaywgaXNQcmVzZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7QmFzZUNvbXBvbmVudH0gZnJvbSAnLi4vLi4vY29yZS9iYXNlLmNvbXBvbmVudCc7XG5cbi8qKlxuICpcbiAqIENvbnRhaW5lciBwYW5lbCBwcm92aWRpbmcgc2Nyb2xsaW5nIGZ1bmN0aW9uYWxpdHkgZm9yIGl0cyBjaGlsZHJlbi4gWW91IGNhbiBjb25maWd1cmUgdGhpc1xuICogY29udGFpbmVyIHRvIGxldCBpdCB0byBzY3JvbGwgaXRzIGNvbnRlbnQgZWl0aGVyIGhvcml6b250YWxseSwgdmVydGljYWxseSBvciBsZXQgdGhlIGNvbnRlbnRcbiAqIHdyYXAuXG4gKlxuICpcbiAqIFVzYWdlIGlzIHByZXR0eSBzaW1wbGU6XG4gKlxuICogICMjIyBFeGFtcGxlIHVzaW5nIGhvcml6b250YWwgc2Nyb2xsIChkZWZhdWx0IGJlaGF2aW9yKTpcbiAqXG4gKiAgYGBgXG4gKiAgICAgICAgICAgIDxhdy1zY3JvbGxhYmxlPlxuICogICAgICAgICAgICAgICAgICA8dy1kZW1vLWNhcmQ+IENhcmQgMTwvdy1kZW1vLWNhcmQ+XG4gKiAgICAgICAgICAgICAgICAgIDx3LWRlbW8tY2FyZD4gQ2FyZCAyPC93LWRlbW8tY2FyZD5cbiAqICAgICAgICAgICAgICAgICAgPHctZGVtby1jYXJkPiBDYXJkIDM8L3ctZGVtby1jYXJkPlxuICogICAgICAgICAgICAgICAgICA8dy1kZW1vLWNhcmQ+IENhcmQgNDwvdy1kZW1vLWNhcmQ+XG4gKiAgICAgICAgICAgICAgICAgIDx3LWRlbW8tY2FyZD4gQ2FyZCA1PC93LWRlbW8tY2FyZD5cbiAqICAgICAgICAgICAgICAgICAgPHctZGVtby1jYXJkPiBDYXJkIDY8L3ctZGVtby1jYXJkPlxuICogICAgICAgICAgICAgICAgICA8dy1kZW1vLWNhcmQ+IENhcmQgNzwvdy1kZW1vLWNhcmQ+XG4gKiAgICAgICAgICAgICAgICAgIDx3LWRlbW8tY2FyZD4gQ2FyZCA4PC93LWRlbW8tY2FyZD5cbiAqICAgICAgICAgICAgICAgICAgPHctZGVtby1jYXJkPiBDYXJkIDk8L3ctZGVtby1jYXJkPlxuICogICAgICAgICAgICAgIDwvYXctc2Nyb2xsYWJsZT5cbiAqXG4gKiAgYGBgXG4gKlxuICogICMjIyBFeGFtcGxlIHVzaW5nIHZlcnRpY2FsIHNjcm9sbDpcbiAqXG4gKiAgYGBgXG4gKiAgICAgICAgICAgIDxhdy1zY3JvbGxhYmxlIFtkaXJlY3Rpb25dPVwiJ3ZlcnRpY2FsJ1wiIFtoZWlnaHRdPVwiJzQwdmgnXCI+XG4gKiAgICAgICAgICAgICAgICAgIDx3LWRlbW8tY2FyZD4gQ2FyZCAxPC93LWRlbW8tY2FyZD5cbiAqICAgICAgICAgICAgICAgICAgPHctZGVtby1jYXJkPiBDYXJkIDI8L3ctZGVtby1jYXJkPlxuICogICAgICAgICAgICAgICAgICA8dy1kZW1vLWNhcmQ+IENhcmQgMzwvdy1kZW1vLWNhcmQ+XG4gKiAgICAgICAgICAgICAgICAgIDx3LWRlbW8tY2FyZD4gQ2FyZCA0PC93LWRlbW8tY2FyZD5cbiAqICAgICAgICAgICAgICAgICAgPHctZGVtby1jYXJkPiBDYXJkIDU8L3ctZGVtby1jYXJkPlxuICogICAgICAgICAgICAgICAgICA8dy1kZW1vLWNhcmQ+IENhcmQgNjwvdy1kZW1vLWNhcmQ+XG4gKiAgICAgICAgICAgICAgICAgIDx3LWRlbW8tY2FyZD4gQ2FyZCA3PC93LWRlbW8tY2FyZD5cbiAqICAgICAgICAgICAgICAgICAgPHctZGVtby1jYXJkPiBDYXJkIDg8L3ctZGVtby1jYXJkPlxuICogICAgICAgICAgICAgICAgICA8dy1kZW1vLWNhcmQ+IENhcmQgOTwvdy1kZW1vLWNhcmQ+XG4gKiAgICAgICAgICAgICAgPC9hdy1zY3JvbGxhYmxlPlxuICpcbiAqIGBgYFxuICpcbiAqICAjIyMgRXhhbXBsZSBzY3JvbGxpbmcgaXMgZGlzYWJsZWQgYW5kIGNvbnRlbnQgd3JhcHMgYW5kIGNlbnRlcnM6XG4gKlxuICogIGBgYFxuICogICAgICAgICAgICA8YXctc2Nyb2xsYWJsZSBbZGlyZWN0aW9uXT1cIidub25lJ1wiIFthbGlnbm1lbnRdPVwiJ2NlbnRlcidcIj5cbiAqICAgICAgICAgICAgICAgICAgPHctZGVtby1jYXJkPiBDYXJkIDE8L3ctZGVtby1jYXJkPlxuICogICAgICAgICAgICAgICAgICA8dy1kZW1vLWNhcmQ+IENhcmQgMjwvdy1kZW1vLWNhcmQ+XG4gKiAgICAgICAgICAgICAgICAgIDx3LWRlbW8tY2FyZD4gQ2FyZCAzPC93LWRlbW8tY2FyZD5cbiAqICAgICAgICAgICAgICAgICAgPHctZGVtby1jYXJkPiBDYXJkIDQ8L3ctZGVtby1jYXJkPlxuICogICAgICAgICAgICAgICAgICA8dy1kZW1vLWNhcmQ+IENhcmQgNTwvdy1kZW1vLWNhcmQ+XG4gKiAgICAgICAgICAgICAgICAgIDx3LWRlbW8tY2FyZD4gQ2FyZCA2PC93LWRlbW8tY2FyZD5cbiAqICAgICAgICAgICAgICAgICAgPHctZGVtby1jYXJkPiBDYXJkIDc8L3ctZGVtby1jYXJkPlxuICogICAgICAgICAgICAgICAgICA8dy1kZW1vLWNhcmQ+IENhcmQgODwvdy1kZW1vLWNhcmQ+XG4gKiAgICAgICAgICAgICAgICAgIDx3LWRlbW8tY2FyZD4gQ2FyZCA5PC93LWRlbW8tY2FyZD5cbiAqICAgICAgICAgICAgICA8L2F3LXNjcm9sbGFibGU+XG4gKiAgYGBgXG4gKlxuICogIyMjIEhlaWdodCBwcm9wZXJ0eTpcbiAqXG4gKiBXaGVuIHVzaW5nIFwiaG9yaXpvbnRhbCBzY3JvbGxpbmdcIiBpdCBzZXQgXCJmbGV4Ym94LWRpcmVjdGlvblwiIHRvIFwicm93XCIgd2hlcmUgaGVpZ2h0XG4gKiBpcyBzZXQgYXV0b21hdGljYWxseSBiYXNlZCBvbiBpdHMgY29udGVudC4gVGhlIGhlaWdodCBzaG91bGQgYmUgYWx3YXlzIDEwMCUgd2hlbiB1c2luZ1xuICogdGhpcyBpbiBwYXJlbnQgY29udGFpbmVyLlxuICpcbiAqIElmIFwidmVydGljYWwgc2Nyb2xsaW5nXCIgaXMgdXNlZCB5b3UgbmVlZCB0byBtYWtlIHN1cmUgdGhhdDpcbiAqICAgLSB5b3VyIHBhcmVudCBjb250YWluZXIgc2V0cyB0aGUgYm91bmRhcmllcyB3aXRoIGNvcnJlY3RseSBzZXQgd2lkdGggYW5kIGhlaWdodFxuICogICBvdGhlcndpc2UgaXQgd2lsbCB1c2UgMTAwJSBvZiB0aGUgdmlld3BvcnRcbiAqICAgLSBpZiB1c2VkIGFzIHN0YW5kYWxvbmUgeW91IG5lZWQgdG8gbGltaXQgdGhlIGhlaWdodCBvdGhlcndpc2UgaXQgd2lsbCBleHBhbmQgdG8gMTAwJSBvZlxuICogICB0aGUgZG9jdW1lbnRcbiAqXG4gKlxuICpcbiAqXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctc2Nyb2xsYWJsZScsXG4gICAgdGVtcGxhdGVVcmw6ICdzY3JvbGxhYmxlLWNvbnRhaW5lci5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ3Njcm9sbGFibGUtY29udGFpbmVyLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgU2Nyb2xsYWJsZUNvbnRhaW5lckNvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnRcbntcblxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBzY3JvbGxpbmcgZGlyZWN0aW9uIG9mIHRoZSBjb250YWluZXIgbWVhbmluZyB0ZWxscyB3aGljaCBvdmVyZmxvdyBheGllcyB3aWxsIGJlXG4gICAgICogZGlzYWJsZWQgb3IgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIERlZmF1bHQgdmFsdWUgaXMgXCJob3Jpem9udGFsXCI6IEhlcmUgd2UgbG9jayBvdmVyZmxvdy15IGFuZCBvdmVyZmxvdy14IHNldCB0byBhdXRvLlxuICAgICAqXG4gICAgICogV2hlbiBzY3JvbGxpbmcgZGlyZWN0aW9uIGlzIFwidmVydGljYWxcIiBwbGVhc2UgbWFrZSBzdXJlIHlvdSBtYWludGFpbiBjb3JyZWN0IGhlaWdodCBhbmRcbiAgICAgKiB3aWR0aC5cbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgZGlyZWN0aW9uOiBTY3JvbGxpbmdEaXJlY3Rpb24gPSAnaG9yaXpvbnRhbCc7XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGhvdyBmbGV4Ym94IGNvbnRhaW5lciBpdGVtcyBzaG91bGQgYmUgYWxpZ25lZC4gRGVmYXVsdCBiZWhhdmlvciBpcyBMRUZUXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGFsaWdubWVudDogQ29udGFpbmVySXRlbXNBbGlnbm1lbnQgPSAnbGVmdCc7XG5cblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHByb3BlcnRpZXMgZm9yIGNhbGN1bGF0ZWQgY2xhc3MgbGlzdFxuICAgICAqL1xuXG4gICAgbGF5b3V0Q2xhc3M6IHN0cmluZztcblxuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQsIHB1YmxpYyBlbGVtZW50UmVmOiBFbGVtZW50UmVmKVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52KTtcblxuICAgICAgICB0aGlzLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgdGhpcy53aWR0aCA9ICcxMDAlJztcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpXG4gICAge1xuICAgICAgICB0aGlzLmluaXREZWZhdWx0KCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBNYWtlIHN1cmUgd2UgcmUtaW5pdGlhbGl6ZSBkZWZhdWx0IHdoZW4gSW5wdXQgQmluZGluZ3MgY2hhbmdlc1xuICAgICAqXG4gICAgICovXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuaW5pdERlZmF1bHQoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZGVmYXVsdCB2YWx1ZXMgYW5kIENhbGN1bGF0ZXMgbGF5b3V0IGFuZCBhbGlnbm1lbnQgY2xhc3MuIFRoZSByZWFzb24gZm9yIHVzaW5nXG4gICAgICogdGhlc2UgdXRpbGl0eSBjbGFzc2VzIGlzIHRoYXQgd2UgY2FuIGNoYW5nZSB0aGUgYmVoYXZpb3IgYW55dGltZSBhcyBjb21wYXJlZCB0byB1c2luZ1xuICAgICAqIGRpcmVjdGx5IFtzdHlsZS54eHhdIGJpbmRpbmdzLlxuICAgICAqXG4gICAgICogIyMjIERpcmVjdGlvbiBmbG93IGNsYXNzOlxuICAgICAqICAtIHUtc2Nyb2xsYWJsZS1mPGRpcmVjdGlvbj5cbiAgICAgKlxuICAgICAqICMjIyBBbGlnbm1lbnQgY2xhc3M6XG4gICAgICogIC0gdS1zY3JvbGxhYmxlLWE8YWxpZ25tZW50PlxuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBpbml0RGVmYXVsdCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmxheW91dENsYXNzID0gJ3Utc2Nyb2xsYWJsZS1maCc7XG4gICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgdGhpcy5sYXlvdXRDbGFzcyA9ICd1LXNjcm9sbGFibGUtZnYnO1xuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAndmVydGljYWwtcm93Jykge1xuICAgICAgICAgICAgdGhpcy5sYXlvdXRDbGFzcyA9ICd1LXNjcm9sbGFibGUtZnYtcm93JztcblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAnYm90aCcpIHtcbiAgICAgICAgICAgIHRoaXMubGF5b3V0Q2xhc3MgPSAndS1zY3JvbGxhYmxlLWZiJztcblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAnbm9uZScpIHtcbiAgICAgICAgICAgIHRoaXMubGF5b3V0Q2xhc3MgPSAndS1zY3JvbGxhYmxlLWZuJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGF5b3V0Q2xhc3MgKz0gJyB1LXNjcm9sbGFibGUtYScgKyB0aGlzLmFsaWdubWVudC5zdWJzdHJpbmcoMCwgMSk7XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLnN0eWxlQ2xhc3MpKSB7XG4gICAgICAgICAgICB0aGlzLmxheW91dENsYXNzICs9IGAgJHt0aGlzLnN0eWxlQ2xhc3N9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBkZWZhdWx0IHdpZHRoIGFuZCBoZWlnaHQgdG8gc29tZSB2YWx1ZSBpbiBjYXNlIHNvbWVib2R5IHBhc3NlcyBudWxsXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMud2lkdGgpKSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gJzEwMCUnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5oZWlnaHQpKSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGVsbHMgaWYgdGhlIGhvcml6b250YWwgc2Nyb2xsYmFyIGlzIHZpc2libGVcbiAgICAgKlxuICAgICAqL1xuICAgIGhhc0hvcml6b250YWxTY3JvbGwoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgbGV0IHNjcm9sbENvbnRhaW5lciA9IHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy53LXNjcm9sbGFibGUnKTtcbiAgICAgICAgcmV0dXJuIHNjcm9sbENvbnRhaW5lci5zY3JvbGxXaWR0aCA+IHNjcm9sbENvbnRhaW5lci5jbGllbnRXaWR0aDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRlbGxzIGlmIHRoZSB2ZXJ0aWNhbCBzY3JvbGxiYXIgaXMgdmlzaWJsZVxuICAgICAqXG4gICAgICovXG4gICAgaGFzVmVydGljYWxTY3JvbGwoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgbGV0IHNjcm9sbENvbnRhaW5lciA9IHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy53LXNjcm9sbGFibGUnKTtcbiAgICAgICAgcmV0dXJuIHNjcm9sbENvbnRhaW5lci5zY3JvbGxIZWlnaHQgPiBzY3JvbGxDb250YWluZXIuY2xpZW50SGVpZ2h0O1xuICAgIH1cbn1cblxuLyoqXG4gKiBTY3JvbGxpbmdEaXJlY3Rpb24gaXMgYSBuZXcgdHlwZSB0aGF0IGRyaXZlcyBzY3JvbGxpbmcgYmVoYXZpb3I6XG4gKiAgLSBob3Jpem9udGFsID0+IG92ZXJmbG93LXg6IGF1dG8sIG92ZXJmbG93LXk6aGlkZGVuXG4gKiAgLSB2ZXJ0aWNhbCA9PiBvdmVyZmxvdy14OiBoaWRkZW4sIG92ZXJmbG93LXk6YXV0b1xuICogIC0gdmVydGljYWwtcm93ID0+IG92ZXJmbG93LXg6IGhpZGRlbiwgb3ZlcmZsb3cteTphdXRvOyBmbG93OiByb3cgd3JhcFxuICogIC0gYm90aCA9PiBvdmVyZmxvdy14OiBhdXRvLCBvdmVyZmxvdy15OmF1dG9cbiAqICAtIG5vbmUgPT4gc2V0cyBmbG93LWZsb3cgdG8gcm93IHdyYXBcbiAqL1xuZXhwb3J0IHR5cGUgU2Nyb2xsaW5nRGlyZWN0aW9uID0gJ2hvcml6b250YWwnIHwgJ3ZlcnRpY2FsJyB8ICd2ZXJ0aWNhbC1yb3cnIHwgJ2JvdGgnIHwgJ25vbmUnO1xuXG5cbi8qKlxuICpcbiAqIENvbnRyb2xzIHRoZSBqdXN0aWZ5LWNvbnRlbnQgcHJvcGVydHk6XG4gKlxuICogLSBsZWZ0ID0+IGZsZXgtc3RhcnRcbiAqIC0gcmlnaHQgPT4gZmxleC1lbmRcbiAqIC0gY2VudGVyID0+IGNlbnRlclxuICogLSBqdXN0aWZ5ID0+IHNwYWNlLWJldHdlZW5cbiAqXG4gKi9cbmV4cG9ydCB0eXBlIENvbnRhaW5lckl0ZW1zQWxpZ25tZW50ID0gJ2xlZnQnIHwgJ3JpZ2h0JyB8ICdjZW50ZXInIHwgJ2p1c3RpZnknO1xuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7TmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1Njcm9sbGFibGVDb250YWluZXJDb21wb25lbnR9IGZyb20gJy4vc2Nyb2xsYWJsZS1jb250YWluZXIuY29tcG9uZW50JztcblxuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBTY3JvbGxhYmxlQ29udGFpbmVyQ29tcG9uZW50XG4gICAgXSxcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZVxuICAgIF0sXG4gICAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgICAgIFNjcm9sbGFibGVDb250YWluZXJDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgU2Nyb2xsYWJsZUNvbnRhaW5lckNvbXBvbmVudFxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBBV1Njcm9sbGFibGVDb250YWluZXJNb2R1bGVcbntcbn1cblxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIENvbnRlbnRDaGlsZCxcbiAgICBFdmVudEVtaXR0ZXIsXG4gICAgZm9yd2FyZFJlZixcbiAgICBJbmplY3QsXG4gICAgSW5wdXQsXG4gICAgT3B0aW9uYWwsXG4gICAgT3V0cHV0LFxuICAgIFNraXBTZWxmLFxuICAgIFRlbXBsYXRlUmVmLFxuICAgIFZpZXdDaGlsZFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RW52aXJvbm1lbnQsIGVxdWFscywgaXNCbGFuaywgaXNQcmVzZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7TkdfVkFMVUVfQUNDRVNTT1J9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7QmFzZUZvcm1Db21wb25lbnR9IGZyb20gJy4uLy4uL2NvcmUvYmFzZS1mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQge0xpc3Rib3gsIFNlbGVjdEl0ZW19IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XG5pbXBvcnQge0NoZWNrYm94Q29tcG9uZW50fSBmcm9tICcuLi9jaGVja2JveC9jaGVja2JveC5jb21wb25lbnQnO1xuXG5cbmV4cG9ydCBjb25zdCBMQl9DT05UUk9MX1ZBTFVFX0FDQ0VTU09SOiBhbnkgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gTGlzdENvbXBvbmVudCksXG4gICAgbXVsdGk6IHRydWVcbn07XG5cbi8qKlxuICpcbiAqIFRoZSBMaXN0IGNvbXBvbmVudCByZXByZXNlbnQgYSBzdHJ1Y3R1cmUgd2hpY2ggY29udGFpbnMgYSBsaXN0IG9mIHNlbGVjdGFibGUgaXRlbXMuIEl0ZW1zXG4gKiBzZWxlY3Rpb24gY2FuIGJlIGNvbmZpZ3VyZWQgaW4gc2luZ2xlLXNlbGVjdGlvbiwgbXVsdGktc2VsZWN0aW9uIG9yIG11bHRpLXNlbGVjdGlvbiB3aXRoIHZpc2libGVcbiAqIGNoZWNrYm94ZXMgbW9kZS5cbiAqIEluIGFkZGl0aW9uIGl0IGNhbiBkaXNwbGF5IGRhdGEgaW5zaWRlIDMgem9uZXMgTEVGVCwgTUlERExFIGFuZCBSSUdIVCBpbiBvcmRlciB0byBwcm92aWRlXG4gKiBlYXN5IHdheSBmb3IgYXBwbGljYXRpb24gZGV2ZWxvcGVyIHRvIGxheW91dCBpdHMgb3duIGN1c3RvbSBjb250ZW50IG9yIGV2ZW4gY2hhbmdlIG91dCBvZiBib3hcbiAqIGJlaGF2aW9yLlxuICpcbiAqXG4gKiAgIyMjIEV4YW1wbGVzXG4gKlxuICogIDEuIFJlbmRlciBzaW1wbGUgc2luZ2xlIHNlbGVjdGlvbiBsaXN0XG4gKlxuICogIGBgYGh0bWxcbiAqXG4gKiAgICAgIDxhdy1saXN0IFtsaXN0XT1cImxpc3RcIj48L2F3LWxpc3Q+XG4gKlxuICogIGBgYFxuICogIDIuIFJlbmRlciBsaXN0IC0gbXVsdGkgc2VsZWN0aW9uIHdpdGggY3VzdG9tIFJJR0hUIGNvbnRlbnQgdG8gc2hvdyBhIENoZWNrTWFyayB3aGVuIGl0ZW1cbiAqICBpcyBzZWxlY3RlZFxuICpcbiAqICBgYGBodG1sXG4gKlxuICogICA8YXctbGlzdCAjYXdsaXN0IFtsaXN0XT1cImxpc3RcIlxuICogICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD1cIjE1MHB4XCJcbiAqICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjI1MHB4XCJcbiAqICAgICAgICAgICAgICAgICAgICAgICBbc2VsZWN0aW9uTW9kZV09XCInbXVsdGknXCI+XG4gKlxuICogICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgI3JpZ2h0IGxldC1pdGVtPlxuICpcbiAqICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2FwLWljb25cIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwieydpY29uLWFjY2VwdCc6IGF3bGlzdC5wTGlzdEJveC5pc1NlbGVjdGVkKGl0ZW0pLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgJyc6ICFhd2xpc3QucExpc3RCb3guaXNTZWxlY3RlZChpdGVtKX1cIj5cbiAqXG4gKiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gKiAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gKiAgIDwvYXctbGlzdD5cbiAqXG4gKiAgYGBgXG4gKlxuICogMy4gUmVuZGVyIGxpc3QgLSBtdWx0aSBzZWxlY3Rpb24gd2l0aCB2aXNpYmxlIGNoZWNrYm94ZXMgYW5kIGN1c3RvbSBNSURETEUgY29udGVudCB0byBjaGFuZ2VcbiAqICB0aGUgd2F5IGl0ZW0gbmFtZSBpcyByZW5kZXJlZFxuICpcbiAqXG4gKlxuICogIGBgYGh0bWxcbiAqXG4gKiAgIDxhdy1saXN0IFtsaXN0XT1cImxpc3RcIiBoZWlnaHQ9XCIxODBweFwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIyMDBweFwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgW3NlbGVjdGlvbl09XCJzZWxlY3Rpb25cIlxuICogICAgICAgICAgICAgICAgICAgICAgIFtzZWxlY3Rpb25Nb2RlXT1cIidtdWx0aVdpdGhDaGVja2JveCdcIj5cbiAqXG4gKiAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjbWlkZGxlIGxldC1pdGVtPlxuICogICAgICAgICAgICAgICAgICAgICAgWFgte3tpdGVtLnZhbHVlfX1cbiAqICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAqICAgIDwvYXctbGlzdD5cbiAqXG4gKiAgYGBgXG4gKlxuICpcbiAqXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctbGlzdCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2xpc3QuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2xpc3QuY29tcG9uZW50LnNjc3MnXSxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgTEJfQ09OVFJPTF9WQUxVRV9BQ0NFU1NPUixcbiAgICAgICAge3Byb3ZpZGU6IEJhc2VGb3JtQ29tcG9uZW50LCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBMaXN0Q29tcG9uZW50KX1cbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIExpc3RDb21wb25lbnQgZXh0ZW5kcyBCYXNlRm9ybUNvbXBvbmVudFxue1xuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBvcHRpb24gdGhhdCB3aWxsIHNob3cgaW4gdGhlIGxpc3QuIFBsZWFzZSBub3QgdGhhdCB0aGlzIGxpc3QgaXMgY3VycmVudCB1c2VkIHRvXG4gICAgICogc2hvdyBsaW1pdGVkIG51bWJlciBvZiBpdGVtcy4gSXQgZG9lcyBub3QgaGF2ZSBhbnkgc2Nyb2xsaW5nIGZlYXR1cmUgYW5kIGxhenkgbG9hZGluZ1xuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBsaXN0OiBhbnlbXTtcblxuICAgIC8qKlxuICAgICAqIEl0ZW1zIHdoaWNoIHdhcyBzZWxlY3RlZCBhcyBhIGRlZmF1bHQgdmFsdWVzXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzZWxlY3Rpb246IGFueTtcblxuICAgIC8qKlxuICAgICAqIENvbXBvbmVudCByZWNvZ25pemVzIDMgbW9kZXM6IHNpbmdsZSwgbXVsdGksIG11bHRpIHdpdGggdmlzaWJsZSBjaGVja2JveGVzXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzZWxlY3Rpb25Nb2RlOiBTZWxlY3Rpb25Nb2RlID0gJ3NpbmdsZSc7XG5cblxuICAgIC8qKlxuICAgICAqIEZvcm1hdHRlciB1c2VkIHRvIGZvcm1hdCBlYWNoIHNlbGVjdGlvbiBmb3IgZGlzcGxheS5cbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgdmFsdWVUcmFuc2Zvcm1lcjogKHZhbHVlOiBhbnkpID0+IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFVzZWQgd2hlbiBkZWFsaW5nIHdpdGggb2JqZWN0IHRvIGlkZW50aWZ5IHNwZWNpZmljIGZpZWxkIG9uIHRoZSBvYmplY3QgZm9yY29tcGFyaXNvblxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgZmllbGQ6IHN0cmluZztcblxuXG4gICAgLyoqXG4gICAgICogRG9uJ3QgcmVuZGVyIExpc3Rib3ggYm9yZGVyLiBVc2VkIGZvciBlbWJlZGRpbmcgdGhpcyBpbnNpZGUgb3RoZXIgY29tcG9uZW50c1xuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBib3JkZXJsZXNzOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiB3ZSBkb3VibGUgY2xpY2sgb24gdGhlIGxpc3QgSXRlbVxuICAgICAqXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgYWN0aW9uOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEV2ZW50IGZpcmVkIHdoZW4gdXNlciBzZWxlY3QgYSBpdGVtXG4gICAgICpcbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBvblNlbGVjdGlvbjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cblxuICAgIC8qKlxuICAgICAqIEluIGNhc2Ugd2Ugd2FudCB0byBvdmVycmlkZSBkZWZhdWx0IGJlaGF2aW9yIG9yIExlZnQgem9uZS4gV2UgZXhwb3NlIHRoaXMgbGlzdEJveCBpbiBvcmRlciB0b1xuICAgICAqIGhhdmUgYWNjZXNzIHByaW1lTmcgaW1wbGVtZW50YXRpb25cbiAgICAgKi9cbiAgICBAVmlld0NoaWxkKCdsaXN0Ym94JylcbiAgICBwTGlzdEJveDogTGlzdGJveDtcblxuXG4gICAgLyoqXG4gICAgICogQ3VzdG9tIHRlbXBsYXRlcyB0byBvdmVycmlkZSBkZWZhdWx0IGJlaGF2aW9yLiBUaGUgbGlzdCBpdGVtIGlzIGRpdmlkZWQgaW50byAzIHpvbmVzXG4gICAgICpcbiAgICAgKlxuICAgICAqICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiAgfCAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICB8XG4gICAgICogIHwgICBMICAgfCAgICAgICAgICAgICBNICAgICAgICAgICAgICAgICAgICAgfCAgIFIgICAgfFxuICAgICAqICB8ICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgIHxcbiAgICAgKiAgfCAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICB8XG4gICAgICogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkKCdsZWZ0JylcbiAgICBsWm9uZVRlbXBsOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG4gICAgQENvbnRlbnRDaGlsZCgnbWlkZGxlJylcbiAgICBtWm9uZVRlbXBsOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG4gICAgQENvbnRlbnRDaGlsZCgncmlnaHQnKVxuICAgIHJab25lVGVtcGw6IFRlbXBsYXRlUmVmPGFueT47XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbFxuICAgICAqL1xuICAgIGludGVybmFsTGlzdDogU2VsZWN0SXRlbVtdO1xuXG4gICAgbGlzdFN0eWxlOiB7W25hbWU6IHN0cmluZ106IGFueX0gPSB7fTtcblxuICAgIGlzTXVsdGlwbGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBzaG93Q2hlY2tib3g6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgQFNraXBTZWxmKCkgQE9wdGlvbmFsKCkgQEluamVjdChmb3J3YXJkUmVmKCgpID0+IEJhc2VGb3JtQ29tcG9uZW50KSlcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgcGFyZW50Q29udGFpbmVyOiBCYXNlRm9ybUNvbXBvbmVudClcbiAgICB7XG4gICAgICAgIHN1cGVyKGVudiwgcGFyZW50Q29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpXG4gICAge1xuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xuXG4gICAgICAgIHRoaXMuaXNNdWx0aXBsZSA9IHRoaXMuc2VsZWN0aW9uTW9kZSA9PT0gJ211bHRpJyB8fFxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnbXVsdGlXaXRoQ2hlY2tib3gnO1xuICAgICAgICB0aGlzLnNob3dDaGVja2JveCA9IHRoaXMuc2VsZWN0aW9uTW9kZSA9PT0gJ211bHRpV2l0aENoZWNrYm94JztcblxuICAgICAgICAvLyBjYW5ub3QgaGF2ZSBib3RoIGVpdGhlciB3ZSB1c2UgZmllbGQgdG8gZ2V0IGRpc3BsYXkgdmFsdWUgb3IgdmFsdWVUcmFuc2Zvcm1lclxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuZmllbGQpICYmIGlzUHJlc2VudCh0aGlzLnZhbHVlVHJhbnNmb3JtZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBjYW4gaGF2ZSBlaXRoZXIgW2ZpZWxkXSBvciBbdmFsdWVUcmFuc2Zvcm1lcl0uJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMubGlzdCkpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdExpc3QoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBbbGlzdF0gYmluZGluZy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFsc28gYWRkIG92ZXJmbG93WSB0byBtYWtlIHN1cmUgaXQgY2FuIHNjcm9sbCBhbmQgZG9lcyBub3QgZXhwYW5kIGJhc2VkIG9uIGl0cyBjb250ZW50XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5oZWlnaHQpKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RTdHlsZVsnaGVpZ2h0J10gPSB0aGlzLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMubGlzdFN0eWxlWydvdmVyZmxvdy15J10gPSAnYXV0byc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMud2lkdGgpKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RTdHlsZVsnd2lkdGgnXSA9IHRoaXMud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ib3JkZXJsZXNzKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RTdHlsZVsnYm9yZGVyLWNvbG9yJ10gPSAndHJhbnNwYXJlbnQnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNTdGFuZGFsb25lKSB7XG4gICAgICAgICAgICBzdXBlci5yZWdpc3RlckZvcm1Db250cm9sKHRoaXMuc2VsZWN0aW9uKTtcblxuICAgICAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5zZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSB0aGlzLmZvcm1Db250cm9sLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFNpbmNlIHdlIGFyZSB1c2luZyA8YXctY2hlY2tib3g+IHdlIG5lZWQgdG8gaGF2ZSBjdXN0b20gaGFuZGxpbmcgYm90aCB3aGVuIGNsaWNraW5nIG9uIHRoZVxuICAgICAqIGNoZWNrYm94IGFzIHdlbGwgYXMgaXRlbSB0ZXh0LlxuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICBpdGVtQ2xpY2tlZChldmVudDogYW55LCBpdGVtOiBhbnksIGNoZWNrYm94OiBDaGVja2JveENvbXBvbmVudCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMucExpc3RCb3gub25PcHRpb25DbGljayhldmVudCwgaXRlbSk7XG5cbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWxcbiAgICAgKlxuICAgICAqL1xuICAgIGhhc1JpZ2h0VGVtcGwoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLnJab25lVGVtcGwpO1xuICAgIH1cblxuICAgIGhhc0xlZnRUZW1wbCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMubFpvbmVUZW1wbCk7XG4gICAgfVxuXG5cbiAgICBoYXNNaWRkbGVUZW1wbCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMubVpvbmVUZW1wbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBUcmlnZ2VyZWQgYnkgcC1saXN0Ym94IGNvbXBvbmVudCB3aGVuIGl0ZW0gaXMgc2VsZWN0ZWQuIFdoZW4gc3RhdGUgaXMgbWFuYWdlZCBpbnRlcm5hbGx5XG4gICAgICogd2UgYWxzbyB1cGRhdGUgRm9ybUNvbnRyb2wgbW9kZWwuXG4gICAgICpcbiAgICAgKi9cbiAgICBvbkl0ZW1TZWxlY3RlZChldmVudDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsoZXZlbnQudmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9uU2VsZWN0aW9uLmVtaXQoZXZlbnQudmFsdWUpO1xuICAgICAgICBpZiAodGhpcy5pc1N0YW5kYWxvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybUNvbnRyb2wuc2V0VmFsdWUoZXZlbnQudmFsdWUsIHtlbWl0RXZlbnQ6IHRydWV9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uTW9kZWxDaGFuZ2VkKGV2ZW50LnZhbHVlKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEludGVybmFsLiBQbGVhc2Ugc2VlIENvbnRyb2xWYWx1ZUFjY2Vzc29yXG4gICAgICpcbiAgICAgKi9cbiAgICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpXG4gICAge1xuICAgICAgICBpZiAoIWVxdWFscyh2YWx1ZSwgdGhpcy5zZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTdGFuZGFsb25lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JtQ29udHJvbC5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIGV4dGVybmFsIGZvcm0gb2YgdGhlIGxpc3QgaW50byBQcmltZU5HIGV4cGVjdGVkIGZvcm1hdCB3aGVyZSBpdCB1c2VzXG4gICAgICogU2VsZWN0aW9uSXRlbSBpbnRlcmZhY2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGluaXRMaXN0KClcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5saXN0KSkge1xuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbExpc3QgPSB0aGlzLmxpc3QubWFwKChpdGVtOiBhbnkpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtsYWJlbDogdGhpcy5kaXNwbGF5VmFsdWUoaXRlbSksIHZhbHVlOiBpdGVtfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgR2VuZXJhdGVzIGxhYmVsIHZhbHVlIGZvciB0aGUgbGlzdCBib3guXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGRpc3BsYXlWYWx1ZShpdGVtOiBhbnkpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGlmIChpc0JsYW5rKGl0ZW0pKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmFsID0gaXRlbS50b1N0cmluZygpO1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuZmllbGQpKSB7XG4gICAgICAgICAgICB2YWwgPSBpdGVtW3RoaXMuZmllbGRdO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoaXNQcmVzZW50KHRoaXMudmFsdWVUcmFuc2Zvcm1lcikpIHtcbiAgICAgICAgICAgIHZhbCA9IHRoaXMudmFsdWVUcmFuc2Zvcm1lcihpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBMaXN0IHN1cHBvcnQgdGhlc2UgdGhyZWUgc2VsZWN0aW9uIG1vZGVzXG4gKlxuICovXG5leHBvcnQgdHlwZSBTZWxlY3Rpb25Nb2RlID0gJ3NpbmdsZScgfCAnbXVsdGknIHwgJ211bHRpV2l0aENoZWNrYm94JztcbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtOZ01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0NvbW1vbk1vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7TGlzdGJveE1vZHVsZX0gZnJvbSAncHJpbWVuZy9wcmltZW5nJztcbmltcG9ydCB7TGlzdENvbXBvbmVudH0gZnJvbSAnLi9saXN0LmNvbXBvbmVudCc7XG5pbXBvcnQge0FXQ2hlY2tCb3hNb2R1bGV9IGZyb20gJy4uL2NoZWNrYm94L2NoZWNrLWJveC5tb2R1bGUnO1xuaW1wb3J0IHtGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuXG5cbkBOZ01vZHVsZSh7XG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIExpc3RDb21wb25lbnRcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZSxcbiAgICAgICAgTGlzdGJveE1vZHVsZSxcbiAgICAgICAgQVdDaGVja0JveE1vZHVsZVxuXG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgTGlzdENvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBMaXN0Q29tcG9uZW50LFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZVxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBBV0xpc3RNb2R1bGVcbntcbn1cblxuXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBAYXV0aG9yIGFtYW51bC5jaG93ZGh1cnlcbiAqIENvcHlyaWdodCAyMDE4IFNBUCBBcmliYVxuICpcbiAqIFdpemFyZFByb2dyZXNzQ29tcG9uZW50IGNhbiBiZSB1c2VkIGFzIGEgc3RlcCBwcm9ncmVzc1xuICogaW4gYSBwYWdlIHRoYXQgaGFzIG11bHRpcGxlIHN0ZXBzXG4gKiBgPGF3LXdpemFyZC1wcm9ncmVzc1xuICogIFtzdGVwc109XCJzdGVwc1wiXG4gKiAgW2N1cnJlbnRTdGVwXT1cImN1cnJlbnRTdGVwXCJcbiAqICAoc3RlcENoYW5nZWQpPVwib25TdGVwQ2hhbmdlZCgkZXZlbnQpXCI+XG4gKiA8L2F3LXdpemFyZC1wcm9ncmVzcz5gXG4gKi9cblxuaW1wb3J0IHtDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RlcFxue1xuICAgIGNvbXBsZXRlOiBib29sZWFuO1xuICAgIGN1cnJlbnQ6IGJvb2xlYW47XG4gICAgdGl0bGU/OiBzdHJpbmc7XG59XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXctd2l6YXJkLXByb2dyZXNzJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vd2l6YXJkLXByb2dyZXNzLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi93aXphcmQtcHJvZ3Jlc3MuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBXaXphcmRQcm9ncmVzc0NvbXBvbmVudFxue1xuICAgIEBJbnB1dCgpXG4gICAgc3RlcHM6IEFycmF5PFN0ZXA+O1xuXG4gICAgQElucHV0KClcbiAgICBjdXJyZW50U3RlcDogbnVtYmVyID0gMDtcblxuICAgIEBPdXRwdXQoKVxuICAgIHN0ZXBDaGFuZ2VkOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgdG90YWxTdGVwczogbnVtYmVyID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc3RlcHMpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50SW5kZXggPSB0aGlzLnN0ZXBzLmluZGV4T2YodGhpcy5zdGVwcy5maWx0ZXIoc3RlcCA9PiBzdGVwLmN1cnJlbnQpWzBdKTtcbiAgICAgICAgICAgIHRoaXMudG90YWxTdGVwcyA9IHRoaXMuc3RlcHMubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50U3RlcCh+Y3VycmVudEluZGV4ID8gY3VycmVudEluZGV4IDogMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDdXJyZW50U3RlcChpbmRleDogbnVtYmVyID0gMClcbiAgICB7XG4gICAgICAgIHRoaXMuc3RlcHNbaW5kZXhdLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGVwID0gaW5kZXg7XG4gICAgICAgIHRoaXMuc3RlcENoYW5nZWQuZW1pdCh7Y3VycmVudDogdGhpcy5jdXJyZW50U3RlcH0pO1xuICAgIH1cblxuICAgIGdvVG9TdGVwKGluZGV4OiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc3RlcHNbaW5kZXhdLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudEluZGV4ID0gdGhpcy5zdGVwcy5pbmRleE9mKHRoaXMuc3RlcHMuZmlsdGVyKHN0ZXAgPT4gc3RlcC5jdXJyZW50KVswXSk7XG4gICAgICAgIHRoaXMuc3RlcHNbY3VycmVudEluZGV4XS5jdXJyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5zZXRDdXJyZW50U3RlcChpbmRleCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7V2l6YXJkUHJvZ3Jlc3NDb21wb25lbnR9IGZyb20gJy4vd2l6YXJkLXByb2dyZXNzLmNvbXBvbmVudCc7XG5pbXBvcnQge0NvbW1vbk1vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBXaXphcmRQcm9ncmVzc0NvbXBvbmVudFxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGVcbiAgICBdLFxuICAgIGVudHJ5Q29tcG9uZW50czogW1xuICAgICAgICBXaXphcmRQcm9ncmVzc0NvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBXaXphcmRQcm9ncmVzc0NvbXBvbmVudFxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBXaXphcmRQcm9ncmVzc01vZHVsZVxue1xufVxuXG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnQsIElucHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7QmFzZUNvbXBvbmVudH0gZnJvbSAnLi4vLi4vY29yZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQge0Vudmlyb25tZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcblxuXG4vKipcbiAqIFJlbmRlcnMgYSBUb2dnbGUgU3dpdGNoXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKlxuICogICAgICBAQ29tcG9uZW50KHtcbiAqICAgICAgICAgIHNlbGVjdG9yOiAnbXlUb2dnbGVTZWN0aW9uJyAsXG4gKiAgICAgICAgICB0ZW1wbGF0ZTogJzxhdy10b2dnbGUgW21vZGVsXT1cImlucHV0VmFsdWVcIiBbbGFiZWxUZXh0XT1cImxhYmVsVGV4dFwiID5cbiAqICAgICAgICAgICAgICA8L2F3LXRvZ2dsZT4nXG4gKiAgICAgIH0pXG4gKiAgICAgIGV4cG9ydCBjbGFzcyBNeU5vdGVDb21wb25lbnRcbiAqICAgICAge1xuICogICAgICAgICAgaW5wdXRWYWx1ZTogYm9vbGVhbiA9IGZhbHNlO1xuICogICAgICAgICAgbGFiZWxUZXh0OiBzdHJpbmcgPSAnbXkgbGFiZWwnO1xuICogICAgICB9XG4gKlxuICogYGBgXG4gKi9cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy10b2dnbGUnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi90b2dnbGUtc3dpdGNoLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi90b2dnbGUtc3dpdGNoLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5cbmV4cG9ydCBjbGFzcyBUb2dnbGVTd2l0Y2hDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50XG57XG4gICAgLyoqXG4gICAgICogdG9nZ2xlIG1vZGVsXG4gICAgICovXG4gICAgQElucHV0KCkgbW9kZWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBsYWJlbCB0ZXh0XG4gICAgICovXG4gICAgQElucHV0KCkgbGFiZWxUZXh0OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZW52OiBFbnZpcm9ubWVudClcbiAgICB7XG4gICAgICAgIHN1cGVyKGVudik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2xpY2sgaGFuZGxlciBmb3IgdG9nZ2xlXG4gICAgICovXG4gICAgY2hhbmdlSGFuZGxlcigpXG4gICAge1xuICAgICAgICB0aGlzLm1vZGVsID0gIXRoaXMubW9kZWw7XG4gICAgfVxufVxuXG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtOZ01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1RvZ2dsZVN3aXRjaENvbXBvbmVudH0gZnJvbSAnLi90b2dnbGUtc3dpdGNoLmNvbXBvbmVudCc7XG5pbXBvcnQge0NvbW1vbk1vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBUb2dnbGVTd2l0Y2hDb21wb25lbnRcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlXG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgVG9nZ2xlU3dpdGNoQ29tcG9uZW50XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIFRvZ2dsZVN3aXRjaENvbXBvbmVudFxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBUb2dnbGVTd2l0Y2hNb2R1bGVcbntcbn1cblxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7XG4gICAgQWZ0ZXJDb250ZW50SW5pdCwgQWZ0ZXJWaWV3SW5pdCxcbiAgICBDb21wb25lbnQsXG4gICAgRXZlbnRFbWl0dGVyLFxuICAgIElucHV0LFxuICAgIE9uSW5pdCxcbiAgICBPdXRwdXQsXG4gICAgVmlld0NoaWxkXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtNb2RhbENvbnRhaW5lcn0gZnJvbSAnLi4vLi4vY29yZS9tb2RhbC1zZXJ2aWNlL21vZGFsLWNvbnRhaW5lcic7XG5pbXBvcnQge092ZXJsYXlQYW5lbH0gZnJvbSAncHJpbWVuZy9wcmltZW5nJztcbmltcG9ydCB7RW52aXJvbm1lbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuXG4vKipcbiAqIE92ZXJsYXkgQ29tcG9uZW50IGlzIGEgc2ltcGxlIHZlcnNpb24gb2YgdGhlIGRpYWxvZyB3aGVyZSB0aGVyZSdzIG9ubHkgY29udGVudC5cbiAqIE92ZXJsYXkgd2lsbCBhcHBlYXIgYXQgdGhlIHBvc2l0aW9uIHdoZXJlIHRoZSBhY3Rpb24gcGVyZm9ybWVkIHRyaWdnZXIgYW4gb3ZlcmxheS5cbiAqXG4gKiBUaGVyZSBhcmUgdGhyZWUgdHlwZXMgb2YgcG9wdXAuXG4gKiAgIDEuICBhIHJlZ3VsYXIgZGlhbG9nIGJveCB0aGF0IGhhcyBoZWFkZXIsIGJvZHkgYW5kIGZvb3Rlci4gSXQncyB0aGUgbW9zdCBjdXN0b21pemFibGUuXG4gKiAgIDIuICBhIGNvbmZpcm1hdGlvbiBib3ggaXMgc2ltaWxhciB0byBhIGRpYWxvZyBib3ggYnV0IGhhcyBhY2NlcHQgYW5kIHJlamVjdCBhY3Rpb24gYnV0dG9ucy5cbiAqICAgMy4gIGEgb3ZlcmxheSwgd2hpY2ggaXMgYSB2ZXJ5IGJhc2ljIHBvcHVwIHdpdGggd2hhdCB5b3UgcHV0IGluc2lkZS5cbiAqICAgICAgIEl0IGRvZXNuJ3QgaGF2ZSBoZWFkZXIgYW5kIGZvb3Rlci5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIHdheXMgdG8gdXNlIGFueSBwb3B1cCBjb21wb25lbnQuXG4gKiAgIDEuICBFaXRoZXIgZGlyZWN0bHkgYnkgdXNpbmcgY29tcG9uZW50LCBhdy1kaWFsb2csIGF3LWNvbmZpcm1hdGlvbiBvciBhdy1vdmVybGF5XG4gKiAgIDIuICBvciB0aGUgTW9kYWxTZXJ2aWNlICBzZXJ2aWNlLm9wZW4oPE92ZXJsYXlDb21wb25lbnQ+KSwgc2VydmljZS5jbG9zZSgpXG4gKlxuICogVXNhZ2U6XG4gKiAgICAxLiAgVXNpbmcgTW9kYWxTZXJ2aWNlIGRpcmVjdGx5IHRvIGRpc3BsYXkgYSBtb2RhbCBwb3B1cC4gVGhlIHVzYWdlIGlzIGEgbGl0dGxlIHRyaWNreVxuICogICAgICAgIGJlY2F1c2UgYW5ndWxhciBjdXJyZW50bHkgZG9lc24ndCBzdXBwb3J0IGR5bmFtaWMgY29udGVudCBwcm9qZWN0aW9uLlxuICpcbiAqICAgICAgICAgIGxldCBvdmVybGF5ID0gdGhpcy5tb2RhbFNlcnZpY2Uub3BlbjxPdmVybGF5Q29tcG9uZW50PihPdmVybGF5Q29tcG9uZW50LCB7fSk7XG4gKlxuICogICAgICAgICAgICAvLyBBZGQgY29udGVudC4gVGhlcmUncyBub3Qgc3VwcG9ydCBmb3IgZHluYW1pYyBjb250ZW50IHByb2plY3Rpb24geWV0LlxuICogICAgICAgICAgICAvLyBTbyBoYXZlIGFkZCBjb250ZW50IGRpcmVjdGx5LlxuICogICAgICAgICAgICAvLyBUaGlzIGlzIHByb2JhYmx5IG5vdCB0aGUgYmVzdCB3YXkuXG4gKiAgICAgICAgICBvdmVybGF5Lmluc3RhbmNlLm92ZXJsYXkuZWwubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnVpLW92ZXJsYXlwYW5lbC1jb250ZW50XCIpXG4gKiAgICAgICAgICAgICAgIC5pbm5lckhUTUwgPSBgPGltZyBzdHlsZT0nd2lkdGg6MzAwcHg7JyBzcmM9XCJzYWxlcy5wbmdcIiBhbHQ9XCJTYWxlcyBDaGFydFwiIC8+YDtcbiAqXG4gKiAgICAgICAgICAvLyBkZWxheSB0aGUgb3BlbmluZyBhZnRlciBuZyBsaWZlY3ljbGUgaGFzIGJlZW4gaW5pdGlhbGl6ZWQuXG4gKiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgb3ZlcmxheS5pbnN0YW5jZS5vcGVuKGV2ZW50KTsgfSwgMSk7XG4gKlxuICpcbiAqICAgMi4gICBVc2UgdGhlIGNvbXBvbmVudCBpbnNpZGUgeW91ciB0ZW1wbGF0ZS5cbiAqXG4gKiAgICAgICAgICBAQ29tcG9uZW50KHtcbiAqICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnYXctcGFnZScgLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhdy1vdmVybGF5ICNvdmVybGF5IChvbk9wZW4pPVwib3ZlcmxheUFjdGlvbj0nb3BlbidcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvbkNsb3NlKT1cIm92ZXJsYXlBY3Rpb249J2Nsb3NlJ1wiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwic2FsZXMucG5nXCIgYWx0PVwiQ2hhcnRcIi8+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hdy1vdmVybGF5PlxuICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YXctYnV0dG9uIFtzaXplXT1cIidzbWFsbCdcIiAoY2xpY2spPVwib3ZlcmxheS5vcGVuKCRldmVudClcIj5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT3BlbiBPdmVybGF5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hdy1idXR0b24+XG4gKiAgICAgICAgICAgICAgICAgIGBcbiAqICAgICAgICAgZXhwb3J0IGNsYXNzIE15UGFnZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gKlxuICogICAgICAgICAgICAgICAgICAgICBvdmVybGF5QWN0aW9uOiBzdHJpbmc7XG4gKlxuICogICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG1vZGFsU2VydmljZTogTW9kYWxTZXJ2aWNlKSB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwZXIoKTtcbiAqICAgICAgICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICAgICAgICAgIG5nT25Jbml0KCkgeyB9XG4gKiAgICAgICB9XG4gKlxuICpcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1vdmVybGF5JyxcbiAgICB0ZW1wbGF0ZVVybDogJ292ZXJsYXkuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydvdmVybGF5LmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgT3ZlcmxheUNvbXBvbmVudCBleHRlbmRzIE1vZGFsQ29udGFpbmVyIGltcGxlbWVudHMgT25Jbml0LCBBZnRlckNvbnRlbnRJbml0LFxuICAgIEFmdGVyVmlld0luaXRcbntcbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGhpZGUgb3ZlcmxheSB3aGVuIG91dHNpZGUgaXMgY2xpY2tlZC5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGRpc21pc3NhYmxlOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIGRpc3BsYXlzIHRoZSBjbG9zZSBpY29uICd4JyBhdCB0b3Agb2YgcmlnaHQgY29ybmVyLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2hvd0Nsb3NlSWNvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFRhcmdldCBlbGVtZW50IHRvIGF0dGFjaCB0aGUgb3ZlcmxheS4gXCJib2R5XCIgb3IgbG9jYWwgbmctdGVtcGxhdGUgdmFyaWFibGUgYXJlIHZhbGlkLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgYXBwZW5kVG86IGFueTtcblxuICAgIC8qKlxuICAgICAqIEV2ZW50IGZpcmVkIHdoZW4gb3ZlcmxheSBpcyBjbG9zZWQuXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgb25DbG9zZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cblxuICAgIC8qKlxuICAgICAqIEV2ZW50IGZpcmVkIGp1c3QgYmVmb3JlIG92ZXJsYXkgaXMgY2xvc2VkXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgYmVmb3JlQ2xvc2U6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgLyoqXG4gICAgICogRXZlbnQgZmlyZWQgd2hlbiB0aGUgb3ZlcmxheSBpcyBvcGVuZWQuXG4gICAgICovXG4gICAgQE91dHB1dCgpXG4gICAgb25PcGVuOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnRlcm5hbCBvdmVybGF5IHBhbmVsLlxuICAgICAqL1xuICAgIEBWaWV3Q2hpbGQoT3ZlcmxheVBhbmVsKVxuICAgIG92ZXJsYXk6IE92ZXJsYXlQYW5lbDtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbnY6IEVudmlyb25tZW50KVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52KTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpXG4gICAge1xuICAgIH1cblxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBwbGFjZSBob2xkZXIgdG8gYmUgb3ZlcnJpZGRlbiBieSBNb2RhbCBTZXJ2aWNlXG4gICAgfVxuXG4gICAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIHBsYWNlIGhvbGRlciB0byBiZSBvdmVycmlkZGVuIGJ5IE1vZGFsIFNlcnZpY2VcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE9wZW4gT3ZlcmxheVxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqL1xuICAgIG9wZW4oZXZlbnQ6IGFueSlcbiAgICB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vdmVybGF5LnNob3coZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5vbk9wZW5lZChudWxsKTtcbiAgICAgICAgfSwgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2UgT3ZlcmxheVxuICAgICAqL1xuICAgIGNsb3NlKClcbiAgICB7XG4gICAgICAgIHRoaXMuYmVmb3JlQ2xvc2UuZW1pdChudWxsKTtcbiAgICAgICAgdGhpcy5vdmVybGF5LmhpZGUoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIHRvZ2dsZSBvcGVuIGFuZCBjbG9zZS5cbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKi9cbiAgICB0b2dnbGUoZXZlbnQ6IGFueSlcbiAgICB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vdmVybGF5LnRvZ2dsZShldmVudCk7XG4gICAgICAgIH0sIDApO1xuICAgIH1cblxuXG4gICAgb25PcGVuZWQoZXZlbnQ6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMub25PcGVuLmVtaXQoZXZlbnQpO1xuICAgIH1cblxuICAgIG9uQ2xvc2VkKGV2ZW50OiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLm9uQ2xvc2UuZW1pdChldmVudCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge0NoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0LCBWaWV3Q2hpbGR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtBbmltYXRpb25FdmVudH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5pbXBvcnQge2Fzc2VydCwgRW52aXJvbm1lbnQsIGlzQmxhbmssIGlzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0Jhc2VDb21wb25lbnR9IGZyb20gJy4uLy4uL2NvcmUvYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHtPdmVybGF5Q29tcG9uZW50fSBmcm9tICcuLi9vdmVybGF5L292ZXJsYXkuY29tcG9uZW50JztcblxuXG4vKipcbiAqIERlZmluZXMgd2hlcmUgdGhlIENhcmQgaXMgcG9zaXRpb25lZC4gSXQgY2FuIGJlIGVpdGhlcjpcbiAqICAgIC0gYWJvdmUgdGhlIHRyaWdnZXJpbmcgbGlua1xuICogICAgLSB1bmRlciB0aGUgdHJpZ2dlcmluZyBsaW5rXG4gKiAgICAtIGNvbXBsZXRlbHkgb24gdG9wIG9mIGl0IC0gY292ZXJpbmcgaXQuIEZvciB0aGlzIGNhc2UgdGhlcmUgaXMgbm9uZSBhcyBubyBzdHlsZSBpcyBhcHBsaWVkXG4gKi9cbmV4cG9ydCBlbnVtIEhDQ2FyZFBvc2l0aW9uXG57XG4gICAgdG9wLFxuICAgIGJvdHRvbSxcbiAgICBub25lXG59XG5cbi8qKlxuICogRGVmaW5lcyB3aGVyZSB0aGUgQ2FyZCBpcyBwb3NpdGlvbmVkIGJ5IGRlZmF1bHQuIE1lYW5pbmcgd2hlcmUgcHJpbWVORyBjb2RlIHB1dCBpdC5cbiAqXG4gKiBXaGVuIHRoZXJlIGlzIGFsbG90IG9mIHNwYWNlIG9uIHRoZSBzaWRlcyA+PSAgKExlZnQgb3IgUmlnaHQpIGlzIHVzZWRcbiAqIChwYWRkZWRMZWZ0LCBwYWRkZWRSaWdodCkgb3RoZXJ3aXNlLiBXaGVuIHRoZXJlIGlzIG5vdCBtdWNoIHNwYWNlIGFuZCBjYXJkIGNvbnRhaW5lclxuICogIGlzIG5vdCBhbGlnbmVkIChsZWZ0LCByaWdodCkgd2l0aCB0aGUgdHJpZ2VyaW5nIGljb24gYnV0IGl0IGlzIHNoaWZ0ZWQgdG8gZml0IGludG8gdGhlIHNjcmVlblxuICovXG5lbnVtIEhDQ2FyZEFsaWdubWVudFxue1xuICAgIGxlZnQsXG4gICAgcGFkZGVkTGVmdCxcbiAgICByaWdodCxcbiAgICBwYWRkZWRSaWdodCxcbiAgICBkZWZhdWx0XG59XG5cbi8qKlxuICogTWFwcyBwb3NpdGlvbiB0byBzdHlsZXMgdGhhdCBhcmUgYXBwbGllZCB0byB0aGUgQ2FyZCBjb250YWluZXIuIFRoaXMgaXMganVzdCB0byBtYWtlIGl0IGVhc2llclxuICogYXMgd2UgYXJlIHdvcmtpbmcgd2l0aCBlbnVtZXJhdGlvbnMgYW5kIGhhdmUgYWxyZWFkeSBlbnVtIHR5cGUuXG4gKlxuICogdS1oYy1hcnJvdy1iOiBBcnJvdyB3aWxsIGFwcGVhciBhdCB0aGUgYm90dG9tXG4gKiB1LWhjLWFycm93LXQ6IEFycm93IHdpbGwgYXBwZWFyIGF0IHRoZSB0b3BcbiAqXG4gKiB1LWhjLXNoYWRvdy10OiBCb3JkZXIgc2hhZG93IHdpbGwgYXBwZWFyIGF0IHRoZSB0b3BcbiAqIHUtaGMtc2hhZG93LWI6IEJvcmRlciBzaGFkb3cgd2lsbCBhcHBlYXIgYXQgdGhlIGJvdHRvbVxuICovXG5jb25zdCBQb3NpdGlvblRvU3R5bGUgPSB7XG4gICAgdG9wOiAnIHctaGMtcGFuZWwtYXJyb3cgdS1oYy1hcnJvdy1iIHUtaGMtc2hhZG93LXQnLFxuICAgIGJvdHRvbTogJyB3LWhjLXBhbmVsLWFycm93IHUtaGMtYXJyb3ctdCB1LWhjLXNoYWRvdy1iJyxcbiAgICBub25lOiAnJ1xufTtcblxuXG4vKipcbiAqXG4gKiBNYXBzIGFsaWduZWQgQ2FyZCBjb250YWluZXIgdG8gY3VzdG9tIHN0eWxlcyBpbiBvcmRlciB0byBhcHBseSBjb3JyZWN0IGFycm93XG4gKlxuICogLWxsOiBTdGFuZHMgZm9yIExhcmdlIExlZnQgKGxhcmdlOiB0aGVyZSBpcyBwbGVudHkgb2Ygc3BhY2UgYXJvdW5kIClcbiAqIC1scjogU3RhbmRzIGZvciBMYXJnZSByaWdodFxuICogLXNsOiBTdGFuZHMgZm9yIFNtYWxsIGxlZnQgKFNtYWxsIGFuZCByZXNpemVkIHNjcmVlbiB3aGVyZSB3ZSB0cnkgdG8gZml0IGNhcmQgY29udGFpbmVyXG4gKiBzb21ld2hlcmUgaW4gYmV0d2VlbilcbiAqIC1zcjogU3RhbmRzIGZvciBMYXJnZSByaWdodFxuICpcbiAqL1xuY29uc3QgQWxpZ25tZW50VG9TdHlsZSA9IHtcbiAgICBsZWZ0OiAnIHUtaGMtYXJyb3ctbGwnLFxuICAgIHJpZ2h0OiAnIHUtaGMtYXJyb3ctbHInLFxuICAgIHBhZGRlZExlZnQ6ICcgdS1oYy1hcnJvdy1zbCcsXG4gICAgcGFkZGVkUmlnaHQ6ICcgdS1oYy1hcnJvdy1zcicsXG4gICAgZGVmYXVsdDogJyB1LWhjLWFycm93LWxsJyxcbn07XG5cbi8qKlxuICogVGhlIEhvdmVyQ2FyZCBjb21wb25lbnRzIGFkZHMgaG92ZXIgYmVoYXZpb3IgdG8gdGV4dCwgdGhlIHNwZWNpZmllZCBjb250ZW50IGlzIGxvYWRlZFxuICogb24gdGhlIGxlZnQgb3IgcmlnaHQgc2lkZSBvZiB0aGUgZWxlbWVudC5cbiAqXG4gKiBUb2RvOiBleHRlbmRzIHNvIHdlIGNhbiB3cmFwIGFueSBlbGVtZW50IGFuZCBhbnkgZWxlbWVudCBjYW4gYmUgdHJpZ2dlcmluZyB0aGlzLiBOb3Qgb25seVxuICogbGlua1RpdGxlXG4gKlxuICpcbiAqICMjIyBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICpcbiAqICAgPGF3LWhvdmVyLWNhcmQgW2xpbmtUaXRsZV09XCInRnJhbmsga29sYXInXCI+XG4gKiAgICAgICA8aDM+TXkgQ2FyZCBUaXRsZTwvaDM+XG4gKiAgICAgICA8ZGl2PlxuICpcbiAqICAgICAgICAgICBUaGlzIGlzIG15IGNvbnRlbnRzXG4gKlxuICogICAgICAgPC9kaXY+XG4gKlxuICpcbiAqICAgIDwvYXctaG92ZXItY2FyZD5cbiAqIGBgYFxuICpcbiAqIEJ5IGRlZmF1bHQgdGhlcmUgaXMgW2ZvcmNlQ2xvc2VdPXRydWUgd2hpY2ggZm9yY2VzIHRoZSB1c2VyIHRvIHVzZSBYIGNsb3NlIGljb25cbiAqXG4gKlxuICpcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhdy1ob3Zlci1jYXJkJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vaG92ZXItY2FyZC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vaG92ZXItY2FyZC5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIEhvdmVyQ2FyZENvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnRcbntcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcGFkZGluZyByZXByZXNlbnRpbmcgYSBoZWlnaHQgb2YgdGhlIEFycm93IGZvciB3aGljaCB3ZSBuZWVkIHRvIHZlcnRpY2FsbHkgYWRqdXN0XG4gICAgICogQ2FyZCBjb250YWluZXJcbiAgICAgKlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQXJyb3dQYWQgPSAxMDtcblxuICAgIC8qKlxuICAgICAqIERlZmluZXMgc2FmZSB0aHJlc2hvbGQgd2hlcmUgdGhlcmUgbWlnaHQgbm90IGJlIGVub3VnaCBzcGFjZSBhcm91bmQgb3IgQ2FyZCBpcyBhbGlnbmVkIHdpdGhcbiAgICAgKiB0aGUgbGVmdCBvciByaWdodCBlZGdlIG9mIHRoZSB2aWV3cG9ydCBmb3Igd2hpY2ggd2UgbmVlZCB0byBwb3NpdGlvbiB0aGUgQXJyb3cgY2xvc2VyIHRvIHRoZVxuICAgICAqIHNpZGUgb2YgdGhlIGNhcmRcbiAgICAgKlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU3BhY2luZ0xpbWl0ID0gNTA7XG5cblxuICAgIEBJbnB1dCgpXG4gICAgbGlua1RpdGxlOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgd2Uga2VlcCB0aGUgaG92ZXIgY2FyZCBvcGVuIGFuZCBmb3JjZSB1c2VyIHRvIG1hbnVhbGx5IGNsb3NlXG4gICAgICpcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGZvcmNlQ2xvc2U6IGJvb2xlYW4gPSB0cnVlO1xuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFRoaXMgY3VycmVudCB3b3JrYXJvdW5kIHVudGlsIHdlIGZpbmQgYmV0dGVyIHNvbHV0aW9uLiBQcmltZU5HIG92ZXJsYXlzIG9wZXJhdGVzIHdpdGhpblxuICAgICAqIGl0cyByZWxhdGl2ZSBlbGVtZW50IHNvIGlmIHRoZSBvdmVybGF5IGlzIHdyYXBwZWQgaW5zaWRlIHNvbWUgb3RoZXIgcmVsYXRpdmUgY29udGFpbmVyXG4gICAgICogdGhlIG92ZXJsYXkgY29udGVudCBpcyBjcm9wZWQgYnkgaXRzIHBhcmVudCBhbmQgY29udGVudCBpcyBub3QgdmlzaWJsZS5cbiAgICAgKlxuICAgICAqIFRoZXkgaGF2ZSBbYXBwZW5kVG9dIGJpbmRpbmcgd2hpY2ggd2UgbmVlZCB0byB1c2UgZm9yIHRoaXMgcHVycG9zZVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBhcHBlbmRDb250ZW50VG9Cb2R5OiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byBPdmVybGF5Q29tcG9uZW50IHRvIGNhbiBhY2Nlc3MgUHJpbWVORyBjb21wb25lbnQgYXMgd2VsbFxuICAgICAqL1xuICAgIEBWaWV3Q2hpbGQoJ292ZXJsYXknKVxuICAgIGF3T3ZlcmxheTogT3ZlcmxheUNvbXBvbmVudDtcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBJbnRlcm5hbCBzdHlsZSBjbGFzcyB0byB1c2UgdG8gYXBwbHkgYWRkaXRpb25hbCBzdHlsZXMgd2hlbiBpdCBuZWVkcyB0byBzaG93IGEgQXJyb3cgb24gdGhlXG4gICAgICogY2FyZFxuICAgICAqXG4gICAgICovXG4gICAgYXJyb3dDbGFzczogc3RyaW5nID0gJyc7XG5cblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHByb3BlcnRpZXMgdG8gcmVmZXJlbmNlcyB0ZW1wbGF0ZSBlbGVtZW50cyBpbiBvcmRlciB0byBjYWxjdWxhdGUgcG9zaXRpb25pbmdcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgdGl0bGVBcmVhUmVjdDogYW55O1xuICAgIHRyaWdSZWN0OiBhbnk7XG4gICAgdHJpZ0ljb25NaWRkbGU6IGFueTtcblxuICAgIG9wZW5pbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGFwcGVuZFRvOiAnYm9keSc7XG5cbiAgICBjdXJycmVudFBvc2l0aW9uOiBIQ0NhcmRQb3NpdGlvbiA9IEhDQ2FyZFBvc2l0aW9uLm5vbmU7XG5cbiAgICBvdmVybGF5T25BbmltYXRpb25TdGFydDogKGV2ZW50OiBBbmltYXRpb25FdmVudCkgPT4gdm9pZDtcblxuXG4gICAgLyoqXG4gICAgICogSW4gY2FzZXMgd2hlcmUgd2UgbmVlZCB0byBpbmplY3QgZHluYW1pYyBjb250ZW50IHVzaW5nIHByb2dyYW1tYXRpYyBBUEkgd2UgdXNlIHRoaXMgZXh0cmFcbiAgICAgKiBlbGVtZW50IHdoaWNoIGlzIG91dHNpZGUgb2YgdGhlIDxuZy1jb250ZW50PiBhbmQgaGlkZGVuIGFuZCBvbmNlIHRoZSA8bmctY29udGVudD4gIG9mXG4gICAgICogdGhlIGNvbXBvbmVudCBpcyBzaG93biB3ZSBtb3ZlIHRoaXMgZHluYW1pYyBjb250ZW50IGludG8gaXQuXG4gICAgICpcbiAgICAgKi9cbiAgICBkeW5hbWljQ29udGVudDogYW55O1xuXG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZWxlbTogRWxlbWVudFJlZiwgcHVibGljIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KClcbiAgICB7XG4gICAgICAgIHN1cGVyLm5nT25Jbml0KCk7XG5cbiAgICAgICAgYXNzZXJ0KGlzUHJlc2VudCh0aGlzLmxpbmtUaXRsZSksICdZb3UgbXVzdCBwcm92aWRlIFtsaW5rVGl0bGVdIGJpbmRpbmcgIScpO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGVyZSBpcyBvcGVuIEhDIHdoZW4gd2Ugc3RhcnQgbmV3IGNvbXBvbmVudFxuICAgICAgICB0aGlzLmVudi5kZWxldGVWYWx1ZSgnaGMtb3BlbicpO1xuXG4gICAgICAgIGlmICghdGhpcy5hcHBlbmRDb250ZW50VG9Cb2R5KSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZFRvID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3ZlcmxheU9uQW5pbWF0aW9uU3RhcnQgPSB0aGlzLmF3T3ZlcmxheS5vdmVybGF5Lm9uQW5pbWF0aW9uU3RhcnQ7XG4gICAgICAgIHRoaXMuYXdPdmVybGF5Lm92ZXJsYXkub25BbmltYXRpb25TdGFydCA9IChldmVudDogQW5pbWF0aW9uRXZlbnQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheU9uQW5pbWF0aW9uU3RhcnQuY2FsbCh0aGlzLmF3T3ZlcmxheS5vdmVybGF5LCBldmVudCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FyZE9wZW5lZCgpO1xuICAgICAgICAgICAgdGhpcy5vbkFuaW1hdGlvblN0YXJ0KGV2ZW50KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyB0aGlzIHNwYW4gaXMgYWx3YXlzIGF2YWlsYWJsZVxuICAgICAgICB0aGlzLmR5bmFtaWNDb250ZW50ID0gdGhpcy5lbGVtLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignLnUtbmdjb250ZW50Jyk7XG4gICAgfVxuXG5cbiAgICBvbkFuaW1hdGlvblN0YXJ0KGV2ZW50OiBBbmltYXRpb25FdmVudCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLm9wZW5pbmcpIHtcbiAgICAgICAgICAgIGxldCBjb250YWluZXIgPSB0aGlzLmF3T3ZlcmxheS5vdmVybGF5LmNvbnRhaW5lcjtcbiAgICAgICAgICAgIGxldCBjbnRSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycnJlbnRQb3NpdGlvbiAhPT0gSENDYXJkUG9zaXRpb24ubm9uZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0Q2FyZChjb250YWluZXIsIGNudFJlY3QsIHRoaXMuYXdPdmVybGF5Lm92ZXJsYXkpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYXJyb3dDbGFzcyA9ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm9wZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgaW5qZWN0RHluYW1pY0NvbnRlbnQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYXdPdmVybGF5Lm92ZXJsYXkudmlzaWJsZSkge1xuICAgICAgICAgICAgbGV0IG92ZXJsYXlDbnQgPSB0aGlzLmVsZW0ubmF0aXZlRWxlbWVudFxuICAgICAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcudWktb3ZlcmxheXBhbmVsLWNvbnRlbnQgLnUtbmdjb250ZW50Jyk7XG5cbiAgICAgICAgICAgIGlmIChpc0JsYW5rKG92ZXJsYXlDbnQpICYmIHRoaXMuZHluYW1pY0NvbnRlbnQuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIG92ZXJsYXlDbnQgPSB0aGlzLmVsZW0ubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudWktb3ZlcmxheXBhbmVsLWNvbnRlbnQnKTtcbiAgICAgICAgICAgICAgICBvdmVybGF5Q250LnByZXBlbmQodGhpcy5keW5hbWljQ29udGVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5keW5hbWljQ29udGVudC5zdHlsZSA9ICdibG9jayc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNDb250ZW50LnN0eWxlID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdCBlbGVtZW50cyBCb3VuZGluZ0NsaWVudFJlY3QgdGhhdCB3ZSB1c2UgZm9yIGNhbGN1bGF0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBpbml0RWxlbWVudHMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IHRpdGxlRWxlbSA9IHRoaXMuZWxlbS5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy53LWhjLXRpdGxlJyk7XG4gICAgICAgIGxldCB0cmlnZ2VyRWxlbSA9IHRoaXMuZWxlbS5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zYXAtaWNvbicpO1xuICAgICAgICB0aGlzLnRpdGxlQXJlYVJlY3QgPSB0aXRsZUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMudHJpZ1JlY3QgPSB0cmlnZ2VyRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdGhpcy50cmlnSWNvbk1pZGRsZSA9IHRoaXMudHJpZ1JlY3Qud2lkdGggLyAyO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBGaXJlcyB3aGVuIHVzZXIgbW91c2Ugb3ZlciB0aGUgdHJpZ2dlcmluZyBpY29uIGFuZCBvcGVucyB1cCBvdmVybGF5IGNvbXBvbmVudC4gVG8gbWFrZSBzdXJlXG4gICAgICogb25seSBvbmUgQ2FyZCBpcyBvcGVuZWQgYXQgdGhlIHRpbWUgaXQgdXNlcyBFbnZpcm9ubWVudCB0byBzYXZlIGV4dHJhIGluZm9ybWF0aW9uIGZvciBpdFxuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICBvcGVuQ2FyZChldmVudDogYW55KTogYW55XG4gICAge1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuYXdPdmVybGF5KSAmJiAhdGhpcy5lbnYuaGFzVmFsdWUoJ2hjLW9wZW4nKSkge1xuICAgICAgICAgICAgdGhpcy5hd092ZXJsYXkub3BlbihldmVudCk7XG4gICAgICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgICAgIHRoaXMuZW52LnNldFZhbHVlKCdoYy1vcGVuJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogRmlyZWQgYXQgdGhlIGVuZCBvZiB0aGUgb3BlbmluZyBjeWNsZSB3aGVuIGFsbCBpcyBpbml0aWFsaXplZCBhbmQgdGhlIGNhcmQgaXMgYWJvdXQgdG9cbiAgICAgKiBmYWRlIGluLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgZmlyc3Qgc2ltdWxhdGVzIGRpc3BsYXlpbmcgY2FyZCBieSBzZXR0aW5nIGRpc3BsYXk6YmxvY2sgYW5kXG4gICAgICogZG9tSGFuZGxlci5hYnNvbHV0ZVBvc2l0aW9uIHNvIHdlIGNhbiByZWFkIGRpbWVuc2lvbnMgYW5kIHRoZW4gbGF0ZXIgb24gcG9zaXRpb24gdGhlIGNhcmRcbiAgICAgKiBhY2NvcmRpbmdseS5cbiAgICAgKlxuICAgICAqL1xuICAgIGNhcmRPcGVuZWQoZXZlbnQ/OiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgY29udGFpbmVyID0gdGhpcy5hd092ZXJsYXkub3ZlcmxheS5jb250YWluZXI7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLmF3T3ZlcmxheS5vdmVybGF5LnRhcmdldDtcblxuICAgICAgICB0aGlzLm9wZW5Gb3JBZGp1c3RtZW50cyhjb250YWluZXIpO1xuICAgICAgICB0aGlzLmluamVjdER5bmFtaWNDb250ZW50KCk7XG5cbiAgICAgICAgLy8gcHJlLXJ1biBwb3NpdGlvbmluZyBzbyB3ZSBjYW4gY2FsY3VsYXRlIG5ldyBjb29yZGluYXRlc1xuICAgICAgICB0aGlzLmF3T3ZlcmxheS5vdmVybGF5LmRvbUhhbmRsZXIuYWJzb2x1dGVQb3NpdGlvbihjb250YWluZXIsIHRhcmdldCk7XG4gICAgICAgIGxldCBjbnRSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLmN1cnJyZW50UG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uRm9yQ2FyZChjb250YWluZXIsIGNudFJlY3QpO1xuXG4gICAgICAgIHRoaXMuYXBwbHlTdHlsZUNsYXNzKGNvbnRhaW5lciwgY250UmVjdCwgdGhpcy5hd092ZXJsYXkub3ZlcmxheSk7XG5cbiAgICAgICAgdGhpcy5jbG9zZUZvckFkanVzdG1lbnRzKGNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMub3BlbmluZyA9IHRydWU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFdoZW4gY2FyZCBpcyBjbG9zZWQgd2UgbmVlZCB0byByZWxlYXNlIGl0IGFuZCBkZWxldGUgYWxsIHRoZSByZWZlcmVuY2VzIGZyb20gRW52aXJvbm1lbnRcbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgY2FyZENsb3NlZChldmVudDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5lbnYuZGVsZXRlVmFsdWUoJ2hjLW9wZW4nKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICAqIEJlZm9yZSBvdmVybGF5IGlzIGNsb3NlZCB3ZSBoaWRlIGludGVybmFsIGNvbnRlbnQgb3RoZXIgaXQgZG9lcyBsaXR0bGUgc2hha2UuLlxuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICBiZWZvcmVDbG9zZShldmVudDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5keW5hbWljQ29udGVudC5zdHlsZSA9ICdub25lJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEFwcGxpZXMgc3R5bGUuVE9QIGFuZCBzdHlsZS5MRUZUIHRvIHRoZSBjb250YWluZXIgaW4gb3JkZXIgdG8gcmVwb3NpdGlvbiBpdCBhbmQgYWRkXG4gICAgICogZXh0cmEgYXJyb3cuXG4gICAgICpcbiAgICAgKiBGaXJzdCBiYXNlZCBvbiB0aGUgaW5pdGlhbCBwb3NpdGlvbiB3ZSBhcHBseSBzdHlsZS5UT1AgYW5kIGRlcGVuZGluZyBpZiBpdHMgb24gdGhlXG4gICAgICogdG9wIG9yIGJvdHRvbSB3ZSBhcHBseSBlaXRoZXIgLUhvdmVyQ2FyZENvbXBvbmVudC5BcnJvd1BhZCBvciArSG92ZXJDYXJkQ29tcG9uZW50LkFycm93UGFkLlxuICAgICAqXG4gICAgICogVGhlbiBmb3IgcG9zaXRpb25pbmcgaG9yaXpvbnRhbGx5IHdlIHVzZSB0d28gdHlwZXMuXG4gICAgICogIC0gV2hlbiB0aGVyZSBpcyBhbGxvdCBvZiBzcGFjZSB0aGUgYXJyb3cgaXMgMjUlIGZyb20gdGhlIGVkZ2VcbiAgICAgKlxuICAgICAqICAgIC0tLS0tXi0tLS0tLS0tLS0tLSAgIG9yICAgICAgIC0tLS0tLS0tLS0tXi0tLS1cbiAgICAgKlxuICAgICAqXG4gICAgICogIC0gV2hlbiB0aGVyZSBpcyBsZXNzIG9yIG5vbmUgc3BhY2Ugd2UgaGF2ZSBvbmx5IDEwJSBmYXIgYXdheSBmb3JtIHRoZSBlZGdlXG4gICAgICpcbiAgICAgKiAgICAtLV4tLS0tLS0tLS0tLS0gICBvciAgICAgICAtLS0tLS0tLS0tLV4tLVxuICAgICAqXG4gICAgICogIE9uY2Ugd2UgcGljayB0aGUgY29ycmVjdCBwb3NpdGlvbmluZyAoMjUlLCAxMCUpIHdlIG5lZWQgdG8gcmVjYWxjdWxhdGUgYW5kIHNoaWZ0IHRoZSBjYXJkXG4gICAgICogIGVpdGhlciB0byB0aGUgbGVmdCBvciByaWdodC5cbiAgICAgKlxuICAgICAqL1xuICAgIGFkanVzdENhcmQoY29udGFpbmVyOiBhbnksIGNvbnRhaW5lclJlY3Q6IGFueSwgbW9kYWxDb250YWluZXI6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBkaWZmID0gKHRoaXMuY3VycnJlbnRQb3NpdGlvbiA9PT0gSENDYXJkUG9zaXRpb24uYm90dG9tKSA/IDEgOiAtMTtcbiAgICAgICAgbGV0IHNjcm9sbFRvcCA9IG1vZGFsQ29udGFpbmVyLmRvbUhhbmRsZXIuZ2V0V2luZG93U2Nyb2xsVG9wKCk7XG4gICAgICAgIGxldCBwb3NXaXRoU2Nyb2xsID0gY29udGFpbmVyUmVjdC50b3AgKyBzY3JvbGxUb3A7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSAocG9zV2l0aFNjcm9sbCArIChIb3ZlckNhcmRDb21wb25lbnQuQXJyb3dQYWQgKiBkaWZmKSkgKyAncHgnO1xuXG4gICAgICAgIGxldCBhbGlnbm1lbnQgPSB0aGlzLmFsaWdubWVudEZvckNhcmQoY29udGFpbmVyUmVjdCwgbW9kYWxDb250YWluZXIpO1xuICAgICAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IHRoaXMuY2FsY0xlZnRGb3JBbGlnbm1lbnQoY29udGFpbmVyUmVjdCwgYWxpZ25tZW50KSArICdweCc7XG4gICAgfVxuXG5cbiAgICBhcHBseVN0eWxlQ2xhc3MoY29udGFpbmVyOiBhbnksIGNvbnRhaW5lclJlY3Q6IGFueSwgbW9kYWxDb250YWluZXI6IGFueSk6IHZvaWRcbiAgICB7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycnJlbnRQb3NpdGlvbiAhPT0gSENDYXJkUG9zaXRpb24ubm9uZSkge1xuICAgICAgICAgICAgbGV0IGFsaWdubWVudCA9IHRoaXMuYWxpZ25tZW50Rm9yQ2FyZChjb250YWluZXJSZWN0LCBtb2RhbENvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIHRoaXMuYXJyb3dDbGFzcyA9ICg8YW55PlBvc2l0aW9uVG9TdHlsZSlbKDxhbnk+SENDYXJkUG9zaXRpb24pW3RoaXMuY3VycnJlbnRQb3NpdGlvbl1dO1xuICAgICAgICAgICAgdGhpcy5hcnJvd0NsYXNzICs9ICg8YW55PkFsaWdubWVudFRvU3R5bGUpWyg8YW55PkhDQ2FyZEFsaWdubWVudClbYWxpZ25tZW50XV07XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXJyb3dDbGFzcyA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBEZXRlY3RzIGlmIHRoZSBjYXJkIGlzIGdvaW5nIHRvIGJlIHNob3duIG9uIHRoZSB0b3Agb2YgdGhlIExpbmsgbGFiZWwgb3IgdW5kZXIuIE9yIGlmXG4gICAgICogaXRzIGNvdmVyaW5nIGl0LlxuICAgICAqXG4gICAgICovXG4gICAgcG9zaXRpb25Gb3JDYXJkKGNvbnRhaW5lcjogYW55LCBib3VuZGluZ1JlY3Q6IGFueSk6IEhDQ2FyZFBvc2l0aW9uXG4gICAge1xuICAgICAgICAvLyBzZWN1cmUgdGhpcyBpbiBjYXNlIG9mIElFIHJldHVybmluZyB1bmRlZmluZWRcbiAgICAgICAgbGV0IGJvcmRlcldpZHRoID0gZ2V0Q29tcHV0ZWRTdHlsZShjb250YWluZXIpLmJvcmRlcldpZHRoO1xuICAgICAgICBsZXQgY250V2lkdGggPSBwYXJzZUZsb2F0KGJvcmRlcldpZHRoIHx8ICcwJyk7XG4gICAgICAgIGxldCBwb3MgPSBIQ0NhcmRQb3NpdGlvbi5ub25lO1xuXG4gICAgICAgIGlmICh0aGlzLnRyaWdSZWN0LmJvdHRvbSA8IGJvdW5kaW5nUmVjdC50b3ApIHtcbiAgICAgICAgICAgIHBvcyA9IEhDQ2FyZFBvc2l0aW9uLmJvdHRvbTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRyaWdSZWN0LnRvcCA+IChib3VuZGluZ1JlY3QuYm90dG9tIC0gY250V2lkdGgpKSB7XG4gICAgICAgICAgICBwb3MgPSBIQ0NhcmRQb3NpdGlvbi50b3A7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBEZXRlY3QgaG9yaXpvbnRhbCBhbGlnbm1lbnQuXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGFsaWdubWVudEZvckNhcmQoYm91bmRpbmdSZWN0OiBhbnksIG1vZGFsQ29udGFpbmVyOiBhbnkpOiBIQ0NhcmRBbGlnbm1lbnRcbiAgICB7XG4gICAgICAgIGxldCBhbGlnbm1lbnQgPSBIQ0NhcmRBbGlnbm1lbnQubGVmdDtcbiAgICAgICAgbGV0IHZpZXdQb3J0ID0gbW9kYWxDb250YWluZXIuZG9tSGFuZGxlci5nZXRWaWV3cG9ydCgpO1xuXG4gICAgICAgIGlmICh0aGlzLnRyaWdSZWN0LmxlZnQudG9GaXhlZCgwKSA9PT0gYm91bmRpbmdSZWN0LmxlZnQudG9GaXhlZCgwKSAmJlxuICAgICAgICAgICAgYm91bmRpbmdSZWN0LmxlZnQgPiBIb3ZlckNhcmRDb21wb25lbnQuU3BhY2luZ0xpbWl0KVxuICAgICAgICB7XG4gICAgICAgICAgICBhbGlnbm1lbnQgPSBIQ0NhcmRBbGlnbm1lbnQubGVmdDtcblxuICAgICAgICB9IGVsc2UgaWYgKGJvdW5kaW5nUmVjdC5sZWZ0IDwgSG92ZXJDYXJkQ29tcG9uZW50LlNwYWNpbmdMaW1pdCkge1xuICAgICAgICAgICAgYWxpZ25tZW50ID0gSENDYXJkQWxpZ25tZW50LnBhZGRlZExlZnQ7XG5cbiAgICAgICAgfSBlbHNlIGlmICgodmlld1BvcnQud2lkdGggLSBib3VuZGluZ1JlY3QucmlnaHQpIDwgSG92ZXJDYXJkQ29tcG9uZW50LlNwYWNpbmdMaW1pdCkge1xuICAgICAgICAgICAgYWxpZ25tZW50ID0gSENDYXJkQWxpZ25tZW50LnBhZGRlZFJpZ2h0O1xuXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50cmlnUmVjdC5yaWdodC50b0ZpeGVkKDApID09PSBib3VuZGluZ1JlY3QucmlnaHQudG9GaXhlZCgwKSB8fFxuICAgICAgICAgICAgKHZpZXdQb3J0LndpZHRoIC0gYm91bmRpbmdSZWN0LnJpZ2h0KSA+IEhvdmVyQ2FyZENvbXBvbmVudC5TcGFjaW5nTGltaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFsaWdubWVudCA9IEhDQ2FyZEFsaWdubWVudC5yaWdodDtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxpZ25tZW50ID0gSENDYXJkQWxpZ25tZW50LmRlZmF1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFsaWdubWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFR1cm4gb24gdGVtcG9yYXJ5IGRpc3BsYXkgdG8gQkxPQ0sgc28gd2UgY2FuIHJlYWQgZGltZW5zaW9uc1xuICAgICAqXG4gICAgICovXG4gICAgb3BlbkZvckFkanVzdG1lbnRzKGNvbnRhaW5lcjogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICAgIHRoaXMuaW5pdEVsZW1lbnRzKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFR1cm4gb2ZmIGRpc3BsYXkgYmFjayBOT05FXG4gICAgICpcbiAgICAgKi9cbiAgICBjbG9zZUZvckFkanVzdG1lbnRzKGNvbnRhaW5lcjogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgIC8vIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDYWxjdWxhdGVzIHBvc2l0aW9uaW5nIGZvciBzdHlsZS5MRUZULiBBcyBhbHJlYWR5IHNhaWQgdGhleSBhcmUgdHdvIHR5cGVzIG9mIHRyaWFuZ2xlcyB0aGF0XG4gICAgICogYXJlIGFwcGxpZXMgZm9yIHRoZXNlIGNhc2U6XG4gICAgICpcbiAgICAgKlxuICAgICAqIGEpIExhcmdlIGxlZnQsIExhcmdlIHJpZ2h0XG4gICAgICpcbiAgICAgKiAgUHJpbWVORyBhbGlnbnMgdGhlIGNhcmQgd2l0aCBlaXRoZXIgdGhlIHJpZ2h0IHNpZGUgb3IgbGVmdCBzaWRlIG9mIHRoZSB0cmlnZ2VyaW5nIGljb25cbiAgICAgKlxuICAgICAqXG4gICAgICogIFYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVlxuICAgICAqICAuLi4uLi5eLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uIG9yICAuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLl4uLi4uLi5cbiAgICAgKlxuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqICBiKSBTbWFsbCBsZWZ0ICwgc21hbGwgcmlnaHRcbiAgICAgKlxuICAgICAqICBUaGlzIGlzIGZvciBjYXNlcyB3aGVyZSB0aGVyZSBpcyBub3QgZW5vdWdoIHNwYWNlIGFuZCBQcmltZU5HIHBvc2l0aW9uIHRoZSBjYXJkIG9mZiB0byB0aGVcbiAgICAgKiAgdHJpZ2dlcmluZyBpY29ucywgc28gZXZlbiBwcmltZU5nIGRvZXMgbm90IGhhdmUgc3BhY2UgdG8gYWxpZ24gaXQgd2l0aCB0aGUgVlxuICAgICAqXG4gICAgICpcbiAgICAgKiAgICAgViAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZcbiAgICAgKiAgLi4uLl4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4gb3IgIC4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXi4uLi5cbiAgICAgKlxuICAgICAqXG4gICAgICogYylBbGlnbmVkIHdpdGggdGhlIGVkZ2Ugb2YgYnJvd3NlclxuICAgICAqXG4gICAgICogT24gdGhlIHJpZ2h0IHNpZGUgdGhpcyBpcyBwcm9ibGVtIGFzIHdlIGNhbm5vdCBjYWxjdWxhdGUgZnVsbCBmdXR1cmUgd2lkdGggb2YgdGhlIGNhcmQuXG4gICAgICogYnV0IHdlIGFwcGxseSBmb3IgdGhpcyBjYXNlICNiIChhcnJvdyAxMCUgKVxuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgY2FsY0xlZnRGb3JBbGlnbm1lbnQoYm91bmRpbmdSZWN0OiBhbnksIGFsaWdubWVudDogSENDYXJkQWxpZ25tZW50KTogbnVtYmVyXG4gICAge1xuICAgICAgICAvLyB3aWR0aCBmb3Igd2hpY2ggd2UgbmVlZCB0byBzaGlmdCBjYXJkLiAyNSUgb3IgMTAlIG9mIHRoZSBjb250YWluZXIgd2lkdGhcbiAgICAgICAgbGV0IHdMYXJnZVRyaWFuZ2xlID0gYm91bmRpbmdSZWN0LndpZHRoICogMC4yNTtcbiAgICAgICAgbGV0IHdTbWFsbFRyaWFuZ2xlID0gYm91bmRpbmdSZWN0LndpZHRoICogMC4xMDtcblxuICAgICAgICBzd2l0Y2ggKGFsaWdubWVudCkge1xuICAgICAgICAgICAgY2FzZSBIQ0NhcmRBbGlnbm1lbnQucmlnaHQ6XG4gICAgICAgICAgICAgICAgbGV0IHNoaWZ0UmlnaHQgPSBib3VuZGluZ1JlY3QubGVmdCArIHdMYXJnZVRyaWFuZ2xlO1xuICAgICAgICAgICAgICAgIGxldCB0cmlnUmlnaHQgPSB0aGlzLnRyaWdSZWN0LnJpZ2h0IC0gdGhpcy50cmlnSWNvbk1pZGRsZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hpZnRSaWdodCAtIChib3VuZGluZ1JlY3QucmlnaHQgLSB0cmlnUmlnaHQpO1xuXG4gICAgICAgICAgICBjYXNlIEhDQ2FyZEFsaWdubWVudC5wYWRkZWRSaWdodDpcbiAgICAgICAgICAgICAgICBsZXQgc2hpZnRSaWdodFMgPSBib3VuZGluZ1JlY3QubGVmdCArIHdTbWFsbFRyaWFuZ2xlO1xuICAgICAgICAgICAgICAgIGxldCB0cmlnUmlnaHRTID0gdGhpcy50cmlnUmVjdC5yaWdodCAtIHRoaXMudHJpZ0ljb25NaWRkbGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoaWZ0UmlnaHRTIC0gKGJvdW5kaW5nUmVjdC5yaWdodCAtIHRyaWdSaWdodFMpO1xuXG5cbiAgICAgICAgICAgIGNhc2UgSENDYXJkQWxpZ25tZW50LnBhZGRlZExlZnQ6XG4gICAgICAgICAgICAgICAgbGV0IHNoaWZ0TGVmdFBhZCA9IGJvdW5kaW5nUmVjdC5sZWZ0IC0gd1NtYWxsVHJpYW5nbGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoaWZ0TGVmdFBhZCArIHRoaXMudHJpZ0ljb25NaWRkbGU7XG5cbiAgICAgICAgICAgIGNhc2UgSENDYXJkQWxpZ25tZW50LmxlZnQ6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGxldCBzaGlmdExlZnQgPSBib3VuZGluZ1JlY3QubGVmdCAtIHdMYXJnZVRyaWFuZ2xlO1xuICAgICAgICAgICAgICAgIHJldHVybiBzaGlmdExlZnQgKyB0aGlzLnRyaWdJY29uTWlkZGxlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge1xuICAgIEFmdGVyQ29udGVudENoZWNrZWQsXG4gICAgQWZ0ZXJDb250ZW50SW5pdCxcbiAgICBBZnRlclZpZXdDaGVja2VkLFxuICAgIEFmdGVyVmlld0luaXQsXG4gICAgRGlyZWN0aXZlLFxuICAgIERvQ2hlY2ssXG4gICAgRWxlbWVudFJlZixcbiAgICBPbkNoYW5nZXMsXG4gICAgT25EZXN0cm95LFxuICAgIE9uSW5pdCxcbiAgICBTaW1wbGVDaGFuZ2Vcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2lzUHJlc2VudCwgcHJpbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuXG5cbi8qKlxuICogU3B5IGxpZmVjeWNsZSBkaXJlY3RpdmUgaXMgdXNlZCBmb3IgZGVidWdnaW5nIHB1cnBvc2VzIHRvIHRyYWNrIGxpZmVjeWNsZSBjYWxsYmFja1xuICpcbiAqICMjI1VzYWdlXG4gKlxuICogYGBgXG4gKiAgIDxteS1kaXJlY3RpdmUgc3B5aG9va3M+PG15LWRpcmVjdGl2ZT5cbiAqXG4gKiBgYGBcbiAqL1xuQERpcmVjdGl2ZSh7c2VsZWN0b3I6ICdbc3B5SG9va3NdJ30pXG5leHBvcnQgY2xhc3MgU3B5TGlmZUN5Y2xlSG9va3NEaXJlY3RpdmUgaW1wbGVtZW50cyBPbkRlc3Ryb3ksIE9uSW5pdCwgRG9DaGVjaywgT25DaGFuZ2VzLFxuICAgIEFmdGVyQ29udGVudEluaXQsIEFmdGVyQ29udGVudENoZWNrZWQsIEFmdGVyVmlld0luaXQsIEFmdGVyVmlld0NoZWNrZWRcbntcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZWxlbWVudFJlZjogRWxlbWVudFJlZilcbiAgICB7XG4gICAgfVxuXG5cbiAgICBuZ09uSW5pdCgpXG4gICAge1xuICAgICAgICB0aGlzLmxvZ0l0KCdvbkluaXQnKTtcbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLmxvZ0l0KCdvbkRlc3Ryb3knKTtcbiAgICB9XG5cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IHtbIHByb3BOYW1lOiBzdHJpbmddOiBTaW1wbGVDaGFuZ2V9KVxuICAgIHtcbiAgICAgICAgdGhpcy5sb2dJdCgnbmdPbkNoYW5nZXMgPSAnICsgY2hhbmdlcyk7XG4gICAgfVxuXG4gICAgbmdEb0NoZWNrKClcbiAgICB7XG4gICAgICAgIHRoaXMubG9nSXQoJ25nRG9DaGVjaycpO1xuICAgIH1cblxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpXG4gICAge1xuICAgICAgICB0aGlzLmxvZ0l0KCduZ0FmdGVyQ29udGVudEluaXQnKTtcbiAgICB9XG5cbiAgICBuZ0FmdGVyQ29udGVudENoZWNrZWQoKVxuICAgIHtcblxuICAgICAgICB0aGlzLmxvZ0l0KCduZ0FmdGVyQ29udGVudENoZWNrZWQnKTtcbiAgICB9XG5cbiAgICBuZ0FmdGVyVmlld0luaXQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5sb2dJdCgnbmdBZnRlclZpZXdJbml0Jyk7XG4gICAgfVxuXG4gICAgbmdBZnRlclZpZXdDaGVja2VkKClcbiAgICB7XG4gICAgICAgIHRoaXMubG9nSXQoJ25nQWZ0ZXJWaWV3Q2hlY2tlZCcpO1xuICAgIH1cblxuICAgIHByaXZhdGUgbG9nSXQobXNnOiBzdHJpbmcpXG4gICAge1xuICAgICAgICBsZXQgbGV2ZWwgPSAwO1xuICAgICAgICBsZXQgbWUgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudDtcbiAgICAgICAgbGV0IHRhZ0JvZHkgPSBtZTtcblxuICAgICAgICB3aGlsZSAoKHRhZ0JvZHkgPSB0YWdCb2R5LnBhcmVudE5vZGUpICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldmVsKys7XG4gICAgICAgICAgICBpZiAodGFnQm9keS50YWdOYW1lID09PSAnQVBQLVJPT1QnIHx8IGxldmVsID09PSA2KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluZGVudCA9ICcnO1xuICAgICAgICBsZXQgaW5kZW50TnVtYmVyID0gbGV2ZWw7XG4gICAgICAgIHdoaWxlIChsZXZlbCA+IDApIHtcbiAgICAgICAgICAgIGluZGVudCArPSAnXFx0JztcbiAgICAgICAgICAgIGxldmVsLS07XG4gICAgICAgIH1cblxuXG4gICAgICAgIGxldCBwYXJhbXMgPSAnJztcbiAgICAgICAgaWYgKGlzUHJlc2VudChtZS5hdHRyaWJ1dGVzKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGF0dHI6IEF0dHIgPSBtZS5hdHRyaWJ1dGVzLml0ZW0oaSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaWdub3JlKGF0dHIubmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIHBhcmFtcyArPSAnKCcgKyBhdHRyLm5hbWUgKyAnPScgKyBhdHRyLnZhbHVlICsgJyksICAnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaW50KGluZGVudCArIG1lLnRhZ05hbWUgKyAnKCcgKyBpbmRlbnROdW1iZXIgKyAnKTogJyArIG1zZyArICcgPT4gJyArIHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpZ25vcmUobmFtZTogc3RyaW5nKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5hbWUuaW5kZXhPZignX25nJykgPiAtMSB8fFxuICAgICAgICAgICAgbmFtZS5pbmRleE9mKCduZy0nKSA+IC0xIHx8XG4gICAgICAgICAgICBuYW1lLmluZGV4T2YoJ3NweWhvb2tzJykgPiAtMTtcbiAgICB9XG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7TmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge0FXQ29yZUNvbXBvbmVudE1vZHVsZX0gZnJvbSAnLi4vLi4vY29yZS9jb3JlLm1vZHVsZSc7XG5pbXBvcnQge092ZXJsYXlDb21wb25lbnR9IGZyb20gJy4vb3ZlcmxheS5jb21wb25lbnQnO1xuaW1wb3J0IHtPdmVybGF5UGFuZWxNb2R1bGV9IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XG5cbkBOZ01vZHVsZSh7XG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIE92ZXJsYXlDb21wb25lbnRcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBBV0NvcmVDb21wb25lbnRNb2R1bGUsXG4gICAgICAgIE92ZXJsYXlQYW5lbE1vZHVsZVxuICAgIF0sXG4gICAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgICAgIE92ZXJsYXlDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgT3ZlcmxheUNvbXBvbmVudCxcbiAgICAgICAgQVdDb3JlQ29tcG9uZW50TW9kdWxlXG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEFXT3ZlcmxheU1vZHVsZVxue1xufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtIb3ZlckNhcmRDb21wb25lbnR9IGZyb20gJy4vaG92ZXItY2FyZC5jb21wb25lbnQnO1xuaW1wb3J0IHtBV092ZXJsYXlNb2R1bGV9IGZyb20gJy4uL292ZXJsYXkvb3ZlcmxheS5tb2R1bGUnO1xuaW1wb3J0IHtBV1N0cmluZ0ZpZWxkTW9kdWxlfSBmcm9tICcuLi9zdHJpbmcvc3RyaW5nLm1vZHVsZSc7XG5cblxuQE5nTW9kdWxlKHtcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgSG92ZXJDYXJkQ29tcG9uZW50XG4gICAgXSxcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgQVdPdmVybGF5TW9kdWxlLFxuICAgICAgICBBV1N0cmluZ0ZpZWxkTW9kdWxlXG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgSG92ZXJDYXJkQ29tcG9uZW50XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIEhvdmVyQ2FyZENvbXBvbmVudFxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBBV0hvdmVyQ2FyZE1vZHVsZVxue1xufVxuXG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtBUFBfSU5JVElBTElaRVIsIE1vZHVsZVdpdGhQcm92aWRlcnMsIE5nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtcbiAgICBBY2NvcmRpb25Nb2R1bGUsXG4gICAgQXV0b0NvbXBsZXRlTW9kdWxlLFxuICAgIEJ1dHRvbk1vZHVsZSxcbiAgICBDYWxlbmRhck1vZHVsZSxcbiAgICBDaGVja2JveCxcbiAgICBDaGVja2JveE1vZHVsZSxcbiAgICBEYXRhVGFibGVNb2R1bGUsXG4gICAgRGlhbG9nLFxuICAgIERpYWxvZ01vZHVsZSxcbiAgICBEcm9wZG93bk1vZHVsZSxcbiAgICBFZGl0b3JNb2R1bGUsXG4gICAgSW5wdXRUZXh0YXJlYU1vZHVsZSxcbiAgICBJbnB1dFRleHRNb2R1bGUsXG4gICAgTWVudU1vZHVsZSxcbiAgICBPdmVybGF5UGFuZWxNb2R1bGUsXG4gICAgUGFnaW5hdG9yTW9kdWxlLFxuICAgIFBhbmVsTW9kdWxlLFxuICAgIFJhZGlvQnV0dG9uTW9kdWxlLFxuICAgIFNoYXJlZE1vZHVsZSxcbiAgICBUYWJNZW51TW9kdWxlLFxuICAgIFRvb2xiYXJNb2R1bGUsXG4gICAgVHJlZU1vZHVsZVxufSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xuaW1wb3J0IHtBcmliYUNvcmVNb2R1bGV9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtTcHlMaWZlQ3ljbGVIb29rc0RpcmVjdGl2ZX0gZnJvbSAnLi9zcHktbGlmZWN5Y2xlLmRpcmVjdGl2ZSc7XG5pbXBvcnQge0VtYmVkZGVkSXRlbURpcmVjdGl2ZX0gZnJvbSAnLi9jb3JlL2VtYmVkZGVkLWl0ZW0nO1xuaW1wb3J0IHtDb21wb25lbnRSZWdpc3RyeX0gZnJvbSAnLi9jb3JlL2NvbXBvbmVudC1yZWdpc3RyeS5zZXJ2aWNlJztcbmltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSAnLi9lbnRyeS1jb21wb25lbnRzJztcbmltcG9ydCB7QVdDb3JlQ29tcG9uZW50TW9kdWxlfSBmcm9tICcuL2NvcmUvY29yZS5tb2R1bGUnO1xuaW1wb3J0IHtBV0Jhc2ljTmF2aWdhdG9yTW9kdWxlfSBmcm9tICcuL3dpZGdldHMvYmFzaWMtbmF2aWdhdG9yL2Jhc2ljLW5hdmlnYXRvci5tb2R1bGUnO1xuaW1wb3J0IHtBV0NoZWNrQm94TGlzdE1vZHVsZX0gZnJvbSAnLi93aWRnZXRzL2NoZWNrLWJveC1saXN0L2NoZWNrLWJveC1saXN0Lm1vZHVsZSc7XG5pbXBvcnQge0FXQ2hlY2tCb3hNb2R1bGV9IGZyb20gJy4vd2lkZ2V0cy9jaGVja2JveC9jaGVjay1ib3gubW9kdWxlJztcbmltcG9ydCB7QVdDaG9vc2VyTW9kdWxlfSBmcm9tICcuL3dpZGdldHMvY2hvb3Nlci9jaG9vc2VyLm1vZHVsZSc7XG5pbXBvcnQge0FXQ29uZmlybWF0aW9uTW9kdWxlfSBmcm9tICcuL3dpZGdldHMvY29uZmlybWF0aW9uL2NvbmZpcm1hdGlvbi5tb2R1bGUnO1xuaW1wb3J0IHtBV0N1cnJlbmN5TW9kdWxlfSBmcm9tICcuL3dpZGdldHMvY3VycmVuY3kvY3VycmVuY3kubW9kdWxlJztcbmltcG9ydCB7QVdEYXRlQW5kVGltZU1vZHVsZX0gZnJvbSAnLi93aWRnZXRzL2RhdGUtYW5kLXRpbWUvZGF0YS1hbmQtdGltZS5tb2R1bGUnO1xuaW1wb3J0IHtBV0RpYWxvZ01vZHVsZX0gZnJvbSAnLi93aWRnZXRzL2RpYWxvZy9kaWFsb2cubW9kdWxlJztcbmltcG9ydCB7QVdEcm9wZG93bk1vZHVsZX0gZnJvbSAnLi93aWRnZXRzL2Ryb3Bkb3duL2Ryb3Bkb3duLm1vZHVsZSc7XG5pbXBvcnQge0FXR2VuZXJpY0Nob29zZXJNb2R1bGV9IGZyb20gJy4vd2lkZ2V0cy9nZW5lcmljLWNob29zZXIvZ2VuZXJpYy1jaG9vc2VyLm1vZHVsZSc7XG5pbXBvcnQge0FXSHlwZXJsaW5rTW9kdWxlfSBmcm9tICcuL3dpZGdldHMvaHlwZXJsaW5rL2h5cGVybGluay5tb2R1bGUnO1xuaW1wb3J0IHtBV0lucHV0RmllbGRNb2R1bGV9IGZyb20gJy4vd2lkZ2V0cy9pbnB1dC1maWVsZC9pbnB1dC1maWVsZC5tb2R1bGUnO1xuaW1wb3J0IHtBV091dGxpbmVGb3JNb2R1bGV9IGZyb20gJy4vd2lkZ2V0cy9vdXRsaW5lL291dGxpbmUtZm9yLm1vZHVsZSc7XG5pbXBvcnQge0FXT3ZlcmxheU1vZHVsZX0gZnJvbSAnLi93aWRnZXRzL292ZXJsYXkvb3ZlcmxheS5tb2R1bGUnO1xuaW1wb3J0IHtBV1BhZ2VOb3RpZmljYXRpb25Nb2R1bGV9IGZyb20gJy4vd2lkZ2V0cy9wYWdlLW5vdGlmaWNhdGlvbi9wYWdlLW5vdGlmaWNhdGlvbi5tb2R1bGUnO1xuaW1wb3J0IHtBV1BhZ2VXcmFwcGVyTW9kdWxlfSBmcm9tICcuL3dpZGdldHMvcGFnZS13cmFwcGVyL3BhZ2Utd3JhcHBlci5tb2R1bGUnO1xuaW1wb3J0IHtBV1JhZGlvQnV0dG9uTW9kdWxlfSBmcm9tICcuL3dpZGdldHMvcmFkaW8tYnV0dG9uL3JhZGlvLWJ1dHRvbi5tb2R1bGUnO1xuaW1wb3J0IHtBV1JhZGlvQnV0dG9uTGlzdE1vZHVsZX0gZnJvbSAnLi93aWRnZXRzL3JhZGlvLWJ1dHRvbi1saXN0L3JhZGlvLWJ1dHRvbi1saXN0Lm1vZHVsZSc7XG5pbXBvcnQge0FXUmljaFRleHRBcmVhTW9kdWxlfSBmcm9tICcuL3dpZGdldHMvcmljaC10ZXh0LWFyZWEvcmljaC10ZXh0LWFyZWEubW9kdWxlJztcbmltcG9ydCB7QVdIb3ZlckNhcmRNb2R1bGV9IGZyb20gJy4vd2lkZ2V0cy9ob3Zlci1jYXJkL2hvdmVyLWNhcmQubW9kdWxlJztcbmltcG9ydCB7XG4gICAgQVdTY3JvbGxhYmxlQ29udGFpbmVyTW9kdWxlXG59IGZyb20gJy4vd2lkZ2V0cy9zY3JvbGxhYmxlLWNvbnRhaW5lci9zY3JvbGxhYmxlLWNvbnRhaW5lci5tb2R1bGUnO1xuaW1wb3J0IHtBV1NlY3Rpb25Nb2R1bGV9IGZyb20gJy4vd2lkZ2V0cy9zZWN0aW9uL3NlY3Rpb24ubW9kdWxlJztcbmltcG9ydCB7QVdTdGVwcGVyTW9kdWxlfSBmcm9tICcuL3dpZGdldHMvc3RlcHBlci9zdGVwcGVyLm1vZHVsZSc7XG5pbXBvcnQge0FXU3RyaW5nRmllbGRNb2R1bGV9IGZyb20gJy4vd2lkZ2V0cy9zdHJpbmcvc3RyaW5nLm1vZHVsZSc7XG5pbXBvcnQge0FXVGV4dEFyZWFNb2R1bGV9IGZyb20gJy4vd2lkZ2V0cy90ZXh0LWFyZWEvdGV4dC1hcmVhLm1vZHVsZSc7XG5pbXBvcnQge0FXQnV0dG9uTW9kdWxlfSBmcm9tICcuL3dpZGdldHMvYnV0dG9uL2J1dHRvbi5tb2R1bGUnO1xuaW1wb3J0IHtBV0Zvcm1UYWJsZU1vZHVsZX0gZnJvbSAnLi9sYXlvdXRzL2Zvcm0tdGFibGUvZm9ybS10YWJsZS5tb2R1bGUnO1xuaW1wb3J0IHtBV0xpc3RNb2R1bGV9IGZyb20gJy4vd2lkZ2V0cy9saXN0L2xpc3QubW9kdWxlJztcbmltcG9ydCB7QVdDYXJkTW9kdWxlfSBmcm9tICcuL3dpZGdldHMvY2FyZC9jYXJkLm1vZHVsZSc7XG5pbXBvcnQge0FXRGF0YXRhYmxlMk1vZHVsZX0gZnJvbSAnLi93aWRnZXRzL2RhdGF0YWJsZTIvZGF0YXRhYmxlMi5tb2R1bGUnO1xuaW1wb3J0IHtEb21VdGlsc1NlcnZpY2V9IGZyb20gJy4vY29yZS9kb20tdXRpbHMuc2VydmljZSc7XG5pbXBvcnQge01vZGFsU2VydmljZX0gZnJvbSAnLi9jb3JlL21vZGFsLXNlcnZpY2UvbW9kYWwuc2VydmljZSc7XG5pbXBvcnQge0RhdGFQcm92aWRlcnN9IGZyb20gJy4vY29yZS9kYXRhL2RhdGEtcHJvdmlkZXJzJztcbmltcG9ydCB7RGF0YUZpbmRlcnN9IGZyb20gJy4vY29yZS9kYXRhL2RhdGEtZmluZGVycyc7XG5pbXBvcnQge0Vycm9yTWFuYWdlclNlcnZpY2V9IGZyb20gJy4vY29yZS9lcnJvci1tYW5hZ2VyLnNlcnZpY2UnO1xuaW1wb3J0IHtBd05hbWVTdG9yZX0gZnJvbSAnLi9jb3JlL2F3LW5hbWUvYXctbmFtZS5zdG9yZSc7XG5pbXBvcnQge0RhdGFUeXBlUHJvdmlkZXJSZWdpc3RyeX0gZnJvbSAnLi9jb3JlL2RhdGEvZGF0YXR5cGUtcmVnaXN0cnkuc2VydmljZSc7XG5pbXBvcnQge1dpemFyZFByb2dyZXNzTW9kdWxlfSBmcm9tICcuL3dpZGdldHMvd2l6YXJkLXByb2dyZXNzL3dpemFyZC1wcm9ncmVzcy5tb2R1bGUnO1xuaW1wb3J0IHtUb2dnbGVTd2l0Y2hNb2R1bGV9IGZyb20gJy4vd2lkZ2V0cy90b2dnbGUtc3dpdGNoL3RvZ2dsZS1zd2l0Y2gubW9kdWxlJztcblxuLyoqXG4gKiBDb21wb25lbnQgbW9kdWxlIGlzIGNvcmUgbW9kdWxlIGZvciB0aGUgY29tbW9uIGxheW91dHMgYW5kIHdpZGdldHMgbGlicmFyaWVzLlxuICpcbiAqIHRvZG86IFRoZXJlIGFyZSBzb21lIHRoaW5ncyB0aGF0IEkgc3RpbGwgbmVlZCB0byByZXNvbHZlIC0gcGxlYXNlIHNlZSBhbmQgbm90aWNlcyBARHVwbGljYXRlc1xuICoganNkb2MgSSB3YW50IHRvIGtlZXAgdGhpcyB0aGVyZSB0byByZW1pbmQgbWUgdGhhdCBJIG5lZWQgdG8gcmVmYWN0b3IgdGhpcyBhcyBvZiBub3cgdGhlcmUgYXJlXG4gKiBub3QgbXVjaCBvcHRpb24gd2l0aCBhbmd1bGFyLlxuICpcbiAqL1xuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIEFyaWJhQ29yZU1vZHVsZSxcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZSxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcblxuICAgICAgICBBV0NvcmVDb21wb25lbnRNb2R1bGUsXG4gICAgICAgIEFXQmFzaWNOYXZpZ2F0b3JNb2R1bGUsXG4gICAgICAgIEFXQ2FyZE1vZHVsZSxcbiAgICAgICAgQVdDaGVja0JveExpc3RNb2R1bGUsXG4gICAgICAgIEFXQ2hlY2tCb3hNb2R1bGUsXG4gICAgICAgIEFXQ2hvb3Nlck1vZHVsZSxcbiAgICAgICAgQVdDb25maXJtYXRpb25Nb2R1bGUsXG4gICAgICAgIEFXQ3VycmVuY3lNb2R1bGUsXG4gICAgICAgIEFXRGF0ZUFuZFRpbWVNb2R1bGUsXG4gICAgICAgIEFXRGlhbG9nTW9kdWxlLFxuICAgICAgICBBV0Ryb3Bkb3duTW9kdWxlLFxuICAgICAgICBBV0dlbmVyaWNDaG9vc2VyTW9kdWxlLFxuICAgICAgICBBV0h5cGVybGlua01vZHVsZSxcbiAgICAgICAgQVdJbnB1dEZpZWxkTW9kdWxlLFxuICAgICAgICBBV091dGxpbmVGb3JNb2R1bGUsXG4gICAgICAgIEFXT3ZlcmxheU1vZHVsZSxcbiAgICAgICAgQVdQYWdlTm90aWZpY2F0aW9uTW9kdWxlLFxuICAgICAgICBBV1BhZ2VXcmFwcGVyTW9kdWxlLFxuICAgICAgICBBV1JhZGlvQnV0dG9uTW9kdWxlLFxuICAgICAgICBBV1JhZGlvQnV0dG9uTGlzdE1vZHVsZSxcbiAgICAgICAgQVdSaWNoVGV4dEFyZWFNb2R1bGUsXG4gICAgICAgIEFXU2Nyb2xsYWJsZUNvbnRhaW5lck1vZHVsZSxcbiAgICAgICAgQVdTZWN0aW9uTW9kdWxlLFxuICAgICAgICBBV1N0ZXBwZXJNb2R1bGUsXG4gICAgICAgIEFXU3RyaW5nRmllbGRNb2R1bGUsXG4gICAgICAgIEFXVGV4dEFyZWFNb2R1bGUsXG4gICAgICAgIEFXRm9ybVRhYmxlTW9kdWxlLFxuICAgICAgICBBV0J1dHRvbk1vZHVsZSxcbiAgICAgICAgQVdIb3ZlckNhcmRNb2R1bGUsXG4gICAgICAgIEFXTGlzdE1vZHVsZSxcbiAgICAgICAgQVdEYXRhdGFibGUyTW9kdWxlLFxuICAgICAgICBXaXphcmRQcm9ncmVzc01vZHVsZSxcbiAgICAgICAgVG9nZ2xlU3dpdGNoTW9kdWxlLFxuXG4gICAgICAgIC8vIFByaW1lTkcgcmVtb3ZlIHdoZW4gYWxsIEFXIGFyZSBpbXBvcnRlZFxuICAgICAgICBQYW5lbE1vZHVsZSxcbiAgICAgICAgQnV0dG9uTW9kdWxlLFxuICAgICAgICBUb29sYmFyTW9kdWxlLFxuICAgICAgICBJbnB1dFRleHRNb2R1bGUsXG4gICAgICAgIElucHV0VGV4dGFyZWFNb2R1bGUsXG4gICAgICAgIEF1dG9Db21wbGV0ZU1vZHVsZSxcbiAgICAgICAgRHJvcGRvd25Nb2R1bGUsXG4gICAgICAgIENhbGVuZGFyTW9kdWxlLFxuICAgICAgICBDaGVja2JveE1vZHVsZSxcbiAgICAgICAgUmFkaW9CdXR0b25Nb2R1bGUsXG4gICAgICAgIFNoYXJlZE1vZHVsZSxcbiAgICAgICAgRGlhbG9nTW9kdWxlLFxuICAgICAgICBNZW51TW9kdWxlLFxuICAgICAgICBUYWJNZW51TW9kdWxlLFxuICAgICAgICBBY2NvcmRpb25Nb2R1bGUsXG4gICAgICAgIEVkaXRvck1vZHVsZSxcbiAgICAgICAgRGF0YVRhYmxlTW9kdWxlLFxuICAgICAgICBQYWdpbmF0b3JNb2R1bGUsXG4gICAgICAgIE92ZXJsYXlQYW5lbE1vZHVsZSxcbiAgICAgICAgVHJlZU1vZHVsZVxuXG4gICAgXSxcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgU3B5TGlmZUN5Y2xlSG9va3NEaXJlY3RpdmUsXG4gICAgICAgIC8vIDN0aCBwYXJ0eSBkZWNsYXJhdGlvblxuICAgIF0sXG4gICAgYm9vdHN0cmFwOiBbXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcblxuICAgICAgICAvLyBQcmltZU5HXG4gICAgICAgIENoZWNrYm94LFxuICAgICAgICBEaWFsb2dcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGUsXG4gICAgICAgIFNweUxpZmVDeWNsZUhvb2tzRGlyZWN0aXZlLFxuICAgICAgICBBV0NvcmVDb21wb25lbnRNb2R1bGUsXG4gICAgICAgIEFXQmFzaWNOYXZpZ2F0b3JNb2R1bGUsXG4gICAgICAgIEFXQ2FyZE1vZHVsZSxcbiAgICAgICAgQVdDaGVja0JveExpc3RNb2R1bGUsXG4gICAgICAgIEFXQ2hlY2tCb3hNb2R1bGUsXG4gICAgICAgIEFXQ2hvb3Nlck1vZHVsZSxcbiAgICAgICAgQVdDb25maXJtYXRpb25Nb2R1bGUsXG4gICAgICAgIEFXQ3VycmVuY3lNb2R1bGUsXG4gICAgICAgIEFXRGF0ZUFuZFRpbWVNb2R1bGUsXG4gICAgICAgIEFXRGlhbG9nTW9kdWxlLFxuICAgICAgICBBV0Ryb3Bkb3duTW9kdWxlLFxuICAgICAgICBBV0dlbmVyaWNDaG9vc2VyTW9kdWxlLFxuICAgICAgICBBV0h5cGVybGlua01vZHVsZSxcbiAgICAgICAgQVdJbnB1dEZpZWxkTW9kdWxlLFxuICAgICAgICBBV091dGxpbmVGb3JNb2R1bGUsXG4gICAgICAgIEFXT3ZlcmxheU1vZHVsZSxcbiAgICAgICAgQVdQYWdlTm90aWZpY2F0aW9uTW9kdWxlLFxuICAgICAgICBBV1BhZ2VXcmFwcGVyTW9kdWxlLFxuICAgICAgICBBV1JhZGlvQnV0dG9uTW9kdWxlLFxuICAgICAgICBBV1JhZGlvQnV0dG9uTGlzdE1vZHVsZSxcbiAgICAgICAgQVdSaWNoVGV4dEFyZWFNb2R1bGUsXG4gICAgICAgIEFXU2Nyb2xsYWJsZUNvbnRhaW5lck1vZHVsZSxcbiAgICAgICAgQVdTZWN0aW9uTW9kdWxlLFxuICAgICAgICBBV1N0ZXBwZXJNb2R1bGUsXG4gICAgICAgIEFXU3RyaW5nRmllbGRNb2R1bGUsXG4gICAgICAgIEFXVGV4dEFyZWFNb2R1bGUsXG4gICAgICAgIEFXRm9ybVRhYmxlTW9kdWxlLFxuICAgICAgICBFbWJlZGRlZEl0ZW1EaXJlY3RpdmUsXG4gICAgICAgIEFXQnV0dG9uTW9kdWxlLFxuICAgICAgICBBV0hvdmVyQ2FyZE1vZHVsZSxcbiAgICAgICAgQVdMaXN0TW9kdWxlLFxuICAgICAgICBBV0RhdGF0YWJsZTJNb2R1bGUsXG4gICAgICAgIFdpemFyZFByb2dyZXNzTW9kdWxlLFxuICAgICAgICBUb2dnbGVTd2l0Y2hNb2R1bGUsXG5cbiAgICAgICAgLy8gUHJpbWVOR1xuICAgICAgICBTaGFyZWRNb2R1bGUsXG4gICAgICAgIFBhbmVsTW9kdWxlLFxuICAgICAgICBCdXR0b25Nb2R1bGUsXG4gICAgICAgIFRvb2xiYXJNb2R1bGUsXG4gICAgICAgIElucHV0VGV4dE1vZHVsZSxcbiAgICAgICAgSW5wdXRUZXh0YXJlYU1vZHVsZSxcbiAgICAgICAgQXV0b0NvbXBsZXRlTW9kdWxlLFxuICAgICAgICBEcm9wZG93bk1vZHVsZSxcbiAgICAgICAgQ2FsZW5kYXJNb2R1bGUsXG4gICAgICAgIENoZWNrYm94TW9kdWxlLFxuICAgICAgICBSYWRpb0J1dHRvbk1vZHVsZSxcbiAgICAgICAgRGlhbG9nTW9kdWxlLFxuICAgICAgICBNZW51TW9kdWxlLFxuICAgICAgICBUYWJNZW51TW9kdWxlLFxuICAgICAgICBFZGl0b3JNb2R1bGUsXG4gICAgICAgIERhdGFUYWJsZU1vZHVsZSxcbiAgICAgICAgUGFnaW5hdG9yTW9kdWxlLFxuICAgICAgICBPdmVybGF5UGFuZWxNb2R1bGVcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIEFyaWJhQ29tcG9uZW50c01vZHVsZVxue1xuXG5cbiAgICBzdGF0aWMgZm9yUm9vdCgpOiBNb2R1bGVXaXRoUHJvdmlkZXJzXG4gICAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmdNb2R1bGU6IEFyaWJhQ29tcG9uZW50c01vZHVsZSxcbiAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZSxcbiAgICAgICAgICAgICAgICBDb21wb25lbnRSZWdpc3RyeSxcbiAgICAgICAgICAgICAgICBFcnJvck1hbmFnZXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIERvbVV0aWxzU2VydmljZSxcbiAgICAgICAgICAgICAgICBEYXRhVHlwZVByb3ZpZGVyUmVnaXN0cnksXG4gICAgICAgICAgICAgICAgRGF0YVByb3ZpZGVycyxcbiAgICAgICAgICAgICAgICBEYXRhRmluZGVycyxcbiAgICAgICAgICAgICAgICBBd05hbWVTdG9yZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IEFQUF9JTklUSUFMSVpFUixcbiAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogcmVnaXN0ZXJDb21wb25lbnRzLFxuICAgICAgICAgICAgICAgICAgICBkZXBzOiBbQ29tcG9uZW50UmVnaXN0cnldLFxuICAgICAgICAgICAgICAgICAgICBtdWx0aTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnRzKGNvbXBSZWdpc3RyeTogQ29tcG9uZW50UmVnaXN0cnkpOiBGdW5jdGlvblxue1xuICAgIHJldHVybiBjb21wUmVnaXN0cnkuaW5pdGlhbGl6ZS5iaW5kKGNvbXBSZWdpc3RyeSwgY29tcG9uZW50cyk7XG59XG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge0FQUF9JTklUSUFMSVpFUiwgTW9kdWxlV2l0aFByb3ZpZGVycywgTmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtDb21wb25lbnRSZWdpc3RyeX0gZnJvbSAnLi9jb3JlL2NvbXBvbmVudC1yZWdpc3RyeS5zZXJ2aWNlJztcbmltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSAnLi9lbnRyeS1jb21wb25lbnRzJztcbmltcG9ydCB7RG9tVXRpbHNTZXJ2aWNlfSBmcm9tICcuL2NvcmUvZG9tLXV0aWxzLnNlcnZpY2UnO1xuaW1wb3J0IHtNb2RhbFNlcnZpY2V9IGZyb20gJy4vY29yZS9tb2RhbC1zZXJ2aWNlL21vZGFsLnNlcnZpY2UnO1xuaW1wb3J0IHtEYXRhUHJvdmlkZXJzfSBmcm9tICcuL2NvcmUvZGF0YS9kYXRhLXByb3ZpZGVycyc7XG5pbXBvcnQge0RhdGFGaW5kZXJzfSBmcm9tICcuL2NvcmUvZGF0YS9kYXRhLWZpbmRlcnMnO1xuaW1wb3J0IHtFcnJvck1hbmFnZXJTZXJ2aWNlfSBmcm9tICcuL2NvcmUvZXJyb3ItbWFuYWdlci5zZXJ2aWNlJztcbmltcG9ydCB7QXdOYW1lU3RvcmV9IGZyb20gJy4vY29yZS9hdy1uYW1lL2F3LW5hbWUuc3RvcmUnO1xuaW1wb3J0IHtEYXRhVHlwZVByb3ZpZGVyUmVnaXN0cnl9IGZyb20gJy4vY29yZS9kYXRhL2RhdGF0eXBlLXJlZ2lzdHJ5LnNlcnZpY2UnO1xuXG5cbi8qKlxuICpcbiAqIFRoaXMgbW9kdWxlIGlzIHVzZWQgbWFpbmx5IGZvciB0ZXN0cyBhcyBpbXBvcnRpbmcgYSBtb2R1bGUgd2l0aCBhbGwgdGhlIGNvbXBvbmVudHMgYW5kIHlvdVxuICogdXNlIG9ubHkgMSBvciB0d28gaGFzIGEgYmlnIGltcGFjdCBvbiB0aGUgcGVyZm9ybWFuY2UgZXhlY3V0aW9uLiBlLmcuIGZyb20gZXhlY3V0aW5nIGNvdXBsZVxuICogdGVzdHMgdW5kZXIgMSBzZWMgY2FuIGdvIHVwIHRvIDEwc2VjIGlmIHlvdSBpbXBvcnQgYWxsIHRoZSB0aGluZ3MgdGhhdCB5b3UgYXJlIG5vdCB1c2luZy5cbiAqXG4gKiBJIGhhdmVudCBub3RpY2VkIGFueXRoaW5nIHNpbWlsYXIgaW4gYXBwbGljYXRpb24gaXRzIG9ubHkgamFzbWluZS9rYXJtYSB0aGF0IG5lZWRzIHRvIGluaXRcbiAqIGNvbXBvbmVudHMgZm9yIGV2ZXJ5IHRlc3QuXG4gKlxuICovXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEFyaWJhQ29tcG9uZW50c1Rlc3RQcm92aWRlck1vZHVsZSB7XG5cblxuICAgIHN0YXRpYyBmb3JSb290KCk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmdNb2R1bGU6IEFyaWJhQ29tcG9uZW50c1Rlc3RQcm92aWRlck1vZHVsZSxcbiAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZSxcbiAgICAgICAgICAgICAgICBDb21wb25lbnRSZWdpc3RyeSxcbiAgICAgICAgICAgICAgICBFcnJvck1hbmFnZXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIERvbVV0aWxzU2VydmljZSxcbiAgICAgICAgICAgICAgICBEYXRhVHlwZVByb3ZpZGVyUmVnaXN0cnksXG4gICAgICAgICAgICAgICAgRGF0YVByb3ZpZGVycyxcbiAgICAgICAgICAgICAgICBEYXRhRmluZGVycyxcbiAgICAgICAgICAgICAgICBBd05hbWVTdG9yZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IEFQUF9JTklUSUFMSVpFUixcbiAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogcmVnaXN0ZXJDb21wb25lbnRzLFxuICAgICAgICAgICAgICAgICAgICBkZXBzOiBbQ29tcG9uZW50UmVnaXN0cnldLFxuICAgICAgICAgICAgICAgICAgICBtdWx0aTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnRzKGNvbXBSZWdpc3RyeTogQ29tcG9uZW50UmVnaXN0cnkpOiBGdW5jdGlvbiB7XG4gICAgcmV0dXJuIGNvbXBSZWdpc3RyeS5pbml0aWFsaXplLmJpbmQoY29tcFJlZ2lzdHJ5LCBjb21wb25lbnRzKTtcbn1cblxuXG4iXSwibmFtZXMiOlsidHNsaWJfMS5fX2V4dGVuZHMiLCJvYnNlcnZhYmxlT2YiLCJJbnB1dFRleHRNb2R1bGUiLCJzdGF0ZSIsInRzbGliXzEuX192YWx1ZXMiLCJEaWFsb2dNb2R1bGUiLCJyZWdpc3RlckNvbXBvbmVudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFvQkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFrRkksK0JBQW9CLGNBQWdDO1FBQWhDLG1CQUFjLEdBQWQsY0FBYyxDQUFrQjtLQUVuRDtJQVpELHNCQUNJLHVDQUFJOzs7OztRQURSLFVBQ1MsSUFBUztZQUVkLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO1NBQzlCOzs7T0FBQTs7Ozs7Ozs7O0lBYUQsMkNBQVc7Ozs7O0lBQVgsVUFBWSxPQUFzQjtRQUU5QixJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDMUIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7U0FDMUU7UUFFRCxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7O1lBQzlCLElBQUksT0FBTyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUNuRCxJQUFJLENB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

/***/ }),

/***/ "../../dist/@aribaui/core/fesm5/aribaui-core.js":
/*!****************************************************************************************!*\
  !*** /Users/fkolar/Documents/projects/MetaUI/dist/@aribaui/core/fesm5/aribaui-core.js ***!
  \****************************************************************************************/
/*! exports provided: AppConfig, makeConfig, Environment, Resource, DefaultRestBuilder, isEntity, isValue, ActionSegment, RestAction, ResourceSegment, RestSegmentType, UrlSegment, ContextSegment, HostSegment, IdentifierSegment, OfParentSegment, RestUrlGroup, MapWrapper, StringMapWrapper, ListWrapper, isListLikeIterable, areIterablesEqual, iterateListLike, findLast, getTypeNameForDebugging, unimplemented, isPresent, isBlank, isBoolean, isNumber, isString, isFunction, isType, isStringMap, isStrictStringMap, isPromise, isArray, isDate, isWindow, isRegExp, noop, stringify, className, applyMixins, StringWrapper, StringJoiner, NumberWrapper, FunctionWrapper, looseIdentical, getMapKey, normalizeBlank, normalizeBool, isJsObject, print, warn, assert, checksum, crc32, Json, DateWrapper, BooleanWrapper, getSymbolIterator, evalExpression, evalExpressionWithCntx, isPrimitive, hasConstructor, escape, escapeRegExp, hashCode, objectToName, equals, shiftLeft, shiftRight, Extensible, readGlobalParam, decamelize, nonPrivatePrefix, hasGetter, uuid, objectValues, NotFoundComponent, RoutingService, AribaCoreModule, FieldPath, AribaApplication, Notifications, ɵc, ɵa, ɵb, ɵe, ɵd */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppConfig", function() { return AppConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeConfig", function() { return makeConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Environment", function() { return Environment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Resource", function() { return Resource; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DefaultRestBuilder", function() { return DefaultRestBuilder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEntity", function() { return isEntity; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isValue", function() { return isValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActionSegment", function() { return ActionSegment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RestAction", function() { return RestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResourceSegment", function() { return ResourceSegment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RestSegmentType", function() { return RestSegmentType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UrlSegment", function() { return UrlSegment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContextSegment", function() { return ContextSegment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HostSegment", function() { return HostSegment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IdentifierSegment", function() { return IdentifierSegment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OfParentSegment", function() { return OfParentSegment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RestUrlGroup", function() { return RestUrlGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapWrapper", function() { return MapWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StringMapWrapper", function() { return StringMapWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListWrapper", function() { return ListWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isListLikeIterable", function() { return isListLikeIterable$1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "areIterablesEqual", function() { return areIterablesEqual; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "iterateListLike", function() { return iterateListLike; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findLast", function() { return findLast; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTypeNameForDebugging", function() { return getTypeNameForDebugging; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "unimplemented", function() { return unimplemented; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPresent", function() { return isPresent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isBlank", function() { return isBlank; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isBoolean", function() { return isBoolean; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNumber", function() { return isNumber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isString", function() { return isString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFunction", function() { return isFunction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isType", function() { return isType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isStringMap", function() { return isStringMap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isStrictStringMap", function() { return isStrictStringMap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPromise", function() { return isPromise; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isArray", function() { return isArray; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDate", function() { return isDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isWindow", function() { return isWindow; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isRegExp", function() { return isRegExp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "noop", function() { return noop; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stringify", function() { return stringify; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "className", function() { return className; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "applyMixins", function() { return applyMixins; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StringWrapper", function() { return StringWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StringJoiner", function() { return StringJoiner; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NumberWrapper", function() { return NumberWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FunctionWrapper", function() { return FunctionWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "looseIdentical", function() { return looseIdentical; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMapKey", function() { return getMapKey; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeBlank", function() { return normalizeBlank; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeBool", function() { return normalizeBool; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isJsObject", function() { return isJsObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "print", function() { return print; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "warn", function() { return warn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "assert", function() { return assert; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "checksum", function() { return checksum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "crc32", function() { return crc32; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Json", function() { return Json; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DateWrapper", function() { return DateWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BooleanWrapper", function() { return BooleanWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSymbolIterator", function() { return getSymbolIterator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "evalExpression", function() { return evalExpression; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "evalExpressionWithCntx", function() { return evalExpressionWithCntx; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPrimitive", function() { return isPrimitive; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasConstructor", function() { return hasConstructor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "escape", function() { return escape; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "escapeRegExp", function() { return escapeRegExp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hashCode", function() { return hashCode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "objectToName", function() { return objectToName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "equals", function() { return equals; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shiftLeft", function() { return shiftLeft; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shiftRight", function() { return shiftRight; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Extensible", function() { return Extensible; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "readGlobalParam", function() { return readGlobalParam; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "decamelize", function() { return decamelize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "nonPrivatePrefix", function() { return nonPrivatePrefix; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasGetter", function() { return hasGetter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uuid", function() { return uuid; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "objectValues", function() { return objectValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotFoundComponent", function() { return NotFoundComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoutingService", function() { return RoutingService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AribaCoreModule", function() { return AribaCoreModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldPath", function() { return FieldPath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AribaApplication", function() { return AribaApplication; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Notifications", function() { return Notifications; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵc", function() { return AribaCoreRoutingModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵa", function() { return UserConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵb", function() { return makeHttpClientHandler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵe", function() { return GlobalErrorHandler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵd", function() { return HttpMockInterceptor; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "../../node_modules/tslib/tslib.es6.js");
/* harmony import */ var big_integer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! big-integer */ "../../node_modules/big-integer/BigInteger.js");
/* harmony import */ var big_integer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(big_integer__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var typescript_collections__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! typescript-collections */ "../../node_modules/typescript-collections/dist/lib/index.js");
/* harmony import */ var typescript_collections__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(typescript_collections__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "../../node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "../../node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "../../node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/platform-browser */ "../../node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var object_path__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! object-path */ "../../node_modules/object-path/index.js");
/* harmony import */ var object_path__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(object_path__WEBPACK_IMPORTED_MODULE_10__);












/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var bigInt = big_integer__WEBPACK_IMPORTED_MODULE_1__;
/** *
 *  Set of reusable globals. This is taken from the Angular 2 since its not exported API. And there
 *  is a need for such common functions and wrappers
 *
  @type {?} */
var __window = typeof window !== 'undefined' && window;
/** @type {?} */
var _global = __window;
/**
 * @param {?} varName
 * @return {?}
 */
function readGlobalParam(varName) {
    return _global[varName];
}
/**
 * @param {?} type
 * @return {?}
 */
function getTypeNameForDebugging(type) {
    if (type['name']) {
        return type['name'];
    }
    return typeof type;
}
/**
 * @return {?}
 */
function unimplemented() {
    throw new Error('unimplemented');
}
/**
 * @param {?} obj
 * @return {?}
 */
function isPresent(obj) {
    return obj !== undefined && obj !== null;
}
/**
 * @param {?} obj
 * @return {?}
 */
function isBlank(obj) {
    return obj === undefined || obj === null;
}
/**
 * @param {?} obj
 * @return {?}
 */
function isBoolean(obj) {
    return typeof obj === 'boolean';
}
/**
 * @param {?} obj
 * @return {?}
 */
function isNumber(obj) {
    return typeof obj === 'number';
}
/**
 * @param {?} obj
 * @return {?}
 */
function isString(obj) {
    return typeof obj === 'string';
}
/**
 * @param {?} obj
 * @return {?}
 */
function isFunction(obj) {
    return typeof obj === 'function';
}
/**
 * @param {?} obj
 * @return {?}
 */
function isType(obj) {
    return isFunction(obj);
}
/**
 * @param {?} obj
 * @return {?}
 */
function isStringMap(obj) {
    return typeof obj === 'object' && obj !== null;
}
/** @type {?} */
var STRING_MAP_PROTO = Object.getPrototypeOf({});
/**
 * @param {?} obj
 * @return {?}
 */
function isStrictStringMap(obj) {
    return isStringMap(obj) && Object.getPrototypeOf(obj) === STRING_MAP_PROTO;
}
/**
 * @param {?} obj
 * @return {?}
 */
function isPromise(obj) {
    // allow any Promise/A+ compliant thenable.
    // It's up to the caller to ensure that obj.then conforms to the spec
    return isPresent(obj) && isFunction(obj.then);
}
/**
 * @param {?} obj
 * @return {?}
 */
function isArray(obj) {
    return Array.isArray(obj);
}
/**
 * @param {?} obj
 * @return {?}
 */
function isDate(obj) {
    return (obj instanceof Date && !isNaN(obj.valueOf())) ||
        (isPresent(obj) && isFunction(obj.now));
}
/**
 * Checks if `obj` is a window object.
 *
 * @param {?} obj
 * @return {?}
 */
function isWindow(obj) {
    return obj && obj.window === obj;
}
/**
 * Determines if a value is a regular expression object.
 *
 * @param {?} value
 * @return {?}
 */
function isRegExp(value) {
    return Object.prototype.toString.call(value) === '[object RegExp]';
}
/**
 * @return {?}
 */
function noop() {
}
/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function shiftLeft(a, b) {
    return bigInt(a).shiftLeft(b).valueOf();
}
/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function shiftRight(a, b) {
    return bigInt(a).shiftRight(b).valueOf();
}
/**
 * @param {?} token
 * @return {?}
 */
function stringify(token) {
    if (typeof token === 'string') {
        return token;
    }
    if (token === undefined || token === null) {
        return '' + token;
    }
    if (token.overriddenName) {
        return token.overriddenName;
    }
    if (token.name) {
        return token.name;
    }
    /** @type {?} */
    var res = token.toString();
    /** @type {?} */
    var newLineIndex = res.indexOf('\n');
    return (newLineIndex === -1) ? res : res.substring(0, newLineIndex);
}
/**
 * @param {?} clazz
 * @return {?}
 */
function className(clazz) {
    if (isPresent(clazz.constructor)) {
        /** @type {?} */
        var classN = clazz.constructor.toString();
        classN = classN.substr('function '.length);
        return classN.substr(0, classN.indexOf('('));
    }
    return clazz;
}
/**
 *  Source: https://www.typescriptlang.org/docs/handbook/mixins.html
 *
 *  Function that copies properties of the baseCtors to derivedCtor.
 *  Can be used to achieve multiple inheritance.
 * @param {?} derivedCtor
 * @param {?} baseCtors
 * @return {?}
 */
function applyMixins(derivedCtor, baseCtors) {
    baseCtors.forEach(function (baseCtor) {
        Object.getOwnPropertyNames(baseCtor.prototype).forEach(function (name) {
            derivedCtor.prototype[name]
                = baseCtor.prototype[name];
        });
    });
}
var StringWrapper = /** @class */ (function () {
    function StringWrapper() {
    }
    /**
     * @param {?} code
     * @return {?}
     */
    StringWrapper.fromCharCode = /**
     * @param {?} code
     * @return {?}
     */
    function (code) {
        return String.fromCharCode(code);
    };
    /**
     * @param {?} s
     * @param {?} index
     * @return {?}
     */
    StringWrapper.charCodeAt = /**
     * @param {?} s
     * @param {?} index
     * @return {?}
     */
    function (s, index) {
        return s.charCodeAt(index);
    };
    /**
     * @param {?} s
     * @param {?} regExp
     * @return {?}
     */
    StringWrapper.split = /**
     * @param {?} s
     * @param {?} regExp
     * @return {?}
     */
    function (s, regExp) {
        return s.split(regExp);
    };
    /**
     * @param {?} s
     * @param {?} s2
     * @return {?}
     */
    StringWrapper.equals = /**
     * @param {?} s
     * @param {?} s2
     * @return {?}
     */
    function (s, s2) {
        return s === s2;
    };
    /**
     * @param {?} s
     * @param {?} charVal
     * @return {?}
     */
    StringWrapper.stripLeft = /**
     * @param {?} s
     * @param {?} charVal
     * @return {?}
     */
    function (s, charVal) {
        if (s && s.length) {
            /** @type {?} */
            var pos = 0;
            for (var i = 0; i < s.length; i++) {
                if (s[i] !== charVal) {
                    break;
                }
                pos++;
            }
            s = s.substring(pos);
        }
        return s;
    };
    /**
     * @param {?} s
     * @param {?} charVal
     * @return {?}
     */
    StringWrapper.stripRight = /**
     * @param {?} s
     * @param {?} charVal
     * @return {?}
     */
    function (s, charVal) {
        if (s && s.length) {
            /** @type {?} */
            var pos = s.length;
            for (var i = s.length - 1; i >= 0; i--) {
                if (s[i] !== charVal) {
                    break;
                }
                pos--;
            }
            s = s.substring(0, pos);
        }
        return s;
    };
    /**
     * @param {?} s
     * @param {?} from
     * @param {?} replace
     * @return {?}
     */
    StringWrapper.replace = /**
     * @param {?} s
     * @param {?} from
     * @param {?} replace
     * @return {?}
     */
    function (s, from, replace) {
        return s.replace(from, replace);
    };
    /**
     * @param {?} s
     * @param {?} from
     * @param {?} replace
     * @return {?}
     */
    StringWrapper.replaceAll = /**
     * @param {?} s
     * @param {?} from
     * @param {?} replace
     * @return {?}
     */
    function (s, from, replace) {
        return s.replace(from, replace);
    };
    /**
     * @template T
     * @param {?} s
     * @param {?=} from
     * @param {?=} to
     * @return {?}
     */
    StringWrapper.slice = /**
     * @template T
     * @param {?} s
     * @param {?=} from
     * @param {?=} to
     * @return {?}
     */
    function (s, from, to) {
        if (from === void 0) { from = 0; }
        if (to === void 0) { to = null; }
        return s.slice(from, to === null ? undefined : to);
    };
    /**
     * @param {?} s
     * @param {?} substr
     * @return {?}
     */
    StringWrapper.contains = /**
     * @param {?} s
     * @param {?} substr
     * @return {?}
     */
    function (s, substr) {
        return s.indexOf(substr) !== -1;
    };
    /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    StringWrapper.compare = /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    function (a, b) {
        if (a < b) {
            return -1;
        }
        else if (a > b) {
            return 1;
        }
        else {
            return 0;
        }
    };
    /**
     * @param {?} subject
     * @param {?} searchString
     * @param {?=} position
     * @return {?}
     */
    StringWrapper.endsWidth = /**
     * @param {?} subject
     * @param {?} searchString
     * @param {?=} position
     * @return {?}
     */
    function (subject, searchString, position) {
        if (position === void 0) { position = 0; }
        if (!String.prototype.endsWith) {
            String.prototype.endsWith = function (sstring, pos) {
                if (pos === void 0) { pos = 0; }
                /** @type {?} */
                var subjectString = this.toString();
                if (typeof pos !== 'number' || !isFinite(pos) || Math.floor(pos) !== pos || pos
                    >
                        subjectString.length) {
                    pos = subjectString.length;
                }
                pos -= sstring.length;
                /** @type {?} */
                var lastIndex = subjectString.indexOf(sstring, pos);
                return lastIndex !== -1 && lastIndex === pos;
            };
        }
        return subject.endsWith(searchString);
    };
    /**
     * @param {?} subject
     * @param {?} searchString
     * @return {?}
     */
    StringWrapper.startsWidth = /**
     * @param {?} subject
     * @param {?} searchString
     * @return {?}
     */
    function (subject, searchString) {
        return subject.indexOf(searchString) === 0;
    };
    return StringWrapper;
}());
var StringJoiner = /** @class */ (function () {
    function StringJoiner(parts) {
        if (parts === void 0) { parts = []; }
        this.parts = parts;
    }
    /**
     * @param {?} part
     * @return {?}
     */
    StringJoiner.prototype.add = /**
     * @param {?} part
     * @return {?}
     */
    function (part) {
        this.parts.push(part);
        return this;
    };
    /**
     * @return {?}
     */
    StringJoiner.prototype.last = /**
     * @return {?}
     */
    function () {
        return this.parts[this.parts.length - 1];
    };
    /**
     * @return {?}
     */
    StringJoiner.prototype.toString = /**
     * @return {?}
     */
    function () {
        return this.parts.join('');
    };
    return StringJoiner;
}());
var NumberWrapper = /** @class */ (function () {
    function NumberWrapper() {
    }
    /**
     * @param {?} n
     * @param {?} fractionDigits
     * @return {?}
     */
    NumberWrapper.toFixed = /**
     * @param {?} n
     * @param {?} fractionDigits
     * @return {?}
     */
    function (n, fractionDigits) {
        return n.toFixed(fractionDigits);
    };
    /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    NumberWrapper.equal = /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    function (a, b) {
        return a === b;
    };
    /**
     * @param {?} text
     * @return {?}
     */
    NumberWrapper.parseIntAutoRadix = /**
     * @param {?} text
     * @return {?}
     */
    function (text) {
        /** @type {?} */
        var result = parseInt(text);
        if (isNaN(result)) {
            throw new Error('Invalid integer literal when parsing ' + text);
        }
        return result;
    };
    /**
     * @param {?} text
     * @param {?} radix
     * @return {?}
     */
    NumberWrapper.parseInt = /**
     * @param {?} text
     * @param {?} radix
     * @return {?}
     */
    function (text, radix) {
        if (radix === 10) {
            if (/^(\-|\+)?[0-9]+$/.test(text)) {
                return parseInt(text, radix);
            }
        }
        else if (radix === 16) {
            if (/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(text)) {
                return parseInt(text, radix);
            }
        }
        else {
            /** @type {?} */
            var result = parseInt(text, radix);
            if (!isNaN(result)) {
                return result;
            }
        }
        throw new Error('Invalid integer literal when parsing ' + text + ' in base ' + radix);
    };
    // TODO: NaN is a valid literal but is returned by parseFloat to indicate an error.
    /**
     * @param {?} text
     * @return {?}
     */
    NumberWrapper.parseFloat = /**
     * @param {?} text
     * @return {?}
     */
    function (text) {
        return parseFloat(text);
    };
    /**
     * @param {?} value
     * @return {?}
     */
    NumberWrapper.isNumeric = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return !isNaN(value - parseFloat(value));
    };
    /**
     * @param {?} value
     * @return {?}
     */
    NumberWrapper.isNaN = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return isNaN(value);
    };
    /**
     * @param {?} value
     * @return {?}
     */
    NumberWrapper.isInteger = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return Number.isInteger(value);
    };
    return NumberWrapper;
}());
var FunctionWrapper = /** @class */ (function () {
    function FunctionWrapper() {
    }
    /**
     * @param {?} fn
     * @param {?} posArgs
     * @return {?}
     */
    FunctionWrapper.apply = /**
     * @param {?} fn
     * @param {?} posArgs
     * @return {?}
     */
    function (fn, posArgs) {
        return fn.apply(null, posArgs);
    };
    /**
     * @param {?} fn
     * @param {?} scope
     * @return {?}
     */
    FunctionWrapper.bind = /**
     * @param {?} fn
     * @param {?} scope
     * @return {?}
     */
    function (fn, scope) {
        return fn.bind(scope);
    };
    return FunctionWrapper;
}());
/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function looseIdentical(a, b) {
    return a === b || typeof a === 'number' && typeof b === 'number' && isNaN(a) && isNaN(b);
}
/**
 * @template T
 * @param {?} value
 * @return {?}
 */
function getMapKey(value) {
    return value;
}
/**
 * @param {?} obj
 * @return {?}
 */
function normalizeBlank(obj) {
    return isBlank(obj) ? null : obj;
}
/**
 * @param {?} obj
 * @return {?}
 */
function normalizeBool(obj) {
    return isBlank(obj) ? false : obj;
}
/**
 * @param {?} o
 * @return {?}
 */
function isJsObject(o) {
    return o !== null && (typeof o === 'function' || typeof o === 'object');
}
/**
 * @param {?} obj
 * @return {?}
 */
function print(obj) {
    console.log(obj);
}
/**
 * @param {?} obj
 * @return {?}
 */
function warn(obj) {
    console.warn(obj);
}
/**
 * @param {?} condition
 * @param {?} msg
 * @return {?}
 */
function assert(condition, msg) {
    if (!condition) {
        throw new Error(msg);
    }
}
/**
 * @param {?} s
 * @return {?}
 */
function checksum(s) {
    /** @type {?} */
    var chk = 0x12345678;
    /** @type {?} */
    var len = s.length;
    for (var i = 0; i < len; i++) {
        chk += (s.charCodeAt(i) * (i + 1));
    }
    return (chk & 0xffffffff).toString(16);
}
/**
 * @param {?} crc
 * @param {?} anInt
 * @return {?}
 */
function crc32(crc, anInt) {
    /** @type {?} */
    var table = '00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D';
    /** @type {?} */
    var x = 0;
    /** @type {?} */
    var y = 0;
    for (var i = 0; i < 4; i++) {
        y = (crc ^ anInt) & 0xFF;
        x = Number('0x' + table.substr(y * 9, 8));
        crc = (crc >>> 8) ^ x;
    }
    return crc ^ (-1);
}
var Json = /** @class */ (function () {
    function Json() {
    }
    /**
     * @param {?} s
     * @return {?}
     */
    Json.parse = /**
     * @param {?} s
     * @return {?}
     */
    function (s) {
        return JSON.parse(s);
    };
    /**
     * @param {?} data
     * @return {?}
     */
    Json.stringify = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        // Dart doesn't take 3 arguments
        return JSON.stringify(data, null, 2);
    };
    return Json;
}());
var DateWrapper = /** @class */ (function () {
    function DateWrapper() {
    }
    /**
     * @param {?} year
     * @param {?=} month
     * @param {?=} day
     * @param {?=} hour
     * @param {?=} minutes
     * @param {?=} seconds
     * @param {?=} milliseconds
     * @return {?}
     */
    DateWrapper.create = /**
     * @param {?} year
     * @param {?=} month
     * @param {?=} day
     * @param {?=} hour
     * @param {?=} minutes
     * @param {?=} seconds
     * @param {?=} milliseconds
     * @return {?}
     */
    function (year, month, day, hour, minutes, seconds, milliseconds) {
        if (month === void 0) { month = 1; }
        if (day === void 0) { day = 1; }
        if (hour === void 0) { hour = 0; }
        if (minutes === void 0) { minutes = 0; }
        if (seconds === void 0) { seconds = 0; }
        if (milliseconds === void 0) { milliseconds = 0; }
        return new Date(year, month - 1, day, hour, minutes, seconds, milliseconds);
    };
    /**
     * @param {?} str
     * @return {?}
     */
    DateWrapper.fromISOString = /**
     * @param {?} str
     * @return {?}
     */
    function (str) {
        return new Date(str);
    };
    /**
     * @param {?} ms
     * @return {?}
     */
    DateWrapper.fromMillis = /**
     * @param {?} ms
     * @return {?}
     */
    function (ms) {
        return new Date(ms);
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateWrapper.toMillis = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        return date.getTime();
    };
    /**
     * @return {?}
     */
    DateWrapper.now = /**
     * @return {?}
     */
    function () {
        return new Date();
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateWrapper.toJson = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        return date.toJSON();
    };
    return DateWrapper;
}());
var BooleanWrapper = /** @class */ (function () {
    function BooleanWrapper() {
    }
    /**
     * @param {?=} value
     * @return {?}
     */
    BooleanWrapper.boleanValue = /**
     * @param {?=} value
     * @return {?}
     */
    function (value) {
        if (value === void 0) { value = false; }
        if (value && isString(value)) {
            return value === 'true';
        }
        return value;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    BooleanWrapper.isFalse = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value && isString(value)) {
            return value === 'false';
        }
        else if (isStringMap(value)) {
            return false;
        }
        else if (isBoolean(value)) {
            return (value === false) ? true : false;
        }
        return value;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    BooleanWrapper.isTrue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value && isString(value)) {
            return value === 'true';
        }
        else if (isStringMap(value)) {
            return false;
        }
        else if (isBoolean(value)) {
            return (value === true) ? true : false;
        }
        return value;
    };
    return BooleanWrapper;
}());
/** @type {?} */
var _symbolIterator = null;
/**
 * @return {?}
 */
function getSymbolIterator() {
    if (isBlank(_symbolIterator)) {
        if (isPresent(Symbol.iterator)) {
            _symbolIterator = Symbol.iterator;
        }
        else {
            /** @type {?} */
            var keys = Object.getOwnPropertyNames(Map.prototype);
            for (var i = 0; i < keys.length; ++i) {
                /** @type {?} */
                var key = keys[i];
                if (key !== 'entries' && key !== 'size' &&
                    (/** @type {?} */ (Map)).prototype[key] === Map.prototype['entries']) {
                    _symbolIterator = key;
                }
            }
        }
    }
    return _symbolIterator;
}
/** @type {?} */
var ReservedKeyword = ['class'];
/**
 * @param {?} expr
 * @param {?} declarations
 * @param {?} lets
 * @return {?}
 */
function evalExpression(expr, declarations, lets) {
    /** @type {?} */
    var fnBody = declarations + "\n\treturn " + expr + "\n//# sourceURL=AribaExpression";
    /** @type {?} */
    var fnArgNames = [];
    /** @type {?} */
    var fnArgValues = [];
    for (var argName in lets) {
        if (StringWrapper.contains(expr, argName)) {
            fnArgNames.push(argName);
            fnArgValues.push(lets[argName]);
        }
    }
    if (lets instanceof Extensible) {
        /** @type {?} */
        var extValues = lets;
        extValues.extendedFields().forEach(function (value, key) {
            if (StringWrapper.contains(expr, key) &&
                fnArgNames.indexOf(key) === -1 && ReservedKeyword.indexOf(key) === -1) {
                fnArgNames.push(key);
                fnArgValues.push(value);
            }
        });
    }
    // fnArgNames.push('this');
    // fnArgValues.push(lets);
    return new (Function.bind.apply(Function, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__spread"])([void 0], fnArgNames.concat(fnBody))))().apply(void 0, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__spread"])(fnArgValues));
}
/**
 * @param {?} expr
 * @param {?} declarations
 * @param {?} lets
 * @param {?} thisContext
 * @return {?}
 */
function evalExpressionWithCntx(expr, declarations, lets, thisContext) {
    /** @type {?} */
    var fnBody = declarations + "\n\treturn " + expr + "\n//# sourceURL=AribaExpression";
    /** @type {?} */
    var fnArgNames = [];
    /** @type {?} */
    var fnArgValues = [];
    for (var argName in lets) {
        if (StringWrapper.contains(expr, argName)) {
            fnArgNames.push(argName);
            fnArgValues.push(lets[argName]);
        }
    }
    if (lets instanceof Extensible) {
        /** @type {?} */
        var extValues = lets;
        extValues.extendedFields().forEach(function (value, key) {
            if (StringWrapper.contains(expr, key) &&
                fnArgNames.indexOf(key) === -1 && ReservedKeyword.indexOf(key) === -1) {
                fnArgNames.push(key);
                fnArgValues.push(value);
            }
        });
    }
    /** @type {?} */
    var fn = new (Function.bind.apply(Function, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__spread"])([void 0], fnArgNames.concat(fnBody))))();
    assert(isPresent(fn), 'Cannot evaluate expression. FN is not defined');
    /** @type {?} */
    var fnBound = fn.bind(thisContext);
    return fnBound.apply(void 0, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__spread"])(fnArgValues));
}
/**
 * @param {?} obj
 * @return {?}
 */
function isPrimitive(obj) {
    return !isJsObject(obj);
}
/**
 * @param {?} value
 * @param {?} type
 * @return {?}
 */
function hasConstructor(value, type) {
    return value.constructor === type;
}
/**
 * @param {?} s
 * @return {?}
 */
function escape(s) {
    return encodeURI(s);
}
/**
 * @param {?} s
 * @return {?}
 */
function escapeRegExp(s) {
    return s.replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
}
/**
 * @param {?} str
 * @return {?}
 */
function hashCode(str) {
    /** @type {?} */
    var hash = 0;
    /** @type {?} */
    var char;
    if (str.length === 0) {
        return hash;
    }
    for (var i = 0; i < str.length; i++) {
        char = str.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash;
    }
    return hash;
}
/**
 * @param {?} obj
 * @return {?}
 */
function objectValues(obj) {
    return Object.keys(obj).map(function (key) { return obj[key]; });
}
/**
 *
 * Converts object to a name;
 *
 * @param {?} target
 * @return {?}
 */
function objectToName(target) {
    if (isBlank(target) || (!isStringMap(target) && !isType(target))) {
        throw new Error(' Cannot convert. Uknown object');
    }
    return isType(target) ? target.prototype.constructor.name : target.constructor.name;
}
/**
 *
 * Basic function to generate UUID taken from W3C from one of the examples
 *
 * @return {?}
 */
function uuid() {
    /** @type {?} */
    var dt = new Date().getTime();
    /** @type {?} */
    var proto = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        /** @type {?} */
        var r = (dt + Math.random() * 16) % 16 | 0;
        dt = Math.floor(dt / 16);
        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);
    });
    return proto;
}
/**
 * Check object equality derived from angular.equals 1.5 implementation
 *
 * @param {?} o1
 * @param {?} o2
 * @return {?}
 */
function equals(o1, o2) {
    if (o1 === o2) {
        return true;
    }
    if (o1 === null || o2 === null) {
        return false;
    }
    // eslint-disable-next-line no-self-compare
    if (o1 !== o1 && o2 !== o2) {
        return true; // NaN === NaN
    }
    /** @type {?} */
    var t1 = typeof o1;
    /** @type {?} */
    var t2 = typeof o2;
    /** @type {?} */
    var length;
    /** @type {?} */
    var key;
    /** @type {?} */
    var keySet;
    if (t1 === t2 && t1 === 'object') {
        if (isArray(o1)) {
            if (!isArray(o2)) {
                return false;
            }
            if ((length = o1.length) === o2.length) {
                for (key = 0; key < length; key++) {
                    if (!equals(o1[key], o2[key])) {
                        return false;
                    }
                }
                return true;
            }
        }
        else if (isDate(o1)) {
            if (!isDate(o2)) {
                return false;
            }
            return equals(o1.getTime(), o2.getTime());
        }
        else if (isRegExp(o1)) {
            if (!isRegExp(o2)) {
                return false;
            }
            return o1.toString() === o2.toString();
        }
        else {
            if (isWindow(o1) || isWindow(o2) ||
                isArray(o2) || isDate(o2) || isRegExp(o2)) {
                return false;
            }
            keySet = new Map();
            /** @type {?} */
            var keys = Object.keys(o2);
            for (key in keys) {
                if (keys[key].charAt(0) === '$' || isFunction(o1[keys[key]])) {
                    continue;
                }
                if (!equals(o1[keys[key]], o2[keys[key]])) {
                    return false;
                }
                keySet.set(keys[key], true);
            }
            keys = Object.keys(o2);
            try {
                for (var keys_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {
                    key = keys_1_1.value;
                    if (!(keySet.has(key)) && key.charAt(0) !== '$'
                        && isPresent(o2[key]) && !isFunction(o2[key])) {
                        return false;
                    }
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return)) _a.call(keys_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
            return true;
        }
    }
    return false;
    var e_1, _a;
}
/**
 * transform a string into decamel. form. Mostly used when reading class names or field names
 * such firstName and we want to create a label First Name
 *
 *
 * @param {?} string
 * @param {?=} separator
 * @param {?=} initialCaps
 * @return {?}
 */
function decamelize(string, separator, initialCaps) {
    if (separator === void 0) { separator = ' '; }
    if (initialCaps === void 0) { initialCaps = true; }
    if (isBlank(string)) {
        return '';
    }
    /** @type {?} */
    var lastUCIndex = -1;
    /** @type {?} */
    var allCaps = true;
    /** @type {?} */
    var splitOnUC = !StringWrapper.contains(string, '_');
    /** @type {?} */
    var buf = '';
    /** @type {?} */
    var inWord = 0;
    for (var i = string.length; inWord < i; ++inWord) {
        /** @type {?} */
        var c = string[inWord];
        if (c.toUpperCase() === c) {
            if ((inWord - 1) !== lastUCIndex && splitOnUC) {
                buf += separator;
            }
            lastUCIndex = inWord;
            if (!initialCaps) {
                c = c.toLowerCase();
            }
        }
        else if (c.toLowerCase() === c) {
            if (inWord === 0 && initialCaps) {
                c = c.toUpperCase();
            }
            allCaps = false;
        }
        else if (c !== '_') {
            c = separator;
        }
        buf += c;
    }
    if (allCaps) {
        for (var i = 0, c = buf.length; i < c; i++) {
            /** @type {?} */
            var ch = buf[i];
            if (ch.toLowerCase() !== ch.toUpperCase()) {
                if (inWord && ch === ch.toUpperCase()) {
                    buf = buf.substr(0, i) + ch.toLowerCase() + buf.substr(i + 1);
                }
            }
        }
    }
    return buf;
}
/**
 * @param {?} input
 * @return {?}
 */
function nonPrivatePrefix(input) {
    return input[0] === '_' ? StringWrapper.stripLeft(input, '_') : input;
}
/**
 *
 * This considers currently only 1 form which when we have getter we have this form for
 * declaration _<name> and get <name>(). I do not check any other forms now.
 *
 *
 * @param {?} instance
 * @param {?} field
 * @return {?}
 */
function hasGetter(instance, field) {
    if (isBlank(field)) {
        return false;
    }
    return (field[0] === '_' && isPresent(nonPrivatePrefix(field)));
}
/**
 * The Extensible interface can be implemented when a given class
 * wants to provide dynamically added fields.  Once this is implemented
 * to return a Map, the FieldValue system will be able to look in
 * the Map to see if the desired field exists.
 *
 *
 * @abstract
 */
var  /**
 * The Extensible interface can be implemented when a given class
 * wants to provide dynamically added fields.  Once this is implemented
 * to return a Map, the FieldValue system will be able to look in
 * the Map to see if the desired field exists.
 *
 *
 * @abstract
 */
Extensible = /** @class */ (function () {
    function Extensible() {
    }
    /**
     *  Returns the Map in which the dynamically added fields reside.
     *
     */
    /**
     *  Returns the Map in which the dynamically added fields reside.
     *
     * @return {?}
     */
    Extensible.prototype.extendedFields = /**
     *  Returns the Map in which the dynamically added fields reside.
     *
     * @return {?}
     */
    function () {
        return unimplemented();
    };
    return Extensible;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var _clearValues = (function () {
    if ((/** @type {?} */ ((new Map()).keys())).next) {
        return function _clearValuesInner(m) {
            /** @type {?} */
            var keyIterator = m.keys();
            /** @type {?} */
            var k;
            while (!((k = (/** @type {?} */ (keyIterator)).next()).done)) {
                m.set(k.value, null);
            }
        };
    }
    else {
        return function _clearValuesWithForeEach(m) {
            m.forEach(function (v, k) {
                m.set(k, null);
            });
        };
    }
})();
var MapWrapper = /** @class */ (function () {
    function MapWrapper() {
    }
    /**
     * @template K, V
     * @return {?}
     */
    MapWrapper.createEmpty = /**
     * @template K, V
     * @return {?}
     */
    function () {
        return new Map();
    };
    /**
     * @template K, V
     * @param {?} m
     * @return {?}
     */
    MapWrapper.clone = /**
     * @template K, V
     * @param {?} m
     * @return {?}
     */
    function (m) {
        try {
            if (new Map(/** @type {?} */ (new Map()))) {
                return new Map(/** @type {?} */ (m));
            }
        }
        catch (e) {
        }
        /** @type {?} */
        var map$$1 = new Map();
        m.forEach(function (v, k) {
            map$$1.set(k, v);
        });
        return map$$1;
    };
    /**
     * @template T
     * @param {?} stringMap
     * @return {?}
     */
    MapWrapper.createFromStringMap = /**
     * @template T
     * @param {?} stringMap
     * @return {?}
     */
    function (stringMap) {
        /** @type {?} */
        var result = new Map();
        for (var key in stringMap) {
            result.set(key, stringMap[key]);
        }
        return result;
    };
    /**
     * @template T
     * @param {?} stringMap
     * @return {?}
     */
    MapWrapper.createFromAnyMap = /**
     * @template T
     * @param {?} stringMap
     * @return {?}
     */
    function (stringMap) {
        /** @type {?} */
        var result = new Map();
        for (var key in stringMap) {
            result.set(key, stringMap[key]);
        }
        return result;
    };
    /**
     * @template T
     * @param {?} stringMap
     * @param {?} resolve
     * @return {?}
     */
    MapWrapper.createFromStringMapWithResolve = /**
     * @template T
     * @param {?} stringMap
     * @param {?} resolve
     * @return {?}
     */
    function (stringMap, resolve) {
        /** @type {?} */
        var result = new Map();
        for (var key in stringMap) {
            /** @type {?} */
            var updatedValue = resolve(key, stringMap[key]);
            result.set(key, updatedValue);
        }
        return result;
    };
    /**
     * @template T
     * @param {?} m
     * @return {?}
     */
    MapWrapper.toStringMap = /**
     * @template T
     * @param {?} m
     * @return {?}
     */
    function (m) {
        /** @type {?} */
        var r = {};
        m.forEach(function (v, k) { return r[k] = v; });
        return r;
    };
    /**
     * @template T
     * @param {?} m
     * @return {?}
     */
    MapWrapper.toAnyMap = /**
     * @template T
     * @param {?} m
     * @return {?}
     */
    function (m) {
        /** @type {?} */
        var r = {};
        if (isPresent(m)) {
            m.forEach(function (v, k) { return (/** @type {?} */ (r))[k] = v; });
        }
        return r;
    };
    /**
     * @param {?} m
     * @param {?=} inner
     * @return {?}
     */
    MapWrapper.toString = /**
     * @param {?} m
     * @param {?=} inner
     * @return {?}
     */
    function (m, inner) {
        if (inner === void 0) { inner = false; }
        /** @type {?} */
        var sj = new StringJoiner(['']);
        if (!inner) {
            sj.add('{');
        }
        m.forEach(function (v, k) {
            if (v instanceof Map) {
                sj.add(MapWrapper.toString(v, true));
            }
            else {
                sj.add(k);
                sj.add('=');
                sj.add(v);
            }
            sj.add(', ');
        });
        if (!inner) {
            sj.add('} ');
        }
        return sj.toString();
    };
    /**
     * @param {?} m
     * @return {?}
     */
    MapWrapper.clearValues = /**
     * @param {?} m
     * @return {?}
     */
    function (m) {
        _clearValues(m);
    };
    /**
     * @template T
     * @param {?} m
     * @return {?}
     */
    MapWrapper.iterable = /**
     * @template T
     * @param {?} m
     * @return {?}
     */
    function (m) {
        return m;
    };
    /**
     * @param {?} dest
     * @param {?} source
     * @param {?} overwriteMismatched
     * @return {?}
     */
    MapWrapper.mergeMapIntoMapWithObject = /**
     * @param {?} dest
     * @param {?} source
     * @param {?} overwriteMismatched
     * @return {?}
     */
    function (dest, source, overwriteMismatched) {
        /** @type {?} */
        var keys = Array.from(source.keys());
        try {
            for (var keys_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {
                var key = keys_1_1.value;
                /** @type {?} */
                var sourceValue = source.get(key);
                /** @type {?} */
                var destValue = dest.get(key);
                if (isBlank(destValue)) {
                    dest.set(key, ListWrapper.copyValue(sourceValue));
                    continue;
                }
                else if (destValue instanceof Map && sourceValue instanceof Map) {
                    dest.set(key, MapWrapper.mergeMapIntoMapWithObject(MapWrapper.clone(destValue), sourceValue, overwriteMismatched));
                }
                else if (destValue instanceof Map && isArray(sourceValue)) {
                    if (ListWrapper.allElementsAreStrings(sourceValue)) {
                        dest.set(key, MapWrapper.mergeMapIntoMapWithObject(MapWrapper.clone(destValue), MapWrapper.convertListToMap(sourceValue), overwriteMismatched));
                    }
                    else {
                        /** @type {?} */
                        var sourceVect = ListWrapper.clone(sourceValue);
                        ListWrapper.addElementIfAbsent(sourceVect, destValue);
                        dest.set(key, sourceVect);
                    }
                }
                else if (isArray(destValue) && sourceValue instanceof Map) {
                    if (ListWrapper.allElementsAreStrings(destValue)) {
                        dest.set(key, MapWrapper.mergeMapIntoMapWithObject(MapWrapper.convertListToMap(destValue), sourceValue, overwriteMismatched));
                    }
                    else {
                        // todo: can we really match this values with indexOf
                        ListWrapper.addElementIfAbsent(destValue, MapWrapper.clone(sourceValue));
                    }
                }
                else if (destValue instanceof Map && isString(sourceValue)) {
                    /** @type {?} */
                    var destValueMap = MapWrapper.clone(destValue);
                    if (isBlank(destValueMap.get(sourceValue))) {
                        destValue.set(sourceValue, MapWrapper.createEmpty());
                    }
                }
                else if (isString(destValue) && sourceValue instanceof Map) {
                    /** @type {?} */
                    var sourceHash = MapWrapper.clone(sourceValue);
                    if (isBlank(sourceHash.get(destValue))) {
                        sourceHash.set(destValue, MapWrapper.createEmpty());
                    }
                    dest.set(key, sourceHash);
                }
                else if (isArray(destValue) && isArray(sourceValue)) {
                    dest.set(key, sourceValue);
                }
                else if (isArray(destValue) && isString(sourceValue)) {
                    ListWrapper.addElementIfAbsent(destValue, sourceValue);
                }
                else if (isString(destValue) && isArray(sourceValue)) {
                    /** @type {?} */
                    var sourceVect = ListWrapper.clone(sourceValue);
                    ListWrapper.addElementIfAbsent(sourceVect, destValue);
                    dest.set(key, sourceVect);
                }
                else if (isString(destValue) && isString(sourceValue)) {
                    dest.set(key, sourceValue);
                }
                else if (overwriteMismatched) {
                    dest.set(key, sourceValue);
                }
                else {
                    /** @type {?} */
                    var destClass = className(destValue);
                    /** @type {?} */
                    var sourceClass = className(sourceValue);
                    if (destClass === sourceClass) {
                        dest.set(key, sourceValue);
                    }
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return)) _a.call(keys_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return dest;
        var e_1, _a;
    };
    /**
     * @param {?} keys
     * @return {?}
     */
    MapWrapper.convertListToMap = /**
     * @param {?} keys
     * @return {?}
     */
    function (keys) {
        /** @type {?} */
        var map$$1 = new Map();
        for (var i = 0; i < keys.length; i++) {
            map$$1.set(keys[i], MapWrapper.createEmpty());
        }
        return map$$1;
    };
    /**
     * @template K
     * @param {?} items
     * @param {?} groupByKey
     * @return {?}
     */
    MapWrapper.groupBy = /**
     * @template K
     * @param {?} items
     * @param {?} groupByKey
     * @return {?}
     */
    function (items, groupByKey) {
        /** @type {?} */
        var result = items.reduce(function (groupResult, currentValue) {
            /** @type {?} */
            var gKey = groupByKey(currentValue);
            (groupResult[gKey] = groupResult[gKey] || []).push(currentValue);
            return groupResult;
        }, {});
        /** @type {?} */
        var grouped = new Map();
        Object.keys(result).forEach(function (key) {
            grouped.set(key, result[key]);
        });
        return grouped;
    };
    return MapWrapper;
}());
/**
 * Wraps Javascript Objects
 */
var  /**
 * Wraps Javascript Objects
 */
StringMapWrapper = /** @class */ (function () {
    function StringMapWrapper() {
    }
    /**
     * @return {?}
     */
    StringMapWrapper.create = /**
     * @return {?}
     */
    function () {
        // Note: We are not using Object.create(null) here due to
        // performance!
        // http://jsperf.com/ng2-object-create-null
        return {};
    };
    /**
     * @param {?} map
     * @param {?} key
     * @return {?}
     */
    StringMapWrapper.contains = /**
     * @param {?} map
     * @param {?} key
     * @return {?}
     */
    function (map$$1, key) {
        return map$$1.hasOwnProperty(key);
    };
    /**
     * @template V
     * @param {?} map
     * @param {?} key
     * @return {?}
     */
    StringMapWrapper.get = /**
     * @template V
     * @param {?} map
     * @param {?} key
     * @return {?}
     */
    function (map$$1, key) {
        return map$$1.hasOwnProperty(key) ? map$$1[key] : undefined;
    };
    /**
     * @template V
     * @param {?} map
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    StringMapWrapper.set = /**
     * @template V
     * @param {?} map
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (map$$1, key, value) {
        map$$1[key] = value;
    };
    /**
     * @param {?} map
     * @return {?}
     */
    StringMapWrapper.isEmpty = /**
     * @param {?} map
     * @return {?}
     */
    function (map$$1) {
        for (var prop in map$$1) {
            return false;
        }
        return true;
    };
    /**
     * @param {?} map
     * @param {?} key
     * @return {?}
     */
    StringMapWrapper.delete = /**
     * @param {?} map
     * @param {?} key
     * @return {?}
     */
    function (map$$1, key) {
        delete map$$1[key];
    };
    /**
     * @template K, V
     * @param {?} map
     * @param {?} callback
     * @return {?}
     */
    StringMapWrapper.forEach = /**
     * @template K, V
     * @param {?} map
     * @param {?} callback
     * @return {?}
     */
    function (map$$1, callback) {
        try {
            for (var _a = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(Object.keys(map$$1)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var k = _b.value;
                callback(map$$1[k], k);
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        var e_2, _c;
    };
    /**
     * @template V
     * @param {?} m1
     * @param {?} m2
     * @return {?}
     */
    StringMapWrapper.merge = /**
     * @template V
     * @param {?} m1
     * @param {?} m2
     * @return {?}
     */
    function (m1, m2) {
        /** @type {?} */
        var m = {};
        try {
            for (var _a = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(Object.keys(m1)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var k = _b.value;
                m[k] = m1[k];
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        try {
            for (var _d = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(Object.keys(m2)), _e = _d.next(); !_e.done; _e = _d.next()) {
                var k = _e.value;
                m[k] = m2[k];
            }
        }
        catch (e_4_1) { e_4 = { error: e_4_1 }; }
        finally {
            try {
                if (_e && !_e.done && (_f = _d.return)) _f.call(_d);
            }
            finally { if (e_4) throw e_4.error; }
        }
        return m;
        var e_3, _c, e_4, _f;
    };
    /**
     * @template V
     * @param {?} m1
     * @param {?} m2
     * @return {?}
     */
    StringMapWrapper.equals = /**
     * @template V
     * @param {?} m1
     * @param {?} m2
     * @return {?}
     */
    function (m1, m2) {
        /** @type {?} */
        var k1 = Object.keys(m1);
        /** @type {?} */
        var k2 = Object.keys(m2);
        if (k1.length !== k2.length) {
            return false;
        }
        /** @type {?} */
        var key;
        for (var i = 0; i < k1.length; i++) {
            key = k1[i];
            if (m1[key] !== m2[key]) {
                return false;
            }
        }
        return true;
    };
    return StringMapWrapper;
}());
var ListWrapper = /** @class */ (function () {
    function ListWrapper() {
    }
    // JS has no way to express a statically fixed size list, but dart does so we
    // keep both methods.
    /**
     * @param {?} size
     * @return {?}
     */
    ListWrapper.createFixedSize = /**
     * @param {?} size
     * @return {?}
     */
    function (size) {
        return new Array(size);
    };
    /**
     * @param {?} size
     * @return {?}
     */
    ListWrapper.createGrowableSize = /**
     * @param {?} size
     * @return {?}
     */
    function (size) {
        return new Array(size);
    };
    /**
     * @template T
     * @param {?} array
     * @return {?}
     */
    ListWrapper.clone = /**
     * @template T
     * @param {?} array
     * @return {?}
     */
    function (array) {
        return array.slice(0);
    };
    /**
     * @template T
     * @param {?} array
     * @param {?} fn
     * @return {?}
     */
    ListWrapper.forEachWithIndex = /**
     * @template T
     * @param {?} array
     * @param {?} fn
     * @return {?}
     */
    function (array, fn) {
        for (var i = 0; i < array.length; i++) {
            fn(array[i], i);
        }
    };
    /**
     * @template T
     * @param {?} array
     * @return {?}
     */
    ListWrapper.first = /**
     * @template T
     * @param {?} array
     * @return {?}
     */
    function (array) {
        if (!array) {
            return null;
        }
    };
    /**
     * @template T
     * @param {?} array
     * @return {?}
     */
    ListWrapper.last = /**
     * @template T
     * @param {?} array
     * @return {?}
     */
    function (array) {
        if (!array || array.length === 0) {
            return null;
        }
        return array[array.length - 1];
    };
    /**
     * @template T
     * @param {?} array
     * @param {?} value
     * @param {?=} startIndex
     * @return {?}
     */
    ListWrapper.indexOf = /**
     * @template T
     * @param {?} array
     * @param {?} value
     * @param {?=} startIndex
     * @return {?}
     */
    function (array, value, startIndex) {
        if (startIndex === void 0) { startIndex = 0; }
        return array.indexOf(value, startIndex);
    };
    /**
     * @template T
     * @param {?} list
     * @param {?} el
     * @return {?}
     */
    ListWrapper.contains = /**
     * @template T
     * @param {?} list
     * @param {?} el
     * @return {?}
     */
    function (list, el) {
        return list.indexOf(el) !== -1;
    };
    /**
     * @template T
     * @param {?} list
     * @param {?} els
     * @return {?}
     */
    ListWrapper.containsAll = /**
     * @template T
     * @param {?} list
     * @param {?} els
     * @return {?}
     */
    function (list, els) {
        return els.map(function (needle) {
            return list.indexOf(needle);
        }).indexOf(-1) === -1;
    };
    /**
     * @param {?} list
     * @param {?} item
     * @return {?}
     */
    ListWrapper.containsComplex = /**
     * @param {?} list
     * @param {?} item
     * @return {?}
     */
    function (list, item) {
        return list.findIndex(function (el) {
            return equals(el, item);
        }) > -1;
    };
    /**
     * @param {?} list
     * @param {?} item
     * @return {?}
     */
    ListWrapper.findIndexComplex = /**
     * @param {?} list
     * @param {?} item
     * @return {?}
     */
    function (list, item) {
        /** @type {?} */
        var index = list.findIndex(function (el) {
            return equals(el, item);
        });
        return index;
    };
    /**
     * @param {?} list
     * @param {?} item
     * @return {?}
     */
    ListWrapper.removeIfExist = /**
     * @param {?} list
     * @param {?} item
     * @return {?}
     */
    function (list, item) {
        /** @type {?} */
        var index = list.findIndex(function (el) {
            return equals(el, item);
        });
        if (index !== -1) {
            ListWrapper.removeAt(list, index);
        }
    };
    /**
     * @template T
     * @param {?} array
     * @return {?}
     */
    ListWrapper.reversed = /**
     * @template T
     * @param {?} array
     * @return {?}
     */
    function (array) {
        /** @type {?} */
        var a = ListWrapper.clone(array);
        return a.reverse();
    };
    /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    ListWrapper.concat = /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    function (a, b) {
        return a.concat(b);
    };
    /**
     * @template T
     * @param {?} list
     * @param {?} index
     * @param {?} value
     * @return {?}
     */
    ListWrapper.insert = /**
     * @template T
     * @param {?} list
     * @param {?} index
     * @param {?} value
     * @return {?}
     */
    function (list, index, value) {
        list.splice(index, 0, value);
    };
    /**
     * @template T
     * @param {?} list
     * @param {?} index
     * @return {?}
     */
    ListWrapper.removeAt = /**
     * @template T
     * @param {?} list
     * @param {?} index
     * @return {?}
     */
    function (list, index) {
        /** @type {?} */
        var res = list[index];
        list.splice(index, 1);
        return res;
    };
    /**
     * @template T
     * @param {?} list
     * @param {?} items
     * @return {?}
     */
    ListWrapper.removeAll = /**
     * @template T
     * @param {?} list
     * @param {?} items
     * @return {?}
     */
    function (list, items) {
        for (var i = 0; i < items.length; ++i) {
            /** @type {?} */
            var index = list.indexOf(items[i]);
            list.splice(index, 1);
        }
    };
    /**
     * @template T
     * @param {?} list
     * @param {?} el
     * @return {?}
     */
    ListWrapper.remove = /**
     * @template T
     * @param {?} list
     * @param {?} el
     * @return {?}
     */
    function (list, el) {
        /** @type {?} */
        var index = list.indexOf(el);
        if (index > -1) {
            list.splice(index, 1);
            return true;
        }
        return false;
    };
    /**
     * @template T
     * @param {?} array
     * @return {?}
     */
    ListWrapper.removeLast = /**
     * @template T
     * @param {?} array
     * @return {?}
     */
    function (array) {
        if (!array || array.length === 0) {
            return null;
        }
        array.splice(array.length - 1);
    };
    /**
     * @param {?} list
     * @return {?}
     */
    ListWrapper.clear = /**
     * @param {?} list
     * @return {?}
     */
    function (list) {
        list.length = 0;
    };
    /**
     * @param {?} list
     * @return {?}
     */
    ListWrapper.isEmpty = /**
     * @param {?} list
     * @return {?}
     */
    function (list) {
        return list.length === 0;
    };
    /**
     * @param {?} list
     * @param {?} value
     * @param {?=} start
     * @param {?=} end
     * @return {?}
     */
    ListWrapper.fill = /**
     * @param {?} list
     * @param {?} value
     * @param {?=} start
     * @param {?=} end
     * @return {?}
     */
    function (list, value, start, end) {
        if (start === void 0) { start = 0; }
        if (end === void 0) { end = null; }
        list.fill(value, start, end === null ? list.length : end);
    };
    /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    ListWrapper.equals = /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    function (a, b) {
        if (a.length !== b.length) {
            return false;
        }
        for (var i = 0; i < a.length; ++i) {
            if (a[i] !== b[i]) {
                return false;
            }
        }
        return true;
    };
    /**
     * @template T
     * @param {?} l
     * @param {?=} from
     * @param {?=} to
     * @return {?}
     */
    ListWrapper.slice = /**
     * @template T
     * @param {?} l
     * @param {?=} from
     * @param {?=} to
     * @return {?}
     */
    function (l, from, to) {
        if (from === void 0) { from = 0; }
        if (to === void 0) { to = null; }
        return l.slice(from, to === null ? undefined : to);
    };
    /**
     * @template T
     * @param {?} l
     * @param {?} from
     * @param {?} length
     * @return {?}
     */
    ListWrapper.splice = /**
     * @template T
     * @param {?} l
     * @param {?} from
     * @param {?} length
     * @return {?}
     */
    function (l, from, length) {
        return l.splice(from, length);
    };
    /**
     * @template T
     * @param {?} l
     * @param {?=} compareFn
     * @return {?}
     */
    ListWrapper.sort = /**
     * @template T
     * @param {?} l
     * @param {?=} compareFn
     * @return {?}
     */
    function (l, compareFn) {
        if (isPresent(compareFn)) {
            l.sort(compareFn);
        }
        else {
            l.sort();
        }
    };
    /**
     * @param {?} toSort
     * @param {?} pattern
     * @return {?}
     */
    ListWrapper.sortByExample = /**
     * @param {?} toSort
     * @param {?} pattern
     * @return {?}
     */
    function (toSort, pattern) {
        toSort.sort(function (a, b) {
            /** @type {?} */
            var indexA = pattern.indexOf(a) === -1 ? 10 : pattern.indexOf(a);
            /** @type {?} */
            var indexB = pattern.indexOf(b) === -1 ? 10 : pattern.indexOf(b);
            return indexA - indexB;
        });
    };
    /**
     * @template T
     * @param {?} l
     * @return {?}
     */
    ListWrapper.toString = /**
     * @template T
     * @param {?} l
     * @return {?}
     */
    function (l) {
        /** @type {?} */
        var out = '';
        try {
            for (var l_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(l), l_1_1 = l_1.next(); !l_1_1.done; l_1_1 = l_1.next()) {
                var item = l_1_1.value;
                out += item.toString() + ',  ';
            }
        }
        catch (e_5_1) { e_5 = { error: e_5_1 }; }
        finally {
            try {
                if (l_1_1 && !l_1_1.done && (_a = l_1.return)) _a.call(l_1);
            }
            finally { if (e_5) throw e_5.error; }
        }
        return out;
        var e_5, _a;
    };
    /**
     * @template T
     * @param {?} l
     * @return {?}
     */
    ListWrapper.toJSON = /**
     * @template T
     * @param {?} l
     * @return {?}
     */
    function (l) {
        return JSON.stringify(l);
    };
    /**
     * @template T
     * @param {?} list
     * @param {?} predicate
     * @return {?}
     */
    ListWrapper.maximum = /**
     * @template T
     * @param {?} list
     * @param {?} predicate
     * @return {?}
     */
    function (list, predicate) {
        if (list.length === 0) {
            return null;
        }
        /** @type {?} */
        var solution = null;
        /** @type {?} */
        var maxValue = -Infinity;
        for (var index = 0; index < list.length; index++) {
            /** @type {?} */
            var candidate = list[index];
            if (isBlank(candidate)) {
                continue;
            }
            /** @type {?} */
            var candidateValue = predicate(candidate);
            if (candidateValue > maxValue) {
                solution = candidate;
                maxValue = candidateValue;
            }
        }
        return solution;
    };
    /**
     * @template T
     * @param {?} list
     * @return {?}
     */
    ListWrapper.flatten = /**
     * @template T
     * @param {?} list
     * @return {?}
     */
    function (list) {
        /** @type {?} */
        var target = [];
        _flattenArray(list, target);
        return target;
    };
    /**
     * @template T
     * @param {?} list
     * @return {?}
     */
    ListWrapper.allElementsAreStrings = /**
     * @template T
     * @param {?} list
     * @return {?}
     */
    function (list) {
        /** @type {?} */
        var target = ListWrapper.flatten(list);
        try {
            for (var target_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(target), target_1_1 = target_1.next(); !target_1_1.done; target_1_1 = target_1.next()) {
                var element = target_1_1.value;
                if (!isString(element)) {
                    return false;
                }
            }
        }
        catch (e_6_1) { e_6 = { error: e_6_1 }; }
        finally {
            try {
                if (target_1_1 && !target_1_1.done && (_a = target_1.return)) _a.call(target_1);
            }
            finally { if (e_6) throw e_6.error; }
        }
        return true;
        var e_6, _a;
    };
    /**
     * @template T
     * @param {?} list
     * @param {?} source
     * @return {?}
     */
    ListWrapper.addAll = /**
     * @template T
     * @param {?} list
     * @param {?} source
     * @return {?}
     */
    function (list, source) {
        for (var i = 0; i < source.length; i++) {
            list.push(source[i]);
        }
    };
    // todo: check if this handles objects with contains
    /**
     * @template T
     * @param {?} list
     * @param {?} element
     * @return {?}
     */
    ListWrapper.addElementIfAbsent = /**
     * @template T
     * @param {?} list
     * @param {?} element
     * @return {?}
     */
    function (list, element) {
        /** @type {?} */
        var contains = typescript_collections__WEBPACK_IMPORTED_MODULE_2__["arrays"].contains(list, element, function (item1, item2) {
            if (item1['equalsTo']) {
                return item1['equalsTo'](item2);
            }
            return item1 === item2;
        });
        if (!contains) {
            list.push(element);
        }
    };
    /**
     * @template T
     * @param {?} list
     * @param {?} elements
     * @return {?}
     */
    ListWrapper.addElementsIfAbsent = /**
     * @template T
     * @param {?} list
     * @param {?} elements
     * @return {?}
     */
    function (list, elements) {
        if (isBlank(elements)) {
            return;
        }
        try {
            for (var elements_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(elements), elements_1_1 = elements_1.next(); !elements_1_1.done; elements_1_1 = elements_1.next()) {
                var elem = elements_1_1.value;
                /** @type {?} */
                var contains = typescript_collections__WEBPACK_IMPORTED_MODULE_2__["arrays"].contains(list, elem, function (item1, item2) {
                    if (item1['equalsTo'] && item2['equalsTo']) {
                        return item1['equalsTo'](item2);
                    }
                    return item1 === item2;
                });
                if (!contains) {
                    list.push(elem);
                }
            }
        }
        catch (e_7_1) { e_7 = { error: e_7_1 }; }
        finally {
            try {
                if (elements_1_1 && !elements_1_1.done && (_a = elements_1.return)) _a.call(elements_1);
            }
            finally { if (e_7) throw e_7.error; }
        }
        var e_7, _a;
    };
    /**
     * @template T
     * @param {?} value
     * @return {?}
     */
    ListWrapper.copyValue = /**
     * @template T
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value instanceof Map) {
            return MapWrapper.clone(value);
        }
        else if (isArray(value)) {
            return ListWrapper.clone(value);
        }
        return value;
    };
    return ListWrapper;
}());
/**
 * @param {?} source
 * @param {?} target
 * @return {?}
 */
function _flattenArray(source, target) {
    if (isPresent(source)) {
        for (var i = 0; i < source.length; i++) {
            /** @type {?} */
            var item = source[i];
            if (isArray(item)) {
                _flattenArray(item, target);
            }
            else {
                target.push(item);
            }
        }
    }
    return target;
}
/**
 * @param {?} obj
 * @return {?}
 */
function isListLikeIterable$1(obj) {
    if (!isJsObject(obj)) {
        return false;
    }
    return isArray(obj) ||
        (!(obj instanceof Map) && // JS Map are iterables but return entries as [k, v]
            // JS Map are iterables but return entries as [k, v]
            getSymbolIterator() in obj); // JS Iterable have a Symbol.iterator prop
}
/**
 * @param {?} a
 * @param {?} b
 * @param {?} comparator
 * @return {?}
 */
function areIterablesEqual(a, b, comparator) {
    /** @type {?} */
    var iterator1 = a[getSymbolIterator()]();
    /** @type {?} */
    var iterator2 = b[getSymbolIterator()]();
    while (true) {
        /** @type {?} */
        var item1 = iterator1.next();
        /** @type {?} */
        var item2 = iterator2.next();
        if (item1.done && item2.done) {
            return true;
        }
        if (item1.done || item2.done) {
            return false;
        }
        if (!comparator(item1.value, item2.value)) {
            return false;
        }
    }
}
/**
 * @param {?} obj
 * @param {?} fn
 * @return {?}
 */
function iterateListLike(obj, fn) {
    if (isArray(obj)) {
        for (var i = 0; i < obj.length; i++) {
            fn(obj[i]);
        }
    }
    else {
        /** @type {?} */
        var iterator = obj[getSymbolIterator()]();
        /** @type {?} */
        var item = void 0;
        while (!((item = iterator.next()).done)) {
            fn(item.value);
        }
    }
}
/**
 * @template T
 * @param {?} arr
 * @param {?} condition
 * @return {?}
 */
function findLast(arr, condition) {
    for (var i = arr.length - 1; i >= 0; i--) {
        if (condition(arr[i])) {
            return arr[i];
        }
    }
    return null;
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 * Since on enterprise level we need to support all available locales as user might change
 * to different lang anytime we need to import all expected locales that we want to support.
 *
 * Note:  Remember when you want to support more locales you need to import them and register
 * them using registerLocaleData
  @type {?} */
var AppConfigToken = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["InjectionToken"]('App.Config');
/** @type {?} */
var SuportedLanguages = ['en', 'fr'];
/**
 * Simple Configuration implementation  which let us configure application during a bootstrap
 * phase. You can pass values in 3 different ways
 *
 * 1) Using import - at the time you import your module
 * 2) injected as service and you can set values
 * 3) From Script tag or globally defined VAR during a deployment
 *
 *
 * There is also from URL option that is for now temporary disabled.
 *
 */
var AppConfig = /** @class */ (function () {
    function AppConfig(injector, environment) {
        this.injector = injector;
        this.environment = environment;
        // we expect there will be always window available.
        this.values = new Map();
        // this.queryValues = new Map<string,  any>();
    }
    /**
     *
     * Called by factory method to initialize this config class
     *
     */
    /**
     *
     * Called by factory method to initialize this config class
     *
     * @param {?} config
     * @return {?}
     */
    AppConfig.prototype.init = /**
     *
     * Called by factory method to initialize this config class
     *
     * @param {?} config
     * @return {?}
     */
    function (config) {
        var _this = this;
        this.initDefaults();
        if (isPresent(config)) {
            /** @type {?} */
            var values = MapWrapper.createFromStringMap(config);
            values.forEach(function (v, k) { return _this.set(k, v); });
        }
        this.environment.setValue(AppConfig.AssetFolder, this.get(AppConfig.AssetFolder));
        /** @type {?} */
        var location = window.location.pathname + window.location.search;
        if (this.environment.inTest) {
            location = this.get(AppConfig.InTestUrl);
        }
        // if (isPresent(location)) {
        //     this.parseQueryParms(location);
        // }
    };
    /**
     * This will read globally inserted scripts to initialize application from the server side.
     * The script can directly declare the variables :
     *
     * ```js
     *   <script>
     *      var AppConfigGlobal = {
     *               'app.pro1': 'value1',
     *               'app.pro2': 'value2',
     *               'lang': 'ch'
     *      };
     *  </script>
     * ```
     *
     *   or it can be included on the index.html page during build time.
     *
     *   We expect that will find the `AppConfigGlobal`
     *
     *
     */
    /**
     * This will read globally inserted scripts to initialize application from the server side.
     * The script can directly declare the variables :
     *
     * ```js
     *   <script>
     *      var AppConfigGlobal = {
     *               'app.pro1': 'value1',
     *               'app.pro2': 'value2',
     *               'lang': 'ch'
     *      };
     *  </script>
     * ```
     *
     *   or it can be included on the index.html page during build time.
     *
     *   We expect that will find the `AppConfigGlobal`
     *
     *
     * @return {?}
     */
    AppConfig.prototype.parseGlobalParams = /**
     * This will read globally inserted scripts to initialize application from the server side.
     * The script can directly declare the variables :
     *
     * ```js
     *   <script>
     *      var AppConfigGlobal = {
     *               'app.pro1': 'value1',
     *               'app.pro2': 'value2',
     *               'lang': 'ch'
     *      };
     *  </script>
     * ```
     *
     *   or it can be included on the index.html page during build time.
     *
     *   We expect that will find the `AppConfigGlobal`
     *
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var globalConfig = readGlobalParam(AppConfig.AppConfigGlobalVar);
        if (isPresent(globalConfig)) {
            for (var key in globalConfig) {
                this.values.set(key.toLowerCase(), globalConfig[key]);
            }
        }
    };
    /**
     * Sets values to configuration. to make sure we will not run into case-sensitive problems we
     * are converting all keys into lowercase
     *
     */
    /**
     * Sets values to configuration. to make sure we will not run into case-sensitive problems we
     * are converting all keys into lowercase
     *
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    AppConfig.prototype.set = /**
     * Sets values to configuration. to make sure we will not run into case-sensitive problems we
     * are converting all keys into lowercase
     *
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (key, value) {
        this.values.set(key.toLowerCase(), value);
        if (key.toLowerCase() === AppConfig.InTest) {
            this.environment.inTest = value;
        }
    };
    /**
     * Sets values to configuration
     * todo: dont do all this with this hacky way. just if you need to check case sensitivity, then
     * simply map keys from this.values into lowercase and then check if it has a key
     */
    /**
     * Sets values to configuration
     * todo: dont do all this with this hacky way. just if you need to check case sensitivity, then
     * simply map keys from this.values into lowercase and then check if it has a key
     * @param {?} key
     * @return {?}
     */
    AppConfig.prototype.get = /**
     * Sets values to configuration
     * todo: dont do all this with this hacky way. just if you need to check case sensitivity, then
     * simply map keys from this.values into lowercase and then check if it has a key
     * @param {?} key
     * @return {?}
     */
    function (key) {
        if (this.values.has(key.toLowerCase())) {
            return this.values.get(key.toLowerCase());
        }
        return null;
    };
    /**
     * @param {?} key
     * @return {?}
     */
    AppConfig.prototype.getNumber = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        /** @type {?} */
        var val = this.get(key);
        return NumberWrapper.parseIntAutoRadix(val);
    };
    /**
     * @param {?} key
     * @return {?}
     */
    AppConfig.prototype.getBoolean = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        /** @type {?} */
        var val = this.get(key);
        return BooleanWrapper.boleanValue(val);
    };
    /**
     * @return {?}
     */
    AppConfig.prototype.initDefaults = /**
     * @return {?}
     */
    function () {
        this.set(AppConfig.IsDevMode, Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["isDevMode"])());
        this.set(AppConfig.UserAgent, window.navigator.userAgent);
        this.set(AppConfig.Direction, document.documentElement.dir);
        this.set(AppConfig.NavPlatform, window.navigator.platform);
        this.set(AppConfig.ContentType, 'application/json; charset=utf-8');
        this.set(AppConfig.ConnectionRetryInterval, 500);
        this.set(AppConfig.ConnectionUseMockServer, false);
        this.set(AppConfig.ConnectionMockServerPath, '/mock-routing');
        this.set(AppConfig.i18nEnabled, true);
        this.set(AppConfig.InTest, false);
        this.set(AppConfig.DomainUniqueName, 'uniqueName');
        this.set(AppConfig.DomainQuery, 'q');
        if (this.environment.inTest) {
            this.set(AppConfig.ConnectionAbortTimeout, 500);
        }
        else {
            this.set(AppConfig.ConnectionAbortTimeout, 8000);
        }
        this.set(AppConfig.AssetFolder, 'assets');
        if (!this.values.has(AppConfig.Lang)) {
            this.set(AppConfig.Lang, window.navigator.language);
        }
        if (!this.values.has(AppConfig.SupportedLangs)) {
            this.set(AppConfig.SupportedLangs, SuportedLanguages);
        }
    };
    /**
     * @param {?} entity
     * @param {?=} isNested
     * @return {?}
     */
    AppConfig.prototype.getRestApiContextUrl = /**
     * @param {?} entity
     * @param {?=} isNested
     * @return {?}
     */
    function (entity, isNested) {
        if (isNested === void 0) { isNested = false; }
        /** @type {?} */
        var nestedFlag = isNested ? '$' : '';
        /** @type {?} */
        var withEntity = AppConfig.RestApiContextUrl + "." + nestedFlag + entity;
        /** @type {?} */
        var url = this.get(withEntity) || this.get(AppConfig.RestApiContextUrl);
        if (isPresent(url)) {
            if (/\/$/g.test(url)) {
                url = url.substring(0, url.length - 1);
            }
            return url;
        }
        throw new Error('Rest APIUri is not configured');
    };
    /**
     * @return {?}
     */
    AppConfig.prototype.getRestApiContext = /**
     * @return {?}
     */
    function () {
        return this.get(AppConfig.RestApiContextUrl) || '';
    };
    /**
     * @return {?}
     */
    AppConfig.prototype.getRestApiHost = /**
     * @return {?}
     */
    function () {
        return this.get(AppConfig.RestApiHostUrl) || '';
    };
    /**
     * @return {?}
     */
    AppConfig.prototype.isProductionMode = /**
     * @return {?}
     */
    function () {
        return !this.getBoolean(AppConfig.IsDevMode);
    };
    /**
     * @return {?}
     */
    AppConfig.prototype.getBaseUrl = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var isMocked = this.getBoolean(AppConfig.ConnectionUseMockServer);
        /** @type {?} */
        var cnx = this.getRestApiContext();
        /** @type {?} */
        var host = this.getRestApiHost() || '';
        if (isMocked) {
            /** @type {?} */
            var prefix = this.get(AppConfig.AssetFolder);
            return "" + prefix + (cnx || '/');
        }
        /** @type {?} */
        var url = "" + host + (cnx || '/');
        return url;
    };
    /**
     * Used by factory method insider APP_INITIALIZER to pre-load i18n support
     *
     */
    /**
     * Used by factory method insider APP_INITIALIZER to pre-load i18n support
     *
     * @return {?}
     */
    AppConfig.prototype.initializeI18n = /**
     * Used by factory method insider APP_INITIALIZER to pre-load i18n support
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var promise = new Promise(function (resolve) {
            resolve(true);
        });
        return promise;
    };
    /**
     * This is not regular env. param we use this to query global var that can be attached to
     * window to read env. settings that can be injected by server
     *
     */
    AppConfig.AppConfigGlobalVar = 'AppConfigGlobal';
    AppConfig.IsDevMode = 'devmode.enabled';
    AppConfig.UserAgent = 'useragent';
    AppConfig.Lang = 'lang';
    AppConfig.SupportedLangs = 'supportedlang';
    AppConfig.Direction = 'dir';
    AppConfig.NavPlatform = 'platform';
    AppConfig.i18nEnabled = 'i18n.enabled';
    AppConfig.AppTitle = 'app.title';
    AppConfig.RestApiContextUrl = 'restapi.context';
    AppConfig.RestApiHostUrl = 'restapi.host';
    AppConfig.ContentType = 'content-type';
    AppConfig.ConnectionRetryInterval = 'connection.retry';
    AppConfig.ConnectionAbortTimeout = 'connection.abort-timeout';
    AppConfig.ConnectionUseMockServer = 'connection.mock-server.enabled';
    AppConfig.ConnectionMockServerPath = 'connection.mock-server.path';
    AppConfig.ConnectionMockServerRoutes = 'connection.mock-server.routes';
    AppConfig.DomainUniqueName = 'domain.uniquename';
    AppConfig.DomainQuery = 'domain.uniquename';
    AppConfig.AssetFolder = 'asset-folder';
    AppConfig.InTest = 'env.test';
    /**
     * Since we unable to change and simulate URL during ng test but still we need to be able to
     * test this URL parsing logic then just for a Test purposes this `env.test.url` property
     * will be used to pass url during a test.
     */
    AppConfig.InTestUrl = 'env.test.url';
    return AppConfig;
}());
/**
 * Factory method used by CoreModule in order to instantiate AppConfig provider
 *
 * @param {?} config
 * @param {?} injector
 * @param {?} env
 * @return {?}
 */
function makeConfig(config, injector, env) {
    /** @type {?} */
    var conf = new AppConfig(injector, env);
    conf.init(config);
    return conf;
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Environment is sharable state between components and its injected at the root level and
 * the same instance accessible down the component tree.
 *
 */
var Environment = /** @class */ (function () {
    function Environment() {
        /**
         * Helper properties for debugging and testing purposes
         *
         */
        this.isPseudoLocalized = false;
        this.inTest = false;
        /**
         * An EventEmitter to listen to locale change events
         */
        this.onLocaleChange = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
        this.isProduction = false;
        this._locale = 'en';
        this.envVariables = new Map();
        this.stacksVariables = new Map();
    }
    /**
     * @param {?} key
     * @return {?}
     */
    Environment.prototype.getValue = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        if (this.envVariables.has(key)) {
            return this.envVariables.get(key);
        }
        return null;
    };
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    Environment.prototype.setValue = /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (key, value) {
        this.envVariables.set(key, value);
    };
    /**
     * @param {?} key
     * @return {?}
     */
    Environment.prototype.deleteValue = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        if (this.hasValue(key)) {
            this.envVariables.delete(key);
        }
    };
    /**
     * @param {?} key
     * @return {?}
     */
    Environment.prototype.hasValue = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return this.envVariables.has(key);
    };
    /**
     * @return {?}
     */
    Environment.prototype.allVariables = /**
     * @return {?}
     */
    function () {
        return this.envVariables;
    };
    Object.defineProperty(Environment.prototype, "locale", {
        get: /**
         * @return {?}
         */
        function () {
            return this._locale;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._locale = value;
            // Emit locale changed event
            this.onLocaleChange.emit(value);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @template T
     * @param {?} key
     * @return {?}
     */
    Environment.prototype.peak = /**
     * @template T
     * @param {?} key
     * @return {?}
     */
    function (key) {
        /** @type {?} */
        var stack = this.stacksVariables.get(key) || [];
        return ListWrapper.last(stack);
    };
    /**
     * @template T
     * @param {?} key
     * @return {?}
     */
    Environment.prototype.pop = /**
     * @template T
     * @param {?} key
     * @return {?}
     */
    function (key) {
        /** @type {?} */
        var stack = this.stacksVariables.get(key) || [];
        assert(stack.length > 0, ' Attempt to get value from empty stack');
        return ListWrapper.removeAt(stack, stack.length - 1);
    };
    /**
     * @template T
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    Environment.prototype.push = /**
     * @template T
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (key, value) {
        /** @type {?} */
        var stack = this.stacksVariables.get(key) || [];
        stack.push(value);
        this.stacksVariables.set(key, stack);
    };
    Environment.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"] }
    ];
    /** @nocollapse */
    Environment.ctorParameters = function () { return []; };
    return Environment;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @param {?} entity
 * @return {?}
 */
function isEntity(entity) {
    return isPresent(entity) && isPresent((/** @type {?} */ (entity)).identity);
}
/**
 * @param {?} val
 * @return {?}
 */
function isValue(val) {
    return isPresent(val) && isPresent((/** @type {?} */ (val)).clone);
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @enum {number} */
var RestSegmentType = {
    Host: 0,
    Context: 1,
    Action: 2,
    Resource: 3,
    Identifier: 4,
    OfParent: 5,
};
RestSegmentType[RestSegmentType.Host] = 'Host';
RestSegmentType[RestSegmentType.Context] = 'Context';
RestSegmentType[RestSegmentType.Action] = 'Action';
RestSegmentType[RestSegmentType.Resource] = 'Resource';
RestSegmentType[RestSegmentType.Identifier] = 'Identifier';
RestSegmentType[RestSegmentType.OfParent] = 'OfParent';
/** @enum {number} */
var RestAction = {
    Load: 0,
    Query: 1,
    Save: 2,
    Do: 3,
};
RestAction[RestAction.Load] = 'Load';
RestAction[RestAction.Query] = 'Query';
RestAction[RestAction.Save] = 'Save';
RestAction[RestAction.Do] = 'Do';
/**
 * Set of AST like classes to keep the fluent API grammar in the abstract format to give developers
 * changes to provide their own implementation
 *
 * Todo: Expose Builder as a service
 *
 * @abstract
 */
var  /**
 * Set of AST like classes to keep the fluent API grammar in the abstract format to give developers
 * changes to provide their own implementation
 *
 * Todo: Expose Builder as a service
 *
 * @abstract
 */
UrlSegment = /** @class */ (function () {
    function UrlSegment(type, value, params, rank) {
        if (rank === void 0) { rank = -1; }
        this.type = type;
        this.value = value;
        this.params = params;
        this.rank = rank;
    }
    /**
     * @param {?} prevSegment
     * @return {?}
     */
    UrlSegment.prototype.assertSegment = /**
     * @param {?} prevSegment
     * @return {?}
     */
    function (prevSegment) {
    };
    /**
     * @return {?}
     */
    UrlSegment.prototype.assertMsg = /**
     * @return {?}
     */
    function () {
        return 'Wrong Rest Segment order';
    };
    return UrlSegment;
}());
var HostSegment = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(HostSegment, _super);
    function HostSegment(value, params) {
        var _this = _super.call(this, RestSegmentType.Host, value, params, 5) || this;
        _this.value = value;
        _this.params = params;
        return _this;
    }
    /**
     * @param {?} prevSegment
     * @return {?}
     */
    HostSegment.prototype.assertSegment = /**
     * @param {?} prevSegment
     * @return {?}
     */
    function (prevSegment) {
        assert(prevSegment == null, this.assertMsg());
    };
    /**
     * @return {?}
     */
    HostSegment.prototype.assertMsg = /**
     * @return {?}
     */
    function () {
        return _super.prototype.assertMsg.call(this) + ". . Host segment must be first!";
    };
    return HostSegment;
}(UrlSegment));
var ContextSegment = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(ContextSegment, _super);
    function ContextSegment(value, params) {
        var _this = _super.call(this, RestSegmentType.Context, value, params, 10) || this;
        _this.value = value;
        _this.params = params;
        return _this;
    }
    /**
     * @param {?} prevSegment
     * @return {?}
     */
    ContextSegment.prototype.assertSegment = /**
     * @param {?} prevSegment
     * @return {?}
     */
    function (prevSegment) {
        assert(prevSegment === RestSegmentType.Host, this.assertMsg());
    };
    /**
     * @return {?}
     */
    ContextSegment.prototype.assertMsg = /**
     * @return {?}
     */
    function () {
        return _super.prototype.assertMsg.call(this) + ". . Context segment must follow Host!";
    };
    return ContextSegment;
}(UrlSegment));
var ActionSegment = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(ActionSegment, _super);
    function ActionSegment(action, data, params) {
        var _this = _super.call(this, RestSegmentType.Action, action, params, 0) || this;
        _this.action = action;
        _this.data = data;
        _this.params = params;
        // save it to local property for easier comparision
        // save it to local property for easier comparision
        _this.actionType = action;
        return _this;
    }
    /**
     * @param {?} prevSegment
     * @return {?}
     */
    ActionSegment.prototype.assertSegment = /**
     * @param {?} prevSegment
     * @return {?}
     */
    function (prevSegment) {
        assert(prevSegment === RestSegmentType.Context, this.assertMsg());
    };
    /**
     * @return {?}
     */
    ActionSegment.prototype.assertMsg = /**
     * @return {?}
     */
    function () {
        return _super.prototype.assertMsg.call(this) + ". . Action must follow Context segment!";
    };
    return ActionSegment;
}(UrlSegment));
var ResourceSegment = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(ResourceSegment, _super);
    function ResourceSegment(value, params) {
        var _this = _super.call(this, RestSegmentType.Resource, value, params, 15) || this;
        _this.value = value;
        _this.params = params;
        _this.resourceName = objectToName(_this.value).toLowerCase() + "s";
        return _this;
    }
    /**
     * @param {?} prevSegment
     * @return {?}
     */
    ResourceSegment.prototype.assertSegment = /**
     * @param {?} prevSegment
     * @return {?}
     */
    function (prevSegment) {
        assert((prevSegment === RestSegmentType.Action || prevSegment === RestSegmentType.OfParent), this.assertMsg());
    };
    /**
     * @return {?}
     */
    ResourceSegment.prototype.assertMsg = /**
     * @return {?}
     */
    function () {
        return _super.prototype.assertMsg.call(this) + ". . Resource must follow either Action or Of!";
    };
    return ResourceSegment;
}(UrlSegment));
var IdentifierSegment = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(IdentifierSegment, _super);
    function IdentifierSegment(value, params) {
        var _this = _super.call(this, RestSegmentType.Identifier, value, params, 20) || this;
        _this.value = value;
        _this.params = params;
        return _this;
    }
    /**
     * @param {?} prevSegment
     * @return {?}
     */
    IdentifierSegment.prototype.assertSegment = /**
     * @param {?} prevSegment
     * @return {?}
     */
    function (prevSegment) {
        assert(prevSegment === RestSegmentType.Resource, this.assertMsg());
    };
    /**
     * @return {?}
     */
    IdentifierSegment.prototype.assertMsg = /**
     * @return {?}
     */
    function () {
        return _super.prototype.assertMsg.call(this) + ". . Identifier must follow Resource!";
    };
    return IdentifierSegment;
}(UrlSegment));
var OfParentSegment = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(OfParentSegment, _super);
    function OfParentSegment() {
        var _this = _super.call(this, RestSegmentType.OfParent) || this;
        _this.rank = 2;
        return _this;
    }
    /**
     * @param {?} prevSegment
     * @return {?}
     */
    OfParentSegment.prototype.assertSegment = /**
     * @param {?} prevSegment
     * @return {?}
     */
    function (prevSegment) {
        assert(prevSegment === RestSegmentType.Resource ||
            prevSegment === RestSegmentType.Identifier, this.assertMsg());
    };
    /**
     * @return {?}
     */
    OfParentSegment.prototype.assertMsg = /**
     * @return {?}
     */
    function () {
        return _super.prototype.assertMsg.call(this) + ". . Of must follow Resource!";
    };
    return OfParentSegment;
}(UrlSegment));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Default implementation that reads abstract URL structure and assembles correct URL.
 */
var  /**
 * Default implementation that reads abstract URL structure and assembles correct URL.
 */
DefaultRestBuilder = /** @class */ (function () {
    function DefaultRestBuilder(urlGroup) {
        this.urlGroup = urlGroup;
        this.sorted = false;
    }
    /**
     * @param {?} isMocked
     * @return {?}
     */
    DefaultRestBuilder.prototype.assembleUrl = /**
     * @param {?} isMocked
     * @return {?}
     */
    function (isMocked) {
        this.validate();
        /** @type {?} */
        var sortedSegments = this.adjustRank(this.urlGroup.segments);
        /** @type {?} */
        var url = new StringJoiner();
        for (var i = 1; i < sortedSegments.length; i++) {
            switch (sortedSegments[i].type) {
                case RestSegmentType.Action:
                case RestSegmentType.OfParent:
                    break;
                case RestSegmentType.Resource:
                    /** @type {?} */
                    var resSegment = /** @type {?} */ (sortedSegments[i]);
                    if (isMocked) {
                        url.add('mocked').add('/');
                    }
                    url.add(resSegment.resourceName);
                    this.addSlash(url, i !== (sortedSegments.length - 1));
                    break;
                default:
                    url.add(sortedSegments[i].value);
                    this.addSlash(url, isPresent(sortedSegments[i].value) &&
                        sortedSegments[i].value.toString().length > 0 &&
                        i !== (sortedSegments.length - 1));
            }
        }
        if ((/** @type {?} */ (sortedSegments[0])).value === RestAction.Do) {
            url.add('/').add('actions').add('/').add((/** @type {?} */ (sortedSegments[0])).data);
        }
        return url.toString();
    };
    /**
     * @param {?} url
     * @param {?} shouldAdd
     * @return {?}
     */
    DefaultRestBuilder.prototype.addSlash = /**
     * @param {?} url
     * @param {?} shouldAdd
     * @return {?}
     */
    function (url, shouldAdd) {
        if (shouldAdd) {
            url.add('/');
        }
    };
    /**
     * @return {?}
     */
    DefaultRestBuilder.prototype.validate = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var action = /** @type {?} */ (this.urlGroup.lookup(RestSegmentType.Action));
        switch (action.actionType) {
            case RestAction.Save:
            case RestAction.Do:
                /** @type {?} */
                var withIdCount = this.urlGroup.count(RestSegmentType.Identifier);
                /** @type {?} */
                var of$$1 = this.urlGroup.lookup(RestSegmentType.OfParent);
                assert(withIdCount >= 1, 'Missing withId(<IDENTIFIER>) call!');
                break;
        }
    };
    /**
     *
     * Check to see if we have OF segment where we refer to parent resource. In such case we
     * need move all before OF at the end. Either after parent RESOURCE or IDENTIFIER
     *
     *
     * ```
     *   service
     *      .load()
     *      .resource(LineItem)
     *      .of
     *      .resource(Requisition)
     *      .withId('123');
     *  ```
     *
     *
     *
     * Find the OF segment and go back until we reach Resource and adjust rank of these adn
     * then
     * sort
     *
     *
     *
     *
     *
     *
     *
     * @param {?} segments
     * @return {?}
     */
    DefaultRestBuilder.prototype.adjustRank = /**
     *
     * Check to see if we have OF segment where we refer to parent resource. In such case we
     * need move all before OF at the end. Either after parent RESOURCE or IDENTIFIER
     *
     *
     * ```
     *   service
     *      .load()
     *      .resource(LineItem)
     *      .of
     *      .resource(Requisition)
     *      .withId('123');
     *  ```
     *
     *
     *
     * Find the OF segment and go back until we reach Resource and adjust rank of these adn
     * then
     * sort
     *
     *
     *
     *
     *
     *
     *
     * @param {?} segments
     * @return {?}
     */
    function (segments) {
        /** @type {?} */
        var ofIndex = segments
            .findIndex(function (s) { return s.type === RestSegmentType.OfParent; });
        if (ofIndex !== -1) {
            /** @type {?} */
            var of$$1 = segments[ofIndex];
            /** @type {?} */
            var segment = void 0;
            do {
                segment = segments[--ofIndex];
                segment.rank *= of$$1.rank;
            } while (segment.type !== RestSegmentType.Resource);
        }
        return segments.sort(function (a, b) { return a.rank - b.rank; });
    };
    return DefaultRestBuilder;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * This class just aggregates and provides convient apit to to work with UrlSegments
 *
 */
var  /**
 *
 * This class just aggregates and provides convient apit to to work with UrlSegments
 *
 */
RestUrlGroup = /** @class */ (function () {
    function RestUrlGroup(_segments) {
        this._segments = _segments;
        if (isBlank(this._segments)) {
            this._segments = [];
        }
    }
    /**
     *
     * Every push is validated againts UrlSegment assert methods to make sure the order of the
     * method calls is correct
     *
     */
    /**
     *
     * Every push is validated againts UrlSegment assert methods to make sure the order of the
     * method calls is correct
     *
     * @param {?} segment
     * @return {?}
     */
    RestUrlGroup.prototype.push = /**
     *
     * Every push is validated againts UrlSegment assert methods to make sure the order of the
     * method calls is correct
     *
     * @param {?} segment
     * @return {?}
     */
    function (segment) {
        segment.assertSegment((this._segments.length > 0) ? this.peak().type : null);
        if (isString(segment.value)) {
            segment.value = segment.value.replace(/^\/|\/$/g, '');
        }
        this._segments.push(segment);
    };
    /**
     * Stack like API
     *
     */
    /**
     * Stack like API
     *
     * @return {?}
     */
    RestUrlGroup.prototype.peak = /**
     * Stack like API
     *
     * @return {?}
     */
    function () {
        return ListWrapper.last(this._segments);
    };
    /**
     * @return {?}
     */
    RestUrlGroup.prototype.pop = /**
     * @return {?}
     */
    function () {
        assert(this._segments.length > 0, ' Attempt to get value from empty segments stack');
        return ListWrapper.removeAt(this._segments, this._segments.length - 1);
    };
    /**
     * @param {?} segmentType
     * @param {?} data
     * @return {?}
     */
    RestUrlGroup.prototype.updateSegment = /**
     * @param {?} segmentType
     * @param {?} data
     * @return {?}
     */
    function (segmentType, data) {
        /** @type {?} */
        var urlSegment = this.lookup(segmentType);
        urlSegment.value = data;
    };
    /**
     *
     * Based on the enum Segment Type  it will retrieve correct segment from the stack
     *
     */
    /**
     *
     * Based on the enum Segment Type  it will retrieve correct segment from the stack
     *
     * @param {?} segment
     * @param {?=} byResource
     * @return {?}
     */
    RestUrlGroup.prototype.lookup = /**
     *
     * Based on the enum Segment Type  it will retrieve correct segment from the stack
     *
     * @param {?} segment
     * @param {?=} byResource
     * @return {?}
     */
    function (segment, byResource) {
        if (isBlank(this.segments)) {
            return null;
        }
        /** @type {?} */
        var ss = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__spread"])(this.segments);
        ss = ss.reverse();
        return ss.find((function (s) {
            /** @type {?} */
            var hasMatch = s.type === segment;
            if (segment === RestSegmentType.Resource) {
                if (isPresent(byResource)) {
                    return hasMatch && (/** @type {?} */ (s)).value === byResource;
                }
                else {
                    return hasMatch;
                }
            }
            return hasMatch;
        }));
    };
    /**
     *
     * Counts number of segments of certain type
     *
     */
    /**
     *
     * Counts number of segments of certain type
     *
     * @param {?} segment
     * @return {?}
     */
    RestUrlGroup.prototype.count = /**
     *
     * Counts number of segments of certain type
     *
     * @param {?} segment
     * @return {?}
     */
    function (segment) {
        /** @type {?} */
        var segments = this.segments.filter(function (s) { return segment === s.type; });
        return isPresent(segments) ? segments.length : 0;
    };
    Object.defineProperty(RestUrlGroup.prototype, "segments", {
        get: /**
         * @return {?}
         */
        function () {
            return this._segments;
        },
        enumerable: true,
        configurable: true
    });
    return RestUrlGroup;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * To simplify work with current HttpClient the Resource provides fluent API on top of it. You dont
 * assemble URL traditional way rather more fluent and functional way, working with real data types
 * such a Value and Entity.
 *
 * Entity and Value are two main key interfaces that all domain objects should inherit from if they
 * want to leverage this functionality.
 *
 * ###Example
 *
 * 1.  to simply assemble following URL http://api.ariba.com/myService/v1/requisitions/123 and
 *  and fetch Requisition data:
 *
 * ```ts
 *  let r: Resource
 *
 *  r.load()
 *   .resource(Requisition)
 *   .withId('123')
 *   .asEntity<Requisition>((r: Requisition) => receivedR = r);
 *
 * ```
 * You you can simply read it: load resource Requisition with ID 123 and return this as Entity
 *
 * 2. Current fluent API also support partial updates and subcontext resource
 *  to load data from this REST API endpoint
 *      http://api.ariba.com/myService/v1/requisitions/123/suppliers
 * ```ts
 *  let r: Resource
 *
 *  r.load()
 *   .resource(Supplier)
 *   .of
 *   .resource(Requisition)
 *   .withId('123')
 *   .asEntity<Supplier>((r:  Supplier[]) => receivedR = r);
 *
 * ```
 *
 *  You can read above: Load all from resource Supplier of Requisition (or supplier belongs to
 *  Requisition)  with ID 123 and return this as Entity.
 *
 *
 * 3. To save data you follow the same syntax
 *      Save requisition so we are PUTting data to following URL
 *      http://api.ariba.com/myService/v1/requisitions/123
 *
 * ```ts
 *  let r: Resource
 *
 *          r
 *        .save()
 *        .resource(Requisition)
 *        .withId('123')
 *        .withData(pr)
 *        .asEntity<Requisition>((r: Requisition) => receivedR = r);
 *
 *
 * ```
 *
 *  You can read above: Save resource Requisition with ID 123 and with Data .... and return it as
 *  a Entity
 *
 *
 *  4. API can also for you assemble and execute actions sometimes called interaction. Not all is
 *  about CRUD. Our current syntax for actions is
 *
 *                       http://api.ariba.com/myService/v1/requisitions/123/actions/approve
 *
 * ```ts
 *  let r: Resource
 *
 *        r
 *        .do('approve')
 *        .resource(Requisition)
 *        .withId('123')
 *        .asEntity<Requisition>((r: Requisition) => receivedR = r);
 *
 *
 * ```
 *
 * To make it easily extensible they are 3 main pieces
 *  - Resource: This class just put together abstract structure URLSegment
 *  - URLSegments: More like AST style to assemble the URL
 *  - builder: that read this AST to assemble the URL
 *
 *
 * Later on we might want to expose builder as a provider and you can have your own implementation
 *
 *
 *
 *
 */
var Resource = /** @class */ (function () {
    function Resource(http, appConfig) {
        this.http = http;
        this.appConfig = appConfig;
    }
    /**
     * Identifies GET operation
     *
     */
    /**
     * Identifies GET operation
     *
     * @return {?}
     */
    Resource.prototype.load = /**
     * Identifies GET operation
     *
     * @return {?}
     */
    function () {
        this.init();
        this.urlGroup.push(new ActionSegment(RestAction.Load));
        return this;
    };
    /**
     * Identifies PUT or POST operation. Depending on the object. If the object has already
     * populated its identifier, then we use PUT, otherwise POST
     *
     */
    /**
     * Identifies PUT or POST operation. Depending on the object. If the object has already
     * populated its identifier, then we use PUT, otherwise POST
     *
     * @return {?}
     */
    Resource.prototype.save = /**
     * Identifies PUT or POST operation. Depending on the object. If the object has already
     * populated its identifier, then we use PUT, otherwise POST
     *
     * @return {?}
     */
    function () {
        this.init();
        this.urlGroup.push(new ActionSegment(RestAction.Save));
        return this;
    };
    /**
     * Identifies interaction. For this we use POST
     *
     */
    /**
     * Identifies interaction. For this we use POST
     *
     * @param {?} action
     * @return {?}
     */
    Resource.prototype.do = /**
     * Identifies interaction. For this we use POST
     *
     * @param {?} action
     * @return {?}
     */
    function (action) {
        this.init();
        this.urlGroup.push(new ActionSegment(RestAction.Do, action));
        return this;
    };
    /**
     *
     * TODO: Since query API is not yet implemented on the server side => TBD
     *
     * There where should be able to accepts individual query grammar. Similar style like rxjs
     * operators.
     *
     *  e.g.: Resource.prototype.contains = ....
     *        Resource.prototype.eq = ....
     *
     * You should be able to add dynamically let;s call it QuerySpecification
     *
     *      res
     *      .query()
     *      .resource(Requsition)
     *      .where( contains<string>(reqEntity.title(), '*asdf*' )
     *
     *  so it could look like something like:
     *
     *
     *  contains<T>(title: string, value: T): T
     *
     *  But since all these Specification would have a way to translate this key|value to the
     *  query so the where, would just list all the specification to bulid
     *  the query
     *
     *
     */
    /**
     *
     * TODO: Since query API is not yet implemented on the server side => TBD
     *
     * There where should be able to accepts individual query grammar. Similar style like rxjs
     * operators.
     *
     *  e.g.: Resource.prototype.contains = ....
     *        Resource.prototype.eq = ....
     *
     * You should be able to add dynamically let;s call it QuerySpecification
     *
     *      res
     *      .query()
     *      .resource(Requsition)
     *      .where( contains<string>(reqEntity.title(), '*asdf*' )
     *
     *  so it could look like something like:
     *
     *
     *  contains<T>(title: string, value: T): T
     *
     *  But since all these Specification would have a way to translate this key|value to the
     *  query so the where, would just list all the specification to bulid
     *  the query
     *
     *
     * @return {?}
     */
    Resource.prototype.query = /**
     *
     * TODO: Since query API is not yet implemented on the server side => TBD
     *
     * There where should be able to accepts individual query grammar. Similar style like rxjs
     * operators.
     *
     *  e.g.: Resource.prototype.contains = ....
     *        Resource.prototype.eq = ....
     *
     * You should be able to add dynamically let;s call it QuerySpecification
     *
     *      res
     *      .query()
     *      .resource(Requsition)
     *      .where( contains<string>(reqEntity.title(), '*asdf*' )
     *
     *  so it could look like something like:
     *
     *
     *  contains<T>(title: string, value: T): T
     *
     *  But since all these Specification would have a way to translate this key|value to the
     *  query so the where, would just list all the specification to bulid
     *  the query
     *
     *
     * @return {?}
     */
    function () {
        this.init();
        throw new Error('Not implemented');
    };
    /**
     * @return {?}
     */
    Resource.prototype.where = /**
     * @return {?}
     */
    function () {
        this.init();
        throw new Error('Not implemented');
    };
    /**
     *
     * Identifies ResourceSegment with specific type that must be either Entity or Value
     *
     */
    /**
     *
     * Identifies ResourceSegment with specific type that must be either Entity or Value
     *
     * @template T
     * @param {?} type
     * @return {?}
     */
    Resource.prototype.resource = /**
     *
     * Identifies ResourceSegment with specific type that must be either Entity or Value
     *
     * @template T
     * @param {?} type
     * @return {?}
     */
    function (type) {
        this.urlGroup.push(new ResourceSegment(type));
        return this;
    };
    /**
     * Identifier IdentifierSegment
     *
     */
    /**
     * Identifier IdentifierSegment
     *
     * @param {?} identifier
     * @return {?}
     */
    Resource.prototype.withId = /**
     * Identifier IdentifierSegment
     *
     * @param {?} identifier
     * @return {?}
     */
    function (identifier) {
        this.urlGroup.push(new IdentifierSegment(identifier));
        return this;
    };
    /**
     * When we are saving data this method is used to insert a payload to the ActionSegment
     *
     */
    /**
     * When we are saving data this method is used to insert a payload to the ActionSegment
     *
     * @template T
     * @param {?} data
     * @return {?}
     */
    Resource.prototype.withData = /**
     * When we are saving data this method is used to insert a payload to the ActionSegment
     *
     * @template T
     * @param {?} data
     * @return {?}
     */
    function (data) {
        /** @type {?} */
        var urlSegment = this.urlGroup.lookup(RestSegmentType.Action);
        /** @type {?} */
        var isSave = (/** @type {?} */ (urlSegment)).actionType === RestAction.Save;
        assert(isSave, 'withData can be used with SAVE operation only!');
        (/** @type {?} */ (urlSegment)).data = data;
        return this;
    };
    Object.defineProperty(Resource.prototype, "of", {
        /**
         * OF is just a syntactic suggar for better readability and to easier work with sub resources.
         * using OF we are able to tell that some resource belongs to other resource
         *
         */
        get: /**
         * OF is just a syntactic suggar for better readability and to easier work with sub resources.
         * using OF we are able to tell that some resource belongs to other resource
         *
         * @return {?}
         */
        function () {
            this.urlGroup.push(new OfParentSegment());
            return this;
        },
        enumerable: true,
        configurable: true
    });
    /**
     *
     * Once tell what you want this is the last call you want to make to return resources as actual
     * Entities or Values.
     *
     * Todo: Maybe rename a method name as we can return both Entity and Value.
     *
     * You have also option to insert HttpOption
     *
     */
    /**
     *
     * Once tell what you want this is the last call you want to make to return resources as actual
     * Entities or Values.
     *
     * Todo: Maybe rename a method name as we can return both Entity and Value.
     *
     * You have also option to insert HttpOption
     *
     * @template T
     * @param {?} subscriber
     * @param {?=} options
     * @return {?}
     */
    Resource.prototype.asEntity = /**
     *
     * Once tell what you want this is the last call you want to make to return resources as actual
     * Entities or Values.
     *
     * Todo: Maybe rename a method name as we can return both Entity and Value.
     *
     * You have also option to insert HttpOption
     *
     * @template T
     * @param {?} subscriber
     * @param {?=} options
     * @return {?}
     */
    function (subscriber, options) {
        var _this = this;
        if (options === void 0) { options = { observe: 'body' }; }
        /** @type {?} */
        var segment = /** @type {?} */ (this.urlGroup.lookup(RestSegmentType.Action));
        assert(isPresent(segment), 'Missing Http method. Not sure how to handle this!');
        /** @type {?} */
        var observable;
        /** @type {?} */
        var actionType = segment.value;
        switch (actionType) {
            case RestAction.Load:
                observable = this.http.get(this.url, options);
                break;
            case RestAction.Do:
                observable = this.http.post(this.url, {}, options);
                break;
            case RestAction.Save:
                // we dont have right now other usecase subcontext resource will be always some
                // array
                if (isEntity(segment.data)) {
                    if (isBlank((/** @type {?} */ (segment.data)).identity())) {
                        observable = this.http.post(this.url, segment.data, options);
                    }
                    else {
                        observable = this.http.put(this.url, segment.data, options);
                    }
                }
                else if (isValue(segment.data)) {
                    // we expect value will be always pushed
                    observable = this.http.put(this.url, segment.data, options);
                }
                break;
        }
        return observable.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (res) { return _this.convertToComposite(res, true, false); })).subscribe(subscriber);
    };
    /**
     * @template T
     * @param {?} subscriber
     * @param {?=} error
     * @param {?=} options
     * @return {?}
     */
    Resource.prototype.asHttpResponse = /**
     * @template T
     * @param {?} subscriber
     * @param {?=} error
     * @param {?=} options
     * @return {?}
     */
    function (subscriber, error, options) {
        var _this = this;
        if (options === void 0) { options = { observe: 'response' }; }
        /** @type {?} */
        var segment = /** @type {?} */ (this.urlGroup.lookup(RestSegmentType.Action));
        assert(isPresent(segment), 'Missing Http method. Not sure how to handle this!');
        /** @type {?} */
        var observable;
        /** @type {?} */
        var actionType = segment.value;
        switch (actionType) {
            case RestAction.Load:
                observable = this.http.get(this.url, options);
                break;
            case RestAction.Do:
                observable = this.http.post(this.url, {}, options);
                break;
            case RestAction.Save:
                // we dont have right now other usecase subcontext resource will be always some
                // array
                if (isEntity(segment.data)) {
                    if (isBlank((/** @type {?} */ (segment.data)).identity())) {
                        observable = this.http.post(this.url, segment.data, options);
                    }
                    else {
                        observable = this.http.put(this.url, segment.data, options);
                    }
                }
                else if (isValue(segment.data)) {
                    // we expect value will be always pushed
                    observable = this.http.put(this.url, segment.data, options);
                }
                break;
        }
        /** @type {?} */
        var hasProgress = options.reportProgress || false;
        return observable.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (res) { return _this.convertToComposite(res, false, hasProgress); }))
            .subscribe(subscriber, error);
    };
    Object.defineProperty(Resource.prototype, "url", {
        /**
         *
         * Return assebled URL AST -> string
         *
         */
        get: /**
         *
         * Return assebled URL AST -> string
         *
         * @return {?}
         */
        function () {
            if (isBlank(this._url)) {
                /** @type {?} */
                var isMocked = this.appConfig.getBoolean(AppConfig.ConnectionUseMockServer);
                this._url = this._urlBuilder.assembleUrl(isMocked);
            }
            return this._url;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Resource.prototype, "urlGroup", {
        /**
         * private
         *
         */
        get: /**
         * private
         *
         * @return {?}
         */
        function () {
            return this._urlGroup;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Resource.prototype, "urlBuilder", {
        /**
         * private
         *
         */
        get: /**
         * private
         *
         * @return {?}
         */
        function () {
            return this._urlBuilder;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * private
     *
     * @return {?}
     */
    Resource.prototype.init = /**
     * private
     *
     * @return {?}
     */
    function () {
        this._urlGroup = new RestUrlGroup();
        this._urlBuilder = new DefaultRestBuilder(this._urlGroup);
        this._url = null;
        this.urlGroup.push(new HostSegment(this.appConfig.getRestApiHost()));
        this.urlGroup.push(new ContextSegment(this.appConfig.getRestApiContext()));
    };
    /**
     * Used inside .map to map JSON response or HttpResponse.body to actual type
     *
     * @template T
     * @param {?} res
     * @param {?} isComposite
     * @param {?} hasProgress
     * @return {?}
     */
    Resource.prototype.convertToComposite = /**
     * Used inside .map to map JSON response or HttpResponse.body to actual type
     *
     * @template T
     * @param {?} res
     * @param {?} isComposite
     * @param {?} hasProgress
     * @return {?}
     */
    function (res, isComposite, hasProgress) {
        if (hasProgress) {
            return res;
        }
        /** @type {?} */
        var sgm = /** @type {?} */ (this.urlGroup.lookup(RestSegmentType.Resource));
        if (isComposite) {
            return this.deserialize((/** @type {?} */ (res)).payload, sgm.value);
        }
        else {
            /** @type {?} */
            var httpRes = /** @type {?} */ (res);
            /** @type {?} */
            var myResp = {
                payload: this.deserialize(httpRes.body.payload, sgm.value)
            };
            return httpRes.clone({ body: myResp });
        }
    };
    /**
     * @template T
     * @param {?} data
     * @return {?}
     */
    Resource.prototype.serialize = /**
     * @template T
     * @param {?} data
     * @return {?}
     */
    function (data) {
        return JSON.stringify(data);
    };
    /**
     *
     * Converts JSON object to actual Type. We don't care about primitive types as we dont have to
     * do anything with them. We do instantiate objects or complex types only.
     *
     *
     */
    /**
     *
     * Converts JSON object to actual Type. We don't care about primitive types as we dont have to
     * do anything with them. We do instantiate objects or complex types only.
     *
     *
     * @param {?} json
     * @param {?} clazz
     * @return {?}
     */
    Resource.prototype.deserialize = /**
     *
     * Converts JSON object to actual Type. We don't care about primitive types as we dont have to
     * do anything with them. We do instantiate objects or complex types only.
     *
     *
     * @param {?} json
     * @param {?} clazz
     * @return {?}
     */
    function (json, clazz) {
        if (isArray(json)) {
            /** @type {?} */
            var instances = [];
            for (var item in json) {
                instances.push(this.deserialize(json[item], clazz));
            }
            return instances;
        }
        else {
            /** @type {?} */
            var instance = void 0;
            if (clazz === String) {
                instance = json.toString();
            }
            else if (clazz === Number) {
                instance = json;
            }
            else if (clazz === Boolean) {
                instance = json;
            }
            else {
                instance = new clazz();
                /** @type {?} */
                var types = instance.getTypes();
                for (var prop in json) {
                    if (!json.hasOwnProperty(prop)) {
                        continue;
                    }
                    if (isPresent(types[prop]) && isPresent(json[prop]) && types[prop] !== Date) {
                        instance[prop] = this.deserialize(json[prop], types[prop]);
                    }
                    else if (isDate(types[prop])) {
                        instance[prop] = new types[prop](json[prop]);
                    }
                    else {
                        instance[prop] = json[prop];
                    }
                    // else if (isString(json[prop]) && isEntity(instance)
                    //     && prop === (<Entity>instance).identity()) {
                    //
                    //     const idString = (<Entity>instance).identity();
                    //     (<any>instance)[idString] = <string>json[prop];
                    //
                    // }
                }
            }
            return instance;
        }
    };
    Resource.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"] }
    ];
    /** @nocollapse */
    Resource.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"] },
        { type: AppConfig }
    ]; };
    return Resource;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var NotFoundComponent = /** @class */ (function () {
    function NotFoundComponent() {
    }
    /**
     * @return {?}
     */
    NotFoundComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    NotFoundComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"], args: [{
                    template: "<div class=\"page-container\">\n    <div class=\"row\">\n        <div class=\"col-md-12\">\n            <div class=\"error-template\">\n                <h1> Oops!</h1>\n                <h2> 404 Not Found</h2>\n                <div class=\"error-details\"> Sorry, an error has occured, Requested page not found!\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>\n",
                    styles: [".error-template{padding:40px 15px;text-align:center}.error-actions{margin-top:15px;margin-bottom:15px}.error-actions .btn{margin-right:10px}"]
                }] }
    ];
    /** @nocollapse */
    NotFoundComponent.ctorParameters = function () { return []; };
    return NotFoundComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Basic wrapper around Angular's ROUTE service to simplify temporary state caching as well
 * navigation. This service listen for Routing events such as NavigationStart as well,
 * NavigationEnds and when the routing Enters, We check if there any state which needs to be cached
 * if yes then we save it into the stateCacheHistory which maps final URL to the actual STATE
 * object, and when we are navigate back to the same URL We check if there is any saved state.
 *
 * This service was originally created as a response that angular always destroyes and recreates
 * components when navigating aways and then back to it. By a of angular 4.2.0+ this might be
 * obsolete.
 *
 */
var RoutingService = /** @class */ (function () {
    function RoutingService(router) {
        var _this = this;
        this.router = router;
        /**
         * Stack keeping active Routes so we can go back/redirect back
         *
         */
        this.routingState = [];
        /*
             * Event object for registering listeners to save a certain state as well as broadcasting back
             * when state needs to be retrieved back to the Page
             *
             */
        this.stateCache = new rxjs__WEBPACK_IMPORTED_MODULE_7__["Subject"]();
        /**
         *
         * This is our cache which maps URL => to = >STATE. Any page can save any state using
         * observable object which will be retrieved back.
         *
         */
        this.stateCacheHistory = new Map();
        this.router.events.subscribe(function (event) { return _this.subscribeToRoutingEvents(event); });
    }
    /**
     *
     * Here is the main routing logic that proceses every routing events.
     *
     */
    /**
     *
     * Here is the main routing logic that proceses every routing events.
     *
     * @param {?} event
     * @return {?}
     */
    RoutingService.prototype.subscribeToRoutingEvents = /**
     *
     * Here is the main routing logic that proceses every routing events.
     *
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_6__["NavigationEnd"]) {
            /** @type {?} */
            var url = event.url;
            if (this.stateCacheHistory.has(url)) {
                this.stateCache.next(this.stateCacheHistory.get(url));
                this.stateCacheHistory.delete(url);
            }
            this.routingState.push(event);
        }
        if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_6__["NavigationStart"]) {
            /** @type {?} */
            var itemBeforeRoute = ListWrapper.last(this.routingState);
            if (isPresent(this.currentStateFrom) && isPresent(itemBeforeRoute) && isPresent(this.currentStateFrom) && itemBeforeRoute instanceof _angular_router__WEBPACK_IMPORTED_MODULE_6__["NavigationEnd"] ||
                itemBeforeRoute instanceof _angular_router__WEBPACK_IMPORTED_MODULE_6__["NavigationStart"]) {
                this.stateCacheHistory.set(itemBeforeRoute.url, this.currentStateFrom);
                this.currentStateFrom = null;
            }
            else if (isPresent(this.currentStateTo)) {
                this.stateCacheHistory.set(event.url, this.currentStateTo);
                this.currentStateTo = null;
            }
        }
    };
    /**
     * Convenient GO BACK method. which takes you to previous route along with the URL change.
     *
     *
     */
    /**
     * Convenient GO BACK method. which takes you to previous route along with the URL change.
     *
     *
     * @param {?=} numOfSteps
     * @return {?}
     */
    RoutingService.prototype.goBack = /**
     * Convenient GO BACK method. which takes you to previous route along with the URL change.
     *
     *
     * @param {?=} numOfSteps
     * @return {?}
     */
    function (numOfSteps) {
        if (numOfSteps === void 0) { numOfSteps = 1; }
        /** @type {?} */
        var steps = -1;
        /** @type {?} */
        var navigateUrl = '/404';
        while (steps !== numOfSteps) {
            /** @type {?} */
            var popState = this.routingState.pop();
            if (popState instanceof _angular_router__WEBPACK_IMPORTED_MODULE_6__["NavigationEnd"] || popState instanceof _angular_router__WEBPACK_IMPORTED_MODULE_6__["NavigationStart"]) {
                navigateUrl = popState.url;
                steps++;
            }
        }
        this.router.navigateByUrl(navigateUrl);
    };
    /**
     *
     * When navigating to a new Page you can use directly router or if you want to remember some
     * state tne this method can be used as well.
     *
     */
    /**
     *
     * When navigating to a new Page you can use directly router or if you want to remember some
     * state tne this method can be used as well.
     *
     * @template T
     * @param {?} commands
     * @param {?=} state
     * @param {?=} extras
     * @return {?}
     */
    RoutingService.prototype.navigate = /**
     *
     * When navigating to a new Page you can use directly router or if you want to remember some
     * state tne this method can be used as well.
     *
     * @template T
     * @param {?} commands
     * @param {?=} state
     * @param {?=} extras
     * @return {?}
     */
    function (commands, state, extras) {
        this.currentStateFrom = state;
        this.router.navigate(commands, extras);
    };
    /**
     *
     * When navigating to a new Page you can use directly router or if you want to remember some
     * state tne this method can be used as well.
     *
     */
    /**
     *
     * When navigating to a new Page you can use directly router or if you want to remember some
     * state tne this method can be used as well.
     *
     * @template T
     * @param {?} route
     * @param {?=} params
     * @param {?=} state
     * @param {?=} extras
     * @return {?}
     */
    RoutingService.prototype.navigateWithRoute = /**
     *
     * When navigating to a new Page you can use directly router or if you want to remember some
     * state tne this method can be used as well.
     *
     * @template T
     * @param {?} route
     * @param {?=} params
     * @param {?=} state
     * @param {?=} extras
     * @return {?}
     */
    function (route, params, state, extras) {
        this.currentStateTo = state;
        this.router.navigate([route.path, params], extras);
    };
    /**
     *
     * Entry method for broadcasting stateCache and sending saved State back to the page
     *
     *
     */
    /**
     *
     * Entry method for broadcasting stateCache and sending saved State back to the page
     *
     *
     * @template T
     * @param {?} listener
     * @return {?}
     */
    RoutingService.prototype.bindStateCache = /**
     *
     * Entry method for broadcasting stateCache and sending saved State back to the page
     *
     *
     * @template T
     * @param {?} listener
     * @return {?}
     */
    function (listener) {
        this.stateCache.asObservable().subscribe(function (stateItem) { return listener(stateItem); });
    };
    /**
     * Utility method so check extra parameters which are passed using Matrix notation
     *
     *
     */
    /**
     * Utility method so check extra parameters which are passed using Matrix notation
     *
     *
     * @param {?} route
     * @return {?}
     */
    RoutingService.prototype.operation = /**
     * Utility method so check extra parameters which are passed using Matrix notation
     *
     *
     * @param {?} route
     * @return {?}
     */
    function (route) {
        /** @type {?} */
        var operation = route.snapshot.params['o'];
        return isBlank(operation) || (operation !== 'view' && operation !== 'create' && operation !== 'edit')
            ? 'view' : operation;
    };
    /**
     * Assembles a path based on the current route.
     *
     */
    /**
     * Assembles a path based on the current route.
     *
     * @param {?} pageName
     * @param {?} pathName
     * @return {?}
     */
    RoutingService.prototype.pathForPage = /**
     * Assembles a path based on the current route.
     *
     * @param {?} pageName
     * @param {?} pathName
     * @return {?}
     */
    function (pageName, pathName) {
        return this.router.routerState.snapshot.url + "/" + pathName;
    };
    /**
     *
     * Search top level routes and return Route that has component name equal to pageName
     *
     *
     */
    /**
     *
     * Search top level routes and return Route that has component name equal to pageName
     *
     *
     * @param {?} pageName
     * @param {?=} pathName
     * @param {?=} activatedPath
     * @return {?}
     */
    RoutingService.prototype.routeForPage = /**
     *
     * Search top level routes and return Route that has component name equal to pageName
     *
     *
     * @param {?} pageName
     * @param {?=} pathName
     * @param {?=} activatedPath
     * @return {?}
     */
    function (pageName, pathName, activatedPath) {
        /** @type {?} */
        var nextRoute;
        /** @type {?} */
        var normalizedPath = activatedPath.indexOf('/') === 0 ? activatedPath.substring(1) :
            activatedPath;
        /** @type {?} */
        var currentRoute = this.router.config.find(function (r) {
            /** @type {?} */
            var routePath = r.path.indexOf('/') === 0 ? r.path.substring(1) :
                r.path;
            return isPresent(normalizedPath) && normalizedPath === routePath;
        });
        // try to match the path and expected pageName
        if (isPresent(pathName) && isPresent(currentRoute) && currentRoute.children.length > 0) {
            nextRoute = currentRoute.children.find(function (r) {
                /** @type {?} */
                var componentName = r.component.prototype.constructor.name;
                return pathName === r.path && pageName === componentName;
            });
        }
        else if (isPresent(pageName)) {
            nextRoute = this.router.config.find(function (r) {
                /** @type {?} */
                var componentName = r.component.prototype.constructor.name;
                return pathName === r.path && pageName === componentName;
            });
        }
        // path not found then check only if we find anywhere in the path pageNae
        if (isBlank(nextRoute)) {
            this.router.config.forEach(function (r) {
                if (isPresent(r.component)) {
                    /** @type {?} */
                    var componentName = r.component.prototype.constructor.name;
                    if (pageName === componentName) {
                        nextRoute = r;
                    }
                }
            });
        }
        return nextRoute;
    };
    RoutingService.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"] }
    ];
    /** @nocollapse */
    RoutingService.ctorParameters = function () { return [
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"] }
    ]; };
    return RoutingService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Notifications service is a implementation of the publish/subscribe event bus for publishing
 * and listening for application level events.
 *
 * To subscribe to specific event e.g. User Logged In where topic is called user:signedIn
 *
 *
 * ```ts
 *
 * \@Component({
 *         selector: 'my-comp',
 *         template: `
 *                 Hello
 *             `
 *     })
 *     class MyComponent implements OnDestroy
 *     {
 *
 *        subscr: Subscription;
 *
 *         constructor(private notifications: Notifications) {
 *
 *              this.subscr = notifications.subscribe('user:signedIn', (message: any) =>
 *              {
 *                  // load user profile
 *              });
 *         }
 *
 *          ngOnDestroy(): void
 *          {
 *             this.subscr.unsubscribe();
 *          }
 *
 *
 *
 *     }
 *
 *
 * ```
 *
 * To publish event:
 *
 * ```
 *     let notifications: Notification;
 *     notifications.publish('user:signedIn', 'User just signed in');
 *
 * ```
 *
 * You can create and listen for your own application level events or you can also listen for all
 * the topics in the application if you use  `*` as application topic
 *
 * Unsubscribing is responsibility  of each subscriber
 *
 */
var Notifications = /** @class */ (function () {
    function Notifications() {
        this.events = new rxjs__WEBPACK_IMPORTED_MODULE_7__["Subject"]();
    }
    /**
     *
     * Subscribe to specific listener based on given topic.
     *
     */
    /**
     *
     * Subscribe to specific listener based on given topic.
     *
     * @param {?} topic
     * @param {?} subscriber
     * @return {?}
     */
    Notifications.prototype.subscribe = /**
     *
     * Subscribe to specific listener based on given topic.
     *
     * @param {?} topic
     * @param {?} subscriber
     * @return {?}
     */
    function (topic, subscriber) {
        /** @type {?} */
        var toAll = Notifications.AllTopics;
        return this.events.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])(function (msg) { return msg.topic === topic || topic === toAll; }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (msg) { return msg.content; })).subscribe(subscriber);
    };
    /**
     *
     * Publish new event to a topic
     *
     */
    /**
     *
     * Publish new event to a topic
     *
     * @param {?} topic
     * @param {?} message
     * @return {?}
     */
    Notifications.prototype.publish = /**
     *
     * Publish new event to a topic
     *
     * @param {?} topic
     * @param {?} message
     * @return {?}
     */
    function (topic, message) {
        /** @type {?} */
        var msg = { topic: topic, content: message };
        this.events.next(msg);
    };
    /**
     * When this is used as a topic subscriber receives all messages
     *
     */
    Notifications.AllTopics = '*';
    Notifications.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"] }
    ];
    /** @nocollapse */
    Notifications.ctorParameters = function () { return []; };
    return Notifications;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var GlobalErrorHandler = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(GlobalErrorHandler, _super);
    function GlobalErrorHandler(notifications) {
        var _this = _super.call(this) || this;
        _this.notifications = notifications;
        return _this;
    }
    /**
     * @param {?} error
     * @return {?}
     */
    GlobalErrorHandler.prototype.handleError = /**
     * @param {?} error
     * @return {?}
     */
    function (error) {
        if (isPresent(this.notifications)) {
            this.notifications.publish('app:error', error);
        }
    };
    GlobalErrorHandler.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"] }
    ];
    /** @nocollapse */
    GlobalErrorHandler.ctorParameters = function () { return [
        { type: Notifications }
    ]; };
    return GlobalErrorHandler;
}(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ErrorHandler"]));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var routes = [
    { path: 'not-found', component: NotFoundComponent }
];
var AribaCoreRoutingModule = /** @class */ (function () {
    function AribaCoreRoutingModule() {
    }
    AribaCoreRoutingModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["NgModule"], args: [{
                    imports: [
                        _angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterModule"].forChild(routes)
                    ],
                    exports: [_angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterModule"]],
                    providers: []
                },] }
    ];
    return AribaCoreRoutingModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Interceptor providing Mock Server functionality and is inserted only and if mock server is
 * enabled using AppConfig's connection.mock-server.enabled bootstrap property
 *
 *
 */
var HttpMockInterceptor = /** @class */ (function () {
    function HttpMockInterceptor(appConfig) {
        this.appConfig = appConfig;
        /**
         * Stores loaded routes by given entity name.
         *
         */
        this.routesByEntity = new Map();
    }
    /**
     *
     * If route is found returned Mock resuled defined in the JSON files, otherwise pass
     * the request to the next interceptor.
     *
     *
     */
    /**
     *
     * If route is found returned Mock resuled defined in the JSON files, otherwise pass
     * the request to the next interceptor.
     *
     *
     * @param {?} req
     * @param {?} next
     * @return {?}
     */
    HttpMockInterceptor.prototype.intercept = /**
     *
     * If route is found returned Mock resuled defined in the JSON files, otherwise pass
     * the request to the next interceptor.
     *
     *
     * @param {?} req
     * @param {?} next
     * @return {?}
     */
    function (req, next) {
        /** @type {?} */
        var mockedResp = this.makeRes(req);
        if (isPresent(mockedResp)) {
            if (mockedResp.status >= 200 && mockedResp.status < 300) {
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["of"])(/** @type {?} */ (mockedResp));
            }
            else {
                /** @type {?} */
                var errror = new _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpErrorResponse"]({
                    error: mockedResp.body,
                    status: mockedResp.status,
                    statusText: mockedResp.statusText,
                    url: req.urlWithParams
                });
                Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["throwError"])(errror);
            }
        }
        return next.handle(req);
    };
    /**
     * Based on user configuration we load all the available routes and register them into
     * `this.routesByEntity`
     *
     */
    /**
     * Based on user configuration we load all the available routes and register them into
     * `this.routesByEntity`
     *
     * @return {?}
     */
    HttpMockInterceptor.prototype.loadRoutes = /**
     * Based on user configuration we load all the available routes and register them into
     * `this.routesByEntity`
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var routes = this.appConfig.get(AppConfig.ConnectionMockServerRoutes);
        try {
            for (var routes_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(routes), routes_1_1 = routes_1.next(); !routes_1_1.done; routes_1_1 = routes_1.next()) {
                var routeName = routes_1_1.value;
                /** @type {?} */
                var req = this.makeReq(routeName);
                /** @type {?} */
                var mocked = this.requestForRoutes(req);
                this.routesByEntity.set(mocked.resource, mocked.routes);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (routes_1_1 && !routes_1_1.done && (_a = routes_1.return)) _a.call(routes_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        var e_1, _a;
    };
    /**
     *
     * Returns configuration based on mock JSON files.
     *
     * @param {?} req
     * @return {?}
     */
    HttpMockInterceptor.prototype.requestForRoutes = /**
     *
     * Returns configuration based on mock JSON files.
     *
     * @param {?} req
     * @return {?}
     */
    function (req) {
        /** @type {?} */
        var xmlHttpReq = new XMLHttpRequest();
        xmlHttpReq.open(req.method, req.urlWithParams, false);
        req.headers.keys().forEach(function (key) {
            /** @type {?} */
            var all = req.headers.getAll(key);
            xmlHttpReq.setRequestHeader(name, all.join(','));
        });
        xmlHttpReq.setRequestHeader('Accept', 'application/json, text/plain, */*');
        xmlHttpReq.send(null);
        /** @type {?} */
        var body = isBlank(xmlHttpReq.response) ? xmlHttpReq.responseText :
            xmlHttpReq.response;
        if (xmlHttpReq.status < 200 && xmlHttpReq.status >= 300) {
            throw new Error('Cannot load Mock server configuration. Please make sure that you' +
                ' have a mock-routing/ folder under your assets');
        }
        return isString(body) ? JSON.parse(body) : body;
    };
    /**
     *
     * Create a requests to load routes
     *
     * @param {?} routeName
     * @return {?}
     */
    HttpMockInterceptor.prototype.makeReq = /**
     *
     * Create a requests to load routes
     *
     * @param {?} routeName
     * @return {?}
     */
    function (routeName) {
        /** @type {?} */
        var assetFolder = this.appConfig.get(AppConfig.AssetFolder);
        /** @type {?} */
        var path = this.appConfig.get(AppConfig.ConnectionMockServerPath);
        return new _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpRequest"]('GET', "" + assetFolder + path + "/" + routeName + ".json", {
            responseType: 'json'
        });
    };
    /**
     *
     * When we are creating a response we always expect two things:
     * 1) We are dealing with Entity
     * 2) REST API is handled using Resource which prepend /mocked/
     *
     * @param {?} req
     * @return {?}
     */
    HttpMockInterceptor.prototype.makeRes = /**
     *
     * When we are creating a response we always expect two things:
     * 1) We are dealing with Entity
     * 2) REST API is handled using Resource which prepend /mocked/
     *
     * @param {?} req
     * @return {?}
     */
    function (req) {
        /** @type {?} */
        var responseOp;
        /** @type {?} */
        var path = req.urlWithParams.substring(req.url.indexOf('mocked') + 6);
        /** @type {?} */
        var resource = path.substring(1);
        if (resource.indexOf('/') !== -1) {
            resource = resource.substring(0, resource.indexOf('/'));
        }
        if (this.routesByEntity.has(resource)) {
            responseOp = this.doHandleRequest(req, path, resource);
        }
        if (isBlank(responseOp) && this.appConfig.getBoolean(AppConfig.InTest)) {
            return new _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpResponse"]({
                body: {}, status: 404, statusText: 'Not Found',
                url: req.urlWithParams
            });
        }
        return responseOp;
    };
    /**
     *
     * This will get the content from the routes -> route as it as and return it as a
     * response
     *
     * @param {?} req
     * @param {?} path
     * @param {?} resource
     * @return {?}
     */
    HttpMockInterceptor.prototype.doHandleRequest = /**
     *
     * This will get the content from the routes -> route as it as and return it as a
     * response
     *
     * @param {?} req
     * @param {?} path
     * @param {?} resource
     * @return {?}
     */
    function (req, path, resource) {
        /** @type {?} */
        var routes = this.routesByEntity.get(resource);
        /** @type {?} */
        var matchedRoute = routes.findIndex(function (el) {
            return req.method.toLowerCase() === el.method.toLowerCase() && el.path === path;
        });
        if (matchedRoute !== -1) {
            /** @type {?} */
            var route = routes[matchedRoute];
            /** @type {?} */
            var payload = {
                payload: route.data
            };
            return new _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpResponse"]({
                body: payload,
                status: route.responseCode,
                statusText: route.responseText,
                url: route.path
            });
        }
        return null;
    };
    HttpMockInterceptor.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"] }
    ];
    /** @nocollapse */
    HttpMockInterceptor.ctorParameters = function () { return [
        { type: AppConfig }
    ]; };
    return HttpMockInterceptor;
}());
/**
 * Default implementation of the HttpHandler so we can have custom behavior to HTTPClient
 */
var /**
 * Default implementation of the HttpHandler so we can have custom behavior to HTTPClient
 */
MockInterceptorHandler = /** @class */ (function () {
    function MockInterceptorHandler(next, interceptor) {
        this.next = next;
        this.interceptor = interceptor;
    }
    /**
     * @param {?} req
     * @return {?}
     */
    MockInterceptorHandler.prototype.handle = /**
     * @param {?} req
     * @return {?}
     */
    function (req) {
        return this.interceptor.intercept(req, this.next);
    };
    return MockInterceptorHandler;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var UserConfig = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["InjectionToken"]('UserConfig');
/**
 * Core mode includes all shared logic accross whole application
 */
var AribaCoreModule = /** @class */ (function () {
    function AribaCoreModule(parentModule, conf) {
        this.conf = conf;
    }
    /**
     * @param {?=} config
     * @return {?}
     */
    AribaCoreModule.forRoot = /**
     * @param {?=} config
     * @return {?}
     */
    function (config) {
        if (config === void 0) { config = {}; }
        return {
            ngModule: AribaCoreModule,
            providers: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_8__["Title"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_8__["Meta"],
                Environment,
                Notifications,
                HttpMockInterceptor,
                Resource,
                { provide: UserConfig, useValue: config },
                {
                    provide: AppConfig, useFactory: makeConfig,
                    deps: [UserConfig, _angular_core__WEBPACK_IMPORTED_MODULE_3__["Injector"], Environment]
                },
                {
                    provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpHandler"],
                    useFactory: makeHttpClientHandler,
                    deps: [
                        _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpBackend"], AppConfig, HttpMockInterceptor,
                        [new _angular_core__WEBPACK_IMPORTED_MODULE_3__["Optional"](), new _angular_core__WEBPACK_IMPORTED_MODULE_3__["Inject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HTTP_INTERCEPTORS"])]
                    ],
                },
                { provide: _angular_core__WEBPACK_IMPORTED_MODULE_3__["ErrorHandler"], useClass: GlobalErrorHandler, deps: [Notifications] },
                { provide: RoutingService, useClass: RoutingService, deps: [_angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"]] }
            ]
        };
    };
    AribaCoreModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["NgModule"], args: [{
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_9__["CommonModule"],
                        _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClientModule"],
                        AribaCoreRoutingModule
                    ],
                    declarations: [NotFoundComponent],
                    bootstrap: []
                },] }
    ];
    /** @nocollapse */
    AribaCoreModule.ctorParameters = function () { return [
        { type: AribaCoreModule, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["SkipSelf"] }] },
        { type: AppConfig }
    ]; };
    return AribaCoreModule;
}());
/**
 *
 * Add custom Mock functionality only and if we enabled this in the settings. I dont really want to
 * have NoopIntercepter in the chain
 *
 * @param {?} ngBackend
 * @param {?} config
 * @param {?} mockInterceptor
 * @param {?=} interceptors
 * @return {?}
 */
function makeHttpClientHandler(ngBackend, config, mockInterceptor, interceptors) {
    if (interceptors === void 0) { interceptors = []; }
    if (config.getBoolean(AppConfig.ConnectionUseMockServer)) {
        mockInterceptor.loadRoutes();
        interceptors = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__spread"])(interceptors, [mockInterceptor]);
    }
    if (!interceptors) {
        return ngBackend;
    }
    return interceptors.reduceRight(function (next, interceptor) { return new MockInterceptorHandler(next, interceptor); }, ngBackend);
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * The FieldPath is utility class for representing of a dotted fieldPath.
 *
 * A String such as "foo.bar.baz" can be used to access a value on a target object.
 *
 */
var  /**
 * The FieldPath is utility class for representing of a dotted fieldPath.
 *
 * A String such as "foo.bar.baz" can be used to access a value on a target object.
 *
 */
FieldPath = /** @class */ (function () {
    function FieldPath(_path) {
        this._path = _path;
        this._fieldPaths = isBlank(_path) ? [] : _path.split('.');
        this.objectPathInstance = Object(object_path__WEBPACK_IMPORTED_MODULE_10__["create"])({ includeInheritedProps: true });
    }
    /**
     *
     * Sets a value to target objects
     *
     */
    /**
     *
     * Sets a value to target objects
     *
     * @param {?} target
     * @param {?} field
     * @param {?} value
     * @return {?}
     */
    FieldPath.setFieldValue = /**
     *
     * Sets a value to target objects
     *
     * @param {?} target
     * @param {?} field
     * @param {?} value
     * @return {?}
     */
    function (target, field, value) {
        /** @type {?} */
        var fp = new FieldPath(field);
        fp.setFieldValue(target, value);
    };
    /**
     * Reads a value from target objects
     */
    /**
     * Reads a value from target objects
     * @param {?} target
     * @param {?} field
     * @return {?}
     */
    FieldPath.getFieldValue = /**
     * Reads a value from target objects
     * @param {?} target
     * @param {?} field
     * @return {?}
     */
    function (target, field) {
        /** @type {?} */
        var fp = new FieldPath(field);
        /** @type {?} */
        var value = fp.getFieldValue(target);
        if (field === '$toString') {
            return value();
        }
        return value;
    };
    /**
     *  One of the main reason why I have this is not only to iterate thru dotted field path but
     * mainly to be able to set naturally value into a nested maps like :
     *
     *  fieldName.fieldNameMap.fieldKey => it will access fieldName on the target, from there it
     * reads FieldNameMap since fieldName nested objects and sets a new value identified by Map key
     * fieldKey
     *
     *  ```
     *  class MyClass {
     *      fieldName:NestedObject
     *
     *  }
     *
     *  class NestedObject {
     *      fieldNameMap:Map<key, value>;
     *  }
     *
     *  ```
     * use field value for assignment so keys of form "a.b.c" will go in nested Maps
     */
    /**
     *  One of the main reason why I have this is not only to iterate thru dotted field path but
     * mainly to be able to set naturally value into a nested maps like :
     *
     *  fieldName.fieldNameMap.fieldKey => it will access fieldName on the target, from there it
     * reads FieldNameMap since fieldName nested objects and sets a new value identified by Map key
     * fieldKey
     *
     *  ```
     *  class MyClass {
     *      fieldName:NestedObject
     *
     *  }
     *
     *  class NestedObject {
     *      fieldNameMap:Map<key, value>;
     *  }
     *
     *  ```
     * use field value for assignment so keys of form "a.b.c" will go in nested Maps
     * @param {?} target
     * @param {?} value
     * @return {?}
     */
    FieldPath.prototype.setFieldValue = /**
     *  One of the main reason why I have this is not only to iterate thru dotted field path but
     * mainly to be able to set naturally value into a nested maps like :
     *
     *  fieldName.fieldNameMap.fieldKey => it will access fieldName on the target, from there it
     * reads FieldNameMap since fieldName nested objects and sets a new value identified by Map key
     * fieldKey
     *
     *  ```
     *  class MyClass {
     *      fieldName:NestedObject
     *
     *  }
     *
     *  class NestedObject {
     *      fieldNameMap:Map<key, value>;
     *  }
     *
     *  ```
     * use field value for assignment so keys of form "a.b.c" will go in nested Maps
     * @param {?} target
     * @param {?} value
     * @return {?}
     */
    function (target, value) {
        // implement the same thing what we have on the get, if Map set field into map
        if (this._fieldPaths.length > 1 && !(target instanceof Map)) {
            /** @type {?} */
            var path = this._fieldPaths.slice(0, this._fieldPaths.length - 1).join('.');
            /** @type {?} */
            var objectToBeUpdated = this.objectPathInstance.get(target, path);
            if (objectToBeUpdated instanceof Map) {
                objectToBeUpdated.set(this._fieldPaths[this._fieldPaths.length - 1], value);
            }
            else {
                this.objectPathInstance.set(target, this._path, value);
            }
        }
        if (target instanceof Map) {
            /** @type {?} */
            var mapTarget = target;
            // handle Nested Map
            if (this._fieldPaths.length > 1) {
                /** @type {?} */
                var path = this._fieldPaths.splice(0, 1);
                /** @type {?} */
                var nestedMap = mapTarget.get(path[0]);
                if (isBlank(nestedMap)) {
                    nestedMap = new Map();
                    mapTarget.set(path[0], nestedMap);
                }
                this.setFieldValue(nestedMap, value);
            }
            else {
                target.set(this._fieldPaths[0], value);
            }
        }
        else {
            this.objectPathInstance.set(target, this._path, value);
        }
    };
    /**
     * The same reason as for SetFieldValue. Need to be able to read value by dotted path as well
     * as ready value from Maps.
     *
     * todo: this is quick and dirty implementation - need to write better solution
     */
    /**
     * The same reason as for SetFieldValue. Need to be able to read value by dotted path as well
     * as ready value from Maps.
     *
     * todo: this is quick and dirty implementation - need to write better solution
     * @param {?} target
     * @return {?}
     */
    FieldPath.prototype.getFieldValue = /**
     * The same reason as for SetFieldValue. Need to be able to read value by dotted path as well
     * as ready value from Maps.
     *
     * todo: this is quick and dirty implementation - need to write better solution
     * @param {?} target
     * @return {?}
     */
    function (target) {
        /** @type {?} */
        var value;
        for (var i = 0; i < this._fieldPaths.length; i++) {
            if ((isStringMap(target) || isString(target)) && !(target instanceof Map)) {
                value = this.objectPathInstance.get(target, this._fieldPaths[i]);
                target = value;
            }
            else if (target instanceof Map) {
                /** @type {?} */
                var targetMap = target;
                value = targetMap.get(this._fieldPaths[i]);
            }
            // just tweak to be able to access maps field.someMapField.mapKey
            // I want this to get the element from the map
            if (value instanceof Map && (i + 1) < this._fieldPaths.length) {
                /** @type {?} */
                var mapValue = /** @type {?} */ (value);
                return mapValue.get(this._fieldPaths[i + 1]);
            }
        }
        return value;
    };
    Object.defineProperty(FieldPath.prototype, "path", {
        get: /**
         * @return {?}
         */
        function () {
            return this._path;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    FieldPath.prototype.toString = /**
     * @return {?}
     */
    function () {
        return this._path;
    };
    return FieldPath;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Notion of having `AribaApplication` class came from  a simple requirement that every single
 * application needs a common way how to initialize.
 *
 * We want to be more application specific therefore we don't want to have generic names such as
 * `app.component or app.module`, the root component should be named based on what it is doing
 * or what is real application name e.g.: TodoApp, SourcingApp, etcs. and these application will
 * inherit from `AribaApplication` to get some common behavior.
 *
 * Specific application types will extends this class to add more behavior.
 *
 * There are two types of bootstrapping and passing environment parameters to the application:
 *
 * -  During AribaCoreUI import:
 *
 * ### example
 *
 * ```ts
 *      AribaCoreModule.forRoot({
 *                  'app.title': 'Playground Application',
 *                  'asset-folder': 'playground/assets',
 *                  'metaui.rules.file-names': ['Application', 'Layout'],
 *                  'restapi.context': '/myService/',
 *                  'connection.mock-server.enabled': true,
 *                  'connection.mock-server.routes': ['users'],
 *              }),
 *
 * ```
 *  Use this to pass some static properties.
 *
 *
 * -  From AribaApplication :
 *
 *  When you have specific type of applications that needs more settings you inherit from this
 *  class to extend its behavior and then use it for your applications to share common behavior
 *
 * ### example
 *
 *  ```ts
 *
 *     export class FacebookApplication extends AribaApplication {
 *
 *         protected appId: string = '.....';
 *
 *
 *          protected initialize(): void
 *          {
 *              super.initialize();
 *
 *              this.appId = readAppIdfromEnv();
 *
 *              this.appConfig.set('facebook.appId', this.appId );
 *
 *              this.registerFBAuthenticator();
 *
 *          }
 *
 *     }
 *
 *  ```
 *  Once you defined your type of application, then you can start creating applications that inherit
 *  from this `FacebookApplication`. Root App component
 *
 *
 * ```ts
 * \@Component({...})
 *      export PictureAppComponent extends FacebookApplication {
 *             ...
 *
 *      }
 *
 *
 *
 * \@NgModule({ bootstrap: [PictureAppComponent] })
 *     export class PictureAppModule {
 *
 *     }
 *
 *
 * ```
 *
 */
var  /**
 * Notion of having `AribaApplication` class came from  a simple requirement that every single
 * application needs a common way how to initialize.
 *
 * We want to be more application specific therefore we don't want to have generic names such as
 * `app.component or app.module`, the root component should be named based on what it is doing
 * or what is real application name e.g.: TodoApp, SourcingApp, etcs. and these application will
 * inherit from `AribaApplication` to get some common behavior.
 *
 * Specific application types will extends this class to add more behavior.
 *
 * There are two types of bootstrapping and passing environment parameters to the application:
 *
 * -  During AribaCoreUI import:
 *
 * ### example
 *
 * ```ts
 *      AribaCoreModule.forRoot({
 *                  'app.title': 'Playground Application',
 *                  'asset-folder': 'playground/assets',
 *                  'metaui.rules.file-names': ['Application', 'Layout'],
 *                  'restapi.context': '/myService/',
 *                  'connection.mock-server.enabled': true,
 *                  'connection.mock-server.routes': ['users'],
 *              }),
 *
 * ```
 *  Use this to pass some static properties.
 *
 *
 * -  From AribaApplication :
 *
 *  When you have specific type of applications that needs more settings you inherit from this
 *  class to extend its behavior and then use it for your applications to share common behavior
 *
 * ### example
 *
 *  ```ts
 *
 *     export class FacebookApplication extends AribaApplication {
 *
 *         protected appId: string = '.....';
 *
 *
 *          protected initialize(): void
 *          {
 *              super.initialize();
 *
 *              this.appId = readAppIdfromEnv();
 *
 *              this.appConfig.set('facebook.appId', this.appId );
 *
 *              this.registerFBAuthenticator();
 *
 *          }
 *
 *     }
 *
 *  ```
 *  Once you defined your type of application, then you can start creating applications that inherit
 *  from this `FacebookApplication`. Root App component
 *
 *
 * ```ts
 * \@Component({...})
 *      export PictureAppComponent extends FacebookApplication {
 *             ...
 *
 *      }
 *
 *
 *
 * \@NgModule({ bootstrap: [PictureAppComponent] })
 *     export class PictureAppModule {
 *
 *     }
 *
 *
 * ```
 *
 */
AribaApplication = /** @class */ (function () {
    function AribaApplication(appConfig) {
        this.appConfig = appConfig;
        this.metaTags = this.appConfig.injector.get(_angular_platform_browser__WEBPACK_IMPORTED_MODULE_8__["Meta"]);
        this.title = this.appConfig.injector.get(_angular_platform_browser__WEBPACK_IMPORTED_MODULE_8__["Title"]);
    }
    /**
     * @return {?}
     */
    AribaApplication.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.initialize();
    };
    /**
     * Current default behavior just sets a title for the application
     */
    /**
     * Current default behavior just sets a title for the application
     * @return {?}
     */
    AribaApplication.prototype.initialize = /**
     * Current default behavior just sets a title for the application
     * @return {?}
     */
    function () {
        /** @type {?} */
        var title = this.appConfig.get(AppConfig.AppTitle);
        if (isBlank(title)) {
            title = 'Ariba Application';
        }
        this.title.setTitle(title);
    };
    return AribaApplication;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */



//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJpYmF1aS1jb3JlLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9AYXJpYmF1aS9jb3JlL3V0aWxzL2xhbmcudHMiLCJuZzovL0BhcmliYXVpL2NvcmUvdXRpbHMvY29sbGVjdGlvbi50cyIsIm5nOi8vQGFyaWJhdWkvY29yZS9jb25maWcvYXBwLWNvbmZpZy50cyIsIm5nOi8vQGFyaWJhdWkvY29yZS9jb25maWcvZW52aXJvbm1lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvcmUvZG9tYWluL2RvbWFpbi1tb2RlbC50cyIsIm5nOi8vQGFyaWJhdWkvY29yZS9kb21haW4vdXJsL3NlZ21lbnQudHMiLCJuZzovL0BhcmliYXVpL2NvcmUvZG9tYWluL3VybC9idWlsZGVyLnRzIiwibmc6Ly9AYXJpYmF1aS9jb3JlL2RvbWFpbi91cmwvdXJsLWdyb3VwLnRzIiwibmc6Ly9AYXJpYmF1aS9jb3JlL2RvbWFpbi9yZXNvdXJjZS5zZXJ2aWNlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb3JlL25vdC1mb3VuZC9ub3QtZm91bmQuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9jb3JlL3JvdXRpbmcvcm91dGluZy5zZXJ2aWNlLnRzIiwibmc6Ly9AYXJpYmF1aS9jb3JlL21lc3NhZ2luZy9ub3RpZmljYXRpb25zLnNlcnZpY2UudHMiLCJuZzovL0BhcmliYXVpL2NvcmUvZ2xvYmFsLWVycm9yLWhhbmRsZXIudHMiLCJuZzovL0BhcmliYXVpL2NvcmUvYXJpYmEtY29yZS1yb3V0aW5nLm1vZHVsZS50cyIsIm5nOi8vQGFyaWJhdWkvY29yZS9odHRwL2h0dHAtbW9jay1pbnRlcmNlcHRvci50cyIsIm5nOi8vQGFyaWJhdWkvY29yZS9hcmliYS5jb3JlLm1vZHVsZS50cyIsIm5nOi8vQGFyaWJhdWkvY29yZS91dGlscy9maWVsZC1wYXRoLnRzIiwibmc6Ly9AYXJpYmF1aS9jb3JlL2FyaWJhLWFwcGxpY2F0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICpcbiAqIEBvcmlnaW5hbC1saWNlbnNlXG4gKlxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqXG4gKlxuICpcbiAqICBDcmVkaXQ6IERlcml2ZWQgYW5kIGV4dGVuZGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhciBpbiBvcmRlciB0byBoYXZlIHNldCBvZlxuICogIHJldXNhYmxlIGdsb2JhbHMuIFNpbmNlIGl0cyBub3QgZXhwb3J0ZWQgQVBJIG5lZWQgdG8gaGF2ZSBhIGNvcHkgdW5kZXIgY29yZS5cbiAqL1xuaW1wb3J0ICogYXMgYmlnSW50SW1wb3J0ZWQgZnJvbSAnYmlnLWludGVnZXInO1xuXG5jb25zdCBiaWdJbnQgPSBiaWdJbnRJbXBvcnRlZDtcblxuLyoqXG4gKiAgU2V0IG9mIHJldXNhYmxlIGdsb2JhbHMuIFRoaXMgaXMgdGFrZW4gZnJvbSB0aGUgQW5ndWxhciAyIHNpbmNlIGl0cyBub3QgZXhwb3J0ZWQgQVBJLiBBbmQgdGhlcmVcbiAqICBpcyBhIG5lZWQgZm9yIHN1Y2ggY29tbW9uIGZ1bmN0aW9ucyBhbmQgd3JhcHBlcnNcbiAqXG4gKi9cblxuY29uc3QgX193aW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3c7XG5jb25zdCBfZ2xvYmFsOiB7IFtuYW1lOiBzdHJpbmddOiBhbnkgfSA9IF9fd2luZG93O1xuXG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkR2xvYmFsUGFyYW0odmFyTmFtZTogYW55KTogeyBbbmFtZTogc3RyaW5nXTogYW55IH1cbntcbiAgICByZXR1cm4gX2dsb2JhbFt2YXJOYW1lXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRHbG9iYWxUeXBlKHZhck5hbWU6IGFueSk6IGFueVxue1xuICAgIHJldHVybiBfZ2xvYmFsW3Zhck5hbWVdO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUeXBlTmFtZUZvckRlYnVnZ2luZyh0eXBlOiBhbnkpOiBzdHJpbmdcbntcbiAgICBpZiAodHlwZVsnbmFtZSddKSB7XG4gICAgICAgIHJldHVybiB0eXBlWyduYW1lJ107XG4gICAgfVxuICAgIHJldHVybiB0eXBlb2YgdHlwZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuaW1wbGVtZW50ZWQoKTogYW55XG57XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmltcGxlbWVudGVkJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ByZXNlbnQob2JqOiBhbnkpOiBib29sZWFuXG57XG4gICAgcmV0dXJuIG9iaiAhPT0gdW5kZWZpbmVkICYmIG9iaiAhPT0gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQmxhbmsob2JqOiBhbnkpOiBib29sZWFuXG57XG4gICAgcmV0dXJuIG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQm9vbGVhbihvYmo6IGFueSk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ2Jvb2xlYW4nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIob2JqOiBhbnkpOiBib29sZWFuXG57XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdudW1iZXInO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcob2JqOiBhbnkpOiBvYmogaXMgc3RyaW5nXG57XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdzdHJpbmcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihvYmo6IGFueSk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVHlwZShvYmo6IGFueSk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvYmopO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmdNYXAob2JqOiBhbnkpOiBvYmogaXMgT2JqZWN0XG57XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbDtcbn1cblxuY29uc3QgU1RSSU5HX01BUF9QUk9UTyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih7fSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmljdFN0cmluZ01hcChvYmo6IGFueSk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gaXNTdHJpbmdNYXAob2JqKSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gU1RSSU5HX01BUF9QUk9UTztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZShvYmo6IGFueSk6IGJvb2xlYW5cbntcbiAgICAvLyBhbGxvdyBhbnkgUHJvbWlzZS9BKyBjb21wbGlhbnQgdGhlbmFibGUuXG4gICAgLy8gSXQncyB1cCB0byB0aGUgY2FsbGVyIHRvIGVuc3VyZSB0aGF0IG9iai50aGVuIGNvbmZvcm1zIHRvIHRoZSBzcGVjXG4gICAgcmV0dXJuIGlzUHJlc2VudChvYmopICYmIGlzRnVuY3Rpb24ob2JqLnRoZW4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheShvYmo6IGFueSk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShvYmopO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEYXRlKG9iajogYW55KTogb2JqIGlzIERhdGVcbntcbiAgICByZXR1cm4gKG9iaiBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKG9iai52YWx1ZU9mKCkpKSB8fFxuICAgICAgICAoaXNQcmVzZW50KG9iaikgJiYgaXNGdW5jdGlvbihvYmoubm93KSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTGlzdExpa2VJdGVyYWJsZShvYmo6IGFueSk6IGJvb2xlYW5cbntcbiAgICBpZiAoIWlzSnNPYmplY3Qob2JqKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KG9iaikgfHxcbiAgICAgICAgKCEob2JqIGluc3RhbmNlb2YgTWFwKSAmJiAgICAgIC8vIEpTIE1hcCBhcmUgaXRlcmFibGVzIGJ1dCByZXR1cm4gZW50cmllcyBhcyBbaywgdl1cbiAgICAgICAgICAgIGdldFN5bWJvbEl0ZXJhdG9yKCkgaW4gb2JqKTsgIC8vIEpTIEl0ZXJhYmxlIGhhdmUgYSBTeW1ib2wuaXRlcmF0b3IgcHJvcFxufVxuXG5cbi8qKlxuICogQ2hlY2tzIGlmIGBvYmpgIGlzIGEgd2luZG93IG9iamVjdC5cbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1dpbmRvdyhvYmo6IGFueSk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gb2JqICYmIG9iai53aW5kb3cgPT09IG9iajtcbn1cblxuXG4vKipcbiAqIERldGVybWluZXMgaWYgYSB2YWx1ZSBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3QuXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSZWdFeHAodmFsdWU6IGFueSk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKVxue1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzaGlmdExlZnQoYTogbnVtYmVyLCBiOiBudW1iZXIpOiBudW1iZXJcbntcbiAgICByZXR1cm4gYmlnSW50KGEpLnNoaWZ0TGVmdChiKS52YWx1ZU9mKCk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNoaWZ0UmlnaHQoYTogbnVtYmVyLCBiOiBudW1iZXIpOiBudW1iZXJcbntcbiAgICByZXR1cm4gYmlnSW50KGEpLnNoaWZ0UmlnaHQoYikudmFsdWVPZigpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnkodG9rZW46IGFueSk6IHN0cmluZ1xue1xuICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG5cbiAgICBpZiAodG9rZW4gPT09IHVuZGVmaW5lZCB8fCB0b2tlbiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJycgKyB0b2tlbjtcbiAgICB9XG5cbiAgICBpZiAodG9rZW4ub3ZlcnJpZGRlbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuLm92ZXJyaWRkZW5OYW1lO1xuICAgIH1cbiAgICBpZiAodG9rZW4ubmFtZSkge1xuICAgICAgICByZXR1cm4gdG9rZW4ubmFtZTtcbiAgICB9XG5cbiAgICBsZXQgcmVzID0gdG9rZW4udG9TdHJpbmcoKTtcbiAgICBsZXQgbmV3TGluZUluZGV4ID0gcmVzLmluZGV4T2YoJ1xcbicpO1xuICAgIHJldHVybiAobmV3TGluZUluZGV4ID09PSAtMSkgPyByZXMgOiByZXMuc3Vic3RyaW5nKDAsIG5ld0xpbmVJbmRleCk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNsYXNzTmFtZShjbGF6ejogYW55KTogc3RyaW5nXG57XG4gICAgaWYgKGlzUHJlc2VudChjbGF6ei5jb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgbGV0IGNsYXNzTiA9IGNsYXp6LmNvbnN0cnVjdG9yLnRvU3RyaW5nKCk7XG4gICAgICAgIGNsYXNzTiA9IGNsYXNzTi5zdWJzdHIoJ2Z1bmN0aW9uICcubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGNsYXNzTi5zdWJzdHIoMCwgY2xhc3NOLmluZGV4T2YoJygnKSk7XG4gICAgfVxuICAgIHJldHVybiBjbGF6ejtcbn1cblxuXG4vKipcbiAqICBTb3VyY2U6IGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL21peGlucy5odG1sXG4gKlxuICogIEZ1bmN0aW9uIHRoYXQgY29waWVzIHByb3BlcnRpZXMgb2YgdGhlIGJhc2VDdG9ycyB0byBkZXJpdmVkQ3Rvci5cbiAqICBDYW4gYmUgdXNlZCB0byBhY2hpZXZlIG11bHRpcGxlIGluaGVyaXRhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlNaXhpbnMoZGVyaXZlZEN0b3I6IGFueSwgYmFzZUN0b3JzOiBhbnlbXSlcbntcbiAgICBiYXNlQ3RvcnMuZm9yRWFjaChiYXNlQ3RvciA9PlxuICAgIHtcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYmFzZUN0b3IucHJvdG90eXBlKS5mb3JFYWNoKG5hbWUgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZGVyaXZlZEN0b3IucHJvdG90eXBlW25hbWVdXG4gICAgICAgICAgICAgICAgPSBiYXNlQ3Rvci5wcm90b3R5cGVbbmFtZV07XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5leHBvcnQgY2xhc3MgU3RyaW5nV3JhcHBlclxue1xuICAgIHN0YXRpYyBmcm9tQ2hhckNvZGUoY29kZTogbnVtYmVyKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY2hhckNvZGVBdChzOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiBzLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzcGxpdChzOiBzdHJpbmcsIHJlZ0V4cDogUmVnRXhwKTogc3RyaW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBzLnNwbGl0KHJlZ0V4cCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGVxdWFscyhzOiBzdHJpbmcsIHMyOiBzdHJpbmcpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gcyA9PT0gczI7XG4gICAgfVxuXG4gICAgc3RhdGljIHN0cmlwTGVmdChzOiBzdHJpbmcsIGNoYXJWYWw6IHN0cmluZyk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgaWYgKHMgJiYgcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNbaV0gIT09IGNoYXJWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcyA9IHMuc3Vic3RyaW5nKHBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgc3RhdGljIHN0cmlwUmlnaHQoczogc3RyaW5nLCBjaGFyVmFsOiBzdHJpbmcpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGlmIChzICYmIHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgcG9zID0gcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGlmIChzW2ldICE9PSBjaGFyVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwb3MtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMgPSBzLnN1YnN0cmluZygwLCBwb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cblxuICAgIHN0YXRpYyByZXBsYWNlKHM6IHN0cmluZywgZnJvbTogc3RyaW5nLCByZXBsYWNlOiBzdHJpbmcpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoZnJvbSwgcmVwbGFjZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHJlcGxhY2VBbGwoczogc3RyaW5nLCBmcm9tOiBSZWdFeHAsIHJlcGxhY2U6IHN0cmluZyk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZShmcm9tLCByZXBsYWNlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2xpY2U8VD4oczogc3RyaW5nLCBmcm9tOiBudW1iZXIgPSAwLCB0bzogbnVtYmVyID0gbnVsbCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHMuc2xpY2UoZnJvbSwgdG8gPT09IG51bGwgPyB1bmRlZmluZWQgOiB0byk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNvbnRhaW5zKHM6IHN0cmluZywgc3Vic3RyOiBzdHJpbmcpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gcy5pbmRleE9mKHN1YnN0cikgIT09IC0xO1xuICAgIH1cblxuICAgIHN0YXRpYyBjb21wYXJlKGE6IHN0cmluZywgYjogc3RyaW5nKTogbnVtYmVyXG4gICAge1xuICAgICAgICBpZiAoYSA8IGIpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfSBlbHNlIGlmIChhID4gYikge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgc3RhdGljIGVuZHNXaWR0aChzdWJqZWN0OiBzdHJpbmcsIHNlYXJjaFN0cmluZzogc3RyaW5nLCBwb3NpdGlvbjogbnVtYmVyID0gMCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICghU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCkge1xuICAgICAgICAgICAgU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCA9IGZ1bmN0aW9uIChzc3RyaW5nLCBwb3MgPSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBzdWJqZWN0U3RyaW5nID0gdGhpcy50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcG9zICE9PSAnbnVtYmVyJyB8fCAhaXNGaW5pdGUocG9zKSB8fCBNYXRoLmZsb29yKHBvcykgIT09IHBvcyB8fCBwb3NcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBzdWJqZWN0U3RyaW5nLmxlbmd0aClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IHN1YmplY3RTdHJpbmcubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwb3MgLT0gc3N0cmluZy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IGxhc3RJbmRleCA9IHN1YmplY3RTdHJpbmcuaW5kZXhPZihzc3RyaW5nLCBwb3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsYXN0SW5kZXggIT09IC0xICYmIGxhc3RJbmRleCA9PT0gcG9zO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3ViamVjdC5lbmRzV2l0aChzZWFyY2hTdHJpbmcpO1xuICAgIH1cblxuXG4gICAgc3RhdGljIHN0YXJ0c1dpZHRoKHN1YmplY3Q6IHN0cmluZywgc2VhcmNoU3RyaW5nOiBzdHJpbmcpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gc3ViamVjdC5pbmRleE9mKHNlYXJjaFN0cmluZykgPT09IDA7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RyaW5nSm9pbmVyXG57XG4gICAgY29uc3RydWN0b3IocHVibGljIHBhcnRzOiBzdHJpbmdbXSA9IFtdKVxuICAgIHtcbiAgICB9XG5cbiAgICBhZGQocGFydDogc3RyaW5nKTogU3RyaW5nSm9pbmVyXG4gICAge1xuICAgICAgICB0aGlzLnBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgbGFzdCgpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRzW3RoaXMucGFydHMubGVuZ3RoIC0gMV07XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0cy5qb2luKCcnKTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIE51bWJlcldyYXBwZXJcbntcbiAgICBzdGF0aWMgdG9GaXhlZChuOiBudW1iZXIsIGZyYWN0aW9uRGlnaXRzOiBudW1iZXIpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiBuLnRvRml4ZWQoZnJhY3Rpb25EaWdpdHMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBlcXVhbChhOiBudW1iZXIsIGI6IG51bWJlcik6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBhID09PSBiO1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZUludEF1dG9SYWRpeCh0ZXh0OiBzdHJpbmcpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGxldCByZXN1bHQ6IG51bWJlciA9IHBhcnNlSW50KHRleHQpO1xuICAgICAgICBpZiAoaXNOYU4ocmVzdWx0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGludGVnZXIgbGl0ZXJhbCB3aGVuIHBhcnNpbmcgJyArIHRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlSW50KHRleHQ6IHN0cmluZywgcmFkaXg6IG51bWJlcik6IG51bWJlclxuICAgIHtcbiAgICAgICAgaWYgKHJhZGl4ID09PSAxMCkge1xuICAgICAgICAgICAgaWYgKC9eKFxcLXxcXCspP1swLTldKyQvLnRlc3QodGV4dCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGV4dCwgcmFkaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJhZGl4ID09PSAxNikge1xuICAgICAgICAgICAgaWYgKC9eKFxcLXxcXCspP1swLTlBQkNERUZhYmNkZWZdKyQvLnRlc3QodGV4dCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGV4dCwgcmFkaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogbnVtYmVyID0gcGFyc2VJbnQodGV4dCwgcmFkaXgpO1xuICAgICAgICAgICAgaWYgKCFpc05hTihyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnSW52YWxpZCBpbnRlZ2VyIGxpdGVyYWwgd2hlbiBwYXJzaW5nICcgKyB0ZXh0ICsgJyBpbiBiYXNlICcgKyByYWRpeCk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogTmFOIGlzIGEgdmFsaWQgbGl0ZXJhbCBidXQgaXMgcmV0dXJuZWQgYnkgcGFyc2VGbG9hdCB0byBpbmRpY2F0ZSBhbiBlcnJvci5cbiAgICBzdGF0aWMgcGFyc2VGbG9hdCh0ZXh0OiBzdHJpbmcpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRleHQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc051bWVyaWModmFsdWU6IGFueSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiAhaXNOYU4odmFsdWUgLSBwYXJzZUZsb2F0KHZhbHVlKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzTmFOKHZhbHVlOiBhbnkpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gaXNOYU4odmFsdWUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc0ludGVnZXIodmFsdWU6IGFueSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGdW5jdGlvbldyYXBwZXJcbntcbiAgICBzdGF0aWMgYXBwbHkoZm46IEZ1bmN0aW9uLCBwb3NBcmdzOiBhbnkpOiBhbnlcbiAgICB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBwb3NBcmdzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYmluZChmbjogRnVuY3Rpb24sIHNjb3BlOiBhbnkpOiBGdW5jdGlvblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZuLmJpbmQoc2NvcGUpO1xuICAgIH1cbn1cblxuLy8gSlMgaGFzIE5hTiAhPT0gTmFOXG5leHBvcnQgZnVuY3Rpb24gbG9vc2VJZGVudGljYWwoYTogYW55LCBiOiBhbnkpOiBib29sZWFuXG57XG4gICAgcmV0dXJuIGEgPT09IGIgfHwgdHlwZW9mIGEgPT09ICdudW1iZXInICYmIHR5cGVvZiBiID09PSAnbnVtYmVyJyAmJiBpc05hTihhKSAmJiBpc05hTihiKTtcbn1cblxuLy8gSlMgY29uc2lkZXJzIE5hTiBpcyB0aGUgc2FtZSBhcyBOYU4gZm9yIG1hcCBLZXkgKHdoaWxlIE5hTiAhPT0gTmFOIG90aGVyd2lzZSlcbi8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXBcbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXBLZXk8VD4odmFsdWU6IFQpOiBUXG57XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplQmxhbmsob2JqOiBPYmplY3QpOiBhbnlcbntcbiAgICByZXR1cm4gaXNCbGFuayhvYmopID8gbnVsbCA6IG9iajtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUJvb2wob2JqOiBib29sZWFuKTogYm9vbGVhblxue1xuICAgIHJldHVybiBpc0JsYW5rKG9iaikgPyBmYWxzZSA6IG9iajtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSnNPYmplY3QobzogYW55KTogYm9vbGVhblxue1xuICAgIHJldHVybiBvICE9PSBudWxsICYmICh0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgbyA9PT0gJ29iamVjdCcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJpbnQob2JqOiBFcnJvciB8IE9iamVjdClcbntcbiAgICBjb25zb2xlLmxvZyhvYmopO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2FybihvYmo6IEVycm9yIHwgT2JqZWN0KVxue1xuICAgIGNvbnNvbGUud2FybihvYmopO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uOiBib29sZWFuLCBtc2c6IHN0cmluZylcbntcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja3N1bShzOiBhbnkpXG57XG4gICAgbGV0IGNoayA9IDB4MTIzNDU2Nzg7XG4gICAgbGV0IGxlbiA9IHMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY2hrICs9IChzLmNoYXJDb2RlQXQoaSkgKiAoaSArIDEpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKGNoayAmIDB4ZmZmZmZmZmYpLnRvU3RyaW5nKDE2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyYzMyKGNyYzogbnVtYmVyLCBhbkludDogbnVtYmVyKVxue1xuICAgIC8qIHRzbGludDpkaXNhYmxlICovXG4gICAgbGV0IHRhYmxlID0gJzAwMDAwMDAwIDc3MDczMDk2IEVFMEU2MTJDIDk5MDk1MUJBIDA3NkRDNDE5IDcwNkFGNDhGIEU5NjNBNTM1IDlFNjQ5NUEzIDBFREI4ODMyIDc5RENCOEE0IEUwRDVFOTFFIDk3RDJEOTg4IDA5QjY0QzJCIDdFQjE3Q0JEIEU3QjgyRDA3IDkwQkYxRDkxIDFEQjcxMDY0IDZBQjAyMEYyIEYzQjk3MTQ4IDg0QkU0MURFIDFBREFENDdEIDZERERFNEVCIEY0RDRCNTUxIDgzRDM4NUM3IDEzNkM5ODU2IDY0NkJBOEMwIEZENjJGOTdBIDhBNjVDOUVDIDE0MDE1QzRGIDYzMDY2Q0Q5IEZBMEYzRDYzIDhEMDgwREY1IDNCNkUyMEM4IDRDNjkxMDVFIEQ1NjA0MUU0IEEyNjc3MTcyIDNDMDNFNEQxIDRCMDRENDQ3IEQyMEQ4NUZEIEE1MEFCNTZCIDM1QjVBOEZBIDQyQjI5ODZDIERCQkJDOUQ2IEFDQkNGOTQwIDMyRDg2Q0UzIDQ1REY1Qzc1IERDRDYwRENGIEFCRDEzRDU5IDI2RDkzMEFDIDUxREUwMDNBIEM4RDc1MTgwIEJGRDA2MTE2IDIxQjRGNEI1IDU2QjNDNDIzIENGQkE5NTk5IEI4QkRBNTBGIDI4MDJCODlFIDVGMDU4ODA4IEM2MENEOUIyIEIxMEJFOTI0IDJGNkY3Qzg3IDU4Njg0QzExIEMxNjExREFCIEI2NjYyRDNEIDc2REM0MTkwIDAxREI3MTA2IDk4RDIyMEJDIEVGRDUxMDJBIDcxQjE4NTg5IDA2QjZCNTFGIDlGQkZFNEE1IEU4QjhENDMzIDc4MDdDOUEyIDBGMDBGOTM0IDk2MDlBODhFIEUxMEU5ODE4IDdGNkEwREJCIDA4NkQzRDJEIDkxNjQ2Qzk3IEU2NjM1QzAxIDZCNkI1MUY0IDFDNkM2MTYyIDg1NjUzMEQ4IEYyNjIwMDRFIDZDMDY5NUVEIDFCMDFBNTdCIDgyMDhGNEMxIEY1MEZDNDU3IDY1QjBEOUM2IDEyQjdFOTUwIDhCQkVCOEVBIEZDQjk4ODdDIDYyREQxRERGIDE1REEyRDQ5IDhDRDM3Q0YzIEZCRDQ0QzY1IDREQjI2MTU4IDNBQjU1MUNFIEEzQkMwMDc0IEQ0QkIzMEUyIDRBREZBNTQxIDNERDg5NUQ3IEE0RDFDNDZEIEQzRDZGNEZCIDQzNjlFOTZBIDM0NkVEOUZDIEFENjc4ODQ2IERBNjBCOEQwIDQ0MDQyRDczIDMzMDMxREU1IEFBMEE0QzVGIEREMEQ3Q0M5IDUwMDU3MTNDIDI3MDI0MUFBIEJFMEIxMDEwIEM5MEMyMDg2IDU3NjhCNTI1IDIwNkY4NUIzIEI5NjZENDA5IENFNjFFNDlGIDVFREVGOTBFIDI5RDlDOTk4IEIwRDA5ODIyIEM3RDdBOEI0IDU5QjMzRDE3IDJFQjQwRDgxIEI3QkQ1QzNCIEMwQkE2Q0FEIEVEQjg4MzIwIDlBQkZCM0I2IDAzQjZFMjBDIDc0QjFEMjlBIEVBRDU0NzM5IDlERDI3N0FGIDA0REIyNjE1IDczREMxNjgzIEUzNjMwQjEyIDk0NjQzQjg0IDBENkQ2QTNFIDdBNkE1QUE4IEU0MEVDRjBCIDkzMDlGRjlEIDBBMDBBRTI3IDdEMDc5RUIxIEYwMEY5MzQ0IDg3MDhBM0QyIDFFMDFGMjY4IDY5MDZDMkZFIEY3NjI1NzVEIDgwNjU2N0NCIDE5NkMzNjcxIDZFNkIwNkU3IEZFRDQxQjc2IDg5RDMyQkUwIDEwREE3QTVBIDY3REQ0QUNDIEY5QjlERjZGIDhFQkVFRkY5IDE3QjdCRTQzIDYwQjA4RUQ1IEQ2RDZBM0U4IEExRDE5MzdFIDM4RDhDMkM0IDRGREZGMjUyIEQxQkI2N0YxIEE2QkM1NzY3IDNGQjUwNkREIDQ4QjIzNjRCIEQ4MEQyQkRBIEFGMEExQjRDIDM2MDM0QUY2IDQxMDQ3QTYwIERGNjBFRkMzIEE4NjdERjU1IDMxNkU4RUVGIDQ2NjlCRTc5IENCNjFCMzhDIEJDNjY4MzFBIDI1NkZEMkEwIDUyNjhFMjM2IENDMEM3Nzk1IEJCMEI0NzAzIDIyMDIxNkI5IDU1MDUyNjJGIEM1QkEzQkJFIEIyQkQwQjI4IDJCQjQ1QTkyIDVDQjM2QTA0IEMyRDdGRkE3IEI1RDBDRjMxIDJDRDk5RThCIDVCREVBRTFEIDlCNjRDMkIwIEVDNjNGMjI2IDc1NkFBMzlDIDAyNkQ5MzBBIDlDMDkwNkE5IEVCMEUzNjNGIDcyMDc2Nzg1IDA1MDA1NzEzIDk1QkY0QTgyIEUyQjg3QTE0IDdCQjEyQkFFIDBDQjYxQjM4IDkyRDI4RTlCIEU1RDVCRTBEIDdDRENFRkI3IDBCREJERjIxIDg2RDNEMkQ0IEYxRDRFMjQyIDY4RERCM0Y4IDFGREE4MzZFIDgxQkUxNkNEIEY2QjkyNjVCIDZGQjA3N0UxIDE4Qjc0Nzc3IDg4MDg1QUU2IEZGMEY2QTcwIDY2MDYzQkNBIDExMDEwQjVDIDhGNjU5RUZGIEY4NjJBRTY5IDYxNkJGRkQzIDE2NkNDRjQ1IEEwMEFFMjc4IEQ3MEREMkVFIDRFMDQ4MzU0IDM5MDNCM0MyIEE3NjcyNjYxIEQwNjAxNkY3IDQ5Njk0NzREIDNFNkU3N0RCIEFFRDE2QTRBIEQ5RDY1QURDIDQwREYwQjY2IDM3RDgzQkYwIEE5QkNBRTUzIERFQkI5RUM1IDQ3QjJDRjdGIDMwQjVGRkU5IEJEQkRGMjFDIENBQkFDMjhBIDUzQjM5MzMwIDI0QjRBM0E2IEJBRDAzNjA1IENERDcwNjkzIDU0REU1NzI5IDIzRDk2N0JGIEIzNjY3QTJFIEM0NjE0QUI4IDVENjgxQjAyIDJBNkYyQjk0IEI0MEJCRTM3IEMzMEM4RUExIDVBMDVERjFCIDJEMDJFRjhEJztcbiAgICAvKiB0c2xpbnQ6ZW5hYmxlICovXG5cbiAgICBsZXQgeCA9IDA7XG4gICAgbGV0IHkgPSAwO1xuXG4gICAgbGV0IG15Q3JjID0gY3JjIF4gKC0xKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICB5ID0gKGNyYyBeIGFuSW50KSAmIDB4RkY7XG4gICAgICAgIHggPSBOdW1iZXIoJzB4JyArIHRhYmxlLnN1YnN0cih5ICogOSwgOCkpO1xuICAgICAgICBjcmMgPSAoY3JjID4+PiA4KSBeIHg7XG4gICAgfVxuICAgIHJldHVybiBjcmMgXiAoLTEpO1xufVxuXG5cbi8vIENhbid0IGJlIGFsbCB1cHBlcmNhc2UgYXMgb3VyIHRyYW5zcGlsZXIgd291bGQgdGhpbmsgaXQgaXMgYSBzcGVjaWFsIGRpcmVjdGl2ZS4uLlxuZXhwb3J0IGNsYXNzIEpzb25cbntcbiAgICBzdGF0aWMgcGFyc2Uoczogc3RyaW5nKTogT2JqZWN0XG4gICAge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc3RyaW5naWZ5KGRhdGE6IE9iamVjdCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgLy8gRGFydCBkb2Vzbid0IHRha2UgMyBhcmd1bWVudHNcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERhdGVXcmFwcGVyXG57XG4gICAgc3RhdGljIGNyZWF0ZSh5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIgPSAxLCBkYXk6IG51bWJlciA9IDEsIGhvdXI6IG51bWJlciA9IDAsXG4gICAgICAgICAgICAgICAgICBtaW51dGVzOiBudW1iZXIgPSAwLFxuICAgICAgICAgICAgICAgICAgc2Vjb25kczogbnVtYmVyID0gMCwgbWlsbGlzZWNvbmRzOiBudW1iZXIgPSAwKTogRGF0ZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5LCBob3VyLCBtaW51dGVzLCBzZWNvbmRzLCBtaWxsaXNlY29uZHMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tSVNPU3RyaW5nKHN0cjogc3RyaW5nKTogRGF0ZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHN0cik7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21NaWxsaXMobXM6IG51bWJlcik6IERhdGVcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShtcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIHRvTWlsbGlzKGRhdGU6IERhdGUpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldFRpbWUoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbm93KCk6IERhdGVcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyB0b0pzb24oZGF0ZTogRGF0ZSk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGRhdGUudG9KU09OKCk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBCb29sZWFuV3JhcHBlclxue1xuXG4gICAgc3RhdGljIGJvbGVhblZhbHVlKHZhbHVlOiBhbnkgPSBmYWxzZSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiBpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gJ3RydWUnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBpc0ZhbHNlKHZhbHVlOiBhbnkpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgJiYgaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09ICdmYWxzZSc7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmdNYXAodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNCb29sZWFuKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSA9PT0gZmFsc2UpID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBpc1RydWUodmFsdWU6IGFueSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiBpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gJ3RydWUnO1xuICAgICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nTWFwKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiAodmFsdWUgPT09IHRydWUpID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cblxuLy8gV2hlbiBTeW1ib2wuaXRlcmF0b3IgZG9lc24ndCBleGlzdCwgcmV0cmlldmVzIHRoZSBrZXkgdXNlZCBpbiBlczYtc2hpbVxuZGVjbGFyZSBsZXQgU3ltYm9sOiBhbnk7XG5sZXQgX3N5bWJvbEl0ZXJhdG9yOiBhbnkgPSBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKTogc3RyaW5nIHwgc3ltYm9sXG57XG4gICAgaWYgKGlzQmxhbmsoX3N5bWJvbEl0ZXJhdG9yKSkge1xuICAgICAgICBpZiAoaXNQcmVzZW50KFN5bWJvbC5pdGVyYXRvcikpIHtcbiAgICAgICAgICAgIF9zeW1ib2xJdGVyYXRvciA9IFN5bWJvbC5pdGVyYXRvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzNi1zaGltIHNwZWNpZmljIGxvZ2ljXG4gICAgICAgICAgICBsZXQga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE1hcC5wcm90b3R5cGUpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ2VudHJpZXMnICYmIGtleSAhPT0gJ3NpemUnICYmXG4gICAgICAgICAgICAgICAgICAgIChNYXAgYXMgYW55KS5wcm90b3R5cGVba2V5XSA9PT0gTWFwLnByb3RvdHlwZVsnZW50cmllcyddKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgX3N5bWJvbEl0ZXJhdG9yID0ga2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3N5bWJvbEl0ZXJhdG9yO1xufVxuXG5jb25zdCBSZXNlcnZlZEtleXdvcmQgPSBbJ2NsYXNzJ107XG5cbmV4cG9ydCBmdW5jdGlvbiBldmFsRXhwcmVzc2lvbihleHByOiBzdHJpbmcsIGRlY2xhcmF0aW9uczogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldHM6IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiBhbnlcbntcbiAgICBsZXQgZm5Cb2R5ID0gYCR7ZGVjbGFyYXRpb25zfVxcblxcdHJldHVybiAke2V4cHJ9XFxuLy8jIHNvdXJjZVVSTD1BcmliYUV4cHJlc3Npb25gO1xuICAgIGxldCBmbkFyZ05hbWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBmbkFyZ1ZhbHVlczogYW55W10gPSBbXTtcbiAgICBmb3IgKGxldCBhcmdOYW1lIGluIGxldHMpIHtcbiAgICAgICAgaWYgKFN0cmluZ1dyYXBwZXIuY29udGFpbnMoZXhwciwgYXJnTmFtZSkpIHtcbiAgICAgICAgICAgIGZuQXJnTmFtZXMucHVzaChhcmdOYW1lKTtcbiAgICAgICAgICAgIGZuQXJnVmFsdWVzLnB1c2gobGV0c1thcmdOYW1lXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxldHMgaW5zdGFuY2VvZiBFeHRlbnNpYmxlKSB7XG4gICAgICAgIGxldCBleHRWYWx1ZXM6IEV4dGVuc2libGUgPSBsZXRzO1xuXG4gICAgICAgIGV4dFZhbHVlcy5leHRlbmRlZEZpZWxkcygpLmZvckVhY2goKHZhbHVlLCBrZXkpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChTdHJpbmdXcmFwcGVyLmNvbnRhaW5zKGV4cHIsIGtleSkgJiZcbiAgICAgICAgICAgICAgICBmbkFyZ05hbWVzLmluZGV4T2YoXG4gICAgICAgICAgICAgICAgICAgIGtleSkgPT09IC0xICYmIFJlc2VydmVkS2V5d29yZC5pbmRleE9mKFxuICAgICAgICAgICAgICAgICAgICBrZXkpID09PSAtMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmbkFyZ05hbWVzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICBmbkFyZ1ZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gZm5BcmdOYW1lcy5wdXNoKCd0aGlzJyk7XG4gICAgLy8gZm5BcmdWYWx1ZXMucHVzaChsZXRzKTtcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKC4uLmZuQXJnTmFtZXMuY29uY2F0KGZuQm9keSkpKC4uLmZuQXJnVmFsdWVzKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZXZhbEV4cHJlc3Npb25XaXRoQ250eChleHByOiBzdHJpbmcsIGRlY2xhcmF0aW9uczogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0czogeyBba2V5OiBzdHJpbmddOiBhbnkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNDb250ZXh0OiBhbnkpOiBhbnlcbntcbiAgICBsZXQgZm5Cb2R5ID0gYCR7ZGVjbGFyYXRpb25zfVxcblxcdHJldHVybiAke2V4cHJ9XFxuLy8jIHNvdXJjZVVSTD1BcmliYUV4cHJlc3Npb25gO1xuICAgIGxldCBmbkFyZ05hbWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBmbkFyZ1ZhbHVlczogYW55W10gPSBbXTtcbiAgICBmb3IgKGxldCBhcmdOYW1lIGluIGxldHMpIHtcbiAgICAgICAgaWYgKFN0cmluZ1dyYXBwZXIuY29udGFpbnMoZXhwciwgYXJnTmFtZSkpIHtcbiAgICAgICAgICAgIGZuQXJnTmFtZXMucHVzaChhcmdOYW1lKTtcbiAgICAgICAgICAgIGZuQXJnVmFsdWVzLnB1c2gobGV0c1thcmdOYW1lXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxldHMgaW5zdGFuY2VvZiBFeHRlbnNpYmxlKSB7XG4gICAgICAgIGxldCBleHRWYWx1ZXM6IEV4dGVuc2libGUgPSBsZXRzO1xuXG4gICAgICAgIGV4dFZhbHVlcy5leHRlbmRlZEZpZWxkcygpLmZvckVhY2goKHZhbHVlLCBrZXkpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChTdHJpbmdXcmFwcGVyLmNvbnRhaW5zKGV4cHIsIGtleSkgJiZcbiAgICAgICAgICAgICAgICBmbkFyZ05hbWVzLmluZGV4T2YoXG4gICAgICAgICAgICAgICAgICAgIGtleSkgPT09IC0xICYmIFJlc2VydmVkS2V5d29yZC5pbmRleE9mKFxuICAgICAgICAgICAgICAgICAgICBrZXkpID09PSAtMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmbkFyZ05hbWVzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICBmbkFyZ1ZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gZm5BcmdOYW1lcy5wdXNoKCd0aGlzJyk7XG4gICAgLy8gZm5BcmdWYWx1ZXMucHVzaChsZXRzKTtcbiAgICBsZXQgZm4gPSBuZXcgRnVuY3Rpb24oLi4uZm5BcmdOYW1lcy5jb25jYXQoZm5Cb2R5KSk7XG4gICAgYXNzZXJ0KGlzUHJlc2VudChmbiksICdDYW5ub3QgZXZhbHVhdGUgZXhwcmVzc2lvbi4gRk4gaXMgbm90IGRlZmluZWQnKTtcbiAgICBsZXQgZm5Cb3VuZCA9IGZuLmJpbmQodGhpc0NvbnRleHQpO1xuXG4gICAgcmV0dXJuIGZuQm91bmQoLi4uZm5BcmdWYWx1ZXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcmltaXRpdmUob2JqOiBhbnkpOiBib29sZWFuXG57XG4gICAgcmV0dXJuICFpc0pzT2JqZWN0KG9iaik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNDb25zdHJ1Y3Rvcih2YWx1ZTogT2JqZWN0LCB0eXBlOiBhbnkpOiBib29sZWFuXG57XG4gICAgcmV0dXJuIHZhbHVlLmNvbnN0cnVjdG9yID09PSB0eXBlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlKHM6IHN0cmluZyk6IHN0cmluZ1xue1xuICAgIHJldHVybiBlbmNvZGVVUkkocyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoczogc3RyaW5nKTogc3RyaW5nXG57XG4gICAgcmV0dXJuIHMucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXF1cXC9cXFxcXSkvZywgJ1xcXFwkMScpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNoQ29kZShzdHI6IHN0cmluZyk6IG51bWJlclxue1xuICAgIGxldCBoYXNoID0gMDtcbiAgICBsZXQgY2hhcjogbnVtYmVyO1xuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjaGFyID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNoYXI7XG4gICAgICAgIGhhc2ggPSBoYXNoICYgaGFzaDtcbiAgICB9XG4gICAgcmV0dXJuIGhhc2g7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3RWYWx1ZXMob2JqOiBhbnkpOiBhbnlbXVxue1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChrZXkgPT4gb2JqW2tleV0pO1xufVxuXG4vKipcbiAqXG4gKiBDb252ZXJ0cyBvYmplY3QgdG8gYSBuYW1lO1xuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdFRvTmFtZSh0YXJnZXQ6IGFueSk6IHN0cmluZ1xue1xuICAgIGlmIChpc0JsYW5rKHRhcmdldCkgfHwgKCFpc1N0cmluZ01hcCh0YXJnZXQpICYmICFpc1R5cGUodGFyZ2V0KSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCcgQ2Fubm90IGNvbnZlcnQuIFVrbm93biBvYmplY3QnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNUeXBlKHRhcmdldCkgPyB0YXJnZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yLm5hbWUgOiB0YXJnZXQuY29uc3RydWN0b3IubmFtZTtcbn1cblxuLyoqXG4gKlxuICogQmFzaWMgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgVVVJRCB0YWtlbiBmcm9tIFczQyBmcm9tIG9uZSBvZiB0aGUgZXhhbXBsZXNcbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1dWlkKCk6IHN0cmluZ1xue1xuICAgIGxldCBkdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGxldCBwcm90byA9ICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZyxcbiAgICAgICAgKGM6IHN0cmluZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHIgPSAoZHQgKyBNYXRoLnJhbmRvbSgpICogMTYpICUgMTYgfCAwO1xuICAgICAgICAgICAgZHQgPSBNYXRoLmZsb29yKGR0IC8gMTYpO1xuICAgICAgICAgICAgcmV0dXJuIChjID09PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpKS50b1N0cmluZygxNik7XG4gICAgICAgIH0pO1xuICAgIHJldHVybiBwcm90bztcbn1cblxuLyoqXG4gKiBDaGVjayBvYmplY3QgZXF1YWxpdHkgZGVyaXZlZCBmcm9tIGFuZ3VsYXIuZXF1YWxzIDEuNSBpbXBsZW1lbnRhdGlvblxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhvMTogYW55LCBvMjogYW55KTogYm9vbGVhblxue1xuICAgIGlmIChvMSA9PT0gbzIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChvMSA9PT0gbnVsbCB8fCBvMiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICBpZiAobzEgIT09IG8xICYmIG8yICE9PSBvMikge1xuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gTmFOID09PSBOYU5cbiAgICB9XG5cbiAgICBsZXQgdDEgPSB0eXBlb2YgbzEsIHQyID0gdHlwZW9mIG8yLCBsZW5ndGg6IGFueSwga2V5OiBhbnksIGtleVNldDogYW55O1xuICAgIGlmICh0MSA9PT0gdDIgJiYgdDEgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChpc0FycmF5KG8xKSkge1xuICAgICAgICAgICAgaWYgKCFpc0FycmF5KG8yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgobGVuZ3RoID0gbzEubGVuZ3RoKSA9PT0gbzIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZm9yIChrZXkgPSAwOyBrZXkgPCBsZW5ndGg7IGtleSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXF1YWxzKG8xW2tleV0sIG8yW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKG8xKSkge1xuICAgICAgICAgICAgaWYgKCFpc0RhdGUobzIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVxdWFscyhvMS5nZXRUaW1lKCksIG8yLmdldFRpbWUoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNSZWdFeHAobzEpKSB7XG4gICAgICAgICAgICBpZiAoIWlzUmVnRXhwKG8yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvMS50b1N0cmluZygpID09PSBvMi50b1N0cmluZygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzV2luZG93KG8xKSB8fCBpc1dpbmRvdyhvMikgfHxcbiAgICAgICAgICAgICAgICBpc0FycmF5KG8yKSB8fCBpc0RhdGUobzIpIHx8IGlzUmVnRXhwKG8yKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZXlTZXQgPSBuZXcgTWFwPHN0cmluZywgYm9vbGVhbj4oKTtcbiAgICAgICAgICAgIC8vIHVzaW5nIE9iamVjdC5rZXlzIGFzIGl0ZXJhdGluZyB0aHJ1IG9iamVjdCBzdG9wIHdvcmtpbmcgaW4gTkc2LCBUUzIuN1xuICAgICAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhvMik7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiBrZXlzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleXNba2V5XS5jaGFyQXQoMCkgPT09ICckJyB8fCBpc0Z1bmN0aW9uKG8xW2tleXNba2V5XV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXlzW2tleV1dLCBvMltrZXlzW2tleV1dKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGtleVNldC5zZXQoa2V5c1trZXldLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKG8yKTtcbiAgICAgICAgICAgIGZvciAoa2V5IG9mIGtleXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXlTZXQuaGFzKGtleSkpICYmIGtleS5jaGFyQXQoMCkgIT09ICckJ1xuICAgICAgICAgICAgICAgICAgICAmJiBpc1ByZXNlbnQobzJba2V5XSkgJiYgIWlzRnVuY3Rpb24obzJba2V5XSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogdHJhbnNmb3JtIGEgc3RyaW5nIGludG8gZGVjYW1lbC4gZm9ybS4gTW9zdGx5IHVzZWQgd2hlbiByZWFkaW5nIGNsYXNzIG5hbWVzIG9yIGZpZWxkIG5hbWVzXG4gKiBzdWNoIGZpcnN0TmFtZSBhbmQgd2Ugd2FudCB0byBjcmVhdGUgYSBsYWJlbCBGaXJzdCBOYW1lXG4gKlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY2FtZWxpemUoc3RyaW5nOiBzdHJpbmcsIHNlcGFyYXRvcjogc3RyaW5nID0gJyAnLCBpbml0aWFsQ2FwczogYm9vbGVhbiA9IHRydWUpXG57XG4gICAgaWYgKGlzQmxhbmsoc3RyaW5nKSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgbGV0IGxhc3RVQ0luZGV4ID0gLTE7XG4gICAgbGV0IGFsbENhcHMgPSB0cnVlO1xuXG4gICAgbGV0IHNwbGl0T25VQyA9ICFTdHJpbmdXcmFwcGVyLmNvbnRhaW5zKHN0cmluZywgJ18nKTtcbiAgICBsZXQgYnVmID0gJyc7XG4gICAgbGV0IGluV29yZCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gc3RyaW5nLmxlbmd0aDsgaW5Xb3JkIDwgaTsgKytpbldvcmQpIHtcbiAgICAgICAgbGV0IGMgPSBzdHJpbmdbaW5Xb3JkXTtcblxuICAgICAgICBpZiAoYy50b1VwcGVyQ2FzZSgpID09PSBjKSB7XG4gICAgICAgICAgICBpZiAoKGluV29yZCAtIDEpICE9PSBsYXN0VUNJbmRleCAmJiBzcGxpdE9uVUMpIHtcbiAgICAgICAgICAgICAgICBidWYgKz0gc2VwYXJhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdFVDSW5kZXggPSBpbldvcmQ7XG4gICAgICAgICAgICBpZiAoIWluaXRpYWxDYXBzKSB7XG4gICAgICAgICAgICAgICAgYyA9IGMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjLnRvTG93ZXJDYXNlKCkgPT09IGMpIHtcbiAgICAgICAgICAgIGlmIChpbldvcmQgPT09IDAgJiYgaW5pdGlhbENhcHMpIHtcbiAgICAgICAgICAgICAgICBjID0gYy50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWxsQ2FwcyA9IGZhbHNlO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoYyAhPT0gJ18nKSB7XG4gICAgICAgICAgICBjID0gc2VwYXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZiArPSBjO1xuICAgIH1cblxuICAgIGlmIChhbGxDYXBzKSB7XG4gICAgICAgIGxldCB0b0NhcHMgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGMgPSBidWYubGVuZ3RoOyBpIDwgYzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2ggPSBidWZbaV07XG5cbiAgICAgICAgICAgIGlmIChjaC50b0xvd2VyQ2FzZSgpICE9PSBjaC50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluV29yZCAmJiBjaCA9PT0gY2gudG9VcHBlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICBidWYgPSBidWYuc3Vic3RyKDAsIGkpICsgY2gudG9Mb3dlckNhc2UoKSArIGJ1Zi5zdWJzdHIoaSArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b0NhcHMgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b0NhcHMgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYnVmO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBub25Qcml2YXRlUHJlZml4KGlucHV0OiBzdHJpbmcpOiBzdHJpbmdcbntcbiAgICByZXR1cm4gaW5wdXRbMF0gPT09ICdfJyA/IFN0cmluZ1dyYXBwZXIuc3RyaXBMZWZ0KGlucHV0LCAnXycpIDogaW5wdXQ7XG59XG5cblxuLyoqXG4gKlxuICogVGhpcyBjb25zaWRlcnMgY3VycmVudGx5IG9ubHkgMSBmb3JtIHdoaWNoIHdoZW4gd2UgaGF2ZSBnZXR0ZXIgd2UgaGF2ZSB0aGlzIGZvcm0gZm9yXG4gKiBkZWNsYXJhdGlvbiBfPG5hbWU+IGFuZCBnZXQgPG5hbWU+KCkuIEkgZG8gbm90IGNoZWNrIGFueSBvdGhlciBmb3JtcyBub3cuXG4gKlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0dldHRlcihpbnN0YW5jZTogYW55LCBmaWVsZDogc3RyaW5nKTogYm9vbGVhblxue1xuICAgIGlmIChpc0JsYW5rKGZpZWxkKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIChmaWVsZFswXSA9PT0gJ18nICYmIGlzUHJlc2VudChub25Qcml2YXRlUHJlZml4KGZpZWxkKSkpO1xuXG59XG5cbi8qKlxuICogVGhlIEV4dGVuc2libGUgaW50ZXJmYWNlIGNhbiBiZSBpbXBsZW1lbnRlZCB3aGVuIGEgZ2l2ZW4gY2xhc3NcbiAqIHdhbnRzIHRvIHByb3ZpZGUgZHluYW1pY2FsbHkgYWRkZWQgZmllbGRzLiAgT25jZSB0aGlzIGlzIGltcGxlbWVudGVkXG4gKiB0byByZXR1cm4gYSBNYXAsIHRoZSBGaWVsZFZhbHVlIHN5c3RlbSB3aWxsIGJlIGFibGUgdG8gbG9vayBpblxuICogdGhlIE1hcCB0byBzZWUgaWYgdGhlIGRlc2lyZWQgZmllbGQgZXhpc3RzLlxuICpcbiAqXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFeHRlbnNpYmxlXG57XG5cbiAgICAvKipcbiAgICAgKiAgUmV0dXJucyB0aGUgTWFwIGluIHdoaWNoIHRoZSBkeW5hbWljYWxseSBhZGRlZCBmaWVsZHMgcmVzaWRlLlxuICAgICAqXG4gICAgICovXG4gICAgZXh0ZW5kZWRGaWVsZHMoKTogTWFwPHN0cmluZywgYW55PlxuICAgIHtcbiAgICAgICAgcmV0dXJuIHVuaW1wbGVtZW50ZWQoKTtcbiAgICB9XG59XG5cbiIsIi8qKlxuICpcbiAqIEBvcmlnaW5hbC1saWNlbnNlXG4gKlxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqXG4gKlxuICpcbiAqICBDcmVkaXQ6IERlcml2ZWQgYW5kIGV4dGVuZGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhciBpbiBvcmRlciB0byBoYXZlIHNldCBvZlxuICogIHJldXNhYmxlIGdsb2JhbHMuIFNpbmNlIGl0cyBub3QgZXhwb3J0ZWQgQVBJIG5lZWQgdG8gaGF2ZSBhIGNvcHkgdW5kZXIgY29yZS5cbiAqL1xuaW1wb3J0ICogYXMgQ29sbGVjdGlvbnMgZnJvbSAndHlwZXNjcmlwdC1jb2xsZWN0aW9ucyc7XG5pbXBvcnQge1xuICAgIGNsYXNzTmFtZSxcbiAgICBlcXVhbHMsXG4gICAgZ2V0U3ltYm9sSXRlcmF0b3IsXG4gICAgaXNBcnJheSxcbiAgICBpc0JsYW5rLFxuICAgIGlzSnNPYmplY3QsXG4gICAgaXNQcmVzZW50LFxuICAgIGlzU3RyaW5nLFxuICAgIFN0cmluZ0pvaW5lclxufSBmcm9tICcuL2xhbmcnO1xuXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNYXBGcm9tTWFwOiB7IChtOiBNYXA8YW55LCBhbnk+KTogTWFwPGFueSwgYW55PiB9ID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAobmV3IE1hcCg8YW55Pm5ldyBNYXAoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVNYXBGcm9tTWFwSW5uZXIobTogTWFwPGFueSwgYW55Pik6IE1hcDxhbnksIGFueT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTWFwKDxhbnk+bSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlTWFwQW5kUG9wdWxhdGVGcm9tTWFwKG06IE1hcDxhbnksIGFueT4pOiBNYXA8YW55LCBhbnk+IHtcbiAgICAgICAgbGV0IG1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgbS5mb3JFYWNoKCh2LCBrKSA9PiB7XG4gICAgICAgICAgICBtYXAuc2V0KGssIHYpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9O1xufSkoKTtcbmV4cG9ydCBjb25zdCBfY2xlYXJWYWx1ZXM6IHsgKG06IE1hcDxhbnksIGFueT4pOiB2b2lkIH0gPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICgoPGFueT4obmV3IE1hcCgpKS5rZXlzKCkpLm5leHQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9jbGVhclZhbHVlc0lubmVyKG06IE1hcDxhbnksIGFueT4pIHtcbiAgICAgICAgICAgIGxldCBrZXlJdGVyYXRvciA9IG0ua2V5cygpO1xuICAgICAgICAgICAgbGV0IGs6IGFueSAvKiogVE9ETyAjPz8/PyAqLztcbiAgICAgICAgICAgIHdoaWxlICghKChrID0gKDxhbnk+a2V5SXRlcmF0b3IpLm5leHQoKSkuZG9uZSkpIHtcbiAgICAgICAgICAgICAgICBtLnNldChrLnZhbHVlLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX2NsZWFyVmFsdWVzV2l0aEZvcmVFYWNoKG06IE1hcDxhbnksIGFueT4pIHtcbiAgICAgICAgICAgIG0uZm9yRWFjaCgodiwgaykgPT4ge1xuICAgICAgICAgICAgICAgIG0uc2V0KGssIG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcblxuZXhwb3J0IGNsYXNzIE1hcFdyYXBwZXIge1xuXG4gICAgc3RhdGljIGNyZWF0ZUVtcHR5PEssIFY+KCk6IE1hcDxLLCBWPiB7XG4gICAgICAgIHJldHVybiBuZXcgTWFwPEssIFY+KCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNsb25lPEssIFY+KG06IE1hcDxLLCBWPik6IE1hcDxLLCBWPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAobmV3IE1hcCg8YW55Pm5ldyBNYXAoKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE1hcDxLLCBWPig8YW55PiBtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgICAgIGxldCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIG0uZm9yRWFjaCgodiwgaykgPT4ge1xuICAgICAgICAgICAgbWFwLnNldChrLCB2KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZUZyb21TdHJpbmdNYXA8VD4oc3RyaW5nTWFwOiB7IFtrZXk6IHN0cmluZ106IFQgfSk6IE1hcDxzdHJpbmcsIFQ+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBNYXA8c3RyaW5nLCBUPigpO1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gc3RyaW5nTWFwKSB7XG4gICAgICAgICAgICByZXN1bHQuc2V0KGtleSwgc3RyaW5nTWFwW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgY3JlYXRlRnJvbUFueU1hcDxUPihzdHJpbmdNYXA6IHsgW2tleTogc3RyaW5nXTogVCB9KTogTWFwPGFueSwgVD4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IE1hcDxhbnksIFQ+KCk7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBzdHJpbmdNYXApIHtcbiAgICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBzdHJpbmdNYXBba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBjcmVhdGVGcm9tU3RyaW5nTWFwV2l0aFJlc29sdmU8VD4oc3RyaW5nTWFwOiB7IFtrZXk6IHN0cmluZ106IFQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IChrZXk6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYW55KSA9PiBhbnkpOiBNYXA8c3RyaW5nLCBUPiB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgTWFwPHN0cmluZywgVD4oKTtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHN0cmluZ01hcCkge1xuICAgICAgICAgICAgbGV0IHVwZGF0ZWRWYWx1ZSA9IHJlc29sdmUoa2V5LCBzdHJpbmdNYXBba2V5XSk7XG4gICAgICAgICAgICByZXN1bHQuc2V0KGtleSwgdXBkYXRlZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHN0YXRpYyB0b1N0cmluZ01hcDxUPihtOiBNYXA8c3RyaW5nLCBUPik6IHsgW2tleTogc3RyaW5nXTogVCB9IHtcbiAgICAgICAgbGV0IHI6IHsgW2tleTogc3RyaW5nXTogVCB9ID0ge307XG4gICAgICAgIG0uZm9yRWFjaCgodiwgaykgPT4gcltrXSA9IHYpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG5cbiAgICBzdGF0aWMgdG9BbnlNYXA8VD4obTogTWFwPGFueSwgVD4pOiBhbnkge1xuICAgICAgICBsZXQgciA9IHt9O1xuXG4gICAgICAgIGlmIChpc1ByZXNlbnQobSkpIHtcbiAgICAgICAgICAgIG0uZm9yRWFjaCgodiwgaykgPT4gKDxhbnk+cilba10gPSB2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG5cblxuICAgIHN0YXRpYyB0b1N0cmluZyhtOiBNYXA8c3RyaW5nLCBhbnk+LCBpbm5lcjogYm9vbGVhbiA9IGZhbHNlKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHNqID0gbmV3IFN0cmluZ0pvaW5lcihbJyddKTtcbiAgICAgICAgaWYgKCFpbm5lcikge1xuICAgICAgICAgICAgc2ouYWRkKCd7Jyk7XG4gICAgICAgIH1cbiAgICAgICAgbS5mb3JFYWNoKCh2LCBrKSA9PiB7XG5cbiAgICAgICAgICAgIGlmICh2IGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgc2ouYWRkKE1hcFdyYXBwZXIudG9TdHJpbmcodiwgdHJ1ZSkpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNqLmFkZChrKTtcbiAgICAgICAgICAgICAgICBzai5hZGQoJz0nKTtcbiAgICAgICAgICAgICAgICBzai5hZGQodik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzai5hZGQoJywgJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghaW5uZXIpIHtcbiAgICAgICAgICAgIHNqLmFkZCgnfSAnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2oudG9TdHJpbmcoKTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBjbGVhclZhbHVlcyhtOiBNYXA8YW55LCBhbnk+KSB7XG4gICAgICAgIF9jbGVhclZhbHVlcyhtKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXRlcmFibGU8VD4obTogVCk6IFQge1xuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBtZXJnZU1hcEludG9NYXBXaXRoT2JqZWN0KGRlc3Q6IE1hcDxzdHJpbmcsIGFueT4sIHNvdXJjZTogTWFwPHN0cmluZywgYW55PixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyd3JpdGVNaXNtYXRjaGVkOiBib29sZWFuKTogTWFwPHN0cmluZywgYW55PiB7XG5cbiAgICAgICAgbGV0IGtleXMgPSBBcnJheS5mcm9tKHNvdXJjZS5rZXlzKCkpO1xuXG4gICAgICAgIGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgICBsZXQgc291cmNlVmFsdWUgPSBzb3VyY2UuZ2V0KGtleSk7XG4gICAgICAgICAgICBsZXQgZGVzdFZhbHVlID0gZGVzdC5nZXQoa2V5KTtcblxuICAgICAgICAgICAgaWYgKGlzQmxhbmsoZGVzdFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGRlc3Quc2V0KGtleSwgTGlzdFdyYXBwZXIuY29weVZhbHVlKHNvdXJjZVZhbHVlKSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRlc3RWYWx1ZSBpbnN0YW5jZW9mIE1hcCAmJiBzb3VyY2VWYWx1ZSBpbnN0YW5jZW9mIE1hcCkge1xuXG4gICAgICAgICAgICAgICAgZGVzdC5zZXQoa2V5LFxuICAgICAgICAgICAgICAgICAgICBNYXBXcmFwcGVyLm1lcmdlTWFwSW50b01hcFdpdGhPYmplY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXBXcmFwcGVyLmNsb25lPHN0cmluZywgYW55PihkZXN0VmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlVmFsdWUsIG92ZXJ3cml0ZU1pc21hdGNoZWQpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVzdFZhbHVlIGluc3RhbmNlb2YgTWFwICYmIGlzQXJyYXkoc291cmNlVmFsdWUpKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoTGlzdFdyYXBwZXIuYWxsRWxlbWVudHNBcmVTdHJpbmdzKHNvdXJjZVZhbHVlKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGRlc3Quc2V0KGtleSwgTWFwV3JhcHBlci5tZXJnZU1hcEludG9NYXBXaXRoT2JqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgTWFwV3JhcHBlci5jbG9uZTxzdHJpbmcsIGFueT4oZGVzdFZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hcFdyYXBwZXIuY29udmVydExpc3RUb01hcChzb3VyY2VWYWx1ZSksIG92ZXJ3cml0ZU1pc21hdGNoZWQpXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc291cmNlVmVjdDogc3RyaW5nW10gPSBMaXN0V3JhcHBlci5jbG9uZTxhbnk+KHNvdXJjZVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgTGlzdFdyYXBwZXIuYWRkRWxlbWVudElmQWJzZW50PGFueT4oc291cmNlVmVjdCwgZGVzdFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzdC5zZXQoa2V5LCBzb3VyY2VWZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZGVzdFZhbHVlKSAmJiBzb3VyY2VWYWx1ZSBpbnN0YW5jZW9mIE1hcCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKExpc3RXcmFwcGVyLmFsbEVsZW1lbnRzQXJlU3RyaW5ncyhkZXN0VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3Quc2V0KGtleSwgTWFwV3JhcHBlci5tZXJnZU1hcEludG9NYXBXaXRoT2JqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgTWFwV3JhcHBlci5jb252ZXJ0TGlzdFRvTWFwKGRlc3RWYWx1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJ3cml0ZU1pc21hdGNoZWQpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9kbzogY2FuIHdlIHJlYWxseSBtYXRjaCB0aGlzIHZhbHVlcyB3aXRoIGluZGV4T2ZcbiAgICAgICAgICAgICAgICAgICAgTGlzdFdyYXBwZXIuYWRkRWxlbWVudElmQWJzZW50PE1hcDxzdHJpbmcsIGFueT4+KGRlc3RWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hcFdyYXBwZXIuY2xvbmU8c3RyaW5nLCBhbnk+KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVZhbHVlKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVzdFZhbHVlIGluc3RhbmNlb2YgTWFwICYmIGlzU3RyaW5nKHNvdXJjZVZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGxldCBkZXN0VmFsdWVNYXAgPSBNYXBXcmFwcGVyLmNsb25lKGRlc3RWYWx1ZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNCbGFuayhkZXN0VmFsdWVNYXAuZ2V0KHNvdXJjZVZhbHVlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdFZhbHVlLnNldChzb3VyY2VWYWx1ZSwgTWFwV3JhcHBlci5jcmVhdGVFbXB0eSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGRlc3RWYWx1ZSkgJiYgc291cmNlVmFsdWUgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICBsZXQgc291cmNlSGFzaCA9IE1hcFdyYXBwZXIuY2xvbmUoc291cmNlVmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChpc0JsYW5rKHNvdXJjZUhhc2guZ2V0KGRlc3RWYWx1ZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUhhc2guc2V0KGRlc3RWYWx1ZSwgTWFwV3JhcHBlci5jcmVhdGVFbXB0eSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVzdC5zZXQoa2V5LCBzb3VyY2VIYXNoKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRlc3RWYWx1ZSkgJiYgaXNBcnJheShzb3VyY2VWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBkZXN0LnNldChrZXksIHNvdXJjZVZhbHVlKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRlc3RWYWx1ZSkgJiYgaXNTdHJpbmcoc291cmNlVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgTGlzdFdyYXBwZXIuYWRkRWxlbWVudElmQWJzZW50KGRlc3RWYWx1ZSwgc291cmNlVmFsdWUpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGRlc3RWYWx1ZSkgJiYgaXNBcnJheShzb3VyY2VWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgc291cmNlVmVjdDogc3RyaW5nW10gPSBMaXN0V3JhcHBlci5jbG9uZTxzdHJpbmc+KHNvdXJjZVZhbHVlKTtcblxuICAgICAgICAgICAgICAgIExpc3RXcmFwcGVyLmFkZEVsZW1lbnRJZkFic2VudChzb3VyY2VWZWN0LCBkZXN0VmFsdWUpO1xuICAgICAgICAgICAgICAgIGRlc3Quc2V0KGtleSwgc291cmNlVmVjdCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoZGVzdFZhbHVlKSAmJiBpc1N0cmluZyhzb3VyY2VWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBkZXN0LnNldChrZXksIHNvdXJjZVZhbHVlKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChvdmVyd3JpdGVNaXNtYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgZGVzdC5zZXQoa2V5LCBzb3VyY2VWYWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBkZXN0Q2xhc3MgPSBjbGFzc05hbWUoZGVzdFZhbHVlKTtcbiAgICAgICAgICAgICAgICBsZXQgc291cmNlQ2xhc3MgPSBjbGFzc05hbWUoc291cmNlVmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRlc3RDbGFzcyA9PT0gc291cmNlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdC5zZXQoa2V5LCBzb3VyY2VWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXN0O1xuICAgIH1cblxuICAgIHN0YXRpYyBjb252ZXJ0TGlzdFRvTWFwKGtleXM6IHN0cmluZ1tdKTogTWFwPHN0cmluZywgYW55PiB7XG4gICAgICAgIGxldCBtYXAgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG1hcC5zZXQoa2V5c1tpXSwgTWFwV3JhcHBlci5jcmVhdGVFbXB0eTxzdHJpbmcsIGFueT4oKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ3JvdXBCeTxLPihpdGVtczogYW55LCBncm91cEJ5S2V5OiAoaXRlbTogSykgPT4gc3RyaW5nKTogTWFwPHN0cmluZywgYW55PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSBpdGVtcy5yZWR1Y2UoKGdyb3VwUmVzdWx0OiBhbnksIGN1cnJlbnRWYWx1ZTogYW55KSA9PiB7XG5cbiAgICAgICAgICAgIGxldCBnS2V5ID0gZ3JvdXBCeUtleShjdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgKGdyb3VwUmVzdWx0W2dLZXldID0gZ3JvdXBSZXN1bHRbZ0tleV0gfHwgW10pLnB1c2goY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBncm91cFJlc3VsdDtcbiAgICAgICAgfSwge30pO1xuXG5cbiAgICAgICAgbGV0IGdyb3VwZWQ6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICAgICAgICBPYmplY3Qua2V5cyhyZXN1bHQpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgZ3JvdXBlZC5zZXQoa2V5LCByZXN1bHRba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZ3JvdXBlZDtcbiAgICB9XG59XG5cbi8qKlxuICogV3JhcHMgSmF2YXNjcmlwdCBPYmplY3RzXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHJpbmdNYXBXcmFwcGVyIHtcbiAgICBzdGF0aWMgY3JlYXRlKCk6IHsgW2s6IC8qYW55Ki8gc3RyaW5nXTogYW55IH0ge1xuICAgICAgICAvLyBOb3RlOiBXZSBhcmUgbm90IHVzaW5nIE9iamVjdC5jcmVhdGUobnVsbCkgaGVyZSBkdWUgdG9cbiAgICAgICAgLy8gcGVyZm9ybWFuY2UhXG4gICAgICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL25nMi1vYmplY3QtY3JlYXRlLW51bGxcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIHN0YXRpYyBjb250YWlucyhtYXA6IHsgW2tleTogc3RyaW5nXTogYW55IH0sIGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBtYXAuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0PFY+KG1hcDogeyBba2V5OiBzdHJpbmddOiBWIH0sIGtleTogc3RyaW5nKTogViB7XG4gICAgICAgIHJldHVybiBtYXAuaGFzT3duUHJvcGVydHkoa2V5KSA/IG1hcFtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQ8Vj4obWFwOiB7IFtrZXk6IHN0cmluZ106IFYgfSwga2V5OiBzdHJpbmcsIHZhbHVlOiBWKSB7XG4gICAgICAgIG1hcFtrZXldID0gdmFsdWU7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgaXNFbXB0eShtYXA6IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiBib29sZWFuIHtcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBtYXApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVsZXRlKG1hcDogeyBba2V5OiBzdHJpbmddOiBhbnkgfSwga2V5OiBzdHJpbmcpIHtcbiAgICAgICAgZGVsZXRlIG1hcFtrZXldO1xuICAgIH1cblxuICAgIHN0YXRpYyBmb3JFYWNoPEssIFY+KG1hcDogeyBba2V5OiBzdHJpbmddOiBWIH0sIGNhbGxiYWNrOiAodjogViwgSzogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgICAgIGZvciAobGV0IGsgb2YgT2JqZWN0LmtleXMobWFwKSkge1xuICAgICAgICAgICAgY2FsbGJhY2sobWFwW2tdLCBrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBtZXJnZTxWPihtMTogeyBba2V5OiBzdHJpbmddOiBWIH0sIG0yOiB7IFtrZXk6IHN0cmluZ106IFYgfSk6IHsgW2tleTogc3RyaW5nXTogViB9IHtcbiAgICAgICAgbGV0IG06IHsgW2tleTogc3RyaW5nXTogViB9ID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgayBvZiBPYmplY3Qua2V5cyhtMSkpIHtcbiAgICAgICAgICAgIG1ba10gPSBtMVtrXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGsgb2YgT2JqZWN0LmtleXMobTIpKSB7XG4gICAgICAgICAgICBtW2tdID0gbTJba107XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZXF1YWxzPFY+KG0xOiB7IFtrZXk6IHN0cmluZ106IFYgfSwgbTI6IHsgW2tleTogc3RyaW5nXTogViB9KTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBrMSA9IE9iamVjdC5rZXlzKG0xKTtcbiAgICAgICAgbGV0IGsyID0gT2JqZWN0LmtleXMobTIpO1xuICAgICAgICBpZiAoazEubGVuZ3RoICE9PSBrMi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQga2V5OiBhbnkgLyoqIFRPRE8gIz8/Pz8gKi87XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgazEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGtleSA9IGsxW2ldO1xuICAgICAgICAgICAgaWYgKG0xW2tleV0gIT09IG0yW2tleV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG59XG5cbi8qKlxuICogQSBib29sZWFuLXZhbHVlZCBmdW5jdGlvbiBvdmVyIGEgdmFsdWUsIHBvc3NpYmx5IGluY2x1ZGluZyBjb250ZXh0IGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgdGhhdCB2YWx1ZSdzIHBvc2l0aW9uIGluIGFuIGFycmF5LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByZWRpY2F0ZTxUPiB7XG4gICAgKHZhbHVlOiBULCBpbmRleD86IG51bWJlciwgYXJyYXk/OiBUW10pOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgTGlzdFdyYXBwZXIge1xuICAgIC8vIEpTIGhhcyBubyB3YXkgdG8gZXhwcmVzcyBhIHN0YXRpY2FsbHkgZml4ZWQgc2l6ZSBsaXN0LCBidXQgZGFydCBkb2VzIHNvIHdlXG4gICAgLy8ga2VlcCBib3RoIG1ldGhvZHMuXG4gICAgc3RhdGljIGNyZWF0ZUZpeGVkU2l6ZShzaXplOiBudW1iZXIpOiBhbnlbXSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXkoc2l6ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZUdyb3dhYmxlU2l6ZShzaXplOiBudW1iZXIpOiBhbnlbXSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXkoc2l6ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNsb25lPFQ+KGFycmF5OiBUW10pOiBUW10ge1xuICAgICAgICByZXR1cm4gYXJyYXkuc2xpY2UoMCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZvckVhY2hXaXRoSW5kZXg8VD4oYXJyYXk6IFRbXSwgZm46ICh0OiBULCBuOiBudW1iZXIpID0+IHZvaWQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm4oYXJyYXlbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGZpcnN0PFQ+KGFycmF5OiBUW10pOiBUIHtcbiAgICAgICAgaWYgKCFhcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgbGFzdDxUPihhcnJheTogVFtdKTogVCB7XG4gICAgICAgIGlmICghYXJyYXkgfHwgYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgfVxuXG4gICAgc3RhdGljIGluZGV4T2Y8VD4oYXJyYXk6IFRbXSwgdmFsdWU6IFQsIHN0YXJ0SW5kZXg6IG51bWJlciA9IDApOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gYXJyYXkuaW5kZXhPZih2YWx1ZSwgc3RhcnRJbmRleCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNvbnRhaW5zPFQ+KGxpc3Q6IFRbXSwgZWw6IFQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGxpc3QuaW5kZXhPZihlbCkgIT09IC0xO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGNvbnRhaW5zQWxsPFQ+KGxpc3Q6IFRbXSwgZWxzOiBUW10pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGVscy5tYXAoZnVuY3Rpb24gKG5lZWRsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGxpc3QuaW5kZXhPZihuZWVkbGUpO1xuICAgICAgICB9KS5pbmRleE9mKC0xKSA9PT0gLTE7XG4gICAgfVxuXG4gICAgc3RhdGljIGNvbnRhaW5zQ29tcGxleChsaXN0OiBBcnJheTxhbnk+LCBpdGVtOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGxpc3QuZmluZEluZGV4KGVsID0+IHtcbiAgICAgICAgICAgIHJldHVybiBlcXVhbHMoZWwsIGl0ZW0pO1xuICAgICAgICB9KSA+IC0xO1xuICAgIH1cblxuICAgIHN0YXRpYyBmaW5kSW5kZXhDb21wbGV4KGxpc3Q6IEFycmF5PGFueT4sIGl0ZW06IGFueSk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdC5maW5kSW5kZXgoZWwgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGVxdWFscyhlbCwgaXRlbSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG5cblxuICAgIHN0YXRpYyByZW1vdmVJZkV4aXN0KGxpc3Q6IEFycmF5PGFueT4sIGl0ZW06IGFueSk6IHZvaWQge1xuICAgICAgICBsZXQgaW5kZXg6IG51bWJlciA9IGxpc3QuZmluZEluZGV4KGVsID0+IHtcbiAgICAgICAgICAgIHJldHVybiBlcXVhbHMoZWwsIGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgTGlzdFdyYXBwZXIucmVtb3ZlQXQ8YW55PihsaXN0LCBpbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmV2ZXJzZWQ8VD4oYXJyYXk6IFRbXSk6IFRbXSB7XG4gICAgICAgIGxldCBhID0gTGlzdFdyYXBwZXIuY2xvbmUoYXJyYXkpO1xuICAgICAgICByZXR1cm4gYS5yZXZlcnNlKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNvbmNhdChhOiBhbnlbXSwgYjogYW55W10pOiBhbnlbXSB7XG4gICAgICAgIHJldHVybiBhLmNvbmNhdChiKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5zZXJ0PFQ+KGxpc3Q6IFRbXSwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFQpIHtcbiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDAsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlQXQ8VD4obGlzdDogVFtdLCBpbmRleDogbnVtYmVyKTogVCB7XG4gICAgICAgIGxldCByZXMgPSBsaXN0W2luZGV4XTtcbiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHN0YXRpYyByZW1vdmVBbGw8VD4obGlzdDogVFtdLCBpdGVtczogVFtdKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGxpc3QuaW5kZXhPZihpdGVtc1tpXSk7XG4gICAgICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlPFQ+KGxpc3Q6IFRbXSwgZWw6IFQpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGluZGV4ID0gbGlzdC5pbmRleE9mKGVsKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlTGFzdDxUPihhcnJheTogVFtdKTogdm9pZCB7XG4gICAgICAgIGlmICghYXJyYXkgfHwgYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBhcnJheS5zcGxpY2UoYXJyYXkubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgY2xlYXIobGlzdDogYW55W10pIHtcbiAgICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc0VtcHR5KGxpc3Q6IGFueVtdKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBsaXN0Lmxlbmd0aCA9PT0gMDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZmlsbChsaXN0OiBhbnlbXSwgdmFsdWU6IGFueSwgc3RhcnQ6IG51bWJlciA9IDAsIGVuZDogbnVtYmVyID0gbnVsbCkge1xuICAgICAgICBsaXN0LmZpbGwodmFsdWUsIHN0YXJ0LCBlbmQgPT09IG51bGwgPyBsaXN0Lmxlbmd0aCA6IGVuZCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGVxdWFscyhhOiBhbnlbXSwgYjogYW55W10pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgc3RhdGljIHNsaWNlPFQ+KGw6IFRbXSwgZnJvbTogbnVtYmVyID0gMCwgdG86IG51bWJlciA9IG51bGwpOiBUW10ge1xuICAgICAgICByZXR1cm4gbC5zbGljZShmcm9tLCB0byA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHRvKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc3BsaWNlPFQ+KGw6IFRbXSwgZnJvbTogbnVtYmVyLCBsZW5ndGg6IG51bWJlcik6IFRbXSB7XG4gICAgICAgIHJldHVybiBsLnNwbGljZShmcm9tLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzb3J0PFQ+KGw6IFRbXSwgY29tcGFyZUZuPzogKGE6IFQsIGI6IFQpID0+IG51bWJlcikge1xuICAgICAgICBpZiAoaXNQcmVzZW50KGNvbXBhcmVGbikpIHtcbiAgICAgICAgICAgIGwuc29ydChjb21wYXJlRm4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbC5zb3J0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHN0YXRpYyBzb3J0QnlFeGFtcGxlKHRvU29ydDogc3RyaW5nW10sIHBhdHRlcm46IHN0cmluZ1tdKSB7XG4gICAgICAgIHRvU29ydC5zb3J0KChhOiBzdHJpbmcsIGI6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgbGV0IGluZGV4QSA9IHBhdHRlcm4uaW5kZXhPZihhKSA9PT0gLTEgPyAxMCA6IHBhdHRlcm4uaW5kZXhPZihhKTtcbiAgICAgICAgICAgIGxldCBpbmRleEIgPSBwYXR0ZXJuLmluZGV4T2YoYikgPT09IC0xID8gMTAgOiBwYXR0ZXJuLmluZGV4T2YoYik7XG5cbiAgICAgICAgICAgIHJldHVybiBpbmRleEEgLSBpbmRleEI7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyB0b1N0cmluZzxUPihsOiBUW10pOiBzdHJpbmcge1xuICAgICAgICBsZXQgb3V0ID0gJyc7XG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgbCkge1xuICAgICAgICAgICAgb3V0ICs9IGl0ZW0udG9TdHJpbmcoKSArICcsICAnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgc3RhdGljIHRvSlNPTjxUPihsOiBUW10pOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobCk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1heGltdW08VD4obGlzdDogVFtdLCBwcmVkaWNhdGU6ICh0OiBUKSA9PiBudW1iZXIpOiBUIHtcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc29sdXRpb246IGFueSAvKiogVE9ETyAjPz8/PyAqLyA9IG51bGw7XG4gICAgICAgIGxldCBtYXhWYWx1ZSA9IC1JbmZpbml0eTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBsZXQgY2FuZGlkYXRlID0gbGlzdFtpbmRleF07XG4gICAgICAgICAgICBpZiAoaXNCbGFuayhjYW5kaWRhdGUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgY2FuZGlkYXRlVmFsdWUgPSBwcmVkaWNhdGUoY2FuZGlkYXRlKTtcbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGVWYWx1ZSA+IG1heFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc29sdXRpb24gPSBjYW5kaWRhdGU7XG4gICAgICAgICAgICAgICAgbWF4VmFsdWUgPSBjYW5kaWRhdGVWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc29sdXRpb247XG4gICAgfVxuXG4gICAgc3RhdGljIGZsYXR0ZW48VD4obGlzdDogQXJyYXk8VCB8IFRbXT4pOiBUW10ge1xuICAgICAgICBsZXQgdGFyZ2V0OiBhbnlbXSA9IFtdO1xuICAgICAgICBfZmxhdHRlbkFycmF5KGxpc3QsIHRhcmdldCk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgYWxsRWxlbWVudHNBcmVTdHJpbmdzPFQ+KGxpc3Q6IEFycmF5PFQgfCBUW10+KTogYm9vbGVhbiB7XG4gICAgICAgIGxldCB0YXJnZXQ6IGFueVtdID0gTGlzdFdyYXBwZXIuZmxhdHRlbihsaXN0KTtcbiAgICAgICAgZm9yIChsZXQgZWxlbWVudCBvZiB0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICghaXNTdHJpbmcoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkQWxsPFQ+KGxpc3Q6IEFycmF5PFQ+LCBzb3VyY2U6IEFycmF5PFQ+KTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsaXN0LnB1c2goc291cmNlW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHRvZG86IGNoZWNrIGlmIHRoaXMgaGFuZGxlcyBvYmplY3RzIHdpdGggY29udGFpbnNcbiAgICBzdGF0aWMgYWRkRWxlbWVudElmQWJzZW50PFQ+KGxpc3Q6IEFycmF5PFQ+LCBlbGVtZW50OiBUKTogdm9pZCB7XG5cbiAgICAgICAgbGV0IGNvbnRhaW5zID0gQ29sbGVjdGlvbnMuYXJyYXlzLmNvbnRhaW5zKGxpc3QsIGVsZW1lbnQsIChpdGVtMTogYW55LCBpdGVtMjogYW55KSA9PiB7XG5cbiAgICAgICAgICAgIGlmIChpdGVtMVsnZXF1YWxzVG8nXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtMVsnZXF1YWxzVG8nXShpdGVtMik7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVtMSA9PT0gaXRlbTI7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWNvbnRhaW5zKSB7XG4gICAgICAgICAgICBsaXN0LnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHN0YXRpYyBhZGRFbGVtZW50c0lmQWJzZW50PFQ+KGxpc3Q6IEFycmF5PFQ+LCBlbGVtZW50czogVFtdKTogdm9pZCB7XG5cblxuICAgICAgICBpZiAoaXNCbGFuayhlbGVtZW50cykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGVsZW0gb2YgZWxlbWVudHMpIHtcblxuICAgICAgICAgICAgbGV0IGNvbnRhaW5zID0gQ29sbGVjdGlvbnMuYXJyYXlzLmNvbnRhaW5zKGxpc3QsIGVsZW0sIChpdGVtMTogYW55LCBpdGVtMjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0xWydlcXVhbHNUbyddICYmIGl0ZW0yWydlcXVhbHNUbyddKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtMVsnZXF1YWxzVG8nXShpdGVtMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtMSA9PT0gaXRlbTI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghY29udGFpbnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goZWxlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHN0YXRpYyBjb3B5VmFsdWU8VD4odmFsdWU6IGFueSk6IGFueSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hcFdyYXBwZXIuY2xvbmUodmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gTGlzdFdyYXBwZXIuY2xvbmUodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuXG59XG5cbmZ1bmN0aW9uIF9mbGF0dGVuQXJyYXkoc291cmNlOiBhbnlbXSwgdGFyZ2V0OiBhbnlbXSk6IGFueVtdIHtcbiAgICBpZiAoaXNQcmVzZW50KHNvdXJjZSkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gc291cmNlW2ldO1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBfZmxhdHRlbkFycmF5KGl0ZW0sIHRhcmdldCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTGlzdExpa2VJdGVyYWJsZShvYmo6IGFueSk6IGJvb2xlYW4ge1xuICAgIGlmICghaXNKc09iamVjdChvYmopKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGlzQXJyYXkob2JqKSB8fFxuICAgICAgICAoIShvYmogaW5zdGFuY2VvZiBNYXApICYmICAgICAgLy8gSlMgTWFwIGFyZSBpdGVyYWJsZXMgYnV0IHJldHVybiBlbnRyaWVzIGFzIFtrLCB2XVxuICAgICAgICAgICAgZ2V0U3ltYm9sSXRlcmF0b3IoKSBpbiBvYmopOyAgLy8gSlMgSXRlcmFibGUgaGF2ZSBhIFN5bWJvbC5pdGVyYXRvciBwcm9wXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmVJdGVyYWJsZXNFcXVhbChhOiBhbnksIGI6IGFueSwgY29tcGFyYXRvcjogRnVuY3Rpb24pOiBib29sZWFuIHtcbiAgICBsZXQgaXRlcmF0b3IxID0gYVtnZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xuICAgIGxldCBpdGVyYXRvcjIgPSBiW2dldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBsZXQgaXRlbTEgPSBpdGVyYXRvcjEubmV4dCgpO1xuICAgICAgICBsZXQgaXRlbTIgPSBpdGVyYXRvcjIubmV4dCgpO1xuICAgICAgICBpZiAoaXRlbTEuZG9uZSAmJiBpdGVtMi5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbTEuZG9uZSB8fCBpdGVtMi5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb21wYXJhdG9yKGl0ZW0xLnZhbHVlLCBpdGVtMi52YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGl0ZXJhdGVMaXN0TGlrZShvYmo6IGFueSwgZm46IEZ1bmN0aW9uKSB7XG4gICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm4ob2JqW2ldKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBpdGVyYXRvciA9IG9ialtnZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xuICAgICAgICBsZXQgaXRlbTogYW55IC8qKiBUT0RPICM/Pz8/ICovO1xuICAgICAgICB3aGlsZSAoISgoaXRlbSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkpIHtcbiAgICAgICAgICAgIGZuKGl0ZW0udmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTGFzdDxUPihhcnI6IFRbXSwgY29uZGl0aW9uOiAodmFsdWU6IFQpID0+IGJvb2xlYW4pOiBUIHwgbnVsbCB7XG4gICAgZm9yIChsZXQgaSA9IGFyci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAoY29uZGl0aW9uKGFycltpXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnJbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8vIFNhZmFyaSBhbmQgSW50ZXJuZXQgRXhwbG9yZXIgZG8gbm90IHN1cHBvcnQgdGhlIGl0ZXJhYmxlIHBhcmFtZXRlciB0byB0aGVcbi8vIFNldCBjb25zdHJ1Y3Rvci4gIFdlIHdvcmsgYXJvdW5kIHRoYXQgYnkgbWFudWFsbHkgYWRkaW5nIHRoZSBpdGVtcy5cbmxldCBjcmVhdGVTZXRGcm9tTGlzdDogeyAobHN0OiBhbnlbXSk6IFNldDxhbnk+IH0gPSAoZnVuY3Rpb24gKCkge1xuICAgIGxldCB0ZXN0ID0gbmV3IFNldChbMSwgMiwgM10pO1xuICAgIGlmICh0ZXN0LnNpemUgPT09IDMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVNldEZyb21MaXN0SW5uZXIobHN0OiBhbnlbXSk6IFNldDxhbnk+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2V0KGxzdCk7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVNldEFuZFBvcHVsYXRlRnJvbUxpc3QobHN0OiBhbnlbXSk6IFNldDxhbnk+IHtcbiAgICAgICAgICAgIGxldCByZXMgPSBuZXcgU2V0KGxzdCk7XG4gICAgICAgICAgICBpZiAocmVzLnNpemUgIT09IGxzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICByZXMuYWRkKGxzdFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7SW5qZWN0aW9uVG9rZW4sIEluamVjdG9yLCBpc0Rldk1vZGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtCb29sZWFuV3JhcHBlciwgaXNQcmVzZW50LCBOdW1iZXJXcmFwcGVyLCByZWFkR2xvYmFsUGFyYW19IGZyb20gJy4uL3V0aWxzL2xhbmcnO1xuaW1wb3J0IHtNYXBXcmFwcGVyfSBmcm9tICcuLi91dGlscy9jb2xsZWN0aW9uJztcbmltcG9ydCB7RW52aXJvbm1lbnR9IGZyb20gJy4vZW52aXJvbm1lbnQnO1xuXG5cbi8qKlxuICogU2luY2Ugb24gZW50ZXJwcmlzZSBsZXZlbCB3ZSBuZWVkIHRvIHN1cHBvcnQgYWxsIGF2YWlsYWJsZSBsb2NhbGVzIGFzIHVzZXIgbWlnaHQgY2hhbmdlXG4gKiB0byBkaWZmZXJlbnQgbGFuZyBhbnl0aW1lIHdlIG5lZWQgdG8gaW1wb3J0IGFsbCBleHBlY3RlZCBsb2NhbGVzIHRoYXQgd2Ugd2FudCB0byBzdXBwb3J0LlxuICpcbiAqIE5vdGU6ICBSZW1lbWJlciB3aGVuIHlvdSB3YW50IHRvIHN1cHBvcnQgbW9yZSBsb2NhbGVzIHlvdSBuZWVkIHRvIGltcG9ydCB0aGVtIGFuZCByZWdpc3RlclxuICogdGhlbSB1c2luZyByZWdpc3RlckxvY2FsZURhdGFcbiAqL1xuZXhwb3J0IGNvbnN0IEFwcENvbmZpZ1Rva2VuID0gbmV3IEluamVjdGlvblRva2VuPHN0cmluZz4oJ0FwcC5Db25maWcnKTtcblxuY29uc3QgU3Vwb3J0ZWRMYW5ndWFnZXMgPSBbJ2VuJywgJ2ZyJ107XG5cblxuLyoqXG4gKiBTaW1wbGUgQ29uZmlndXJhdGlvbiBpbXBsZW1lbnRhdGlvbiAgd2hpY2ggbGV0IHVzIGNvbmZpZ3VyZSBhcHBsaWNhdGlvbiBkdXJpbmcgYSBib290c3RyYXBcbiAqIHBoYXNlLiBZb3UgY2FuIHBhc3MgdmFsdWVzIGluIDMgZGlmZmVyZW50IHdheXNcbiAqXG4gKiAxKSBVc2luZyBpbXBvcnQgLSBhdCB0aGUgdGltZSB5b3UgaW1wb3J0IHlvdXIgbW9kdWxlXG4gKiAyKSBpbmplY3RlZCBhcyBzZXJ2aWNlIGFuZCB5b3UgY2FuIHNldCB2YWx1ZXNcbiAqIDMpIEZyb20gU2NyaXB0IHRhZyBvciBnbG9iYWxseSBkZWZpbmVkIFZBUiBkdXJpbmcgYSBkZXBsb3ltZW50XG4gKlxuICpcbiAqIFRoZXJlIGlzIGFsc28gZnJvbSBVUkwgb3B0aW9uIHRoYXQgaXMgZm9yIG5vdyB0ZW1wb3JhcnkgZGlzYWJsZWQuXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQXBwQ29uZmlnIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIG5vdCByZWd1bGFyIGVudi4gcGFyYW0gd2UgdXNlIHRoaXMgdG8gcXVlcnkgZ2xvYmFsIHZhciB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0b1xuICAgICAqIHdpbmRvdyB0byByZWFkIGVudi4gc2V0dGluZ3MgdGhhdCBjYW4gYmUgaW5qZWN0ZWQgYnkgc2VydmVyXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgQXBwQ29uZmlnR2xvYmFsVmFyID0gJ0FwcENvbmZpZ0dsb2JhbCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgSXNEZXZNb2RlID0gJ2Rldm1vZGUuZW5hYmxlZCc7XG4gICAgc3RhdGljIHJlYWRvbmx5IFVzZXJBZ2VudCA9ICd1c2VyYWdlbnQnO1xuICAgIHN0YXRpYyByZWFkb25seSBMYW5nID0gJ2xhbmcnO1xuICAgIHN0YXRpYyByZWFkb25seSBTdXBwb3J0ZWRMYW5ncyA9ICdzdXBwb3J0ZWRsYW5nJztcbiAgICBzdGF0aWMgcmVhZG9ubHkgRGlyZWN0aW9uID0gJ2Rpcic7XG4gICAgc3RhdGljIHJlYWRvbmx5IE5hdlBsYXRmb3JtID0gJ3BsYXRmb3JtJztcbiAgICBzdGF0aWMgcmVhZG9ubHkgaTE4bkVuYWJsZWQgPSAnaTE4bi5lbmFibGVkJztcbiAgICBzdGF0aWMgcmVhZG9ubHkgQXBwVGl0bGUgPSAnYXBwLnRpdGxlJztcbiAgICBzdGF0aWMgcmVhZG9ubHkgUmVzdEFwaUNvbnRleHRVcmwgPSAncmVzdGFwaS5jb250ZXh0JztcbiAgICBzdGF0aWMgcmVhZG9ubHkgUmVzdEFwaUhvc3RVcmwgPSAncmVzdGFwaS5ob3N0JztcbiAgICBzdGF0aWMgcmVhZG9ubHkgQ29udGVudFR5cGUgPSAnY29udGVudC10eXBlJztcbiAgICBzdGF0aWMgcmVhZG9ubHkgQ29ubmVjdGlvblJldHJ5SW50ZXJ2YWwgPSAnY29ubmVjdGlvbi5yZXRyeSc7XG4gICAgc3RhdGljIHJlYWRvbmx5IENvbm5lY3Rpb25BYm9ydFRpbWVvdXQgPSAnY29ubmVjdGlvbi5hYm9ydC10aW1lb3V0JztcbiAgICBzdGF0aWMgcmVhZG9ubHkgQ29ubmVjdGlvblVzZU1vY2tTZXJ2ZXIgPSAnY29ubmVjdGlvbi5tb2NrLXNlcnZlci5lbmFibGVkJztcbiAgICBzdGF0aWMgcmVhZG9ubHkgQ29ubmVjdGlvbk1vY2tTZXJ2ZXJQYXRoID0gJ2Nvbm5lY3Rpb24ubW9jay1zZXJ2ZXIucGF0aCc7XG4gICAgc3RhdGljIHJlYWRvbmx5IENvbm5lY3Rpb25Nb2NrU2VydmVyUm91dGVzID0gJ2Nvbm5lY3Rpb24ubW9jay1zZXJ2ZXIucm91dGVzJztcbiAgICBzdGF0aWMgcmVhZG9ubHkgRG9tYWluVW5pcXVlTmFtZSA9ICdkb21haW4udW5pcXVlbmFtZSc7XG4gICAgc3RhdGljIHJlYWRvbmx5IERvbWFpblF1ZXJ5ID0gJ2RvbWFpbi51bmlxdWVuYW1lJztcbiAgICBzdGF0aWMgcmVhZG9ubHkgQXNzZXRGb2xkZXIgPSAnYXNzZXQtZm9sZGVyJztcbiAgICBzdGF0aWMgcmVhZG9ubHkgSW5UZXN0ID0gJ2Vudi50ZXN0JztcblxuICAgIC8qKlxuICAgICAqIFNpbmNlIHdlIHVuYWJsZSB0byBjaGFuZ2UgYW5kIHNpbXVsYXRlIFVSTCBkdXJpbmcgbmcgdGVzdCBidXQgc3RpbGwgd2UgbmVlZCB0byBiZSBhYmxlIHRvXG4gICAgICogdGVzdCB0aGlzIFVSTCBwYXJzaW5nIGxvZ2ljIHRoZW4ganVzdCBmb3IgYSBUZXN0IHB1cnBvc2VzIHRoaXMgYGVudi50ZXN0LnVybGAgcHJvcGVydHlcbiAgICAgKiB3aWxsIGJlIHVzZWQgdG8gcGFzcyB1cmwgZHVyaW5nIGEgdGVzdC5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgSW5UZXN0VXJsID0gJ2Vudi50ZXN0LnVybCc7XG5cbiAgICBwcml2YXRlIHZhbHVlczogTWFwPHN0cmluZywgYW55PjtcbiAgICAvLyBwcml2YXRlIHF1ZXJ5VmFsdWVzOiBNYXA8c3RyaW5nLCAgYW55PjtcblxuXG4gICAgdGVzdFVybDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGluamVjdG9yOiBJbmplY3RvciwgcHVibGljIGVudmlyb25tZW50OiBFbnZpcm9ubWVudCkge1xuICAgICAgICAvLyB3ZSBleHBlY3QgdGhlcmUgd2lsbCBiZSBhbHdheXMgd2luZG93IGF2YWlsYWJsZS5cbiAgICAgICAgdGhpcy52YWx1ZXMgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICAgICAgICAvLyB0aGlzLnF1ZXJ5VmFsdWVzID0gbmV3IE1hcDxzdHJpbmcsICBhbnk+KCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIENhbGxlZCBieSBmYWN0b3J5IG1ldGhvZCB0byBpbml0aWFsaXplIHRoaXMgY29uZmlnIGNsYXNzXG4gICAgICpcbiAgICAgKi9cbiAgICBpbml0KGNvbmZpZzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkge1xuICAgICAgICB0aGlzLmluaXREZWZhdWx0cygpO1xuICAgICAgICBpZiAoaXNQcmVzZW50KGNvbmZpZykpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZXM6IE1hcDxzdHJpbmcsIGFueT4gPSBNYXBXcmFwcGVyLmNyZWF0ZUZyb21TdHJpbmdNYXA8YW55Pihjb25maWcpO1xuICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goKHY6IGFueSwgazogYW55KSA9PiB0aGlzLnNldChrLCB2KSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVudmlyb25tZW50LnNldFZhbHVlKEFwcENvbmZpZy5Bc3NldEZvbGRlciwgdGhpcy5nZXQoQXBwQ29uZmlnLkFzc2V0Rm9sZGVyKSk7XG5cbiAgICAgICAgbGV0IGxvY2F0aW9uOiBhbnkgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgICAgICBpZiAodGhpcy5lbnZpcm9ubWVudC5pblRlc3QpIHtcbiAgICAgICAgICAgIGxvY2F0aW9uID0gdGhpcy5nZXQoQXBwQ29uZmlnLkluVGVzdFVybCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiAoaXNQcmVzZW50KGxvY2F0aW9uKSkge1xuICAgICAgICAvLyAgICAgdGhpcy5wYXJzZVF1ZXJ5UGFybXMobG9jYXRpb24pO1xuICAgICAgICAvLyB9XG5cblxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIHJlYWQgZ2xvYmFsbHkgaW5zZXJ0ZWQgc2NyaXB0cyB0byBpbml0aWFsaXplIGFwcGxpY2F0aW9uIGZyb20gdGhlIHNlcnZlciBzaWRlLlxuICAgICAqIFRoZSBzY3JpcHQgY2FuIGRpcmVjdGx5IGRlY2xhcmUgdGhlIHZhcmlhYmxlcyA6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgPHNjcmlwdD5cbiAgICAgKiAgICAgIHZhciBBcHBDb25maWdHbG9iYWwgPSB7XG4gICAgICogICAgICAgICAgICAgICAnYXBwLnBybzEnOiAndmFsdWUxJyxcbiAgICAgKiAgICAgICAgICAgICAgICdhcHAucHJvMic6ICd2YWx1ZTInLFxuICAgICAqICAgICAgICAgICAgICAgJ2xhbmcnOiAnY2gnXG4gICAgICogICAgICB9O1xuICAgICAqICA8L3NjcmlwdD5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICAgb3IgaXQgY2FuIGJlIGluY2x1ZGVkIG9uIHRoZSBpbmRleC5odG1sIHBhZ2UgZHVyaW5nIGJ1aWxkIHRpbWUuXG4gICAgICpcbiAgICAgKiAgIFdlIGV4cGVjdCB0aGF0IHdpbGwgZmluZCB0aGUgYEFwcENvbmZpZ0dsb2JhbGBcbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgcGFyc2VHbG9iYWxQYXJhbXMoKTogdm9pZCB7XG4gICAgICAgIGxldCBnbG9iYWxDb25maWc6IHsgW25hbWU6IHN0cmluZ106IGFueSB9ID0gcmVhZEdsb2JhbFBhcmFtKEFwcENvbmZpZy5BcHBDb25maWdHbG9iYWxWYXIpO1xuICAgICAgICBpZiAoaXNQcmVzZW50KGdsb2JhbENvbmZpZykpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBnbG9iYWxDb25maWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcy5zZXQoa2V5LnRvTG93ZXJDYXNlKCksIGdsb2JhbENvbmZpZ1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2YWx1ZXMgdG8gY29uZmlndXJhdGlvbi4gdG8gbWFrZSBzdXJlIHdlIHdpbGwgbm90IHJ1biBpbnRvIGNhc2Utc2Vuc2l0aXZlIHByb2JsZW1zIHdlXG4gICAgICogYXJlIGNvbnZlcnRpbmcgYWxsIGtleXMgaW50byBsb3dlcmNhc2VcbiAgICAgKlxuICAgICAqL1xuICAgIHNldChrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLnZhbHVlcy5zZXQoa2V5LnRvTG93ZXJDYXNlKCksIHZhbHVlKTtcblxuICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkgPT09IEFwcENvbmZpZy5JblRlc3QpIHtcbiAgICAgICAgICAgIHRoaXMuZW52aXJvbm1lbnQuaW5UZXN0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNldHMgdmFsdWVzIHRvIGNvbmZpZ3VyYXRpb25cbiAgICAgKiB0b2RvOiBkb250IGRvIGFsbCB0aGlzIHdpdGggdGhpcyBoYWNreSB3YXkuIGp1c3QgaWYgeW91IG5lZWQgdG8gY2hlY2sgY2FzZSBzZW5zaXRpdml0eSwgdGhlblxuICAgICAqIHNpbXBseSBtYXAga2V5cyBmcm9tIHRoaXMudmFsdWVzIGludG8gbG93ZXJjYXNlIGFuZCB0aGVuIGNoZWNrIGlmIGl0IGhhcyBhIGtleVxuICAgICAqL1xuICAgIGdldChrZXk6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlcy5oYXMoa2V5LnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMuZ2V0KGtleS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cblxuICAgIGdldE51bWJlcihrZXk6IHN0cmluZyk6IG51bWJlciB7XG4gICAgICAgIGxldCB2YWwgPSB0aGlzLmdldChrZXkpO1xuICAgICAgICByZXR1cm4gTnVtYmVyV3JhcHBlci5wYXJzZUludEF1dG9SYWRpeCh2YWwpO1xuICAgIH1cblxuXG4gICAgZ2V0Qm9vbGVhbihrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgdmFsID0gdGhpcy5nZXQoa2V5KTtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW5XcmFwcGVyLmJvbGVhblZhbHVlKHZhbCk7XG4gICAgfVxuXG4gICAgLy8gLyoqXG4gICAgLy8gICpcbiAgICAvLyAgKiBDYWxsZWQgZHVyaW5nIGluc3RhbnRpYXRpb24gYW5kIGl0IHJlYWQgcXVlcnkgcGFyYW1zIGlmIGFueSBhbmQgdXNlIHRoZW0gYXNcbiAgICAvLyBjb25maWd1cmF0aW9uLlxuICAgIC8vICAqIFdlIG1pZ2h0IHdhbnQgdG8gZm9yY2UgdG8gcHJlZml4IGVhY2ggcGFyYW0gd2l0aCBlbnYuIHRvIG1ha2Ugc3VyZSB3ZSBkbyBub3Qgc3RvcmVcbiAgICAvLyBldmVyeXRoaW5nICogKi8gcHJpdmF0ZSBwYXJzZVF1ZXJ5UGFybXModXJsOiBzdHJpbmcpIHsgIGxldCB1cmxTZXJpYWxpemVyID0gbmV3XG4gICAgLy8gRGVmYXVsdFVybFNlcmlhbGl6ZXIoKTsgbGV0IHVybFRyZWUgPSB1cmxTZXJpYWxpemVyLnBhcnNlKHVybCk7ICBpZlxuICAgIC8vIChpc1ByZXNlbnQodXJsVHJlZS5xdWVyeVBhcmFtcykpIHsgIGZvciAobGV0IGtleSBpbiB1cmxUcmVlLnF1ZXJ5UGFyYW1zKSB7XG4gICAgLy8gdGhpcy5xdWVyeVZhbHVlcy5zZXQoa2V5LnRvTG93ZXJDYXNlKCksIHVybFRyZWUucXVlcnlQYXJhbXNba2V5XSk7IH0gfSB9XG5cbiAgICBwcml2YXRlIGluaXREZWZhdWx0cygpIHtcblxuICAgICAgICB0aGlzLnNldChBcHBDb25maWcuSXNEZXZNb2RlLCBpc0Rldk1vZGUoKSk7XG4gICAgICAgIHRoaXMuc2V0KEFwcENvbmZpZy5Vc2VyQWdlbnQsIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgdGhpcy5zZXQoQXBwQ29uZmlnLkRpcmVjdGlvbiwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRpcik7XG4gICAgICAgIHRoaXMuc2V0KEFwcENvbmZpZy5OYXZQbGF0Zm9ybSwgd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSk7XG4gICAgICAgIHRoaXMuc2V0KEFwcENvbmZpZy5Db250ZW50VHlwZSwgJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnKTtcbiAgICAgICAgdGhpcy5zZXQoQXBwQ29uZmlnLkNvbm5lY3Rpb25SZXRyeUludGVydmFsLCA1MDApO1xuICAgICAgICB0aGlzLnNldChBcHBDb25maWcuQ29ubmVjdGlvblVzZU1vY2tTZXJ2ZXIsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXQoQXBwQ29uZmlnLkNvbm5lY3Rpb25Nb2NrU2VydmVyUGF0aCwgJy9tb2NrLXJvdXRpbmcnKTtcbiAgICAgICAgdGhpcy5zZXQoQXBwQ29uZmlnLmkxOG5FbmFibGVkLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zZXQoQXBwQ29uZmlnLkluVGVzdCwgZmFsc2UpO1xuICAgICAgICB0aGlzLnNldChBcHBDb25maWcuRG9tYWluVW5pcXVlTmFtZSwgJ3VuaXF1ZU5hbWUnKTtcbiAgICAgICAgdGhpcy5zZXQoQXBwQ29uZmlnLkRvbWFpblF1ZXJ5LCAncScpO1xuXG4gICAgICAgIGlmICh0aGlzLmVudmlyb25tZW50LmluVGVzdCkge1xuICAgICAgICAgICAgdGhpcy5zZXQoQXBwQ29uZmlnLkNvbm5lY3Rpb25BYm9ydFRpbWVvdXQsIDUwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldChBcHBDb25maWcuQ29ubmVjdGlvbkFib3J0VGltZW91dCwgODAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXQoQXBwQ29uZmlnLkFzc2V0Rm9sZGVyLCAnYXNzZXRzJyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnZhbHVlcy5oYXMoQXBwQ29uZmlnLkxhbmcpKSB7XG4gICAgICAgICAgICB0aGlzLnNldChBcHBDb25maWcuTGFuZywgd2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudmFsdWVzLmhhcyhBcHBDb25maWcuU3VwcG9ydGVkTGFuZ3MpKSB7XG4gICAgICAgICAgICB0aGlzLnNldChBcHBDb25maWcuU3VwcG9ydGVkTGFuZ3MsIFN1cG9ydGVkTGFuZ3VhZ2VzKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZ2V0UmVzdEFwaUNvbnRleHRVcmwoZW50aXR5OiBzdHJpbmcsIGlzTmVzdGVkOiBib29sZWFuID0gZmFsc2UpOiBzdHJpbmcge1xuICAgICAgICBsZXQgbmVzdGVkRmxhZyA9IGlzTmVzdGVkID8gJyQnIDogJyc7XG4gICAgICAgIGxldCB3aXRoRW50aXR5ID0gYCR7QXBwQ29uZmlnLlJlc3RBcGlDb250ZXh0VXJsfS4ke25lc3RlZEZsYWd9JHtlbnRpdHl9YDtcbiAgICAgICAgbGV0IHVybCA9IHRoaXMuZ2V0KHdpdGhFbnRpdHkpIHx8IHRoaXMuZ2V0KEFwcENvbmZpZy5SZXN0QXBpQ29udGV4dFVybCk7XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudCh1cmwpKSB7XG4gICAgICAgICAgICBpZiAoL1xcLyQvZy50ZXN0KHVybCkpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIHVybC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc3QgQVBJVXJpIGlzIG5vdCBjb25maWd1cmVkJyk7XG4gICAgfVxuXG5cbiAgICBnZXRSZXN0QXBpQ29udGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoQXBwQ29uZmlnLlJlc3RBcGlDb250ZXh0VXJsKSB8fCAnJztcbiAgICB9XG5cbiAgICBnZXRSZXN0QXBpSG9zdCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoQXBwQ29uZmlnLlJlc3RBcGlIb3N0VXJsKSB8fCAnJztcbiAgICB9XG5cbiAgICBpc1Byb2R1Y3Rpb25Nb2RlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gIXRoaXMuZ2V0Qm9vbGVhbihBcHBDb25maWcuSXNEZXZNb2RlKTtcbiAgICB9XG5cbiAgICBnZXRCYXNlVXJsKCkge1xuICAgICAgICBjb25zdCBpc01vY2tlZCA9IHRoaXMuZ2V0Qm9vbGVhbihBcHBDb25maWcuQ29ubmVjdGlvblVzZU1vY2tTZXJ2ZXIpO1xuICAgICAgICBjb25zdCBjbnggPSB0aGlzLmdldFJlc3RBcGlDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IGhvc3QgPSB0aGlzLmdldFJlc3RBcGlIb3N0KCkgfHwgJyc7XG5cbiAgICAgICAgaWYgKGlzTW9ja2VkKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVmaXggPSB0aGlzLmdldChBcHBDb25maWcuQXNzZXRGb2xkZXIpO1xuICAgICAgICAgICAgcmV0dXJuIGAke3ByZWZpeH0ke2NueCB8fCAnLyd9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB1cmwgPSBgJHtob3N0fSR7Y254IHx8ICcvJ31gO1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBmYWN0b3J5IG1ldGhvZCBpbnNpZGVyIEFQUF9JTklUSUFMSVpFUiB0byBwcmUtbG9hZCBpMThuIHN1cHBvcnRcbiAgICAgKlxuICAgICAqL1xuICAgIGluaXRpYWxpemVJMThuKCk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGxldCBwcm9taXNlOiBQcm9taXNlPGFueT4gPSBuZXcgUHJvbWlzZSgocmVzb2x2ZTogYW55KSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxufVxuXG5cbi8qKlxuICogRmFjdG9yeSBtZXRob2QgdXNlZCBieSBDb3JlTW9kdWxlIGluIG9yZGVyIHRvIGluc3RhbnRpYXRlIEFwcENvbmZpZyBwcm92aWRlclxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VDb25maWcoY29uZmlnOiB7IFtrZXk6IHN0cmluZ106IGFueSB9LCBpbmplY3RvcjogSW5qZWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBlbnY6IEVudmlyb25tZW50KTogQXBwQ29uZmlnIHtcbiAgICAvLyB3aGVuIGVtcHR5IHdlIGFzdW1lIHdlIGFyZSBpbiBUZXN0LiBBcHBsaWNhdGlvbiBzaG91bGQgYWx3YXlzIGhhdmUgc29tZSBiYXNpYyBpbml0aWFsaXphdGlvblxuICAgIC8vIHRvZG86IE5lZWQgdG8gZ2V0IGJhY2sgdG8gdGhpcyBhcyB0aGlzIGlzIHRlbXBvcmFyeS5cblxuICAgIGxldCBjb25mOiBBcHBDb25maWcgPSBuZXcgQXBwQ29uZmlnKGluamVjdG9yLCBlbnYpO1xuICAgIGNvbmYuaW5pdChjb25maWcpO1xuICAgIHJldHVybiBjb25mO1xufVxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7RXZlbnRFbWl0dGVyLCBJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Rm9ybUdyb3VwfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0xpc3RXcmFwcGVyfSBmcm9tICcuLi91dGlscy9jb2xsZWN0aW9uJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi91dGlscy9sYW5nJztcblxuXG4vKipcbiAqIEVudmlyb25tZW50IGlzIHNoYXJhYmxlIHN0YXRlIGJldHdlZW4gY29tcG9uZW50cyBhbmQgaXRzIGluamVjdGVkIGF0IHRoZSByb290IGxldmVsIGFuZFxuICogdGhlIHNhbWUgaW5zdGFuY2UgYWNjZXNzaWJsZSBkb3duIHRoZSBjb21wb25lbnQgdHJlZS5cbiAqXG4gKi9cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBFbnZpcm9ubWVudFxue1xuXG4gICAgLyoqXG4gICAgICogS2VlcCBDdXJyZW50IExvY2FsZS4gSW5pdGlhbGl6ZWQgZnJvbSBBcHBDb25maWcgYWxvbmcgd2l0aCBpMThuIHN1cHBvcnRcbiAgICAgKi9cbiAgICBwcml2YXRlIF9sb2NhbGU6IHN0cmluZztcblxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBjb21wb25lbnQgdG8gc2F2ZSBzYXZlIGFkZGl0aW9uYWwgcHJvcGVydGllcyBmb3IgcHJvY2Vzc2luZyBhbmQgaXRzIHJlbmRlcmluZ1xuICAgICAqL1xuICAgIHByaXZhdGUgZW52VmFyaWFibGVzOiBNYXA8c3RyaW5nLCBhbnk+O1xuXG5cbiAgICAvKipcbiAgICAgKiBTaW1wbGUgc3RhY2stbGlrZSBzdG9yYWdlIHdoZXJlIHdlIG5lZWQgdG8gYSBrZWVwIGhpc3RvcnlcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YWNrc1ZhcmlhYmxlczogTWFwPHN0cmluZywgYW55W10+O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIHByb3BlcnRpZXMgZm9yIGRlYnVnZ2luZyBhbmQgdGVzdGluZyBwdXJwb3Nlc1xuICAgICAqXG4gICAgICovXG4gICAgaXNQc2V1ZG9Mb2NhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpblRlc3Q6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICAgLyoqXG4gICAgICogU3RvcmUgY3VycmVudCBQYWdlIEZvcm1Hcm91cCBTdGF0ZSB0aGF0IG5lZWQgdG8gYmUgc2hhcmVkIGRvd24gYWNyb3NzIGNvbXBvbmVudHNcbiAgICAgKi9cbiAgICBjdXJyZW50Rm9ybTogRm9ybUdyb3VwO1xuXG4gICAgLyoqXG4gICAgICogQW4gRXZlbnRFbWl0dGVyIHRvIGxpc3RlbiB0byBsb2NhbGUgY2hhbmdlIGV2ZW50c1xuICAgICAqL1xuICAgIG9uTG9jYWxlQ2hhbmdlOiBFdmVudEVtaXR0ZXI8c3RyaW5nPiA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xuXG4gICAgaXNQcm9kdWN0aW9uOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFJlZ2lzdGVyIGFuZCBzYXZlIHJlZmVyZW5jZSB0byB1c2VyIGRlZmluZWQgcnVsZXMgaWYgYW55LiBZb3UgbWlnaHQgZGVmaW5lIGl0cyBvd24gbWV0YWRhdGFcbiAgICAgKiB3aGVuIHJlbmRlcmluZyBVSS5cbiAgICAgKi9cbiAgICB1c2VyUnVsZXM6IGFueTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMganN1dCBmb3IgZGVidWdnaW5nIHB1cnBvc2VzIHRvIHNhdmUgc29tZSB0ZW1wIG1lc3NhZ2UgdGhhdCBJIGNhbiB0aGVuIHRyYWNlLlxuICAgICAqXG4gICAgICovXG4gICAgZGVidWdTdHJpbmc6IHN0cmluZztcblxuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbG9jYWxlID0gJ2VuJztcbiAgICAgICAgdGhpcy5lbnZWYXJpYWJsZXMgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICAgICAgICB0aGlzLnN0YWNrc1ZhcmlhYmxlcyA9IG5ldyBNYXA8c3RyaW5nLCBhbnlbXT4oKTtcbiAgICB9XG5cblxuICAgIGdldFZhbHVlKGtleTogc3RyaW5nKTogYW55XG4gICAge1xuICAgICAgICBpZiAodGhpcy5lbnZWYXJpYWJsZXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVudlZhcmlhYmxlcy5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzZXRWYWx1ZShrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZW52VmFyaWFibGVzLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICBkZWxldGVWYWx1ZShrZXk6IHN0cmluZyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmhhc1ZhbHVlKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuZW52VmFyaWFibGVzLmRlbGV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFzVmFsdWUoa2V5OiBzdHJpbmcpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnZWYXJpYWJsZXMuaGFzKGtleSk7XG4gICAgfVxuXG4gICAgYWxsVmFyaWFibGVzKCk6IE1hcDxzdHJpbmcsIGFueT5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudlZhcmlhYmxlcztcbiAgICB9XG5cblxuICAgIGdldCBsb2NhbGUoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlO1xuICAgIH1cblxuICAgIHNldCBsb2NhbGUodmFsdWU6IHN0cmluZylcbiAgICB7XG4gICAgICAgIHRoaXMuX2xvY2FsZSA9IHZhbHVlO1xuXG4gICAgICAgIC8vIEVtaXQgbG9jYWxlIGNoYW5nZWQgZXZlbnRcbiAgICAgICAgdGhpcy5vbkxvY2FsZUNoYW5nZS5lbWl0KHZhbHVlKTtcbiAgICB9XG5cbiAgICBwZWFrPFQ+KGtleTogc3RyaW5nKTogVFxuICAgIHtcbiAgICAgICAgbGV0IHN0YWNrOiBUW10gPSB0aGlzLnN0YWNrc1ZhcmlhYmxlcy5nZXQoa2V5KSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIExpc3RXcmFwcGVyLmxhc3Q8VD4oc3RhY2spO1xuXG4gICAgfVxuXG5cbiAgICBwb3A8VD4oa2V5OiBzdHJpbmcpOiBUXG4gICAge1xuICAgICAgICBsZXQgc3RhY2s6IFRbXSA9IHRoaXMuc3RhY2tzVmFyaWFibGVzLmdldChrZXkpIHx8IFtdO1xuICAgICAgICBhc3NlcnQoc3RhY2subGVuZ3RoID4gMCwgJyBBdHRlbXB0IHRvIGdldCB2YWx1ZSBmcm9tIGVtcHR5IHN0YWNrJyk7XG5cbiAgICAgICAgcmV0dXJuIExpc3RXcmFwcGVyLnJlbW92ZUF0PGFueT4oc3RhY2ssIHN0YWNrLmxlbmd0aCAtIDEpO1xuICAgIH1cblxuXG4gICAgcHVzaDxUPihrZXk6IHN0cmluZywgdmFsdWU6IFQpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgc3RhY2s6IFRbXSA9IHRoaXMuc3RhY2tzVmFyaWFibGVzLmdldChrZXkpIHx8IFtdO1xuICAgICAgICBzdGFjay5wdXNoKHZhbHVlKTtcbiAgICAgICAgdGhpcy5zdGFja3NWYXJpYWJsZXMuc2V0KGtleSwgc3RhY2spO1xuICAgIH1cblxufVxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cblxuaW1wb3J0IHtpc1ByZXNlbnR9IGZyb20gJy4uL3V0aWxzL2xhbmcnO1xuXG4vKipcbiAqIFRvIHVuaWZ5IHRoZSB3b3JrIHdpdGggZG9tYWluIG9iamVjdHMgd2UgaGF2ZSB0aGVzZSBzZXQgb2YgaW50ZXJmYWNlcyB0aGF0IGVhY2ggRW50aXR5IG9yIFZhbHVlXG4gKiBtdXN0IHVzZSB0byBsZXZlcmFnZSBzb21lIG9mIHRoZSBmdW5jdGlvbmFsaXR5IHdlIGhhdmUgaW4gdGhlIGNvcmVcbiAqXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9zaXRlVHlwZVxue1xuXG4gICAgY2xhc3NOYW1lKCk6IHN0cmluZztcblxuICAgICRwcm90bz8oKTogQ29tcG9zaXRlVHlwZTtcbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIElkZW50aXR5XG57XG5cbiAgICBpZGVudGl0eSgpOiBzdHJpbmc7XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZXNlcmlhbGl6YWJsZVxue1xuICAgIGdldFR5cGVzKCk6IGFueTtcbn1cblxuXG4vKipcbiAqIEVudGl0eUNvbXBvc2l0ZSBoYXZpbmcgaWRlbnRpdHkgdGhhdCBjYW4gYmUgaWRlbnRpZmllZCBpbiB0aGUgc3RvcmFnZSBieSBpdHMgSUQuIEVudGl0aWVzIGFyZVxuICogbXV0YWJsZSBvYmplY3RzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRW50aXR5IGV4dGVuZHMgSWRlbnRpdHksXG4gICAgRGVzZXJpYWxpemFibGUsXG4gICAgQ29tcG9zaXRlVHlwZVxue1xufVxuXG4vKipcbiAqIDxsaT5ObyBJZGVudGl0eTwvbGk+XG4gKiA8bGk+SW1tdXRhYmxlPC9saT5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWYWx1ZSBleHRlbmRzIERlc2VyaWFsaXphYmxlLFxuICAgIENvbXBvc2l0ZVR5cGVcbntcbiAgICAvLyBmb3IgdXNlIG9mIHR5cGUgZ3VhcmQgb25seSwgbGF0ZXIgb24gd2UgY2FuIHVzZSBpdCBmb3Igc29tZXRoaW5nXG4gICAgY2xvbmUoKTogVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VudGl0eShlbnRpdHk6IGFueSk6IGVudGl0eSBpcyBFbnRpdHlcbntcbiAgICByZXR1cm4gaXNQcmVzZW50KGVudGl0eSkgJiYgaXNQcmVzZW50KCg8RW50aXR5PmVudGl0eSkuaWRlbnRpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWx1ZSh2YWw6IGFueSk6IHZhbCBpcyBWYWx1ZVxue1xuICAgIHJldHVybiBpc1ByZXNlbnQodmFsKSAgJiYgaXNQcmVzZW50KCg8VmFsdWU+dmFsKS5jbG9uZSk7XG59XG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCB7VHlwZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2Fzc2VydCwgb2JqZWN0VG9OYW1lfSBmcm9tICcuLi8uLi91dGlscy9sYW5nJztcblxuZXhwb3J0IGVudW0gUmVzdFNlZ21lbnRUeXBlXG57XG4gICAgSG9zdCxcbiAgICBDb250ZXh0LFxuICAgIEFjdGlvbixcbiAgICBSZXNvdXJjZSxcbiAgICBJZGVudGlmaWVyLFxuICAgIE9mUGFyZW50XG59XG5cblxuZXhwb3J0IGVudW0gUmVzdEFjdGlvblxue1xuICAgIExvYWQsXG4gICAgUXVlcnksXG4gICAgU2F2ZSxcbiAgICBEb1xufVxuXG5cbi8qKlxuICogU2V0IG9mIEFTVCBsaWtlIGNsYXNzZXMgdG8ga2VlcCB0aGUgZmx1ZW50IEFQSSBncmFtbWFyIGluIHRoZSBhYnN0cmFjdCBmb3JtYXQgdG8gZ2l2ZSBkZXZlbG9wZXJzXG4gKiBjaGFuZ2VzIHRvIHByb3ZpZGUgdGhlaXIgb3duIGltcGxlbWVudGF0aW9uXG4gKlxuICogVG9kbzogRXhwb3NlIEJ1aWxkZXIgYXMgYSBzZXJ2aWNlXG4gKlxuICovXG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBVcmxTZWdtZW50XG57XG4gICAgY29uc3RydWN0b3IocHVibGljIHR5cGU6IFJlc3RTZWdtZW50VHlwZSwgcHVibGljIHZhbHVlPzogYW55LFxuICAgICAgICAgICAgICAgIHB1YmxpYyBwYXJhbXM/OiBNYXA8c3RyaW5nLCBzdHJpbmc+LCBwdWJsaWMgcmFuazogbnVtYmVyID0gLTEpXG4gICAge1xuXG4gICAgfVxuXG5cbiAgICBhc3NlcnRTZWdtZW50KHByZXZTZWdtZW50OiBSZXN0U2VnbWVudFR5cGUpOiB2b2lkXG4gICAge1xuICAgIH1cblxuICAgIGFzc2VydE1zZygpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiAnV3JvbmcgUmVzdCBTZWdtZW50IG9yZGVyJztcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIEhvc3RTZWdtZW50IGV4dGVuZHMgVXJsU2VnbWVudFxue1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIHZhbHVlOiBhbnksIHB1YmxpYyBwYXJhbXM/OiBNYXA8c3RyaW5nLCBzdHJpbmc+KVxuICAgIHtcbiAgICAgICAgc3VwZXIoUmVzdFNlZ21lbnRUeXBlLkhvc3QsIHZhbHVlLCBwYXJhbXMsIDUpO1xuICAgIH1cblxuXG4gICAgYXNzZXJ0U2VnbWVudChwcmV2U2VnbWVudDogUmVzdFNlZ21lbnRUeXBlKTogdm9pZFxuICAgIHtcbiAgICAgICAgYXNzZXJ0KHByZXZTZWdtZW50ID09IG51bGwsIHRoaXMuYXNzZXJ0TXNnKCkpO1xuICAgIH1cblxuXG4gICAgYXNzZXJ0TXNnKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGAke3N1cGVyLmFzc2VydE1zZygpfS4gLiBIb3N0IHNlZ21lbnQgbXVzdCBiZSBmaXJzdCFgO1xuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgQ29udGV4dFNlZ21lbnQgZXh0ZW5kcyBVcmxTZWdtZW50XG57XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWU6IGFueSwgcHVibGljIHBhcmFtcz86IE1hcDxzdHJpbmcsIHN0cmluZz4pXG4gICAge1xuICAgICAgICBzdXBlcihSZXN0U2VnbWVudFR5cGUuQ29udGV4dCwgdmFsdWUsIHBhcmFtcywgMTApO1xuICAgIH1cblxuXG4gICAgYXNzZXJ0U2VnbWVudChwcmV2U2VnbWVudDogUmVzdFNlZ21lbnRUeXBlKTogdm9pZFxuICAgIHtcbiAgICAgICAgYXNzZXJ0KHByZXZTZWdtZW50ID09PSBSZXN0U2VnbWVudFR5cGUuSG9zdCwgdGhpcy5hc3NlcnRNc2coKSk7XG4gICAgfVxuXG5cbiAgICBhc3NlcnRNc2coKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7c3VwZXIuYXNzZXJ0TXNnKCl9LiAuIENvbnRleHQgc2VnbWVudCBtdXN0IGZvbGxvdyBIb3N0IWA7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25TZWdtZW50IGV4dGVuZHMgVXJsU2VnbWVudFxue1xuICAgIGFjdGlvblR5cGU6IFJlc3RBY3Rpb247XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgYWN0aW9uOiBSZXN0QWN0aW9uLCBwdWJsaWMgZGF0YT86IGFueSwgcHVibGljIHBhcmFtcz86IE1hcDxzdHJpbmcsIHN0cmluZz4pXG4gICAge1xuICAgICAgICBzdXBlcihSZXN0U2VnbWVudFR5cGUuQWN0aW9uLCBhY3Rpb24sIHBhcmFtcywgMCk7XG5cbiAgICAgICAgLy8gc2F2ZSBpdCB0byBsb2NhbCBwcm9wZXJ0eSBmb3IgZWFzaWVyIGNvbXBhcmlzaW9uXG4gICAgICAgIHRoaXMuYWN0aW9uVHlwZSA9IGFjdGlvbjtcbiAgICB9XG5cblxuICAgIGFzc2VydFNlZ21lbnQocHJldlNlZ21lbnQ6IFJlc3RTZWdtZW50VHlwZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGFzc2VydChwcmV2U2VnbWVudCA9PT0gUmVzdFNlZ21lbnRUeXBlLkNvbnRleHQsIHRoaXMuYXNzZXJ0TXNnKCkpO1xuICAgIH1cblxuXG4gICAgYXNzZXJ0TXNnKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGAke3N1cGVyLmFzc2VydE1zZygpfS4gLiBBY3Rpb24gbXVzdCBmb2xsb3cgQ29udGV4dCBzZWdtZW50IWA7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZVNlZ21lbnQgZXh0ZW5kcyBVcmxTZWdtZW50XG57XG5cbiAgICByZXNvdXJjZU5hbWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZTogVHlwZTxhbnk+LCBwdWJsaWMgcGFyYW1zPzogTWFwPHN0cmluZywgc3RyaW5nPilcbiAgICB7XG4gICAgICAgIHN1cGVyKFJlc3RTZWdtZW50VHlwZS5SZXNvdXJjZSwgdmFsdWUsIHBhcmFtcywgMTUpO1xuXG4gICAgICAgIHRoaXMucmVzb3VyY2VOYW1lID0gYCR7b2JqZWN0VG9OYW1lKHRoaXMudmFsdWUpLnRvTG93ZXJDYXNlKCl9c2A7XG4gICAgfVxuXG5cbiAgICBhc3NlcnRTZWdtZW50KHByZXZTZWdtZW50OiBSZXN0U2VnbWVudFR5cGUpOiB2b2lkXG4gICAge1xuICAgICAgICBhc3NlcnQoKHByZXZTZWdtZW50ID09PSBSZXN0U2VnbWVudFR5cGUuQWN0aW9uIHx8IHByZXZTZWdtZW50ID09PSBSZXN0U2VnbWVudFR5cGUuT2ZQYXJlbnQpLFxuICAgICAgICAgICAgdGhpcy5hc3NlcnRNc2coKSk7XG4gICAgfVxuXG5cbiAgICBhc3NlcnRNc2coKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7c3VwZXIuYXNzZXJ0TXNnKCl9LiAuIFJlc291cmNlIG11c3QgZm9sbG93IGVpdGhlciBBY3Rpb24gb3IgT2YhYDtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIElkZW50aWZpZXJTZWdtZW50IGV4dGVuZHMgVXJsU2VnbWVudFxue1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIHZhbHVlOiBhbnksIHB1YmxpYyBwYXJhbXM/OiBNYXA8c3RyaW5nLCBzdHJpbmc+KVxuICAgIHtcbiAgICAgICAgc3VwZXIoUmVzdFNlZ21lbnRUeXBlLklkZW50aWZpZXIsIHZhbHVlLCBwYXJhbXMsIDIwKTtcbiAgICB9XG5cblxuICAgIGFzc2VydFNlZ21lbnQocHJldlNlZ21lbnQ6IFJlc3RTZWdtZW50VHlwZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGFzc2VydChwcmV2U2VnbWVudCA9PT0gUmVzdFNlZ21lbnRUeXBlLlJlc291cmNlLCB0aGlzLmFzc2VydE1zZygpKTtcbiAgICB9XG5cbiAgICBhc3NlcnRNc2coKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7c3VwZXIuYXNzZXJ0TXNnKCl9LiAuIElkZW50aWZpZXIgbXVzdCBmb2xsb3cgUmVzb3VyY2UhYDtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIE9mUGFyZW50U2VnbWVudCBleHRlbmRzIFVybFNlZ21lbnRcbntcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHN1cGVyKFJlc3RTZWdtZW50VHlwZS5PZlBhcmVudCk7XG4gICAgICAgIHRoaXMucmFuayA9IDI7XG4gICAgfVxuXG5cbiAgICBhc3NlcnRTZWdtZW50KHByZXZTZWdtZW50OiBSZXN0U2VnbWVudFR5cGUpOiB2b2lkXG4gICAge1xuICAgICAgICBhc3NlcnQocHJldlNlZ21lbnQgPT09IFJlc3RTZWdtZW50VHlwZS5SZXNvdXJjZSB8fFxuICAgICAgICAgICAgcHJldlNlZ21lbnQgPT09IFJlc3RTZWdtZW50VHlwZS5JZGVudGlmaWVyLFxuICAgICAgICAgICAgdGhpcy5hc3NlcnRNc2coKSk7XG4gICAgfVxuXG4gICAgYXNzZXJ0TXNnKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGAke3N1cGVyLmFzc2VydE1zZygpfS4gLiBPZiBtdXN0IGZvbGxvdyBSZXNvdXJjZSFgO1xuICAgIH1cbn1cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge0FjdGlvblNlZ21lbnQsIFJlc291cmNlU2VnbWVudCwgUmVzdEFjdGlvbiwgUmVzdFNlZ21lbnRUeXBlLCBVcmxTZWdtZW50fSBmcm9tICcuL3NlZ21lbnQnO1xuaW1wb3J0IHthc3NlcnQsIGlzUHJlc2VudCwgU3RyaW5nSm9pbmVyfSBmcm9tICcuLi8uLi91dGlscy9sYW5nJztcbmltcG9ydCB7UmVzdFVybEdyb3VwfSBmcm9tICcuL3VybC1ncm91cCc7XG5cblxuLyoqXG4gKiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIHRoYXQgcmVhZHMgYWJzdHJhY3QgVVJMIHN0cnVjdHVyZSBhbmQgYXNzZW1ibGVzIGNvcnJlY3QgVVJMLlxuICovXG5leHBvcnQgY2xhc3MgRGVmYXVsdFJlc3RCdWlsZGVyXG57XG4gICAgcHJpdmF0ZSBzb3J0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSB1cmxHcm91cDogUmVzdFVybEdyb3VwKVxuICAgIHtcbiAgICB9XG5cbiAgICBhc3NlbWJsZVVybChpc01vY2tlZDogYm9vbGVhbik6IHN0cmluZ1xuICAgIHtcblxuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgbGV0IHNvcnRlZFNlZ21lbnRzID0gdGhpcy5hZGp1c3RSYW5rKHRoaXMudXJsR3JvdXAuc2VnbWVudHMpO1xuXG4gICAgICAgIGxldCB1cmwgPSBuZXcgU3RyaW5nSm9pbmVyKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc29ydGVkU2VnbWVudHMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgc3dpdGNoIChzb3J0ZWRTZWdtZW50c1tpXS50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBSZXN0U2VnbWVudFR5cGUuQWN0aW9uOlxuICAgICAgICAgICAgICAgIGNhc2UgUmVzdFNlZ21lbnRUeXBlLk9mUGFyZW50OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgUmVzdFNlZ21lbnRUeXBlLlJlc291cmNlOlxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzU2VnbWVudDogUmVzb3VyY2VTZWdtZW50ID0gPFJlc291cmNlU2VnbWVudD4gc29ydGVkU2VnbWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc01vY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsLmFkZCgnbW9ja2VkJykuYWRkKCcvJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdXJsLmFkZChyZXNTZWdtZW50LnJlc291cmNlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkU2xhc2godXJsLCBpICE9PSAoc29ydGVkU2VnbWVudHMubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdXJsLmFkZChzb3J0ZWRTZWdtZW50c1tpXS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkU2xhc2godXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJlc2VudChzb3J0ZWRTZWdtZW50c1tpXS52YWx1ZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0ZWRTZWdtZW50c1tpXS52YWx1ZS50b1N0cmluZygpLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpICE9PSAoc29ydGVkU2VnbWVudHMubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgoPEFjdGlvblNlZ21lbnQ+c29ydGVkU2VnbWVudHNbMF0pLnZhbHVlID09PSBSZXN0QWN0aW9uLkRvKSB7XG4gICAgICAgICAgICB1cmwuYWRkKCcvJykuYWRkKCdhY3Rpb25zJykuYWRkKCcvJykuYWRkKCg8QWN0aW9uU2VnbWVudD5zb3J0ZWRTZWdtZW50c1swXSkuZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXJsLnRvU3RyaW5nKCk7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIGFkZFNsYXNoKHVybDogU3RyaW5nSm9pbmVyLCBzaG91bGRBZGQ6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoc2hvdWxkQWRkKSB7XG4gICAgICAgICAgICB1cmwuYWRkKCcvJyk7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSB2YWxpZGF0ZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgYWN0aW9uOiBBY3Rpb25TZWdtZW50ID0gPEFjdGlvblNlZ21lbnQ+dGhpcy51cmxHcm91cC5sb29rdXAoUmVzdFNlZ21lbnRUeXBlLkFjdGlvbik7XG5cbiAgICAgICAgc3dpdGNoIChhY3Rpb24uYWN0aW9uVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBSZXN0QWN0aW9uLlNhdmU6XG4gICAgICAgICAgICBjYXNlIFJlc3RBY3Rpb24uRG86XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGhhdmUgYSBJZGVudGlmaWVyXG4gICAgICAgICAgICAgICAgbGV0IHdpdGhJZENvdW50ID0gdGhpcy51cmxHcm91cC5jb3VudChSZXN0U2VnbWVudFR5cGUuSWRlbnRpZmllcik7XG4gICAgICAgICAgICAgICAgbGV0IG9mID0gdGhpcy51cmxHcm91cC5sb29rdXAoUmVzdFNlZ21lbnRUeXBlLk9mUGFyZW50KTtcblxuICAgICAgICAgICAgICAgIGFzc2VydCh3aXRoSWRDb3VudCA+PSAxLCAnTWlzc2luZyB3aXRoSWQoPElERU5USUZJRVI+KSBjYWxsIScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgT0Ygc2VnbWVudCB3aGVyZSB3ZSByZWZlciB0byBwYXJlbnQgcmVzb3VyY2UuIEluIHN1Y2ggY2FzZSB3ZVxuICAgICAqIG5lZWQgbW92ZSBhbGwgYmVmb3JlIE9GIGF0IHRoZSBlbmQuIEVpdGhlciBhZnRlciBwYXJlbnQgUkVTT1VSQ0Ugb3IgSURFTlRJRklFUlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiAgIHNlcnZpY2VcbiAgICAgKiAgICAgIC5sb2FkKClcbiAgICAgKiAgICAgIC5yZXNvdXJjZShMaW5lSXRlbSlcbiAgICAgKiAgICAgIC5vZlxuICAgICAqICAgICAgLnJlc291cmNlKFJlcXVpc2l0aW9uKVxuICAgICAqICAgICAgLndpdGhJZCgnMTIzJyk7XG4gICAgICogIGBgYFxuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqIEZpbmQgdGhlIE9GIHNlZ21lbnQgYW5kIGdvIGJhY2sgdW50aWwgd2UgcmVhY2ggUmVzb3VyY2UgYW5kIGFkanVzdCByYW5rIG9mIHRoZXNlIGFkblxuICAgICAqIHRoZW5cbiAgICAgKiBzb3J0XG4gICAgICpcbiAgICAgKlxuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGFkanVzdFJhbmsoc2VnbWVudHM6IFVybFNlZ21lbnRbXSk6IFVybFNlZ21lbnRbXVxuICAgIHtcbiAgICAgICAgbGV0IG9mSW5kZXggPSBzZWdtZW50c1xuICAgICAgICAgICAgLmZpbmRJbmRleCgoczogVXJsU2VnbWVudCkgPT4gcy50eXBlID09PSBSZXN0U2VnbWVudFR5cGUuT2ZQYXJlbnQpO1xuXG4gICAgICAgIGlmIChvZkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgbGV0IG9mID0gc2VnbWVudHNbb2ZJbmRleF07XG4gICAgICAgICAgICBsZXQgc2VnbWVudDogVXJsU2VnbWVudDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBzZWdtZW50ID0gc2VnbWVudHNbLS1vZkluZGV4XTtcbiAgICAgICAgICAgICAgICBzZWdtZW50LnJhbmsgKj0gb2YucmFuaztcbiAgICAgICAgICAgIH0gd2hpbGUgKHNlZ21lbnQudHlwZSAhPT0gUmVzdFNlZ21lbnRUeXBlLlJlc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWdtZW50cy5zb3J0KChhLCBiKSA9PiBhLnJhbmsgLSBiLnJhbmspO1xuICAgIH1cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtSZXNvdXJjZVNlZ21lbnQsIFJlc3RTZWdtZW50VHlwZSwgVXJsU2VnbWVudH0gZnJvbSAnLi9zZWdtZW50JztcbmltcG9ydCB7YXNzZXJ0LCBpc0JsYW5rLCBpc1ByZXNlbnQsIGlzU3RyaW5nfSBmcm9tICcuLi8uLi91dGlscy9sYW5nJztcbmltcG9ydCB7TGlzdFdyYXBwZXJ9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24nO1xuaW1wb3J0IHtUeXBlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuLyoqXG4gKlxuICogVGhpcyBjbGFzcyBqdXN0IGFnZ3JlZ2F0ZXMgYW5kIHByb3ZpZGVzIGNvbnZpZW50IGFwaXQgdG8gdG8gd29yayB3aXRoIFVybFNlZ21lbnRzXG4gKlxuICovXG5leHBvcnQgY2xhc3MgUmVzdFVybEdyb3VwXG57XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfc2VnbWVudHM/OiBVcmxTZWdtZW50W10pXG4gICAge1xuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLl9zZWdtZW50cykpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRzID0gW107XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogRXZlcnkgcHVzaCBpcyB2YWxpZGF0ZWQgYWdhaW50cyBVcmxTZWdtZW50IGFzc2VydCBtZXRob2RzIHRvIG1ha2Ugc3VyZSB0aGUgb3JkZXIgb2YgdGhlXG4gICAgICogbWV0aG9kIGNhbGxzIGlzIGNvcnJlY3RcbiAgICAgKlxuICAgICAqL1xuICAgIHB1c2goc2VnbWVudDogVXJsU2VnbWVudCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHNlZ21lbnQuYXNzZXJ0U2VnbWVudCgodGhpcy5fc2VnbWVudHMubGVuZ3RoID4gMCkgPyB0aGlzLnBlYWsoKS50eXBlIDogbnVsbCk7XG5cbiAgICAgICAgaWYgKGlzU3RyaW5nKHNlZ21lbnQudmFsdWUpKSB7XG4gICAgICAgICAgICBzZWdtZW50LnZhbHVlID0gc2VnbWVudC52YWx1ZS5yZXBsYWNlKC9eXFwvfFxcLyQvZywgJycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBTdGFjayBsaWtlIEFQSVxuICAgICAqXG4gICAgICovXG4gICAgcGVhaygpOiBVcmxTZWdtZW50XG4gICAge1xuICAgICAgICByZXR1cm4gTGlzdFdyYXBwZXIubGFzdDxVcmxTZWdtZW50Pih0aGlzLl9zZWdtZW50cyk7XG4gICAgfVxuXG5cbiAgICBwb3AoKTogVXJsU2VnbWVudFxuICAgIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuX3NlZ21lbnRzLmxlbmd0aCA+IDAsXG4gICAgICAgICAgICAnIEF0dGVtcHQgdG8gZ2V0IHZhbHVlIGZyb20gZW1wdHkgc2VnbWVudHMgc3RhY2snKTtcblxuICAgICAgICByZXR1cm4gTGlzdFdyYXBwZXIucmVtb3ZlQXQ8VXJsU2VnbWVudD4odGhpcy5fc2VnbWVudHMsIHRoaXMuX3NlZ21lbnRzLmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIHVwZGF0ZVNlZ21lbnQoc2VnbWVudFR5cGU6IFJlc3RTZWdtZW50VHlwZSwgZGF0YTogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IHVybFNlZ21lbnQgPSB0aGlzLmxvb2t1cChzZWdtZW50VHlwZSk7XG4gICAgICAgIHVybFNlZ21lbnQudmFsdWUgPSBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQmFzZWQgb24gdGhlIGVudW0gU2VnbWVudCBUeXBlICBpdCB3aWxsIHJldHJpZXZlIGNvcnJlY3Qgc2VnbWVudCBmcm9tIHRoZSBzdGFja1xuICAgICAqXG4gICAgICovXG4gICAgbG9va3VwKHNlZ21lbnQ6IFJlc3RTZWdtZW50VHlwZSwgYnlSZXNvdXJjZT86IFR5cGU8YW55Pik6IFVybFNlZ21lbnRcbiAgICB7XG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuc2VnbWVudHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzcyA9IFsuLi50aGlzLnNlZ21lbnRzXTtcbiAgICAgICAgc3MgPSBzcy5yZXZlcnNlKCk7XG5cbiAgICAgICAgcmV0dXJuIHNzLmZpbmQoKChzOiBVcmxTZWdtZW50KSA9PiB7XG4gICAgICAgICAgICBsZXQgaGFzTWF0Y2ggPSBzLnR5cGUgPT09IHNlZ21lbnQ7XG5cbiAgICAgICAgICAgIGlmIChzZWdtZW50ID09PSBSZXN0U2VnbWVudFR5cGUuUmVzb3VyY2UpIHtcblxuICAgICAgICAgICAgICAgIGlmIChpc1ByZXNlbnQoYnlSZXNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhc01hdGNoICYmICg8UmVzb3VyY2VTZWdtZW50PnMpLnZhbHVlID09PSBieVJlc291cmNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXNNYXRjaDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaGFzTWF0Y2g7XG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIENvdW50cyBudW1iZXIgb2Ygc2VnbWVudHMgb2YgY2VydGFpbiB0eXBlXG4gICAgICpcbiAgICAgKi9cbiAgICBjb3VudChzZWdtZW50OiBSZXN0U2VnbWVudFR5cGUpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGxldCBzZWdtZW50cyA9IHRoaXMuc2VnbWVudHMuZmlsdGVyKChzOiBVcmxTZWdtZW50KSA9PiBzZWdtZW50ID09PSBzLnR5cGUpO1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHNlZ21lbnRzKSA/IHNlZ21lbnRzLmxlbmd0aCA6IDA7XG4gICAgfVxuXG5cbiAgICBnZXQgc2VnbWVudHMoKTogVXJsU2VnbWVudFtdXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VnbWVudHM7XG4gICAgfVxufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5cblxuaW1wb3J0IHttYXB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuaW1wb3J0IHtJbmplY3RhYmxlLCBUeXBlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gICAgSHR0cENsaWVudCxcbiAgICBIdHRwRXJyb3JSZXNwb25zZSxcbiAgICBIdHRwSGVhZGVycyxcbiAgICBIdHRwUGFyYW1zLFxuICAgIEh0dHBQcm9ncmVzc0V2ZW50LFxuICAgIEh0dHBSZXNwb25zZVxufSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQge0VudGl0eSwgaXNFbnRpdHksIGlzVmFsdWUsIFZhbHVlfSBmcm9tICcuL2RvbWFpbi1tb2RlbCc7XG5pbXBvcnQge0FwcENvbmZpZ30gZnJvbSAnLi4vY29uZmlnL2FwcC1jb25maWcnO1xuaW1wb3J0IHtcbiAgICBBY3Rpb25TZWdtZW50LFxuICAgIENvbnRleHRTZWdtZW50LFxuICAgIEhvc3RTZWdtZW50LFxuICAgIElkZW50aWZpZXJTZWdtZW50LFxuICAgIE9mUGFyZW50U2VnbWVudCxcbiAgICBSZXNvdXJjZVNlZ21lbnQsXG4gICAgUmVzdEFjdGlvbixcbiAgICBSZXN0U2VnbWVudFR5cGVcbn0gZnJvbSAnLi91cmwvc2VnbWVudCc7XG5pbXBvcnQge1N1YnNjcmlwdGlvbiwgT2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0RlZmF1bHRSZXN0QnVpbGRlcn0gZnJvbSAnLi91cmwvYnVpbGRlcic7XG5pbXBvcnQge1Jlc3RVcmxHcm91cH0gZnJvbSAnLi91cmwvdXJsLWdyb3VwJztcbmltcG9ydCB7YXNzZXJ0LCBpc0FycmF5LCBpc0JsYW5rLCBpc0RhdGUsIGlzUHJlc2VudH0gZnJvbSAnLi4vdXRpbHMvbGFuZyc7XG5cblxuLyoqXG4gKiBSZXNwb25zZSBpcyB0aGUgZ2VuZXJpYyB3cmFwcGVyIGludGVyZmFjZSBlbmNhcHN1bGF0aW5nIGEgcmVzcG9uc2UgZnJvbSB0aGUgbWljcm8gc2VydmljZS5cbiAqIEN1cnJlbnRseSB3ZSBoYXZlIG9ubHkgYm9keSBmaWVsZCwgYnV0IGxhdGVyIG9uIHdlIG5lZWQgdG8gZXh0ZW5kIGl0IGZvciBkaWZmZXJlbnQgbm90aWZpY2F0aW9ucyxcbiAqIGVycm9ycywgcGFnaW5nIGluZm9ybWF0aW9uIGFuZCBtdWNoIG1vcmUuXG4gKlxuICpcbiAqXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2U8VD4ge1xuICAgIHBheWxvYWQ6IFQ7XG59XG5cblxuLyoqXG4gKlxuICogVG8gc2ltcGxpZnkgd29yayB3aXRoIGN1cnJlbnQgSHR0cENsaWVudCB0aGUgUmVzb3VyY2UgcHJvdmlkZXMgZmx1ZW50IEFQSSBvbiB0b3Agb2YgaXQuIFlvdSBkb250XG4gKiBhc3NlbWJsZSBVUkwgdHJhZGl0aW9uYWwgd2F5IHJhdGhlciBtb3JlIGZsdWVudCBhbmQgZnVuY3Rpb25hbCB3YXksIHdvcmtpbmcgd2l0aCByZWFsIGRhdGEgdHlwZXNcbiAqIHN1Y2ggYSBWYWx1ZSBhbmQgRW50aXR5LlxuICpcbiAqIEVudGl0eSBhbmQgVmFsdWUgYXJlIHR3byBtYWluIGtleSBpbnRlcmZhY2VzIHRoYXQgYWxsIGRvbWFpbiBvYmplY3RzIHNob3VsZCBpbmhlcml0IGZyb20gaWYgdGhleVxuICogd2FudCB0byBsZXZlcmFnZSB0aGlzIGZ1bmN0aW9uYWxpdHkuXG4gKlxuICogIyMjRXhhbXBsZVxuICpcbiAqIDEuICB0byBzaW1wbHkgYXNzZW1ibGUgZm9sbG93aW5nIFVSTCBodHRwOi8vYXBpLmFyaWJhLmNvbS9teVNlcnZpY2UvdjEvcmVxdWlzaXRpb25zLzEyMyBhbmRcbiAqICBhbmQgZmV0Y2ggUmVxdWlzaXRpb24gZGF0YTpcbiAqXG4gKiBgYGB0c1xuICogIGxldCByOiBSZXNvdXJjZVxuICpcbiAqICByLmxvYWQoKVxuICogICAucmVzb3VyY2UoUmVxdWlzaXRpb24pXG4gKiAgIC53aXRoSWQoJzEyMycpXG4gKiAgIC5hc0VudGl0eTxSZXF1aXNpdGlvbj4oKHI6IFJlcXVpc2l0aW9uKSA9PiByZWNlaXZlZFIgPSByKTtcbiAqXG4gKiBgYGBcbiAqIFlvdSB5b3UgY2FuIHNpbXBseSByZWFkIGl0OiBsb2FkIHJlc291cmNlIFJlcXVpc2l0aW9uIHdpdGggSUQgMTIzIGFuZCByZXR1cm4gdGhpcyBhcyBFbnRpdHlcbiAqXG4gKiAyLiBDdXJyZW50IGZsdWVudCBBUEkgYWxzbyBzdXBwb3J0IHBhcnRpYWwgdXBkYXRlcyBhbmQgc3ViY29udGV4dCByZXNvdXJjZVxuICogIHRvIGxvYWQgZGF0YSBmcm9tIHRoaXMgUkVTVCBBUEkgZW5kcG9pbnRcbiAqICAgICAgaHR0cDovL2FwaS5hcmliYS5jb20vbXlTZXJ2aWNlL3YxL3JlcXVpc2l0aW9ucy8xMjMvc3VwcGxpZXJzXG5cblxuICogYGBgdHNcbiAqICBsZXQgcjogUmVzb3VyY2VcbiAqXG4gKiAgci5sb2FkKClcbiAqICAgLnJlc291cmNlKFN1cHBsaWVyKVxuICogICAub2ZcbiAqICAgLnJlc291cmNlKFJlcXVpc2l0aW9uKVxuICogICAud2l0aElkKCcxMjMnKVxuICogICAuYXNFbnRpdHk8U3VwcGxpZXI+KChyOiAgU3VwcGxpZXJbXSkgPT4gcmVjZWl2ZWRSID0gcik7XG4gKlxuICogYGBgXG4gKlxuICogIFlvdSBjYW4gcmVhZCBhYm92ZTogTG9hZCBhbGwgZnJvbSByZXNvdXJjZSBTdXBwbGllciBvZiBSZXF1aXNpdGlvbiAob3Igc3VwcGxpZXIgYmVsb25ncyB0b1xuICogIFJlcXVpc2l0aW9uKSAgd2l0aCBJRCAxMjMgYW5kIHJldHVybiB0aGlzIGFzIEVudGl0eS5cbiAqXG4gKlxuICogMy4gVG8gc2F2ZSBkYXRhIHlvdSBmb2xsb3cgdGhlIHNhbWUgc3ludGF4XG4gKiAgICAgIFNhdmUgcmVxdWlzaXRpb24gc28gd2UgYXJlIFBVVHRpbmcgZGF0YSB0byBmb2xsb3dpbmcgVVJMXG4gKiAgICAgIGh0dHA6Ly9hcGkuYXJpYmEuY29tL215U2VydmljZS92MS9yZXF1aXNpdGlvbnMvMTIzXG4gKlxuICogYGBgdHNcbiAqICBsZXQgcjogUmVzb3VyY2VcbiAqXG4gKiAgICAgICAgICByXG4gKiAgICAgICAgLnNhdmUoKVxuICogICAgICAgIC5yZXNvdXJjZShSZXF1aXNpdGlvbilcbiAqICAgICAgICAud2l0aElkKCcxMjMnKVxuICogICAgICAgIC53aXRoRGF0YShwcilcbiAqICAgICAgICAuYXNFbnRpdHk8UmVxdWlzaXRpb24+KChyOiBSZXF1aXNpdGlvbikgPT4gcmVjZWl2ZWRSID0gcik7XG4gKlxuICpcbiAqIGBgYFxuICpcbiAqICBZb3UgY2FuIHJlYWQgYWJvdmU6IFNhdmUgcmVzb3VyY2UgUmVxdWlzaXRpb24gd2l0aCBJRCAxMjMgYW5kIHdpdGggRGF0YSAuLi4uIGFuZCByZXR1cm4gaXQgYXNcbiAqICBhIEVudGl0eVxuICpcbiAqXG4gKiAgNC4gQVBJIGNhbiBhbHNvIGZvciB5b3UgYXNzZW1ibGUgYW5kIGV4ZWN1dGUgYWN0aW9ucyBzb21ldGltZXMgY2FsbGVkIGludGVyYWN0aW9uLiBOb3QgYWxsIGlzXG4gKiAgYWJvdXQgQ1JVRC4gT3VyIGN1cnJlbnQgc3ludGF4IGZvciBhY3Rpb25zIGlzXG4gKlxuICogICAgICAgICAgICAgICAgICAgICAgIGh0dHA6Ly9hcGkuYXJpYmEuY29tL215U2VydmljZS92MS9yZXF1aXNpdGlvbnMvMTIzL2FjdGlvbnMvYXBwcm92ZVxuICpcbiAqIGBgYHRzXG4gKiAgbGV0IHI6IFJlc291cmNlXG4gKlxuICogICAgICAgIHJcbiAqICAgICAgICAuZG8oJ2FwcHJvdmUnKVxuICogICAgICAgIC5yZXNvdXJjZShSZXF1aXNpdGlvbilcbiAqICAgICAgICAud2l0aElkKCcxMjMnKVxuICogICAgICAgIC5hc0VudGl0eTxSZXF1aXNpdGlvbj4oKHI6IFJlcXVpc2l0aW9uKSA9PiByZWNlaXZlZFIgPSByKTtcbiAqXG4gKlxuICogYGBgXG4gKlxuICogVG8gbWFrZSBpdCBlYXNpbHkgZXh0ZW5zaWJsZSB0aGV5IGFyZSAzIG1haW4gcGllY2VzXG4gKiAgLSBSZXNvdXJjZTogVGhpcyBjbGFzcyBqdXN0IHB1dCB0b2dldGhlciBhYnN0cmFjdCBzdHJ1Y3R1cmUgVVJMU2VnbWVudFxuICogIC0gVVJMU2VnbWVudHM6IE1vcmUgbGlrZSBBU1Qgc3R5bGUgdG8gYXNzZW1ibGUgdGhlIFVSTFxuICogIC0gYnVpbGRlcjogdGhhdCByZWFkIHRoaXMgQVNUIHRvIGFzc2VtYmxlIHRoZSBVUkxcbiAqXG4gKlxuICogTGF0ZXIgb24gd2UgbWlnaHQgd2FudCB0byBleHBvc2UgYnVpbGRlciBhcyBhIHByb3ZpZGVyIGFuZCB5b3UgY2FuIGhhdmUgeW91ciBvd24gaW1wbGVtZW50YXRpb25cbiAqXG4gKlxuICpcbiAqXG4gKi9cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogUmVzdFVybEdyb3VwIGFnZ3JlZ2F0ZXMgVXJsU2VnbWVudHNcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgX3VybEdyb3VwOiBSZXN0VXJsR3JvdXA7XG5cbiAgICAvKipcbiAgICAgKiBPbmNlIGFsbCBVUkwgYXJlIGFzc2VtYmxlZCB0aGUgYnVpbGRlciByZXR1cm5zIGZpbmFsIFVSTCB0byBiZSB1c2VkIGZvciB0aGUgSHR0cENsaWVudFxuICAgICAqL1xuICAgIHByaXZhdGUgX3VybEJ1aWxkZXI6IERlZmF1bHRSZXN0QnVpbGRlcjtcblxuICAgIC8qKlxuICAgICAqIENhY2hlZCB1cmwsIHNvIHdlIGRvbnQgaGF2ZSB0byBhc3NlbWJsZSB0aGlzIGV2ZXJ5dGltZSBzb21lYm9keSBjYWxscyB1cmxcbiAgICAgKi9cbiAgICBwcml2YXRlIF91cmw6IHN0cmluZztcblxuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50LCBwcml2YXRlIGFwcENvbmZpZzogQXBwQ29uZmlnKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWRlbnRpZmllcyBHRVQgb3BlcmF0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBsb2FkKCk6IFJlc291cmNlIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG5cbiAgICAgICAgdGhpcy51cmxHcm91cC5wdXNoKG5ldyBBY3Rpb25TZWdtZW50KFJlc3RBY3Rpb24uTG9hZCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIElkZW50aWZpZXMgUFVUIG9yIFBPU1Qgb3BlcmF0aW9uLiBEZXBlbmRpbmcgb24gdGhlIG9iamVjdC4gSWYgdGhlIG9iamVjdCBoYXMgYWxyZWFkeVxuICAgICAqIHBvcHVsYXRlZCBpdHMgaWRlbnRpZmllciwgdGhlbiB3ZSB1c2UgUFVULCBvdGhlcndpc2UgUE9TVFxuICAgICAqXG4gICAgICovXG4gICAgc2F2ZSgpOiBSZXNvdXJjZSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuXG4gICAgICAgIHRoaXMudXJsR3JvdXAucHVzaChuZXcgQWN0aW9uU2VnbWVudChSZXN0QWN0aW9uLlNhdmUpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBJZGVudGlmaWVzIGludGVyYWN0aW9uLiBGb3IgdGhpcyB3ZSB1c2UgUE9TVFxuICAgICAqXG4gICAgICovXG4gICAgZG8oYWN0aW9uOiBzdHJpbmcpOiBSZXNvdXJjZSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuXG4gICAgICAgIHRoaXMudXJsR3JvdXAucHVzaChuZXcgQWN0aW9uU2VnbWVudChSZXN0QWN0aW9uLkRvLCBhY3Rpb24pKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFRPRE86IFNpbmNlIHF1ZXJ5IEFQSSBpcyBub3QgeWV0IGltcGxlbWVudGVkIG9uIHRoZSBzZXJ2ZXIgc2lkZSA9PiBUQkRcbiAgICAgKlxuICAgICAqIFRoZXJlIHdoZXJlIHNob3VsZCBiZSBhYmxlIHRvIGFjY2VwdHMgaW5kaXZpZHVhbCBxdWVyeSBncmFtbWFyLiBTaW1pbGFyIHN0eWxlIGxpa2Ugcnhqc1xuICAgICAqIG9wZXJhdG9ycy5cbiAgICAgKlxuICAgICAqICBlLmcuOiBSZXNvdXJjZS5wcm90b3R5cGUuY29udGFpbnMgPSAuLi4uXG4gICAgICogICAgICAgIFJlc291cmNlLnByb3RvdHlwZS5lcSA9IC4uLi5cbiAgICAgKlxuICAgICAqIFlvdSBzaG91bGQgYmUgYWJsZSB0byBhZGQgZHluYW1pY2FsbHkgbGV0O3MgY2FsbCBpdCBRdWVyeVNwZWNpZmljYXRpb25cbiAgICAgKlxuICAgICAqICAgICAgcmVzXG4gICAgICogICAgICAucXVlcnkoKVxuICAgICAqICAgICAgLnJlc291cmNlKFJlcXVzaXRpb24pXG4gICAgICogICAgICAud2hlcmUoIGNvbnRhaW5zPHN0cmluZz4ocmVxRW50aXR5LnRpdGxlKCksICcqYXNkZionIClcbiAgICAgKlxuICAgICAqICBzbyBpdCBjb3VsZCBsb29rIGxpa2Ugc29tZXRoaW5nIGxpa2U6XG4gICAgICpcbiAgICAgKlxuICAgICAqICBjb250YWluczxUPih0aXRsZTogc3RyaW5nLCB2YWx1ZTogVCk6IFRcbiAgICAgKlxuICAgICAqICBCdXQgc2luY2UgYWxsIHRoZXNlIFNwZWNpZmljYXRpb24gd291bGQgaGF2ZSBhIHdheSB0byB0cmFuc2xhdGUgdGhpcyBrZXl8dmFsdWUgdG8gdGhlXG4gICAgICogIHF1ZXJ5IHNvIHRoZSB3aGVyZSwgd291bGQganVzdCBsaXN0IGFsbCB0aGUgc3BlY2lmaWNhdGlvbiB0byBidWxpZFxuICAgICAqICB0aGUgcXVlcnlcbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgcXVlcnkoKTogUmVzb3VyY2Uge1xuICAgICAgICB0aGlzLmluaXQoKTtcblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cblxuICAgIHdoZXJlKCk6IFJlc291cmNlIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIElkZW50aWZpZXMgUmVzb3VyY2VTZWdtZW50IHdpdGggc3BlY2lmaWMgdHlwZSB0aGF0IG11c3QgYmUgZWl0aGVyIEVudGl0eSBvciBWYWx1ZVxuICAgICAqXG4gICAgICovXG4gICAgcmVzb3VyY2U8VCBleHRlbmRzIEVudGl0eSB8IFZhbHVlPih0eXBlOiBUeXBlPFQ+KTogUmVzb3VyY2Uge1xuICAgICAgICB0aGlzLnVybEdyb3VwLnB1c2gobmV3IFJlc291cmNlU2VnbWVudCh0eXBlKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElkZW50aWZpZXIgSWRlbnRpZmllclNlZ21lbnRcbiAgICAgKlxuICAgICAqL1xuICAgIHdpdGhJZChpZGVudGlmaWVyOiBzdHJpbmcpOiBSZXNvdXJjZSB7XG4gICAgICAgIHRoaXMudXJsR3JvdXAucHVzaChuZXcgSWRlbnRpZmllclNlZ21lbnQoaWRlbnRpZmllcikpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHdlIGFyZSBzYXZpbmcgZGF0YSB0aGlzIG1ldGhvZCBpcyB1c2VkIHRvIGluc2VydCBhIHBheWxvYWQgdG8gdGhlIEFjdGlvblNlZ21lbnRcbiAgICAgKlxuICAgICAqL1xuICAgIHdpdGhEYXRhPFQgZXh0ZW5kcyBFbnRpdHkgfCBWYWx1ZT4oZGF0YTogVCk6IFJlc291cmNlIHtcbiAgICAgICAgbGV0IHVybFNlZ21lbnQgPSB0aGlzLnVybEdyb3VwLmxvb2t1cChSZXN0U2VnbWVudFR5cGUuQWN0aW9uKTtcbiAgICAgICAgbGV0IGlzU2F2ZSA9ICg8QWN0aW9uU2VnbWVudD51cmxTZWdtZW50KS5hY3Rpb25UeXBlID09PSBSZXN0QWN0aW9uLlNhdmU7XG5cbiAgICAgICAgYXNzZXJ0KGlzU2F2ZSwgJ3dpdGhEYXRhIGNhbiBiZSB1c2VkIHdpdGggU0FWRSBvcGVyYXRpb24gb25seSEnKTtcblxuICAgICAgICAoPEFjdGlvblNlZ21lbnQ+dXJsU2VnbWVudCkuZGF0YSA9IGRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogT0YgaXMganVzdCBhIHN5bnRhY3RpYyBzdWdnYXIgZm9yIGJldHRlciByZWFkYWJpbGl0eSBhbmQgdG8gZWFzaWVyIHdvcmsgd2l0aCBzdWIgcmVzb3VyY2VzLlxuICAgICAqIHVzaW5nIE9GIHdlIGFyZSBhYmxlIHRvIHRlbGwgdGhhdCBzb21lIHJlc291cmNlIGJlbG9uZ3MgdG8gb3RoZXIgcmVzb3VyY2VcbiAgICAgKlxuICAgICAqL1xuICAgIGdldCBvZigpOiBSZXNvdXJjZSB7XG4gICAgICAgIHRoaXMudXJsR3JvdXAucHVzaChuZXcgT2ZQYXJlbnRTZWdtZW50KCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogT25jZSB0ZWxsIHdoYXQgeW91IHdhbnQgdGhpcyBpcyB0aGUgbGFzdCBjYWxsIHlvdSB3YW50IHRvIG1ha2UgdG8gcmV0dXJuIHJlc291cmNlcyBhcyBhY3R1YWxcbiAgICAgKiBFbnRpdGllcyBvciBWYWx1ZXMuXG4gICAgICpcbiAgICAgKiBUb2RvOiBNYXliZSByZW5hbWUgYSBtZXRob2QgbmFtZSBhcyB3ZSBjYW4gcmV0dXJuIGJvdGggRW50aXR5IGFuZCBWYWx1ZS5cbiAgICAgKlxuICAgICAqIFlvdSBoYXZlIGFsc28gb3B0aW9uIHRvIGluc2VydCBIdHRwT3B0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBhc0VudGl0eTxUIGV4dGVuZHMgRW50aXR5IHwgVmFsdWU+KHN1YnNjcmliZXI6IChyZXM6IFQgfCBUW10pID0+IHZvaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmU6ICdib2R5J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcz86IEh0dHBQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZT86ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA9IHtvYnNlcnZlOiAnYm9keSd9KTogU3Vic2NyaXB0aW9uIHtcbiAgICAgICAgbGV0IHNlZ21lbnQ6IEFjdGlvblNlZ21lbnQgPSA8QWN0aW9uU2VnbWVudD4gdGhpcy51cmxHcm91cC5sb29rdXAoUmVzdFNlZ21lbnRUeXBlLkFjdGlvbik7XG4gICAgICAgIGFzc2VydChpc1ByZXNlbnQoc2VnbWVudCksICdNaXNzaW5nIEh0dHAgbWV0aG9kLiBOb3Qgc3VyZSBob3cgdG8gaGFuZGxlIHRoaXMhJyk7XG5cbiAgICAgICAgbGV0IG9ic2VydmFibGU6IE9ic2VydmFibGU8YW55PjtcblxuICAgICAgICBsZXQgYWN0aW9uVHlwZTogUmVzdEFjdGlvbiA9IHNlZ21lbnQudmFsdWU7XG4gICAgICAgIHN3aXRjaCAoYWN0aW9uVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBSZXN0QWN0aW9uLkxvYWQ6XG4gICAgICAgICAgICAgICAgb2JzZXJ2YWJsZSA9IHRoaXMuaHR0cC5nZXQ8UmVzcG9uc2U8VCB8IFRbXT4+KHRoaXMudXJsLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXN0QWN0aW9uLkRvOlxuICAgICAgICAgICAgICAgIG9ic2VydmFibGUgPSB0aGlzLmh0dHAucG9zdDxSZXNwb25zZTxUIHwgVFtdPj4odGhpcy51cmwsIHt9LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXN0QWN0aW9uLlNhdmU6XG4gICAgICAgICAgICAgICAgLy8gd2UgZG9udCBoYXZlIHJpZ2h0IG5vdyBvdGhlciB1c2VjYXNlIHN1YmNvbnRleHQgcmVzb3VyY2Ugd2lsbCBiZSBhbHdheXMgc29tZVxuICAgICAgICAgICAgICAgIC8vIGFycmF5XG4gICAgICAgICAgICAgICAgaWYgKGlzRW50aXR5KHNlZ21lbnQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQmxhbmsoKDxFbnRpdHk+c2VnbWVudC5kYXRhKS5pZGVudGl0eSgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YWJsZSA9IHRoaXMuaHR0cC5wb3N0PFJlc3BvbnNlPFQgfCBUW10+Pih0aGlzLnVybCwgc2VnbWVudC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YWJsZSA9IHRoaXMuaHR0cC5wdXQ8UmVzcG9uc2U8VCB8IFRbXT4+KHRoaXMudXJsLCBzZWdtZW50LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzVmFsdWUoc2VnbWVudC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBleHBlY3QgdmFsdWUgd2lsbCBiZSBhbHdheXMgcHVzaGVkXG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmFibGUgPSB0aGlzLmh0dHAucHV0PFJlc3BvbnNlPFQgfCBUW10+Pih0aGlzLnVybCwgc2VnbWVudC5kYXRhLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlLnBpcGUobWFwPFJlc3BvbnNlPFQgfCBUW10+LCBUIHwgVFtdPihyZXMgPT4gdGhpcy5jb252ZXJ0VG9Db21wb3NpdGUocmVzLFxuICAgICAgICAgICAgdHJ1ZSwgZmFsc2UpKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH1cblxuXG4gICAgYXNIdHRwUmVzcG9uc2U8VCBleHRlbmRzIEVudGl0eSB8XG4gICAgICAgIFZhbHVlPihzdWJzY3JpYmVyOiAocmVzOiBIdHRwUmVzcG9uc2U8UmVzcG9uc2U8VCB8IFRbXT4+IHwgSHR0cFByb2dyZXNzRXZlbnQpID0+IHZvaWQsXG4gICAgICAgICAgICAgICBlcnJvcj86IChlcnJvcjogSHR0cEVycm9yUmVzcG9uc2UpID0+IHZvaWQsXG4gICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgaGVhZGVycz86IEh0dHBIZWFkZXJzLCBvYnNlcnZlOiAncmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgICAgIHBhcmFtcz86IEh0dHBQYXJhbXMsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU/OiAnanNvbicsIHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW5cbiAgICAgICAgICAgICAgIH0gPSB7b2JzZXJ2ZTogJ3Jlc3BvbnNlJ30pOiBTdWJzY3JpcHRpb24ge1xuXG4gICAgICAgIGxldCBzZWdtZW50OiBBY3Rpb25TZWdtZW50ID0gPEFjdGlvblNlZ21lbnQ+IHRoaXMudXJsR3JvdXAubG9va3VwKFJlc3RTZWdtZW50VHlwZS5BY3Rpb24pO1xuICAgICAgICBhc3NlcnQoaXNQcmVzZW50KHNlZ21lbnQpLCAnTWlzc2luZyBIdHRwIG1ldGhvZC4gTm90IHN1cmUgaG93IHRvIGhhbmRsZSB0aGlzIScpO1xuXG4gICAgICAgIGxldCBvYnNlcnZhYmxlOiBPYnNlcnZhYmxlPGFueT47XG5cbiAgICAgICAgbGV0IGFjdGlvblR5cGU6IFJlc3RBY3Rpb24gPSBzZWdtZW50LnZhbHVlO1xuICAgICAgICBzd2l0Y2ggKGFjdGlvblR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUmVzdEFjdGlvbi5Mb2FkOlxuICAgICAgICAgICAgICAgIG9ic2VydmFibGUgPSB0aGlzLmh0dHAuZ2V0PFJlc3BvbnNlPFQgfCBUW10+Pih0aGlzLnVybCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzdEFjdGlvbi5EbzpcbiAgICAgICAgICAgICAgICBvYnNlcnZhYmxlID0gdGhpcy5odHRwLnBvc3Q8UmVzcG9uc2U8VCB8IFRbXT4+KHRoaXMudXJsLCB7fSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzdEFjdGlvbi5TYXZlOlxuICAgICAgICAgICAgICAgIC8vIHdlIGRvbnQgaGF2ZSByaWdodCBub3cgb3RoZXIgdXNlY2FzZSBzdWJjb250ZXh0IHJlc291cmNlIHdpbGwgYmUgYWx3YXlzIHNvbWVcbiAgICAgICAgICAgICAgICAvLyBhcnJheVxuICAgICAgICAgICAgICAgIGlmIChpc0VudGl0eShzZWdtZW50LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0JsYW5rKCg8RW50aXR5PnNlZ21lbnQuZGF0YSkuaWRlbnRpdHkoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmFibGUgPSB0aGlzLmh0dHAucG9zdDxSZXNwb25zZTxUIHwgVFtdPj4odGhpcy51cmwsIHNlZ21lbnQuZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmFibGUgPSB0aGlzLmh0dHAucHV0PFJlc3BvbnNlPFQgfCBUW10+Pih0aGlzLnVybCwgc2VnbWVudC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1ZhbHVlKHNlZ21lbnQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgZXhwZWN0IHZhbHVlIHdpbGwgYmUgYWx3YXlzIHB1c2hlZFxuICAgICAgICAgICAgICAgICAgICBvYnNlcnZhYmxlID0gdGhpcy5odHRwLnB1dDxSZXNwb25zZTxUIHwgVFtdPj4odGhpcy51cmwsIHNlZ21lbnQuZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaGFzUHJvZ3Jlc3MgPSBvcHRpb25zLnJlcG9ydFByb2dyZXNzIHx8IGZhbHNlO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZS5waXBlKFxuICAgICAgICAgICAgbWFwKHJlcyA9PiB0aGlzLmNvbnZlcnRUb0NvbXBvc2l0ZShyZXMsIGZhbHNlLCBoYXNQcm9ncmVzcykpKVxuICAgICAgICAgICAgLnN1YnNjcmliZShzdWJzY3JpYmVyLCBlcnJvcik7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFJldHVybiBhc3NlYmxlZCBVUkwgQVNUIC0+IHN0cmluZ1xuICAgICAqXG4gICAgICovXG4gICAgZ2V0IHVybCgpOiBzdHJpbmcge1xuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLl91cmwpKSB7XG4gICAgICAgICAgICBsZXQgaXNNb2NrZWQgPSB0aGlzLmFwcENvbmZpZy5nZXRCb29sZWFuKEFwcENvbmZpZy5Db25uZWN0aW9uVXNlTW9ja1NlcnZlcik7XG5cbiAgICAgICAgICAgIHRoaXMuX3VybCA9IHRoaXMuX3VybEJ1aWxkZXIuYXNzZW1ibGVVcmwoaXNNb2NrZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl91cmw7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBwcml2YXRlXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXQgdXJsR3JvdXAoKTogUmVzdFVybEdyb3VwIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VybEdyb3VwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHByaXZhdGVcbiAgICAgKlxuICAgICAqL1xuICAgIGdldCB1cmxCdWlsZGVyKCk6IERlZmF1bHRSZXN0QnVpbGRlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl91cmxCdWlsZGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHByaXZhdGVcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgaW5pdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fdXJsR3JvdXAgPSBuZXcgUmVzdFVybEdyb3VwKCk7XG4gICAgICAgIHRoaXMuX3VybEJ1aWxkZXIgPSBuZXcgRGVmYXVsdFJlc3RCdWlsZGVyKHRoaXMuX3VybEdyb3VwKTtcbiAgICAgICAgdGhpcy5fdXJsID0gbnVsbDtcblxuXG4gICAgICAgIHRoaXMudXJsR3JvdXAucHVzaChuZXcgSG9zdFNlZ21lbnQodGhpcy5hcHBDb25maWcuZ2V0UmVzdEFwaUhvc3QoKSkpO1xuICAgICAgICB0aGlzLnVybEdyb3VwLnB1c2gobmV3IENvbnRleHRTZWdtZW50KHRoaXMuYXBwQ29uZmlnLmdldFJlc3RBcGlDb250ZXh0KCkpKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFVzZWQgaW5zaWRlIC5tYXAgdG8gbWFwIEpTT04gcmVzcG9uc2Ugb3IgSHR0cFJlc3BvbnNlLmJvZHkgdG8gYWN0dWFsIHR5cGVcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgY29udmVydFRvQ29tcG9zaXRlPFQgZXh0ZW5kcyBFbnRpdHkgfCBWYWx1ZT4ocmVzOiBSZXNwb25zZTxUIHwgVFtdPiB8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSHR0cFJlc3BvbnNlPFJlc3BvbnNlPFQgfCBUW10+PixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcG9zaXRlOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzUHJvZ3Jlc3M6IGJvb2xlYW4pOiBhbnkge1xuICAgICAgICBpZiAoaGFzUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdW5zb3J0ZWQgc2VnbWVudHMgd2lsbCBoYXZlIGhhdmUgb3VyIHRhcmdldCByZXNvdXJjZSBhcyBmaXJzdCBvbmVcbiAgICAgICAgbGV0IHNnbTogUmVzb3VyY2VTZWdtZW50ID0gPFJlc291cmNlU2VnbWVudD50aGlzLnVybEdyb3VwLmxvb2t1cChSZXN0U2VnbWVudFR5cGUuUmVzb3VyY2UpO1xuXG4gICAgICAgIGlmIChpc0NvbXBvc2l0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVzZXJpYWxpemUoKDxSZXNwb25zZTxUPj5yZXMpLnBheWxvYWQsIHNnbS52YWx1ZSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBodHRwUmVzID0gPEh0dHBSZXNwb25zZTxSZXNwb25zZTxUPj4+cmVzO1xuICAgICAgICAgICAgbGV0IG15UmVzcDogUmVzcG9uc2U8VD4gPSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZDogdGhpcy5kZXNlcmlhbGl6ZShodHRwUmVzLmJvZHkucGF5bG9hZCwgc2dtLnZhbHVlKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBodHRwUmVzLmNsb25lKHtib2R5OiBteVJlc3B9KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgc2VyaWFsaXplPFQ+KGRhdGE6IFQpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDb252ZXJ0cyBKU09OIG9iamVjdCB0byBhY3R1YWwgVHlwZS4gV2UgZG9uJ3QgY2FyZSBhYm91dCBwcmltaXRpdmUgdHlwZXMgYXMgd2UgZG9udCBoYXZlIHRvXG4gICAgICogZG8gYW55dGhpbmcgd2l0aCB0aGVtLiBXZSBkbyBpbnN0YW50aWF0ZSBvYmplY3RzIG9yIGNvbXBsZXggdHlwZXMgb25seS5cbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgZGVzZXJpYWxpemUoanNvbjogYW55LCBjbGF6ejogVHlwZTxhbnk+KTogYW55IHtcbiAgICAgICAgaWYgKGlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgICAgIGxldCBpbnN0YW5jZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gaW4ganNvbikge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlcy5wdXNoKHRoaXMuZGVzZXJpYWxpemUoanNvbltpdGVtXSwgY2xhenopKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgaW5zdGFuY2U7XG4gICAgICAgICAgICBpZiAoY2xhenogPT09IFN0cmluZykge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlID0ganNvbi50b1N0cmluZygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbGF6eiA9PT0gTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBqc29uO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbGF6eiA9PT0gQm9vbGVhbikge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlID0ganNvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgY2xhenooKTtcbiAgICAgICAgICAgICAgICBsZXQgdHlwZXMgPSBpbnN0YW5jZS5nZXRUeXBlcygpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBqc29uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghanNvbi5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNQcmVzZW50KHR5cGVzW3Byb3BdKSAmJiBpc1ByZXNlbnQoanNvbltwcm9wXSkgJiYgdHlwZXNbcHJvcF0gIT09IERhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlW3Byb3BdID0gdGhpcy5kZXNlcmlhbGl6ZShqc29uW3Byb3BdLCB0eXBlc1twcm9wXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0RhdGUodHlwZXNbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZVtwcm9wXSA9IG5ldyB0eXBlc1twcm9wXShqc29uW3Byb3BdKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VbcHJvcF0gPSBqc29uW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZWxzZSBpZiAoaXNTdHJpbmcoanNvbltwcm9wXSkgJiYgaXNFbnRpdHkoaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAmJiBwcm9wID09PSAoPEVudGl0eT5pbnN0YW5jZSkuaWRlbnRpdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc3QgaWRTdHJpbmcgPSAoPEVudGl0eT5pbnN0YW5jZSkuaWRlbnRpdHkoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICg8YW55Pmluc3RhbmNlKVtpZFN0cmluZ10gPSA8c3RyaW5nPmpzb25bcHJvcF07XG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cblxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG5cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnQsIE9uSW5pdH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHRlbXBsYXRlVXJsOiAnbm90LWZvdW5kLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnbm90LWZvdW5kLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTm90Rm91bmRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXRcbntcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKVxuICAgIHtcbiAgICB9XG5cbn1cbiIsIi8qKlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gICAgQWN0aXZhdGVkUm91dGUsXG4gICAgRXZlbnQsXG4gICAgTmF2aWdhdGlvbkVuZCxcbiAgICBOYXZpZ2F0aW9uRXh0cmFzLFxuICAgIE5hdmlnYXRpb25TdGFydCxcbiAgICBSb3V0ZSxcbiAgICBSb3V0ZXJcbn0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge2lzQmxhbmssIGlzUHJlc2VudH0gZnJvbSAnLi4vdXRpbHMvbGFuZyc7XG5pbXBvcnQge0xpc3RXcmFwcGVyfSBmcm9tICcuLi91dGlscy9jb2xsZWN0aW9uJztcblxuLyoqXG4gKiBCYXNpYyB3cmFwcGVyIGFyb3VuZCBBbmd1bGFyJ3MgUk9VVEUgc2VydmljZSB0byBzaW1wbGlmeSB0ZW1wb3Jhcnkgc3RhdGUgY2FjaGluZyBhcyB3ZWxsXG4gKiBuYXZpZ2F0aW9uLiBUaGlzIHNlcnZpY2UgbGlzdGVuIGZvciBSb3V0aW5nIGV2ZW50cyBzdWNoIGFzIE5hdmlnYXRpb25TdGFydCBhcyB3ZWxsLFxuICogTmF2aWdhdGlvbkVuZHMgYW5kIHdoZW4gdGhlIHJvdXRpbmcgRW50ZXJzLCBXZSBjaGVjayBpZiB0aGVyZSBhbnkgc3RhdGUgd2hpY2ggbmVlZHMgdG8gYmUgY2FjaGVkXG4gKiBpZiB5ZXMgdGhlbiB3ZSBzYXZlIGl0IGludG8gdGhlIHN0YXRlQ2FjaGVIaXN0b3J5IHdoaWNoIG1hcHMgZmluYWwgVVJMIHRvIHRoZSBhY3R1YWwgU1RBVEVcbiAqIG9iamVjdCwgYW5kIHdoZW4gd2UgYXJlIG5hdmlnYXRlIGJhY2sgdG8gdGhlIHNhbWUgVVJMIFdlIGNoZWNrIGlmIHRoZXJlIGlzIGFueSBzYXZlZCBzdGF0ZS5cbiAqXG4gKiBUaGlzIHNlcnZpY2Ugd2FzIG9yaWdpbmFsbHkgY3JlYXRlZCBhcyBhIHJlc3BvbnNlIHRoYXQgYW5ndWxhciBhbHdheXMgZGVzdHJveWVzIGFuZCByZWNyZWF0ZXNcbiAqIGNvbXBvbmVudHMgd2hlbiBuYXZpZ2F0aW5nIGF3YXlzIGFuZCB0aGVuIGJhY2sgdG8gaXQuIEJ5IGEgb2YgYW5ndWxhciA0LjIuMCsgdGhpcyBtaWdodCBiZVxuICogb2Jzb2xldGUuXG4gKlxuICovXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUm91dGluZ1NlcnZpY2VcbntcbiAgICAvKipcbiAgICAgKiBTdGFjayBrZWVwaW5nIGFjdGl2ZSBSb3V0ZXMgc28gd2UgY2FuIGdvIGJhY2svcmVkaXJlY3QgYmFja1xuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSByb3V0aW5nU3RhdGU6IEV2ZW50W10gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRlbXBvcmFyeSBmaWVsZCBob2xkaW5nIGEgc3RhdGUgT2JqZWN0IG9mIHR5cGUgVCBiZWZvcmUgaXRzIHNhdmVkIGludG8gc3RhdGVDYWNoZUhpc3RvcnksXG4gICAgICogYW5kIHJldHJpZXZlZCB3aGVuIGdldHRpbmcgYmFjayBmcm9tIFN0YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBjdXJyZW50U3RhdGVGcm9tOiBhbnk7XG5cblxuICAgIC8qKlxuICAgICAqIFRlbXBvcmFyeSBmaWVsZCBob2xkaW5nIGEgc3RhdGUgT2JqZWN0IG9mIHR5cGUgVCBiZWZvcmUgaXRzIHNhdmVkIGludG8gc3RhdGVDYWNoZUhpc3RvcnksXG4gICAgICogYW5kIHJldHJpZXZlZCB3aGVuIGdldHRpbmcgdG8gU3RhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGN1cnJlbnRTdGF0ZVRvOiBhbnk7XG5cbiAgICAvKlxuICAgICAqIEV2ZW50IG9iamVjdCBmb3IgcmVnaXN0ZXJpbmcgbGlzdGVuZXJzIHRvIHNhdmUgYSBjZXJ0YWluIHN0YXRlIGFzIHdlbGwgYXMgYnJvYWRjYXN0aW5nIGJhY2tcbiAgICAgKiB3aGVuIHN0YXRlIG5lZWRzIHRvIGJlIHJldHJpZXZlZCBiYWNrIHRvIHRoZSBQYWdlXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0ZUNhY2hlOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdDxhbnk+KCk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFRoaXMgaXMgb3VyIGNhY2hlIHdoaWNoIG1hcHMgVVJMID0+IHRvID0gPlNUQVRFLiBBbnkgcGFnZSBjYW4gc2F2ZSBhbnkgc3RhdGUgdXNpbmdcbiAgICAgKiBvYnNlcnZhYmxlIG9iamVjdCB3aGljaCB3aWxsIGJlIHJldHJpZXZlZCBiYWNrLlxuICAgICAqXG4gICAgICovXG4gICAgc3RhdGVDYWNoZUhpc3Rvcnk6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuXG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcm91dGVyOiBSb3V0ZXIpXG4gICAge1xuICAgICAgICB0aGlzLnJvdXRlci5ldmVudHMuc3Vic2NyaWJlKChldmVudDogRXZlbnQpID0+IHRoaXMuc3Vic2NyaWJlVG9Sb3V0aW5nRXZlbnRzKGV2ZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBIZXJlIGlzIHRoZSBtYWluIHJvdXRpbmcgbG9naWMgdGhhdCBwcm9jZXNlcyBldmVyeSByb3V0aW5nIGV2ZW50cy5cbiAgICAgKlxuICAgICAqL1xuICAgIHN1YnNjcmliZVRvUm91dGluZ0V2ZW50cyhldmVudDogRXZlbnQpOiB2b2lkXG4gICAge1xuXG4gICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIE5hdmlnYXRpb25FbmQpIHtcbiAgICAgICAgICAgIGxldCB1cmwgPSBldmVudC51cmw7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZUNhY2hlSGlzdG9yeS5oYXModXJsKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDYWNoZS5uZXh0KHRoaXMuc3RhdGVDYWNoZUhpc3RvcnkuZ2V0KHVybCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDYWNoZUhpc3RvcnkuZGVsZXRlKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJvdXRpbmdTdGF0ZS5wdXNoKGV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIE5hdmlnYXRpb25TdGFydCkge1xuXG4gICAgICAgICAgICBsZXQgaXRlbUJlZm9yZVJvdXRlID0gTGlzdFdyYXBwZXIubGFzdDxFdmVudD4odGhpcy5yb3V0aW5nU3RhdGUpO1xuXG5cbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5jdXJyZW50U3RhdGVGcm9tKSAmJiBpc1ByZXNlbnQoaXRlbUJlZm9yZVJvdXRlKSAmJiBpc1ByZXNlbnQoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlRnJvbSkgJiYgaXRlbUJlZm9yZVJvdXRlIGluc3RhbmNlb2YgTmF2aWdhdGlvbkVuZCB8fFxuICAgICAgICAgICAgICAgIGl0ZW1CZWZvcmVSb3V0ZSBpbnN0YW5jZW9mIE5hdmlnYXRpb25TdGFydCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNhY2hlSGlzdG9yeS5zZXQoaXRlbUJlZm9yZVJvdXRlLnVybCwgdGhpcy5jdXJyZW50U3RhdGVGcm9tKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUZyb20gPSBudWxsO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzUHJlc2VudCh0aGlzLmN1cnJlbnRTdGF0ZVRvKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDYWNoZUhpc3Rvcnkuc2V0KGV2ZW50LnVybCwgdGhpcy5jdXJyZW50U3RhdGVUbyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVUbyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW50IEdPIEJBQ0sgbWV0aG9kLiB3aGljaCB0YWtlcyB5b3UgdG8gcHJldmlvdXMgcm91dGUgYWxvbmcgd2l0aCB0aGUgVVJMIGNoYW5nZS5cbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgZ29CYWNrKG51bU9mU3RlcHM6IG51bWJlciA9IDEpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyB3ZSBhcmUgc3RhcnRpbmcgZnJvbSAtMSBhcyB3ZSBuZWVkIHRvIGFsc28gcmVtb3ZlIGN1cnJlbnQgcm91dGVcbiAgICAgICAgbGV0IHN0ZXBzID0gLTE7XG4gICAgICAgIGxldCBuYXZpZ2F0ZVVybCA9ICcvNDA0JztcbiAgICAgICAgd2hpbGUgKHN0ZXBzICE9PSBudW1PZlN0ZXBzKSB7XG4gICAgICAgICAgICBsZXQgcG9wU3RhdGUgPSB0aGlzLnJvdXRpbmdTdGF0ZS5wb3AoKTtcbiAgICAgICAgICAgIGlmIChwb3BTdGF0ZSBpbnN0YW5jZW9mIE5hdmlnYXRpb25FbmQgfHwgcG9wU3RhdGUgaW5zdGFuY2VvZiBOYXZpZ2F0aW9uU3RhcnQpIHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0ZVVybCA9IHBvcFN0YXRlLnVybDtcbiAgICAgICAgICAgICAgICBzdGVwcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybChuYXZpZ2F0ZVVybCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBXaGVuIG5hdmlnYXRpbmcgdG8gYSBuZXcgUGFnZSB5b3UgY2FuIHVzZSBkaXJlY3RseSByb3V0ZXIgb3IgaWYgeW91IHdhbnQgdG8gcmVtZW1iZXIgc29tZVxuICAgICAqIHN0YXRlIHRuZSB0aGlzIG1ldGhvZCBjYW4gYmUgdXNlZCBhcyB3ZWxsLlxuICAgICAqXG4gICAgICovXG4gICAgbmF2aWdhdGU8VD4oY29tbWFuZHM6IGFueVtdLCBzdGF0ZT86IFQsIGV4dHJhcz86IE5hdmlnYXRpb25FeHRyYXMpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUZyb20gPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoY29tbWFuZHMsIGV4dHJhcyk7XG5cblxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBXaGVuIG5hdmlnYXRpbmcgdG8gYSBuZXcgUGFnZSB5b3UgY2FuIHVzZSBkaXJlY3RseSByb3V0ZXIgb3IgaWYgeW91IHdhbnQgdG8gcmVtZW1iZXIgc29tZVxuICAgICAqIHN0YXRlIHRuZSB0aGlzIG1ldGhvZCBjYW4gYmUgdXNlZCBhcyB3ZWxsLlxuICAgICAqXG4gICAgICovXG4gICAgbmF2aWdhdGVXaXRoUm91dGU8VD4ocm91dGU6IFJvdXRlLCBwYXJhbXM/OiBhbnksIHN0YXRlPzogVCwgZXh0cmFzPzogTmF2aWdhdGlvbkV4dHJhcyk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlVG8gPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3JvdXRlLnBhdGgsIHBhcmFtc10sIGV4dHJhcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBFbnRyeSBtZXRob2QgZm9yIGJyb2FkY2FzdGluZyBzdGF0ZUNhY2hlIGFuZCBzZW5kaW5nIHNhdmVkIFN0YXRlIGJhY2sgdG8gdGhlIHBhZ2VcbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgYmluZFN0YXRlQ2FjaGU8VD4obGlzdGVuZXI6IChpdGVtOiBUKSA9PiB2b2lkKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZUNhY2hlLmFzT2JzZXJ2YWJsZSgpLnN1YnNjcmliZSgoc3RhdGVJdGVtOiBUKSA9PiBsaXN0ZW5lcihzdGF0ZUl0ZW0pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZCBzbyBjaGVjayBleHRyYSBwYXJhbWV0ZXJzIHdoaWNoIGFyZSBwYXNzZWQgdXNpbmcgTWF0cml4IG5vdGF0aW9uXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIG9wZXJhdGlvbihyb3V0ZTogQWN0aXZhdGVkUm91dGUpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGxldCBvcGVyYXRpb24gPSByb3V0ZS5zbmFwc2hvdC5wYXJhbXNbJ28nXTtcbiAgICAgICAgcmV0dXJuIGlzQmxhbmsoXG4gICAgICAgICAgICBvcGVyYXRpb24pIHx8IChvcGVyYXRpb24gIT09ICd2aWV3JyAmJiBvcGVyYXRpb24gIT09ICdjcmVhdGUnICYmIG9wZXJhdGlvbiAhPT0gJ2VkaXQnKVxuICAgICAgICAgICAgPyAndmlldycgOiBvcGVyYXRpb247XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBc3NlbWJsZXMgYSBwYXRoIGJhc2VkIG9uIHRoZSBjdXJyZW50IHJvdXRlLlxuICAgICAqXG4gICAgICovXG4gICAgcGF0aEZvclBhZ2UocGFnZU5hbWU6IHN0cmluZywgcGF0aE5hbWU6IHN0cmluZyk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMucm91dGVyLnJvdXRlclN0YXRlLnNuYXBzaG90LnVybH0vJHtwYXRoTmFtZX1gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogU2VhcmNoIHRvcCBsZXZlbCByb3V0ZXMgYW5kIHJldHVybiBSb3V0ZSB0aGF0IGhhcyBjb21wb25lbnQgbmFtZSBlcXVhbCB0byBwYWdlTmFtZVxuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICByb3V0ZUZvclBhZ2UocGFnZU5hbWU6IHN0cmluZywgcGF0aE5hbWU/OiBzdHJpbmcsIGFjdGl2YXRlZFBhdGg/OiBzdHJpbmcpOiBSb3V0ZVxuICAgIHtcbiAgICAgICAgbGV0IG5leHRSb3V0ZTogYW55O1xuICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgYXMgd2UgbmVlZCB0byBsb29rdXAgaWYgdGhlcmUgaXMgYW55IHJvdXRlIHdpdGggZ2l2ZW4gcGFnZU5hbWUgYXNcbiAgICAgICAgLy8gY2hpbGQgcm91dGUsIGlmIG5vdCBzZWFyY2ggZm9yIGdsb2JhbCBvbmNlc1xuXG4gICAgICAgIGxldCBub3JtYWxpemVkUGF0aCA9IGFjdGl2YXRlZFBhdGguaW5kZXhPZignLycpID09PSAwID8gYWN0aXZhdGVkUGF0aC5zdWJzdHJpbmcoMSkgOlxuICAgICAgICAgICAgYWN0aXZhdGVkUGF0aDtcblxuICAgICAgICBsZXQgY3VycmVudFJvdXRlOiBSb3V0ZSA9IHRoaXMucm91dGVyLmNvbmZpZy5maW5kKChyOiBSb3V0ZSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgcm91dGVQYXRoID0gci5wYXRoLmluZGV4T2YoJy8nKSA9PT0gMCA/IHIucGF0aC5zdWJzdHJpbmcoMSkgOlxuICAgICAgICAgICAgICAgICAgICByLnBhdGg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzUHJlc2VudChub3JtYWxpemVkUGF0aCkgJiYgbm9ybWFsaXplZFBhdGggPT09IHJvdXRlUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyB0cnkgdG8gbWF0Y2ggdGhlIHBhdGggYW5kIGV4cGVjdGVkIHBhZ2VOYW1lXG4gICAgICAgIGlmIChpc1ByZXNlbnQocGF0aE5hbWUpICYmIGlzUHJlc2VudChjdXJyZW50Um91dGUpICYmIGN1cnJlbnRSb3V0ZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIG5leHRSb3V0ZSA9IGN1cnJlbnRSb3V0ZS5jaGlsZHJlbi5maW5kKChyOiBSb3V0ZSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgY29tcG9uZW50TmFtZSA9IHIuY29tcG9uZW50LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoTmFtZSA9PT0gci5wYXRoICYmIHBhZ2VOYW1lID09PSBjb21wb25lbnROYW1lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNQcmVzZW50KHBhZ2VOYW1lKSkge1xuXG4gICAgICAgICAgICBuZXh0Um91dGUgPSB0aGlzLnJvdXRlci5jb25maWcuZmluZCgocjogUm91dGUpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbXBvbmVudE5hbWUgPSByLmNvbXBvbmVudC5wcm90b3R5cGUuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aE5hbWUgPT09IHIucGF0aCAmJiBwYWdlTmFtZSA9PT0gY29tcG9uZW50TmFtZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhdGggbm90IGZvdW5kIHRoZW4gY2hlY2sgb25seSBpZiB3ZSBmaW5kIGFueXdoZXJlIGluIHRoZSBwYXRoIHBhZ2VOYWVcbiAgICAgICAgaWYgKGlzQmxhbmsobmV4dFJvdXRlKSkge1xuICAgICAgICAgICAgdGhpcy5yb3V0ZXIuY29uZmlnLmZvckVhY2goKHI6IFJvdXRlKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChpc1ByZXNlbnQoci5jb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21wb25lbnROYW1lID0gci5jb21wb25lbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYWdlTmFtZSA9PT0gY29tcG9uZW50TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFJvdXRlID0gcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0Um91dGU7XG4gICAgfVxuXG59XG5cblxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge0luamVjdGFibGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtTdWJqZWN0LCBTdWJzY3JpcHRpb259IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZmlsdGVyLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbi8qKlxuICogTm90aWZpY2F0aW9ucyBzZXJ2aWNlIGlzIGEgaW1wbGVtZW50YXRpb24gb2YgdGhlIHB1Ymxpc2gvc3Vic2NyaWJlIGV2ZW50IGJ1cyBmb3IgcHVibGlzaGluZ1xuICogYW5kIGxpc3RlbmluZyBmb3IgYXBwbGljYXRpb24gbGV2ZWwgZXZlbnRzLlxuICpcbiAqIFRvIHN1YnNjcmliZSB0byBzcGVjaWZpYyBldmVudCBlLmcuIFVzZXIgTG9nZ2VkIEluIHdoZXJlIHRvcGljIGlzIGNhbGxlZCB1c2VyOnNpZ25lZEluXG4gKlxuICpcbiAqIGBgYHRzXG4gKlxuICogICAgIEBDb21wb25lbnQoe1xuICogICAgICAgICBzZWxlY3RvcjogJ215LWNvbXAnLFxuICogICAgICAgICB0ZW1wbGF0ZTogYFxuICogICAgICAgICAgICAgICAgIEhlbGxvXG4gKiAgICAgICAgICAgICBgXG4gKiAgICAgfSlcbiAqICAgICBjbGFzcyBNeUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uRGVzdHJveVxuICogICAgIHtcbiAqXG4gKiAgICAgICAgc3Vic2NyOiBTdWJzY3JpcHRpb247XG4gKlxuICogICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG5vdGlmaWNhdGlvbnM6IE5vdGlmaWNhdGlvbnMpIHtcbiAqXG4gKiAgICAgICAgICAgICAgdGhpcy5zdWJzY3IgPSBub3RpZmljYXRpb25zLnN1YnNjcmliZSgndXNlcjpzaWduZWRJbicsIChtZXNzYWdlOiBhbnkpID0+XG4gKiAgICAgICAgICAgICAge1xuICogICAgICAgICAgICAgICAgICAvLyBsb2FkIHVzZXIgcHJvZmlsZVxuICogICAgICAgICAgICAgIH0pO1xuICogICAgICAgICB9XG4gKlxuICogICAgICAgICAgbmdPbkRlc3Ryb3koKTogdm9pZFxuICogICAgICAgICAge1xuICogICAgICAgICAgICAgdGhpcy5zdWJzY3IudW5zdWJzY3JpYmUoKTtcbiAqICAgICAgICAgIH1cbiAqXG4gKlxuICpcbiAqICAgICB9XG4gKlxuICpcbiAqIGBgYFxuICpcbiAqIFRvIHB1Ymxpc2ggZXZlbnQ6XG4gKlxuICogYGBgXG4gKiAgICAgbGV0IG5vdGlmaWNhdGlvbnM6IE5vdGlmaWNhdGlvbjtcbiAqICAgICBub3RpZmljYXRpb25zLnB1Ymxpc2goJ3VzZXI6c2lnbmVkSW4nLCAnVXNlciBqdXN0IHNpZ25lZCBpbicpO1xuICpcbiAqIGBgYFxuICpcbiAqIFlvdSBjYW4gY3JlYXRlIGFuZCBsaXN0ZW4gZm9yIHlvdXIgb3duIGFwcGxpY2F0aW9uIGxldmVsIGV2ZW50cyBvciB5b3UgY2FuIGFsc28gbGlzdGVuIGZvciBhbGxcbiAqIHRoZSB0b3BpY3MgaW4gdGhlIGFwcGxpY2F0aW9uIGlmIHlvdSB1c2UgIGAqYCBhcyBhcHBsaWNhdGlvbiB0b3BpY1xuICpcbiAqIFVuc3Vic2NyaWJpbmcgaXMgcmVzcG9uc2liaWxpdHkgIG9mIGVhY2ggc3Vic2NyaWJlclxuICpcbiAqL1xuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE5vdGlmaWNhdGlvbnNcbntcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhpcyBpcyB1c2VkIGFzIGEgdG9waWMgc3Vic2NyaWJlciByZWNlaXZlcyBhbGwgbWVzc2FnZXNcbiAgICAgKlxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBBbGxUb3BpY3MgPSAnKic7XG5cbiAgICAvKipcbiAgICAgKiBPYnNlcnZhYmxlIHVzZWQgdG8gcHVibGlzaCBhbmQgc3Vic2NyaWJlIHRvIGFwcGxpY2F0aW9uIGxldmVsIGV2ZW50c1xuICAgICAqL1xuICAgIHByaXZhdGUgZXZlbnRzOiBTdWJqZWN0PE1lc3NhZ2U+O1xuXG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLmV2ZW50cyA9IG5ldyBTdWJqZWN0PE1lc3NhZ2U+KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBTdWJzY3JpYmUgdG8gc3BlY2lmaWMgbGlzdGVuZXIgYmFzZWQgb24gZ2l2ZW4gdG9waWMuXG4gICAgICpcbiAgICAgKi9cbiAgICBzdWJzY3JpYmUodG9waWM6IHN0cmluZywgc3Vic2NyaWJlcjogKHZhbHVlOiBhbnkpID0+IHZvaWQpOiBTdWJzY3JpcHRpb25cbiAgICB7XG4gICAgICAgIGNvbnN0IHRvQWxsID0gTm90aWZpY2F0aW9ucy5BbGxUb3BpY3M7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLnBpcGUoXG4gICAgICAgICAgICBmaWx0ZXIobXNnID0+IG1zZy50b3BpYyA9PT0gdG9waWMgfHwgdG9waWMgPT09IHRvQWxsKSxcbiAgICAgICAgICAgIG1hcCgobXNnOiBNZXNzYWdlKSA9PiBtc2cuY29udGVudClcblxuICAgICAgICApLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFB1Ymxpc2ggbmV3IGV2ZW50IHRvIGEgdG9waWNcbiAgICAgKlxuICAgICAqL1xuICAgIHB1Ymxpc2godG9waWM6IHN0cmluZywgbWVzc2FnZTogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IG1zZzogTWVzc2FnZSA9IHt0b3BpYzogdG9waWMsIGNvbnRlbnQ6IG1lc3NhZ2V9O1xuICAgICAgICB0aGlzLmV2ZW50cy5uZXh0KG1zZyk7XG5cbiAgICB9XG5cbn1cblxuLyoqXG4gKlxuICogQmFzZSBjbGFzcyBmb3IgZ2VuZXJpYyBtZXNzYWdlXG4gKlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VcbntcbiAgICB0b3BpYzogc3RyaW5nO1xuICAgIGNvbnRlbnQ6IGFueTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKi9cbmltcG9ydCB7RXJyb3JIYW5kbGVyLCBJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Tm90aWZpY2F0aW9uc30gZnJvbSAnLi9tZXNzYWdpbmcvbm90aWZpY2F0aW9ucy5zZXJ2aWNlJztcbmltcG9ydCB7aXNQcmVzZW50fSBmcm9tICcuL3V0aWxzL2xhbmcnO1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBHbG9iYWxFcnJvckhhbmRsZXIgZXh0ZW5kcyBFcnJvckhhbmRsZXJcbntcblxuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBub3RpZmljYXRpb25zPzogTm90aWZpY2F0aW9ucylcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgaGFuZGxlRXJyb3IoZXJyb3I6IGFueSlcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5ub3RpZmljYXRpb25zKSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnB1Ymxpc2goJ2FwcDplcnJvcicsIGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgfVxufVxuXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Um91dGVyTW9kdWxlLCBSb3V0ZXN9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQge05vdEZvdW5kQ29tcG9uZW50fSBmcm9tICcuL25vdC1mb3VuZC9ub3QtZm91bmQuY29tcG9uZW50JztcblxuY29uc3Qgcm91dGVzOiBSb3V0ZXMgPSBbXG4gICAge3BhdGg6ICdub3QtZm91bmQnLCBjb21wb25lbnQ6IE5vdEZvdW5kQ29tcG9uZW50fVxuXTtcblxuXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtcbiAgICAgICAgUm91dGVyTW9kdWxlLmZvckNoaWxkKHJvdXRlcylcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtSb3V0ZXJNb2R1bGVdLFxuICAgIHByb3ZpZGVyczogW11cbn0pXG5leHBvcnQgY2xhc3MgQXJpYmFDb3JlUm91dGluZ01vZHVsZVxue1xufVxuIiwiLyoqXG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKlxuICovXG5pbXBvcnQge1xuICAgIEh0dHBFcnJvclJlc3BvbnNlLFxuICAgIEh0dHBFdmVudCxcbiAgICBIdHRwSGFuZGxlcixcbiAgICBIdHRwSW50ZXJjZXB0b3IsXG4gICAgSHR0cFJlcXVlc3QsXG4gICAgSHR0cFJlc3BvbnNlXG59IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7SW5qZWN0YWJsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge3Rocm93RXJyb3IgYXMgb2JzZXJ2YWJsZVRocm93RXJyb3IsIG9mIGFzIG9ic2VydmFibGVPZiwgT2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7QXBwQ29uZmlnfSBmcm9tICcuLi9jb25maWcvYXBwLWNvbmZpZyc7XG5pbXBvcnQge2lzQmxhbmssIGlzUHJlc2VudCwgaXNTdHJpbmd9IGZyb20gJy4uL3V0aWxzL2xhbmcnO1xuaW1wb3J0IHtSZXNwb25zZX0gZnJvbSAnLi4vZG9tYWluL3Jlc291cmNlLnNlcnZpY2UnO1xuXG5cbi8qKlxuICogVHlwZWQgaW50ZXJmYWNlZCB0byBwcm9jZXNzIGVhc2llciByb3V0ZXNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNb2NrUm91dGVzXG57XG4gICAgcmVzb3VyY2U6IHN0cmluZztcbiAgICByb3V0ZXM6IE1vY2tSb3V0ZVtdO1xufVxuZXhwb3J0IGludGVyZmFjZSBNb2NrUm91dGVcbntcbiAgICBwYXRoOiBzdHJpbmc7XG4gICAgbWV0aG9kOiBzdHJpbmc7XG4gICAgcmVzcG9uc2VDb2RlOiBudW1iZXI7XG4gICAgcmVzcG9uc2VUZXh0OiBzdHJpbmc7XG4gICAgZGF0YTogYW55IHwgbnVsbDtcbn1cblxuLyoqXG4gKiBJbnRlcmNlcHRvciBwcm92aWRpbmcgTW9jayBTZXJ2ZXIgZnVuY3Rpb25hbGl0eSBhbmQgaXMgaW5zZXJ0ZWQgb25seSBhbmQgaWYgbW9jayBzZXJ2ZXIgaXNcbiAqIGVuYWJsZWQgdXNpbmcgQXBwQ29uZmlnJ3MgY29ubmVjdGlvbi5tb2NrLXNlcnZlci5lbmFibGVkIGJvb3RzdHJhcCBwcm9wZXJ0eVxuICpcbiAqXG4gKi9cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBIdHRwTW9ja0ludGVyY2VwdG9yIGltcGxlbWVudHMgSHR0cEludGVyY2VwdG9yXG57XG5cbiAgICAvKipcbiAgICAgKiBTdG9yZXMgbG9hZGVkIHJvdXRlcyBieSBnaXZlbiBlbnRpdHkgbmFtZS5cbiAgICAgKlxuICAgICAqL1xuICAgIHJvdXRlc0J5RW50aXR5OiBNYXA8c3RyaW5nLCBNb2NrUm91dGVbXT4gPSBuZXcgTWFwPHN0cmluZywgTW9ja1JvdXRlW10+KCk7XG5cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwQ29uZmlnOiBBcHBDb25maWcpXG4gICAge1xuXG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogSWYgcm91dGUgaXMgZm91bmQgcmV0dXJuZWQgTW9jayByZXN1bGVkIGRlZmluZWQgaW4gdGhlIEpTT04gZmlsZXMsIG90aGVyd2lzZSBwYXNzXG4gICAgICogdGhlIHJlcXVlc3QgdG8gdGhlIG5leHQgaW50ZXJjZXB0b3IuXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIGludGVyY2VwdChyZXE6IEh0dHBSZXF1ZXN0PGFueT4sIG5leHQ6IEh0dHBIYW5kbGVyKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8YW55Pj5cbiAgICB7XG5cbiAgICAgICAgbGV0IG1vY2tlZFJlc3AgPSB0aGlzLm1ha2VSZXMocmVxKTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KG1vY2tlZFJlc3ApKSB7XG5cbiAgICAgICAgICAgIGlmIChtb2NrZWRSZXNwLnN0YXR1cyA+PSAyMDAgJiYgbW9ja2VkUmVzcC5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZU9mKDxIdHRwUmVzcG9uc2U8YW55Pj5tb2NrZWRSZXNwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGVycnJvciA9IG5ldyBIdHRwRXJyb3JSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBtb2NrZWRSZXNwLmJvZHksXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogbW9ja2VkUmVzcC5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6IG1vY2tlZFJlc3Auc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiByZXEudXJsV2l0aFBhcmFtc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG9ic2VydmFibGVUaHJvd0Vycm9yKGVycnJvcik7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0LmhhbmRsZShyZXEpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQmFzZWQgb24gdXNlciBjb25maWd1cmF0aW9uIHdlIGxvYWQgYWxsIHRoZSBhdmFpbGFibGUgcm91dGVzIGFuZCByZWdpc3RlciB0aGVtIGludG9cbiAgICAgKiBgdGhpcy5yb3V0ZXNCeUVudGl0eWBcbiAgICAgKlxuICAgICAqL1xuICAgIGxvYWRSb3V0ZXMoKVxuICAgIHtcbiAgICAgICAgbGV0IHJvdXRlczogc3RyaW5nW10gPSB0aGlzLmFwcENvbmZpZy5nZXQoQXBwQ29uZmlnLkNvbm5lY3Rpb25Nb2NrU2VydmVyUm91dGVzKTtcbiAgICAgICAgZm9yIChsZXQgcm91dGVOYW1lIG9mIHJvdXRlcykge1xuICAgICAgICAgICAgbGV0IHJlcTogSHR0cFJlcXVlc3Q8YW55PiA9IHRoaXMubWFrZVJlcShyb3V0ZU5hbWUpO1xuXG4gICAgICAgICAgICAvLyBsZXQncyBtYWtlIHF1aWNrIGFuZCBkaXJ0eSBhc3luYyBjYWxsIHRvIGxvYWQgb3VyIHJvdXRlcyBiZWZvcmUgYW55dGhpbmcgZWxzZVxuICAgICAgICAgICAgbGV0IG1vY2tlZDogTW9ja1JvdXRlcyA9IHRoaXMucmVxdWVzdEZvclJvdXRlcyhyZXEpO1xuICAgICAgICAgICAgdGhpcy5yb3V0ZXNCeUVudGl0eS5zZXQobW9ja2VkLnJlc291cmNlLCBtb2NrZWQucm91dGVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gbW9jayBKU09OIGZpbGVzLlxuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXF1ZXN0Rm9yUm91dGVzKHJlcTogSHR0cFJlcXVlc3Q8YW55Pik6IE1vY2tSb3V0ZXNcbiAgICB7XG5cbiAgICAgICAgbGV0IHhtbEh0dHBSZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuXG4gICAgICAgIHhtbEh0dHBSZXEub3BlbihyZXEubWV0aG9kLCByZXEudXJsV2l0aFBhcmFtcywgZmFsc2UpO1xuXG4gICAgICAgIHJlcS5oZWFkZXJzLmtleXMoKS5mb3JFYWNoKChrZXk6IHN0cmluZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGFsbCA9IHJlcS5oZWFkZXJzLmdldEFsbChrZXkpO1xuICAgICAgICAgICAgeG1sSHR0cFJlcS5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIGFsbC5qb2luKCcsJykpO1xuICAgICAgICB9KTtcbiAgICAgICAgeG1sSHR0cFJlcS5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyk7XG4gICAgICAgIHhtbEh0dHBSZXEuc2VuZChudWxsKTtcblxuXG4gICAgICAgIGxldCBib2R5ID0gaXNCbGFuayh4bWxIdHRwUmVxLnJlc3BvbnNlKSA/IHhtbEh0dHBSZXEucmVzcG9uc2VUZXh0IDpcbiAgICAgICAgICAgIHhtbEh0dHBSZXEucmVzcG9uc2U7XG5cbiAgICAgICAgaWYgKHhtbEh0dHBSZXEuc3RhdHVzIDwgMjAwICYmIHhtbEh0dHBSZXEuc3RhdHVzID49IDMwMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbG9hZCBNb2NrIHNlcnZlciBjb25maWd1cmF0aW9uLiBQbGVhc2UgbWFrZSBzdXJlIHRoYXQgeW91JyArXG4gICAgICAgICAgICAgICAgJyBoYXZlIGEgbW9jay1yb3V0aW5nLyBmb2xkZXIgdW5kZXIgeW91ciBhc3NldHMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpc1N0cmluZyhib2R5KSA/IEpTT04ucGFyc2UoYm9keSkgOiBib2R5O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDcmVhdGUgYSByZXF1ZXN0cyB0byBsb2FkIHJvdXRlc1xuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBtYWtlUmVxKHJvdXRlTmFtZTogc3RyaW5nKTogSHR0cFJlcXVlc3Q8YW55PlxuICAgIHtcbiAgICAgICAgbGV0IGFzc2V0Rm9sZGVyOiBzdHJpbmcgPSB0aGlzLmFwcENvbmZpZy5nZXQoQXBwQ29uZmlnLkFzc2V0Rm9sZGVyKTtcbiAgICAgICAgbGV0IHBhdGg6IHN0cmluZyA9IHRoaXMuYXBwQ29uZmlnLmdldChBcHBDb25maWcuQ29ubmVjdGlvbk1vY2tTZXJ2ZXJQYXRoKTtcblxuICAgICAgICByZXR1cm4gbmV3IEh0dHBSZXF1ZXN0KCdHRVQnLCBgJHthc3NldEZvbGRlcn0ke3BhdGh9LyR7cm91dGVOYW1lfS5qc29uYCwge1xuICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbidcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFdoZW4gd2UgYXJlIGNyZWF0aW5nIGEgcmVzcG9uc2Ugd2UgYWx3YXlzIGV4cGVjdCB0d28gdGhpbmdzOlxuICAgICAqIDEpIFdlIGFyZSBkZWFsaW5nIHdpdGggRW50aXR5XG4gICAgICogMikgUkVTVCBBUEkgaXMgaGFuZGxlZCB1c2luZyBSZXNvdXJjZSB3aGljaCBwcmVwZW5kIC9tb2NrZWQvXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIG1ha2VSZXMocmVxOiBIdHRwUmVxdWVzdDxhbnk+KTogSHR0cFJlc3BvbnNlPGFueT5cbiAgICB7XG4gICAgICAgIGxldCByZXNwb25zZU9wOiBIdHRwUmVzcG9uc2U8YW55PjtcblxuICAgICAgICBsZXQgcGF0aCA9IHJlcS51cmxXaXRoUGFyYW1zLnN1YnN0cmluZyhyZXEudXJsLmluZGV4T2YoJ21vY2tlZCcpICsgNik7XG4gICAgICAgIGxldCByZXNvdXJjZSA9IHBhdGguc3Vic3RyaW5nKDEpO1xuICAgICAgICBpZiAocmVzb3VyY2UuaW5kZXhPZignLycpICE9PSAtMSkge1xuICAgICAgICAgICAgcmVzb3VyY2UgPSByZXNvdXJjZS5zdWJzdHJpbmcoMCwgcmVzb3VyY2UuaW5kZXhPZignLycpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnJvdXRlc0J5RW50aXR5LmhhcyhyZXNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlT3AgPSB0aGlzLmRvSGFuZGxlUmVxdWVzdChyZXEsIHBhdGgsIHJlc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0JsYW5rKHJlc3BvbnNlT3ApICYmIHRoaXMuYXBwQ29uZmlnLmdldEJvb2xlYW4oQXBwQ29uZmlnLkluVGVzdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSHR0cFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICBib2R5OiB7fSwgc3RhdHVzOiA0MDQsIHN0YXR1c1RleHQ6ICdOb3QgRm91bmQnLFxuICAgICAgICAgICAgICAgIHVybDogcmVxLnVybFdpdGhQYXJhbXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZU9wO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBUaGlzIHdpbGwgZ2V0IHRoZSBjb250ZW50IGZyb20gdGhlIHJvdXRlcyAtPiByb3V0ZSBhcyBpdCBhcyBhbmQgcmV0dXJuIGl0IGFzIGFcbiAgICAgKiByZXNwb25zZVxuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBkb0hhbmRsZVJlcXVlc3QocmVxOiBIdHRwUmVxdWVzdDxhbnk+LCBwYXRoOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2U6IHN0cmluZyk6IEh0dHBSZXNwb25zZTxhbnk+XG4gICAge1xuICAgICAgICBsZXQgcm91dGVzOiBNb2NrUm91dGVbXSA9IHRoaXMucm91dGVzQnlFbnRpdHkuZ2V0KHJlc291cmNlKTtcblxuICAgICAgICBsZXQgbWF0Y2hlZFJvdXRlID0gcm91dGVzLmZpbmRJbmRleCgoZWw6IE1vY2tSb3V0ZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHJlcS5tZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gZWwubWV0aG9kLnRvTG93ZXJDYXNlKCkgJiYgZWwucGF0aCA9PT0gcGF0aDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG1hdGNoZWRSb3V0ZSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGxldCByb3V0ZTogTW9ja1JvdXRlID0gcm91dGVzW21hdGNoZWRSb3V0ZV07XG5cbiAgICAgICAgICAgIGxldCBwYXlsb2FkOiBSZXNwb25zZTxhbnk+ID0ge1xuICAgICAgICAgICAgICAgIHBheWxvYWQ6ICByb3V0ZS5kYXRhXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IEh0dHBSZXNwb25zZTxSZXNwb25zZTxhbnk+Pih7XG4gICAgICAgICAgICAgICAgYm9keTogcGF5bG9hZCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHJvdXRlLnJlc3BvbnNlQ29kZSxcbiAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiByb3V0ZS5yZXNwb25zZVRleHQsXG4gICAgICAgICAgICAgICAgdXJsOiByb3V0ZS5wYXRoXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuXG4vKipcbiAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIEh0dHBIYW5kbGVyIHNvIHdlIGNhbiBoYXZlIGN1c3RvbSBiZWhhdmlvciB0byBIVFRQQ2xpZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBNb2NrSW50ZXJjZXB0b3JIYW5kbGVyIGltcGxlbWVudHMgSHR0cEhhbmRsZXJcbntcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG5leHQ6IEh0dHBIYW5kbGVyLCBwcml2YXRlIGludGVyY2VwdG9yOiBIdHRwSW50ZXJjZXB0b3IpXG4gICAge1xuICAgIH1cblxuICAgIGhhbmRsZShyZXE6IEh0dHBSZXF1ZXN0PGFueT4pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxhbnk+PlxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJjZXB0b3IuaW50ZXJjZXB0KHJlcSwgdGhpcy5uZXh0KTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICovXG5pbXBvcnQge01ldGEsIFRpdGxlfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcbmltcG9ydCB7XG4gICAgQVBQX0lOSVRJQUxJWkVSLFxuICAgIEVycm9ySGFuZGxlcixcbiAgICBJbmplY3QsXG4gICAgSW5qZWN0aW9uVG9rZW4sXG4gICAgSW5qZWN0b3IsXG4gICAgTW9kdWxlV2l0aFByb3ZpZGVycyxcbiAgICBOZ01vZHVsZSxcbiAgICBPcHRpb25hbCxcbiAgICBTa2lwU2VsZlxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gICAgSFRUUF9JTlRFUkNFUFRPUlMsXG4gICAgSHR0cEJhY2tlbmQsXG4gICAgSHR0cENsaWVudE1vZHVsZSxcbiAgICBIdHRwSGFuZGxlcixcbiAgICBIdHRwSW50ZXJjZXB0b3Jcbn0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQge0FwcENvbmZpZywgbWFrZUNvbmZpZ30gZnJvbSAnLi9jb25maWcvYXBwLWNvbmZpZyc7XG5pbXBvcnQge0Vudmlyb25tZW50fSBmcm9tICcuL2NvbmZpZy9lbnZpcm9ubWVudCc7XG5pbXBvcnQge05vdEZvdW5kQ29tcG9uZW50fSBmcm9tICcuL25vdC1mb3VuZC9ub3QtZm91bmQuY29tcG9uZW50JztcbmltcG9ydCB7Um91dGluZ1NlcnZpY2V9IGZyb20gJy4vcm91dGluZy9yb3V0aW5nLnNlcnZpY2UnO1xuaW1wb3J0IHtHbG9iYWxFcnJvckhhbmRsZXJ9IGZyb20gJy4vZ2xvYmFsLWVycm9yLWhhbmRsZXInO1xuaW1wb3J0IHtBcmliYUNvcmVSb3V0aW5nTW9kdWxlfSBmcm9tICcuL2FyaWJhLWNvcmUtcm91dGluZy5tb2R1bGUnO1xuaW1wb3J0IHtOb3RpZmljYXRpb25zfSBmcm9tICcuL21lc3NhZ2luZy9ub3RpZmljYXRpb25zLnNlcnZpY2UnO1xuaW1wb3J0IHtIdHRwTW9ja0ludGVyY2VwdG9yLCBNb2NrSW50ZXJjZXB0b3JIYW5kbGVyfSBmcm9tICcuL2h0dHAvaHR0cC1tb2NrLWludGVyY2VwdG9yJztcbmltcG9ydCB7UmVzb3VyY2V9IGZyb20gJy4vZG9tYWluL3Jlc291cmNlLnNlcnZpY2UnO1xuaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbmV4cG9ydCBjb25zdCBVc2VyQ29uZmlnID0gbmV3IEluamVjdGlvblRva2VuPHN0cmluZz4oJ1VzZXJDb25maWcnKTtcblxuXG4vKipcbiAqIENvcmUgbW9kZSBpbmNsdWRlcyBhbGwgc2hhcmVkIGxvZ2ljIGFjY3Jvc3Mgd2hvbGUgYXBwbGljYXRpb25cbiAqL1xuICAgIC8vIHRvZG86IGZvciBBT1QgdXNlIGV4cG9ydGVkIGZ1bmN0aW9ucyBmb3IgZmFjdG9yaWVzIGluc3RlYWRzIHRoaXMgaW5saW5lIG9uZXMuXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBIdHRwQ2xpZW50TW9kdWxlLFxuICAgICAgICBBcmliYUNvcmVSb3V0aW5nTW9kdWxlXG4gICAgXSxcbiAgICBkZWNsYXJhdGlvbnM6IFtOb3RGb3VuZENvbXBvbmVudF0sXG5cbiAgICBib290c3RyYXA6IFtdXG5cbn0pXG5leHBvcnQgY2xhc3MgQXJpYmFDb3JlTW9kdWxlIHtcblxuICAgIHN0YXRpYyBmb3JSb290KGNvbmZpZzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9KTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZ01vZHVsZTogQXJpYmFDb3JlTW9kdWxlLFxuICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgVGl0bGUsXG4gICAgICAgICAgICAgICAgTWV0YSxcbiAgICAgICAgICAgICAgICBFbnZpcm9ubWVudCxcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb25zLFxuICAgICAgICAgICAgICAgIEh0dHBNb2NrSW50ZXJjZXB0b3IsXG5cbiAgICAgICAgICAgICAgICBSZXNvdXJjZSxcblxuICAgICAgICAgICAgICAgIHtwcm92aWRlOiBVc2VyQ29uZmlnLCB1c2VWYWx1ZTogY29uZmlnfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IEFwcENvbmZpZywgdXNlRmFjdG9yeTogbWFrZUNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgZGVwczogW1VzZXJDb25maWcsIEluamVjdG9yLCBFbnZpcm9ubWVudF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogSHR0cEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IG1ha2VIdHRwQ2xpZW50SGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgZGVwczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgSHR0cEJhY2tlbmQsIEFwcENvbmZpZywgSHR0cE1vY2tJbnRlcmNlcHRvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIFtuZXcgT3B0aW9uYWwoKSwgbmV3IEluamVjdChIVFRQX0lOVEVSQ0VQVE9SUyldXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHtwcm92aWRlOiBFcnJvckhhbmRsZXIsIHVzZUNsYXNzOiBHbG9iYWxFcnJvckhhbmRsZXIsIGRlcHM6IFtOb3RpZmljYXRpb25zXX0sXG4gICAgICAgICAgICAgICAge3Byb3ZpZGU6IFJvdXRpbmdTZXJ2aWNlLCB1c2VDbGFzczogUm91dGluZ1NlcnZpY2UsIGRlcHM6IFtSb3V0ZXJdfVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgQFNraXBTZWxmKCkgcGFyZW50TW9kdWxlOiBBcmliYUNvcmVNb2R1bGUsIHByaXZhdGUgY29uZjogQXBwQ29uZmlnKSB7XG5cbiAgICB9XG5cbn1cblxuXG4vKipcbiAqXG4gKiBBZGQgY3VzdG9tIE1vY2sgZnVuY3Rpb25hbGl0eSBvbmx5IGFuZCBpZiB3ZSBlbmFibGVkIHRoaXMgaW4gdGhlIHNldHRpbmdzLiBJIGRvbnQgcmVhbGx5IHdhbnQgdG9cbiAqIGhhdmUgTm9vcEludGVyY2VwdGVyIGluIHRoZSBjaGFpblxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VIdHRwQ2xpZW50SGFuZGxlcihuZ0JhY2tlbmQ6IEh0dHBCYWNrZW5kLCBjb25maWc6IEFwcENvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0ludGVyY2VwdG9yOiBIdHRwTW9ja0ludGVyY2VwdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmNlcHRvcnM6IEh0dHBJbnRlcmNlcHRvcltdIHwgbnVsbCA9IFtdKTogSHR0cEhhbmRsZXIge1xuICAgIGlmIChjb25maWcuZ2V0Qm9vbGVhbihBcHBDb25maWcuQ29ubmVjdGlvblVzZU1vY2tTZXJ2ZXIpKSB7XG5cbiAgICAgICAgbW9ja0ludGVyY2VwdG9yLmxvYWRSb3V0ZXMoKTtcbiAgICAgICAgaW50ZXJjZXB0b3JzID0gWy4uLmludGVyY2VwdG9ycywgbW9ja0ludGVyY2VwdG9yXTtcbiAgICB9XG5cbiAgICBpZiAoIWludGVyY2VwdG9ycykge1xuICAgICAgICByZXR1cm4gbmdCYWNrZW5kO1xuICAgIH1cbiAgICByZXR1cm4gaW50ZXJjZXB0b3JzLnJlZHVjZVJpZ2h0KFxuICAgICAgICAobmV4dCwgaW50ZXJjZXB0b3IpID0+IG5ldyBNb2NrSW50ZXJjZXB0b3JIYW5kbGVyKG5leHQsIGludGVyY2VwdG9yKSwgbmdCYWNrZW5kKTtcbn1cblxuXG4iLCIvKipcbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqXG4gKi9cbmltcG9ydCAqIGFzIG9iamVjdFBhdGggZnJvbSAnb2JqZWN0LXBhdGgnO1xuaW1wb3J0IHtpc0JsYW5rLCBpc1N0cmluZywgaXNTdHJpbmdNYXB9IGZyb20gJy4vbGFuZyc7XG5cblxuLyoqXG4gKiBUaGUgRmllbGRQYXRoIGlzIHV0aWxpdHkgY2xhc3MgZm9yIHJlcHJlc2VudGluZyBvZiBhIGRvdHRlZCBmaWVsZFBhdGguXG4gKlxuICogQSBTdHJpbmcgc3VjaCBhcyBcImZvby5iYXIuYmF6XCIgY2FuIGJlIHVzZWQgdG8gYWNjZXNzIGEgdmFsdWUgb24gYSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIEZpZWxkUGF0aFxue1xuICAgIF9maWVsZFBhdGhzOiBzdHJpbmdbXTtcbiAgICBwcml2YXRlIG9iamVjdFBhdGhJbnN0YW5jZTogYW55O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBTZXRzIGEgdmFsdWUgdG8gdGFyZ2V0IG9iamVjdHNcbiAgICAgKlxuICAgICAqL1xuICAgIHN0YXRpYyBzZXRGaWVsZFZhbHVlKHRhcmdldDogYW55LCBmaWVsZDogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IGZwID0gbmV3IEZpZWxkUGF0aChmaWVsZCk7XG4gICAgICAgIGZwLnNldEZpZWxkVmFsdWUodGFyZ2V0LCB2YWx1ZSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZWFkcyBhIHZhbHVlIGZyb20gdGFyZ2V0IG9iamVjdHNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0RmllbGRWYWx1ZSh0YXJnZXQ6IGFueSwgZmllbGQ6IHN0cmluZyk6IGFueVxuICAgIHtcbiAgICAgICAgbGV0IGZwID0gbmV3IEZpZWxkUGF0aChmaWVsZCk7XG4gICAgICAgIGxldCB2YWx1ZSA9IGZwLmdldEZpZWxkVmFsdWUodGFyZ2V0KTtcblxuICAgICAgICBpZiAoZmllbGQgPT09ICckdG9TdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfcGF0aDogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmllbGRQYXRocyA9IGlzQmxhbmsoX3BhdGgpID8gW10gOiBfcGF0aC5zcGxpdCgnLicpO1xuICAgICAgICB0aGlzLm9iamVjdFBhdGhJbnN0YW5jZSA9ICg8YW55Pm9iamVjdFBhdGgpWydjcmVhdGUnXSh7aW5jbHVkZUluaGVyaXRlZFByb3BzOiB0cnVlfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIE9uZSBvZiB0aGUgbWFpbiByZWFzb24gd2h5IEkgaGF2ZSB0aGlzIGlzIG5vdCBvbmx5IHRvIGl0ZXJhdGUgdGhydSBkb3R0ZWQgZmllbGQgcGF0aCBidXRcbiAgICAgKiBtYWlubHkgdG8gYmUgYWJsZSB0byBzZXQgbmF0dXJhbGx5IHZhbHVlIGludG8gYSBuZXN0ZWQgbWFwcyBsaWtlIDpcbiAgICAgKlxuICAgICAqICBmaWVsZE5hbWUuZmllbGROYW1lTWFwLmZpZWxkS2V5ID0+IGl0IHdpbGwgYWNjZXNzIGZpZWxkTmFtZSBvbiB0aGUgdGFyZ2V0LCBmcm9tIHRoZXJlIGl0XG4gICAgICogcmVhZHMgRmllbGROYW1lTWFwIHNpbmNlIGZpZWxkTmFtZSBuZXN0ZWQgb2JqZWN0cyBhbmQgc2V0cyBhIG5ldyB2YWx1ZSBpZGVudGlmaWVkIGJ5IE1hcCBrZXlcbiAgICAgKiBmaWVsZEtleVxuICAgICAqXG4gICAgICogIGBgYFxuICAgICAqICBjbGFzcyBNeUNsYXNzIHtcbiAgICAgKiAgICAgIGZpZWxkTmFtZTpOZXN0ZWRPYmplY3RcbiAgICAgKlxuICAgICAqICB9XG4gICAgICpcbiAgICAgKiAgY2xhc3MgTmVzdGVkT2JqZWN0IHtcbiAgICAgKiAgICAgIGZpZWxkTmFtZU1hcDpNYXA8a2V5LCB2YWx1ZT47XG4gICAgICogIH1cbiAgICAgKlxuICAgICAqICBgYGBcbiAgICAgKiB1c2UgZmllbGQgdmFsdWUgZm9yIGFzc2lnbm1lbnQgc28ga2V5cyBvZiBmb3JtIFwiYS5iLmNcIiB3aWxsIGdvIGluIG5lc3RlZCBNYXBzXG4gICAgICovXG4gICAgc2V0RmllbGRWYWx1ZSh0YXJnZXQ6IGFueSwgdmFsdWU6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIGltcGxlbWVudCB0aGUgc2FtZSB0aGluZyB3aGF0IHdlIGhhdmUgb24gdGhlIGdldCwgaWYgTWFwIHNldCBmaWVsZCBpbnRvIG1hcFxuICAgICAgICBpZiAodGhpcy5fZmllbGRQYXRocy5sZW5ndGggPiAxICYmICEodGFyZ2V0IGluc3RhbmNlb2YgTWFwKSkge1xuXG4gICAgICAgICAgICBsZXQgcGF0aCA9IHRoaXMuX2ZpZWxkUGF0aHMuc2xpY2UoMCwgdGhpcy5fZmllbGRQYXRocy5sZW5ndGggLSAxKS5qb2luKCcuJyk7XG4gICAgICAgICAgICBsZXQgb2JqZWN0VG9CZVVwZGF0ZWQgPSB0aGlzLm9iamVjdFBhdGhJbnN0YW5jZS5nZXQodGFyZ2V0LCBwYXRoKTtcbiAgICAgICAgICAgIGlmIChvYmplY3RUb0JlVXBkYXRlZCBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgICAgIG9iamVjdFRvQmVVcGRhdGVkLnNldCh0aGlzLl9maWVsZFBhdGhzW3RoaXMuX2ZpZWxkUGF0aHMubGVuZ3RoIC0gMV0sIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3RQYXRoSW5zdGFuY2Uuc2V0KHRhcmdldCwgdGhpcy5fcGF0aCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgbGV0IG1hcFRhcmdldDogTWFwPHN0cmluZywgYW55PiA9IHRhcmdldDtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBOZXN0ZWQgTWFwXG4gICAgICAgICAgICBpZiAodGhpcy5fZmllbGRQYXRocy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhdGggPSB0aGlzLl9maWVsZFBhdGhzLnNwbGljZSgwLCAxKTtcblxuICAgICAgICAgICAgICAgIGxldCBuZXN0ZWRNYXA6IE1hcDxzdHJpbmcsIGFueT4gPSBtYXBUYXJnZXQuZ2V0KHBhdGhbMF0pO1xuICAgICAgICAgICAgICAgIGlmIChpc0JsYW5rKG5lc3RlZE1hcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmVzdGVkTWFwID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwVGFyZ2V0LnNldChwYXRoWzBdLCBuZXN0ZWRNYXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldEZpZWxkVmFsdWUobmVzdGVkTWFwLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldC5zZXQodGhpcy5fZmllbGRQYXRoc1swXSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYmplY3RQYXRoSW5zdGFuY2Uuc2V0KHRhcmdldCwgdGhpcy5fcGF0aCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHNhbWUgcmVhc29uIGFzIGZvciBTZXRGaWVsZFZhbHVlLiBOZWVkIHRvIGJlIGFibGUgdG8gcmVhZCB2YWx1ZSBieSBkb3R0ZWQgcGF0aCBhcyB3ZWxsXG4gICAgICogYXMgcmVhZHkgdmFsdWUgZnJvbSBNYXBzLlxuICAgICAqXG4gICAgICogdG9kbzogdGhpcyBpcyBxdWljayBhbmQgZGlydHkgaW1wbGVtZW50YXRpb24gLSBuZWVkIHRvIHdyaXRlIGJldHRlciBzb2x1dGlvblxuICAgICAqL1xuICAgIGdldEZpZWxkVmFsdWUodGFyZ2V0OiBhbnkpOiBhbnlcbiAgICB7XG4gICAgICAgIGxldCB2YWx1ZTogYW55O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2ZpZWxkUGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgoaXNTdHJpbmdNYXAodGFyZ2V0KSB8fCBpc1N0cmluZyh0YXJnZXQpKSAmJiAhKHRhcmdldCBpbnN0YW5jZW9mIE1hcCkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMub2JqZWN0UGF0aEluc3RhbmNlLmdldCh0YXJnZXQsIHRoaXMuX2ZpZWxkUGF0aHNbaV0pO1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0TWFwOiBNYXA8c3RyaW5nLCBhbnk+ID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGFyZ2V0TWFwLmdldCh0aGlzLl9maWVsZFBhdGhzW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8ganVzdCB0d2VhayB0byBiZSBhYmxlIHRvIGFjY2VzcyBtYXBzIGZpZWxkLnNvbWVNYXBGaWVsZC5tYXBLZXlcbiAgICAgICAgICAgIC8vIEkgd2FudCB0aGlzIHRvIGdldCB0aGUgZWxlbWVudCBmcm9tIHRoZSBtYXBcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE1hcCAmJiAoaSArIDEpIDwgdGhpcy5fZmllbGRQYXRocy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFwVmFsdWUgPSA8TWFwPHN0cmluZywgYW55Pj4gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcFZhbHVlLmdldCh0aGlzLl9maWVsZFBhdGhzW2kgKyAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuXG4gICAgZ2V0IHBhdGgoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aDtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXRoO1xuICAgIH1cblxufVxuXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICovXG5pbXBvcnQge2lzQmxhbmt9IGZyb20gJy4vdXRpbHMvbGFuZyc7XG5pbXBvcnQge0FwcENvbmZpZ30gZnJvbSAnLi9jb25maWcvYXBwLWNvbmZpZyc7XG5pbXBvcnQge01ldGEgYXMgTWV0YVRhZ3MsIFRpdGxlfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcbmltcG9ydCB7T25Jbml0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuXG4vKipcbiAqIE5vdGlvbiBvZiBoYXZpbmcgYEFyaWJhQXBwbGljYXRpb25gIGNsYXNzIGNhbWUgZnJvbSAgYSBzaW1wbGUgcmVxdWlyZW1lbnQgdGhhdCBldmVyeSBzaW5nbGVcbiAqIGFwcGxpY2F0aW9uIG5lZWRzIGEgY29tbW9uIHdheSBob3cgdG8gaW5pdGlhbGl6ZS5cbiAqXG4gKiBXZSB3YW50IHRvIGJlIG1vcmUgYXBwbGljYXRpb24gc3BlY2lmaWMgdGhlcmVmb3JlIHdlIGRvbid0IHdhbnQgdG8gaGF2ZSBnZW5lcmljIG5hbWVzIHN1Y2ggYXNcbiAqIGBhcHAuY29tcG9uZW50IG9yIGFwcC5tb2R1bGVgLCB0aGUgcm9vdCBjb21wb25lbnQgc2hvdWxkIGJlIG5hbWVkIGJhc2VkIG9uIHdoYXQgaXQgaXMgZG9pbmdcbiAqIG9yIHdoYXQgaXMgcmVhbCBhcHBsaWNhdGlvbiBuYW1lIGUuZy46IFRvZG9BcHAsIFNvdXJjaW5nQXBwLCBldGNzLiBhbmQgdGhlc2UgYXBwbGljYXRpb24gd2lsbFxuICogaW5oZXJpdCBmcm9tIGBBcmliYUFwcGxpY2F0aW9uYCB0byBnZXQgc29tZSBjb21tb24gYmVoYXZpb3IuXG4gKlxuICogU3BlY2lmaWMgYXBwbGljYXRpb24gdHlwZXMgd2lsbCBleHRlbmRzIHRoaXMgY2xhc3MgdG8gYWRkIG1vcmUgYmVoYXZpb3IuXG4gKlxuICogVGhlcmUgYXJlIHR3byB0eXBlcyBvZiBib290c3RyYXBwaW5nIGFuZCBwYXNzaW5nIGVudmlyb25tZW50IHBhcmFtZXRlcnMgdG8gdGhlIGFwcGxpY2F0aW9uOlxuICpcbiAqIC0gIER1cmluZyBBcmliYUNvcmVVSSBpbXBvcnQ6XG4gKlxuICogIyMjIGV4YW1wbGVcbiAqXG4gKiBgYGB0c1xuICogICAgICBBcmliYUNvcmVNb2R1bGUuZm9yUm9vdCh7XG4gKiAgICAgICAgICAgICAgICAgICdhcHAudGl0bGUnOiAnUGxheWdyb3VuZCBBcHBsaWNhdGlvbicsXG4gKiAgICAgICAgICAgICAgICAgICdhc3NldC1mb2xkZXInOiAncGxheWdyb3VuZC9hc3NldHMnLFxuICogICAgICAgICAgICAgICAgICAnbWV0YXVpLnJ1bGVzLmZpbGUtbmFtZXMnOiBbJ0FwcGxpY2F0aW9uJywgJ0xheW91dCddLFxuICogICAgICAgICAgICAgICAgICAncmVzdGFwaS5jb250ZXh0JzogJy9teVNlcnZpY2UvJyxcbiAqICAgICAgICAgICAgICAgICAgJ2Nvbm5lY3Rpb24ubW9jay1zZXJ2ZXIuZW5hYmxlZCc6IHRydWUsXG4gKiAgICAgICAgICAgICAgICAgICdjb25uZWN0aW9uLm1vY2stc2VydmVyLnJvdXRlcyc6IFsndXNlcnMnXSxcbiAqICAgICAgICAgICAgICB9KSxcbiAqXG4gKiBgYGBcbiAqICBVc2UgdGhpcyB0byBwYXNzIHNvbWUgc3RhdGljIHByb3BlcnRpZXMuXG4gKlxuICpcbiAqIC0gIEZyb20gQXJpYmFBcHBsaWNhdGlvbiA6XG4gKlxuICogIFdoZW4geW91IGhhdmUgc3BlY2lmaWMgdHlwZSBvZiBhcHBsaWNhdGlvbnMgdGhhdCBuZWVkcyBtb3JlIHNldHRpbmdzIHlvdSBpbmhlcml0IGZyb20gdGhpc1xuICogIGNsYXNzIHRvIGV4dGVuZCBpdHMgYmVoYXZpb3IgYW5kIHRoZW4gdXNlIGl0IGZvciB5b3VyIGFwcGxpY2F0aW9ucyB0byBzaGFyZSBjb21tb24gYmVoYXZpb3JcbiAqXG4gKiAjIyMgZXhhbXBsZVxuICpcbiAqICBgYGB0c1xuICpcbiAqICAgICBleHBvcnQgY2xhc3MgRmFjZWJvb2tBcHBsaWNhdGlvbiBleHRlbmRzIEFyaWJhQXBwbGljYXRpb24ge1xuICpcbiAqICAgICAgICAgcHJvdGVjdGVkIGFwcElkOiBzdHJpbmcgPSAnLi4uLi4nO1xuICpcbiAqXG4gKiAgICAgICAgICBwcm90ZWN0ZWQgaW5pdGlhbGl6ZSgpOiB2b2lkXG4gKiAgICAgICAgICB7XG4gKiAgICAgICAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICpcbiAqICAgICAgICAgICAgICB0aGlzLmFwcElkID0gcmVhZEFwcElkZnJvbUVudigpO1xuICpcbiAqICAgICAgICAgICAgICB0aGlzLmFwcENvbmZpZy5zZXQoJ2ZhY2Vib29rLmFwcElkJywgdGhpcy5hcHBJZCApO1xuICpcbiAqICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyRkJBdXRoZW50aWNhdG9yKCk7XG4gKlxuICogICAgICAgICAgfVxuICpcbiAqICAgICB9XG4gKlxuICogIGBgYFxuICogIE9uY2UgeW91IGRlZmluZWQgeW91ciB0eXBlIG9mIGFwcGxpY2F0aW9uLCB0aGVuIHlvdSBjYW4gc3RhcnQgY3JlYXRpbmcgYXBwbGljYXRpb25zIHRoYXQgaW5oZXJpdFxuICogIGZyb20gdGhpcyBgRmFjZWJvb2tBcHBsaWNhdGlvbmAuIFJvb3QgQXBwIGNvbXBvbmVudFxuICpcbiAqXG4gKiBgYGB0c1xuICogICAgICBAQ29tcG9uZW50KHsuLi59KVxuICogICAgICBleHBvcnQgUGljdHVyZUFwcENvbXBvbmVudCBleHRlbmRzIEZhY2Vib29rQXBwbGljYXRpb24ge1xuICogICAgICAgICAgICAgLi4uXG4gKlxuICogICAgICB9XG4gKlxuICpcbiAqXG4gKiAgICAgQE5nTW9kdWxlKHsgYm9vdHN0cmFwOiBbUGljdHVyZUFwcENvbXBvbmVudF0gfSlcbiAqICAgICBleHBvcnQgY2xhc3MgUGljdHVyZUFwcE1vZHVsZSB7XG4gKlxuICogICAgIH1cbiAqXG4gKlxuICogYGBgXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQXJpYmFBcHBsaWNhdGlvbiBpbXBsZW1lbnRzIE9uSW5pdFxue1xuXG4gICAgLyoqXG4gICAgICogVGl0bGUgc2VydmljZSBmb3Igc2V0dGluZyBwYWdlIHRpdGxlXG4gICAgICovXG4gICAgdGl0bGU6IFRpdGxlO1xuXG5cbiAgICAvKipcbiAgICAgKiBNZXRhIHNlcnZpY2UgZm9yIGFkZGluZyBhbmQgdXBkYXRpbmcgcGFnZSBtZXRhIHRhZ3NcbiAgICAgKi9cbiAgICBtZXRhVGFnczogTWV0YVRhZ3M7XG5cblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBhcHBDb25maWc6IEFwcENvbmZpZylcbiAgICB7XG4gICAgICAgIHRoaXMubWV0YVRhZ3MgPSB0aGlzLmFwcENvbmZpZy5pbmplY3Rvci5nZXQoTWV0YVRhZ3MpO1xuICAgICAgICB0aGlzLnRpdGxlID0gdGhpcy5hcHBDb25maWcuaW5qZWN0b3IuZ2V0KFRpdGxlKTtcblxuXG4gICAgfVxuXG5cbiAgICBuZ09uSW5pdCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGRlZmF1bHQgYmVoYXZpb3IganVzdCBzZXRzIGEgdGl0bGUgZm9yIHRoZSBhcHBsaWNhdGlvblxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbml0aWFsaXplKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCB0aXRsZTogc3RyaW5nID0gdGhpcy5hcHBDb25maWcuZ2V0KEFwcENvbmZpZy5BcHBUaXRsZSk7XG4gICAgICAgIGlmIChpc0JsYW5rKHRpdGxlKSkge1xuICAgICAgICAgICAgdGl0bGUgPSAnQXJpYmEgQXBwbGljYXRpb24nO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGl0bGUuc2V0VGl0bGUodGl0bGUpO1xuXG4gICAgfVxufVxuIl0sIm5hbWVzIjpbInRzbGliXzEuX192YWx1ZXMiLCJtYXAiLCJDb2xsZWN0aW9ucy5hcnJheXMiLCJ0c2xpYl8xLl9fZXh0ZW5kcyIsIm9mIiwib2JzZXJ2YWJsZU9mIiwib2JzZXJ2YWJsZVRocm93RXJyb3IiLCIoLyoqIEB0eXBlIHs/fSAqLyAob2JqZWN0UGF0aCkpWydjcmVhdGUn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

/***/ }),

/***/ "../../dist/@aribaui/metaui/fesm5/aribaui-metaui.js":
/*!********************************************************************************************!*\
  !*** /Users/fkolar/Documents/projects/MetaUI/dist/@aribaui/metaui/fesm5/aribaui-metaui.js ***!
  \********************************************************************************************/
/*! exports provided: Activation, Assignment, AssignmentSnapshot, Context, DeferredAssignment, ObjectMetaContext, PropertyAccessor, Snapshot, StaticRec, UIContext, ItemProperties, Match, MatchResult, MatchWithUnion, UnionMatchResult, Meta, KeyValueCount, PropertyManager, OverrideValue, KeyData, PropertyMap, PropertyMergerDynamic, PropertyMerger_Overwrite, PropertyMerger_List, PropertyMergerDeclareList, PropertyMergerDeclareListForTrait, PropertyMerger_And, PropertyMerger_Valid, RuleSet, ValueMatches, MultiMatchValue, KeyValueTransformer_KeyPresent, isPropertyMapAwaking, NestedMap, FieldTypeIntrospectionMetaProvider, IntrospectionMetaProvider, ObjectMeta, ObjectMetaPropertyMap, OMPropertyMerger_Valid, SystemPersistenceRules, DynamicPropertyValue, StaticallyResolvable, StaticDynamicWrapper, StaticallyResolvableWrapper, ContextFieldPath, isDynamicSettable, Expr, DeferredOperationChain, ValueConverter, Rule, RuleWrapper, Selector, RuleLoaderService, LocalizedString, UIMeta, SystemRules, ModuleInfo, AWMetaCoreModule, MetaUIActionEvent, MetaContentPageComponent, MetaFormComponent, MetaFormRowComponent, MetaFormTableComponent, NoMetaComponent, MetaIncludeComponentDirective, MetaBaseComponent, MetaElementListComponent, MetaHomePageComponent, AWMetaLayoutModule, MetaSectionsComponent, MetaObjectDetailComponent, MetaContextComponent, AribaMetaUIModule, initMetaUI, AribaMetaUIRoutingModule, ɵa, ɵb, ɵc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Activation", function() { return Activation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Assignment", function() { return Assignment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignmentSnapshot", function() { return AssignmentSnapshot; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Context", function() { return Context; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeferredAssignment", function() { return DeferredAssignment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectMetaContext", function() { return ObjectMetaContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyAccessor", function() { return PropertyAccessor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Snapshot", function() { return Snapshot; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StaticRec", function() { return StaticRec; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIContext", function() { return UIContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ItemProperties", function() { return ItemProperties; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Match", function() { return Match; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MatchResult", function() { return MatchResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MatchWithUnion", function() { return MatchWithUnion; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnionMatchResult", function() { return UnionMatchResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Meta", function() { return Meta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KeyValueCount", function() { return KeyValueCount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyManager", function() { return PropertyManager; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OverrideValue", function() { return OverrideValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KeyData", function() { return KeyData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyMap", function() { return PropertyMap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyMergerDynamic", function() { return PropertyMergerDynamic; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyMerger_Overwrite", function() { return PropertyMerger_Overwrite; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyMerger_List", function() { return PropertyMerger_List; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyMergerDeclareList", function() { return PropertyMergerDeclareList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyMergerDeclareListForTrait", function() { return PropertyMergerDeclareListForTrait; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyMerger_And", function() { return PropertyMerger_And; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropertyMerger_Valid", function() { return PropertyMerger_Valid; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RuleSet", function() { return RuleSet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValueMatches", function() { return ValueMatches; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultiMatchValue", function() { return MultiMatchValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KeyValueTransformer_KeyPresent", function() { return KeyValueTransformer_KeyPresent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPropertyMapAwaking", function() { return isPropertyMapAwaking; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NestedMap", function() { return NestedMap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldTypeIntrospectionMetaProvider", function() { return FieldTypeIntrospectionMetaProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntrospectionMetaProvider", function() { return IntrospectionMetaProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectMeta", function() { return ObjectMeta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectMetaPropertyMap", function() { return ObjectMetaPropertyMap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OMPropertyMerger_Valid", function() { return OMPropertyMerger_Valid; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SystemPersistenceRules", function() { return SystemPersistenceRules; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicPropertyValue", function() { return DynamicPropertyValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StaticallyResolvable", function() { return StaticallyResolvable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StaticDynamicWrapper", function() { return StaticDynamicWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StaticallyResolvableWrapper", function() { return StaticallyResolvableWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContextFieldPath", function() { return ContextFieldPath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDynamicSettable", function() { return isDynamicSettable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Expr", function() { return Expr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeferredOperationChain", function() { return DeferredOperationChain; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValueConverter", function() { return ValueConverter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Rule", function() { return Rule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RuleWrapper", function() { return RuleWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Selector", function() { return Selector; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RuleLoaderService", function() { return RuleLoaderService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocalizedString", function() { return LocalizedString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIMeta", function() { return UIMeta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SystemRules", function() { return SystemRules; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModuleInfo", function() { return ModuleInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWMetaCoreModule", function() { return AWMetaCoreModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaUIActionEvent", function() { return MetaUIActionEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaContentPageComponent", function() { return MetaContentPageComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaFormComponent", function() { return MetaFormComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaFormRowComponent", function() { return MetaFormRowComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaFormTableComponent", function() { return MetaFormTableComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NoMetaComponent", function() { return NoMetaComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaIncludeComponentDirective", function() { return MetaIncludeComponentDirective; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaBaseComponent", function() { return MetaBaseComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaElementListComponent", function() { return MetaElementListComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaHomePageComponent", function() { return MetaHomePageComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWMetaLayoutModule", function() { return AWMetaLayoutModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaSectionsComponent", function() { return MetaSectionsComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaObjectDetailComponent", function() { return MetaObjectDetailComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaContextComponent", function() { return MetaContextComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AribaMetaUIModule", function() { return AribaMetaUIModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initMetaUI", function() { return initMetaUI; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AribaMetaUIRoutingModule", function() { return AribaMetaUIRoutingModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵa", function() { return MetaActionListComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵb", function() { return MetaDashboardLayoutComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ɵc", function() { return MetaLayout; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "../../node_modules/tslib/tslib.es6.js");
/* harmony import */ var _aribaui_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aribaui/core */ "../../dist/@aribaui/core/fesm5/aribaui-core.js");
/* harmony import */ var typescript_collections__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! typescript-collections */ "../../node_modules/typescript-collections/dist/lib/index.js");
/* harmony import */ var typescript_collections__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(typescript_collections__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _aribaui_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @aribaui/components */ "../../dist/@aribaui/components/fesm5/aribaui-components.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "../../node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "../../node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/platform-browser */ "../../node_modules/@angular/platform-browser/fesm5/platform-browser.js");










/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Represents a set of matching rules resulting from looking up a set of key/values
 *  against the Meta rule base.
 *
 * Instances of the Match superclass are simply immutable snapshots of previous matches
 * (used as keys in Match -> Properties lookup caches).
 * The more meaty class is its static inner subclass, Match.MatchResult.
 */
var Match = /** @class */ (function () {
    function Match(_matches, _keysMatchedMask, _matchPathCRC) {
        if (_matchPathCRC === void 0) { _matchPathCRC = 0; }
        this._matches = _matches;
        this._keysMatchedMask = _keysMatchedMask;
        this._matchPathCRC = _matchPathCRC;
    }
    // Word lists are int arrays with the first element holding the length
    /**
     * @param {?} intArr
     * @param {?} val
     * @return {?}
     */
    Match.addInt = /**
     * @param {?} intArr
     * @param {?} val
     * @return {?}
     */
    function (intArr, val) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(intArr)) {
            /** @type {?} */
            var r = new Array(4);
            r[0] = 1;
            r[1] = val;
            return r;
        }
        /** @type {?} */
        var newPos = intArr[0];
        if (intArr[newPos++] === val) {
            return intArr;
        } // already here...
        if (newPos >= intArr.length) {
            /** @type {?} */
            var a = new Array(newPos * 2);
            a = intArr.slice(0, newPos);
            intArr = a;
        }
        intArr[newPos] = val;
        intArr[0] = newPos;
        return intArr;
    };
    // only rules that use only the activated (queried) keys
    /**
     * @param {?} rules
     * @param {?} arr
     * @param {?} usesMask
     * @return {?}
     */
    Match.filterMustUse = /**
     * @param {?} rules
     * @param {?} arr
     * @param {?} usesMask
     * @return {?}
     */
    function (rules, arr, usesMask) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(arr)) {
            return null;
        }
        /** @type {?} */
        var result;
        /** @type {?} */
        var count = arr[0];
        for (var i = 0; i < count; i++) {
            /** @type {?} */
            var r = arr[i + 1];
            /** @type {?} */
            var rule = rules[r];
            if ((rule.keyMatchesMask & usesMask) !== 0) {
                result = Match.addInt(result, r);
            }
        }
        return result;
    };
    /**
     * Intersects two rulevecs.  This is not a traditional intersection where only items in both
     * inputs are included in the result: we only intersect rules that match on common keys;
     * others are unioned.
     *
     * For instance, say we have the following inputs:
     *      a:  [matched on: class, layout]  (class=Foo, layout=Inspect)
     *          1) class=Foo layout=Inspect { ... }
     *          2) class=Foo operation=edit { ... }
     *          3) layout=Inspect operation=view { ... }
     *
     *      b:  [matched on: operation]  (operation=view)
     *          3) layout=Inspect operation=view { ... }
     *          4) operation=view type=String { ... }
     *          5) operation=view layout=Tabs { ... }
     *
     * The result should be: 1, 3, 4
     * I.e.: items that appear in both (#3 above) are included, as are items that appear in just
     * one,
     * *but don't match on the keys in the other* (#1 and #4 above).
     *
     * @param allRules the full rule base
     * @param a first vector of rule indexes
     * @param b second vector of rule indexes
     * @param aMask mask indicating the keys against which the first rule vectors items have
     *     already been matched
     * @param bMask mask indicating the keys against which the second rule vectors items have
     *     already been matched
     * @return rule vector for the matches
     */
    /**
     * Intersects two rulevecs.  This is not a traditional intersection where only items in both
     * inputs are included in the result: we only intersect rules that match on common keys;
     * others are unioned.
     *
     * For instance, say we have the following inputs:
     *      a:  [matched on: class, layout]  (class=Foo, layout=Inspect)
     *          1) class=Foo layout=Inspect { ... }
     *          2) class=Foo operation=edit { ... }
     *          3) layout=Inspect operation=view { ... }
     *
     *      b:  [matched on: operation]  (operation=view)
     *          3) layout=Inspect operation=view { ... }
     *          4) operation=view type=String { ... }
     *          5) operation=view layout=Tabs { ... }
     *
     * The result should be: 1, 3, 4
     * I.e.: items that appear in both (#3 above) are included, as are items that appear in just
     * one,
     * *but don't match on the keys in the other* (#1 and #4 above).
     *
     * @param {?} allRules the full rule base
     * @param {?} a first vector of rule indexes
     * @param {?} b second vector of rule indexes
     * @param {?} aMask mask indicating the keys against which the first rule vectors items have
     *     already been matched
     * @param {?} bMask mask indicating the keys against which the second rule vectors items have
     *     already been matched
     * @return {?} rule vector for the matches
     */
    Match.intersect = /**
     * Intersects two rulevecs.  This is not a traditional intersection where only items in both
     * inputs are included in the result: we only intersect rules that match on common keys;
     * others are unioned.
     *
     * For instance, say we have the following inputs:
     *      a:  [matched on: class, layout]  (class=Foo, layout=Inspect)
     *          1) class=Foo layout=Inspect { ... }
     *          2) class=Foo operation=edit { ... }
     *          3) layout=Inspect operation=view { ... }
     *
     *      b:  [matched on: operation]  (operation=view)
     *          3) layout=Inspect operation=view { ... }
     *          4) operation=view type=String { ... }
     *          5) operation=view layout=Tabs { ... }
     *
     * The result should be: 1, 3, 4
     * I.e.: items that appear in both (#3 above) are included, as are items that appear in just
     * one,
     * *but don't match on the keys in the other* (#1 and #4 above).
     *
     * @param {?} allRules the full rule base
     * @param {?} a first vector of rule indexes
     * @param {?} b second vector of rule indexes
     * @param {?} aMask mask indicating the keys against which the first rule vectors items have
     *     already been matched
     * @param {?} bMask mask indicating the keys against which the second rule vectors items have
     *     already been matched
     * @return {?} rule vector for the matches
     */
    function (allRules, a, b, aMask, bMask) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(a)) {
            return b;
        }
        /** @type {?} */
        var result;
        /** @type {?} */
        var iA = 1;
        /** @type {?} */
        var sizeA = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(a[0]) ? a[0] : 0;
        /** @type {?} */
        var iB = 1;
        /** @type {?} */
        var sizeB = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(b[0]) ? b[0] : 0;
        Match._Debug_ElementProcessCount += sizeA + sizeB;
        while (iA <= sizeA || iB <= sizeB) {
            /** @type {?} */
            var iAMask = (iA <= sizeA) ? allRules[a[iA]].keyIndexedMask : 0;
            /** @type {?} */
            var iBMask = (iB <= sizeB) ? allRules[b[iB]].keyIndexedMask : 0;
            /** @type {?} */
            var c = (iA > sizeA ? 1 : (iB > sizeB ? -1 : (a[iA] - b[iB])));
            if (c === 0) {
                result = Match.addInt(result, a[iA]);
                iA++;
                iB++;
            }
            else if (c < 0) {
                // If A not in B, but A doesn't filter on B's mask, then add it
                if ((iAMask & bMask) === 0) {
                    result = Match.addInt(result, a[iA]);
                }
                iA++;
            }
            else {
                if ((iBMask & aMask) === 0) {
                    result = Match.addInt(result, b[iB]);
                }
                iB++;
            }
        }
        return result;
    };
    /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    Match.union = /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    function (a, b) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(a)) {
            return b;
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(b)) {
            return a;
        }
        /** @type {?} */
        var sizeA = a[0];
        /** @type {?} */
        var sizeB = b[0];
        if (sizeA === 0) {
            return b;
        }
        if (sizeB === 0) {
            return a;
        }
        Match._Debug_ElementProcessCount += (sizeA + sizeB);
        /** @type {?} */
        var result;
        /** @type {?} */
        var iA = 1;
        /** @type {?} */
        var vA = a[1];
        /** @type {?} */
        var iB = 1;
        /** @type {?} */
        var vB = b[1];
        while (iA <= sizeA || iB <= sizeB) {
            /** @type {?} */
            var c = vA - vB;
            result = Match.addInt(result, ((c <= 0) ? vA : vB));
            if (c <= 0) {
                iA++;
                vA = (iA <= sizeA) ? a[iA] : Number.MAX_VALUE;
            }
            if (c >= 0) {
                iB++;
                vB = (iB <= sizeB) ? b[iB] : Number.MAX_VALUE;
            }
        }
        return result;
    };
    /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    Match._arrayEq = /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    function (a, b) {
        if (a === b) {
            return true;
        }
        if (a === null || b === null) {
            return false;
        }
        /** @type {?} */
        var count = a[0];
        if (count !== b[0]) {
            return false;
        }
        for (var i = 1; i <= count; i++) {
            if (a[i] !== b[i]) {
                return false;
            }
        }
        return true;
    };
    /**
     * Filter a partially matched set of rules down to the actual matches.
     * The input set of rules, matchesArr, is based on a *partial* match, and so includes rules
     * that were touched by some of the queried keys, but that may also require *additional* keys
     * that we have not matched on -- these must now be removed. Also, when 'partial indexing',
     * rules are indexed on a subset of their keys, so matchesArr will contain rules that need to
     * be evaluated against those MatchValues upon which they were not indexed (and therefore not
     * intersected / filtered on in the lookup process).
     */
    /**
     * Filter a partially matched set of rules down to the actual matches.
     * The input set of rules, matchesArr, is based on a *partial* match, and so includes rules
     * that were touched by some of the queried keys, but that may also require *additional* keys
     * that we have not matched on -- these must now be removed. Also, when 'partial indexing',
     * rules are indexed on a subset of their keys, so matchesArr will contain rules that need to
     * be evaluated against those MatchValues upon which they were not indexed (and therefore not
     * intersected / filtered on in the lookup process).
     * @param {?} allRules
     * @param {?} maxRule
     * @param {?} matchesArr
     * @param {?} queriedMask
     * @param {?} matchArray
     * @return {?}
     */
    Match.prototype.filter = /**
     * Filter a partially matched set of rules down to the actual matches.
     * The input set of rules, matchesArr, is based on a *partial* match, and so includes rules
     * that were touched by some of the queried keys, but that may also require *additional* keys
     * that we have not matched on -- these must now be removed. Also, when 'partial indexing',
     * rules are indexed on a subset of their keys, so matchesArr will contain rules that need to
     * be evaluated against those MatchValues upon which they were not indexed (and therefore not
     * intersected / filtered on in the lookup process).
     * @param {?} allRules
     * @param {?} maxRule
     * @param {?} matchesArr
     * @param {?} queriedMask
     * @param {?} matchArray
     * @return {?}
     */
    function (allRules, maxRule, matchesArr, queriedMask, matchArray) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(matchesArr)) {
            return null;
        }
        /** @type {?} */
        var result;
        /** @type {?} */
        var count = matchesArr[0];
        for (var i = 0; i < count; i++) {
            /** @type {?} */
            var r = matchesArr[i + 1];
            if (r >= maxRule) {
                continue;
            }
            /** @type {?} */
            var rule = allRules[r];
            if (rule.disabled() || (rule.keyAntiMask & queriedMask) !== 0) {
                continue;
            }
            // Must have matched on (activate) all match keys for this rule, *and*
            // if have any non-indexed rules, need to check match on those
            if (((rule.keyMatchesMask & ~queriedMask) === 0) &&
                ((rule.keyMatchesMask === rule.keyIndexedMask)
                    ||
                        (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(matchArray) && rule.matches(matchArray)))) {
                if (Meta._DebugDoubleCheckMatches && !(matchArray != null && rule.matches(matchArray))) {
                    Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(false, 'Inconsistent (negative) match on rule: ' + rule);
                }
                result = Match.addInt(result, r);
            }
            else if (Meta._DebugDoubleCheckMatches && (matchArray != null && rule.matches(matchArray))) ;
        }
        // if (isPresent(result) && result.length > 0) {
        //     print('\n\n\n #### Filtering RESULT: ' + result[0]);
        //
        //     for (let i = 1; i <= result[0]; i++) {
        //         print('## ' + result[i] + '): ' + allRules[result[i]].toString());
        //     }
        // }
        return result;
    };
    /**
     * @return {?}
     */
    Match.prototype.hashCode = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var ret = this._keysMatchedMask * 31 + this._matchPathCRC;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._matches)) {
            for (var i = 0, c = this._matches[0]; i < c; i++) {
                ret = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["crc32"])(ret, this._matches[i + 1]);
            }
        }
        return ret;
    };
    Object.defineProperty(Match.prototype, "keysMatchedMask", {
        get: /**
         * @return {?}
         */
        function () {
            return this._keysMatchedMask;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} o
     * @return {?}
     */
    Match.prototype.equalsTo = /**
     * @param {?} o
     * @return {?}
     */
    function (o) {
        return ((o instanceof Match) && this._keysMatchedMask === o._keysMatchedMask) &&
            this._matchPathCRC === o._matchPathCRC &&
            Match._arrayEq(this._matches, o._matches);
    };
    /**
     * @return {?}
     */
    Match.prototype.toString = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var buf = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringJoiner"]([]);
        buf.add('_matches');
        buf.add((Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._matches) ? this._matches.length : 0) + '');
        buf.add('_keysMatchedMask');
        buf.add(this._keysMatchedMask + '');
        buf.add('_keysMatchedMask');
        buf.add(this._matchPathCRC + '');
        buf.add('hashcode');
        buf.add(this.hashCode() + '');
        return buf.toString();
    };
    Match.EmptyMatchArray = [];
    Match._Debug_ElementProcessCount = 0;
    return Match;
}());
/**
 *  An Match which includes a UnionMatchResult part (which is used by Context to
 * represent the set of overridden key/values up the stack)
 */
var  /**
 *  An Match which includes a UnionMatchResult part (which is used by Context to
 * represent the set of overridden key/values up the stack)
 */
MatchWithUnion = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MatchWithUnion, _super);
    function MatchWithUnion(_matches, _keysMatchedMask, _matchPathCRC, _overUnionMatch) {
        if (_matchPathCRC === void 0) { _matchPathCRC = 0; }
        var _this = _super.call(this, _matches, _keysMatchedMask, _matchPathCRC) || this;
        _this._matches = _matches;
        _this._keysMatchedMask = _keysMatchedMask;
        _this._matchPathCRC = _matchPathCRC;
        _this._overUnionMatch = _overUnionMatch;
        return _this;
    }
    /**
     * @param {?} o
     * @return {?}
     */
    MatchWithUnion.prototype.equalsTo = /**
     * @param {?} o
     * @return {?}
     */
    function (o) {
        return _super.prototype.equalsTo.call(this, o) && ((this._overUnionMatch === o._overUnionMatch) ||
            ((Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._overUnionMatch)) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(o._overUnionMatch) && this._overUnionMatch.equalsTo(o._overUnionMatch)));
    };
    return MatchWithUnion;
}(Match));
/**
 *  MatchResult represents the result of computing the set of matching rules
 *  based on the key/value on this instance, and the other key/value pairs
 * on its predecessor chain.  I.e. to find the matching rules for the context keys
 * {operation=edit; layout=Inspect; class=Foo}, first a MatchResult is created for
 * 'operation=edit' and passed as the 'prev' to the creation of another for 'layout=Inspect',
 * and so on.  In this way the MatchResults form a *(sharable) partial-match tree.*
 *
 * The ability to result previous partial match 'paths' is an important optimization:
 * the primary client of MatchResult (and of rule matching in general) is the Context, when each
 * assignment pushes a record on a stack that (roughly) extends the Match from the previous
 * assignment.  By caching MatchResult instances on the _Assignment records, matching is limited
 *  to the *incremental* matching on just the new assignment, not a full match on all keys in the
 *  context.
 *
 * Further, a MatchResult caches the *property map* resulting from the application of the rules
 *  that it matches.  By caching MatchResult objects (and caching the map from
 *  Rule vector (AKA Match) -> MatchResult -> PropertyMap), redudant rule application (and creation
 * of additional property maps) is avoided.
 */
var  /**
 *  MatchResult represents the result of computing the set of matching rules
 *  based on the key/value on this instance, and the other key/value pairs
 * on its predecessor chain.  I.e. to find the matching rules for the context keys
 * {operation=edit; layout=Inspect; class=Foo}, first a MatchResult is created for
 * 'operation=edit' and passed as the 'prev' to the creation of another for 'layout=Inspect',
 * and so on.  In this way the MatchResults form a *(sharable) partial-match tree.*
 *
 * The ability to result previous partial match 'paths' is an important optimization:
 * the primary client of MatchResult (and of rule matching in general) is the Context, when each
 * assignment pushes a record on a stack that (roughly) extends the Match from the previous
 * assignment.  By caching MatchResult instances on the _Assignment records, matching is limited
 *  to the *incremental* matching on just the new assignment, not a full match on all keys in the
 *  context.
 *
 * Further, a MatchResult caches the *property map* resulting from the application of the rules
 *  that it matches.  By caching MatchResult objects (and caching the map from
 *  Rule vector (AKA Match) -> MatchResult -> PropertyMap), redudant rule application (and creation
 * of additional property maps) is avoided.
 */
MatchResult = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MatchResult, _super);
    // Meta meta, Meta.KeyData keyData, Object value, MatchResult prev)
    function MatchResult(_meta, _keyData, _value, _prevMatch) {
        var _this = _super.call(this, null, null, 0, (_prevMatch != null) ? _prevMatch._overUnionMatch : null) || this;
        _this._meta = _meta;
        _this._keyData = _keyData;
        _this._value = _value;
        _this._prevMatch = _prevMatch;
        _this._metaGeneration = 0;
        _this._initMatch();
        return _this;
    }
    /**
     * @param {?} over
     * @return {?}
     */
    MatchResult.prototype.setOverridesMatch = /**
     * @param {?} over
     * @return {?}
     */
    function (over) {
        this._overUnionMatch = over;
    };
    /**
     * @return {?}
     */
    MatchResult.prototype.matches = /**
     * @return {?}
     */
    function () {
        this._invalidateIfStale();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._matches)) {
            this._initMatch();
        }
        return this._matches;
    };
    /**
     * @return {?}
     */
    MatchResult.prototype.filterResult = /**
     * @return {?}
     */
    function () {
        return this.filter(this._meta._rules, this._meta._ruleCount, this.matches(), this._keysMatchedMask, null);
    };
    /**
     * Fill in matchArray with MatchValues to use in Selector matching
     * @param matchArray
     */
    /**
     * Fill in matchArray with MatchValues to use in Selector matching
     * @param {?} matchArray
     * @return {?}
     */
    MatchResult.prototype.initMatchValues = /**
     * Fill in matchArray with MatchValues to use in Selector matching
     * @param {?} matchArray
     * @return {?}
     */
    function (matchArray) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._prevMatch)) {
            this._prevMatch.initMatchValues(matchArray);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._overUnionMatch)) {
            this._overUnionMatch.initMatchValues(matchArray);
        }
        this._meta.matchArrayAssign(matchArray, this._keyData, this._keyData.matchValue(this._value));
    };
    /**
     * @return {?}
     */
    MatchResult.prototype.filteredMatches = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var matches = this.matches();
        /** @type {?} */
        var keysMatchedMask = this._keysMatchedMask | (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._overUnionMatch) ? this._overUnionMatch._keysMatchedMask : 0);
        /** @type {?} */
        var overrideMatches;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._overUnionMatch) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])((overrideMatches = this._overUnionMatch.matches()))) {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(matches)) {
                matches = overrideMatches;
            }
            else {
                matches = Match.intersect(this._meta._rules, matches, overrideMatches, this._keysMatchedMask, this._overUnionMatch._keysMatchedMask);
            }
        }
        /** @type {?} */
        var matchArray;
        if (Meta._UsePartialIndexing) {
            matchArray = this._meta.newMatchArray();
            this.initMatchValues(matchArray);
        }
        return this.filter(this._meta._rules, this._meta._ruleCount, matches, keysMatchedMask, matchArray);
    };
    /**
     * @param {?} key
     * @return {?}
     */
    MatchResult.prototype.valueForKey = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return (this._keyData._key === key) ? this._value :
            (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._prevMatch) ? this._prevMatch.valueForKey(key) : null);
    };
    /**
     * @return {?}
     */
    MatchResult.prototype.immutableCopy = /**
     * @return {?}
     */
    function () {
        this._invalidateIfStale();
        return new MatchWithUnion(this.matches(), this._keysMatchedMask, this._matchPathCRC, this._overUnionMatch);
    };
    /**
     * @return {?}
     */
    MatchResult.prototype._invalidateIfStale = /**
     * @return {?}
     */
    function () {
        if (this._metaGeneration < this._meta.ruleSetGeneration) {
            this._initMatch();
        }
    };
    /**
     * @param {?} a
     * @param {?} b
     * @param {?} aMask
     * @param {?} bMask
     * @return {?}
     */
    MatchResult.prototype.join = /**
     * @param {?} a
     * @param {?} b
     * @param {?} aMask
     * @param {?} bMask
     * @return {?}
     */
    function (a, b, aMask, bMask) {
        return Match.intersect(this._meta._rules, a, b, aMask, bMask);
    };
    /**
     * @return {?}
     */
    MatchResult.prototype._initMatch = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var keyMask = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["shiftLeft"])(1, this._keyData._id);
        /** @type {?} */
        var newArr;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(this._value)) {
            try {
                for (var _a = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(this._value), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var v = _b.value;
                    /** @type {?} */
                    var a = this._keyData.lookup(this._meta, v);
                    newArr = Match.union(a, newArr);
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            newArr = this._keyData.lookup(this._meta, this._value);
        }
        /** @type {?} */
        var prevMatches = (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._prevMatch)) ? null : this._prevMatch.matches();
        this._keysMatchedMask = (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._prevMatch)) ? keyMask : (keyMask | this._prevMatch._keysMatchedMask);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(prevMatches)) {
            this._matches = newArr;
            // Todo: not clear why this is needed, but without it we end up failing to filter
            // certain matches that should be filtered (resulting in bad matches)
            if (!Meta._UsePartialIndexing) {
                this._keysMatchedMask = keyMask;
            }
        }
        else {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(newArr)) {
                newArr = Match.EmptyMatchArray;
            }
            // Join
            this._matches = this.join(newArr, prevMatches, keyMask, this._prevMatch._keysMatchedMask);
        }
        // compute path CRC
        this._matchPathCRC = -1;
        for (var mr = this; mr != null; mr = mr._prevMatch) {
            this._matchPathCRC = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["crc32"])(this._matchPathCRC, mr._keyData._key.length);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(mr._value)) {
                /** @type {?} */
                var value = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(mr._value) ? mr._value.join(',') : mr._value;
                this._matchPathCRC = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["crc32"])(this._matchPathCRC, Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["hashCode"])(value));
            }
        }
        if (this._matchPathCRC === 0) {
            this._matchPathCRC = 1;
        }
        this._metaGeneration = this._meta.ruleSetGeneration;
        this._properties = null;
        var e_1, _c;
    };
    /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    MatchResult.prototype._logMatchDiff = /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    function (a, b) {
        /** @type {?} */
        var iA = 1;
        /** @type {?} */
        var sizeA = a[0];
        /** @type {?} */
        var iB = 1;
        /** @type {?} */
        var sizeB = b[0];
        while (iA <= sizeA || iB <= sizeB) {
            /** @type {?} */
            var c = (iA > sizeA ? 1 : (iB > sizeB ? -1 : (a[iA] - b[iB])));
            if (c === 0) {
                iA++;
                iB++;
            }
            else if (c < 0) {
                // If A not in B, but A doesn't filter on B's mask, then add it
                Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["print"])('  -- Only in A: ' + this._meta._rules[a[iA]]);
                iA++;
            }
            else {
                Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["print"])('  -- Only in B: ' + this._meta._rules[b[iB]]);
                iB++;
            }
        }
    };
    /**
     * @return {?}
     */
    MatchResult.prototype.properties = /**
     * @return {?}
     */
    function () {
        this._invalidateIfStale();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._properties)) {
            this._properties = this._meta.propertiesForMatch(this);
        }
        return this._properties;
    };
    /**
     * @return {?}
     */
    MatchResult.prototype.debugString = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var sj = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringJoiner"](['Match Result path: \n']);
        this._appendPrevPath(sj);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._overUnionMatch)) {
            sj.add('\nOverrides path: ');
            this._overUnionMatch._appendPrevPath(sj);
        }
        return sj.toString();
    };
    /**
     * @param {?} buf
     * @return {?}
     */
    MatchResult.prototype._appendPrevPath = /**
     * @param {?} buf
     * @return {?}
     */
    function (buf) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._prevMatch)) {
            this._prevMatch._appendPrevPath(buf);
            buf.add(' -> ');
        }
        buf.add(this._keyData._key);
        buf.add('=');
        buf.add(this._value);
    };
    /**
     * @param {?} values
     * @param {?} meta
     * @return {?}
     */
    MatchResult.prototype._checkMatch = /**
     * @param {?} values
     * @param {?} meta
     * @return {?}
     */
    function (values, meta) {
        /** @type {?} */
        var arr = this.filterResult();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(arr)) {
            return;
        }
        /** @type {?} */
        var count = arr[0];
        for (var i = 0; i < count; i++) {
            /** @type {?} */
            var r = this._meta._rules[arr[i + 1]];
            r._checkRule(values, meta);
        }
    };
    /**
     * @param {?} o
     * @return {?}
     */
    MatchResult.prototype.equalsTo = /**
     * @param {?} o
     * @return {?}
     */
    function (o) {
        return (o instanceof MatchResult) && _super.prototype.equalsTo.call(this, o) && (o._metaGeneration === this._metaGeneration) &&
            o._properties.size === this._properties.size;
    };
    return MatchResult;
}(MatchWithUnion));
var UnionMatchResult = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(UnionMatchResult, _super);
    function UnionMatchResult(meta, keyData, value, prevMatch) {
        return _super.call(this, meta, keyData, value, prevMatch) || this;
    }
    /**
     * @param {?} a
     * @param {?} b
     * @param {?} aMask
     * @param {?} bMask
     * @return {?}
     */
    UnionMatchResult.prototype.join = /**
     * @param {?} a
     * @param {?} b
     * @param {?} aMask
     * @param {?} bMask
     * @return {?}
     */
    function (a, b, aMask, bMask) {
        return Match.union(a, b);
    };
    return UnionMatchResult;
}(MatchResult));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * A map that masks on top of an (immutable) parent map
 * @template K, V
 */
var NestedMap = /** @class */ (function () {
    function NestedMap(_parent, _map) {
        this._parent = _parent;
        this._map = _map;
        this._overrideCount = 0;
        this._size = 0;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(_map)) {
            this._map = new Map();
        }
    }
    /**
     * @param {?} iteratorResult
     * @return {?}
     */
    NestedMap.toMapEntry = /**
     * @param {?} iteratorResult
     * @return {?}
     */
    function (iteratorResult) {
        /** @type {?} */
        var value = iteratorResult.value;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value) && NestedMap.isMapEntry(value)) {
            return value;
        }
        /** @type {?} */
        var entry = {
            key: (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(iteratorResult.value)) ? iteratorResult.value[0] : iteratorResult.value,
            value: (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(iteratorResult.value)) ? iteratorResult.value[1] : iteratorResult.value,
            hasNext: !iteratorResult.done
        };
        return entry;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    NestedMap.isMapEntry = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value.hasNext);
    };
    /**
     * @param {?} value
     * @return {?}
     */
    NestedMap.isNMNullMarker = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value) && value['nesnullmarker'];
    };
    /**
     * @return {?}
     */
    NestedMap.prototype.toMap = /**
     * @return {?}
     */
    function () {
        return this._parent;
    };
    /**
     * @param {?} newParent
     * @return {?}
     */
    NestedMap.prototype.reparentedMap = /**
     * @param {?} newParent
     * @return {?}
     */
    function (newParent) {
        /** @type {?} */
        var newMap = new NestedMap(newParent, this._map);
        newMap._overrideCount = this._overrideCount;
        return newMap;
    };
    /**
     * @param {?} key
     * @return {?}
     */
    NestedMap.prototype.get = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        /** @type {?} */
        var val = this._map.has(key) ? this._map.get(key) : this._parent.get(key);
        return NestedMap.isNMNullMarker(val) ? null : val;
    };
    /**
     * @return {?}
     */
    NestedMap.prototype.keys = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["unimplemented"])();
    };
    /**
     * @return {?}
     */
    NestedMap.prototype.values = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["unimplemented"])();
    };
    /**
     * @return {?}
     */
    NestedMap.prototype.clear = /**
     * @return {?}
     */
    function () {
        this._parent.clear();
        this._map.clear();
    };
    /**
     * @param {?} key
     * @param {?=} value
     * @return {?}
     */
    NestedMap.prototype.set = /**
     * @param {?} key
     * @param {?=} value
     * @return {?}
     */
    function (key, value) {
        /** @type {?} */
        var orig = this._map.get(key);
        if ((NestedMap.isNMNullMarker(orig) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(orig)) && this._parent.has(key)) {
            this._overrideCount += (NestedMap.isNMNullMarker(orig) ? -1 : 1);
        }
        this._map.set(key, value);
        return this;
    };
    /**
     * @param {?} key
     * @return {?}
     */
    NestedMap.prototype.delete = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        /** @type {?} */
        var returnVal = false;
        /** @type {?} */
        var orig = null;
        if (this._map.has(key)) {
            orig = this._map.delete(key);
            returnVal = true;
            // print('Removing: ' , orig);
            if (this._parent.has(key)) {
                this._map.set(key, NestedMap._NullMarker);
                // _overrideCount--;
                this._overrideCount++;
            }
        }
        else if (this._parent.has(key)) {
            // we're "removing" a value we don't have (but that our parent does)
            // we need to store a null override
            orig = this._parent.get(key);
            // print('Removing: ' , orig);
            this._map.set(key, NestedMap._NullMarker);
            this._overrideCount += 2;
        }
        return returnVal;
    };
    /**
     * @param {?} callbackfn
     * @param {?=} thisArg
     * @return {?}
     */
    NestedMap.prototype.forEach = /**
     * @param {?} callbackfn
     * @param {?=} thisArg
     * @return {?}
     */
    function (callbackfn, thisArg) {
        /** @type {?} */
        var entries = this.entries();
        /** @type {?} */
        var nextEntry;
        while ((nextEntry = NestedMap.toMapEntry(entries.next())) && nextEntry.hasNext) {
            callbackfn(nextEntry.value, nextEntry.key, this._parent);
        }
    };
    /**
     * @param {?} key
     * @return {?}
     */
    NestedMap.prototype.has = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return this._map.has(key) ? (!NestedMap.isNMNullMarker(this._map.get(key))) : this._parent.has(key);
    };
    /**
     * @return {?}
     */
    NestedMap.prototype[Symbol.iterator] = /**
     * @return {?}
     */
    function () {
        return new NestedEntryIterator(this);
    };
    /**
     * @return {?}
     */
    NestedMap.prototype.entries = /**
     * @return {?}
     */
    function () {
        return new NestedEntryIterator(this);
    };
    Object.defineProperty(NestedMap.prototype, "size", {
        get: /**
         * @return {?}
         */
        function () {
            return this._parent.size + this._map.size - this._overrideCount;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NestedMap.prototype, "map", {
        get: /**
         * @return {?}
         */
        function () {
            return this._map;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NestedMap.prototype, "parent", {
        get: /**
         * @return {?}
         */
        function () {
            return this._parent;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    NestedMap.prototype.toString = /**
     * @return {?}
     */
    function () {
        return 'NestedMap';
    };
    NestedMap._NullMarker = { nesnullmarker: true };
    return NestedMap;
}());
/**
 * @template K, V
 */
var /**
 * @template K, V
 */
NestedEntryIterator = /** @class */ (function () {
    function NestedEntryIterator(_nestedMap) {
        this._nestedMap = _nestedMap;
        this._parentIterator = _nestedMap.parent.entries();
        this._nestedIterator = _nestedMap.map.entries();
        this.advanceToNext();
    }
    /**
     * @return {?}
     */
    NestedEntryIterator.prototype.next = /**
     * @return {?}
     */
    function () {
        // assert(isPresent(this._nextEntry) , 'next() when no more elements"');
        this._currentEntry = this._nextEntry;
        this.advanceToNext();
        /** @type {?} */
        var next = {
            value: this._currentEntry,
            done: !this._currentEntry.hasNext
        };
        return next;
    };
    /**
     * @return {?}
     */
    NestedEntryIterator.prototype[Symbol.iterator] = /**
     * @return {?}
     */
    function () {
        return this;
    };
    /**
     * @return {?}
     */
    NestedEntryIterator.prototype.advanceToNext = /**
     * @return {?}
     */
    function () {
        this._fromNested = false;
        // Note: we need to skip nulls (masked values)
        while (!this._fromNested && (this._currentNestedEntry = NestedMap.toMapEntry(this._nestedIterator.next())) && this._currentNestedEntry.hasNext) {
            this._nextEntry = this._currentNestedEntry;
            if (!NestedMap.isNMNullMarker(this._nextEntry.value)) {
                this._fromNested = true;
            }
        }
        if (!this._fromNested) {
            while ((this._currentParentEntry = NestedMap.toMapEntry(this._parentIterator.next())) && this._currentParentEntry.hasNext) {
                this._nextEntry = this._currentParentEntry;
                if (!this._nestedMap.map.has(this._nextEntry.key)) {
                    return;
                }
            }
            this._nextEntry = this._currentParentEntry;
        }
    };
    return NestedEntryIterator;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @abstract
 */
var  /**
 * @abstract
 */
DynamicPropertyValue = /** @class */ (function () {
    function DynamicPropertyValue() {
    }
    /**
     * @param {?} context
     * @return {?}
     */
    DynamicPropertyValue.prototype.evaluate = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["unimplemented"])();
    };
    /**
     * @param {?} context
     * @return {?}
     */
    DynamicPropertyValue.prototype.bind = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["unimplemented"])();
    };
    return DynamicPropertyValue;
}());
/**
 * ;marker; interface for DynamicPropertyValues that depend only on their match context and
 * therefore can be computed and cached statically in the Context Activation tree
 */
var  /**
 * ;marker; interface for DynamicPropertyValues that depend only on their match context and
 * therefore can be computed and cached statically in the Context Activation tree
 */
StaticallyResolvable = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(StaticallyResolvable, _super);
    function StaticallyResolvable() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return StaticallyResolvable;
}(DynamicPropertyValue));
var StaticDynamicWrapper = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(StaticDynamicWrapper, _super);
    function StaticDynamicWrapper(_orig) {
        var _this = _super.call(this) || this;
        _this._orig = _orig;
        _this.propertyAwaking = true;
        return _this;
    }
    /**
     * @return {?}
     */
    StaticDynamicWrapper.prototype.getDynamicValue = /**
     * @return {?}
     */
    function () {
        return this._orig;
    };
    /**
     * @param {?} map
     * @return {?}
     */
    StaticDynamicWrapper.prototype.awakeForPropertyMap = /**
     * @param {?} map
     * @return {?}
     */
    function (map) {
        /** @type {?} */
        var origaw = (isPropertyMapAwaking(this._orig)) ? /** @type {?} */ ((/** @type {?} */ (this._orig)).awakeForPropertyMap(map)) : this._orig;
        return new StaticDynamicWrapper(origaw);
    };
    /**
     * @param {?} context
     * @return {?}
     */
    StaticDynamicWrapper.prototype.evaluate = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        // we lazily static evaluate our value and cache the result
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._cached)) {
            this._cached = context.staticallyResolveValue(this._orig);
        }
        return this._cached;
    };
    /**
     * @return {?}
     */
    StaticDynamicWrapper.prototype.toString = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var sj = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringJoiner"](['StaticDynamicWrapper']);
        sj.add('(');
        sj.add(((Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._cached)) ? this._cached : this._orig));
        sj.add(((Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._cached)) ? ' unevaluated' : ''));
        sj.add(')');
        return sj.toString();
    };
    return StaticDynamicWrapper;
}(StaticallyResolvable));
var StaticallyResolvableWrapper = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(StaticallyResolvableWrapper, _super);
    function StaticallyResolvableWrapper(_orig) {
        var _this = _super.call(this) || this;
        _this._orig = _orig;
        return _this;
    }
    /**
     * @param {?} context
     * @return {?}
     */
    StaticallyResolvableWrapper.prototype.evaluate = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        return this._orig.evaluate(context);
    };
    /**
     * @return {?}
     */
    StaticallyResolvableWrapper.prototype.toString = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var sj = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringJoiner"](['StaticallyResolvableWrapper']);
        sj.add('(');
        sj.add(this._orig.toString());
        sj.add(')');
        return sj.toString();
    };
    return StaticallyResolvableWrapper;
}(StaticallyResolvable));
var ContextFieldPath = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(ContextFieldPath, _super);
    function ContextFieldPath(path) {
        var _this = _super.call(this) || this;
        _this.settable = true;
        _this.fieldPath = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["FieldPath"](path);
        return _this;
    }
    /**
     * @param {?} context
     * @return {?}
     */
    ContextFieldPath.prototype.evaluate = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        return this.fieldPath.getFieldValue(context);
    };
    /**
     * @param {?} context
     * @param {?} value
     * @return {?}
     */
    ContextFieldPath.prototype.evaluateSet = /**
     * @param {?} context
     * @param {?} value
     * @return {?}
     */
    function (context, value) {
        this.fieldPath.setFieldValue(context, value);
    };
    return ContextFieldPath;
}(DynamicPropertyValue));
/**
 * @param {?} arg
 * @return {?}
 */
function isDynamicSettable(arg) {
    return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(arg.settable);
}
var Expr = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(Expr, _super);
    function Expr(_expressionString) {
        var _this = _super.call(this) || this;
        _this._expressionString = _expressionString;
        _this._extendedObjects = new Map();
        _this.addTypeToContext('Meta', Meta);
        _this.addTypeToContext('FieldPath', _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["FieldPath"]);
        return _this;
    }
    /**
     * @param {?} name
     * @param {?} context
     * @return {?}
     */
    Expr.prototype.addTypeToContext = /**
     * @param {?} name
     * @param {?} context
     * @return {?}
     */
    function (name, context) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isFunction"])(context)) {
            this._extendedObjects.set(name, context);
        }
    };
    /**
     * @param {?} context
     * @return {?}
     */
    Expr.prototype.evaluate = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        var _this = this;
        /** @type {?} */
        var index = 0;
        this._extendedObjects.forEach(function (v, k) {
            /** @type {?} */
            var typeName = "DynObj" + index++;
            (/** @type {?} */ (context))[typeName] = v;
            if (_this._expressionString.indexOf(k + ".") !== -1) {
                _this._expressionString = _this._expressionString.replace(k + ".", typeName + ".");
            }
        });
        /** @type {?} */
        var result = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["evalExpressionWithCntx"])(this._expressionString, '', context, context);
        index = 0;
        this._extendedObjects.forEach(function (v, k) {
            /** @type {?} */
            var typeName = "DynObj" + index++;
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])((/** @type {?} */ (context))[typeName])) {
                delete (/** @type {?} */ (context))[typeName];
                // check if we can use undefined. Delete is pretty slow
            }
        });
        return result;
    };
    /**
     * @return {?}
     */
    Expr.prototype.toString = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var sj = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringJoiner"](['expr:']);
        sj.add('(');
        sj.add(this._expressionString);
        sj.add(')');
        return sj.toString();
    };
    return Expr;
}(DynamicPropertyValue));
var DeferredOperationChain = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(DeferredOperationChain, _super);
    function DeferredOperationChain(_merger, _orig, _override) {
        var _this = _super.call(this) || this;
        _this._merger = _merger;
        _this._orig = _orig;
        _this._override = _override;
        _this.propertyAwaking = true;
        return _this;
    }
    /**
     * @param {?} context
     * @return {?}
     */
    DeferredOperationChain.prototype.evaluate = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        return this._merger.merge(context.resolveValue(this._override), context.resolveValue(this._orig), context.isDeclare());
    };
    /**
     * @param {?} map
     * @return {?}
     */
    DeferredOperationChain.prototype.awakeForPropertyMap = /**
     * @param {?} map
     * @return {?}
     */
    function (map) {
        /** @type {?} */
        var orig = this._orig;
        /** @type {?} */
        var over = this._override;
        if (isPropertyMapAwaking(orig)) {
            orig = (/** @type {?} */ (orig)).awakeForPropertyMap(map);
        }
        if (isPropertyMapAwaking(over)) {
            over = (/** @type {?} */ (over)).awakeForPropertyMap(map);
        }
        if (orig !== this._orig || over !== this._override) {
            return new DeferredOperationChain(this._merger, orig, over);
        }
        return this;
    };
    /**
     * @return {?}
     */
    DeferredOperationChain.prototype.toString = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var sj = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringJoiner"](['Chain']);
        sj.add('<');
        sj.add(this._merger.toString());
        sj.add('>');
        sj.add(': ');
        sj.add(this._override);
        sj.add(' => ');
        sj.add(this._orig);
        return sj.toString();
    };
    return DeferredOperationChain;
}(DynamicPropertyValue));
var ValueConverter = /** @class */ (function () {
    function ValueConverter() {
    }
    /**
     * @param {?} toType
     * @param {?} value
     * @return {?}
     */
    ValueConverter.value = /**
     * @param {?} toType
     * @param {?} value
     * @return {?}
     */
    function (toType, value) {
        if (toType === 'String') {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(value) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isString"])(value)) {
                return value;
            }
            return value.toString();
        }
        else if (toType === 'Boolean') {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(value) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBoolean"])(value)) {
                return value;
            }
            return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(value);
        }
        else if (toType === 'Number') {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(value) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isNumber"])(value)) {
                return value;
            }
            // ignore dec. points for now
            return parseInt(value.toString());
        }
        return value;
    };
    return ValueConverter;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *
 * Context represents a stack of assignments (e.g. class=User, field=birthDay, operation=edit)
 *  The current set of assignments can be retrieved via values().
 *
 * The current values are run against the Meta rule set to compute the effective PropertyMap
 * (e.g. visible:true, editable:true, component:AWTextField).
 * Some rule evaluations result in *chaining* -- where additional assignments that are
 * 'implied' by the current assignments are applied, (resulting in a revised computation
 * of the current PropertyMap, and possible further chaining).
 * (e.g. field=birthDay may result in type=Date which may result in component:DatePicker)
 *
 * Assignments can be scoped and popped (push(), set(key, value); ...; pop()).
 *
 * The actual computation of rule matches is cached so once a 'path' down the context
 * tree has been exercized subsequent matching traversals (even by other threads/users)
 * is fast.
 *
 *
 * examples of property maps for different scope key
 *
 * <code>
 *     {
 * 'visible': true,
 * 'class_trait': 'fiveZones',
 * 'editable': true,
 * 'bindings': {
 * 'value': 'Default Title'
 * },
 * 'field_trait': 'required',
 * 'label': 'Title',
 * 'type': 'string',
 * 'required': true,
 * 'editing': true,
 * 'valid': '{{(value && value.length > 0) ? true : \'Answer required\'}}',
 * 'component': 'InputFieldComponent',
 * 'field': 'title',
 * 'layout_trait': 'Form',
 * 'trait': 'required',
 * 'rank': 20,
 * 'after': 'zLeft',
 * 'class': 'CheckRequest1'
 * }
 *
 * </code>
 *
 *
 *
 * <code>
 *     {
 * 'visible': true,
 * 'class_trait': 'fiveZones',
 * 'label': 'Check Request1',
 * 'zones': [
 * 'zLeft',
 * 'zRight',
 * 'zTop',
 * 'zBottom',
 * 'zDetail'
 * ],
 * 'editing': true,
 * 'layout': '*',
 * 'component': 'MetaFormComponent',
 * 'layout_trait': 'Form',
 * 'fiveZoneLayout': true,
 * 'trait': 'fiveZones',
 * 'layoutsByZone': {
 * },
 * 'class': 'CheckRequest1',
 * 'fieldsByZone': {
 * 'zLeft': [
 * 'title',
 * 'name'
 * ],
 * 'zNone': [
 * 'fullName'
 * ]
 * }
 * }
 *
 * </code>
 *
 *
 *
 */
var Context = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(Context, _super);
    function Context(_meta, nested) {
        if (nested === void 0) { nested = false; }
        var _this = _super.call(this) || this;
        _this._meta = _meta;
        _this.nested = nested;
        _this._values = new Map();
        _this._entries = [];
        _this._frameStarts = [];
        _this._recPool = [];
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(Context.EmptyMap)) {
            Context.EmptyMap = new PropertyMap();
        }
        Context._Debug_SetsCount = 0;
        _this._accessor = new PropertyAccessor(_this);
        _this._currentActivation = Context.getActivationTree(_meta);
        _this._rootNode = _this._currentActivation;
        _this.isNested = nested;
        return _this;
    }
    /**
     * Implementation notes:
     *
     * Context maintains a stack (_entries) of _ContextRecs (one per assignment) as well as
     * as _frameStack recording the stack positions for each push()/pop().

     * Performance through aggressive global caching of all statically computatble data:
     * - The static (reusable/immutable) part of a ContextRec is factored into _StaticRec
     * - StaticRecs represent individual assignments (context key = value) and cache the
     *      resulting Meta.MatchResult (and associated PropertyMap)
     * - The sub-stack (of forward chained) records associated with each external set()
     *      (or chained *dynamic* value) is recorded in an Activation.
     * - Process-global tree of Activations
     *      - each activation keeps list of its ContextKey/Value-keyed decended Activations
     *
     * Property Contexts.
     *      The notion of a 'PropertyContext' makes the going tricky...
     *       A 'PropertyContextKey' is a key for an 'entity' that properties describe.
     *       (e.g. class, field, action, and layout are property context keys, but editing,
     *       operation, ... are not)
     *       E.g. On an assignment stack with module=Admin class=Foo, field=name, editable=false,
     *       we want the property 'label' to be the label for the *field*, not the class or module
     *       -- i.e. the *top-most* assignment of a PropertyContextKey determines which property
     *       context rules are active.
     *
     *  These rules are activated via a synthetic context key of like 'field_p' or 'class_p'.
     *  Logically, after each assigment we need to figure of which context key should be in
     *  affect an set it on the context, but then automatically pop it off upon the next
     *  assignment (and then recompute again).
     *
     *  Of course, actually pushing and popping context key assignment on every set()
     *  would be expensive so instead we cache the 'propertyActivation' associated with
     *  each activation, and use its values and properties rather than those on the
     *  activation.
     */
    /**
     * Implementation notes:
     *
     * Context maintains a stack (_entries) of _ContextRecs (one per assignment) as well as
     * as _frameStack recording the stack positions for each push()/pop().
     * Performance through aggressive global caching of all statically computatble data:
     * - The static (reusable/immutable) part of a ContextRec is factored into _StaticRec
     * - StaticRecs represent individual assignments (context key = value) and cache the
     *      resulting Meta.MatchResult (and associated PropertyMap)
     * - The sub-stack (of forward chained) records associated with each external set()
     *      (or chained *dynamic* value) is recorded in an Activation.
     * - Process-global tree of Activations
     *      - each activation keeps list of its ContextKey/Value-keyed decended Activations
     *
     * Property Contexts.
     *      The notion of a 'PropertyContext' makes the going tricky...
     *       A 'PropertyContextKey' is a key for an 'entity' that properties describe.
     *       (e.g. class, field, action, and layout are property context keys, but editing,
     *       operation, ... are not)
     *       E.g. On an assignment stack with module=Admin class=Foo, field=name, editable=false,
     *       we want the property 'label' to be the label for the *field*, not the class or module
     *       -- i.e. the *top-most* assignment of a PropertyContextKey determines which property
     *       context rules are active.
     *
     *  These rules are activated via a synthetic context key of like 'field_p' or 'class_p'.
     *  Logically, after each assigment we need to figure of which context key should be in
     *  affect an set it on the context, but then automatically pop it off upon the next
     *  assignment (and then recompute again).
     *
     *  Of course, actually pushing and popping context key assignment on every set()
     *  would be expensive so instead we cache the 'propertyActivation' associated with
     *  each activation, and use its values and properties rather than those on the
     *  activation.
     * @param {?} meta
     * @return {?}
     */
    Context.getActivationTree = /**
     * Implementation notes:
     *
     * Context maintains a stack (_entries) of _ContextRecs (one per assignment) as well as
     * as _frameStack recording the stack positions for each push()/pop().
     * Performance through aggressive global caching of all statically computatble data:
     * - The static (reusable/immutable) part of a ContextRec is factored into _StaticRec
     * - StaticRecs represent individual assignments (context key = value) and cache the
     *      resulting Meta.MatchResult (and associated PropertyMap)
     * - The sub-stack (of forward chained) records associated with each external set()
     *      (or chained *dynamic* value) is recorded in an Activation.
     * - Process-global tree of Activations
     *      - each activation keeps list of its ContextKey/Value-keyed decended Activations
     *
     * Property Contexts.
     *      The notion of a 'PropertyContext' makes the going tricky...
     *       A 'PropertyContextKey' is a key for an 'entity' that properties describe.
     *       (e.g. class, field, action, and layout are property context keys, but editing,
     *       operation, ... are not)
     *       E.g. On an assignment stack with module=Admin class=Foo, field=name, editable=false,
     *       we want the property 'label' to be the label for the *field*, not the class or module
     *       -- i.e. the *top-most* assignment of a PropertyContextKey determines which property
     *       context rules are active.
     *
     *  These rules are activated via a synthetic context key of like 'field_p' or 'class_p'.
     *  Logically, after each assigment we need to figure of which context key should be in
     *  affect an set it on the context, but then automatically pop it off upon the next
     *  assignment (and then recompute again).
     *
     *  Of course, actually pushing and popping context key assignment on every set()
     *  would be expensive so instead we cache the 'propertyActivation' associated with
     *  each activation, and use its values and properties rather than those on the
     *  activation.
     * @param {?} meta
     * @return {?}
     */
    function (meta) {
        /** @type {?} */
        var name = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["objectToName"])(Activation);
        /** @type {?} */
        var root = meta.identityCache.getValue(name);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(root)) {
            root = new Activation();
            meta.identityCache.setValue(name, root);
        }
        return root;
    };
    /**
     * @return {?}
     */
    Context.prototype.push = /**
     * @return {?}
     */
    function () {
        this._frameStarts.push(this._entries.length);
    };
    Object.defineProperty(Context.prototype, "meta", {
        get: /**
         * @return {?}
         */
        function () {
            return this._meta;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    Context.prototype.pop = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var size = this._frameStarts.length;
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(size > 0, 'Popping empty stack');
        /** @type {?} */
        var pos = this._frameStarts.pop();
        /** @type {?} */
        var entriesSize;
        while ((entriesSize = this._entries.length) > pos) {
            /** @type {?} */
            var recIdx = entriesSize - 1;
            /** @type {?} */
            var rec = this._entries.splice(recIdx, 1)[0];
            if (rec.srec.lastAssignmentIdx === -1) {
                this._values.delete(rec.srec.key);
            }
            else {
                this._undoOverride(rec, recIdx);
            }
            this._currentActivation = (recIdx > 0)
                ? this._entries[recIdx - 1].srec.activation
                : this._rootNode;
            this.assertContextConsistent();
            // check rec back into pool for reuse
            rec.reset();
            this._recPool.push(rec);
        }
        this._currentProperties = null;
    };
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    Context.prototype.set = /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (key, value) {
        var _this = this;
        this._set(key, value, false, false);
        // implement default toString for our object so we can retrieve objectTitle
        if (key === ObjectMeta.KeyObject) {
            /** @type {?} */
            var toCheck = this._values.get(ObjectMeta.KeyObject);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(toCheck['$toString'])) {
                toCheck['$toString'] = function () {
                    /** @type {?} */
                    var clazz = _this.values.get(ObjectMeta.KeyClass);
                    return UIMeta.beautifyClassName(clazz);
                };
            }
        }
    };
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    Context.prototype.merge = /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (key, value) {
        this._set(key, value, true, false);
    };
    /**
     * @param {?} key
     * @return {?}
     */
    Context.prototype.setScopeKey = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(this._meta.keyData(key).isPropertyScope, key + ' is not a valid context key');
        /** @type {?} */
        var current = this._currentPropertyScopeKey();
        // Assert.that(current != null, 'Can't set %s as context key when no context key on stack',
        // key); TODO: if current key isChaining then we need to set again to get a non-chaining
        // assignment
        if (!(key === current)) {
            /** @type {?} */
            var val = this.values.get(key);
            // Assert.that(val != null, 'Can't set %s as context key when it has no value already
            // on the context', key);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(val)) {
                val = Meta.KeyAny;
            }
            this.set(key, val);
        }
    };
    Object.defineProperty(Context.prototype, "values", {
        get: /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var propVals;
            return (_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].isEmpty(this._entries) ||
                Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(propVals = (_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].last(this._entries)).propertyLocalValues(this))) ? this._values : propVals;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Context.prototype, "properties", {
        get: /**
         * @return {?}
         */
        function () {
            return this._accessor;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} key
     * @return {?}
     */
    Context.prototype.propertyForKey = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        /** @type {?} */
        var val = this.allProperties().get(key);
        return this.resolveValue(val);
    };
    /**
     * @param {?} key
     * @return {?}
     */
    Context.prototype.listPropertyForKey = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        /** @type {?} */
        var val = this.propertyForKey(key);
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(val)) ? [] : (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(val)) ? val : [val];
    };
    /**
     * @param {?} key
     * @param {?} defaultVal
     * @return {?}
     */
    Context.prototype.booleanPropertyForKey = /**
     * @param {?} key
     * @param {?} defaultVal
     * @return {?}
     */
    function (key, defaultVal) {
        /** @type {?} */
        var val = this.propertyForKey(key);
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(val)) ? defaultVal : _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(val);
    };
    /**
     * @return {?}
     */
    Context.prototype.allProperties = /**
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._currentProperties)) {
            /** @type {?} */
            var m = this.lastMatch();
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(m)) {
                this._currentProperties = m.properties();
            }
        }
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._currentProperties) ? this._currentProperties : Context.EmptyMap;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    Context.prototype.resolveValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        /** @type {?} */
        var lastValue;
        while (value !== lastValue && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value) && value instanceof DynamicPropertyValue) {
            lastValue = value;
            /** @type {?} */
            var propValue = value;
            if (propValue instanceof Expr) {
                propValue.addTypeToContext('UIMeta', UIMeta);
            }
            value = propValue.evaluate(this);
        }
        return value;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    Context.prototype.staticallyResolveValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        /** @type {?} */
        var lastValue = null;
        while (value !== lastValue && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value) && value instanceof StaticallyResolvable) {
            lastValue = value;
            value = value.evaluate(this);
        }
        return value;
    };
    /**
     * @param {?} contextVals
     * @param {?} propertyKey
     * @param {?} staticResolve
     * @return {?}
     */
    Context.prototype.pushAndResolveStatic = /**
     * @param {?} contextVals
     * @param {?} propertyKey
     * @param {?} staticResolve
     * @return {?}
     */
    function (contextVals, propertyKey, staticResolve) {
        var _this = this;
        /** @type {?} */
        var scopeKey;
        this.push();
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].iterable(contextVals).forEach(function (value, key) {
            if ('*' === value) {
                scopeKey = key;
            }
            else {
                _this.set(key, value);
            }
        });
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(scopeKey)) {
            this.setScopeKey(scopeKey);
        }
        /** @type {?} */
        var val = this.allProperties().get(propertyKey);
        val = staticResolve ? this.staticallyResolveValue(val) : this.resolveValue(val);
        this.pop();
        return val;
    };
    /**
     * @param {?} contextVals
     * @param {?} propertyKey
     * @return {?}
     */
    Context.prototype.pushAndResolve = /**
     * @param {?} contextVals
     * @param {?} propertyKey
     * @return {?}
     */
    function (contextVals, propertyKey) {
        return this.pushAndResolveStatic(contextVals, propertyKey, false);
    };
    // a (usable) snapshot of the current state of the context
    /**
     * @return {?}
     */
    Context.prototype.snapshot = /**
     * @return {?}
     */
    function () {
        return new Snapshot(this);
    };
    /**
     * Represent current active assignment list meaning it will not include any entries which
     * were overwritten by some late entry having the same key.
     *
     * It does not include entries that were pushed to stack from any Property -> Selector
     * propagation. This creates shell copy and ignoring all last Matches which could be from
     * some previous assignments that are now replaced with some new ones
     *
     */
    /**
     * Represent current active assignment list meaning it will not include any entries which
     * were overwritten by some late entry having the same key.
     *
     * It does not include entries that were pushed to stack from any Property -> Selector
     * propagation. This creates shell copy and ignoring all last Matches which could be from
     * some previous assignments that are now replaced with some new ones
     *
     * @return {?}
     */
    Context.prototype.activeAssignments = /**
     * Represent current active assignment list meaning it will not include any entries which
     * were overwritten by some late entry having the same key.
     *
     * It does not include entries that were pushed to stack from any Property -> Selector
     * propagation. This creates shell copy and ignoring all last Matches which could be from
     * some previous assignments that are now replaced with some new ones
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var list = new Array();
        for (var i = 0, c = this._entries.length; i < c; i++) {
            /** @type {?} */
            var rec = this._entries[i];
            if (rec.maskedByIdx === 0 && !rec.srec.fromChaining) {
                /** @type {?} */
                var a = new AssignmentSnapshot();
                a.key = rec.srec.key;
                a.value = rec.val;
                a.salience = rec.srec.salience;
                list.push(a);
            }
        }
        return list;
    };
    /**
     *
     * Similar as <code>activeAssignments</code> but do include also those that were replaced later
     * on with assignments having the same key.
     *
     * This is needed for cases where we need to have deep copy of current state along with
     * all properties.
     *
     */
    /**
     *
     * Similar as <code>activeAssignments</code> but do include also those that were replaced later
     * on with assignments having the same key.
     *
     * This is needed for cases where we need to have deep copy of current state along with
     * all properties.
     *
     * @return {?}
     */
    Context.prototype.allAssignments = /**
     *
     * Similar as <code>activeAssignments</code> but do include also those that were replaced later
     * on with assignments having the same key.
     *
     * This is needed for cases where we need to have deep copy of current state along with
     * all properties.
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var list = new Array();
        for (var i = 0, c = this._entries.length; i < c; i++) {
            /** @type {?} */
            var rec = this._entries[i];
            if (!rec.srec.fromChaining) {
                /** @type {?} */
                var a = new AssignmentSnapshot();
                a.key = rec.srec.key;
                a.value = rec.val;
                a.salience = rec.srec.salience;
                list.push(a);
            }
        }
        return list;
    };
    /**
     * @param {?} key
     * @param {?} value
     * @param {?} merge
     * @param {?} chaining
     * @return {?}
     */
    Context.prototype._set = /**
     * @param {?} key
     * @param {?} value
     * @param {?} merge
     * @param {?} chaining
     * @return {?}
     */
    function (key, value, merge, chaining) {
        /** @type {?} */
        var sval = this._meta.transformValue(key, value);
        /** @type {?} */
        var didSet = false;
        /** @type {?} */
        var registry = (/** @type {?} */ (this.meta)).componentRegistry;
        if (key === ObjectMeta.KeyObject && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(registry)) {
            registry.registerType(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["className"])(value), value.constructor);
        }
        /** @type {?} */
        var activation = this._currentActivation.getChildActivation(key, sval, chaining);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(activation)) {
            didSet = this._createNewFrameForSet(key, sval, value, merge, chaining);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(activation)) {
            didSet = this._applyActivation(activation, value);
        }
        if (didSet) {
            this.awakeCurrentActivation();
        }
    };
    /**
     * @return {?}
     */
    Context.prototype.newContextRec = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var count = this._recPool.length;
        return (count > 0) ? this._recPool.splice(count - 1, 1)[0] : new Assignment();
    };
    /**
     * Cached case: apply a previously computed Activation
     */
    /**
     * Cached case: apply a previously computed Activation
     * @param {?} activation
     * @param {?} firstVal
     * @return {?}
     */
    Context.prototype._applyActivation = /**
     * Cached case: apply a previously computed Activation
     * @param {?} activation
     * @param {?} firstVal
     * @return {?}
     */
    function (activation, firstVal) {
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(activation._parent === this._currentActivation, 'Attempt to apply activation on mismatched parent');
        if (this._entries.length !== activation._origEntryCount) {
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(false, 'Mismatched context stack size (%s) from when activation was popped ' +
                this._entries.length + ' ' + activation._origEntryCount);
        }
        /** @type {?} */
        var count = activation._recs.length;
        if (count === 0) {
            return false;
        }
        for (var i = 0; i < count; i++) {
            /** @type {?} */
            var srec = activation._recs[i];
            /** @type {?} */
            var rec = this.newContextRec();
            rec.srec = srec;
            // Apply masking for any property that we mask out
            if (srec.lastAssignmentIdx !== -1) {
                this._prepareForOverride(this._entries.length, srec.lastAssignmentIdx);
            }
            rec.val = (i === 0 && !this.meta.isNullMarker(firstVal)) ? firstVal : srec.val;
            this._values.set(srec.key, rec.val);
            this._entries.push(rec);
        }
        this._currentActivation = activation;
        this._currentProperties = null;
        return true;
    };
    /**
     * @return {?}
     */
    Context.prototype.awakeCurrentActivation = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var currentActivation = this._currentActivation;
        /** @type {?} */
        var deferredAssignments = currentActivation.deferredAssignments;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(deferredAssignments)) {
            this.applyDeferredAssignments(deferredAssignments);
        }
    };
    /**
     * @param {?} deferredAssignments
     * @return {?}
     */
    Context.prototype.applyDeferredAssignments = /**
     * @param {?} deferredAssignments
     * @return {?}
     */
    function (deferredAssignments) {
        try {
            for (var deferredAssignments_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(deferredAssignments), deferredAssignments_1_1 = deferredAssignments_1.next(); !deferredAssignments_1_1.done; deferredAssignments_1_1 = deferredAssignments_1.next()) {
                var da = deferredAssignments_1_1.value;
                /** @type {?} */
                var currentPropValue = this.staticallyResolveValue(this.allProperties().get(da.key));
                if (da.value === currentPropValue) {
                    /** @type {?} */
                    var resolvedValue = this.resolveValue(da.value);
                    this._set(da.key, resolvedValue, false, true);
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (deferredAssignments_1_1 && !deferredAssignments_1_1.done && (_a = deferredAssignments_1.return)) _a.call(deferredAssignments_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        var e_1, _a;
    };
    /**
     * @return {?}
     */
    Context.prototype._inDeclare = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var match = this.lastMatchWithoutContextProps();
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(match) && (match._keysMatchedMask & this._meta.declareKeyMask) !== 0;
    };
    /**
     Non-cached access: create a new activation
     */
    /**
     * Non-cached access: create a new activation
     * @param {?} key
     * @param {?} svalue
     * @param {?} value
     * @param {?} merge
     * @param {?} chaining
     * @return {?}
     */
    Context.prototype._createNewFrameForSet = /**
     * Non-cached access: create a new activation
     * @param {?} key
     * @param {?} svalue
     * @param {?} value
     * @param {?} merge
     * @param {?} chaining
     * @return {?}
     */
    function (key, svalue, value, merge, chaining) {
        /** @type {?} */
        var lastActivation = this._currentActivation;
        /** @type {?} */
        var newActivation = new Activation(lastActivation);
        newActivation._origEntryCount = this._entries.length;
        this._currentActivation = newActivation;
        /** @type {?} */
        var didSet = this._set2(key, svalue, value, merge, chaining);
        // mirror properties
        if (didSet) {
            while (this._checkApplyProperties()) {
                /* repeat */
            }
        }
        // Remember for the future
        if (Context._CacheActivations) {
            lastActivation.cacheChildActivation(key, svalue, newActivation, chaining);
        }
        this._currentActivation = (didSet) ? newActivation : lastActivation;
        return this._currentActivation !== lastActivation;
    };
    /**
     * Called lazily to compute the property activation for this activation
     * Compute the static part of the property activation
     * we accumulate the property settings on a side activation off the main stack
     * and apply it virtually if our parent is not covered
     *  (that way we don't have to apply and unapply all the time)
     */
    /**
     * Called lazily to compute the property activation for this activation
     * Compute the static part of the property activation
     * we accumulate the property settings on a side activation off the main stack
     * and apply it virtually if our parent is not covered
     *  (that way we don't have to apply and unapply all the time)
     * @param {?} parentActivation
     * @return {?}
     */
    Context.prototype._createNewPropertyContextActivation = /**
     * Called lazily to compute the property activation for this activation
     * Compute the static part of the property activation
     * we accumulate the property settings on a side activation off the main stack
     * and apply it virtually if our parent is not covered
     *  (that way we don't have to apply and unapply all the time)
     * @param {?} parentActivation
     * @return {?}
     */
    function (parentActivation) {
        this.push();
        /** @type {?} */
        var propActivation = new Activation(parentActivation);
        propActivation._origEntryCount = this._entries.length;
        this._currentActivation = propActivation;
        /** @type {?} */
        var origValues = this._values;
        /** @type {?} */
        var nestedMap = new NestedMap(origValues);
        this._values = nestedMap;
        this.applyPropertyContextAndChain();
        if (propActivation._recs.length > 0 || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(propActivation.deferredAssignments)) {
            propActivation._nestedValues = nestedMap;
            this._values = Context.EmptyRemoveMap; // hack -- empty map so that undo is noop --
            // ((NestedMap)_values).dup();
        }
        else {
            propActivation = null;
        }
        this.pop();
        this._values = origValues;
        this._currentActivation = parentActivation;
        return propActivation;
    };
    /**
     * @param {?} propActivation
     * @param {?} rec
     * @return {?}
     */
    Context.prototype._applyPropertyActivation = /**
     * @param {?} propActivation
     * @param {?} rec
     * @return {?}
     */
    function (propActivation, rec) {
        /** @type {?} */
        var propValues = this._values;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(propActivation._nestedValues)) {
            propValues = propActivation._nestedValues.reparentedMap(propValues);
        }
        // set up propLocal results
        // Now, see if we need to compute a dynamic property activation as well
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(propActivation.deferredAssignments)) {
            this.push();
            /** @type {?} */
            var origValues = this._values;
            this._values = new NestedMap(propValues);
            this._applyActivation(propActivation, Meta.NullMarker);
            this.applyDeferredAssignments(propActivation.deferredAssignments);
            rec._propertyLocalValues = this._values;
            rec._propertyLocalSrec = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].last(this._entries).srec;
            this._values = Context.EmptyRemoveMap; // hack -- empty map so that undo is noop --
            // ((NestedMap)_values).dup();
            this.pop();
            this._values = origValues;
        }
        else {
            // can use static versions
            rec._propertyLocalValues = propValues;
            rec._propertyLocalSrec = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].last(propActivation._recs);
        }
    };
    // todo: any equals old va === new val
    /**
     * @param {?} oldVal
     * @param {?} newVal
     * @return {?}
     */
    Context.prototype._isNewValue = /**
     * @param {?} oldVal
     * @param {?} newVal
     * @return {?}
     */
    function (oldVal, newVal) {
        return (oldVal !== newVal && (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(oldVal) ||
            (!oldVal === newVal && (!Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(oldVal)) || !(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].contains(oldVal, newVal)))));
    };
    /**
     * @return {?}
     */
    Context.prototype.isDeclare = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.propertyForKey(Meta.KeyDeclare));
    };
    /**
     * @return {?}
     */
    Context.prototype.assertContextConsistent = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (!Context._ExpensiveContextConsistencyChecksEnabled) {
            return;
        }
        // Verify that each value in context has matching (enabled) context record
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].iterable(this._values).forEach(function (value, key) {
            /** @type {?} */
            var lastAssignmentIdx = _this.findLastAssignmentOfKey(key);
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(lastAssignmentIdx >= 0, 'Value in context but no assignment record found ' +
                key + ' = ' + value);
            /** @type {?} */
            var contextVal = _this._entries[lastAssignmentIdx].val;
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(value === contextVal || (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value) && value === contextVal), 'Value in context  doesnt match value on stack ' + value + ' / ' + contextVal);
        });
        // check entries for proper relationship with any previous records that they override
        for (var i = this._entries.length - 1; i >= 0; i--) {
            /** @type {?} */
            var r = this._entries[i];
            /** @type {?} */
            var foundFirst = false;
            for (var j = i - 1; j >= 0; j--) {
                /** @type {?} */
                var pred = this._entries[j];
                if (pred.srec.key === r.srec.key) {
                    // Predecessors must be masked
                    Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])((!foundFirst && pred.maskedByIdx === i) ||
                        ((foundFirst || pred.srec.fromChaining) && pred.maskedByIdx > 0), 'Predecessor A does not have matching maskedByIdx B  for override C:' +
                        pred.srec.key + ' = ' + pred.val + ', ' + pred.maskedByIdx + ', ' +
                        i + ' = ' + r.val);
                    Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(((!foundFirst && r.srec.lastAssignmentIdx === j) || foundFirst ||
                        pred.srec.fromChaining), 'Override A1=A2 does not have proper lastAssignmentIdx B1!=B2 ' +
                        'for predecessor C' +
                        pred.srec.key + ' = ' + pred.val + ', ' + r.srec.lastAssignmentIdx + ' = ' +
                        j + ', ' + pred.val);
                    foundFirst = true;
                }
            }
        }
    };
    /**
     * @param {?} key
     * @param {?} svalue
     * @param {?} value
     * @param {?} merge
     * @param {?} isChaining
     * @return {?}
     */
    Context.prototype._set2 = /**
     * @param {?} key
     * @param {?} svalue
     * @param {?} value
     * @param {?} merge
     * @param {?} isChaining
     * @return {?}
     */
    function (key, svalue, value, merge, isChaining) {
        Context._Debug_SetsCount++;
        /** @type {?} */
        var hasOldValue = this._values.has(key) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._values.get(key));
        /** @type {?} */
        var oldVal = hasOldValue ? this._values.get(key) : null;
        /** @type {?} */
        var isNewValue = !hasOldValue || this._isNewValue(oldVal, value);
        /** @type {?} */
        var matchingPropKeyAssignment = !isNewValue && !isChaining &&
            ((this._meta.keyData(key).isPropertyScope) &&
                key !== this._currentPropertyScopeKey());
        if (isNewValue || matchingPropKeyAssignment) {
            /** @type {?} */
            var lastMatch = void 0;
            /** @type {?} */
            var newMatch = void 0;
            /** @type {?} */
            var salience = this._frameStarts.length;
            /** @type {?} */
            var lastAssignmentIdx = -1;
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(oldVal)) {
                lastMatch = this.lastMatchWithoutContextProps();
            }
            else {
                /** @type {?} */
                var recIdx = this._entries.length;
                lastAssignmentIdx = this.findLastAssignmentOfKey(key);
                Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(lastAssignmentIdx >= 0, 'Value in context but no assignment record found ' + key + ' = ' + oldVal);
                if (matchingPropKeyAssignment) {
                    // cheap version of masking for a matching set:
                    this._entries[lastAssignmentIdx].maskedByIdx = recIdx;
                    lastMatch = this.lastMatchWithoutContextProps();
                }
                else {
                    /** @type {?} */
                    var oldRec = this._entries[lastAssignmentIdx];
                    if (oldRec.srec.salience === salience) {
                        /** @type {?} */
                        var prev = this.findLastAssignmentOfKeyWithValue(key, value);
                        if (prev !== -1 && this._entries[prev].srec.salience === salience) {
                            return false;
                        }
                    }
                    if (isChaining &&
                        (oldRec.srec.salience > salience || !oldRec.srec.fromChaining)) {
                        // print('Set of key skipped (salience %s <= %s)' + key + ', ' + oldVal +
                        // ', ' + value + ', ' + salience + ', ' + oldRec.srec.salience);
                        return false;
                    }
                    /** @type {?} */
                    var firstAssignmentIdx = this._prepareForOverride(recIdx, lastAssignmentIdx);
                    newMatch = this._rematchForOverride(key, svalue, recIdx, firstAssignmentIdx);
                    if (merge) {
                        value = Meta.PropertyMerger_List.merge(oldVal, value, this.isDeclare());
                    }
                }
            }
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(this._entries.length <= Context.MaxContextStackSize, 'MetaUI context stack exceeded max size -- likely infinite chaining: ' +
                this._entries.length);
            /** @type {?} */
            var srec = new StaticRec();
            srec.key = key;
            // todo: conversion
            srec.val = svalue;
            srec.lastAssignmentIdx = lastAssignmentIdx;
            srec.salience = salience;
            srec.fromChaining = isChaining;
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(newMatch)) {
                newMatch = (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value)) ? this._meta.match(key, svalue, lastMatch) : lastMatch;
            }
            srec.match = newMatch;
            srec.activation = this._currentActivation;
            this._currentActivation._recs.push(srec);
            /** @type {?} */
            var rec = this.newContextRec();
            rec.srec = srec;
            rec.val = value;
            this._entries.push(rec);
            this._currentProperties = null;
            this._values.set(key, value);
            // console.log( this.debugName + ' => ' +
            //     'Push(' + key + ', ' + svalue + '): ' + 'Matches: ' + newMatch.matches().length
            //     + ', PropMap: ' + srec.properties().size);
            if (Context._DebugRuleMatches) {
                this._checkMatch(srec.match, key, value);
            }
            this.assertContextConsistent();
            return true;
        }
        else {
            // print('Context skipped assignment of matching property value %s = %s (isChaining ==
            // %s, isPropKey == %s)', key, value, isChaining,
            // (this._meta.keyData(key).isPropertyScope));
            if (!isChaining && this.meta.keyData(key).isPropertyScope) ;
        }
        return false;
    };
    Object.defineProperty(Context.prototype, "frameStarts", {
        get: /**
         * @return {?}
         */
        function () {
            return this._frameStarts;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} rec
     * @return {?}
     */
    Context.prototype._undoRecValue = /**
     * @param {?} rec
     * @return {?}
     */
    function (rec) {
        if (rec.srec.lastAssignmentIdx === -1 ||
            this._entries[rec.srec.lastAssignmentIdx].maskedByIdx > 0) {
            this._values.delete(rec.srec.key);
        }
        else {
            this._values.set(rec.srec.key, this._entries[rec.srec.lastAssignmentIdx].val);
        }
    };
    // Undoes and masks assignments invalidated by override of given record
    // Returns stack index for first assignment (i.e. where match recomputation must start)
    /**
     * @param {?} overrideIndex
     * @param {?} lastAssignmentIdx
     * @return {?}
     */
    Context.prototype._prepareForOverride = /**
     * @param {?} overrideIndex
     * @param {?} lastAssignmentIdx
     * @return {?}
     */
    function (overrideIndex, lastAssignmentIdx) {
        /** @type {?} */
        var lastLastIdx = 0;
        while (((lastLastIdx = this._entries[lastAssignmentIdx].srec.lastAssignmentIdx) !== -1) &&
            (this._entries[lastAssignmentIdx].maskedByIdx <= 0)) {
            // mark it! (we'll pick it up below...)
            this._entries[lastAssignmentIdx].maskedByIdx = -1;
            lastAssignmentIdx = lastLastIdx;
        }
        // undo all conflicting or dervied assignments (and mark them)
        for (var i = this._entries.length - 1; i >= lastAssignmentIdx; i--) {
            /** @type {?} */
            var r = this._entries[i];
            // we need to undo (and mask) any record that conflict or are derived
            // NOTE: We are skipping the remove all chained records, because this can result in
            // undoing derived state totally unrelated to this key.  Ideally we'd figure out what
            // depended on what...
            if (r.maskedByIdx <= 0 && (i === lastAssignmentIdx || r.maskedByIdx === -1)) {
                // || r.srec.fromChaining
                // mark and undo it
                r.maskedByIdx = overrideIndex;
                this._undoRecValue(r);
            }
        }
        return lastAssignmentIdx;
    };
    /**
     * @param {?} key
     * @param {?} svalue
     * @param {?} overrideIndex
     * @param {?} firstAssignmentIdx
     * @return {?}
     */
    Context.prototype._rematchForOverride = /**
     * @param {?} key
     * @param {?} svalue
     * @param {?} overrideIndex
     * @param {?} firstAssignmentIdx
     * @return {?}
     */
    function (key, svalue, overrideIndex, firstAssignmentIdx) {
        /** @type {?} */
        var lastMatch;
        /** @type {?} */
        var i = 0;
        for (; i < firstAssignmentIdx; i++) {
            /** @type {?} */
            var rec = this._entries[i];
            if (rec.maskedByIdx !== 0) {
                break;
            }
            lastMatch = rec.srec.match;
        }
        /** @type {?} */
        var overridesMatch;
        // Rematch skipping over the last assignment of this property
        // and all assignments from chainging
        for (var end = this._entries.length; i < end; i++) {
            /** @type {?} */
            var r = this._entries[i];
            // rematch on any unmasked records
            if (r.maskedByIdx === 0) {
                lastMatch = this._meta.match(r.srec.key, r.srec.val, lastMatch);
            }
            else {
                // accumulate masked ('_o') match
                overridesMatch = this._meta.unionOverrideMatch(r.srec.key, r.srec.val, overridesMatch);
            }
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(svalue) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(lastMatch)) {
            lastMatch = this._meta.match(key, svalue, lastMatch);
        }
        lastMatch.setOverridesMatch(overridesMatch);
        return lastMatch;
    };
    /**
     * @param {?} rec
     * @param {?} recIdx
     * @return {?}
     */
    Context.prototype._undoOverride = /**
     * @param {?} rec
     * @param {?} recIdx
     * @return {?}
     */
    function (rec, recIdx) {
        /** @type {?} */
        var lastAssignmentIdx = rec.srec.lastAssignmentIdx;
        /** @type {?} */
        var lastLastIdx;
        // bastick up further if necessary
        while (((lastLastIdx = this._entries[lastAssignmentIdx].srec.lastAssignmentIdx) !== -1) &&
            (this._entries[lastLastIdx].maskedByIdx === recIdx)) {
            lastAssignmentIdx = lastLastIdx;
        }
        for (var i = lastAssignmentIdx, c = this._entries.length; i < c; i++) {
            /** @type {?} */
            var r = this._entries[i];
            if (r.maskedByIdx === recIdx) {
                this._values.set(r.srec.key, r.val);
                r.maskedByIdx = 0;
            }
        }
    };
    /**
     * @param {?} match
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    Context.prototype._checkMatch = /**
     * @param {?} match
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (match, key, value) {
        match._checkMatch(this._values, this._meta);
    };
    /**
     * @param {?} key
     * @return {?}
     */
    Context.prototype.findLastAssignmentOfKey = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        for (var i = this._entries.length - 1; i >= 0; i--) {
            /** @type {?} */
            var rec = this._entries[i];
            if (rec.srec.key === key && rec.maskedByIdx === 0) {
                return i;
            }
        }
        return -1;
    };
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    Context.prototype.findLastAssignmentOfKeyWithValue = /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (key, value) {
        for (var i = this._entries.length - 1; i >= 0; i--) {
            /** @type {?} */
            var rec = this._entries[i];
            if (rec.srec.key === key && !this._isNewValue(rec.val, value)) {
                return i;
            }
        }
        return -1;
    };
    /**
     * Check if we have value mirroring (property to context) to do Dynamic property mirroring will
     * be added to the currentActivation deferredAssignment list
     *
     */
    /**
     * Check if we have value mirroring (property to context) to do Dynamic property mirroring will
     * be added to the currentActivation deferredAssignment list
     *
     * @return {?}
     */
    Context.prototype._checkApplyProperties = /**
     * Check if we have value mirroring (property to context) to do Dynamic property mirroring will
     * be added to the currentActivation deferredAssignment list
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var didSet = false;
        /** @type {?} */
        var numEntries = 0;
        /** @type {?} */
        var lastSize = 0;
        /** @type {?} */
        var declareKey = this._inDeclare() ? this._values.get(Meta.KeyDeclare) : null;
        while ((numEntries = this._entries.length) > lastSize) {
            lastSize = numEntries;
            /** @type {?} */
            var rec = this._entries[numEntries - 1];
            /** @type {?} */
            var properties = rec.srec.properties();
            /** @type {?} */
            var contextKeys = properties.contextKeysUpdated;
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(contextKeys)) {
                for (var i = 0, c = contextKeys.length; i < c; i++) {
                    /** @type {?} */
                    var propMgr = contextKeys[i];
                    /** @type {?} */
                    var key = propMgr._name;
                    if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(declareKey) && key === declareKey) {
                        continue;
                    }
                    /** @type {?} */
                    var newVal = this.staticallyResolveValue(properties.get(key));
                    /** @type {?} */
                    var prevProps = void 0;
                    /** @type {?} */
                    var suppress = (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(prevProps) && prevProps.has(key)
                        && !this._isNewValue(this.staticallyResolveValue(prevProps.get(key)), newVal)) ||
                        (this._currentActivation._parent.hasDeferredAssignmentForKey(key));
                    if (!suppress) {
                        /** @type {?} */
                        var mirrorKey = propMgr._keyDataToSet._key;
                        if (newVal instanceof DynamicPropertyValue) {
                            // print('(deferred) chaining key: ' , propMgr._keyDataToSet._key);
                            this._currentActivation.addDeferredAssignment(mirrorKey, newVal);
                        }
                        else {
                            // compare this value to the value from the end of the last frame
                            // print('chaining key: ' , propMgr._keyDataToSet._key);
                            if (this._set2(mirrorKey, newVal, newVal, false, true)) {
                                didSet = true;
                            }
                        }
                    }
                }
            }
        }
        return didSet;
    };
    /**
     * @return {?}
     */
    Context.prototype.applyPropertyContextAndChain = /**
     * @return {?}
     */
    function () {
        if (this._checkPropertyContext()) {
            while (this._checkApplyProperties()) {
                /* repeat */
            }
        }
    };
    /**
     * @return {?}
     */
    Context.prototype._currentPropertyScopeKey = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var foundKey;
        /** @type {?} */
        var foundActivation;
        for (var i = this._entries.length - 1; i >= 0; i--) {
            /** @type {?} */
            var rec = this._entries[i];
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(foundActivation) && rec.srec.activation !== foundActivation) {
                break;
            }
            if (this._meta.keyData(rec.srec.key).isPropertyScope) {
                if (!rec.srec.fromChaining) {
                    return rec.srec.key;
                }
                // for chaining assignments, we keep looking until we exhaust the first
                // non-chaining activation Todo: broken -- disabling set of context key from
                // chaining if (foundKey === null) foundKey = scopeKey;
            }
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(foundKey) && !rec.srec.fromChaining) {
                foundActivation = rec.srec.activation;
            }
        }
        return foundKey;
    };
    // Apply a 'property context' property (e.g. field_p for field) to the context if necessary
    /**
     * @return {?}
     */
    Context.prototype._checkPropertyContext = /**
     * @return {?}
     */
    function () {
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(this._values instanceof NestedMap, 'Property assignment on base map?');
        /** @type {?} */
        var scopeKey = this._currentPropertyScopeKey();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(scopeKey)) {
            return this._set2(Meta.ScopeKey, scopeKey, scopeKey, false, false);
        }
        return false;
    };
    /**
     * @return {?}
     */
    Context.prototype.debug = /**
     * @return {?}
     */
    function () {
        // set debugger breakpoint here
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["print"])('******  Debug Call ******');
        this._logContext();
    };
    /**
     * @return {?}
     */
    Context.prototype.debugString = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var buffer = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringJoiner"](['<b>Context:</b>&nbsp;']);
        buffer.add('(&nbsp;');
        buffer.add(this._entries.length + '');
        buffer.add(' entries');
        buffer.add('&nbsp;)<br/>');
        for (var i = 0, c = this._entries.length; i < c; i++) {
            /** @type {?} */
            var sp = i;
            while (sp-- > 0) {
                buffer.add('&nbsp;');
            }
            /** @type {?} */
            var r = this._entries[i];
            buffer.add('&nbsp;');
            buffer.add(r.srec.key);
            buffer.add('&nbsp;&nbsp;:&nbsp;');
            buffer.add(r.srec.val);
            buffer.add((r.srec.fromChaining ? ' ^' : ''));
            buffer.add((r.maskedByIdx !== 0 ? ' X' : ''));
            buffer.add('<br/>');
        }
        /** @type {?} */
        var propertyActivation = this.currentActivation._propertyActivation;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(propertyActivation)) {
            /** @type {?} */
            var srecs = propertyActivation._recs;
            buffer.add('&nbsp;&nbsp;&nbsp;<b>PropertyActivation...</b><br/>');
            for (var i = 0, c = srecs.length; i < c; i++) {
                /** @type {?} */
                var sp = i + this._entries.length + 1;
                while (sp-- > 0) {
                    buffer.add('&nbsp;&nbsp;');
                }
                /** @type {?} */
                var r = srecs[i];
                buffer.add(r.key);
                buffer.add('&nbsp;&nbsp;:&nbsp;');
                buffer.add(r.val);
                buffer.add((r.fromChaining ? '&nbsp;&nbsp;' : '&nbsp;&nbsp;!'));
                buffer.add('<br/>');
            }
        }
        buffer.add('&nbsp;<br/><b>Props:</b><br/>');
        this.writeProperties(buffer, this.allProperties(), 1, false);
        return buffer.toString();
    };
    /**
     * @return {?}
     */
    Context.prototype._logContext = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var debugString = this.debugString();
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["print"])(debugString);
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["print"])('\n');
    };
    /**
     * @param {?} buf
     * @param {?} properties
     * @param {?} level
     * @param {?} singleLine
     * @return {?}
     */
    Context.prototype.writeProperties = /**
     * @param {?} buf
     * @param {?} properties
     * @param {?} level
     * @param {?} singleLine
     * @return {?}
     */
    function (buf, properties, level, singleLine) {
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].iterable(properties).forEach(function (value, key) {
            if (!singleLine) {
                while (level-- > 0) {
                    buf.add('&nbsp;&nbsp;&nbsp;');
                }
            }
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(value)) {
                buf.add(key);
                buf.add(' :null');
                buf.add(singleLine ? ';&nbsp;&nbsp;' : ';<br/>');
            }
            else {
                buf.add('&nbsp;&nbsp;&nbsp;');
                buf.add(key);
                buf.add(':');
                if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isString"])(value) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isNumber"])(value)) {
                    buf.add('&nbsp;&nbsp;');
                    buf.add(value);
                    buf.add('&nbsp;&nbsp;');
                }
                else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isStringMap"])(value)) {
                    buf.add('{');
                    buf.add(value);
                    buf.add('}');
                }
                else if (value instanceof Expr) {
                    buf.add(value.toString());
                }
                else if (value instanceof Map) {
                    buf.add(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].toString(value));
                }
                else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(value)) {
                    _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].toString(value);
                }
                else if (value instanceof OverrideValue) {
                    buf.add(value.toString());
                }
                else if (value instanceof _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["FieldPath"]) {
                    buf.add('$');
                    buf.add(value.toString());
                }
                if (singleLine) {
                    buf.add(';');
                }
                else {
                    buf.add('<br/>');
                }
            }
        });
    };
    /**
     * @return {?}
     */
    Context.prototype.lastMatchWithoutContextProps = /**
     * @return {?}
     */
    function () {
        return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].isEmpty(this._entries) ? null : this._entries[this._entries.length - 1].srec.match;
    };
    /**
     * @return {?}
     */
    Context.prototype.lastMatch = /**
     * @return {?}
     */
    function () {
        if (_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].isEmpty(this._entries)) {
            return null;
        }
        /** @type {?} */
        var match = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].last(this._entries)
            .propertyLocalMatches(this);
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(match)) ? match : this.lastMatchWithoutContextProps();
    };
    /**
     * @return {?}
     */
    Context.prototype.lastStaticRec = /**
     * @return {?}
     */
    function () {
        if (_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].isEmpty(this._entries)) {
            return null;
        }
        /** @type {?} */
        var rec = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].last(this._entries).propertyLocalStaticRec(this);
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(rec) ? rec : _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].last(this._entries).srec;
    };
    Object.defineProperty(Context.prototype, "recPool", {
        get: /**
         * @return {?}
         */
        function () {
            return this._recPool;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Context.prototype, "currentActivation", {
        get: /**
         * @return {?}
         */
        function () {
            return this._currentActivation;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    Context.prototype.extendedFields = /**
     * @return {?}
     */
    function () {
        return this.values;
    };
    Context._CacheActivations = false;
    Context._ExpensiveContextConsistencyChecksEnabled = false;
    Context._DebugRuleMatches = false;
    Context._Debug_SetsCount = 0;
    Context.MaxContextStackSize = 200;
    Context.EmptyMap = null;
    Context.EmptyRemoveMap = new Map();
    return Context;
}(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Extensible"]));
/**
 * A sharable/re-applicable block of setScopeKeyAssignment _StaticRecs.  An Activation contains
 * the list of assignment records resulting from (chaining from) a single original
 * assignment (as well as _DeferredAssignment records for dynamic values that cannot
 * be statically resolved to records).  Activations form a shared/cached tree, based
 * on context assignment paths previously traversed via assignments to some Context.
 * Subsequent traversals of these paths (likely by different Context instances)
 * are greatly optimized: an existing Activation is retrieved and its records appended
 * to the context's _entries stack; all of the traditional computation of rule match lookups,
 * chained assignments and override indexes is bypassed.
 * Activation gives special treatment to the 'propertyActivation', i.e. the activation
 * resulting from the application of the 'scopeKey' to the current context.  Property lookup
 * following and context assignment require application of the scopeKey, but then the scope key
 * must immediately be popped for the next context assignment.  To avoid this constant push/pop
 * on the bottom of the stack, _Activations cache a side activation (the propertyActivation)
 * for the result of applying the scopeKey to the current activation.  This stack (and its
 * properties) are cached on the side, and can be accessed without actually modifying the main
 * context stack.
 */
var  /**
 * A sharable/re-applicable block of setScopeKeyAssignment _StaticRecs.  An Activation contains
 * the list of assignment records resulting from (chaining from) a single original
 * assignment (as well as _DeferredAssignment records for dynamic values that cannot
 * be statically resolved to records).  Activations form a shared/cached tree, based
 * on context assignment paths previously traversed via assignments to some Context.
 * Subsequent traversals of these paths (likely by different Context instances)
 * are greatly optimized: an existing Activation is retrieved and its records appended
 * to the context's _entries stack; all of the traditional computation of rule match lookups,
 * chained assignments and override indexes is bypassed.
 * Activation gives special treatment to the 'propertyActivation', i.e. the activation
 * resulting from the application of the 'scopeKey' to the current context.  Property lookup
 * following and context assignment require application of the scopeKey, but then the scope key
 * must immediately be popped for the next context assignment.  To avoid this constant push/pop
 * on the bottom of the stack, _Activations cache a side activation (the propertyActivation)
 * for the result of applying the scopeKey to the current activation.  This stack (and its
 * properties) are cached on the side, and can be accessed without actually modifying the main
 * context stack.
 */
Activation = /** @class */ (function () {
    function Activation(_parent) {
        this._parent = _parent;
        this._recs = new Array();
        this._origEntryCount = 0;
    }
    /**
     * @param {?} contextKey
     * @param {?} value
     * @param {?} chaining
     * @return {?}
     */
    Activation.prototype.getChildActivation = /**
     * @param {?} contextKey
     * @param {?} value
     * @param {?} chaining
     * @return {?}
     */
    function (contextKey, value, chaining) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(value)) {
            value = Meta.NullMarker;
        }
        /** @type {?} */
        var byKey = (chaining)
            ? this._valueNodeMapByContextKeyChaining :
            this._valueNodeMapByContextKey;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(byKey)) {
            return null;
        }
        /** @type {?} */
        var byVal = byKey.get(contextKey);
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(byVal)) ? null : byVal.getValue(value);
    };
    /**
     * @param {?} contextKey
     * @param {?} value
     * @param {?} activation
     * @param {?} chaining
     * @return {?}
     */
    Activation.prototype.cacheChildActivation = /**
     * @param {?} contextKey
     * @param {?} value
     * @param {?} activation
     * @param {?} chaining
     * @return {?}
     */
    function (contextKey, value, activation, chaining) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(value)) {
            value = Meta.NullMarker;
        }
        /** @type {?} */
        var byKey;
        if (chaining) {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])((byKey = this._valueNodeMapByContextKeyChaining))) {
                byKey = this._valueNodeMapByContextKeyChaining
                    = new Map();
            }
        }
        else {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])((byKey = this._valueNodeMapByContextKey))) {
                byKey = this._valueNodeMapByContextKey
                    = new Map();
            }
        }
        /** @type {?} */
        var byVal = byKey.get(contextKey);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(byVal)) {
            byVal = new typescript_collections__WEBPACK_IMPORTED_MODULE_2__["Dictionary"]();
            byKey.set(contextKey, byVal);
        }
        byVal.setValue(value, activation);
    };
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    Activation.prototype.addDeferredAssignment = /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (key, value) {
        /** @type {?} */
        var newDa;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.deferredAssignments)) {
            this.deferredAssignments = new Array();
        }
        else {
            try {
                for (var _a = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(this.deferredAssignments), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var da = _b.value;
                    if (da.key === key) {
                        newDa = da;
                        break;
                    }
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
                }
                finally { if (e_2) throw e_2.error; }
            }
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(newDa)) {
            newDa = new DeferredAssignment();
            newDa.key = key;
            this.deferredAssignments.push(newDa);
        }
        newDa.value = value;
        var e_2, _c;
    };
    /**
     * @param {?} key
     * @return {?}
     */
    Activation.prototype.hasDeferredAssignmentForKey = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.deferredAssignments)) {
            try {
                for (var _a = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(this.deferredAssignments), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var da = _b.value;
                    if (da.key === key) {
                        return true;
                    }
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
                }
                finally { if (e_3) throw e_3.error; }
            }
        }
        return false;
        var e_3, _c;
    };
    /**
     * @param {?} context
     * @return {?}
     */
    Activation.prototype.propertyActivation = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(context.currentActivation === this, 'PropertyActivation sought on non top of stack activation');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._propertyActivation)) {
            this._propertyActivation = context._createNewPropertyContextActivation(this);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._propertyActivation)) {
                this._propertyActivation = this;
            } // this as null marker
        }
        return this._propertyActivation !== this ? this._propertyActivation : null;
    };
    /**
     * @return {?}
     */
    Activation.prototype.findExistingPropertyActivation = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var activation = this;
        while (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(activation)) {
            /** @type {?} */
            var propertyActivation = activation._propertyActivation;
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(propertyActivation) && propertyActivation !== activation
                && !(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(propertyActivation._recs) || _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].isEmpty(propertyActivation._recs))) {
                return propertyActivation;
            }
            activation = activation._parent;
        }
        return null;
    };
    // todo: better better to string for hashing
    /**
     * @return {?}
     */
    Activation.prototype.toString = /**
     * @return {?}
     */
    function () {
        return typescript_collections__WEBPACK_IMPORTED_MODULE_2__["util"].makeString(this);
    };
    return Activation;
}());
var DeferredAssignment = /** @class */ (function () {
    function DeferredAssignment() {
    }
    return DeferredAssignment;
}());
var AssignmentSnapshot = /** @class */ (function () {
    function AssignmentSnapshot() {
    }
    return AssignmentSnapshot;
}());
var Assignment = /** @class */ (function () {
    function Assignment() {
        this.maskedByIdx = 0;
        this._didInitPropContext = false;
    }
    /**
     * @param {?} context
     * @return {?}
     */
    Assignment.prototype.propertyLocalMatches = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        if (!this._didInitPropContext) {
            this.initPropContext(context);
        }
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._propertyLocalSrec) ? this._propertyLocalSrec.match : null;
    };
    /**
     * @param {?} context
     * @return {?}
     */
    Assignment.prototype.propertyLocalStaticRec = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        if (!this._didInitPropContext) {
            this.initPropContext(context);
        }
        return this._propertyLocalSrec;
    };
    /**
     * @param {?} context
     * @return {?}
     */
    Assignment.prototype.propertyLocalValues = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        if (!this._didInitPropContext) {
            this.initPropContext(context);
        }
        return this._propertyLocalValues;
    };
    /**
     * @param {?} context
     * @return {?}
     */
    Assignment.prototype.initPropContext = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        this._didInitPropContext = true;
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(!Context._ExpensiveContextConsistencyChecksEnabled || _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].last(context._entries) === this, 'initing prop context on record not on top of stack');
        /** @type {?} */
        var propActivation = (this.srec.activation.propertyActivation(context));
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(propActivation)) {
            context._applyPropertyActivation(propActivation, this);
        }
    };
    /**
     * @return {?}
     */
    Assignment.prototype.reset = /**
     * @return {?}
     */
    function () {
        this.srec = null;
        this.val = null;
        this.maskedByIdx = 0;
        this._didInitPropContext = false;
        this._propertyLocalSrec = null;
        this._propertyLocalValues = null;
    };
    return Assignment;
}());
/**
 * The 'static' (sharable) part of a context value assignment record.
 * Theses are created by the first _Assignment that needs them
 * and then cached for re-application in their _Activation
 *  (which, in turn, is stored in the global activation tree)
 */
var  /**
 * The 'static' (sharable) part of a context value assignment record.
 * Theses are created by the first _Assignment that needs them
 * and then cached for re-application in their _Activation
 *  (which, in turn, is stored in the global activation tree)
 */
StaticRec = /** @class */ (function () {
    function StaticRec() {
        this.salience = 0;
        this.lastAssignmentIdx = 0;
    }
    /**
     * @return {?}
     */
    StaticRec.prototype.properties = /**
     * @return {?}
     */
    function () {
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.match)) ? this.match.properties() : Context.EmptyMap;
    };
    Object.defineProperty(StaticRec.prototype, "key", {
        get: /**
         * @return {?}
         */
        function () {
            return this._key;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._key = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StaticRec.prototype, "val", {
        get: /**
         * @return {?}
         */
        function () {
            return this._val;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._val = value;
        },
        enumerable: true,
        configurable: true
    });
    return StaticRec;
}());
var PropertyAccessor = /** @class */ (function () {
    function PropertyAccessor(context) {
        this.context = context;
    }
    /**
     * @param {?} key
     * @return {?}
     */
    PropertyAccessor.prototype.get = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return this.context.propertyForKey(key);
    };
    /**
     * @return {?}
     */
    PropertyAccessor.prototype.toString = /**
     * @return {?}
     */
    function () {
        return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].toString(this.context.allProperties());
    };
    return PropertyAccessor;
}());
/**
 * Snapshot is the way how to capture a current state of the context and then replay it back so.
 * for cases when we need to run some rule execution outside of the push/pop cycle
 */
var  /**
 * Snapshot is the way how to capture a current state of the context and then replay it back so.
 * for cases when we need to run some rule execution outside of the push/pop cycle
 */
Snapshot = /** @class */ (function () {
    function Snapshot(_context) {
        this._context = _context;
        this._meta = _context.meta;
        this._origClass = _context.constructor.name;
        this._assignments = _context.activeAssignments();
        this._allAssignments = _context.allAssignments();
        this._isNested = _context.isNested;
    }
    /**
     * @param {?=} shellCopy
     * @return {?}
     */
    Snapshot.prototype.hydrate = /**
     * @param {?=} shellCopy
     * @return {?}
     */
    function (shellCopy) {
        if (shellCopy === void 0) { shellCopy = true; }
        /** @type {?} */
        var assignments = (shellCopy) ? this._assignments : this._allAssignments;
        /** @type {?} */
        var newContext = this._meta.newContext();
        newContext.push();
        /** @type {?} */
        var lastCnxGeneration = 1;
        try {
            for (var assignments_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(assignments), assignments_1_1 = assignments_1.next(); !assignments_1_1.done; assignments_1_1 = assignments_1.next()) {
                var a = assignments_1_1.value;
                if (lastCnxGeneration < a.salience) {
                    newContext.push();
                }
                newContext.set(a.key, a.value);
            }
        }
        catch (e_4_1) { e_4 = { error: e_4_1 }; }
        finally {
            try {
                if (assignments_1_1 && !assignments_1_1.done && (_a = assignments_1.return)) _a.call(assignments_1);
            }
            finally { if (e_4) throw e_4.error; }
        }
        newContext.isNested = this._isNested;
        return newContext;
        var e_4, _a;
    };
    return Snapshot;
}());
var ObjectMetaContext = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(ObjectMetaContext, _super);
    function ObjectMetaContext(_meta, nested) {
        if (nested === void 0) { nested = false; }
        return _super.call(this, _meta, nested) || this;
    }
    Object.defineProperty(ObjectMetaContext.prototype, "value", {
        get: /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var obj = this.object;
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(obj)) {
                return null;
            }
            /** @type {?} */
            var fieldPath = this.fieldPath();
            return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(fieldPath) ? fieldPath.getFieldValue(obj) : this.propertyForKey('value');
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            /** @type {?} */
            var fieldPath = this.fieldPath();
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(fieldPath)) {
                Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.object), 'Call to setValue() with no current object');
                fieldPath.setFieldValue(this.object, val);
            }
            else {
                /** @type {?} */
                var value = this.allProperties().get(ObjectMeta.KeyValue);
                Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(isDynamicSettable(value), 'Cant set derived property: ' + value);
                /** @type {?} */
                var settable = value;
                ((/** @type {?} */ (value))).evaluateSet(this, val);
                settable.evaluateSet(this, val);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObjectMetaContext.prototype, "object", {
        get: /**
         * @return {?}
         */
        function () {
            return this.values.get(ObjectMeta.KeyObject);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObjectMetaContext.prototype, "formatters", {
        get: /**
         * @return {?}
         */
        function () {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._formatters)) {
                this._formatters = new Map();
            }
            return this._formatters;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    ObjectMetaContext.prototype.fieldPath = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var propMap = /** @type {?} */ (this.allProperties());
        return propMap.fieldPath;
    };
    /**
     * @return {?}
     */
    ObjectMetaContext.prototype.locale = /**
     * @return {?}
     */
    function () {
        return ObjectMetaContext.DefaultLocale;
    };
    /**
     * @return {?}
     */
    ObjectMetaContext.prototype.timezone = /**
     * @return {?}
     */
    function () {
        return new Date().getTimezoneOffset();
    };
    ObjectMetaContext.DefaultLocale = 'en';
    return ObjectMetaContext;
}(Context));
var UIContext = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(UIContext, _super);
    function UIContext(_meta, nested) {
        if (nested === void 0) { nested = false; }
        return _super.call(this, _meta, nested) || this;
    }
    // user values from user settings/locales
    /**
     * @return {?}
     */
    UIContext.prototype.locale = /**
     * @return {?}
     */
    function () {
        return _super.prototype.locale.call(this);
    };
    /**
     * @return {?}
     */
    UIContext.prototype.timezone = /**
     * @return {?}
     */
    function () {
        return _super.prototype.timezone.call(this);
    };
    return UIContext;
}(ObjectMetaContext));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * A Selector defines a sort of key/value predicate that must be satisfied for a
 * rule to apply.
 */
var  /**
 * A Selector defines a sort of key/value predicate that must be satisfied for a
 * rule to apply.
 */
Selector = /** @class */ (function () {
    function Selector(_key, _value, isDecl) {
        if (isDecl === void 0) { isDecl = false; }
        this._key = _key;
        this._value = _value;
        this.isDecl = isDecl;
        this._matchArrayIdx = 0;
    }
    /**
     * @param {?} values
     * @return {?}
     */
    Selector.fromMap = /**
     * @param {?} values
     * @return {?}
     */
    function (values) {
        /** @type {?} */
        var result = new Array();
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].iterable(values).forEach(function (value, key) {
            result.push(new Selector(key, value, false));
        });
        return result;
    };
    Object.defineProperty(Selector.prototype, "key", {
        get: /**
         * @return {?}
         */
        function () {
            return this._key;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Selector.prototype, "value", {
        get: /**
         * @return {?}
         */
        function () {
            return this._value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} keyData
     * @return {?}
     */
    Selector.prototype.bindToKeyData = /**
     * @param {?} keyData
     * @return {?}
     */
    function (keyData) {
        this._matchArrayIdx = keyData._id;
        this._matchValue = keyData.matchValue(this._value);
    };
    /**
     * @param {?} matchArray
     * @return {?}
     */
    Selector.prototype.matches = /**
     * @param {?} matchArray
     * @return {?}
     */
    function (matchArray) {
        // If we haven't been initialized with a matchValue, then we were indexed and don't need to
        // match
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._matchValue)) {
            return true;
        }
        /** @type {?} */
        var other = matchArray[this._matchArrayIdx];
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(other) ? other.matches(this._matchValue) : false;
    };
    /**
     * @return {?}
     */
    Selector.prototype.toString = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var sj = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringJoiner"]([]);
        sj.add(this.key);
        sj.add('=');
        sj.add(this._value.toString());
        sj.add('(');
        sj.add(this.isDecl + '');
        sj.add(')');
        sj.add('[ ');
        sj.add(this._matchArrayIdx + ']');
        return sj.toString();
    };
    return Selector;
}());
/**
 * A Rule defines a map of properties that should apply in the event that a set of Selectors
 * are matched.  Given a rule base (Meta) and a set of asserted values (Context) a list of matching
 * rules can be computed (by matching their selectors against the values) and by successively (in
 * rank / priority order) applying (merging) their property maps a set of effective properties can
 * be computed.
 *
 */
var  /**
 * A Rule defines a map of properties that should apply in the event that a set of Selectors
 * are matched.  Given a rule base (Meta) and a set of asserted values (Context) a list of matching
 * rules can be computed (by matching their selectors against the values) and by successively (in
 * rank / priority order) applying (merging) their property maps a set of effective properties can
 * be computed.
 *
 */
Rule = /** @class */ (function () {
    function Rule(_selectors, _properties, _rank, _lineNumber) {
        if (_rank === void 0) { _rank = -1; }
        if (_lineNumber === void 0) { _lineNumber = -1; }
        this._selectors = _selectors;
        this._properties = _properties;
        this._rank = _rank;
        this._lineNumber = _lineNumber;
        this.keyMatchesMask = 0;
        this.keyIndexedMask = 0;
        this.keyAntiMask = 0;
    }
    /**
     * @param {?} meta
     * @param {?} src
     * @param {?} dest
     * @param {?} declareKey
     * @return {?}
     */
    Rule.merge = /**
     * @param {?} meta
     * @param {?} src
     * @param {?} dest
     * @param {?} declareKey
     * @return {?}
     */
    function (meta, src, dest, declareKey) {
        /** @type {?} */
        var updatedMask = 0;
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].iterable(src).forEach(function (value, key) {
            /** @type {?} */
            var propManager = meta.managerForProperty(key);
            /** @type {?} */
            var orig = dest.get(key);
            /** @type {?} */
            var isDeclare = (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(declareKey) && key === declareKey);
            /** @type {?} */
            var newVal = propManager.mergeProperty(key, orig, value, isDeclare);
            if (newVal !== orig) {
                dest.set(key, newVal);
                /** @type {?} */
                var keyData = propManager._keyDataToSet;
                if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(keyData)) {
                    /** @type {?} */
                    var keymask = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["shiftLeft"])(1, keyData._id);
                    if ((keymask & updatedMask) === 0 &&
                        (dest instanceof PropertyMap)) {
                        updatedMask |= keymask;
                        (/** @type {?} */ (dest)).addContextKey(propManager);
                    }
                }
            }
        });
        return updatedMask;
    };
    /**
     * @param {?} matchArray
     * @return {?}
     */
    Rule.prototype.matches = /**
     * @param {?} matchArray
     * @return {?}
     */
    function (matchArray) {
        try {
            for (var _a = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(this._selectors), _b = _a.next(); !_b.done; _b = _a.next()) {
                var sel = _b.value;
                if (!sel.matches(matchArray)) {
                    return false;
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return true;
        var e_1, _c;
    };
    /**
     * returns context keys modified
     */
    /**
     * returns context keys modified
     * @param {?} meta
     * @param {?} properties
     * @param {?} declareKey
     * @return {?}
     */
    Rule.prototype.apply = /**
     * returns context keys modified
     * @param {?} meta
     * @param {?} properties
     * @param {?} declareKey
     * @return {?}
     */
    function (meta, properties, declareKey) {
        if (this._rank === Number.MIN_VALUE) {
            return 0;
        }
        return Rule.merge(meta, this._properties, properties, declareKey);
    };
    /**
     * @return {?}
     */
    Rule.prototype.disable = /**
     * @return {?}
     */
    function () {
        this._rank = Number.MIN_VALUE;
    };
    /**
     * @return {?}
     */
    Rule.prototype.disabled = /**
     * @return {?}
     */
    function () {
        return this._rank === Number.MIN_VALUE;
    };
    Object.defineProperty(Rule.prototype, "lineNumber", {
        get: /**
         * @return {?}
         */
        function () {
            return this._lineNumber;
        },
        set: /**
         * @param {?} lineNumber
         * @return {?}
         */
        function (lineNumber) {
            this._lineNumber = lineNumber;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    Rule.prototype.location = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var path = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._ruleSet) ? this._ruleSet.filePath : 'Unknow';
        return (this._lineNumber >= 0) ? (new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringJoiner"]([
            path, ':', this._lineNumber + ''
        ])).toString() : path;
    };
    Object.defineProperty(Rule.prototype, "selectors", {
        get: /**
         * @return {?}
         */
        function () {
            return this._selectors;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._selectors = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Rule.prototype, "properties", {
        get: /**
         * @return {?}
         */
        function () {
            return this._properties;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._properties = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Rule.prototype, "rank", {
        get: /**
         * @return {?}
         */
        function () {
            return this._rank;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._rank = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Rule.prototype, "ruleSet", {
        get: /**
         * @return {?}
         */
        function () {
            return this._ruleSet;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._ruleSet = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Rule.prototype, "id", {
        get: /**
         * @return {?}
         */
        function () {
            return this._id;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._id = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    Rule.prototype.isEditable = /**
     * @return {?}
     */
    function () {
        return (this._ruleSet !== null) && (this._ruleSet.editableStart > 0) &&
            (this._id >= this._ruleSet.editableStart);
    };
    /**
     * @return {?}
     */
    Rule.prototype.createDecl = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var selectors = this._selectors;
        /** @type {?} */
        var declPred = selectors[selectors.length - 1];
        /** @type {?} */
        var prePreds = this.convertKeyOverrides(selectors.slice(0, selectors.length - 1));
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._properties)) {
            this._properties = new Map();
        }
        try {
            for (var selectors_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(selectors), selectors_1_1 = selectors_1.next(); !selectors_1_1.done; selectors_1_1 = selectors_1.next()) {
                var p = selectors_1_1.value;
                if (!(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(p.value))) {
                    this._properties.set(p.key, p.value);
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (selectors_1_1 && !selectors_1_1.done && (_a = selectors_1.return)) _a.call(selectors_1);
            }
            finally { if (e_2) throw e_2.error; }
        }
        // Flag the declaring rule as a property
        this._properties.set(Meta.DeclRule, new RuleWrapper(this));
        /** @type {?} */
        var hasOverrideScope = false;
        try {
            for (var prePreds_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(prePreds), prePreds_1_1 = prePreds_1.next(); !prePreds_1_1.done; prePreds_1_1 = prePreds_1.next()) {
                var p = prePreds_1_1.value;
                if (p.key === declPred.key) {
                    hasOverrideScope = true;
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (prePreds_1_1 && !prePreds_1_1.done && (_b = prePreds_1.return)) _b.call(prePreds_1);
            }
            finally { if (e_3) throw e_3.error; }
        }
        // if decl key isn't scoped, then select on no scope
        if (!hasOverrideScope) {
            /** @type {?} */
            var overrideKey = Meta.overrideKeyForKey(declPred.key);
            prePreds.unshift(new Selector(overrideKey, Meta.NullMarker));
        }
        // The decl rule...
        prePreds.push(new Selector(Meta.KeyDeclare, declPred.key));
        /** @type {?} */
        var m = new Map();
        m.set(declPred.key, declPred.value);
        return new Rule(prePreds, m, 0, -1);
        var e_2, _a, e_3, _b;
    };
    /**
     *  rewrite any selector of the form "layout=L1, class=c, layout=L2" to
     *  "layout_o=L1 class=c, layout=L2"
     */
    /**
     *  rewrite any selector of the form "layout=L1, class=c, layout=L2" to
     *  "layout_o=L1 class=c, layout=L2"
     * @param {?} orig
     * @return {?}
     */
    Rule.prototype.convertKeyOverrides = /**
     *  rewrite any selector of the form "layout=L1, class=c, layout=L2" to
     *  "layout_o=L1 class=c, layout=L2"
     * @param {?} orig
     * @return {?}
     */
    function (orig) {
        /** @type {?} */
        var result = orig;
        /** @type {?} */
        var count = orig.length;
        for (var i = 0; i < count; i++) {
            /** @type {?} */
            var p = orig[i];
            // See if overridded by same key later in selector
            for (var j = i + 1; j < count; j++) {
                /** @type {?} */
                var pNext = orig[j];
                if (pNext.key === p.key) {
                    // if we're overridden, we drop ours, and replace the next collision
                    // with one with our prefix
                    // make a copy if we haven't already
                    if (result === orig) {
                        result = orig.slice(0, i);
                    }
                    p = new Selector(Meta.overrideKeyForKey(p.key), p.value);
                    break;
                }
            }
            if (result !== orig) {
                result.push(p);
            }
        }
        return result;
    };
    /**
     * @return {?}
     */
    Rule.prototype.toString = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var sj = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringJoiner"](['<Rule [']);
        sj.add(this._rank + '] ');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.selectors)) {
            sj.add('null, null --> null >');
        }
        else {
            sj.add(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].toString(this._selectors));
            sj.add(' -> ');
            if (!this._properties) {
                sj.add('[,]' + ' >');
            }
            else {
                if (this._properties.has('declRule')) ;
                sj.add(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].toString(this._properties) + ' >');
            }
            sj.add('[ ');
            sj.add(this.keyIndexedMask + ', ');
            sj.add(this.keyAntiMask + ', ');
            sj.add(this.keyMatchesMask + '');
            sj.add(' ]');
        }
        return sj.toString();
    };
    /**
     * @param {?} values
     * @param {?} meta
     * @return {?}
     */
    Rule.prototype._checkRule = /**
     * @param {?} values
     * @param {?} meta
     * @return {?}
     */
    function (values, meta) {
        var _this = this;
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].forEachWithIndex(this.selectors, function (p, i) {
            /** @type {?} */
            var contextValue = values.get(p.key);
            /** @type {?} */
            var keyData = meta.keyData(p.key);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(keyData._transformer)) {
                contextValue = keyData._transformer.tranformForMatch(contextValue);
            }
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(contextValue) &&
                ((Meta.KeyAny === p.value && _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(contextValue) ||
                    Meta.objectEquals(contextValue, p.value) ||
                    (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(p.value) && p.value.indexOf(contextValue) > -1) ||
                    (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(p.value) && contextValue.indexOf(p.value) > -1)))) ;
            else {
                Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["print"])('Possible bad rule match!  Rule: %s; selector: %s, context val: %s' + _this +
                    ' ' + p + ' ' + contextValue);
            }
        });
    };
    return Rule;
}());
var RuleWrapper = /** @class */ (function () {
    function RuleWrapper(rule) {
        this.rule = rule;
    }
    return RuleWrapper;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Meta is the core class in MetaUI.  An instance of meta represents a 'Rule Base' (a repository
 * rules), and this rule base is used to compute property maps based on a series of key/value
 * constraints (typically based on the current values in a Context instance).
 *
 * Meta works in concert with Match.MatchResult to cache partial matches (match trees) with cached
 * computed property maps. Meta is generally used by way of its subclasses ObjectMeta and UIMeta
 * (which extend Meta with behaviors around auto-creating rules for references Typescripts classes
 * and dynamic properties for field and layout zoning)
 *
 *
 */
var Meta = /** @class */ (function () {
    function Meta() {
        this._rules = new Array();
        this._ruleCount = 0;
        this._testRules = new Map();
        this._nextKeyId = 0;
        this._ruleSetGeneration = 0;
        this._keyData = new Map();
        this._keyDatasById = new Array(Meta.MaxKeyDatas);
        this._MatchToPropsCache = new typescript_collections__WEBPACK_IMPORTED_MODULE_2__["Dictionary"]();
        this._PropertyMapUniquer = new typescript_collections__WEBPACK_IMPORTED_MODULE_2__["Dictionary"]();
        this._identityCache = new typescript_collections__WEBPACK_IMPORTED_MODULE_2__["Dictionary"]();
        this._managerForProperty = new Map();
        this._declareKeyMask = 0;
        Meta.PropertyMerger_DeclareList = new PropertyMergerDeclareList();
        Meta.PropertyMerger_Traits = new PropertyMergerDeclareListForTrait();
        Meta.PropertyMerger_List = new PropertyMerger_List();
        Meta.Transformer_KeyPresent = new KeyValueTransformer_KeyPresent();
        this._declareKeyMask = this.keyData(Meta.KeyDeclare).maskValue();
        this.registerPropertyMerger(Meta.KeyTrait, Meta.PropertyMerger_Traits);
        /** @type {?} */
        var nooprule = new Rule(null, null, 0, 0);
        nooprule.disable();
        this._rules[0] = nooprule;
        this._ruleCount = 1;
    }
    /*
     A few handy utilities (for which we probably already have superior versions elsewhere)
     */
    /**
     * @param {?} value
     * @return {?}
     */
    Meta.booleanValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(value);
    };
    /**
     * @param {?} value
     * @return {?}
     */
    Meta.toList = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(value)) ? value : [value];
    };
    /**
     * @param {?} one
     * @param {?} two
     * @return {?}
     */
    Meta.objectEquals = /**
     * @param {?} one
     * @param {?} two
     * @return {?}
     */
    function (one, two) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(one) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(two)) {
            return true;
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(one) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(two)) {
            return false;
        }
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["equals"])(one, two);
    };
    /**
     * @param {?} key
     * @return {?}
     */
    Meta.overrideKeyForKey = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return key + '_o';
    };
    /**
     * @param {?} traits
     * @param {?} map
     * @return {?}
     */
    Meta.addTraits = /**
     * @param {?} traits
     * @param {?} map
     * @return {?}
     */
    function (traits, map) {
        /** @type {?} */
        var current = map.get(Meta.KeyTrait);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(current)) {
            map.set(Meta.KeyTrait, traits);
        }
        else {
            _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].addAll(current, traits);
            map.set(Meta.KeyTrait, current);
        }
    };
    /**
     * @param {?} trait
     * @param {?} map
     * @return {?}
     */
    Meta.addTrait = /**
     * @param {?} trait
     * @param {?} map
     * @return {?}
     */
    function (trait, map) {
        /** @type {?} */
        var current = map.get(Meta.KeyTrait);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(current)) {
            map.set(Meta.KeyTrait, Meta.toList(trait));
        }
        else {
            current.push(trait);
            map.set(Meta.KeyTrait, current);
        }
    };
    /**
     * @param {?} object
     * @return {?}
     */
    Meta.className = /**
     * @param {?} object
     * @return {?}
     */
    function (object) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isStringMap"])(object) && (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isEntity"])(object) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isValue"])(object))) {
            return (/** @type {?} */ (object)).className();
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isStringMap"])(object)) {
            return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["objectToName"])(object);
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isFunction"])(object)) {
            return object.name;
        }
        return object;
    };
    /**
     * @param {?} loader
     * @return {?}
     */
    Meta.prototype.registerLoader = /**
     * @param {?} loader
     * @return {?}
     */
    function (loader) {
        this._ruleLoader = loader;
    };
    /**
     * @param {?} rule
     * @return {?}
     */
    Meta.prototype.addRule = /**
     * @param {?} rule
     * @return {?}
     */
    function (rule) {
        /** @type {?} */
        var selectors = rule.selectors;
        if (selectors.length > 0 && selectors[selectors.length - 1].isDecl) {
            /** @type {?} */
            var decl = rule.createDecl();
            this._addRule(decl, true);
        }
        // we allow null to enable creation of a decl, but otherwise this rule has no effect
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(rule.properties)) {
            // After we've captured the decl, do the collapse
            rule._selectors = rule.convertKeyOverrides(rule._selectors);
            this._addRule(rule, true);
        }
    };
    /**
     * @param {?} rule
     * @param {?} pos
     * @return {?}
     */
    Meta.prototype._addToRules = /**
     * @param {?} rule
     * @param {?} pos
     * @return {?}
     */
    function (rule, pos) {
        this._rules[pos] = rule;
    };
    // todo: TEST unit test this
    /**
     * @param {?} rule
     * @param {?} checkPropScope
     * @return {?}
     */
    Meta.prototype._addRule = /**
     * @param {?} rule
     * @param {?} checkPropScope
     * @return {?}
     */
    function (rule, checkPropScope) {
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._currentRuleSet), 'Attempt to add rule without current RuleSet');
        /** @type {?} */
        var selectors = rule._selectors;
        /** @type {?} */
        var entryId = this._currentRuleSet.allocateNextRuleEntry();
        rule.id = entryId;
        if (rule.rank === 0) {
            rule.rank = this._currentRuleSet._rank++;
        }
        rule.ruleSet = this._currentRuleSet;
        this._addToRules(rule, entryId);
        /** @type {?} */
        var lastScopeKeyData;
        /** @type {?} */
        var declKey;
        /** @type {?} */
        var declMask = this.declareKeyMask;
        /** @type {?} */
        var matchMask = 0;
        /** @type {?} */
        var indexedMask = 0;
        /** @type {?} */
        var antiMask = 0;
        /** @type {?} */
        var count = selectors.length;
        /** @type {?} */
        var indexOnlySelector = Meta._UsePartialIndexing ? this.bestSelectorToIndex(selectors) : null;
        for (var i = count - 1; i >= 0; i--) {
            /** @type {?} */
            var p = selectors[i];
            /** @type {?} */
            var shouldIndex = (indexOnlySelector === null || p === indexOnlySelector);
            /** @type {?} */
            var data = this.keyData(p.key);
            /** @type {?} */
            var dataMask = data.maskValue();
            if (!this.isNullMarker(p.value)) {
                if (shouldIndex || Meta._DebugDoubleCheckMatches) {
                    if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(p.value)) {
                        try {
                            for (var _a = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(p.value), _b = _a.next(); !_b.done; _b = _a.next()) {
                                var v = _b.value;
                                data.addEntry(v, entryId);
                            }
                        }
                        catch (e_1_1) { e_1 = { error: e_1_1 }; }
                        finally {
                            try {
                                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
                            }
                            finally { if (e_1) throw e_1.error; }
                        }
                    }
                    else {
                        data.addEntry(p.value, entryId);
                    }
                    if (shouldIndex) {
                        indexedMask |= Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["shiftLeft"])(1, data.id);
                    }
                }
                if (!shouldIndex) {
                    // prepare selector for direct evaluation
                    p.bindToKeyData(data);
                }
                matchMask |= dataMask;
                if (data.isPropertyScope && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(lastScopeKeyData)) {
                    lastScopeKeyData = data;
                }
                if ((dataMask & declMask) !== 0) {
                    declKey = p.value;
                }
            }
            else {
                antiMask |= dataMask;
            }
        }
        /** @type {?} */
        var isDecl = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(declKey);
        /** @type {?} */
        var nonScopeKeyDecl = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(declKey) && !this.keyData(declKey).isPropertyScope;
        if (!isDecl || nonScopeKeyDecl) {
            // all non-decl rules don't apply outside decl context
            if (!isDecl) {
                antiMask |= declMask;
            }
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(lastScopeKeyData) && checkPropScope) {
                /** @type {?} */
                var traitVal = rule.properties.get(Meta.KeyTrait);
                if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(traitVal)) {
                    /** @type {?} */
                    var traitKey = lastScopeKeyData._key + '_trait';
                    /** @type {?} */
                    var properties = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].createEmpty();
                    properties.set(traitKey, traitVal);
                    /** @type {?} */
                    var traitRule = new Rule(rule._selectors, properties, rule.rank, rule.lineNumber);
                    this._addRule(traitRule, false);
                }
                rule._selectors = selectors.slice(0);
                /** @type {?} */
                var scopeSel = new Selector(Meta.ScopeKey, lastScopeKeyData.key);
                rule.selectors.push(scopeSel);
                /** @type {?} */
                var data = this.keyData(Meta.ScopeKey);
                if (!Meta._UsePartialIndexing || Meta._DebugDoubleCheckMatches) {
                    data.addEntry(lastScopeKeyData._key, entryId);
                    indexedMask |= Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["shiftLeft"])(1, data._id);
                }
                scopeSel.bindToKeyData(data);
                matchMask |= Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["shiftLeft"])(1, data._id);
            }
        }
        rule.keyMatchesMask = matchMask;
        rule.keyIndexedMask = indexedMask;
        rule.keyAntiMask = antiMask;
        var e_1, _c;
    };
    /**
     * @param {?} selectors
     * @return {?}
     */
    Meta.prototype.bestSelectorToIndex = /**
     * @param {?} selectors
     * @return {?}
     */
    function (selectors) {
        /** @type {?} */
        var best;
        /** @type {?} */
        var bestRank = Number.MIN_VALUE;
        /** @type {?} */
        var pos = 0;
        try {
            for (var selectors_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(selectors), selectors_1_1 = selectors_1.next(); !selectors_1_1.done; selectors_1_1 = selectors_1.next()) {
                var sel = selectors_1_1.value;
                /** @type {?} */
                var rank = this.selectivityRank(sel) + pos++;
                if (rank > bestRank) {
                    best = sel;
                    bestRank = rank;
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (selectors_1_1 && !selectors_1_1.done && (_a = selectors_1.return)) _a.call(selectors_1);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return best;
        var e_2, _a;
    };
    /**
     * @param {?} selector
     * @return {?}
     */
    Meta.prototype.selectivityRank = /**
     * @param {?} selector
     * @return {?}
     */
    function (selector) {
        /** @type {?} */
        var score = 1;
        /** @type {?} */
        var value = selector.value;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value) && !(Meta.KeyAny === value)) {
            score += (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBoolean"])(value) ? 1 : 9);
        }
        /** @type {?} */
        var keyData = this.keyData(selector.key);
        if (keyData.isPropertyScope) {
            score *= 5;
        }
        // Todo: we could score based on # of entries in KeyData
        return score;
    };
    /**
     * if addition of this rule results in addition of extra rules, those are returned
     * (null otherwise)
     */
    /**
     * if addition of this rule results in addition of extra rules, those are returned
     * (null otherwise)
     * @return {?}
     */
    Meta.prototype._editingRuleEnd = /**
     * if addition of this rule results in addition of extra rules, those are returned
     * (null otherwise)
     * @return {?}
     */
    function () {
        return Math.max(this._currentRuleSet.end, this._ruleCount);
    };
    /**
     * @param {?} rule
     * @return {?}
     */
    Meta.prototype._addRuleAndReturnExtras = /**
     * @param {?} rule
     * @return {?}
     */
    function (rule) {
        /** @type {?} */
        var start = this._editingRuleEnd();
        /** @type {?} */
        var extras;
        this.addRule(rule);
        // Return any extra rules created by addition of this one
        for (var i = start, c = this._editingRuleEnd(); i < c; i++) {
            /** @type {?} */
            var r = this._rules[i];
            if (r !== rule) {
                if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(extras)) {
                    extras = new Array();
                }
                extras.push(r);
            }
        }
        return extras;
    };
    // Icky method to replace an exited rule in place
    /**
     * @param {?} rule
     * @param {?} extras
     * @return {?}
     */
    Meta.prototype._updateEditedRule = /**
     * @param {?} rule
     * @param {?} extras
     * @return {?}
     */
    function (rule, extras) {
        /** @type {?} */
        var nooprule = new Rule(null, null, 0, 0);
        nooprule.disable();
        this._rules[rule.id] = nooprule;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(extras)) {
            try {
                for (var extras_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(extras), extras_1_1 = extras_1.next(); !extras_1_1.done; extras_1_1 = extras_1.next()) {
                    var r = extras_1_1.value;
                    r.disable();
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (extras_1_1 && !extras_1_1.done && (_a = extras_1.return)) _a.call(extras_1);
                }
                finally { if (e_3) throw e_3.error; }
            }
        }
        /** @type {?} */
        var preds = rule.selectors;
        if ((Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(preds) && preds.length > 0) && _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].last(preds).key === Meta.ScopeKey) {
            _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].removeAt(preds, preds.length);
        }
        // now (re)-add it and invalidate
        extras = this._addRuleAndReturnExtras(rule);
        this.invalidateRules();
        return extras;
        var e_3, _a;
    };
    /**
     * @param {?} preds
     * @return {?}
     */
    Meta.prototype.scopeKeyForSelector = /**
     * @param {?} preds
     * @return {?}
     */
    function (preds) {
        for (var i = preds.length - 1; i >= 0; i--) {
            /** @type {?} */
            var pred = preds[i];
            /** @type {?} */
            var data = this.keyData(pred.key);
            if (data.isPropertyScope) {
                return pred.key;
            }
        }
        return null;
    };
    /**
     * @param {?} selectorMap
     * @param {?} propertyMap
     * @return {?}
     */
    Meta.prototype.addRuleFromSelectorMap = /**
     * @param {?} selectorMap
     * @param {?} propertyMap
     * @return {?}
     */
    function (selectorMap, propertyMap) {
        this.addRuleFromSelectorMapWithRank(selectorMap, propertyMap, 0);
    };
    /**
     * @param {?} selectorMap
     * @param {?} propertyMap
     * @param {?} rank
     * @return {?}
     */
    Meta.prototype.addRuleFromSelectorMapWithRank = /**
     * @param {?} selectorMap
     * @param {?} propertyMap
     * @param {?} rank
     * @return {?}
     */
    function (selectorMap, propertyMap, rank) {
        /** @type {?} */
        var rule = new Rule(Selector.fromMap(selectorMap), propertyMap, 0, -1);
        if (rank !== 0) {
            rule.rank = rank;
        }
        this.addRule(rule);
    };
    /**
     * @param {?} ruleSet
     * @param {?} selectors
     * @return {?}
     */
    Meta.prototype.addRules = /**
     * @param {?} ruleSet
     * @param {?} selectors
     * @return {?}
     */
    function (ruleSet, selectors) {
        /** @type {?} */
        var props;
        /** @type {?} */
        var rules;
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].iterable(ruleSet).forEach(function (value, key) {
            if (key === 'props') {
                props = value;
            }
            else if (key === 'rules') {
                rules = value;
            }
            else {
                selectors.push(new Selector(key, value));
            }
        });
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(props)) {
            this.addRule(new Rule(selectors, props, 0));
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(rules)) {
            try {
                for (var rules_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(rules), rules_1_1 = rules_1.next(); !rules_1_1.done; rules_1_1 = rules_1.next()) {
                    var r = rules_1_1.value;
                    this.addRules(r, selectors);
                }
            }
            catch (e_4_1) { e_4 = { error: e_4_1 }; }
            finally {
                try {
                    if (rules_1_1 && !rules_1_1.done && (_a = rules_1.return)) _a.call(rules_1);
                }
                finally { if (e_4) throw e_4.error; }
            }
        }
        var e_4, _a;
    };
    // this one expect that we already opened the ruleset
    /**
     * @param {?=} ruleText
     * @param {?=} module
     * @param {?=} editable
     * @return {?}
     */
    Meta.prototype._loadRules = /**
     * @param {?=} ruleText
     * @param {?=} module
     * @param {?=} editable
     * @return {?}
     */
    function (ruleText, module, editable) {
        var _this = this;
        if (module === void 0) { module = 'system'; }
        if (editable === void 0) { editable = true; }
        try {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._ruleLoader)) {
                this._ruleLoader.loadRules(this, ruleText, module, function (rule) { return _this.addRule(rule); });
            }
        }
        catch (e) {
            this.endRuleSet().disableRules();
            throw new Error('Error loading rule: ' + e);
        }
    };
    /**
     * @param {?=} ruleText
     * @return {?}
     */
    Meta.prototype.loadRules = /**
     * @param {?=} ruleText
     * @return {?}
     */
    function (ruleText) {
        this._loadRulesWithRuleSet('StringLiteral', ruleText, 0);
        this.endRuleSet();
    };
    /**
     * @param {?} filename
     * @param {?} ruleText
     * @param {?} rank
     * @return {?}
     */
    Meta.prototype._loadRulesWithRuleSet = /**
     * @param {?} filename
     * @param {?} ruleText
     * @param {?} rank
     * @return {?}
     */
    function (filename, ruleText, rank) {
        this.beginRuleSetWithRank(rank, filename);
        try {
            this._loadRules(ruleText);
        }
        catch (e) {
            this.endRuleSet().disableRules();
            throw new Error('Error loading rule: ' + e);
        }
    };
    /**
     * @param {?} source
     * @param {?} userClass
     * @return {?}
     */
    Meta.prototype.loadUserRule = /**
     * @param {?} source
     * @param {?} userClass
     * @return {?}
     */
    function (source, userClass) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["unimplemented"])();
    };
    /**
     * @param {?} propString
     * @param {?} propertyMap
     * @return {?}
     */
    Meta.prototype.parsePropertyAssignment = /**
     * @param {?} propString
     * @param {?} propertyMap
     * @return {?}
     */
    function (propString, propertyMap) {
        // todo: implement this
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["unimplemented"])();
    };
    /**
     * @return {?}
     */
    Meta.prototype.clearCaches = /**
     * @return {?}
     */
    function () {
        this._MatchToPropsCache = new typescript_collections__WEBPACK_IMPORTED_MODULE_2__["Dictionary"]();
        this._PropertyMapUniquer = new typescript_collections__WEBPACK_IMPORTED_MODULE_2__["Dictionary"]();
        this._identityCache = new typescript_collections__WEBPACK_IMPORTED_MODULE_2__["Dictionary"]();
    };
    /**
     * @param {?} rule
     * @return {?}
     */
    Meta.prototype.isTraitExportRule = /**
     * @param {?} rule
     * @return {?}
     */
    function (rule) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(rule.properties) || rule || rule.properties.size === 1) {
            /** @type {?} */
            var key = Array.from(rule.properties.keys())[0];
            return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringWrapper"].endsWidth(key, '_trait');
        }
        return false;
    };
    /**
     * @param {?} identificator
     * @return {?}
     */
    Meta.prototype.beginRuleSet = /**
     * @param {?} identificator
     * @return {?}
     */
    function (identificator) {
        this.beginRuleSetWithRank(this._ruleCount, identificator);
    };
    /**
     * @param {?} rank
     * @param {?} filePath
     * @return {?}
     */
    Meta.prototype.beginRuleSetWithRank = /**
     * @param {?} rank
     * @param {?} filePath
     * @return {?}
     */
    function (rank, filePath) {
        try {
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._currentRuleSet), 'Can t start new rule set while one in progress');
            this._currentRuleSet = new RuleSet(this);
            this._currentRuleSet._start = this._ruleCount;
            this._currentRuleSet._end = this._ruleCount;
            this._currentRuleSet._rank = rank;
            this._currentRuleSet._filePath = filePath;
        }
        catch (e) {
            throw e;
        }
    };
    /**
     * @param {?} orig
     * @return {?}
     */
    Meta.prototype.beginReplacementRuleSet = /**
     * @param {?} orig
     * @return {?}
     */
    function (orig) {
        /** @type {?} */
        var origRank = orig.startRank();
        this.beginRuleSetWithRank(this._ruleCount, orig._filePath);
        this._currentRuleSet._rank = origRank;
    };
    /**
     * @return {?}
     */
    Meta.prototype.endRuleSet = /**
     * @return {?}
     */
    function () {
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._currentRuleSet), 'No rule set progress');
        /** @type {?} */
        var result = this._currentRuleSet;
        if (this._ruleCount < result._end) {
            this._ruleCount = result._end;
        }
        this._currentRuleSet = null;
        this._ruleSetGeneration++;
        return result;
    };
    Object.defineProperty(Meta.prototype, "ruleSetGeneration", {
        get: /**
         * @return {?}
         */
        function () {
            return this._ruleSetGeneration;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    Meta.prototype.invalidateRules = /**
     * @return {?}
     */
    function () {
        this._ruleSetGeneration++;
        this.clearCaches();
    };
    /**
     * @return {?}
     */
    Meta.prototype.newContext = /**
     * @return {?}
     */
    function () {
        return new Context(this);
    };
    Object.defineProperty(Meta.prototype, "declareKeyMask", {
        get: /**
         * @return {?}
         */
        function () {
            return this._declareKeyMask;
        },
        enumerable: true,
        configurable: true
    });
    // Touch a key/value to force pre-loading/registration of associated rule files
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    Meta.prototype.touch = /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (key, value) {
        /** @type {?} */
        var context = this.newContext();
        context.push();
        context.set(key, value);
        context.allProperties();
        context.pop();
    };
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    Meta.prototype.transformValue = /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (key, value) {
        /** @type {?} */
        var keyData = this._keyData.get(key);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(keyData) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(keyData._transformer)) {
            value = keyData._transformer.tranformForMatch(value);
        }
        return value;
    };
    /**
     * @param {?} key
     * @param {?} value
     * @param {?} intermediateResult
     * @return {?}
     */
    Meta.prototype.match = /**
     * @param {?} key
     * @param {?} value
     * @param {?} intermediateResult
     * @return {?}
     */
    function (key, value, intermediateResult) {
        /** @type {?} */
        var keyData = this._keyData.get(key);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(keyData)) {
            return intermediateResult;
        }
        /** @type {?} */
        var keyMask = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["shiftLeft"])(1, keyData._id);
        // Does our result already include this key?  Then no need to join again
        // if (intermediateResult !== null && (intermediateResult._keysMatchedMask & keyMask) !==
        // 0) return intermediateResult;
        return new MatchResult(this, keyData, value, intermediateResult);
    };
    /**
     * @param {?} key
     * @param {?} value
     * @param {?} intermediateResult
     * @return {?}
     */
    Meta.prototype.unionOverrideMatch = /**
     * @param {?} key
     * @param {?} value
     * @param {?} intermediateResult
     * @return {?}
     */
    function (key, value, intermediateResult) {
        /** @type {?} */
        var keyData = this._keyData.get(Meta.overrideKeyForKey(key));
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(keyData)) {
            return intermediateResult;
        }
        return new UnionMatchResult(this, keyData, value, intermediateResult);
    };
    /**
     * @return {?}
     */
    Meta.prototype.newPropertiesMap = /**
     * @return {?}
     */
    function () {
        return new PropertyMap();
    };
    /**
     * @param {?} matchResult
     * @return {?}
     */
    Meta.prototype.propertiesForMatch = /**
     * @param {?} matchResult
     * @return {?}
     */
    function (matchResult) {
        /** @type {?} */
        var properties = this._MatchToPropsCache.getValue(matchResult);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(properties)) {
            return properties;
        }
        properties = this.newPropertiesMap();
        /** @type {?} */
        var arr = matchResult.filteredMatches();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(arr)) {
            return properties;
        }
        /** @type {?} */
        var count = arr[0];
        /** @type {?} */
        var rules = new Array(count);
        for (var i = 0; i < count; i++) {
            rules[i] = this._rules[arr[i + 1]];
        }
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].sort(rules, function (o1, o2) { return o1.rank - o2.rank; });
        /** @type {?} */
        var modifiedMask = 0;
        /** @type {?} */
        var declareKey = ((this._declareKeyMask & matchResult.keysMatchedMask) !== 0)
            ? matchResult.valueForKey(Meta.KeyDeclare) : null;
        for (var r in rules) {
            modifiedMask |= rules[r].apply(this, properties, declareKey);
        }
        properties.awakeProperties();
        this._MatchToPropsCache.setValue(matchResult.immutableCopy(), properties);
        return properties;
    };
    /**
     * @param {?} key
     * @return {?}
     */
    Meta.prototype.keyData = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        /** @type {?} */
        var data = this._keyData.get(key);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(data)) {
            /** @type {?} */
            var id = this._nextKeyId;
            if (id >= Meta.MaxKeyDatas - 1) {
                Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["print"])('Exceeded maximum number of context keys');
            }
            this._nextKeyId++;
            data = new KeyData(key, id);
            this._keyDatasById[id] = data;
            this._keyData.set(key, data);
        }
        return data;
    };
    /**
     * @param {?} mask
     * @return {?}
     */
    Meta.prototype._keysInMask = /**
     * @param {?} mask
     * @return {?}
     */
    function (mask) {
        /** @type {?} */
        var matches = [];
        /** @type {?} */
        var pos = 0;
        while (mask !== 0) {
            if ((mask & 1) !== 0) {
                matches.push(this._keyDatasById[pos]._key);
            }
            pos++;
            mask = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["shiftRight"])(mask, 1);
        }
        return matches;
    };
    /**
     * @param {?} key
     * @param {?} o
     * @return {?}
     */
    Meta.prototype.registerKeyInitObserver = /**
     * @param {?} key
     * @param {?} o
     * @return {?}
     */
    function (key, o) {
        this.keyData(key).addObserver(o);
    };
    /**
     * @param {?} key
     * @param {?} transformer
     * @return {?}
     */
    Meta.prototype.registerValueTransformerForKey = /**
     * @param {?} key
     * @param {?} transformer
     * @return {?}
     */
    function (key, transformer) {
        this.keyData(key)._transformer = transformer;
    };
    Object.defineProperty(Meta.prototype, "identityCache", {
        get: /**
         * @return {?}
         */
        function () {
            return this._identityCache;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    Meta.prototype.newMatchArray = /**
     * @return {?}
     */
    function () {
        return [];
    };
    /**
     * @param {?} array
     * @param {?} keyData
     * @param {?} matchValue
     * @return {?}
     */
    Meta.prototype.matchArrayAssign = /**
     * @param {?} array
     * @param {?} keyData
     * @param {?} matchValue
     * @return {?}
     */
    function (array, keyData, matchValue) {
        /** @type {?} */
        var idx = keyData._id;
        /** @type {?} */
        var curr = array[idx];
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(curr)) {
            matchValue = curr.updateByAdding(matchValue);
        }
        array[idx] = matchValue;
    };
    /**
     * @param {?} propertyName
     * @param {?} origValue
     * @return {?}
     */
    Meta.prototype.propertyWillDoMerge = /**
     * @param {?} propertyName
     * @param {?} origValue
     * @return {?}
     */
    function (propertyName, origValue) {
        /** @type {?} */
        var merger = this.mergerForProperty(propertyName);
        return this.isPropertyMergerIsChaining(merger) || (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(origValue) && (origValue instanceof Map));
    };
    /**
     * @param {?} name
     * @return {?}
     */
    Meta.prototype.managerForProperty = /**
     * @param {?} name
     * @return {?}
     */
    function (name) {
        /** @type {?} */
        var manager = this._managerForProperty.get(name);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(manager)) {
            manager = new PropertyManager(name);
            this._managerForProperty.set(name, manager);
        }
        return manager;
    };
    /**
     * @param {?} propertyName
     * @param {?} contextKey
     * @return {?}
     */
    Meta.prototype.mirrorPropertyToContext = /**
     * @param {?} propertyName
     * @param {?} contextKey
     * @return {?}
     */
    function (propertyName, contextKey) {
        /** @type {?} */
        var keyData = this.keyData(contextKey);
        /** @type {?} */
        var manager = this.managerForProperty(propertyName);
        manager._keyDataToSet = keyData;
    };
    /**
     * @param {?} contextKey
     * @return {?}
     */
    Meta.prototype.defineKeyAsPropertyScope = /**
     * @param {?} contextKey
     * @return {?}
     */
    function (contextKey) {
        /** @type {?} */
        var keyData = this.keyData(contextKey);
        keyData.isPropertyScope = true;
        /** @type {?} */
        var traitKey = contextKey + '_trait';
        this.mirrorPropertyToContext(traitKey, traitKey);
        this.registerPropertyMerger(traitKey, Meta.PropertyMerger_DeclareList);
    };
    /**
     * @param {?} key
     * @return {?}
     */
    Meta.prototype.isPropertyScopeKey = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return Meta.ScopeKey === key;
    };
    /**
     * @param {?} propertyName
     * @param {?} merger
     * @return {?}
     */
    Meta.prototype.registerPropertyMerger = /**
     * @param {?} propertyName
     * @param {?} merger
     * @return {?}
     */
    function (propertyName, merger) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(merger._meta)) {
            merger._meta = this;
        }
        /** @type {?} */
        var manager = this.managerForProperty(propertyName);
        manager._merger = merger;
    };
    /**
     * @param {?} propertyName
     * @return {?}
     */
    Meta.prototype.mergerForProperty = /**
     * @param {?} propertyName
     * @return {?}
     */
    function (propertyName) {
        /** @type {?} */
        var manager = this.managerForProperty(propertyName);
        return manager._merger;
    };
    /**
     * @param {?} val
     * @return {?}
     */
    Meta.prototype.isPropertyMergerIsChaining = /**
     * @param {?} val
     * @return {?}
     */
    function (val) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(val.isPropMergerIsChainingMark) && val.isPropMergerIsChainingMark;
    };
    /**
     * @param {?} trait
     * @return {?}
     */
    Meta.prototype.groupForTrait = /**
     * @param {?} trait
     * @return {?}
     */
    function (trait) {
        return 'default';
    };
    /**
     * @return {?}
     */
    Meta.prototype._logRuleStats = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var total = 0;
        /** @type {?} */
        var values = this._keyData.keys();
        /** @type {?} */
        var counts = [];
        try {
            for (var _a = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(Array.from(values)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var id = _b.value;
                /** @type {?} */
                var keyData = this._keyData.get(id);
                /** @type {?} */
                var valuess = keyData.ruleVecs.values();
                try {
                    for (var valuess_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(valuess), valuess_1_1 = valuess_1.next(); !valuess_1_1.done; valuess_1_1 = valuess_1.next()) {
                        var vm = valuess_1_1.value;
                        /** @type {?} */
                        var kvc = new KeyValueCount(keyData._key, (/** @type {?} */ (vm))['_value'], Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(vm._arr) ? vm._arr[0] : 0);
                        total += kvc.count;
                        counts.push(kvc);
                    }
                }
                catch (e_5_1) { e_5 = { error: e_5_1 }; }
                finally {
                    try {
                        if (valuess_1_1 && !valuess_1_1.done && (_c = valuess_1.return)) _c.call(valuess_1);
                    }
                    finally { if (e_5) throw e_5.error; }
                }
            }
        }
        catch (e_6_1) { e_6 = { error: e_6_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_6) throw e_6.error; }
        }
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].sort(counts, function (o1, o2) { return o2.count - o1.count; });
        /** @type {?} */
        var buf = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringJoiner"]([]);
        /** @type {?} */
        var c = Math.min(10, counts.length);
        buf.add('Total index entries comparisons performed: ' + Match._Debug_ElementProcessCount);
        buf.add('\nTotal index entries: ' + total);
        buf.add('\nTop  keys/values: ' + c);
        for (var i = 0; i < c; i++) {
            /** @type {?} */
            var kvc = counts[i];
            buf.add('     ' + kvc.key + '  = ' + kvc.value + ' : ' + kvc.count + ' entries');
            buf.add('\n');
        }
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["print"])(buf.toString());
        var e_6, _d, e_5, _c;
    };
    /**
     * @return {?}
     */
    Meta.prototype.toString = /**
     * @return {?}
     */
    function () {
        return 'Meta';
    };
    /**
     * @param {?} value
     * @return {?}
     */
    Meta.prototype.isNullMarker = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value) && value['markernull'];
    };
    /**
     * @param {?} testRuleName
     * @param {?} source
     * @return {?}
     */
    Meta.prototype.addTestUserRule = /**
     * @param {?} testRuleName
     * @param {?} source
     * @return {?}
     */
    function (testRuleName, source) {
        this._testRules.set(testRuleName, source);
    };
    Meta.KeyAny = '*';
    Meta.KeyDeclare = 'declare';
    Meta.KeyTrait = 'trait';
    Meta.LowRulePriority = -100000;
    Meta.SystemRulePriority = -200000;
    Meta.ClassRulePriority = -100000;
    Meta.TemplateRulePriority = 100000;
    Meta.EditorRulePriority = 200000;
    Meta.MaxKeyDatas = 64;
    Meta.NullMarker = { markernull: true };
    Meta.ScopeKey = 'scopeKey';
    Meta.DeclRule = 'declRule';
    /**
     *
     * PartialIndexing indexes each rule by a single (well chosen) key and evaluates other parts of
     * the selector on the index-filtered matches (generally this is a  win since may selectors are
     * not selective, resulting in huge rule vectors)
     *
     */
    Meta._UsePartialIndexing = true;
    Meta._DebugDoubleCheckMatches = false;
    Meta.PropertyMerger_DeclareList = null;
    Meta.PropertyMerger_Traits = null;
    Meta.PropertyMerger_List = null;
    Meta.Transformer_KeyPresent = null;
    return Meta;
}());
var KeyValueCount = /** @class */ (function () {
    function KeyValueCount(key, value, count) {
        this.key = key;
        this.value = value;
        this.count = count;
    }
    return KeyValueCount;
}());
/**
 * Store of policy information for particular properties -- most significantly, how
 * successive values of this property are to be *merged* during rule application.
 * (See Meta.registerPropertyMerger).  E.g. 'visible', 'trait', and 'valid' all have unique
 * merge policies.
 */
var  /**
 * Store of policy information for particular properties -- most significantly, how
 * successive values of this property are to be *merged* during rule application.
 * (See Meta.registerPropertyMerger).  E.g. 'visible', 'trait', and 'valid' all have unique
 * merge policies.
 */
PropertyManager = /** @class */ (function () {
    function PropertyManager(_name) {
        this._name = _name;
    }
    /**
     * @param {?} propertyName
     * @param {?} orig
     * @param {?} newValue
     * @param {?} isDeclare
     * @return {?}
     */
    PropertyManager.prototype.mergeProperty = /**
     * @param {?} propertyName
     * @param {?} orig
     * @param {?} newValue
     * @param {?} isDeclare
     * @return {?}
     */
    function (propertyName, orig, newValue, isDeclare) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(orig)) {
            return newValue;
        }
        if (newValue instanceof OverrideValue) {
            return (/** @type {?} */ (newValue)).value();
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._merger)) {
            // Perhaps should have a data-type-based merger registry?
            if (orig instanceof Map) {
                if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(newValue) && newValue instanceof Map) {
                    /** @type {?} */
                    var origClone = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].clone(orig);
                    newValue = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].mergeMapIntoMapWithObject(origClone, newValue, true);
                }
            }
            return newValue;
        }
        if (!(this._merger instanceof PropertyMergerDynamic) &&
            (orig instanceof DynamicPropertyValue || newValue instanceof DynamicPropertyValue)) {
            return new DeferredOperationChain(this._merger, orig, newValue);
        }
        return this._merger.merge(orig, newValue, isDeclare);
    };
    return PropertyManager;
}());
/**
 * Wrapper for a value that should, in rule application, override any previous value for its
 * property.  This can be used to override default property value merge policy, for instance
 * allowing the 'visible' property to be forced from false to true.
 */
var  /**
 * Wrapper for a value that should, in rule application, override any previous value for its
 * property.  This can be used to override default property value merge policy, for instance
 * allowing the 'visible' property to be forced from false to true.
 */
OverrideValue = /** @class */ (function () {
    function OverrideValue(_value) {
        this._value = _value;
    }
    /**
     * @return {?}
     */
    OverrideValue.prototype.value = /**
     * @return {?}
     */
    function () {
        return this._value === 'null' ? null : this._value;
    };
    /**
     * @return {?}
     */
    OverrideValue.prototype.toString = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._value) ? this._value.toString() + '!' : 'null' + '!';
    };
    return OverrideValue;
}());
/**
 * KeyData is the primary structure for representing information about context keys
 * (e.g. 'class', 'layout', 'operation', 'field', ...), including an index of rules
 * that match on particular values of that key (_ValueMatches).
 *
 * Note that every context key has a small integer ID (0-63) and these are uses in
 * (long) masks for certain rule matching operations.
 */
var  /**
 * KeyData is the primary structure for representing information about context keys
 * (e.g. 'class', 'layout', 'operation', 'field', ...), including an index of rules
 * that match on particular values of that key (_ValueMatches).
 *
 * Note that every context key has a small integer ID (0-63) and these are uses in
 * (long) masks for certain rule matching operations.
 */
KeyData = /** @class */ (function () {
    function KeyData(_key, _id) {
        this._key = _key;
        this._id = _id;
        this._isPropertyScope = false;
        this._ruleVecs = new typescript_collections__WEBPACK_IMPORTED_MODULE_2__["Dictionary"]();
        this._any = this.get(Meta.KeyAny);
    }
    /**
     * @return {?}
     */
    KeyData.prototype.maskValue = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["shiftLeft"])(1, this._id);
    };
    /**
     * @param {?} value
     * @return {?}
     */
    KeyData.prototype.get = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(value)) {
            value = Meta.NullMarker;
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._transformer)) {
            value = this._transformer.tranformForMatch(value);
        }
        /** @type {?} */
        var matches = this._ruleVecs.getValue(value);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(matches)) {
            matches = new ValueMatches(value);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value) && !_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].isFalse(value)) {
                matches._parent = this._any;
            }
            this._ruleVecs.setValue(value, matches);
        }
        return matches;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    KeyData.prototype.matchValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        var _this = this;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(value)) {
            /** @type {?} */
            var list = value;
            if (list.length === 1) {
                return this.get(list[0]);
            }
            /** @type {?} */
            var multi_1 = new MultiMatchValue();
            _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].forEachWithIndex(list, function (v, i) {
                multi_1.data.push(_this.get(v));
            });
            return multi_1;
        }
        else {
            return this.get(value);
        }
    };
    /**
     * @param {?} value
     * @param {?} id
     * @return {?}
     */
    KeyData.prototype.addEntry = /**
     * @param {?} value
     * @param {?} id
     * @return {?}
     */
    function (value, id) {
        /** @type {?} */
        var matches = this.get(value);
        /** @type {?} */
        var before = matches._arr;
        /** @type {?} */
        var after = Match.addInt(before, id);
        if (before !== after) {
            matches._arr = after;
        }
    };
    /**
     * @param {?} owner
     * @param {?} value
     * @return {?}
     */
    KeyData.prototype.lookup = /**
     * @param {?} owner
     * @param {?} value
     * @return {?}
     */
    function (owner, value) {
        var _this = this;
        /** @type {?} */
        var matches = this.get(value);
        if (!matches._read && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._observers)) {
            try {
                if (!matches._read) {
                    // notify
                    if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value)) {
                        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].forEachWithIndex(this._observers, function (v, i) {
                            v.notify(owner, _this._key, value);
                        });
                    }
                }
                matches._read = true;
            }
            finally {
            }
        }
        // check if parent has changed and need to union in parent data
        matches.checkParent();
        return matches._arr;
    };
    /**
     * @param {?} value
     * @param {?} parentValue
     * @return {?}
     */
    KeyData.prototype.setParent = /**
     * @param {?} value
     * @param {?} parentValue
     * @return {?}
     */
    function (value, parentValue) {
        /** @type {?} */
        var parent = this.get(parentValue);
        /** @type {?} */
        var child = this.get(value);
        child._parent = parent;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    KeyData.prototype.parent = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        /** @type {?} */
        var child = this.get(value);
        return child._parent._value;
    };
    /**
     * @param {?} o
     * @return {?}
     */
    KeyData.prototype.addObserver = /**
     * @param {?} o
     * @return {?}
     */
    function (o) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._observers)) {
            this._observers = new Array();
        }
        this._observers.push(o);
    };
    Object.defineProperty(KeyData.prototype, "isPropertyScope", {
        // If this key defines a scope for properties (e.g. field, class, action)
        // this this returns the name of the selector key for those properties
        // (e.g. field_p, class_p)
        get: /**
         * @return {?}
         */
        function () {
            return this._isPropertyScope;
        },
        set: /**
         * @param {?} yn
         * @return {?}
         */
        function (yn) {
            this._isPropertyScope = yn;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(KeyData.prototype, "ruleVecs", {
        get: /**
         * @return {?}
         */
        function () {
            return this._ruleVecs;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(KeyData.prototype, "key", {
        get: /**
         * @return {?}
         */
        function () {
            return this._key;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(KeyData.prototype, "id", {
        get: /**
         * @return {?}
         */
        function () {
            return this._id;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(KeyData.prototype, "observers", {
        get: /**
         * @return {?}
         */
        function () {
            return this._observers;
        },
        enumerable: true,
        configurable: true
    });
    return KeyData;
}());
/**
 * Store of policy information for particular properties -- most significantly, how
 * successive values of this property are to be *merged* during rule application.
 * (See Meta.registerPropertyMerger).  E.g. 'visible', 'trait', and 'valid' all have unique
 * merge policies.
 */
var  /**
 * Store of policy information for particular properties -- most significantly, how
 * successive values of this property are to be *merged* during rule application.
 * (See Meta.registerPropertyMerger).  E.g. 'visible', 'trait', and 'valid' all have unique
 * merge policies.
 */
PropertyMap = /** @class */ (function () {
    function PropertyMap(entries) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(entries)) {
            this._map = new Map(entries);
        }
        else {
            this._map = new Map();
        }
    }
    /**
     * @param {?} key
     * @return {?}
     */
    PropertyMap.prototype.get = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return this._map.get(key);
    };
    /**
     * @return {?}
     */
    PropertyMap.prototype.keys = /**
     * @return {?}
     */
    function () {
        return this._map.keys();
    };
    /**
     * @return {?}
     */
    PropertyMap.prototype.values = /**
     * @return {?}
     */
    function () {
        return this._map.values();
    };
    /**
     * @return {?}
     */
    PropertyMap.prototype.clear = /**
     * @return {?}
     */
    function () {
        this._map.clear();
    };
    /**
     * @param {?} key
     * @param {?=} value
     * @return {?}
     */
    PropertyMap.prototype.set = /**
     * @param {?} key
     * @param {?=} value
     * @return {?}
     */
    function (key, value) {
        return this._map.set(key, value);
    };
    /**
     * @param {?} key
     * @return {?}
     */
    PropertyMap.prototype.delete = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return this._map.delete(key);
    };
    /**
     * @param {?} callbackfn
     * @param {?=} thisArg
     * @return {?}
     */
    PropertyMap.prototype.forEach = /**
     * @param {?} callbackfn
     * @param {?=} thisArg
     * @return {?}
     */
    function (callbackfn, thisArg) {
        this._map.forEach(callbackfn);
    };
    /**
     * @param {?} key
     * @return {?}
     */
    PropertyMap.prototype.has = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return this._map.has(key);
    };
    /**
     * @return {?}
     */
    PropertyMap.prototype[Symbol.iterator] = /**
     * @return {?}
     */
    function () {
        return this._map[Symbol.iterator]();
    };
    /**
     * @return {?}
     */
    PropertyMap.prototype.entries = /**
     * @return {?}
     */
    function () {
        return this._map.entries();
    };
    Object.defineProperty(PropertyMap.prototype, "size", {
        get: /**
         * @return {?}
         */
        function () {
            return this._map.size;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    PropertyMap.prototype.awakeProperties = /**
     * @return {?}
     */
    function () {
        var _this = this;
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].iterable(this).forEach(function (value, key) {
            if (isPropertyMapAwaking(value)) {
                /** @type {?} */
                var newValue = value.awakeForPropertyMap(_this);
                if (newValue !== value) {
                    _this.set(key, newValue);
                }
            }
        });
    };
    /**
     * @param {?} key
     * @return {?}
     */
    PropertyMap.prototype.addContextKey = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._contextPropertiesUpdated)) {
            this._contextPropertiesUpdated = new Array();
        }
        this._contextPropertiesUpdated.push(key);
    };
    Object.defineProperty(PropertyMap.prototype, "contextKeysUpdated", {
        get: /**
         * @return {?}
         */
        function () {
            return this._contextPropertiesUpdated;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    PropertyMap.prototype.toString = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var sj = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringJoiner"](['PropertyMap:']);
        sj.add(this.size + ',');
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].iterable(this).forEach(function (value, key) {
            if (isPropertyMapAwaking(value)) {
                /** @type {?} */
                var newValue = value.awakeForPropertyMap(_this);
                if (newValue !== value) {
                    sj.add(key + ':' + value);
                    sj.add(', ');
                }
            }
        });
        return sj.toString();
    };
    return PropertyMap;
}());
/**
 * @abstract
 */
var  /**
 * @abstract
 */
PropertyMergerDynamic = /** @class */ (function () {
    function PropertyMergerDynamic() {
    }
    /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    PropertyMergerDynamic.prototype.merge = /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    function (orig, override, isDeclare) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["unimplemented"])();
    };
    /**
     * @return {?}
     */
    PropertyMergerDynamic.prototype.toString = /**
     * @return {?}
     */
    function () {
        return 'PropertyMergerDynamic';
    };
    return PropertyMergerDynamic;
}());
var PropertyMerger_Overwrite = /** @class */ (function () {
    function PropertyMerger_Overwrite() {
    }
    /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    PropertyMerger_Overwrite.prototype.merge = /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    function (orig, override, isDeclare) {
        return override;
    };
    /**
     * @return {?}
     */
    PropertyMerger_Overwrite.prototype.toString = /**
     * @return {?}
     */
    function () {
        return 'OVERWRITE';
    };
    return PropertyMerger_Overwrite;
}());
/**
 * PropertyMerger for properties the should be unioned as lists
 */
var  /**
 * PropertyMerger for properties the should be unioned as lists
 */
PropertyMerger_List = /** @class */ (function () {
    function PropertyMerger_List() {
    }
    /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    PropertyMerger_List.prototype.merge = /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    function (orig, override, isDeclare) {
        if (!(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(orig)) && !(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(override)) && Meta.objectEquals(orig, override)) {
            return orig;
        }
        /** @type {?} */
        var l1 = Meta.toList(orig);
        /** @type {?} */
        var l2 = Meta.toList(override);
        /** @type {?} */
        var result = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].clone(l1);
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].addElementsIfAbsent(result, l2);
        return result;
    };
    return PropertyMerger_List;
}());
/**
 * PropertyMerger for properties the should override normally, but return lists when
 * in declare mode (e.g. 'class', 'field', 'layout', ...)
 */
var  /**
 * PropertyMerger for properties the should override normally, but return lists when
 * in declare mode (e.g. 'class', 'field', 'layout', ...)
 */
PropertyMergerDeclareList = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(PropertyMergerDeclareList, _super);
    function PropertyMergerDeclareList() {
        return _super.call(this) || this;
    }
    /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    PropertyMergerDeclareList.prototype.merge = /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    function (orig, override, isDeclare) {
        if (!isDeclare) {
            return override;
        }
        if (!(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(orig)) && !(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(override)) && Meta.objectEquals(orig, override)) {
            return orig;
        }
        /** @type {?} */
        var result = [];
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].addElementsIfAbsent(result, Meta.toList(orig));
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].addElementsIfAbsent(result, Meta.toList(override));
        return result;
    };
    /**
     * @return {?}
     */
    PropertyMergerDeclareList.prototype.toString = /**
     * @return {?}
     */
    function () {
        return 'PropertyMergerDeclareList';
    };
    return PropertyMergerDeclareList;
}(PropertyMergerDynamic));
/**
 * PropertyMerger for the 'trait' property.  Generally, traits are unioned, except for traits
 * from the same 'traitGroup', which override (i.e. only one trait from each traitGroup should
 * survive).
 */
var  /**
 * PropertyMerger for the 'trait' property.  Generally, traits are unioned, except for traits
 * from the same 'traitGroup', which override (i.e. only one trait from each traitGroup should
 * survive).
 */
PropertyMergerDeclareListForTrait = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(PropertyMergerDeclareListForTrait, _super);
    function PropertyMergerDeclareListForTrait() {
        return _super.call(this) || this;
    }
    /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    PropertyMergerDeclareListForTrait.prototype.merge = /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    function (orig, override, isDeclare) {
        if (isDeclare) {
            return _super.prototype.merge.call(this, orig, override, isDeclare);
        }
        // if we're override a single element with itself, don't go List...
        if (!Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(orig) && !Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(override) && Meta.objectEquals(orig, override)) {
            return orig;
        }
        /** @type {?} */
        var origL = Meta.toList(orig);
        /** @type {?} */
        var overrideL = Meta.toList(override);
        /** @type {?} */
        var result = [];
        try {
            for (var origL_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(origL), origL_1_1 = origL_1.next(); !origL_1_1.done; origL_1_1 = origL_1.next()) {
                var trait = origL_1_1.value;
                if (trait instanceof OverrideValue) {
                    trait = (/** @type {?} */ (trait)).value();
                }
                /** @type {?} */
                var canAdd = true;
                /** @type {?} */
                var group = this._meta.groupForTrait(trait);
                if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(group)) {
                    try {
                        for (var overrideL_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(overrideL), overrideL_1_1 = overrideL_1.next(); !overrideL_1_1.done; overrideL_1_1 = overrideL_1.next()) {
                            var overrideTrait = overrideL_1_1.value;
                            if (overrideTrait instanceof OverrideValue) {
                                overrideTrait = (/** @type {?} */ (overrideTrait)).value();
                            }
                            if (group === this._meta.groupForTrait(overrideTrait)) {
                                canAdd = false;
                                break;
                            }
                        }
                    }
                    catch (e_7_1) { e_7 = { error: e_7_1 }; }
                    finally {
                        try {
                            if (overrideL_1_1 && !overrideL_1_1.done && (_a = overrideL_1.return)) _a.call(overrideL_1);
                        }
                        finally { if (e_7) throw e_7.error; }
                    }
                }
                if (canAdd) {
                    result.push(trait);
                }
            }
        }
        catch (e_8_1) { e_8 = { error: e_8_1 }; }
        finally {
            try {
                if (origL_1_1 && !origL_1_1.done && (_b = origL_1.return)) _b.call(origL_1);
            }
            finally { if (e_8) throw e_8.error; }
        }
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].addElementsIfAbsent(result, overrideL);
        return result;
        var e_8, _b, e_7, _a;
    };
    /**
     * @return {?}
     */
    PropertyMergerDeclareListForTrait.prototype.toString = /**
     * @return {?}
     */
    function () {
        return 'PropertyMergerDeclareListForTrait';
    };
    return PropertyMergerDeclareListForTrait;
}(PropertyMergerDeclareList));
/**
 * PropertyMerger implementing AND semantics -- i.e. false trumps true.
 * (Used, for instance, for the properties 'visible' and 'editable')
 */
var  /**
 * PropertyMerger implementing AND semantics -- i.e. false trumps true.
 * (Used, for instance, for the properties 'visible' and 'editable')
 */
PropertyMerger_And = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(PropertyMerger_And, _super);
    function PropertyMerger_And() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isPropMergerIsChainingMark = true;
        return _this;
    }
    /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    PropertyMerger_And.prototype.merge = /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    function (orig, override, isDeclare) {
        // null will reset (so that it can be overridden to true subsequently
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(override)) {
            return null;
        }
        // If we can evaluate statically, do it now
        if ((Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBoolean"])(orig) && !(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(orig))) ||
            (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBoolean"])(override) && !(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(override)))) {
            return false;
        }
        // ANDing with true is a noop -- return new value
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBoolean"])(orig) && _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(orig)) {
            return (override instanceof DynamicPropertyValue) ? override
                : _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(override);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBoolean"])(override) && _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(override)) {
            return (orig instanceof DynamicPropertyValue) ? orig : _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(override);
        }
        // if one of our values is dynamic, defer
        if ((orig instanceof DynamicPropertyValue || override instanceof DynamicPropertyValue)) {
            return new DeferredOperationChain(this, orig, override);
        }
        return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(orig) && _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(override);
    };
    /**
     * @return {?}
     */
    PropertyMerger_And.prototype.toString = /**
     * @return {?}
     */
    function () {
        return 'AND';
    };
    return PropertyMerger_And;
}(PropertyMergerDynamic));
var PropertyMerger_Valid = /** @class */ (function () {
    function PropertyMerger_Valid() {
        this.isPropMergerIsChainingMark = true;
    }
    /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    PropertyMerger_Valid.prototype.merge = /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    function (orig, override, isDeclare) {
        /**
                 *
                 *
                 return (isString(override) || ( isBoolean(override) &&
                 !(BooleanWrapper.boleanValue(override)))) ? override : orig;
                 */
        // if first is error (error message or false, it wins), otherwise second
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isString"])(override) || (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBoolean"])(override) && _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].isFalse(override)))
            ? override : orig;
    };
    /**
     * @return {?}
     */
    PropertyMerger_Valid.prototype.toString = /**
     * @return {?}
     */
    function () {
        return 'VALIDATE';
    };
    return PropertyMerger_Valid;
}());
/**
 * A group of rules originating from a common source.
 * All rules must be added to the rule base as part of a RuleSet.
 */
var  /**
 * A group of rules originating from a common source.
 * All rules must be added to the rule base as part of a RuleSet.
 */
RuleSet = /** @class */ (function () {
    function RuleSet(_meta) {
        this._meta = _meta;
        this._start = 0;
        this._end = 0;
        this._editableStart = -1;
        this._rank = 0;
    }
    /**
     * @return {?}
     */
    RuleSet.prototype.disableRules = /**
     * @return {?}
     */
    function () {
        for (var i = this._start; i < this._end; i++) {
            this._meta._rules[i].disable();
        }
        this._meta.clearCaches();
    };
    Object.defineProperty(RuleSet.prototype, "filePath", {
        get: /**
         * @return {?}
         */
        function () {
            return this._filePath;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} editableOnly
     * @return {?}
     */
    RuleSet.prototype.rules = /**
     * @param {?} editableOnly
     * @return {?}
     */
    function (editableOnly) {
        /** @type {?} */
        var result = [];
        /** @type {?} */
        var i = (editableOnly) ? (this._editableStart === -1 ? this._end : this._editableStart)
            : this._start;
        for (; i < this._end; i++) {
            /** @type {?} */
            var r = this._meta._rules[i];
            if (!r.disabled() && !this._meta.isTraitExportRule(r)) {
                result.push(r);
            }
        }
        return result;
    };
    /**
     * @return {?}
     */
    RuleSet.prototype.startRank = /**
     * @return {?}
     */
    function () {
        return (this._start < this._meta._ruleCount)
            ? this._meta._rules[this._start].rank
            : this._rank - (this._end - this._start);
    };
    /**
     * @return {?}
     */
    RuleSet.prototype.allocateNextRuleEntry = /**
     * @return {?}
     */
    function () {
        return (this._meta._ruleCount > this._end) ? this._meta._ruleCount++ : this._end++;
    };
    Object.defineProperty(RuleSet.prototype, "start", {
        get: /**
         * @return {?}
         */
        function () {
            return this._start;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RuleSet.prototype, "end", {
        get: /**
         * @return {?}
         */
        function () {
            return this._end;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RuleSet.prototype, "editableStart", {
        get: /**
         * @return {?}
         */
        function () {
            return this._editableStart;
        },
        enumerable: true,
        configurable: true
    });
    return RuleSet;
}());
/**
 *
 * Uniquely represents a particular key/value in the Meta scope, and indexes all rules
 * with (indexed) Selectors matching that key/value.
 * ValueMatches also models *inheritance* by allowing one key/value to have another
 * as its 'parent' and thereby match on any Selector (and rule) that its parent would.
 *
 * For instance, this enables a rule on class=Number to apply to class=Integer and
 * class=BigDecimal, and one on class=* to apply to any.
 *
 * The utility of 'parent' is not limited, of course, to the key 'class': all keys
 * take advantage of the parent '*' to support unqualified matches on that key, and
 * keys like 'operation' define a value hierarchy ( 'inspect' -> {'view', 'search'},
 * 'search' -> {'keywordSearch', 'textSearch'})
 */
var  /**
 *
 * Uniquely represents a particular key/value in the Meta scope, and indexes all rules
 * with (indexed) Selectors matching that key/value.
 * ValueMatches also models *inheritance* by allowing one key/value to have another
 * as its 'parent' and thereby match on any Selector (and rule) that its parent would.
 *
 * For instance, this enables a rule on class=Number to apply to class=Integer and
 * class=BigDecimal, and one on class=* to apply to any.
 *
 * The utility of 'parent' is not limited, of course, to the key 'class': all keys
 * take advantage of the parent '*' to support unqualified matches on that key, and
 * keys like 'operation' define a value hierarchy ( 'inspect' -> {'view', 'search'},
 * 'search' -> {'keywordSearch', 'textSearch'})
 */
ValueMatches = /** @class */ (function () {
    function ValueMatches(value) {
        this._read = false;
        this._parentSize = 0;
        this._value = value;
    }
    /**
     * @return {?}
     */
    ValueMatches.prototype.checkParent = /**
     * @return {?}
     */
    function () {
        // todo: performance: keep a rule set version # and only do this when the rule set has
        // reloaded
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._parent)) {
            this._parent.checkParent();
            /** @type {?} */
            var parentArr = this._parent._arr;
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(parentArr) && parentArr[0] !== this._parentSize) {
                this._arr = Match.union(this._arr, parentArr);
                this._parentSize = parentArr[0];
            }
        }
    };
    /**
     * @param {?} other
     * @return {?}
     */
    ValueMatches.prototype.matches = /**
     * @param {?} other
     * @return {?}
     */
    function (other) {
        if (!(other instanceof ValueMatches)) {
            return other.matches(this);
        }
        // we recurse up parent chain to do superclass matches
        return (other === this) || (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._parent) && this._parent.matches(other));
    };
    /**
     * @param {?} other
     * @return {?}
     */
    ValueMatches.prototype.updateByAdding = /**
     * @param {?} other
     * @return {?}
     */
    function (other) {
        /** @type {?} */
        var multi = new MultiMatchValue();
        multi.data.push(this);
        return multi.updateByAdding(other);
    };
    return ValueMatches;
}());
var MultiMatchValue = /** @class */ (function () {
    function MultiMatchValue() {
        this.data = [];
    }
    /**
     * @param {?} other
     * @return {?}
     */
    MultiMatchValue.prototype.matches = /**
     * @param {?} other
     * @return {?}
     */
    function (other) {
        if (other instanceof MultiMatchValue) {
            // list / list comparison: any combo can match
            for (var i = 0; i < this.data.length; i++) {
                if (other.matches(this.data[i])) {
                    return true;
                }
            }
        }
        else {
            // single value against array: one must match
            for (var i = 0; i < this.data.length; i++) {
                if (this.data[i].matches(other)) {
                    return true;
                }
            }
        }
        return false;
    };
    /**
     * @param {?} other
     * @return {?}
     */
    MultiMatchValue.prototype.updateByAdding = /**
     * @param {?} other
     * @return {?}
     */
    function (other) {
        if (other instanceof MultiMatchValue) {
            /** @type {?} */
            var matchValue = /** @type {?} */ (other);
            _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].addAll(this.data, matchValue.data);
        }
        else {
            this.data.push(other);
        }
        return this;
    };
    return MultiMatchValue;
}());
var KeyValueTransformer_KeyPresent = /** @class */ (function () {
    function KeyValueTransformer_KeyPresent() {
    }
    /**
     * @param {?} o
     * @return {?}
     */
    KeyValueTransformer_KeyPresent.prototype.tranformForMatch = /**
     * @param {?} o
     * @return {?}
     */
    function (o) {
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(o) && !(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].isFalse(o))) ? true : false;
    };
    return KeyValueTransformer_KeyPresent;
}());
/**
 * @param {?} arg
 * @return {?}
 */
function isPropertyMapAwaking(arg) {
    return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(arg) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(arg.propertyAwaking);
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @license
 * Copyright 2017 SAP Ariba
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Based on original work: MetaUI: Craig Federighi (2008)
 *
 */
var ItemProperties = /** @class */ (function () {
    function ItemProperties(name, properties, hidden) {
        this.name = name;
        this.properties = properties;
        this.hidden = hidden;
    }
    return ItemProperties;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * ObjectMeta is resposible for setting up everything related to class, field, actions
 *
 */
var ObjectMeta = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(ObjectMeta, _super);
    // todo: implement new decorators in typescript if we want ot annotate _annotationProcessors
    function ObjectMeta() {
        var _this = _super.call(this) || this;
        _this._traitToGroupGeneration = -1;
        _this.registerKeyInitObserver(ObjectMeta.KeyClass, new IntrospectionMetaProvider());
        _this.registerKeyInitObserver(ObjectMeta.KeyType, new FieldTypeIntrospectionMetaProvider());
        // These keys define scopes for their properties
        // These keys define scopes for their properties
        _this.defineKeyAsPropertyScope(ObjectMeta.KeyField);
        _this.defineKeyAsPropertyScope(ObjectMeta.KeyAction);
        _this.defineKeyAsPropertyScope(ObjectMeta.KeyActionCategory);
        _this.defineKeyAsPropertyScope(ObjectMeta.KeyClass);
        // policies for chaining certain well known properties
        // policies for chaining certain well known properties
        _this.registerPropertyMerger(ObjectMeta.KeyVisible, new PropertyMerger_And());
        _this.registerPropertyMerger(ObjectMeta.KeyEditable, new PropertyMerger_And());
        _this.registerPropertyMerger(ObjectMeta.KeyValid, new OMPropertyMerger_Valid());
        _this.registerPropertyMerger(ObjectMeta.KeyClass, Meta.PropertyMerger_DeclareList);
        _this.registerPropertyMerger(ObjectMeta.KeyField, Meta.PropertyMerger_DeclareList);
        _this.registerPropertyMerger(ObjectMeta.KeyAction, Meta.PropertyMerger_DeclareList);
        _this.registerPropertyMerger(ObjectMeta.KeyActionCategory, Meta.PropertyMerger_DeclareList);
        _this.registerPropertyMerger(ObjectMeta.KeyTraitGroup, Meta.PropertyMerger_DeclareList);
        _this.mirrorPropertyToContext(ObjectMeta.KeyClass, ObjectMeta.KeyClass);
        _this.mirrorPropertyToContext(ObjectMeta.KeyType, ObjectMeta.KeyType);
        _this.mirrorPropertyToContext(ObjectMeta.KeyElementType, ObjectMeta.KeyElementType);
        _this.mirrorPropertyToContext(ObjectMeta.KeyTrait, Meta.KeyTrait);
        _this.mirrorPropertyToContext(ObjectMeta.KeyEditable, ObjectMeta.KeyEditable);
        _this.registerValueTransformerForKey(ObjectMeta.KeyObject, Meta.Transformer_KeyPresent);
        // todo: try to support decorators and how we can put meta data into object @Traits,
        // @Properties, @Action
        return _this;
    }
    /**
     * @param {?} context
     * @return {?}
     */
    ObjectMeta.validationError = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        /** @type {?} */
        var error = context.propertyForKey(ObjectMeta.KeyValid);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(error)) {
            return null;
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBoolean"])(error)) {
            return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(error) ? null : 'Invalid entry';
        }
        return error.toString();
    };
    /*
     *  Provide subclass context with conveniences for getting object field values
     */
    /**
     * @return {?}
     */
    ObjectMeta.prototype.newContext = /**
     * @return {?}
     */
    function () {
        return new ObjectMetaContext(this, false);
    };
    // Use a special map subsclass for our Properties
    /**
     * @return {?}
     */
    ObjectMeta.prototype.newPropertiesMap = /**
     * @return {?}
     */
    function () {
        return new ObjectMetaPropertyMap();
    };
    /**
     * @param {?} context
     * @param {?} key
     * @return {?}
     */
    ObjectMeta.prototype.itemNames = /**
     * @param {?} context
     * @param {?} key
     * @return {?}
     */
    function (context, key) {
        context.push();
        context.set(ObjectMeta.KeyDeclare, key);
        /** @type {?} */
        var itemsNames = context.listPropertyForKey(key);
        context.pop();
        return itemsNames;
    };
    /**
     * @param {?} context
     * @param {?} key
     * @param {?} filterHidden
     * @return {?}
     */
    ObjectMeta.prototype.itemProperties = /**
     * @param {?} context
     * @param {?} key
     * @param {?} filterHidden
     * @return {?}
     */
    function (context, key, filterHidden) {
        return this.itemPropertiesForNames(context, key, this.itemNames(context, key), filterHidden);
    };
    /**
     * @param {?} context
     * @param {?} key
     * @param {?} itemNames
     * @param {?} filterHidden
     * @return {?}
     */
    ObjectMeta.prototype.itemPropertiesForNames = /**
     * @param {?} context
     * @param {?} key
     * @param {?} itemNames
     * @param {?} filterHidden
     * @return {?}
     */
    function (context, key, itemNames, filterHidden) {
        /** @type {?} */
        var result = [];
        try {
            for (var itemNames_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(itemNames), itemNames_1_1 = itemNames_1.next(); !itemNames_1_1.done; itemNames_1_1 = itemNames_1.next()) {
                var itemName = itemNames_1_1.value;
                context.push();
                context.set(key, itemName);
                /** @type {?} */
                var isVisible = context.allProperties().get(ObjectMeta.KeyVisible);
                /** @type {?} */
                var visible = context.staticallyResolveValue(isVisible);
                /** @type {?} */
                var isHidden = (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(visible)) || _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].isFalse(visible);
                if (!isHidden || !filterHidden) {
                    result.push(new ItemProperties(itemName, context.allProperties(), isHidden));
                }
                context.pop();
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (itemNames_1_1 && !itemNames_1_1.done && (_a = itemNames_1.return)) _a.call(itemNames_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return result;
        var e_1, _a;
    };
    /**
     * @param {?} trait
     * @return {?}
     */
    ObjectMeta.prototype.groupForTrait = /**
     * @param {?} trait
     * @return {?}
     */
    function (trait) {
        if (this._traitToGroup == null || this._traitToGroupGeneration < this.ruleSetGeneration) {
            this._traitToGroupGeneration = this.ruleSetGeneration;
            this._traitToGroup = new Map();
            /** @type {?} */
            var context = this.newContext();
            try {
                for (var _a = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(this.itemNames(context, ObjectMeta.KeyTraitGroup)), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var group = _b.value;
                    context.push();
                    context.set(ObjectMeta.KeyTraitGroup, group);
                    try {
                        for (var _c = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(this.itemNames(context, ObjectMeta.KeyTrait)), _d = _c.next(); !_d.done; _d = _c.next()) {
                            var name_1 = _d.value;
                            this._traitToGroup.set(name_1, group);
                        }
                    }
                    catch (e_2_1) { e_2 = { error: e_2_1 }; }
                    finally {
                        try {
                            if (_d && !_d.done && (_e = _c.return)) _e.call(_c);
                        }
                        finally { if (e_2) throw e_2.error; }
                    }
                    context.pop();
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_f = _a.return)) _f.call(_a);
                }
                finally { if (e_3) throw e_3.error; }
            }
        }
        return this._traitToGroup.get(trait);
        var e_3, _f, e_2, _e;
    };
    Object.defineProperty(ObjectMeta.prototype, "injector", {
        get: /**
         * @return {?}
         */
        function () {
            return this._injector;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._injector = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ObjectMeta.prototype, "componentRegistry", {
        get: /**
         * @return {?}
         */
        function () {
            return this._componentRegistry;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._componentRegistry = value;
        },
        enumerable: true,
        configurable: true
    });
    ObjectMeta.KeyClass = 'class';
    ObjectMeta.KeyField = 'field';
    ObjectMeta.KeyAction = 'action';
    ObjectMeta.KeyActionCategory = 'actionCategory';
    ObjectMeta.KeyObject = 'object';
    ObjectMeta.KeyValue = 'value';
    ObjectMeta.KeyType = 'type';
    ObjectMeta.KeyElementType = 'elementType';
    ObjectMeta.KeyTraitGroup = 'traitGroup';
    ObjectMeta.KeyVisible = 'visible';
    ObjectMeta.KeyEditable = 'editable';
    ObjectMeta.KeyValid = 'valid';
    ObjectMeta.KeyRank = 'rank';
    ObjectMeta.DefaultActionCategory = 'General';
    ObjectMeta._FieldPathNullMarker = new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["FieldPath"]('null');
    return ObjectMeta;
}(Meta));
/**
 * When a class is pushed either directly or indirectly (using deffered rules) we receive a
 * ValueQueriedObserver notification in order to register  types for the object. Trying to achieve
 * at least some kind of introspection we need to implement $proto method inside the object that
 * instantiates all types which we can query.
 *
 * Ideally we want to use decorators when dealing with client side typescript class. but for cases
 * where Rules will be loaded using Rest API along with the object instance its impossible.
 */
var  /**
 * When a class is pushed either directly or indirectly (using deffered rules) we receive a
 * ValueQueriedObserver notification in order to register  types for the object. Trying to achieve
 * at least some kind of introspection we need to implement $proto method inside the object that
 * instantiates all types which we can query.
 *
 * Ideally we want to use decorators when dealing with client side typescript class. but for cases
 * where Rules will be loaded using Rest API along with the object instance its impossible.
 */
IntrospectionMetaProvider = /** @class */ (function () {
    function IntrospectionMetaProvider() {
    }
    /**
     * @param {?} meta
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    IntrospectionMetaProvider.prototype.notify = /**
     * @param {?} meta
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (meta, key, value) {
        this._meta = meta;
        /** @type {?} */
        var myObject;
        /** @type {?} */
        var componentRegistry = (/** @type {?} */ (this._meta)).componentRegistry;
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(componentRegistry), 'Component registry is not initialized');
        /** @type {?} */
        var clazz = null;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isString"])(value) && (clazz = componentRegistry.nameToType.get(value))
            && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(clazz)) {
            myObject = new clazz();
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(clazz)) {
            return;
        }
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Meta.className(myObject) === value, 'Trying to process and register a class that does not exists on Context');
        this.registerRulesForClass(myObject, value);
    };
    /**
     * @param {?} object
     * @param {?} className
     * @return {?}
     */
    IntrospectionMetaProvider.prototype.registerRulesForClass = /**
     * @param {?} object
     * @param {?} className
     * @return {?}
     */
    function (object, className$$1) {
        this._meta.keyData(ObjectMeta.KeyClass).setParent(className$$1, 'Object');
        this._meta.beginRuleSet(className$$1);
        try {
            /** @type {?} */
            var selectors = [new Selector(ObjectMeta.KeyClass, className$$1)];
            /** @type {?} */
            var propertyMap = this._meta.newPropertiesMap();
            selectors[0].isDecl = true;
            /** @type {?} */
            var rule = new Rule(selectors, propertyMap, ObjectMeta.ClassRulePriority);
            this._meta.addRule(rule);
            this.registerRulesForFields(object, className$$1);
        }
        finally {
            this._meta.endRuleSet();
        }
    };
    /**
     * @param {?} object
     * @param {?} className
     * @return {?}
     */
    IntrospectionMetaProvider.prototype.registerRulesForFields = /**
     * @param {?} object
     * @param {?} className
     * @return {?}
     */
    function (object, className$$1) {
        // todo: Can we somehow utilize decorators? Maybe for local typescript defined object, but
        // not objects loaded as json from rest API
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(object['$proto']), 'Cannot register fields without a $proto method that will expose all the fields');
        /** @type {?} */
        var instance = object['$proto']();
        /** @type {?} */
        var fieldNames = Object.keys(instance);
        /** @type {?} */
        var rank = 0;
        try {
            for (var fieldNames_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(fieldNames), fieldNames_1_1 = fieldNames_1.next(); !fieldNames_1_1.done; fieldNames_1_1 = fieldNames_1.next()) {
                var name_2 = fieldNames_1_1.value;
                /** @type {?} */
                var type = instance[name_2].constructor.name;
                /** @type {?} */
                var properties = new Map();
                properties.set(ObjectMeta.KeyField, name_2);
                properties.set(ObjectMeta.KeyType, type);
                properties.set(ObjectMeta.KeyVisible, true);
                if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(instance[name_2])) {
                    Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(instance[name_2].length > 0, ' Cannot register type[array] and its type without properly initialized ' +
                        'prototype');
                    /** @type {?} */
                    var item = instance[name_2][0];
                    /** @type {?} */
                    var collectionElementType = item.constructor.name;
                    properties.set(ObjectMeta.KeyElementType, collectionElementType);
                }
                /** @type {?} */
                var selectorList = [
                    new Selector(ObjectMeta.KeyClass, className$$1),
                    new Selector(ObjectMeta.KeyField, name_2),
                ];
                selectorList[1].isDecl = true;
                properties.set(ObjectMeta.KeyRank, (rank++ + 1) * 10);
                /** @type {?} */
                var rule = new Rule(selectorList, properties, ObjectMeta.ClassRulePriority);
                this._meta.addRule(rule);
            }
        }
        catch (e_4_1) { e_4 = { error: e_4_1 }; }
        finally {
            try {
                if (fieldNames_1_1 && !fieldNames_1_1.done && (_a = fieldNames_1.return)) _a.call(fieldNames_1);
            }
            finally { if (e_4) throw e_4.error; }
        }
        var e_4, _a;
    };
    return IntrospectionMetaProvider;
}());
/**
 * Registers specials types that we are read during introspections
 */
var  /**
 * Registers specials types that we are read during introspections
 */
FieldTypeIntrospectionMetaProvider = /** @class */ (function () {
    function FieldTypeIntrospectionMetaProvider() {
    }
    /**
     * @param {?} meta
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    FieldTypeIntrospectionMetaProvider.prototype.notify = /**
     * @param {?} meta
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (meta, key, value) {
        // print('FieldTypeIntrospectionMetaProvider notified of first use of field:  ' , value);
    };
    return FieldTypeIntrospectionMetaProvider;
}());
var ObjectMetaPropertyMap = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(ObjectMetaPropertyMap, _super);
    function ObjectMetaPropertyMap() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(ObjectMetaPropertyMap.prototype, "fieldPath", {
        get: /**
         * @return {?}
         */
        function () {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._fieldPath)) {
                /** @type {?} */
                var value = this.get(ObjectMeta.KeyValue);
                /** @type {?} */
                var fieldName = this.get(ObjectMeta.KeyField);
                this._fieldPath = (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(fieldName) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(value))
                    ? new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["FieldPath"](fieldName)
                    : ObjectMeta._FieldPathNullMarker;
            }
            /** @type {?} */
            var isNullPath = this._fieldPath === ObjectMeta._FieldPathNullMarker;
            return isNullPath ? null : this._fieldPath;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} value
     * @return {?}
     */
    ObjectMetaPropertyMap.prototype.isFieldNullMarker = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value) && value.path === 'null';
    };
    return ObjectMetaPropertyMap;
}(PropertyMap));
var OMPropertyMerger_Valid = /** @class */ (function () {
    function OMPropertyMerger_Valid() {
        this.isPropMergerIsChainingMark = true;
    }
    /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    OMPropertyMerger_Valid.prototype.merge = /**
     * @param {?} orig
     * @param {?} override
     * @param {?} isDeclare
     * @return {?}
     */
    function (orig, override, isDeclare) {
        // if first is error (error message or false, it wins), otherwise second
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isString"])(override) || (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBoolean"])(override) && _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].isFalse(override))) ? override : orig;
    };
    /**
     * @return {?}
     */
    OMPropertyMerger_Valid.prototype.toString = /**
     * @return {?}
     */
    function () {
        return 'VALIDATE';
    };
    return OMPropertyMerger_Valid;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 *  This is generated file. Do not edit !!
 *
 * \@formatter:off
 *
  @type {?} */
var SystemRules = {
    oss: [
        {
            '_selectors': [
                {
                    '_key': 'object',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'class': {
                    't': 'Expr',
                    'v': 'Meta.className(object)'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'object',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'declare',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'class': {
                    't': 'Expr',
                    'v': 'Meta.className(object)'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': 'search',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'class': {
                    't': 'Expr',
                    'v': 'values.get("class")'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'edit',
                        'create',
                        'search'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'edit',
                        'create',
                        'search'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'editing': true
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'edit',
                        'create',
                        'search'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'edit',
                        'create',
                        'search'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'editing': true
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'edit',
                        'create',
                        'search'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'edit',
                        'create',
                        'search'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'editing': true
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'edit',
                        'create',
                        'search'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'edit',
                        'create',
                        'search'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'editing': true
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'edit',
                        'create',
                        'search'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'view',
                        'list'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'view',
                        'list'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'editing': false
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'view',
                        'list'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'view',
                        'list'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'editing': false
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'view',
                        'list'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'view',
                        'list'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'editing': false
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'view',
                        'list'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'view',
                        'list'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'editing': false
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'operation',
                    '_value': [
                        'view',
                        'list'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': {
                    't': 'SDW',
                    'v': '!properties.get("hidden")'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'editing',
                    '_value': true,
                    '_isDecl': false
                }
            ],
            '_properties': {
                'editable': true
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'editing',
                    '_value': false,
                    '_isDecl': false
                }
            ],
            '_properties': {
                'editable': false
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'fiveZones',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'fiveZoneLayout': true,
                'zones': [
                    'zLeft',
                    'zMiddle',
                    'zRight',
                    'zTop',
                    'zBottom',
                    'zDetail'
                ]
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'oneZone',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'zones': [
                    'zLeft',
                    'zDetail'
                ]
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'tableZones',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'zones': [
                    'zMain',
                    'zLeft',
                    'zRight',
                    'zTop',
                    'zBottom',
                    'zDetail'
                ]
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': [
                        'create',
                        'edit',
                        'view',
                        'search'
                    ],
                    '_isDecl': false
                }
            ],
            '_properties': {
                'trait': 'fiveZones'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': 'list',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'trait': 'tableZones'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'FormZones',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'FormZones',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'fiveZones',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'FormZones',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'FormZones',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'oneZone',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'FormZones',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'StringComponent',
                'bindings': {
                    'value': {
                        't': 'CFP',
                        'v': 'value'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'boolean',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'boolean',
                    '_isDecl': false
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'Checkbox'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'boolean',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Number',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'bindings': {
                    'formatter': {
                        't': 'CFP',
                        'v': 'formatters.integer'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Number',
                    '_isDecl': false
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'InputFieldComponent'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Number',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Number',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': 'search',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'bindings': {
                    'formatter': {
                        't': 'CFP',
                        'v': 'formatters.blankNull.integer'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Number',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Date',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'DateAndTimeComponent',
                'bindings': {
                    'formatter': 'shortDate',
                    'showTime': false
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Date',
                    '_isDecl': false
                },
                {
                    '_key': 'fiveZoneLayout',
                    '_value': true,
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Date',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Date',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'dateTime',
                    '_isDecl': true
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'bindings': {
                    'formatter': 'dateTime',
                    'showTime': true
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Date',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'java.lang.Enum',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'java.lang.Enum',
                    '_isDecl': false
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'GenericChooserComponent',
                'bindings': {
                    'destinationClass': {
                        't': 'Expr',
                        'v': 'type'
                    },
                    'displayKey': 'name',
                    'formatter': {
                        't': 'CFP',
                        'v': 'formatters.identifier'
                    },
                    'key': {
                        't': 'Expr',
                        'v': 'field'
                    },
                    'object': {
                        't': 'Expr',
                        'v': 'object'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'java.lang.Enum',
                    '_isDecl': false
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': [
                        'search',
                        'list'
                    ],
                    '_isDecl': false
                }
            ],
            '_properties': {
                'bindings': {
                    'type': 'Popup'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'java.lang.Enum',
                    '_isDecl': false
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'java.lang.Enum',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': [
                        'Array',
                        'Set'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': [
                        'Array',
                        'Set'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'enum',
                    '_isDecl': true
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'GenericChooserComponent',
                'bindings': {
                    'multiselect': true,
                    'destinationClass': {
                        't': 'Expr',
                        'v': 'properties.get("enumClass")'
                    },
                    'displayKey': 'name',
                    'formatter': {
                        't': 'CFP',
                        'v': 'formatters.identifier'
                    },
                    'key': {
                        't': 'Expr',
                        'v': 'field'
                    },
                    'object': {
                        't': 'Expr',
                        'v': 'object'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': [
                        'Array',
                        'Set'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': [
                        'Array',
                        'Set'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': [
                        'search',
                        'list'
                    ],
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': false
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': [
                        'Array',
                        'Set'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': [
                        'Array',
                        'Set'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'ownedToMany',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'MetaDetailTable',
                'after': 'zDetail'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': [
                        'Array',
                        'Set'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': '[B',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': '[B',
                    '_isDecl': false
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'FileUploadChooser',
                'bindings': {
                    'bytes': {
                        't': 'CFP',
                        'v': 'value'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': '[B',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': '[B',
                    '_isDecl': false
                },
                {
                    '_key': 'editable',
                    '_value': false,
                    '_isDecl': false
                }
            ],
            '_properties': {
                'bindings': {
                    'value': {
                        't': 'Expr',
                        'v': 'value ? ("" + value.length + " bytes") : "(none)"'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': '[B',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'File',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'File',
                    '_isDecl': false
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'FileUploadChooser',
                'bindings': {
                    'file': {
                        't': 'CFP',
                        'v': 'value'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'File',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'File',
                    '_isDecl': false
                },
                {
                    '_key': 'editable',
                    '_value': false,
                    '_isDecl': false
                }
            ],
            '_properties': {
                'bindings': {
                    'value': {
                        't': 'Expr',
                        'v': 'value ? value.name : "(none)"'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'File',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'InputFieldComponent'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'longtext',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'after': 'zBottom'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'longtext',
                    '_isDecl': true
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'TextAreaComponent',
                'bindings': {
                    'rows': 10,
                    'cols': 60
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'longtext',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'longtext',
                    '_isDecl': true
                },
                {
                    '_key': 'operation',
                    '_value': [
                        'search',
                        'list'
                    ],
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': false
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'longtext',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'richtext',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'bindings': {
                    'escapeUnsafeHtml': true
                },
                'after': 'zBottom'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'richtext',
                    '_isDecl': true
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'RichTextArea',
                'bindings': {
                    'rows': 10,
                    'cols': 60
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'richtext',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'richtext',
                    '_isDecl': true
                },
                {
                    '_key': 'operation',
                    '_value': 'search',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'zNone'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'richtext',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'richtext',
                    '_isDecl': true
                },
                {
                    '_key': 'operation',
                    '_value': 'list',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'editable': false,
                'after': 'zDetail'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'richtext',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'secret',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'bindings': {
                    'formatter': {
                        't': 'CFP',
                        'v': 'formatters.hiddenPassword'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'secret',
                    '_isDecl': true
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'AWPasswordField',
                'bindings': {}
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'secret',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'secret',
                    '_isDecl': true
                },
                {
                    '_key': 'operation',
                    '_value': [
                        'search',
                        'list'
                    ],
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': false
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'secret',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'truncated',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'TruncateString',
                'bindings': {
                    'size': 10
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'String',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Binary',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Binary',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'imageData',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'contentType': 'image/jpeg'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Binary',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'imageData',
                    '_isDecl': true
                },
                {
                    '_key': 'editable',
                    '_value': false,
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'AWImageData',
                'bindings': {
                    'bytes': {
                        't': 'CFP',
                        'v': 'value'
                    },
                    'contentType': {
                        't': 'Expr',
                        'v': 'ContentTypeUtils.contentTypeNamed(properties.get("contentType"))'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Binary',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'imageData',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Binary',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'imageData',
                    '_isDecl': true
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'bindings': {
                    'awcontentLayouts': {
                        '_main': '_imgUploadPreview'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Binary',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'imageData',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Binary',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'type',
                    '_value': 'Money',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'CurrencyComponent',
                'bindings': {
                    'money': {
                        't': 'CFP',
                        'v': 'value'
                    },
                    'currencies': {
                        't': 'Expr',
                        'v': 'properties.get("currencies")'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'layout',
                    '_value': '_imgUploadPreview',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'wrapperComponent': 'MetaContext',
                'component': 'AWImageData',
                'wrapperBindings': {
                    'scopeKey': 'field'
                },
                'bindings': {
                    'bytes': {
                        't': 'CFP',
                        'v': 'value'
                    },
                    'style': 'width:100px',
                    'contentType': {
                        't': 'Expr',
                        'v': 'ContentTypeUtils.contentTypeNamed(properties.get("contentType"))'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'derived',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'editable': false
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'derived',
                    '_isDecl': true
                },
                {
                    '_key': 'editing',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'zNone'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'derived',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'searchable',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'searchable',
                    '_isDecl': true
                },
                {
                    '_key': 'operation',
                    '_value': 'search',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': true,
                'editable': {
                    't': 'OV',
                    'v': 'true'
                },
                'after': {
                    't': 'OV',
                    'v': 'null'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'searchable',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'required',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'required',
                    '_isDecl': true
                },
                {
                    '_key': 'operation',
                    '_value': [
                        'edit',
                        'create'
                    ],
                    '_isDecl': false
                }
            ],
            '_properties': {
                'required': true
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'required',
                    '_isDecl': true
                },
                {
                    '_key': 'operation',
                    '_value': [
                        'edit',
                        'create'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'object',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'valid': {
                    't': 'Expr',
                    'v': '((value != undefined) && (value != null)) ? true : "Answer required"'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'required',
                    '_isDecl': true
                },
                {
                    '_key': 'operation',
                    '_value': [
                        'edit',
                        'create'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'required',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'list',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'list',
                    '_isDecl': true
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'GenericChooserComponent',
                'bindings': {
                    'list': {
                        't': 'Expr',
                        'v': 'properties.get("choices")'
                    },
                    'type': {
                        't': 'Expr',
                        'v': 'properties.get("chooserStyle")'
                    },
                    'key': {
                        't': 'Expr',
                        'v': 'properties.get("field")'
                    },
                    'object': {
                        't': 'Expr',
                        'v': 'object'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'list',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'asObject',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'asObject',
                    '_isDecl': true
                },
                {
                    '_key': 'editable',
                    '_value': false,
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'MetaObjectDetailComponent',
                'nestedLayout': true,
                'bindings': {
                    'layout': 'Inspect',
                    'useNoLabelLayout': true,
                    'label': {
                        't': 'Expr',
                        'v': 'properties.get("label")'
                    },
                    'object': {
                        't': 'CFP',
                        'v': 'value'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'asObject',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'asHover',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'asHover',
                    '_isDecl': true
                },
                {
                    '_key': 'editable',
                    '_value': false,
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'HoverCardComponent',
                'bindings': {
                    'linkTitle': {
                        't': 'CFP',
                        'v': 'value'
                    },
                    'appendContentToBody': false,
                    'ngcontentLayout': 'Content'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'asHover',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'layout',
                    '_value': 'Content',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'MetaObjectDetailComponent',
                'bindings': {
                    'layout': 'Inspect',
                    'object': {
                        't': 'CFP',
                        'v': 'value'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'noCreate',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'noCreate',
                    '_isDecl': true
                },
                {
                    '_key': 'operation',
                    '_value': 'create',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': false
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'noCreate',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'noSearch',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'noSearch',
                    '_isDecl': true
                },
                {
                    '_key': 'operation',
                    '_value': 'search',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': false
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'noSearch',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': 'GenericChooserComponent',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': 'GenericChooserComponent',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'Popup',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'bindings': {
                    'type': 'Dropdown'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': 'GenericChooserComponent',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': 'GenericChooserComponent',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'PopupControl',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'bindings': {
                    'type': 'PopupControl'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': 'GenericChooserComponent',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': 'GenericChooserComponent',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'Chooser',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'bindings': {
                    'type': 'Chooser'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': 'GenericChooserComponent',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': 'GenericChooserComponent',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'PostOnChange',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'bindings': {}
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': 'GenericChooserComponent',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': [
                        'StringComponent',
                        'AWHyperlink',
                        'PopupMenuLink'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': [
                        'StringComponent',
                        'AWHyperlink',
                        'PopupMenuLink'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'bold',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'wrapperComponent': 'GenericContainerComponent',
                'wrapperBindings': {
                    'tagName': 'b'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': [
                        'StringComponent',
                        'AWHyperlink',
                        'PopupMenuLink'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': [
                        'StringComponent',
                        'AWHyperlink',
                        'PopupMenuLink'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'italic',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'wrapperComponent': 'GenericContainerComponent',
                'wrapperBindings': {
                    'tagName': 'i'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': [
                        'StringComponent',
                        'AWHyperlink',
                        'PopupMenuLink'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': [
                        'StringComponent',
                        'AWHyperlink',
                        'PopupMenuLink'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'heading1',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'wrapperComponent': 'GenericContainerComponent',
                'wrapperBindings': {
                    'tagName': 'h1'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': [
                        'StringComponent',
                        'AWHyperlink',
                        'PopupMenuLink'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': [
                        'StringComponent',
                        'AWHyperlink',
                        'PopupMenuLink'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'heading2',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'wrapperComponent': 'GenericContainerComponent',
                'wrapperBindings': {
                    'tagName': 'h2'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': [
                        'StringComponent',
                        'AWHyperlink',
                        'PopupMenuLink'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': [
                        'StringComponent',
                        'AWHyperlink',
                        'PopupMenuLink'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'heading3',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'wrapperComponent': 'GenericContainerComponent',
                'wrapperBindings': {
                    'tagName': 'h3'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': [
                        'StringComponent',
                        'AWHyperlink',
                        'PopupMenuLink'
                    ],
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'FieldType',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'FieldType',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'longtext',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'FieldType',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'FieldType',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'richtext',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'FieldType',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'FieldType',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'secret',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'FieldType',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'ChooserType',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'ChooserType',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'Popup',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'ChooserType',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'ChooserType',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'PopupControl',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'ChooserType',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'ChooserType',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'Chooser',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'ChooserType',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'WrapperStyle',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'WrapperStyle',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'bold',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'WrapperStyle',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'WrapperStyle',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'italic',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'WrapperStyle',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'WrapperStyle',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'heading1',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'WrapperStyle',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'WrapperStyle',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'heading2',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'WrapperStyle',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'WrapperStyle',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'heading3',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'WrapperStyle',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': {
                    't': 'SDW',
                    'v': '!properties.get("hidden")'
                },
                'enabled': true
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'pageAction',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'actionResults': {
                    't': 'Expr',
                    'v': 'meta.routingService.routeForPage(properties.get("pageName"))'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'modalComponentPage',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'pageBindings': {
                    'componentName': {
                        't': 'Expr',
                        'v': 'properties.get("componentName")'
                    },
                    'title': {
                        't': 'Expr',
                        'v': 'properties.get("title")'
                    }
                },
                'actionResults': {
                    't': 'Expr',
                    'v': 'meta.compPageWithName("MetaModalPage")'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'modalComponentPanel',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'pageBindings': {
                    'clientPanel': true,
                    'componentName': {
                        't': 'Expr',
                        'v': 'properties.get("componentName")'
                    },
                    'title': {
                        't': 'Expr',
                        'v': 'properties.get("title")'
                    }
                },
                'actionResults': {
                    't': 'Expr',
                    'v': 'meta.compPageWithName("MetaModalPage")'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'messageResults',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'actionResults': {
                    't': 'Expr',
                    'v': 'var o = (properties.isInstanceAction ? object : ariba.ui.aribaweb.util.AWUtil.classForName(properties.class)), var v = ariba.util.fieldvalue.FieldValue.getFieldValue(o, properties.action), var m = ariba.util.core.Fmt.S(properties.message, v), ariba.ui.widgets.AribaPageContent.setMessage(m, requestContext.session()), null'
                },
                'message': 'Action Performed: %s'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'instance',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'isInstanceAction': true,
                'enabled': {
                    't': 'Expr',
                    'v': 'object != null'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'filterActions',
                    '_value': 'instance',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': {
                    't': 'Expr',
                    'v': 'properties.get("isInstanceAction") == true'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'filterActions',
                    '_value': 'static',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': {
                    't': 'Expr',
                    'v': '!properties.get("isInstanceAction")'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'zones': [
                    'zMain'
                ]
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'ActionButtons',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'MetaActionListComponent',
                'visible': true,
                'bindings': {
                    'defaultStyle': 'primary',
                    'renderAs': 'buttons',
                    'align': 'right'
                },
                'elementClass': 'l-action-buttons'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'ActionLinks',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'MetaActionListComponent',
                'visible': true,
                'bindings': {
                    'renderAs': 'links',
                    'align': 'right'
                },
                'elementClass': 'l-action-buttons'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'ActionMenu',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'MetaActionListComponent',
                'visible': true,
                'bindings': {
                    'renderAs': 'menu',
                    'align': 'right'
                },
                'elementClass': 'l-action-buttons'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'InstanceActionButtons',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'MetaActionListComponent',
                'visible': true,
                'bindings': {
                    'filterActions': 'instance',
                    'renderAs': 'buttons',
                    'align': 'right'
                },
                'elementClass': 'l-action-buttons'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'StaticActionButtons',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'MetaActionListComponent',
                'visible': true,
                'bindings': {
                    'filterActions': 'static',
                    'renderAs': 'buttons',
                    'align': 'right'
                },
                'elementClass': 'l-action-buttons'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'Tabs',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'MetaTabs',
                'visible': true
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'Sections',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'MetaSectionsComponent',
                'visible': true
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'Form',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'MetaFormComponent',
                'visible': true
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'Stack',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'MetaElementListComponent',
                'visible': true
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'OwnZone',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'zonePath': {
                    't': 'Expr',
                    'v': 'layout'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'pad8',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'wrapperComponent': 'GenericContainerComponent',
                'wrapperBindings': {
                    'style': 'padding:8px',
                    'tagName': 'div'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'component',
                    '_value': 'MetaFormComponent',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'labelsOnTop',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'layout_trait',
                    '_value': 'labelsOnTop',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'bindings': {
                    'showLabelsAboveControls': true
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'LayoutGrouping',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'LayoutGrouping',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'Tabs',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'LayoutGrouping',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'LayoutGrouping',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'Sections',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'LayoutGrouping',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'LayoutGrouping',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'Form',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'LayoutGrouping',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'LayoutGrouping',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'Stack',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'LayoutGrouping',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'layout',
                    '_value': [
                        'Inspect',
                        'SearchForm'
                    ],
                    '_isDecl': false
                }
            ],
            '_properties': {
                'trait': 'Form',
                'label': {
                    't': 'Expr',
                    'v': 'UIMeta.beautifyClassName(values.class)'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': {},
                    '_isDecl': false
                },
                {
                    '_key': 'layout',
                    '_value': [
                        'Inspect',
                        'SearchForm'
                    ],
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'StringComponent',
                'bindings': {}
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'InspectWithActions',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'trait': 'Stack'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'InspectWithActions',
                    '_isDecl': false
                },
                {
                    '_key': 'layout',
                    '_value': 'Actions',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'trait': 'ActionMenu'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'InspectWithActions',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'InspectWithActions',
                    '_isDecl': false
                },
                {
                    '_key': 'layout',
                    '_value': 'Inspect',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'trait': 'Form'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'InspectWithActions',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'ButtonArea',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'trait': 'StaticActionButtons'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'SelectionButtonArea',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'trait': 'InstanceActionButtons'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'Links',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'trait': 'ActionLinks'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'LabelField',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': false
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'LabelField',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'labelField',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'visible': {
                    't': 'OV',
                    'v': 'true'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'LabelField',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': [
                        'Table',
                        'DetailTable'
                    ],
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'MetaTable',
                'bindings': {
                    'enableScrolling': true,
                    'showSelectionColumn': false,
                    'displayGroup': {
                        't': 'CFP',
                        'v': 'displayGroup'
                    },
                    'title': {
                        't': 'Expr',
                        'v': 'properties.get("label")'
                    },
                    'submitOnSelectionChange': true,
                    'singleSelect': true
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'ListItem',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'StringComponent',
                'bindings': {
                    'value': {
                        't': 'Expr',
                        'v': 'properties.get("objectTitle")'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'object',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'objectTitle': {
                    't': 'Expr',
                    'v': 'FieldPath.getFieldValue(object, meta.displayKeyForClass(values.get("class")))'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'object',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'objectTitle': {
                    't': 'Expr',
                    'v': 'FieldPath.getFieldValue(object, meta.displayKeyForClass(values.get("class")))'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'pageBindings': {
                    't': 'Expr',
                    'v': '(properties.get("homePage") == "MetaHomePageComponent") ? new Map().set("module", values.get("module")) : null'
                },
                'component': 'MetaDashboardLayoutComponent',
                'visible': {
                    't': 'SDW',
                    'v': '!properties.get("hidden")'
                },
                'homePage': 'MetaHomePageComponent'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': true
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'ActionTOC',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'ActionTOC',
                    '_isDecl': true
                },
                {
                    '_key': 'layout',
                    '_value': 'Actions',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'MetaActionListComponent',
                'label': 'Actions',
                'after': 'zToc'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'ActionTOC',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'actionCategory',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': {
                    't': 'SDW',
                    'v': '!properties.get("hidden")'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'actionCategory',
                    '_value': 'General',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'after': 'zMain',
                'label': {
                    't': 'i18n',
                    'v': {
                        'key': 'a001',
                        'defVal': 'General'
                    }
                }
            },
            '_rank': 0
        }
    ]
};
/* tslint:disable */
/**
 *  @formatter:on
 *
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 *  This is generated file. Do not edit !!
 *
 * \@formatter:off
 *
  @type {?} */
var SystemPersistenceRules = {
    oss: [
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'displayKey': 'toString',
                'searchOperation': 'search'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'Searchable',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'textSearchSupported': true,
                'searchOperation': 'keywordSearch'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': 'keywordSearch',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'useTextIndex': true
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': 'keywordSearch',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': false
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': 'keywordSearch',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': 'keywordSearch',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'keywords',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'visible': {
                    't': 'OV',
                    'v': 'true'
                },
                'bindings': {
                    'size': 30
                },
                'trait': 'SearchableProperty',
                'rank': 0,
                'after': 'zTop',
                'type': 'java.lang.String'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': 'keywordSearch',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': 'textSearch',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': 'textSearch',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': 'textSearch',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'SearchableProperty',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'visible': {
                    't': 'OV',
                    'v': 'true'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': 'textSearch',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'operation',
                    '_value': 'textSearch',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'toOneRelationship',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'toOneRelationship',
                    '_isDecl': false
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'GenericChooserComponent',
                'bindings': {
                    'destinationClass': {
                        't': 'Expr',
                        'v': 'elementType'
                    },
                    'multiselect': false,
                    'displayKey': {
                        't': 'Expr',
                        'v': 'meta.displayLabel(type, properties.get("labelField"))'
                    },
                    'type': 'Dropdown',
                    'key': {
                        't': 'Expr',
                        'v': 'field'
                    },
                    'object': {
                        't': 'Expr',
                        'v': 'object'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'toOneRelationship',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'toManyChooser',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'toManyChooser',
                    '_isDecl': false
                },
                {
                    '_key': 'editable',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'GenericChooserComponent',
                'bindings': {
                    'destinationClass': {
                        't': 'Expr',
                        'v': 'elementType'
                    },
                    'multiselect': true,
                    'displayKey': {
                        't': 'Expr',
                        'v': 'meta.displayLabel(type, properties.get("labelField"))'
                    },
                    'type': 'Chooser',
                    'key': {
                        't': 'Expr',
                        'v': 'field'
                    },
                    'object': {
                        't': 'Expr',
                        'v': 'object'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'toManyChooser',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'trait',
                    '_value': 'toManyLink',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'component': 'AWHyperlink',
                'bindings': {
                    'omitTags': {
                        't': 'Expr',
                        'v': '!value || (value.size() == 0)'
                    },
                    'awcontent': {
                        't': 'Expr',
                        'v': 'value ? ("" + value.size() + " items") : "(none)"'
                    },
                    'action': {
                        't': 'Expr',
                        'v': 'set("object", value), set("actionCategory", "General"), set("action", "Inspect"), ariba.ui.meta.core.UIMeta.getInstance().fireAction(this, requestContext)'
                    }
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'RelViewers',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'RelViewers',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'toOneRelationship',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'RelViewers',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'RelViewers',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'toManyChooser',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'RelViewers',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'RelViewers',
                    '_isDecl': true
                },
                {
                    '_key': 'trait',
                    '_value': 'toManyLink',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'traitGroup',
                    '_value': 'RelViewers',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'action',
                    '_value': 'Inspect',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'pageBindings': {
                    'layout': 'Inspect',
                    'clientPanel': true,
                    'operation': 'view',
                    'object': {
                        't': 'Expr',
                        'v': 'object'
                    }
                },
                'visible': true,
                'trait': 'pageAction',
                'pageName': 'MetaContentPageComponent'
            },
            '_rank': 0
        }
    ]
};
/* tslint:disable */
/**
 *  @formatter:on
 *
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * UIMeta is responsible setting layouts and all around this. We can either use this as a singleton
 * or use it as a service using Angular \@Inject()
 * Right now we use still singleton as we need this class as a library for some other projects
 *
 *
 * todo: Convert to Injectable
 */
var UIMeta = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(UIMeta, _super);
    function UIMeta() {
        var _this = _super.call(this) || this;
        // if (isPresent(loader)) {
        //     this.registerLoader(loader);
        // }
        try {
            _this.beginRuleSet('UIMeta');
            _this.registerKeyInitObserver(UIMeta.KeyClass, new UserMetaDataProvider());
            // These keys define scopes for their properties
            // defineKeyAsPropertyScope(KeyArea);
            // These keys define scopes for their properties
            // defineKeyAsPropertyScope(KeyArea);
            _this.defineKeyAsPropertyScope(UIMeta.KeyLayout);
            _this.defineKeyAsPropertyScope(UIMeta.KeyModule);
            // Default rule for converting field name to label
            // Default rule for converting field name to label
            _this.registerDefaultLabelGeneratorForKey(UIMeta.KeyClass);
            _this.registerDefaultLabelGeneratorForKey(UIMeta.KeyField);
            _this.registerDefaultLabelGeneratorForKey(UIMeta.KeyLayout);
            _this.registerDefaultLabelGeneratorForKey(UIMeta.KeyModule);
            _this.registerDefaultLabelGeneratorForKey(UIMeta.KeyAction);
            _this.registerDefaultLabelGeneratorForKey(UIMeta.KeyActionCategory);
            // policies for chaining certain well known properties
            // policies for chaining certain well known properties
            _this.registerPropertyMerger(UIMeta.KeyArea, Meta.PropertyMerger_DeclareList);
            _this.registerPropertyMerger(UIMeta.KeyLayout, Meta.PropertyMerger_DeclareList);
            _this.registerPropertyMerger(UIMeta.KeyModule, Meta.PropertyMerger_DeclareList);
            _this.mirrorPropertyToContext(UIMeta.KeyEditing, UIMeta.KeyEditing);
            _this.mirrorPropertyToContext(UIMeta.KeyLayout, UIMeta.KeyLayout);
            _this.mirrorPropertyToContext(UIMeta.KeyComponentName, UIMeta.KeyComponentName);
            _this.registerPropertyMerger(UIMeta.KeyEditing, new PropertyMerger_And());
            // this.registerValueTransformerForKey('requestContext', UIMeta.Transformer_KeyPresent);
            // this.registerValueTransformerForKey('displayGroup', UIMeta.Transformer_KeyPresent);
            // define operation hierarchy
            // this.registerValueTransformerForKey('requestContext', UIMeta.Transformer_KeyPresent);
            // this.registerValueTransformerForKey('displayGroup', UIMeta.Transformer_KeyPresent);
            // define operation hierarchy
            _this.keyData(UIMeta.KeyOperation).setParent('view', 'inspect');
            _this.keyData(UIMeta.KeyOperation).setParent('print', 'view');
            _this.keyData(UIMeta.KeyOperation).setParent('edit', 'inspect');
            _this.keyData(UIMeta.KeyOperation).setParent('search', 'inspect');
            _this.keyData(UIMeta.KeyOperation).setParent('keywordSearch', 'search');
            _this.keyData(UIMeta.KeyOperation).setParent('textSearch', 'keywordSearch');
            _this.registerStaticallyResolvable(UIMeta.PropFieldsByZone, new PropFieldsByZoneResolver(), UIMeta.KeyClass);
            _this.registerStaticallyResolvable(UIMeta.PropFieldPropertyList, new PropFieldPropertyListResolver(), UIMeta.KeyClass);
            _this.registerStaticallyResolvable(UIMeta.PropLayoutsByZone, new PropLayoutsByZoneResolver(), UIMeta.KeyLayout);
            // this.registerStaticallyResolvable(UIMeta.PropLayoutsByZone , new
            // PropLayoutsByZoneResolver() , UIMeta.KeyLayout);
            // registerStaticallyResolvable('bindingsDictionary' , dyn , KeyField);
            // registerStaticallyResolvable('bindingsDictionary' , dyn , KeyLayout);
            // registerStaticallyResolvable('bindingsDictionary' , dyn , KeyClass);
            // registerStaticallyResolvable('bindingsDictionary' , dyn , KeyModule);
        }
        finally {
            _this.endRuleSet();
        }
        return _this;
    }
    /**
     * @return {?}
     */
    UIMeta.getInstance = /**
     * @return {?}
     */
    function () {
        return this._instance || (this._instance = new this());
    };
    /**
     * @param {?} fieldName
     * @return {?}
     */
    UIMeta.defaultLabelForIdentifier = /**
     * @param {?} fieldName
     * @return {?}
     */
    function (fieldName) {
        /** @type {?} */
        var lastDot = fieldName.lastIndexOf('.');
        if (lastDot !== -1 && lastDot !== fieldName.length - 1) {
            fieldName = fieldName.substring(lastDot + 1);
        }
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["decamelize"])(fieldName);
    };
    /**
     * @param {?} className
     * @return {?}
     */
    UIMeta.beautifyClassName = /**
     * @param {?} className
     * @return {?}
     */
    function (className$$1) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["decamelize"])(className$$1, ' ');
    };
    /**
     * @param {?} field
     * @return {?}
     */
    UIMeta.beautifyFileName = /**
     * @param {?} field
     * @return {?}
     */
    function (field) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["decamelize"])(field, ' ');
    };
    /**
     * @param {?} context
     * @return {?}
     */
    UIMeta.prototype.zones = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        /** @type {?} */
        var zones = context.propertyForKey('zones');
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(zones)) ? Meta.toList(UIMeta.ZoneMain) : zones;
    };
    /**
     * @param {?} context
     * @return {?}
     */
    UIMeta.prototype.zonePath = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        /** @type {?} */
        var zonePath;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(context.values.get(UIMeta.KeyLayout))) {
            context.push();
            context.setScopeKey(UIMeta.KeyLayout);
            zonePath = context.propertyForKey(UIMeta.KeyZonePath);
            context.pop();
        }
        return zonePath;
    };
    /**
     * @param {?=} isNested
     * @return {?}
     */
    UIMeta.prototype.newContext = /**
     * @param {?=} isNested
     * @return {?}
     */
    function (isNested) {
        if (isNested === void 0) { isNested = false; }
        return new UIContext(this, isNested);
    };
    // Load system rules
    /**
     * @param {?=} references
     * @return {?}
     */
    UIMeta.prototype.loadDefaultRuleFiles = /**
     * @param {?=} references
     * @return {?}
     */
    function (references) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(SystemRules.oss)) {
            this.beginRuleSetWithRank(Meta.SystemRulePriority, 'system');
            try {
                this._loadRules(SystemRules.oss, 'system', false);
            }
            finally {
                this.endRuleSet();
            }
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(SystemPersistenceRules.oss)) {
            this.beginRuleSetWithRank(Meta.SystemRulePriority + 2000, 'system-persistence');
            try {
                this._loadRules(SystemPersistenceRules.oss, 'system-persistence', false);
            }
            finally {
                this.endRuleSet();
            }
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(references)) {
            this.registerComponents(references);
        }
        return false;
    };
    /**
     * loads application level rules. Application level rules are global rules
     */
    /**
     * loads application level rules. Application level rules are global rules
     * @return {?}
     */
    UIMeta.prototype.loadApplicationRules = /**
     * loads application level rules. Application level rules are global rules
     * @return {?}
     */
    function () {
        /** @type {?} */
        var aRules;
        /** @type {?} */
        var userReferences;
        /** @type {?} */
        var appRuleFiles = ['Application'];
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.appConfig)) {
            appRuleFiles = this.appConfig.get(UIMeta.AppConfigRuleFilesParam) || ['Application'];
            userReferences = this.appConfig.get(UIMeta.AppConfigUserRulesParam);
            // make sure we have always Application and make it more additive.
            if (!_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].contains(appRuleFiles, 'Application')) {
                appRuleFiles.unshift('Application');
            }
        }
        try {
            for (var appRuleFiles_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(appRuleFiles), appRuleFiles_1_1 = appRuleFiles_1.next(); !appRuleFiles_1_1.done; appRuleFiles_1_1 = appRuleFiles_1.next()) {
                var ruleFile = appRuleFiles_1_1.value;
                /** @type {?} */
                var rule = ruleFile + 'Rule';
                if (this._testRules.has(rule)) {
                    // since we are in development mode and test mode is on we can check extra
                    // repository used by tests, we need to check if we are not running unittest
                    // and a class is not defined but unittest
                    if (this._testRules.has(rule) &&
                        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._testRules.get(rule).oss)) {
                        aRules = this._testRules.get(rule).oss;
                        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(aRules)) {
                            this.beginRuleSetWithRank(Meta.LowRulePriority, ruleFile.toLowerCase());
                            try {
                                this._loadRules(aRules, ruleFile.toLowerCase(), false);
                            }
                            finally {
                                this.endRuleSet();
                            }
                        }
                    }
                }
                else {
                    for (var i in userReferences) {
                        /** @type {?} */
                        var userRule = userReferences[i];
                        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(userRule)) {
                            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(userRule[rule]) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(userRule[rule].oss)) {
                                aRules = userRule[rule].oss;
                            }
                        }
                        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(aRules)) {
                            this.beginRuleSetWithRank(Meta.LowRulePriority, ruleFile.toLowerCase());
                            try {
                                this._loadRules(aRules, ruleFile.toLowerCase(), false);
                            }
                            finally {
                                this.endRuleSet();
                            }
                        }
                    }
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (appRuleFiles_1_1 && !appRuleFiles_1_1.done && (_a = appRuleFiles_1.return)) _a.call(appRuleFiles_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        var e_1, _a;
    };
    /**
     * @param {?} source
     * @param {?} userClass
     * @return {?}
     */
    UIMeta.prototype.loadUserRule = /**
     * @param {?} source
     * @param {?} userClass
     * @return {?}
     */
    function (source, userClass) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(source)) {
            this.beginRuleSetWithRank(this._ruleCount, 'user:' + userClass);
            try {
                this._loadRules(source, 'user', false);
            }
            finally {
                this.endRuleSet();
            }
        }
        return false;
    };
    /**
     * @param {?} key
     * @return {?}
     */
    UIMeta.prototype.defaultLabelGeneratorForKey = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return new _DefaultLabelGenerator(key);
    };
    /**
     * @param {?} propKey
     * @param {?} dynamicValue
     * @param {?} contextKey
     * @param {?} contextValue
     * @return {?}
     */
    UIMeta.prototype.registerDerivedValue = /**
     * @param {?} propKey
     * @param {?} dynamicValue
     * @param {?} contextKey
     * @param {?} contextValue
     * @return {?}
     */
    function (propKey, dynamicValue, contextKey, contextValue) {
        /** @type {?} */
        var m = new Map();
        m.set(propKey, dynamicValue);
        this.addRule(new Rule(Meta.toList(new Selector(contextKey, contextValue)), m, Meta.SystemRulePriority));
    };
    /**
     * @param {?} propKey
     * @param {?} dynamicValue
     * @param {?} contextKey
     * @return {?}
     */
    UIMeta.prototype.registerStaticallyResolvable = /**
     * @param {?} propKey
     * @param {?} dynamicValue
     * @param {?} contextKey
     * @return {?}
     */
    function (propKey, dynamicValue, contextKey) {
        this.registerDerivedValue(propKey, new StaticDynamicWrapper(dynamicValue), contextKey, Meta.KeyAny);
    };
    /**
     * @param {?} key
     * @return {?}
     */
    UIMeta.prototype.registerDefaultLabelGeneratorForKey = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        this.registerDerivedValue(UIMeta.KeyLabel, new LocalizedLabelString(this), key, UIMeta.KeyAny);
    };
    /**
     * @param {?} context
     * @return {?}
     */
    UIMeta.prototype.fieldList = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        return this.itemList(context, UIMeta.KeyField, UIMeta.ZonesTLRMB);
    };
    /**
     * @param {?} context
     * @return {?}
     */
    UIMeta.prototype.fieldsByZones = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        return this.itemsByZones(context, UIMeta.KeyField, UIMeta.ZonesTLRMB);
    };
    /**
     * @param {?} context
     * @param {?} key
     * @param {?} zones
     * @return {?}
     */
    UIMeta.prototype.itemNamesByZones = /**
     * @param {?} context
     * @param {?} key
     * @param {?} zones
     * @return {?}
     */
    function (context, key, zones) {
        /** @type {?} */
        var itemsByZones = this.itemsByZones(context, key, zones);
        return this.mapItemPropsToNames(itemsByZones);
    };
    /**
     * @param {?} itemsByZones
     * @return {?}
     */
    UIMeta.prototype.mapItemPropsToNames = /**
     * @param {?} itemsByZones
     * @return {?}
     */
    function (itemsByZones) {
        var _this = this;
        /** @type {?} */
        var namesByZones = new Map();
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].iterable(itemsByZones).forEach(function (value, key) {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(value) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(value)) {
                /** @type {?} */
                var names = [];
                try {
                    for (var value_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(value), value_1_1 = value_1.next(); !value_1_1.done; value_1_1 = value_1.next()) {
                        var item = value_1_1.value;
                        if (item instanceof ItemProperties) {
                            names.push((/** @type {?} */ (item)).name);
                        }
                    }
                }
                catch (e_2_1) { e_2 = { error: e_2_1 }; }
                finally {
                    try {
                        if (value_1_1 && !value_1_1.done && (_a = value_1.return)) _a.call(value_1);
                    }
                    finally { if (e_2) throw e_2.error; }
                }
                namesByZones.set(key, names);
            }
            else {
                namesByZones.set(key, _this.mapItemPropsToNames(value));
            }
            var e_2, _a;
        });
        return namesByZones;
    };
    /**
     * @param {?} context
     * @param {?} key
     * @param {?} defaultPredecessor
     * @return {?}
     */
    UIMeta.prototype.predecessorMap = /**
     * @param {?} context
     * @param {?} key
     * @param {?} defaultPredecessor
     * @return {?}
     */
    function (context, key, defaultPredecessor) {
        /** @type {?} */
        var fieldInfos = this.itemProperties(context, key, false);
        /** @type {?} */
        var predecessors = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].groupBy(fieldInfos, function (item) {
            /** @type {?} */
            var pred = item.properties.get(UIMeta.KeyAfter);
            return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(pred) ? pred : defaultPredecessor;
        });
        return predecessors;
    };
    /**
     * @param {?} context
     * @param {?} key
     * @param {?} zones
     * @return {?}
     */
    UIMeta.prototype.itemList = /**
     * @param {?} context
     * @param {?} key
     * @param {?} zones
     * @return {?}
     */
    function (context, key, zones) {
        /** @type {?} */
        var predecessors = this.predecessorMap(context, key, zones[0]);
        /** @type {?} */
        var result = [];
        try {
            for (var zones_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(zones), zones_1_1 = zones_1.next(); !zones_1_1.done; zones_1_1 = zones_1.next()) {
                var zone = zones_1_1.value;
                this.accumulatePrecessors(predecessors, zone, result);
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (zones_1_1 && !zones_1_1.done && (_a = zones_1.return)) _a.call(zones_1);
            }
            finally { if (e_3) throw e_3.error; }
        }
        return result;
        var e_3, _a;
    };
    /**
     * @param {?} key
     * @return {?}
     */
    UIMeta.prototype.isZoneReference = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        /** @type {?} */
        var lastDot = key.lastIndexOf('.');
        /** @type {?} */
        var suffix = (lastDot === -1) ? key : key.substring(lastDot + 1);
        return (suffix.length > 1) && (suffix[0] === 'z') && (suffix[1].toUpperCase() === suffix[1] // is uppercase ?s
        );
    };
    /**
     * @param {?} context
     * @param {?} property
     * @param {?} zones
     * @return {?}
     */
    UIMeta.prototype.itemsByZones = /**
     * @param {?} context
     * @param {?} property
     * @param {?} zones
     * @return {?}
     */
    function (context, property, zones) {
        var _this = this;
        /** @type {?} */
        var predecessors = this.predecessorMap(context, property, zones[0]);
        /** @type {?} */
        var byZone = new Map();
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].iterable(predecessors).forEach(function (value, zone) {
            if (_this.isZoneReference(zone)) {
                /** @type {?} */
                var list = [];
                _this.accumulatePrecessors(predecessors, zone, list);
                _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["FieldPath"].setFieldValue(byZone, zone, list);
            }
        });
        return byZone;
    };
    // recursive decent of predecessor tree...
    /**
     * @param {?} predecessors
     * @param {?} key
     * @param {?} result
     * @return {?}
     */
    UIMeta.prototype.accumulatePrecessors = /**
     * @param {?} predecessors
     * @param {?} key
     * @param {?} result
     * @return {?}
     */
    function (predecessors, key, result) {
        /** @type {?} */
        var items = predecessors.get(key);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(items)) {
            return;
        }
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].sort(items, function (o1, o2) {
            /** @type {?} */
            var r1 = o1.properties.get(UIMeta.KeyRank);
            /** @type {?} */
            var r2 = o2.properties.get(UIMeta.KeyRank);
            if (r1 === null) {
                r1 = 100;
            }
            if (r2 === null) {
                r2 = 100;
            }
            return (r1 === r2) ? 0 : (r1 === null) ? 1 : (r2 === null) ? -1 : (r1 - r2);
        });
        try {
            for (var items_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {
                var item = items_1_1.value;
                if (!item.hidden) {
                    result.push(item);
                }
                this.accumulatePrecessors(predecessors, item.name, result);
            }
        }
        catch (e_4_1) { e_4 = { error: e_4_1 }; }
        finally {
            try {
                if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);
            }
            finally { if (e_4) throw e_4.error; }
        }
        var e_4, _a;
    };
    /**
     * Called by Parser to handle decls like 'zLeft => lastName#required'
     *
     */
    /**
     * Called by Parser to handle decls like 'zLeft => lastName#required'
     *
     * @param {?} itemName
     * @param {?} contextPreds
     * @param {?} predecessor
     * @param {?} traits
     * @param {?} lineNumber
     * @return {?}
     */
    UIMeta.prototype.addPredecessorRule = /**
     * Called by Parser to handle decls like 'zLeft => lastName#required'
     *
     * @param {?} itemName
     * @param {?} contextPreds
     * @param {?} predecessor
     * @param {?} traits
     * @param {?} lineNumber
     * @return {?}
     */
    function (itemName, contextPreds, predecessor, traits, lineNumber) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(predecessor) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(traits)) {
            return null;
        }
        /** @type {?} */
        var key = this.scopeKeyForSelector(contextPreds);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(key) || key === UIMeta.KeyClass) {
            key = UIMeta.KeyField;
        }
        /** @type {?} */
        var selector = new Array();
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].addAll(selector, contextPreds);
        selector.push(new Selector(key, itemName));
        /** @type {?} */
        var props = new Map();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(predecessor)) {
            props.set(UIMeta.KeyAfter, predecessor);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(traits)) {
            props.set(UIMeta.KeyTrait, traits);
        }
        /** @type {?} */
        var rule = new Rule(selector, props, 0, lineNumber);
        this.addRule(rule);
        return rule;
    };
    /**
     * @param {?} fieldsByZones
     * @param {?} zoneList
     * @param {?} key
     * @param {?} context
     * @return {?}
     */
    UIMeta.prototype.flattenVisible = /**
     * @param {?} fieldsByZones
     * @param {?} zoneList
     * @param {?} key
     * @param {?} context
     * @return {?}
     */
    function (fieldsByZones, zoneList, key, context) {
        /** @type {?} */
        var result = [];
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(fieldsByZones)) {
            try {
                for (var zoneList_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(zoneList), zoneList_1_1 = zoneList_1.next(); !zoneList_1_1.done; zoneList_1_1 = zoneList_1.next()) {
                    var zone = zoneList_1_1.value;
                    /** @type {?} */
                    var fields = fieldsByZones.get(zone);
                    if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(fields)) {
                        continue;
                    }
                    try {
                        for (var fields_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(fields), fields_1_1 = fields_1.next(); !fields_1_1.done; fields_1_1 = fields_1.next()) {
                            var field = fields_1_1.value;
                            context.push();
                            context.set(key, field);
                            if (context.booleanPropertyForKey(UIMeta.KeyVisible, false)) {
                                result.push(field);
                            }
                            context.pop();
                        }
                    }
                    catch (e_5_1) { e_5 = { error: e_5_1 }; }
                    finally {
                        try {
                            if (fields_1_1 && !fields_1_1.done && (_a = fields_1.return)) _a.call(fields_1);
                        }
                        finally { if (e_5) throw e_5.error; }
                    }
                }
            }
            catch (e_6_1) { e_6 = { error: e_6_1 }; }
            finally {
                try {
                    if (zoneList_1_1 && !zoneList_1_1.done && (_b = zoneList_1.return)) _b.call(zoneList_1);
                }
                finally { if (e_6) throw e_6.error; }
            }
        }
        return result;
        var e_6, _b, e_5, _a;
    };
    /**
     * @param {?} className
     * @return {?}
     */
    UIMeta.prototype.displayKeyForClass = /**
     * @param {?} className
     * @return {?}
     */
    function (className$$1) {
        /** @type {?} */
        var context = this.newContext();
        context.set(UIMeta.KeyLayout, 'LabelField');
        context.set(UIMeta.KeyClass, className$$1);
        /** @type {?} */
        var fields = this.itemProperties(context, UIMeta.KeyField, true);
        return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].isEmpty(fields) ? '$toString' : fields[0].name;
    };
    /**
     * @param {?} className
     * @param {?} propertiesValue
     * @return {?}
     */
    UIMeta.prototype.displayLabel = /**
     * @param {?} className
     * @param {?} propertiesValue
     * @return {?}
     */
    function (className$$1, propertiesValue) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(propertiesValue)) {
            return propertiesValue;
        }
        return this.displayKeyForClass(className$$1);
    };
    /**
     * @param {?} key
     * @param {?} defaultValue
     * @return {?}
     */
    UIMeta.prototype.createLocalizedString = /**
     * @param {?} key
     * @param {?} defaultValue
     * @return {?}
     */
    function (key, defaultValue) {
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._currentRuleSet), 'Attempt to create localized string without currentRuleSet in place');
        return new LocalizedString(this, this._currentRuleSet.filePath, key, defaultValue);
    };
    Object.defineProperty(UIMeta.prototype, "routingService", {
        get: /**
         * @return {?}
         */
        function () {
            return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._injector)) ? this._injector.get(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["RoutingService"])
                : null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIMeta.prototype, "env", {
        get: /**
         * @return {?}
         */
        function () {
            return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._injector)) ? this._injector.get(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"]) : new _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"]();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIMeta.prototype, "appConfig", {
        get: /**
         * @return {?}
         */
        function () {
            return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._injector)) ? this._injector.get(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["AppConfig"]) : null;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Registers framework level components and listen for user level rules to be registered.
     * After we register user level rules it will load application.oss.
     *
     *
     * @param {?} sysReferences
     * @return {?}
     */
    UIMeta.prototype.registerComponents = /**
     * Registers framework level components and listen for user level rules to be registered.
     * After we register user level rules it will load application.oss.
     *
     *
     * @param {?} sysReferences
     * @return {?}
     */
    function (sysReferences) {
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.injector), 'Cannot register components without Injector in order' +
            ' to get access to ComponentRegistry Service');
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(this.env.inTest || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.appConfig.get(UIMeta.AppConfigUserRulesParam)), 'Unable to initialize MetaUI as user rules are missing. please use:' +
            ' metaui.rules.user-rules configuration param');
        this.componentRegistry = this.injector.get(_aribaui_components__WEBPACK_IMPORTED_MODULE_3__["ComponentRegistry"]);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.componentRegistry)) {
            this.componentRegistry.registerTypes(sysReferences);
            if (!this.env.inTest) {
                /** @type {?} */
                var userReferences = this.appConfig.get(UIMeta.AppConfigUserRulesParam);
                try {
                    for (var userReferences_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(userReferences), userReferences_1_1 = userReferences_1.next(); !userReferences_1_1.done; userReferences_1_1 = userReferences_1.next()) {
                        var uRule = userReferences_1_1.value;
                        this.componentRegistry.registerTypes(uRule);
                    }
                }
                catch (e_7_1) { e_7 = { error: e_7_1 }; }
                finally {
                    try {
                        if (userReferences_1_1 && !userReferences_1_1.done && (_a = userReferences_1.return)) _a.call(userReferences_1);
                    }
                    finally { if (e_7) throw e_7.error; }
                }
                this.loadApplicationRules();
            }
        }
        else if (!this.env.inTest) {
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["warn"])('UIMeta.registerComponents() No components were registered !');
        }
        var e_7, _a;
    };
    /**
     *
     * Just need to call it different than the other fireAction as I can not do any method
     * overloading here.
     *
     */
    /**
     *
     * Just need to call it different than the other fireAction as I can not do any method
     * overloading here.
     *
     * @param {?} action
     * @param {?} context
     * @return {?}
     */
    UIMeta.prototype.fireActionFromProps = /**
     *
     * Just need to call it different than the other fireAction as I can not do any method
     * overloading here.
     *
     * @param {?} action
     * @param {?} context
     * @return {?}
     */
    function (action, context) {
        context.push();
        /** @type {?} */
        var actionCategory = action.properties.get(ObjectMeta.KeyActionCategory);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(actionCategory)) {
            actionCategory = ObjectMeta.DefaultActionCategory;
        }
        context.set(ObjectMeta.KeyActionCategory, actionCategory);
        context.set(ObjectMeta.KeyAction, action.name);
        this._fireAction(context, false);
        context.pop();
    };
    /**
     * @param {?} context
     * @param {?=} withBackAction
     * @return {?}
     */
    UIMeta.prototype.fireAction = /**
     * @param {?} context
     * @param {?=} withBackAction
     * @return {?}
     */
    function (context, withBackAction) {
        if (withBackAction === void 0) { withBackAction = false; }
        context.push();
        this._fireAction(context, withBackAction);
        context.pop();
    };
    /**
     * @param {?} context
     * @param {?} withBackAction
     * @return {?}
     */
    UIMeta.prototype._fireAction = /**
     * @param {?} context
     * @param {?} withBackAction
     * @return {?}
     */
    function (context, withBackAction) {
        /** @type {?} */
        var actionResults = context.propertyForKey('actionResults');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(actionResults) || !this.isRoute(actionResults)) {
            return;
        }
        this.naviateToPage(context, actionResults, withBackAction);
    };
    /**
     * @param {?} context
     * @param {?} route
     * @param {?} withBackAction
     * @return {?}
     */
    UIMeta.prototype.naviateToPage = /**
     * @param {?} context
     * @param {?} route
     * @param {?} withBackAction
     * @return {?}
     */
    function (context, route, withBackAction) {
        /** @type {?} */
        var params = this.prepareRoute(context, withBackAction);
        /** @type {?} */
        var uiContex = /** @type {?} */ (context);
        this.routingService.navigateWithRoute(route, params, uiContex.object);
    };
    /**
     * @param {?} context
     * @param {?} withBackAction
     * @return {?}
     */
    UIMeta.prototype.prepareRoute = /**
     * @param {?} context
     * @param {?} withBackAction
     * @return {?}
     */
    function (context, withBackAction) {
        /** @type {?} */
        var params = {};
        /** @type {?} */
        var pageBindings = context.propertyForKey('pageBindings');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(pageBindings)) {
            pageBindings.forEach(function (v, k) {
                if (k !== ObjectMeta.KeyObject) {
                    (/** @type {?} */ (params))[k] = context.resolveValue(v);
                }
            });
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(withBackAction)) {
                (/** @type {?} */ (params))['b'] = withBackAction;
            }
        }
        return params;
    };
    /**
     * @param {?} component
     * @param {?} context
     * @param {?} withBackAction
     * @return {?}
     */
    UIMeta.prototype.prepareRouteForComponent = /**
     * @param {?} component
     * @param {?} context
     * @param {?} withBackAction
     * @return {?}
     */
    function (component, context, withBackAction) {
        /** @type {?} */
        var params = {};
        /** @type {?} */
        var pageBindings = context.propertyForKey('pageBindings');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(pageBindings)) {
            pageBindings.forEach(function (v, k) {
                component[k] = v;
            });
        }
        return params;
    };
    /**
     * @param {?} module
     * @param {?=} activatedPath
     * @return {?}
     */
    UIMeta.prototype.gotoModule = /**
     * @param {?} module
     * @param {?=} activatedPath
     * @return {?}
     */
    function (module, activatedPath) {
        this.env.deleteValue(ACTIVE_CNTX);
        /** @type {?} */
        var context = this.newContext();
        context.push();
        context.set(UIMeta.KeyModule, module.name);
        /** @type {?} */
        var pageName = context.propertyForKey(UIMeta.KeyHomePage);
        /** @type {?} */
        var route = this.routingService.routeForPage(pageName, module.name.toLowerCase(), activatedPath);
        if (activatedPath === '/') {
            activatedPath = '';
        }
        /** @type {?} */
        var path = activatedPath + "/" + route.path;
        /** @type {?} */
        var params = this.prepareRoute(context, null);
        context.pop();
        this.routingService.navigate([path, params], { skipLocationChange: true });
    };
    /**
     * @param {?} actionResult
     * @return {?}
     */
    UIMeta.prototype.isRoute = /**
     * @param {?} actionResult
     * @return {?}
     */
    function (actionResult) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isStringMap"])(actionResult) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(actionResult['path']);
    };
    /**
     * @param {?} name
     * @return {?}
     */
    UIMeta.prototype.compPageWithName = /**
     * @param {?} name
     * @return {?}
     */
    function (name) {
        /** @type {?} */
        var currType = this.componentRegistry.nameToType.get(name);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(currType)) {
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(false, name + ' component does not exists. Create Dummy Component instead of' +
                ' throwing this error');
            return;
        }
        return currType;
    };
    // caller must push/pop!
    /**
     * @param {?} context
     * @param {?} result
     * @param {?} zones
     * @return {?}
     */
    UIMeta.prototype.actionsByCategory = /**
     * @param {?} context
     * @param {?} result
     * @param {?} zones
     * @return {?}
     */
    function (context, result, zones) {
        /** @type {?} */
        var catNames = [];
        /** @type {?} */
        var actionCategories = this.itemList(context, ObjectMeta.KeyActionCategory, zones);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(actionCategories)) {
            actionCategories.forEach(function (item) { return catNames.push(item.name); });
        }
        this.addActionsForCategories(context, result, catNames);
        return actionCategories;
    };
    /**
     * @param {?} context
     * @param {?} result
     * @param {?} catNames
     * @return {?}
     */
    UIMeta.prototype.addActionsForCategories = /**
     * @param {?} context
     * @param {?} result
     * @param {?} catNames
     * @return {?}
     */
    function (context, result, catNames) {
        try {
            for (var catNames_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(catNames), catNames_1_1 = catNames_1.next(); !catNames_1_1.done; catNames_1_1 = catNames_1.next()) {
                var cat = catNames_1_1.value;
                context.push();
                if (cat !== ObjectMeta.DefaultActionCategory) {
                    context.set(ObjectMeta.KeyActionCategory, cat);
                }
                this.collectActionsByCategory(context, result, cat);
                context.pop();
            }
        }
        catch (e_8_1) { e_8 = { error: e_8_1 }; }
        finally {
            try {
                if (catNames_1_1 && !catNames_1_1.done && (_a = catNames_1.return)) _a.call(catNames_1);
            }
            finally { if (e_8) throw e_8.error; }
        }
        var e_8, _a;
    };
    /**
     * @param {?} context
     * @param {?} result
     * @param {?} targetCat
     * @return {?}
     */
    UIMeta.prototype.collectActionsByCategory = /**
     * @param {?} context
     * @param {?} result
     * @param {?} targetCat
     * @return {?}
     */
    function (context, result, targetCat) {
        /** @type {?} */
        var actionInfos = this.itemProperties(context, ObjectMeta.KeyAction, true);
        try {
            for (var actionInfos_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(actionInfos), actionInfos_1_1 = actionInfos_1.next(); !actionInfos_1_1.done; actionInfos_1_1 = actionInfos_1.next()) {
                var actionInfo = actionInfos_1_1.value;
                context.push();
                context.set(ObjectMeta.KeyAction, actionInfo.name);
                /** @type {?} */
                var visible = context.booleanPropertyForKey(ObjectMeta.KeyVisible, true);
                context.pop();
                if (visible) {
                    /** @type {?} */
                    var category = actionInfo.properties.get(ObjectMeta.KeyActionCategory);
                    if (category == null) {
                        category = ObjectMeta.DefaultActionCategory;
                    }
                    if (targetCat !== category) {
                        continue;
                    }
                    /** @type {?} */
                    var forCategory = result.get(category);
                    if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(forCategory)) {
                        forCategory = [];
                        result.set(category, forCategory);
                    }
                    forCategory.push(actionInfo);
                }
            }
        }
        catch (e_9_1) { e_9 = { error: e_9_1 }; }
        finally {
            try {
                if (actionInfos_1_1 && !actionInfos_1_1.done && (_a = actionInfos_1.return)) _a.call(actionInfos_1);
            }
            finally { if (e_9) throw e_9.error; }
        }
        var e_9, _a;
    };
    /**
     * @param {?=} context
     * @param {?=} checkVisibility
     * @return {?}
     */
    UIMeta.prototype.computeModuleInfo = /**
     * @param {?=} context
     * @param {?=} checkVisibility
     * @return {?}
     */
    function (context, checkVisibility) {
        if (context === void 0) { context = this.newContext(); }
        if (checkVisibility === void 0) { checkVisibility = true; }
        /** @type {?} */
        var moduleInfo = new ModuleInfo();
        moduleInfo.modules = [];
        /** @type {?} */
        var allModuleProps = this.itemList(context, UIMeta.KeyModule, UIMeta.ActionZones);
        moduleInfo.moduleNames = [];
        moduleInfo.moduleByNames = new Map();
        try {
            for (var allModuleProps_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(allModuleProps), allModuleProps_1_1 = allModuleProps_1.next(); !allModuleProps_1_1.done; allModuleProps_1_1 = allModuleProps_1.next()) {
                var module = allModuleProps_1_1.value;
                context.push();
                context.set(UIMeta.KeyModule, module.name);
                if (checkVisibility && !context.booleanPropertyForKey(UIMeta.KeyVisible, true)) {
                    context.pop();
                    continue;
                }
                moduleInfo.moduleNames.push(module.name);
                /** @type {?} */
                var modProperties = new ItemProperties(module.name, context.allProperties(), false);
                moduleInfo.modules.push(modProperties);
                moduleInfo.moduleByNames.set(module.name, modProperties);
                context.pop();
            }
        }
        catch (e_10_1) { e_10 = { error: e_10_1 }; }
        finally {
            try {
                if (allModuleProps_1_1 && !allModuleProps_1_1.done && (_a = allModuleProps_1.return)) _a.call(allModuleProps_1);
            }
            finally { if (e_10) throw e_10.error; }
        }
        context.push();
        context.set(UIMeta.KeyModule, moduleInfo.moduleNames);
        moduleInfo.actionsByCategory = new Map();
        moduleInfo.actionCategories = this.actionsByCategory(context, moduleInfo.actionsByCategory, UIMeta.ModuleActionZones);
        context.pop();
        return moduleInfo;
        var e_10, _a;
    };
    /**
     * @param {?} moduleName
     * @param {?=} context
     * @return {?}
     */
    UIMeta.prototype.currentModuleLabel = /**
     * @param {?} moduleName
     * @param {?=} context
     * @return {?}
     */
    function (moduleName, context) {
        if (context === void 0) { context = this.newContext(); }
        context.push();
        context.set(UIMeta.KeyModule, moduleName);
        /** @type {?} */
        var label = context.propertyForKey(UIMeta.KeyLabel);
        context.pop();
        return label;
    };
    UIMeta.KeyOperation = 'operation';
    UIMeta.KeyModule = 'module';
    UIMeta.KeyLayout = 'layout';
    UIMeta.KeyArea = 'area';
    UIMeta.KeyEditing = 'editing';
    UIMeta.KeyAfter = 'after';
    UIMeta.KeyHidden = 'hidden';
    UIMeta.KeyLabel = 'label';
    UIMeta.KeyComponentName = 'component';
    UIMeta.KeyBindings = 'bindings';
    UIMeta.KeyHomePage = 'homePage';
    UIMeta.KeyZonePath = 'zonePath';
    UIMeta.PropFieldsByZone = 'fieldsByZone';
    UIMeta.PropIsFieldsByZone = 'fiveZoneLayout';
    UIMeta.PropActionsByCategory = 'actionsByCategory';
    UIMeta.PropActionCategories = 'actionCategories';
    UIMeta.PropFieldPropertyList = 'fieldPropertyList';
    UIMeta.PropLayoutsByZone = 'layoutsByZone';
    UIMeta.KeyWrapperComponent = 'wrapperComponent';
    UIMeta.KeyWrapperBinding = 'wrapperBindings';
    UIMeta.RootPredecessorKey = '_root';
    UIMeta.ZoneMain = 'zMain';
    UIMeta.ZoneTop = 'zTop';
    UIMeta.ZoneLeft = 'zLeft';
    UIMeta.ZoneMiddle = 'zMiddle';
    UIMeta.ZoneRight = 'zRight';
    UIMeta.ZoneBottom = 'zBottom';
    UIMeta.ZoneDetail = 'zDetail';
    UIMeta.AppConfigRuleFilesParam = 'metaui.rules.file-names';
    UIMeta.AppConfigUserRulesParam = 'metaui.rules.user-rules';
    UIMeta.ZonesTLRMB = [
        UIMeta.ZoneTop, UIMeta.ZoneLeft, UIMeta.ZoneMiddle,
        UIMeta.ZoneRight, UIMeta.ZoneBottom
    ];
    UIMeta.ZonesMTLRB = [
        UIMeta.ZoneMain, UIMeta.ZoneTop, UIMeta.ZoneLeft, UIMeta.ZoneRight, UIMeta.ZoneBottom
    ];
    UIMeta.ZonesDetail = [UIMeta.ZoneDetail];
    UIMeta._instance = null;
    UIMeta.ModuleActionZones = ['zNav', 'zGlobal'];
    UIMeta.ActionZones = ['zGlobal', 'zMain', 'zGeneral'];
    return UIMeta;
}(ObjectMeta));
var ModuleInfo = /** @class */ (function () {
    function ModuleInfo() {
    }
    return ModuleInfo;
}());
var LocalizedString = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(LocalizedString, _super);
    function LocalizedString(meta, _module, _key, _defaultValue) {
        var _this = _super.call(this) || this;
        _this.meta = meta;
        _this._module = _module;
        _this._key = _key;
        _this._defaultValue = _defaultValue;
        return _this;
    }
    /**
     * @param {?} context
     * @return {?}
     */
    LocalizedString.prototype.evaluate = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        // let clazz = context.values.get('class');
        // if (isPresent(this._key) && isPresent(this.meta.i18nService)) {
        //     let i18nKey = clazz + '.' + this._key;
        //     localizedString = this.meta.i18nService.instant(i18nKey);
        //
        //     // when it return the same string most likely it means there is no
        //     // translation so default it to null
        //     localizedString = (localizedString === i18nKey) ? null : localizedString;
        // }
        // if (isBlank(localizedString) || this._key === ObjectMeta.KeyField) {
        //     return this._defaultValue;
        // }
        return this._defaultValue;
    };
    /**
     * @return {?}
     */
    LocalizedString.prototype.toString = /**
     * @return {?}
     */
    function () {
        return 'LocaledString: {' + this._key + ' - ' + this._defaultValue + ' }';
    };
    return LocalizedString;
}(DynamicPropertyValue));
var LocalizedLabelString = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(LocalizedLabelString, _super);
    function LocalizedLabelString(meta) {
        var _this = _super.call(this, meta, LocalizedLabelString.DefaultModule, null, null) || this;
        _this.meta = meta;
        _this.propertyAwaking = true;
        return _this;
    }
    /**
     * @param {?} context
     * @return {?}
     */
    LocalizedLabelString.prototype.evaluate = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._key)) {
            /** @type {?} */
            var scopeKey = context.values.get(Meta.ScopeKey);
            /** @type {?} */
            var scopeVal = context.values.get(scopeKey);
            this._defaultValue = UIMeta.defaultLabelForIdentifier(scopeVal);
            this._key = scopeKey;
        }
        return _super.prototype.evaluate.call(this, context);
    };
    /**
     * @param {?} map
     * @return {?}
     */
    LocalizedLabelString.prototype.awakeForPropertyMap = /**
     * @param {?} map
     * @return {?}
     */
    function (map) {
        return new LocalizedLabelString(this.meta);
    };
    LocalizedLabelString.DefaultModule = 'default';
    return LocalizedLabelString;
}(LocalizedString));
var PropFieldsByZoneResolver = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(PropFieldsByZoneResolver, _super);
    function PropFieldsByZoneResolver() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * @param {?} context
     * @return {?}
     */
    PropFieldsByZoneResolver.prototype.evaluate = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        /** @type {?} */
        var m = (/** @type {?} */ (context.meta)).itemNamesByZones(context, UIMeta.KeyField, (/** @type {?} */ (context.meta)).zones(context));
        /** @type {?} */
        var zonePath = (/** @type {?} */ (context.meta)).zonePath(context);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(zonePath)) {
            m = /** @type {?} */ (_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["FieldPath"].getFieldValue(m, zonePath));
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(m)) {
                m = new Map();
            }
        }
        return m;
    };
    return PropFieldsByZoneResolver;
}(StaticallyResolvable));
var PropFieldPropertyListResolver = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(PropFieldPropertyListResolver, _super);
    function PropFieldPropertyListResolver() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * @param {?} context
     * @return {?}
     */
    PropFieldPropertyListResolver.prototype.evaluate = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        return (/** @type {?} */ (context.meta)).fieldList(context);
    };
    return PropFieldPropertyListResolver;
}(StaticallyResolvable));
var PropLayoutsByZoneResolver = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(PropLayoutsByZoneResolver, _super);
    function PropLayoutsByZoneResolver() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * @param {?} context
     * @return {?}
     */
    PropLayoutsByZoneResolver.prototype.evaluate = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        return (/** @type {?} */ (context.meta)).itemNamesByZones(context, UIMeta.KeyLayout, (/** @type {?} */ (context.meta)).zones(context));
    };
    return PropLayoutsByZoneResolver;
}(StaticallyResolvable));
var _DefaultLabelGenerator = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(_DefaultLabelGenerator, _super);
    function _DefaultLabelGenerator(_key) {
        var _this = _super.call(this) || this;
        _this._key = _key;
        return _this;
    }
    /**
     * @param {?} context
     * @return {?}
     */
    _DefaultLabelGenerator.prototype.evaluate = /**
     * @param {?} context
     * @return {?}
     */
    function (context) {
        /** @type {?} */
        var fieldName = context.values.get(this._key);
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(fieldName) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isString"])(fieldName)) ?
            UIMeta.defaultLabelForIdentifier(fieldName) : null;
    };
    return _DefaultLabelGenerator;
}(StaticallyResolvable));
/**
 * Load User defined meta data. This class is triggered as soon as we create a context and
 * pass an object into it. Based on the object we notify different Observers passing name
 * of the class and here we search if we have any Rules available for current className and
 * try to load the Rule.
 */
var /**
 * Load User defined meta data. This class is triggered as soon as we create a context and
 * pass an object into it. Based on the object we notify different Observers passing name
 * of the class and here we search if we have any Rules available for current className and
 * try to load the Rule.
 */
UserMetaDataProvider = /** @class */ (function () {
    function UserMetaDataProvider() {
    }
    /**
     * @param {?} meta
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    UserMetaDataProvider.prototype.notify = /**
     * @param {?} meta
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (meta, key, value) {
        /** @type {?} */
        var aRules;
        /** @type {?} */
        var uiMeta = /** @type {?} */ (meta);
        if (uiMeta._testRules.has(value + 'Rule')) {
            // since we are in development mode and test mode is on we can check extra repository
            // used by tests, we need to check if we are not running unittest and a class is not
            // application defined but unittest defined rule
            if (uiMeta._testRules.has(value + 'Rule') &&
                Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(uiMeta._testRules.get(value + 'Rule').oss)) {
                aRules = uiMeta._testRules.get(value + 'Rule').oss;
            }
            meta.loadUserRule(aRules, value);
        }
        else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(uiMeta.appConfig) &&
            uiMeta.appConfig.get(UIMeta.AppConfigUserRulesParam)) {
            /** @type {?} */
            var userReferences = uiMeta.appConfig.get(UIMeta.AppConfigUserRulesParam);
            for (var i in userReferences) {
                if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(userReferences[i][value + 'Rule']) &&
                    Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(userReferences[i][value + 'Rule'].oss)) {
                    aRules = userReferences[i][value + 'Rule'].oss;
                }
            }
            meta.loadUserRule(aRules, value);
        }
    };
    return UserMetaDataProvider;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 * Constant represent current active and mainly latest Context
 *
  @type {?} */
var ACTIVE_CNTX = 'CurrentMC';
/** @type {?} */
var IMPLICIT_PROPERTIES = [
    'module', 'layout', 'operation', 'class', 'object', 'actionCategory', 'action', 'field',
    'pushNewContext'
];
/** @type {?} */
var IMMUTABLE_PROPERTIES = [
    'module', 'layout', 'operation', 'class', 'action', 'field', 'pushNewContext'
];
var MetaContextComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MetaContextComponent, _super);
    function MetaContextComponent(elementRef, env, parentContainer) {
        var _this = _super.call(this, env, null) || this;
        _this.elementRef = elementRef;
        _this.env = env;
        _this.parentContainer = parentContainer;
        _this.beforeContextSet = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        _this.onContextChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        _this.afterContextSet = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        _this.onAction = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        /**
         * Flag that tells us that component is fully rendered
         *
         */
        _this.viewInitialized = false;
        /**
         *
         * Marks MetaContext or the root MetaContext that created a new Context
         *
         */
        _this.contextCreated = false;
        _this.bindingKeys = [];
        return _this;
    }
    /**
     * @return {?}
     */
    MetaContextComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.initBindings();
        this.hasObject = this._hasObject();
        // MetaContextComponent.stackDepth++;
        // console.log(this.indent() + '=> ngOnInit:', this.contextKey());
        // Initial push, when component is first initialized the rest is done based on changes.
        this.pushPop(true);
        if (!this.env.hasValue('parent-cnx')) {
            this.env.setValue('parent-cnx', this);
        }
    };
    /**
     * For any other immutable object detect changes here and refresh the context stack
     *
     * @param changes
     */
    /**
     * For any other immutable object detect changes here and refresh the context stack
     *
     * @param {?} changes
     * @return {?}
     */
    MetaContextComponent.prototype.ngOnChanges = /**
     * For any other immutable object detect changes here and refresh the context stack
     *
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        // console.log(this.indent() + '    => ngOnChanges', this.contextKey());
        try {
            // console.log(this.indent() + '    => ngOnChanges', this.contextKey());
            for (var IMMUTABLE_PROPERTIES_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(IMMUTABLE_PROPERTIES), IMMUTABLE_PROPERTIES_1_1 = IMMUTABLE_PROPERTIES_1.next(); !IMMUTABLE_PROPERTIES_1_1.done; IMMUTABLE_PROPERTIES_1_1 = IMMUTABLE_PROPERTIES_1.next()) {
                var name_1 = IMMUTABLE_PROPERTIES_1_1.value;
                if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(changes[name_1])
                    && (changes[name_1].currentValue !== changes[name_1].previousValue)) {
                    this.initBindings();
                    break;
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (IMMUTABLE_PROPERTIES_1_1 && !IMMUTABLE_PROPERTIES_1_1.done && (_a = IMMUTABLE_PROPERTIES_1.return)) _a.call(IMMUTABLE_PROPERTIES_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        // in case object is coming late e.g. from some reactive API like REST then we
        // do not get it into ngInit but it will be here.
        if (this.viewInitialized && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(changes['object']) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.object)) {
            this.initBindings();
        }
        var e_1, _a;
    };
    /**
     * Ng check is trigged after view is fully inialized and we want to push everything new
     * properties to the context and evaluate everything.
     *
     *
     */
    /**
     * Ng check is trigged after view is fully inialized and we want to push everything new
     * properties to the context and evaluate everything.
     *
     *
     * @return {?}
     */
    MetaContextComponent.prototype.ngDoCheck = /**
     * Ng check is trigged after view is fully inialized and we want to push everything new
     * properties to the context and evaluate everything.
     *
     *
     * @return {?}
     */
    function () {
        if (this.viewInitialized) {
            this.hasObject = this._hasObject();
            // MetaContextComponent.stackDepth++;
            this.pushPop(true);
            // console.log(this.indent() + '=> ngDoCheck(CHANGED)', this.contextKey());
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.object) && !Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["equals"])(this.prevObject, this.object)) {
                this.updateModel();
            }
        }
    };
    /**
     * We want to start detecting changes only after view is fully checked
     */
    /**
     * We want to start detecting changes only after view is fully checked
     * @return {?}
     */
    MetaContextComponent.prototype.ngAfterViewInit = /**
     * We want to start detecting changes only after view is fully checked
     * @return {?}
     */
    function () {
        if (!this.viewInitialized) {
            // console.log(this.indent() + '=> ngAfterViewInit:', this.contextKey());
            // MetaContextComponent.stackDepth--;
            this.pushPop(false);
        }
    };
    /**
     * @return {?}
     */
    MetaContextComponent.prototype.ngAfterViewChecked = /**
     * @return {?}
     */
    function () {
        if (this.viewInitialized) {
            // console.log(this.indent() + '=> ngAfterViewChecked:', this.contextKey());
            // MetaContextComponent.stackDepth--;
            this.pushPop(false);
        }
        else {
            this.viewInitialized = true;
        }
    };
    /**
     *
     * This is our key method that triggers all the interaction inside MetaUI world. Here we
     * push context keys and their values to the stack and this is the thing that triggers
     * rule recalculation which give us updated  properties. Those are then used by
     * MetaIncludeComponent to render the UI.
     *
     * myContext is current context for this MetaContext Component.
     *
     * @param {?} isPush identifies if we are pushing or popping to context stack
     * @return {?}
     */
    MetaContextComponent.prototype.pushPop = /**
     *
     * This is our key method that triggers all the interaction inside MetaUI world. Here we
     * push context keys and their values to the stack and this is the thing that triggers
     * rule recalculation which give us updated  properties. Those are then used by
     * MetaIncludeComponent to render the UI.
     *
     * myContext is current context for this MetaContext Component.
     *
     * @param {?} isPush identifies if we are pushing or popping to context stack
     * @return {?}
     */
    function (isPush) {
        /** @type {?} */
        var activeContext = this.activeContext();
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(isPush || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(activeContext), 'pop(): Missing context');
        /** @type {?} */
        var forceCreate = isPush && (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.pushNewContext) && this.pushNewContext);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(activeContext) || forceCreate) {
            /** @type {?} */
            var metaUI = UIMeta.getInstance();
            activeContext = metaUI.newContext(forceCreate);
            this.contextCreated = true;
            this.env.push(ACTIVE_CNTX, activeContext);
        }
        if (isPush) {
            activeContext.push();
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._scopeBinding) && this.hasObject) {
                this.beforeContextSet.emit(this._scopeBinding);
                activeContext.setScopeKey(this._scopeBinding);
                this.afterContextSet.emit(this._scopeBinding);
            }
            else {
                for (var index = 0; index < this.bindingKeys.length; index++) {
                    /** @type {?} */
                    var key = this.bindingKeys[index];
                    /** @type {?} */
                    var value = this.bindingsMap.get(key);
                    this.beforeContextSet.emit(value);
                    activeContext.set(key, value);
                    this.afterContextSet.emit(value);
                }
            }
            // Save created content to local MetaContext
            this._myContext = activeContext.snapshot().hydrate(false);
        }
        else {
            activeContext.pop();
            if (this.contextCreated) {
                this.env.pop(ACTIVE_CNTX);
            }
        }
    };
    /**
     * Just for troubleshooting to print current context and assignments
     *
     */
    /**
     * Just for troubleshooting to print current context and assignments
     *
     * @return {?}
     */
    MetaContextComponent.prototype.debugString = /**
     * Just for troubleshooting to print current context and assignments
     *
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._myContext)) {
            return this._myContext.debugString();
        }
    };
    /**
     * For debugging to identify current key
     */
    // contextKey(): string
    // {
    //     let cnxKey = '';
    //     if (isPresent(this.bindingKeys) && this.bindingKeys.length > 0) {
    //         this.bindingKeys.forEach((name) =>
    //         {
    //             if (name === 'object') {
    //                 cnxKey += name;
    //             } else {
    //                 cnxKey += name + this.bindingsMap.get(name);
    //             }
    //
    //
    //         });
    //     } else if (isPresent(this._scopeBinding)) {
    //         cnxKey += this._scopeBinding;
    //     }
    //     return cnxKey;
    // }
    /**
     *
     * Every meta context component which pushing certain properties to stack has its own context
     * that lives until component is destroyed
     *
     */
    /**
     *
     * Every meta context component which pushing certain properties to stack has its own context
     * that lives until component is destroyed
     *
     * @return {?}
     */
    MetaContextComponent.prototype.myContext = /**
     *
     * Every meta context component which pushing certain properties to stack has its own context
     * that lives until component is destroyed
     *
     * @return {?}
     */
    function () {
        return this._myContext;
        // let cnxKey = this.contextKey();
        // return this.env.getValue(cnxKey);
    };
    /**
     * We keep the most current and latest context to environment to be read by any Child
     * MetaContext for purpose of creation new context and it needs info what was already pushed
     * onto the stack.
     *
     */
    /**
     * We keep the most current and latest context to environment to be read by any Child
     * MetaContext for purpose of creation new context and it needs info what was already pushed
     * onto the stack.
     *
     * @return {?}
     */
    MetaContextComponent.prototype.activeContext = /**
     * We keep the most current and latest context to environment to be read by any Child
     * MetaContext for purpose of creation new context and it needs info what was already pushed
     * onto the stack.
     *
     * @return {?}
     */
    function () {
        return this.env.peak(ACTIVE_CNTX);
    };
    /**
     * Let's clean up and destroy pushed context
     */
    /**
     * Let's clean up and destroy pushed context
     * @return {?}
     */
    MetaContextComponent.prototype.ngOnDestroy = /**
     * Let's clean up and destroy pushed context
     * @return {?}
     */
    function () {
        if (this.env.hasValue('parent-cnx')) {
            this.env.deleteValue('parent-cnx');
        }
    };
    /**
     * Ideally we do not need this method if Angular would support to pass variable number of
     * bindings without a need to have backup property for each of the bindings or expression./
     *
     * Once they support. we can remove this. Since this check what are known bindings passed,
     * meaning the ones decorated with \@Input and the rest
     *
     * @return {?}
     */
    MetaContextComponent.prototype.initBindings = /**
     * Ideally we do not need this method if Angular would support to pass variable number of
     * bindings without a need to have backup property for each of the bindings or expression./
     *
     * Once they support. we can remove this. Since this check what are known bindings passed,
     * meaning the ones decorated with \@Input and the rest
     *
     * @return {?}
     */
    function () {
        var _this = this;
        this.bindingsMap = new Map();
        /** @type {?} */
        var nativeElement = this.elementRef.nativeElement;
        this.initImplicitBindings();
        for (var i = 0; i < nativeElement.attributes.length; i++) {
            /** @type {?} */
            var attr = nativeElement.attributes.item(i);
            if (this.ignoreBinding(attr)) {
                continue;
            }
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(attr.name) && attr.name.toLowerCase() === 'scopekey') {
                this._scopeBinding = attr.value;
            }
            else {
                this.bindingsMap.set(attr.name, attr.value);
            }
        }
        this.bindingKeys = [];
        this.bindingsMap.forEach(function (value, key) {
            _this.bindingKeys.push(key);
        });
        // Sort them by their importance or rank
        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].sortByExample(this.bindingKeys, IMPLICIT_PROPERTIES);
    };
    /**
     * The thing we want is to pass variable number of bindings and resolve them programmatically.
     * Currently in Angular we cannot do this we have these set of properties where we expect
     * some expression, some dynamic properties. For the rest we expect only string literal to be
     * passed in therefore we can resolve them with nativeElement.attributes
     *
     * @return {?}
     */
    MetaContextComponent.prototype.initImplicitBindings = /**
     * The thing we want is to pass variable number of bindings and resolve them programmatically.
     * Currently in Angular we cannot do this we have these set of properties where we expect
     * some expression, some dynamic properties. For the rest we expect only string literal to be
     * passed in therefore we can resolve them with nativeElement.attributes
     *
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.module)) {
            this.bindingsMap.set('module', this.module);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.layout)) {
            this.bindingsMap.set('layout', this.layout);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.operation)) {
            this.bindingsMap.set('operation', this.operation);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.class)) {
            this.bindingsMap.set('class', this.class);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.object)) {
            this.bindingsMap.set('object', this.object);
            this.prevObject = Object.assign({}, this.object);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.actionCategory)) {
            this.bindingsMap.set('actionCategory', this.actionCategory);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.action)) {
            this.bindingsMap.set('action', this.action);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.field)) {
            this.bindingsMap.set('field', this.field);
        }
    };
    /**
     *
     * Since we are going thru the element' attributes we want to skip anything that has nothign
     * to do with us.
     *
     * @param {?} attr
     * @return {?}
     */
    MetaContextComponent.prototype.ignoreBinding = /**
     *
     * Since we are going thru the element' attributes we want to skip anything that has nothign
     * to do with us.
     *
     * @param {?} attr
     * @return {?}
     */
    function (attr) {
        return IMPLICIT_PROPERTIES.indexOf(attr.name) !== -1 ||
            _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringWrapper"].contains(attr.name, '_ng') ||
            _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringWrapper"].contains(attr.name, 'ng-') ||
            _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringWrapper"].contains(attr.name, '(') ||
            (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(attr.value) || attr.value.length === 0);
    };
    /**
     * If object is changed we need to also update our angular model to reflect user changes. All
     * changes and updates in metaui use object references
     * @return {?}
     */
    MetaContextComponent.prototype.updateModel = /**
     * If object is changed we need to also update our angular model to reflect user changes. All
     * changes and updates in metaui use object references
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var fields = Object.keys(this.object);
        fields.forEach(function (field) {
            /** @type {?} */
            var control = /** @type {?} */ (_this.formGroup.get(field));
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(control)) {
                control.patchValue(_this.object[field], { onlySelf: false, emitEvent: true });
            }
        });
        this.prevObject = Object.assign({}, this.object);
    };
    /**
     * @return {?}
     */
    MetaContextComponent.prototype._hasObject = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var context = this.activeContext();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(context)) {
            return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])((/** @type {?} */ (context)).object);
        }
        return false;
    };
    MetaContextComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"], args: [{
                    selector: 'm-context',
                    template: '<ng-content></ng-content>',
                    changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ChangeDetectionStrategy"].OnPush,
                    providers: [
                        { provide: _aribaui_components__WEBPACK_IMPORTED_MODULE_3__["BaseFormComponent"], useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["forwardRef"])(function () { return MetaContextComponent; }) }
                    ]
                }] }
    ];
    /** @nocollapse */
    MetaContextComponent.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ElementRef"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _aribaui_components__WEBPACK_IMPORTED_MODULE_3__["BaseFormComponent"], decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["SkipSelf"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["forwardRef"])(function () { return _aribaui_components__WEBPACK_IMPORTED_MODULE_3__["BaseFormComponent"]; }),] }] }
    ]; };
    MetaContextComponent.propDecorators = {
        module: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        layout: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        operation: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        class: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        object: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        actionCategory: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        action: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        field: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        pushNewContext: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        beforeContextSet: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"] }],
        onContextChanged: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"] }],
        afterContextSet: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"] }],
        onAction: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"] }]
    };
    return MetaContextComponent;
}(_aribaui_components__WEBPACK_IMPORTED_MODULE_3__["BaseFormComponent"]));
/**
 *
 * Defines format for the broadcasted action event. MetaUI can also execute actions which needs to
 * be handled by application or actual component using this m-context.
 *
 */
var  /**
 *
 * Defines format for the broadcasted action event. MetaUI can also execute actions which needs to
 * be handled by application or actual component using this m-context.
 *
 */
MetaUIActionEvent = /** @class */ (function () {
    function MetaUIActionEvent(component, eventName, cnxName, data) {
        this.component = component;
        this.eventName = eventName;
        this.cnxName = cnxName;
        this.data = data;
    }
    return MetaUIActionEvent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWMetaCoreModule = /** @class */ (function () {
    function AWMetaCoreModule() {
    }
    AWMetaCoreModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["NgModule"], args: [{
                    declarations: [
                        MetaContextComponent
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_6__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ReactiveFormsModule"]
                    ],
                    entryComponents: [
                        MetaContextComponent
                    ],
                    exports: [
                        MetaContextComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormsModule"]
                    ],
                    providers: []
                },] }
    ];
    return AWMetaCoreModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var RuleLoaderService = /** @class */ (function () {
    function RuleLoaderService() {
    }
    Object.defineProperty(RuleLoaderService.prototype, "uiMeta", {
        get: /**
         * @return {?}
         */
        function () {
            return this._uiMeta;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._uiMeta = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} meta
     * @param {?} source
     * @param {?} module
     * @param {?} onRule
     * @return {?}
     */
    RuleLoaderService.prototype.loadRules = /**
     * @param {?} meta
     * @param {?} source
     * @param {?} module
     * @param {?} onRule
     * @return {?}
     */
    function (meta, source, module, onRule) {
        var _this = this;
        this._uiMeta = /** @type {?} */ (meta);
        source.forEach(function (val, index) {
            /** @type {?} */
            var rule = _this.readRule(val, module);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(onRule)) {
                onRule(rule);
            }
        });
    };
    /**
     * @param {?} source
     * @param {?} module
     * @return {?}
     */
    RuleLoaderService.prototype.loadRulesWithReturn = /**
     * @param {?} source
     * @param {?} module
     * @return {?}
     */
    function (source, module) {
        var _this = this;
        /** @type {?} */
        var rules = new Array();
        source.forEach(function (val, index) {
            /** @type {?} */
            var rule = _this.readRule(val, module);
            rules.push(rule);
        });
        return rules;
    };
    /**
     * @param {?} jsonRule
     * @param {?} module
     * @return {?}
     */
    RuleLoaderService.prototype.readRule = /**
     * @param {?} jsonRule
     * @param {?} module
     * @return {?}
     */
    function (jsonRule, module) {
        var _this = this;
        /** @type {?} */
        var selectors = new Array();
        try {
            for (var _a = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(jsonRule._selectors), _b = _a.next(); !_b.done; _b = _a.next()) {
                var item = _b.value;
                if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(item._value) && item._value.constructor === Object && Object.keys(item._value).length === 0) {
                    item._value = Meta.NullMarker;
                }
                /** @type {?} */
                var selector = new Selector(item._key, item._value, item._isDecl);
                selectors.push(selector);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
            }
            finally { if (e_1) throw e_1.error; }
        }
        /** @type {?} */
        var properties = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].createFromStringMapWithResolve(jsonRule._properties, function (k, v) {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isStringMap"])(v) &&
                Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(v['t'])) {
                return _this.resoveValue(v['t'], v, module);
            }
            else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isStringMap"])(v) && !Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(v)) {
                // we have some
                // other sub level
                // of object
                // literal - lets
                // convert this
                // into Map.
                return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].createFromStringMapWithResolve(v, function (key, val) {
                    return _this.resoveValue(val['t'], val, module);
                });
            }
            else if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isArray"])(v)) {
                // let convert with
                // typings as well
                return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["ListWrapper"].clone(v);
            }
            return v;
        });
        /** @type {?} */
        var props = properties.size === 0 ? undefined : properties;
        /** @type {?} */
        var rule = new Rule(selectors, props, jsonRule._rank);
        return rule;
        var e_1, _c;
    };
    /**
     * @param {?} type
     * @param {?} value
     * @param {?} module
     * @return {?}
     */
    RuleLoaderService.prototype.resoveValue = /**
     * @param {?} type
     * @param {?} value
     * @param {?} module
     * @return {?}
     */
    function (type, value, module) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(value)) {
            return null;
        }
        if (type === 'Expr') {
            return new Expr(value['v']);
        }
        else if (type === 'SDW') {
            /** @type {?} */
            var expr = new Expr(value['v']);
            return new StaticDynamicWrapper(new StaticallyResolvableWrapper(expr));
        }
        else if (type === 'CFP') {
            return new ContextFieldPath(value['v']);
        }
        else if (type === 'OV') {
            return new OverrideValue(value['v']);
        }
        else if (type === 'i18n' && value['v']['key']) {
            /** @type {?} */
            var locKey = value['v']['key'];
            return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._uiMeta) ? this._uiMeta.createLocalizedString(locKey, value['v']['defVal'])
                :
                    new LocalizedString(null, module, locKey, value['v']['defVal']);
        }
        return value;
    };
    RuleLoaderService.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Injectable"] }
    ];
    /** @nocollapse */
    RuleLoaderService.ctorParameters = function () { return []; };
    return RuleLoaderService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var NoMetaComponent = /** @class */ (function () {
    function NoMetaComponent() {
    }
    /**
     * @return {?}
     */
    NoMetaComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    NoMetaComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"], args: [{
                    selector: 'app-no-meta',
                    template: "\n        <h2>MetaIncludeComponentDirective Error:</h2>\n                No componentName property resolved in Context<br/>\n    ",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    NoMetaComponent.ctorParameters = function () { return []; };
    return NoMetaComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 *  MetaIncludeComponentDirective is (along with MetaContext) the key element for binding MetaUI
 * into AngularJs user interfaces. You can think of it such GLUE.
 *
 *  MetaIncludeComponentDirective dynamically switches in a Angular's component based on the
 * current MetaContext's
 * 'component' property and sets its bindings from the 'bindings' property.  This alone enables
 * almost any existing Angular's widget to be specified for use for a particular field or layout
 * using rules -- without any additional glue code .
 *
 *  component using 'wrapperComponent' and 'wrapperBindings', binding component content using the
 * bindings 'ngcontent', ngcontentLayout and 'ngcontentelElement', and event binding named Content
 * templates using an
 * 'awcontentLayouts' map binding. Without this we will not be able to use complex layouts.
 *
 */
var MetaIncludeComponentDirective = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MetaIncludeComponentDirective, _super);
    function MetaIncludeComponentDirective(metaContext, viewContainer, factoryResolver, env, cd, compRegistry, domUtils) {
        var _this = _super.call(this, viewContainer, factoryResolver, cd, compRegistry) || this;
        _this.metaContext = metaContext;
        _this.viewContainer = viewContainer;
        _this.factoryResolver = factoryResolver;
        _this.env = env;
        _this.cd = cd;
        _this.compRegistry = compRegistry;
        _this.domUtils = domUtils;
        return _this;
    }
    /**
     * First we simply render the a component in the ngOnInit() and then every time something
     * changes.
     */
    /**
     * First we simply render the a component in the ngOnInit() and then every time something
     * changes.
     * @return {?}
     */
    MetaIncludeComponentDirective.prototype.ngDoCheck = /**
     * First we simply render the a component in the ngOnInit() and then every time something
     * changes.
     * @return {?}
     */
    function () {
        /** @type {?} */
        var context = this.metaContext.myContext();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(context) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.currentComponent)) {
            // console.log('No context/ component for ' + this.name);
            return;
        }
        /** @type {?} */
        var newComponent = context.propertyForKey('component');
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(newComponent) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.name) && (this.name !== newComponent)) {
            this.viewContainer.clear();
            this.doRenderComponent();
            // console.log('MetaInclude(ngDoCheck- rerender ):', this.name);
            this.createWrapperElementIfAny();
            this.createContentElementIfAny();
        }
        else {
            /** @type {?} */
            var editable = context.propertyForKey(ObjectMeta.KeyEditable);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(editable)) {
                editable = context.propertyForKey(UIMeta.KeyEditing);
            }
            /** @type {?} */
            var metaBindings = context.propertyForKey(UIMeta.KeyBindings);
            /** @type {?} */
            var type = context.propertyForKey(ObjectMeta.KeyType);
            /** @type {?} */
            var inputs = this.componentReference().metadata.inputs;
            // re-apply Inputs
            // maybe we should diff properties and only if they changed re-apply
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(metaBindings) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(inputs)) {
                this.applyInputs(this.currentComponent, type, metaBindings, inputs, editable);
            }
        }
    };
    /*
     * Retrieves component Name from the Context.
     */
    /**
     * @return {?}
     */
    MetaIncludeComponentDirective.prototype.resolveComponentType = /**
     * @return {?}
     */
    function () {
        this.name = this.metaContext.myContext().propertyForKey(UIMeta.KeyComponentName);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.name)) {
            return NoMetaComponent;
        }
        return _super.prototype.resolveComponentType.call(this);
    };
    /*
     * If there is a NG content as part of the bindings apply it and remove it from the list. In
     * the MetaUI world it can appear if we want to insert a text content into the element:
     *
     *
     *  trait=toManyLink {
     *         component:AWHyperlink;
     *         bindings: {
     *             action: ${
     *                this.set("object", value);
     *                this.set("actionCategory", "General");
     *                this.set("action", "Inspect");
     *                 meta.fireAction(this, true)
     *             };
     *             awcontent: "Click Me";
     *         }
     *     }
     *
     *
     */
    /**
     * @return {?}
     */
    MetaIncludeComponentDirective.prototype.ngContent = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var cntValue;
        /** @type {?} */
        var bindings = this.metaContext.myContext().propertyForKey(UIMeta.KeyBindings);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(bindings) &&
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(cntValue = bindings.get(_aribaui_components__WEBPACK_IMPORTED_MODULE_3__["IncludeComponentDirective"].NgContent))) {
            cntValue = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isString"])(cntValue) ? cntValue :
                this.metaContext.myContext().resolveValue(cntValue);
        }
        return cntValue;
    };
    /**
     * @return {?}
     */
    MetaIncludeComponentDirective.prototype.ngContentElement = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var cntValue;
        /** @type {?} */
        var bindings = this.metaContext.myContext().propertyForKey(UIMeta.KeyBindings);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(bindings) &&
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(cntValue = bindings.get(_aribaui_components__WEBPACK_IMPORTED_MODULE_3__["IncludeComponentDirective"].NgContentElement))) {
            cntValue = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isString"])(cntValue) ? cntValue :
                this.metaContext.myContext().resolveValue(cntValue);
        }
        return cntValue;
    };
    /**
     * Implement custom behavior of adding ngcontentLayout described above (where the constant
     * is defined)
     *
     */
    /**
     * Implement custom behavior of adding ngcontentLayout described above (where the constant
     * is defined)
     *
     * @return {?}
     */
    MetaIncludeComponentDirective.prototype.createContentElementIfAny = /**
     * Implement custom behavior of adding ngcontentLayout described above (where the constant
     * is defined)
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var detectChanges = false;
        /** @type {?} */
        var bindings = this.metaContext.myContext().propertyForKey(UIMeta.KeyBindings);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(bindings) && bindings.has(MetaIncludeComponentDirective.NgContentLayout)) {
            /** @type {?} */
            var layoutName = bindings.get(MetaIncludeComponentDirective.NgContentLayout);
            /** @type {?} */
            var context = this.metaContext.myContext();
            context.push();
            context.set(UIMeta.KeyLayout, layoutName);
            /** @type {?} */
            var componentName = context.propertyForKey('component');
            /** @type {?} */
            var compType = this.compRegistry.nameToType.get(componentName);
            /** @type {?} */
            var componentFactory = this.factoryResolver
                .resolveComponentFactory(compType);
            /** @type {?} */
            var componentMeta = this.resolveDirective(componentFactory);
            /** @type {?} */
            var ngComponent = this.viewContainer.createComponent(componentFactory, 0);
            /** @type {?} */
            var cReference = {
                metadata: componentMeta,
                resolvedCompFactory: componentFactory,
                componentType: compType,
                componentName: componentName
            };
            this.applyBindings(cReference, ngComponent, context.propertyForKey(UIMeta.KeyBindings), false);
            this.domUtils.insertIntoParentNgContent(this.currentComponent.location.nativeElement, ngComponent.location.nativeElement);
            context.pop();
            detectChanges = true;
        }
        else {
            detectChanges = _super.prototype.createContentElementIfAny.call(this);
        }
        if (detectChanges) {
            // console.log('MetaInclude(createContentElementIfAny):', this.name);
            this.cd.detectChanges();
        }
        return detectChanges;
    };
    /**
     * Meta placeTheComponent needs to account for wrapper component. If wrapper component
     * is present. It needs to inject the wrapper component on the page and add this component
     * inside the wrapper component.
     */
    /**
     * Meta placeTheComponent needs to account for wrapper component. If wrapper component
     * is present. It needs to inject the wrapper component on the page and add this component
     * inside the wrapper component.
     * @return {?}
     */
    MetaIncludeComponentDirective.prototype.createWrapperElementIfAny = /**
     * Meta placeTheComponent needs to account for wrapper component. If wrapper component
     * is present. It needs to inject the wrapper component on the page and add this component
     * inside the wrapper component.
     * @return {?}
     */
    function () {
        /** @type {?} */
        var wrapperName = this.metaContext.myContext().propertyForKey(UIMeta.KeyWrapperComponent);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(wrapperName)) {
            return;
        }
        /** @type {?} */
        var wrapperType = this.compRegistry.nameToType.get(wrapperName);
        /** @type {?} */
        var componentFactory = this.factoryResolver
            .resolveComponentFactory(wrapperType);
        /** @type {?} */
        var componentMeta = this.resolveDirective(wrapperType);
        /** @type {?} */
        var wrapperComponent = this.viewContainer.createComponent(componentFactory);
        /** @type {?} */
        var wrapperBindings = this.metaContext.myContext().propertyForKey(UIMeta.KeyWrapperBinding);
        (/** @type {?} */ (wrapperComponent.instance))['bindings'] = wrapperBindings;
        /** @type {?} */
        var wrapperComponentRef = {
            metadata: componentMeta,
            resolvedCompFactory: componentFactory,
            componentType: wrapperType,
            componentName: wrapperName
        };
        this.applyBindings(wrapperComponentRef, wrapperComponent, wrapperBindings);
        this.domUtils.insertIntoParentNgContent(wrapperComponent.location.nativeElement, this.currentComponent.location.nativeElement);
    };
    /**
     * ApplyBindings reads the @Inputs from ComponentMetadata and check if there exists a binding
     * coming from MetaRules. If there is we assign it to the input.
     */
    /**
     * ApplyBindings reads the \@Inputs from ComponentMetadata and check if there exists a binding
     * coming from MetaRules. If there is we assign it to the input.
     * @param {?} cRef
     * @param {?} component
     * @param {?} bindings
     * @param {?=} bUseMetaBindings
     * @return {?}
     */
    MetaIncludeComponentDirective.prototype.applyBindings = /**
     * ApplyBindings reads the \@Inputs from ComponentMetadata and check if there exists a binding
     * coming from MetaRules. If there is we assign it to the input.
     * @param {?} cRef
     * @param {?} component
     * @param {?} bindings
     * @param {?=} bUseMetaBindings
     * @return {?}
     */
    function (cRef, component, bindings, bUseMetaBindings) {
        if (bUseMetaBindings === void 0) { bUseMetaBindings = true; }
        _super.prototype.applyBindings.call(this, cRef, component, bindings);
        /** @type {?} */
        var inputs = cRef.metadata.inputs;
        /** @type {?} */
        var outputs = cRef.metadata.outputs;
        /** @type {?} */
        var metaBindings = this.metaContext.myContext().propertyForKey(UIMeta.KeyBindings);
        /** @type {?} */
        var editable = this.metaContext.myContext().propertyForKey(ObjectMeta.KeyEditable);
        /** @type {?} */
        var type = this.metaContext.myContext().propertyForKey(ObjectMeta.KeyType);
        // There are cases where we want to use the bindings passed into this function.
        // For example, the wrapperBindings.
        if (!bUseMetaBindings) {
            metaBindings = bindings;
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(metaBindings) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(inputs)) {
            return;
        }
        /** @type {?} */
        var currenBindings = _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["MapWrapper"].clone(metaBindings);
        this.applyInputs(component, type, currenBindings, inputs, editable);
        this.applyOutputs(component, currenBindings, outputs);
    };
    /**
     * @param {?} component
     * @param {?} type
     * @param {?} bindings
     * @param {?} inputs
     * @param {?} editable
     * @param {?=} compToBeRendered
     * @return {?}
     */
    MetaIncludeComponentDirective.prototype.applyInputs = /**
     * @param {?} component
     * @param {?} type
     * @param {?} bindings
     * @param {?} inputs
     * @param {?} editable
     * @param {?=} compToBeRendered
     * @return {?}
     */
    function (component, type, bindings, inputs, editable, compToBeRendered) {
        if (compToBeRendered === void 0) { compToBeRendered = true; }
        // propagate a field type to bindings.
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(type) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(component.instance.canSetType) &&
            component.instance.canSetType()) {
            bindings.set(ObjectMeta.KeyType, type);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(editable) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(component.instance['editable'])) {
            component.instance['editable'] = editable;
        }
        try {
            for (var inputs_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(inputs), inputs_1_1 = inputs_1.next(); !inputs_1_1.done; inputs_1_1 = inputs_1.next()) {
                var key = inputs_1_1.value;
                /** @type {?} */
                var publicKey = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["nonPrivatePrefix"])(key);
                /** @type {?} */
                var value = bindings.get(publicKey);
                // Handle special case where we do not pass explicitly or inherit from parent @Input
                // name for the component
                if (key === 'name' && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(value)) {
                    value = this.metaContext.myContext().propertyForKey(ObjectMeta.KeyField);
                }
                if (this.skipInput(key, value)) {
                    continue;
                }
                // compToBeRendered = only first time
                if (compToBeRendered && value instanceof ContextFieldPath) {
                    this.applyDynamicInputBindings(component.instance, bindings, inputs, key, value, editable);
                }
                else if (compToBeRendered && value instanceof DynamicPropertyValue) {
                    /** @type {?} */
                    var dynval = value;
                    /** @type {?} */
                    var newValue = dynval.evaluate(this.metaContext.myContext());
                    component.instance[publicKey] = newValue;
                }
                else {
                    /**
                                     * when re-applying Inputs skip all expressions above and only work with regular
                                     * types
                                     *
                                     * set it only if it changes so it will not trigger necessary `value changed
                                     * aftter check`
                                     */
                    if (!Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["equals"])(component.instance[publicKey], value)) {
                        component.instance[publicKey] = value;
                    }
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (inputs_1_1 && !inputs_1_1.done && (_a = inputs_1.return)) _a.call(inputs_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        // apply Formatter that can be specified in the oss
        // temporary disabled untill angular will support runtime i18n
        // if (bindings.has(MetaIncludeComponentDirective.FormatterBinding)) {
        //     let transform = this.formatters
        //         .get(bindings.get(MetaIncludeComponentDirective.FormatterBinding));
        //     component.instance[MetaIncludeComponentDirective.FormatterBinding] = transform;
        // }
        var e_1, _a;
    };
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    MetaIncludeComponentDirective.prototype.skipInput = /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (key, value) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(value) || key === _aribaui_components__WEBPACK_IMPORTED_MODULE_3__["IncludeComponentDirective"].NgContent ||
            key === MetaIncludeComponentDirective.NgContentLayout;
    };
    /**
     * @param {?} component
     * @param {?} bindings
     * @param {?} outputs
     * @return {?}
     */
    MetaIncludeComponentDirective.prototype.applyOutputs = /**
     * @param {?} component
     * @param {?} bindings
     * @param {?} outputs
     * @return {?}
     */
    function (component, bindings, outputs) {
        var _this = this;
        var _loop_1 = function (key) {
            /** @type {?} */
            var publicKey = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["nonPrivatePrefix"])(key);
            /** @type {?} */
            var value = bindings.get(publicKey);
            if (key === _aribaui_components__WEBPACK_IMPORTED_MODULE_3__["IncludeComponentDirective"].NgContent) {
                return "continue";
            }
            /** @type {?} */
            var eventEmitter = component.instance[publicKey];
            if (value instanceof DynamicPropertyValue) {
                this_1.applyDynamicOutputBinding(eventEmitter, value, this_1.metaContext.myContext());
            }
            else {
                // just trigger event outside
                eventEmitter.subscribe(function (val) {
                    if (_this.env.hasValue('parent-cnx')) {
                        /** @type {?} */
                        var event_1 = val;
                        /** @type {?} */
                        var cnx = _this.env.getValue('parent-cnx');
                        if (!(val instanceof MetaUIActionEvent)) {
                            event_1 = new MetaUIActionEvent(component.instance, publicKey, publicKey, val);
                        }
                        cnx.onAction.emit(event_1);
                    }
                });
            }
        };
        var this_1 = this;
        try {
            for (var outputs_1 = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__values"])(outputs), outputs_1_1 = outputs_1.next(); !outputs_1_1.done; outputs_1_1 = outputs_1.next()) {
                var key = outputs_1_1.value;
                _loop_1(key);
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (outputs_1_1 && !outputs_1_1.done && (_a = outputs_1.return)) _a.call(outputs_1);
            }
            finally { if (e_2) throw e_2.error; }
        }
        var e_2, _a;
    };
    /**
     * @param {?} emitter
     * @param {?} value
     * @param {?} context
     * @return {?}
     */
    MetaIncludeComponentDirective.prototype.applyDynamicOutputBinding = /**
     * @param {?} emitter
     * @param {?} value
     * @param {?} context
     * @return {?}
     */
    function (emitter, value, context) {
        emitter.asObservable().subscribe(function (val) {
            /** @type {?} */
            var dynval = value;
            context.resolveValue(dynval);
        });
    };
    /**
     * @param {?} me
     * @param {?} bindings
     * @param {?} inputs
     * @param {?} key
     * @param {?} value
     * @param {?} editable
     * @return {?}
     */
    MetaIncludeComponentDirective.prototype.applyDynamicInputBindings = /**
     * @param {?} me
     * @param {?} bindings
     * @param {?} inputs
     * @param {?} key
     * @param {?} value
     * @param {?} editable
     * @return {?}
     */
    function (me, bindings, inputs, key, value, editable) {
        var _this = this;
        /** @type {?} */
        var publicKey = Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["nonPrivatePrefix"])(key);
        /** @type {?} */
        var cnxtPath = value;
        /** @type {?} */
        var metaContext = this.metaContext;
        /**
                 * captured also current context snapshot so we can replay ContextFieldPath.evaluate() if
                 * called outside of push/pop cycle.
                 *
                 * todo: check if we can replace this with Custom value accessor
                 */
        Object.defineProperty(me, publicKey, {
            get: function () {
                /** @type {?} */
                var context = _this.metaContext.myContext();
                return cnxtPath.evaluate(context);
            },
            set: function (val) {
                /** @type {?} */
                var context = _this.metaContext.myContext();
                /** @type {?} */
                var editing = context.propertyForKey(ObjectMeta.KeyEditable)
                    || context.propertyForKey(UIMeta.KeyEditing);
                if (editing && !_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["StringWrapper"].equals(val, me[publicKey])) {
                    /** @type {?} */
                    var type = context.propertyForKey(ObjectMeta.KeyType);
                    cnxtPath.evaluateSet(context, ValueConverter.value(type, val));
                }
            },
            enumerable: true,
            configurable: true
        });
    };
    /**
     * Just a constant use to access Environment where we store current context for current render
     * lifecycle
     *
     */
    MetaIncludeComponentDirective.FormatterBinding = 'formatter';
    /**
     *
     * In metaU we can also insert into the element not only ngcontent but new instantiated
     * component which is defined by layout
     *
     * ```
     * field trait=ObjectDetail {
     * 	editable=false {
     * 		component: HoverCardComponnet;
     * 		bindings: {
     * 			ngcontentLayout: Content;
     * 			linkTitle:${properties.get("label")};
     * 		}
     * 	}
     *
     * \@layout=Content {
     * 		component: MetaContextObject;
     * 		bindings: {
     * 			object: $value;
     * 			layout:DetailLayout
     * 			operation:"view";
     * 		}
     * 	}
     * }
     * ```
     *
     */
    MetaIncludeComponentDirective.NgContentLayout = 'ngcontentLayout';
    MetaIncludeComponentDirective.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Directive"], args: [{
                    selector: 'm-include-component'
                },] }
    ];
    /** @nocollapse */
    MetaIncludeComponentDirective.ctorParameters = function () { return [
        { type: MetaContextComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Inject"], args: [Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["forwardRef"])(function () { return MetaContextComponent; }),] }] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ComponentFactoryResolver"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ChangeDetectorRef"] },
        { type: _aribaui_components__WEBPACK_IMPORTED_MODULE_3__["ComponentRegistry"] },
        { type: _aribaui_components__WEBPACK_IMPORTED_MODULE_3__["DomUtilsService"] }
    ]; };
    MetaIncludeComponentDirective.propDecorators = {
        context: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }]
    };
    return MetaIncludeComponentDirective;
}(_aribaui_components__WEBPACK_IMPORTED_MODULE_3__["IncludeComponentDirective"]));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * This is just a wrapper component around meta-form-table as we need every single context push to
 * happen before the child content start to render.
 *
 * In this case I would like to wrap wrap my content with m-context in the way:
 *
 *  <m-context scopeKey="class">
 *        <!-- lets process one zone now and four we can deal later-->
 *        <ng-template [ngIf]="isFiveZoneLayout">
 *              <aw-form-table [isEditable]="isEditable" [labelsOnTop]="labelsOnTop"
 * (onSubmit)="onSaveAction($event)">
 *                  <ng-template ngFor let-curentField [ngForOf]="zLeft()">
 *                      <m-context [field]="curentField">
 *                           <m-form-row [field]="curentField"></m-form-row>
 *                      </m-context>
 *                  </ng-template>
 *          </aw-form-table>
 *        </ng-template>
 *  </m-context>
 *
 *
 *
 */
var MetaFormComponent = /** @class */ (function () {
    function MetaFormComponent(environment) {
        this.environment = environment;
    }
    MetaFormComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"], args: [{
                    selector: 'm-form',
                    template: "<m-context #cnx scopeKey=\"class\">\n    <!-- Dont try to render if the object is not set yet -->\n    <m-form-table *ngIf=\"cnx.hasObject\"></m-form-table>\n</m-context>\n"
                }] }
    ];
    /** @nocollapse */
    MetaFormComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    return MetaFormComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Common component to setup the context and also create context snapshot for later user.
 * @abstract
 */
var  /**
 * Common component to setup the context and also create context snapshot for later user.
 * @abstract
 */
MetaBaseComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MetaBaseComponent, _super);
    function MetaBaseComponent(env, _metaContext) {
        var _this = _super.call(this, env, _metaContext) || this;
        _this.env = env;
        _this._metaContext = _metaContext;
        return _this;
    }
    /**
     * @return {?}
     */
    MetaBaseComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        this.updateMeta();
    };
    /**
     * @return {?}
     */
    MetaBaseComponent.prototype.ngDoCheck = /**
     * @return {?}
     */
    function () {
        this.updateMeta();
    };
    /**
     * @return {?}
     */
    MetaBaseComponent.prototype.ngAfterViewChecked = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    MetaBaseComponent.prototype.updateMeta = /**
     * @return {?}
     */
    function () {
        this.editing = this.context.booleanPropertyForKey(UIMeta.KeyEditing, false);
        if (this.editing) {
            this.object = this.context.values.get(ObjectMeta.KeyObject);
            this.contextSnapshot = this.context.snapshot();
        }
        this.doUpdate();
    };
    /**
     * Placeholder to be implemented by subclass. this method is triggered when we detect any
     * changes on the MetaContext
     */
    /**
     * Placeholder to be implemented by subclass. this method is triggered when we detect any
     * changes on the MetaContext
     * @return {?}
     */
    MetaBaseComponent.prototype.doUpdate = /**
     * Placeholder to be implemented by subclass. this method is triggered when we detect any
     * changes on the MetaContext
     * @return {?}
     */
    function () {
    };
    Object.defineProperty(MetaBaseComponent.prototype, "context", {
        /**
         * Get the last saved context from the MetaContext component
         *
         */
        get: /**
         * Get the last saved context from the MetaContext component
         *
         * @return {?}
         */
        function () {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._metaContext) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this._metaContext.myContext())) {
                return this._metaContext.myContext();
            }
            Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(false, 'Should always have metaContext available');
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    MetaBaseComponent.prototype.isNestedContext = /**
     * @return {?}
     */
    function () {
        return this.context.isNested;
    };
    // remove this ugly solution once I figure out custom value accessor that I can
    // provide as a expression
    /**
     * @param {?} key
     * @param {?=} defValue
     * @return {?}
     */
    MetaBaseComponent.prototype.properties = /**
     * @param {?} key
     * @param {?=} defValue
     * @return {?}
     */
    function (key, defValue) {
        if (defValue === void 0) { defValue = null; }
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.context) ? (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.context.propertyForKey(key)) ?
            this.context.propertyForKey(key) : defValue) : defValue;
    };
    /**
     * Retrieves active context's properties
     *
     */
    /**
     * Retrieves active context's properties
     *
     * @param {?} me
     * @param {?} key
     * @param {?=} defValue
     * @return {?}
     */
    MetaBaseComponent.prototype.aProperties = /**
     * Retrieves active context's properties
     *
     * @param {?} me
     * @param {?} key
     * @param {?=} defValue
     * @return {?}
     */
    function (me, key, defValue) {
        if (defValue === void 0) { defValue = null; }
        /** @type {?} */
        var activeContext = this._metaContext.activeContext();
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(me) ? me.propertyForKey(key) : defValue;
    };
    return MetaBaseComponent;
}(_aribaui_components__WEBPACK_IMPORTED_MODULE_3__["BaseFormComponent"]));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * This is a wrapper around FormtTable to render data based on current MetaContext.
 */
var MetaFormTableComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MetaFormTableComponent, _super);
    /**
     * Active zones passed to the FormTable.
     *
     * Note: I could not find better way without having this property. When using FormTable I dont
     * want to tell what zones are active. The form table should figure out byitself just from the
     * ng-contented sections.
     *
     * The other approach is the wrap these into component and probably better
     *
     *e.g.
     *
     * ```html
     *  <aw-form-table ...>
     *    <aw-form-zone name='top'>
     *        <aw-form-row>...</aw-form-row>
     *     <aw-form-zone>
     *
     *
     *    ...
     *  </aw-form-table ...>
     * ```
     *
     */
    function MetaFormTableComponent(_context, env) {
        var _this = _super.call(this, env, _context) || this;
        _this._context = _context;
        _this.env = env;
        return _this;
    }
    /**
     * @param {?} zone
     * @return {?}
     */
    MetaFormTableComponent.prototype.canShowZone = /**
     * @param {?} zone
     * @return {?}
     */
    function (zone) {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.fieldsByZone) && this.fieldsByZone.has(zone);
    };
    /**
     * @return {?}
     */
    MetaFormTableComponent.prototype.doUpdate = /**
     * @return {?}
     */
    function () {
        _super.prototype.doUpdate.call(this);
        this.fieldsByZone = this.context.propertyForKey(UIMeta.PropFieldsByZone);
        this.isFiveZoneLayout = this.context.propertyForKey(UIMeta.PropIsFieldsByZone);
        /** @type {?} */
        var bindings = this.context.propertyForKey(UIMeta.KeyBindings);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(bindings)) {
            this.showLabelsAboveControls = bindings.get('showLabelsAboveControls');
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.showLabelsAboveControls)) {
                this.showLabelsAboveControls = false;
            }
        }
        this.initForm();
    };
    /**
     * @return {?}
     */
    MetaFormTableComponent.prototype.zLeft = /**
     * @return {?}
     */
    function () {
        return this.fieldsByZone.get(UIMeta.ZoneLeft);
    };
    /**
     * @return {?}
     */
    MetaFormTableComponent.prototype.zMiddle = /**
     * @return {?}
     */
    function () {
        return this.fieldsByZone.get(UIMeta.ZoneMiddle);
    };
    /**
     * @return {?}
     */
    MetaFormTableComponent.prototype.zRight = /**
     * @return {?}
     */
    function () {
        return this.fieldsByZone.get(UIMeta.ZoneRight);
    };
    /**
     * @return {?}
     */
    MetaFormTableComponent.prototype.zTop = /**
     * @return {?}
     */
    function () {
        return this.fieldsByZone.get(UIMeta.ZoneTop);
    };
    /**
     * @return {?}
     */
    MetaFormTableComponent.prototype.zBottom = /**
     * @return {?}
     */
    function () {
        return this.fieldsByZone.get(UIMeta.ZoneBottom);
    };
    /**
     * Need to initialize FormGroup with all the available fields based on the given object. Its
     * hard to manage a state where we dynamically render different number of fields per operation.
     *
     * *
     * @return {?}
     */
    MetaFormTableComponent.prototype.initForm = /**
     * Need to initialize FormGroup with all the available fields based on the given object. Its
     * hard to manage a state where we dynamically render different number of fields per operation.
     *
     * *
     * @return {?}
     */
    function () {
        var _this = this;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.form)) {
            this.form.editable = this.editable;
        }
        /** @type {?} */
        var obj = (/** @type {?} */ (this.context)).object;
        if (Object.keys(this.formGroup.value).length !== Object.keys(obj).length) {
            Object.keys(obj).forEach(function (key) {
                _this.doRegister(key, obj[key]);
            });
        }
    };
    MetaFormTableComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"], args: [{
                    selector: 'm-form-table',
                    template: "<ng-template [ngIf]=\"isFiveZoneLayout\">\n\n    <aw-form-table #metaFormTable [editable]=\"editing\" [useFiveZone]=\"isFiveZoneLayout\"\n                   [omitPadding]=\"isNestedContext()\"\n                   [editabilityCheck]=\"false\"\n                   [labelsOnTop]=\"showLabelsAboveControls\">\n\n\n        <aw-top *ngIf=\"canShowZone('zTop')\">\n            <ng-template ngFor let-curentField [ngForOf]=\"zTop()\">\n                <m-context [field]=\"curentField\">\n                    <m-form-row [field]=\"curentField\" [editable]=\"editing\"\n                                [initialSize]=\"'x-large'\"></m-form-row>\n                </m-context>\n            </ng-template>\n        </aw-top>\n\n\n        <aw-left *ngIf=\"canShowZone('zLeft')\">\n\n            <ng-template ngFor let-curentField [ngForOf]=\"zLeft()\">\n                <m-context [field]=\"curentField\">\n                    <m-form-row [field]=\"curentField\" [editable]=\"editing\"></m-form-row>\n                </m-context>\n            </ng-template>\n        </aw-left>\n\n\n        <aw-middle *ngIf=\"canShowZone('zMiddle')\">\n            <ng-template ngFor let-curentField [ngForOf]=\"zMiddle()\">\n                <m-context [field]=\"curentField\">\n                    <m-form-row [field]=\"curentField\" [editable]=\"editing\"></m-form-row>\n                </m-context>\n            </ng-template>\n        </aw-middle>\n\n        <aw-right *ngIf=\"canShowZone('zRight')\">\n            <ng-template ngFor let-curentField [ngForOf]=\"zRight()\">\n                <m-context [field]=\"curentField\">\n                    <m-form-row [field]=\"curentField\" [editable]=\"editing\"></m-form-row>\n                </m-context>\n            </ng-template>\n        </aw-right>\n\n\n        <aw-bottom *ngIf=\"canShowZone('zBottom')\">\n            <ng-template ngFor let-curentField [ngForOf]=\"zBottom()\">\n                <m-context [field]=\"curentField\">\n                    <m-form-row [field]=\"curentField\" [editable]=\"editing\"\n                                [initialSize]=\"'x-large'\"></m-form-row>\n                </m-context>\n            </ng-template>\n        </aw-bottom>\n    </aw-form-table>\n</ng-template>\n",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    MetaFormTableComponent.ctorParameters = function () { return [
        { type: MetaContextComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Host"] }] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    MetaFormTableComponent.propDecorators = {
        form: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"], args: ['metaFormTable',] }]
    };
    return MetaFormTableComponent;
}(MetaBaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Component responsible for rendering a row using MetaIncludeComponent.
 * What I am still not sure, if I want to use fully validation from MetaRule and if I cannot
 * leverage basic validation from angular.
 *
 * Meaning I might remove default valid::** rule from WidgetsRules and when its required insert
 * default Required validation from angular.
 *
 */
var MetaFormRowComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MetaFormRowComponent, _super);
    function MetaFormRowComponent(_metaContext, env) {
        var _this = _super.call(this, env, _metaContext) || this;
        _this._metaContext = _metaContext;
        _this.env = env;
        /**
         * There could be special cases when we are layout component that we want to extends the row
         * 100%.
         */
        _this.initialSize = 'medium';
        return _this;
    }
    /**
     * @return {?}
     */
    MetaFormRowComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        this.validators = this.createValidators();
    };
    /**
     * @param {?} key
     * @return {?}
     */
    MetaFormRowComponent.prototype.bindingBoolProperty = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        /** @type {?} */
        var bindings = this.context.propertyForKey(UIMeta.KeyBindings);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(bindings) && bindings.has(key)) {
            /** @type {?} */
            var value = bindings.get(key);
            return _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].boleanValue(value);
        }
        return false;
    };
    /**
     * @param {?} key
     * @return {?}
     */
    MetaFormRowComponent.prototype.bindingStringProperty = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        /** @type {?} */
        var bindings = this.context.propertyForKey(UIMeta.KeyBindings);
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(bindings) && bindings.has(key)) {
            return bindings.get(key);
        }
        return null;
    };
    Object.defineProperty(MetaFormRowComponent.prototype, "size", {
        get: /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var bindings = this.context.propertyForKey(UIMeta.KeyBindings);
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(bindings) && bindings.has('size')) {
                return bindings.get('size');
            }
            return this.initialSize;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.initialSize = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Creates angular based Validator which for a current field executes validation rules real
     * time as use type. At the bottom of the file there is example of async validator
     *
     * @return {?}
     */
    MetaFormRowComponent.prototype.createValidators = /**
     * Creates angular based Validator which for a current field executes validation rules real
     * time as use type. At the bottom of the file there is example of async validator
     *
     * @return {?}
     */
    function () {
        /** @type {?} */
        var that = this;
        /** @type {?} */
        var metaValidator = function (control) {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required(control)) || !control.touched) {
                return null;
            }
            /** @type {?} */
            var errorMsg = UIMeta.validationError(that.context);
            return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(errorMsg) ? {
                'metavalid': { 'msg': errorMsg }
            } : null;
        };
        return [metaValidator];
    };
    /**
     * @return {?}
     */
    MetaFormRowComponent.prototype.isRequired = /**
     * @return {?}
     */
    function () {
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.editing) && this.context.booleanPropertyForKey('required', false));
    };
    MetaFormRowComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"], args: [{
                    selector: 'm-form-row',
                    template: "<aw-form-row\n    [editable]=\"editable\"\n    [customValidators]=\"validators\"\n    [isNestedLayout]=\"properties('nestedLayout', false)\"\n    [size]=\"size\"\n    [hidden]=\"!properties('visible')\"\n    [styleClass]=\"bindingStringProperty('styleClass')\"\n    [name]=\"properties('field')\"\n    [required]=\"isRequired()\"\n    [label]=\"properties('label')\"\n    [noLabelLayout]=\"bindingBoolProperty('useNoLabelLayout')\">\n\n    <m-include-component></m-include-component>\n</aw-form-row>\n\n",
                    providers: [
                        { provide: _aribaui_components__WEBPACK_IMPORTED_MODULE_3__["FormRowComponent"], useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["forwardRef"])(function () { return MetaFormRowComponent; }) }
                    ],
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    MetaFormRowComponent.ctorParameters = function () { return [
        { type: MetaContextComponent, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Host"] }] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    MetaFormRowComponent.propDecorators = {
        field: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        initialSize: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }]
    };
    return MetaFormRowComponent;
}(MetaBaseComponent));
/*

 return new Promise((resolve) => {
 setTimeout (()=>{

 let context: UIContext = <UIContext> this._contextSnapshot.hydrate();
 context.value = control.value;

 let errorMsg = UIMeta.validationError(context);


 if(isPresent(errorMsg)) {
 resolve({metavalid: {msg: errorMsg}});
 } else{
 resolve(null);
 }

 }, 700);
 });


 */
// metaValid (): AsyncValidatorFn[]
// {
//     let metaValidator = (control: AbstractControl): {[key: string]: any} =>
//     {
//         return new Promise((resolve) =>
//         {
//             setTimeout(()=>
//             {
//                 let context: UIContext = <UIContext> this._contextSnapshot.hydrate();
//                 context.value = control.value;
//
//                 let errorMsg = UIMeta.validationError(context);
//
//
//                 if (isPresent(errorMsg)) {
//                     resolve({metavalid: {msg: errorMsg}});
//                 } else {
//                     resolve(null);
//                 }
//
//             } , 400);
//         });
//     };
//     return [metaValidator];
// }

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * MetaContentPage  component is used from MetaRules and universal component rendering different
 * operation modes.
 *
 *
 */
var MetaContentPageComponent = /** @class */ (function () {
    function MetaContentPageComponent(route, routingService) {
        this.route = route;
        this.routingService = routingService;
        this.newContext = true;
        this.isInspectAction = false;
        this.okLabel = 'Back';
    }
    /**
     * @return {?}
     */
    MetaContentPageComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.layout = this.route.snapshot.params['layout'];
        this.operation = this.route.snapshot.params['operation'];
        /** @type {?} */
        var url = '/' + this.route.snapshot.url[0].toString();
        if (this.routingService.stateCacheHistory.has(url)) {
            this.object = this.routingService.stateCacheHistory.get(url);
            this.objectName = UIMeta.defaultLabelForIdentifier(this.object.constructor.name);
        }
        /** @type {?} */
        var withBackAction = this.route.snapshot.params['b'];
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(withBackAction) && _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["BooleanWrapper"].isTrue(withBackAction)) {
            this.isInspectAction = true;
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    MetaContentPageComponent.prototype.onBack = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.routingService.goBack();
    };
    MetaContentPageComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"], args: [{
                    selector: 'm-content-page',
                    template: "<!-- TODO: impplement dynamic title based on the operation and object as well as updates buttons-->\n\n<m-context [pushNewContext]=\"newContext\" [object]=\"object\" [operation]=\"operation\"\n           [layout]=\"layout\">\n\n    <aw-basic-navigator (onOKAction)=\"onBack($event)\" [okActionLabel]=\"okLabel\"\n                        [showCancelButton]=\"!isInspectAction\">\n\n\n        <div class=\"page-container \">\n            <br/>\n            <h3>{{objectName}} details:</h3>\n\n            <m-include-component></m-include-component>\n        </div>\n    </aw-basic-navigator>\n\n</m-context>\n",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    MetaContentPageComponent.ctorParameters = function () { return [
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["ActivatedRoute"] },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["RoutingService"] }
    ]; };
    return MetaContentPageComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * MetaLayout represent a high level rule that aggregates defined layout. When we iterate thru the
 * different layout we need to remember both current rendered context as well as ItemProperties.
 *
 *
 *
 */
var  /**
 * MetaLayout represent a high level rule that aggregates defined layout. When we iterate thru the
 * different layout we need to remember both current rendered context as well as ItemProperties.
 *
 *
 *
 */
MetaLayout = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MetaLayout, _super);
    function MetaLayout(_metaContext, env) {
        var _this = _super.call(this, env, _metaContext) || this;
        _this._metaContext = _metaContext;
        _this.env = env;
        /**
         * Layout definitions by its name
         *
         */
        _this.nameToLayout = new Map();
        /**
         * A map linking the name of the layout to the actual context. We need this when we need
         * to access current content.
         *
         */
        _this.contextMap = new Map();
        return _this;
    }
    /**
     * Can be called by m-content to @Output when context properties are pushed to stack
     *
     */
    /**
     * Can be called by m-content to \@Output when context properties are pushed to stack
     *
     * @param {?} layoutName
     * @return {?}
     */
    MetaLayout.prototype.afterContextSet = /**
     * Can be called by m-content to \@Output when context properties are pushed to stack
     *
     * @param {?} layoutName
     * @return {?}
     */
    function (layoutName) {
        this.layoutContext = this.activeContext;
        this.contextMap.set(layoutName, this.layoutContext.snapshot().hydrate(false));
    };
    /**
     * Can be called by m-content to @Output after context properties are pushed to stack
     *
     */
    /**
     * Can be called by m-content to \@Output after context properties are pushed to stack
     *
     * @param {?} layoutName
     * @return {?}
     */
    MetaLayout.prototype.beforeContextSet = /**
     * Can be called by m-content to \@Output after context properties are pushed to stack
     *
     * @param {?} layoutName
     * @return {?}
     */
    function (layoutName) {
        this.layout = this.nameToLayout.get(layoutName);
    };
    Object.defineProperty(MetaLayout.prototype, "activeContext", {
        get: /**
         * @return {?}
         */
        function () {
            return this._metaContext.activeContext();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MetaLayout.prototype, "allLayouts", {
        /**
         * Retrieves all available and active layouts for zones defined by subclasses
         *
         */
        get: /**
         * Retrieves all available and active layouts for zones defined by subclasses
         *
         * @return {?}
         */
        function () {
            var _this = this;
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._allLayouts)) {
                /** @type {?} */
                var meta = /** @type {?} */ (this.activeContext.meta);
                this._allLayouts = meta.itemList(this.activeContext, UIMeta.KeyLayout, this.zones());
                this.nameToLayout.clear();
                this._allLayouts.forEach(function (item) {
                    return _this.nameToLayout.set(item.name, item);
                });
            }
            return this._allLayouts;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MetaLayout.prototype, "layoutsByZones", {
        /**
         * Retrieves all available and active layouts and aggregate them their name
         *
         */
        get: /**
         * Retrieves all available and active layouts and aggregate them their name
         *
         * @return {?}
         */
        function () {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._layoutsByZones)) {
                /** @type {?} */
                var meta = /** @type {?} */ (this.activeContext.meta);
                this._layoutsByZones = meta.itemsByZones(this.activeContext, UIMeta.KeyLayout, this.zones());
            }
            return this._layoutsByZones;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MetaLayout.prototype, "layout", {
        get: /**
         * @return {?}
         */
        function () {
            return this._layout;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._layout = value;
            this._propertyMap = null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MetaLayout.prototype, "propertyMap", {
        // todo: should this be for current layout?
        get: /**
         * @return {?}
         */
        function () {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._propertyMap)) {
                this.activeContext.push();
                this._propertyMap = this.activeContext.allProperties();
                this.activeContext.pop();
            }
            return this._propertyMap;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    MetaLayout.prototype.label = /**
     * @return {?}
     */
    function () {
        return this.activeContext.resolveValue(this.propertyMap.get(UIMeta.KeyLabel));
    };
    /**
     * @param {?} name
     * @return {?}
     */
    MetaLayout.prototype.labelForContext = /**
     * @param {?} name
     * @return {?}
     */
    function (name) {
        /** @type {?} */
        var context = this.contextMap.get(name);
        return _super.prototype.aProperties.call(this, context, UIMeta.KeyLabel);
    };
    /**
     * @return {?}
     */
    MetaLayout.prototype.zones = /**
     * @return {?}
     */
    function () {
        return UIMeta.ZonesTLRMB;
    };
    // remove this ugly solution once I figure out custom value accessor
    /**
     * @param {?} key
     * @param {?=} defValue
     * @return {?}
     */
    MetaLayout.prototype.properties = /**
     * @param {?} key
     * @param {?=} defValue
     * @return {?}
     */
    function (key, defValue) {
        if (defValue === void 0) { defValue = null; }
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.activeContext) ? this.activeContext.propertyForKey(key) : defValue;
    };
    /**
     * @param {?} name
     * @return {?}
     */
    MetaLayout.prototype.debugString = /**
     * @param {?} name
     * @return {?}
     */
    function (name) {
        /** @type {?} */
        var context = this.contextMap.get(name);
        Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["assert"])(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(context), 'Trying to retrive debugString on non-existing context');
        return context.debugString();
    };
    /**
     * @return {?}
     */
    MetaLayout.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.layoutContext = null;
        this.contextMap.clear();
        this.contextMap = null;
    };
    return MetaLayout;
}(MetaBaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * MetaElementList is implementation of Stack Layout where the content is rendered as list (stacked)
 * You do not use this layout directly as it is instantiated dynamically using MetaIncludeComponent.
 *
 * For more detail please checkout WidgetRules.oss the part bellow where create new trait
 * that can be applied to any layout.
 *
 * ```
 *
 * layout {
 *
 * \@trait=Stack { visible:true; component:MetaElementListComponent }
 *
 * }
 *
 * ```
 *
 * Actual usage could be :
 *
 *
 * ```
 *  layout=Inspect2#Stack {
 * \@layout=First#Form {
 *           elementStyle:"padding-bottom:100px";
 *       }
 * \@layout=Second#Form { zonePath:Second; }
 *   }
 *
 *
 *
 *    class=User {
 *       zNone => *;
 *       zLeft => firstName => lastName => age => department;
 *       Second.zLeft => email;
 *
 *   }
 *
 * ```
 *
 */
var MetaElementListComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MetaElementListComponent, _super);
    function MetaElementListComponent(_metaContext, env, sanitizer) {
        var _this = _super.call(this, _metaContext, env) || this;
        _this._metaContext = _metaContext;
        _this.env = env;
        _this.sanitizer = sanitizer;
        return _this;
    }
    /**
     * @param {?} name
     * @return {?}
     */
    MetaElementListComponent.prototype.styleString = /**
     * @param {?} name
     * @return {?}
     */
    function (name) {
        /** @type {?} */
        var lContext = this.contextMap.get(name);
        // return isPresent(lContext) && isPresent(lContext.propertyForKey('elementStyle')) ?
        //     this.sanitizer.bypassSecurityTrustStyle(lContext.propertyForKey('elementStyle')) :
        // null;
        return null;
    };
    /**
     * @param {?} name
     * @return {?}
     */
    MetaElementListComponent.prototype.classString = /**
     * @param {?} name
     * @return {?}
     */
    function (name) {
        /** @type {?} */
        var lContext = this.contextMap.get(name);
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(lContext) ? lContext.propertyForKey('elementClass') : null;
    };
    MetaElementListComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"], args: [{
                    template: "<!--<b>MetaElementList: {{allLayouts}} </b>-->\n<!--<pre [innerHTML]=\"context.debugString()\"></pre>-->\n\n<ng-template ngFor [ngForOf]=\"allLayouts\" let-cLayout>\n\n    <m-context [layout]=\"cLayout.name\" (afterContextSet)=\"afterContextSet($event)\"\n               (beforeContextSet)=\"beforeContextSet($event)\">\n\n        <!--<b>MetaElementList: layout {{cLayout.name}} </b>-->\n        <!--<pre [innerHTML]=\"debugString(cLayout.name)\"></pre>-->\n\n        <div class=\"ui-g \">\n            <div class=\"ui-g-12 ui-g-nopad\" [ngClass]=\"classString(cLayout.name)\"\n                 [ngStyle]=\"styleString(cLayout.name)\"\n            >\n                <m-include-component></m-include-component>\n            </div>\n        </div>\n    </m-context>\n\n</ng-template>\n\n",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    MetaElementListComponent.ctorParameters = function () { return [
        { type: MetaContextComponent },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_8__["DomSanitizer"] }
    ]; };
    return MetaElementListComponent;
}(MetaLayout));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * MetaActionList provides a way how to attach actions to the screen. We can use \@action declaration
 * to define new action and their actionResults. actionResults is an expression that is executed
 * and either redirect you to different page or some logic is executed.
 *
 * Actions can be organized into action categories but if we do not provide any action category
 * default one is used.
 *
 * This way we define placeholder using a layout where actions are inserted
 *
 *
 * ```html
 *
 *    layout=Inspect2#Stack {
 * \@layout=MenuTop#ActionButtons {
 *       }
 *
 * \@layout=First#Form {
 *     }
 *
 * \@layout=Second#Form { zonePath:Second; }
 *  }
 *
 *
 * ```
 *
 * And this is how we define actions for current page/class/object
 *
 * ```
 * \@action=update {
 *             actionResults:${ object.firstName = "Mr." +  object.firstName };
 *             visible: ${ properties.editing };
 *    }
 *
 *
 * \@action=Save {
 *             label: "My Save";
 *             actionResults:${ object.firstName = "Ms." +  object.firstName };
 *             visible: ${ properties.editing };
 *             buttonStyle:info;
 *    }
 * ```
 *
 *
 *
 *
 *
 *
 *
 */
var MetaActionListComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MetaActionListComponent, _super);
    function MetaActionListComponent(_metaContext, env) {
        var _this = _super.call(this, env, _metaContext) || this;
        _this._metaContext = _metaContext;
        _this.env = env;
        /**
         *
         * Defines type of components that renders our actions. We have 3 types:
         * Buttons, Links and Popup Menu
         *
         */
        _this.renderAs = 'buttons';
        /**
         * Default style used for the buttons if none is specified
         *
         */
        _this.defaultStyle = 'info';
        /**
         * Tells us if the action should be rendered on the left or right side
         *
         */
        _this.align = 'right';
        /**
         * Map linking the name of the layout to the actual context. We need this when we need
         * to access current content.
         *
         */
        _this._contextMap = new Map();
        return _this;
    }
    // protected updateMeta(): any
    // {
    //     // todo: replace it with EventEmmitter.
    //     this._actionsByCategory = null;
    //     this._actionsByName = null;
    //     return super.updateMeta();
    // }
    /**
     * Read and stores current action categories available to current Context
     *
     */
    /**
     * Read and stores current action categories available to current Context
     *
     * @return {?}
     */
    MetaActionListComponent.prototype.actionCategories = /**
     * Read and stores current action categories available to current Context
     *
     * @return {?}
     */
    function () {
        var _this = this;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._actionsByCategory) || Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this._actionsByName)) {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.filterActions)) {
                this.context.set('filterActions', this.filterActions);
            }
            /** @type {?} */
            var meta = /** @type {?} */ (this.context.meta);
            this.context.push();
            this.menuModel = [];
            this._actionsByCategory = new Map();
            this._actionsByName = new Map();
            this.categories = meta.actionsByCategory(this.context, this._actionsByCategory, UIMeta.ActionZones);
            this.context.pop();
            this._actionsByCategory.forEach(function (v, k) {
                v.forEach(function (item) { return _this._actionsByName.set(item.name, item); });
            });
        }
        return this.categories;
    };
    /**
     *
     * Action belonging to current category..
     *
     */
    /**
     *
     * Action belonging to current category..
     *
     * @param {?} category
     * @return {?}
     */
    MetaActionListComponent.prototype.actions = /**
     *
     * Action belonging to current category..
     *
     * @param {?} category
     * @return {?}
     */
    function (category) {
        return this._actionsByCategory.get(category.name);
    };
    /**
     *
     * When action clicked this method delegates it into meta layer to be executed.
     *
     */
    /**
     *
     * When action clicked this method delegates it into meta layer to be executed.
     *
     * @param {?} action
     * @return {?}
     */
    MetaActionListComponent.prototype.actionClicked = /**
     *
     * When action clicked this method delegates it into meta layer to be executed.
     *
     * @param {?} action
     * @return {?}
     */
    function (action) {
        /** @type {?} */
        var context = this._contextMap.get(action);
        /** @type {?} */
        var meta = /** @type {?} */ (context.meta);
        meta.fireActionFromProps(this._actionsByName.get(action), /** @type {?} */ (context));
    };
    /**
     * A hook used to store the most current context for each action.
     *
     */
    /**
     * A hook used to store the most current context for each action.
     *
     * @param {?} actionName
     * @return {?}
     */
    MetaActionListComponent.prototype.onAfterContextSet = /**
     * A hook used to store the most current context for each action.
     *
     * @param {?} actionName
     * @return {?}
     */
    function (actionName) {
        /** @type {?} */
        var aContext = this._metaContext.activeContext().snapshot().hydrate(false);
        this._contextMap.set(actionName, aContext);
        if (this.renderAs === 'menu') {
            this.populateMenu(actionName);
        }
    };
    /**
     * A hook used to store the most current context for each action.
     *
     */
    /**
     * A hook used to store the most current context for each action.
     *
     * @param {?} change
     * @return {?}
     */
    MetaActionListComponent.prototype.onContextChanged = /**
     * A hook used to store the most current context for each action.
     *
     * @param {?} change
     * @return {?}
     */
    function (change) {
        console.log('Changed = ' + change);
    };
    /**
     * @param {?} actionName
     * @return {?}
     */
    MetaActionListComponent.prototype.label = /**
     * @param {?} actionName
     * @return {?}
     */
    function (actionName) {
        /** @type {?} */
        var context = this._contextMap.get(actionName);
        return _super.prototype.aProperties.call(this, context, UIMeta.KeyLabel);
    };
    /**
     * @param {?} actionName
     * @return {?}
     */
    MetaActionListComponent.prototype.isActionDisabled = /**
     * @param {?} actionName
     * @return {?}
     */
    function (actionName) {
        /** @type {?} */
        var context = this._contextMap.get(actionName);
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(context) ? !context.booleanPropertyForKey('enabled', false) : true;
    };
    /**
     * @return {?}
     */
    MetaActionListComponent.prototype.alignRight = /**
     * @return {?}
     */
    function () {
        return this.align === 'right';
    };
    /**
     * @param {?} actionName
     * @return {?}
     */
    MetaActionListComponent.prototype.style = /**
     * @param {?} actionName
     * @return {?}
     */
    function (actionName) {
        /** @type {?} */
        var context = this._contextMap.get(actionName);
        /** @type {?} */
        var style = _super.prototype.aProperties.call(this, context, 'buttonStyle');
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(style) ? style : this.defaultStyle;
    };
    /**
     * @param {?} actionName
     * @return {?}
     */
    MetaActionListComponent.prototype.populateMenu = /**
     * @param {?} actionName
     * @return {?}
     */
    function (actionName) {
        var _this = this;
        /** @type {?} */
        var label = this.label(actionName);
        /** @type {?} */
        var index = this.menuModel.findIndex(function (item) { return item.actionName === actionName; });
        /** @type {?} */
        var itemCommand = {
            label: label,
            actionName: actionName,
            disabled: this.isActionDisabled(actionName),
            command: function (event) {
                _this.actionClicked(event.item.actionName);
            }
        };
        if (index === -1) {
            this.menuModel.push(itemCommand);
        }
        else {
            this.menuModel[index] = itemCommand;
        }
    };
    MetaActionListComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"], args: [{
                    template: "<span [class.u-flr]=\"alignRight()\">\n    <m-context *ngIf=\"renderAs === 'buttons'\">\n        <ng-template ngFor [ngForOf]=\"actionCategories()\" let-category>\n            <m-context [actionCategory]=\"category.name\">\n                <ng-template ngFor [ngForOf]=\"actions(category)\" let-action>\n                    <m-context [action]=\"action.name\"\n                               (onContextChanged)=\"onContextChanged($event)\"\n                               (afterContextSet)=\"onAfterContextSet($event)\">\n                        <aw-button (action)=\"actionClicked(action.name)\"\n                                   [style]=\"style(action.name)\"\n                                   [disabled]=\"isActionDisabled(action.name)\">\n\n                        {{ label(action.name) }}\n                        </aw-button>\n                    </m-context>\n                </ng-template>\n            </m-context>\n\n        </ng-template>\n    </m-context>\n\n    <m-context *ngIf=\"renderAs === 'links'\">\n        <ng-template ngFor [ngForOf]=\"actionCategories()\" let-category>\n            <m-context [actionCategory]=\"category.name\">\n                <ng-template ngFor [ngForOf]=\"actions(category)\" let-action>\n                    <m-context [action]=\"action.name\"\n                               (onContextChanged)=\"onContextChanged($event)\"\n                               (afterContextSet)=\"onAfterContextSet($event)\">\n                        <aw-button (action)=\"actionClicked(action.name)\"\n                                   [style]=\"'link'\"\n                                   [disabled]=\"isActionDisabled(action.name)\">\n\n                        {{ label(action.name) }}\n                        </aw-button>\n                    </m-context>\n                </ng-template>\n            </m-context>\n\n        </ng-template>\n    </m-context>\n\n    <m-context *ngIf=\"renderAs === 'menu'\">\n        <ng-template ngFor [ngForOf]=\"actionCategories()\" let-category>\n            <m-context [actionCategory]=\"category.name\">\n\n                <ng-template ngFor [ngForOf]=\"actions(category)\" let-action>\n                    <m-context [action]=\"action.name\"\n                               (onContextChanged)=\"onContextChanged($event)\"\n                               (afterContextSet)=\"onAfterContextSet($event)\">\n                    </m-context>\n                </ng-template>\n            </m-context>\n        </ng-template>\n\n        <p-menu #menu popup=\"popup\" [model]=\"menuModel\"></p-menu>\n\n        <!-- todo: extend button to support icons -->\n        <aw-button (action)=\"menu.toggle($event)\">\n            Actions\n        </aw-button>\n\n    </m-context>\n</span>\n\n\n\n\n\n",
                    styles: [".m-action-list{width:100%}"]
                }] }
    ];
    /** @nocollapse */
    MetaActionListComponent.ctorParameters = function () { return [
        { type: MetaContextComponent },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    MetaActionListComponent.propDecorators = {
        renderAs: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        defaultStyle: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        align: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        filterActions: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }]
    };
    return MetaActionListComponent;
}(MetaBaseComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Default homePage implementation for a Module. Just like on the example bellow when we define a
 * module without a homePage this MetaHomePageComponent will be used.
 *
 * ```
 *
 * \@module=Home {
 *       label:"My Home";
 *       pageTitle:"You are now on Homepage";
 *
 * \@layout=Today {
 *          after:zTop;
 *          label: "Sales Graph";
 *          component:SalesGraphComponent;
 *     }
 *  }
 *
 * ```
 * Or you can decide not to use this MetaHomePage and Provide your own e.g:
 *
 * ```
 * \@module=Products {
 *      label:"Products for Somethig";
 *      pageTitle:"You are now on Products";
 *      homePage:ProductContentComponent;
 *  }
 *
 * ```
 *
 *
 */
var MetaHomePageComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MetaHomePageComponent, _super);
    function MetaHomePageComponent(env, activatedRoute) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        _this.activatedRoute = activatedRoute;
        return _this;
    }
    /**
     *
     * This page is triggered by router and we expect a module to be passed in by routing
     * params
     *
     */
    /**
     *
     * This page is triggered by router and we expect a module to be passed in by routing
     * params
     *
     * @return {?}
     */
    MetaHomePageComponent.prototype.ngOnInit = /**
     *
     * This page is triggered by router and we expect a module to be passed in by routing
     * params
     *
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        /** @type {?} */
        var routeParams = this.activatedRoute.snapshot.params;
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(routeParams) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(routeParams[UIMeta.KeyModule])) {
            this.module = routeParams[UIMeta.KeyModule];
        }
    };
    /**
     * @return {?}
     */
    MetaHomePageComponent.prototype.hasModule = /**
     * @return {?}
     */
    function () {
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(this.module);
    };
    MetaHomePageComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"], args: [{
                    selector: 'm-home-page',
                    template: "<div class=\"m-page\" *ngIf=\"hasModule()\">\n    <m-context [module]=\"module\">\n        <m-include-component></m-include-component>\n    </m-context>\n\n</div>\n\n\n",
                    styles: [".m-page{width:100%;margin:0 auto;padding:5px}.m-page:after{content:\".\";display:block;height:0;clear:both;visibility:hidden}.module-footer{clear:both}"]
                }] }
    ];
    /** @nocollapse */
    MetaHomePageComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["ActivatedRoute"] }
    ]; };
    MetaHomePageComponent.propDecorators = {
        module: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }]
    };
    return MetaHomePageComponent;
}(_aribaui_components__WEBPACK_IMPORTED_MODULE_3__["BaseComponent"]));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** *
 *
 * Defines 4 sizes for the portlet size
 *
  @type {?} */
var PortletSizes = {
    'small': 'ui-md-3',
    'medium': 'ui-md-4',
    'wide': 'ui-md-6',
    'large': 'ui-md-12'
};
/**
 * Simple Dashboard implementation for the homePage. Just like we support inside MetaFormTable
 * different zones and distribute fields to them, we do the same with defined layouts.
 *
 * This dashboard supports 3 zones.
 *
 *    zToc: This is the place where usually all the actions or 2nd level navigation will go
 *    zTop,zBottom: is where the portlets are rendered.
 *
 *
 * To distribute layouts to different zones :
 *
 * ```
 * \@module=Home {
 *           label:"My Home";
 *           pageTitle:"You are now on Homepage";
 *
 *
 * \@layout=Today {
 *              after:zTop;
 *              label: "Sales Graph";
 *              component:SalesGraphComponent;
 *
 *           }
 *
 * \@layout=Sport {
 *              after:Today;
 *              label: "Sport today!";
 *              component:StringComponent;
 *              bindings:{value:"The Texas Tech quarterback arrived at  " }
 *
 *           }
 *
 * ```
 *
 *  or Push actions to the zToc zone:
 *
 * ```
 * \@module=Home {
 *           label:"My Home";
 *           pageTitle:"You are now on Homepage";
 *
 *
 * \@layout=Today {
 *              after:zTop;
 *              label: "Sales Graph";
 *              component:SalesGraphComponent;
 *
 *           }
 *
 * \@layout=Actions#ActionLinks {
 *               label:$[a004]Actions;
 *                after:zToc;
 *            }
 *
 *
 * \@actionCategory=Create {
 * \@action=NewBlog#pageAction { pageName:blogPage;}
 * \@action=NewChart#pageAction { pageName:chartPage;}
 *           }
 *
 * }
 *
 *
 *
 */
var MetaDashboardLayoutComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MetaDashboardLayoutComponent, _super);
    function MetaDashboardLayoutComponent(metaContext, env) {
        var _this = _super.call(this, metaContext, env) || this;
        /**
         * Defines if sidebar is collapsed or expanded
         *
         */
        _this.activeMenu = false;
        /**
         * Current Module name
         *
         */
        _this.dashboardName = '';
        return _this;
    }
    /**
     * @return {?}
     */
    MetaDashboardLayoutComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngOnInit.call(this);
        this.dashboardName = this.label();
    };
    /**
     * @param {?} event
     * @return {?}
     */
    MetaDashboardLayoutComponent.prototype.toggleMenu = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.activeMenu = !this.activeMenu;
    };
    /**
     * @return {?}
     */
    MetaDashboardLayoutComponent.prototype.zones = /**
     * @return {?}
     */
    function () {
        return MetaDashboardLayoutComponent.ZonesTB;
    };
    /**
     * @return {?}
     */
    MetaDashboardLayoutComponent.prototype.topLayouts = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var tops = this.layoutsByZones.get(UIMeta.ZoneTop);
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(tops) ? tops : [];
    };
    /**
     * @param {?} name
     * @return {?}
     */
    MetaDashboardLayoutComponent.prototype.portletWidth = /**
     * @param {?} name
     * @return {?}
     */
    function (name) {
        /** @type {?} */
        var lContext = this.contextMap.get(name);
        /** @type {?} */
        var width = lContext.propertyForKey('portletWidth');
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(width) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(PortletSizes[width]) ? PortletSizes[width] :
            'ui-md-4';
    };
    /**
     * @return {?}
     */
    MetaDashboardLayoutComponent.prototype.bottomLayouts = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var bottom = this.layoutsByZones.get(UIMeta.ZoneBottom);
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(bottom) ? bottom : [];
    };
    /**
     * @return {?}
     */
    MetaDashboardLayoutComponent.prototype.zTocLayouts = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var bottom = this.layoutsByZones.get(MetaDashboardLayoutComponent.ZoneToc);
        return Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(bottom) ? bottom : [];
    };
    /**
     * New defined zone for Actions
     *
     */
    MetaDashboardLayoutComponent.ZoneToc = 'zToc';
    MetaDashboardLayoutComponent.ZonesTB = [
        MetaDashboardLayoutComponent.ZoneToc, UIMeta.ZoneTop,
        UIMeta.ZoneBottom
    ];
    MetaDashboardLayoutComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"], args: [{
                    template: "<div>\n    <span class=\"m-dashbord-name\">{{dashboardName}} </span>\n    <span class=\"m-dashbord-lbl\"> Dashboard</span>\n</div>\n\n\n<div id=\"m-toggle-bar\" *ngIf=\"zTocLayouts().length > 0\">\n    <aw-hyperlink (action)=\"toggleMenu($event)\" [size]=\"'large'\">\n        <i class=\"fa fa-bars\"></i>\n    </aw-hyperlink>\n</div>\n<div id=\"m-toc\" [class.active]=\"activeMenu\" *ngIf=\"zTocLayouts().length > 0\">\n    <div class=\"ui-g \">\n        <m-context *ngFor=\"let layout of zTocLayouts()\"\n                   [layout]=\"layout.name\" (afterContextSet)=\"afterContextSet($event)\"\n                   (beforeContextSet)=\"beforeContextSet($event)\">\n\n            <div class=\"ui-g-12 \" [ngClass]=\"portletWidth(layout.name)\">\n                <p-panel [header]=\"labelForContext(layout.name)\">\n                    <m-include-component></m-include-component>\n                </p-panel>\n            </div>\n        </m-context>\n    </div>\n</div>\n\n<div id=\"m-content\">\n    <div class=\"ui-g m-dashboard\">\n        <!-- top -->\n        <div class=\"ui-g-12\">\n            <div class=\"ui-g \">\n                <m-context *ngFor=\"let layout of topLayouts()\"\n                           [layout]=\"layout.name\" (afterContextSet)=\"afterContextSet($event)\"\n                           (beforeContextSet)=\"beforeContextSet($event)\">\n\n                    <div class=\"ui-g-12 \" [ngClass]=\"portletWidth(layout.name)\">\n                        <p-panel [header]=\"labelForContext(layout.name)\" [toggleable]=\"false\">\n                            <m-include-component></m-include-component>\n                        </p-panel>\n                    </div>\n                </m-context>\n            </div>\n        </div>\n\n        <!-- bottom -->\n        <div class=\"ui-g-12\">\n            <div class=\"ui-g \">\n                <m-context *ngFor=\"let layout of bottomLayouts()\"\n                           [layout]=\"layout.name\" (afterContextSet)=\"afterContextSet($event)\"\n                           (beforeContextSet)=\"beforeContextSet($event)\">\n\n                    <div class=\"ui-g-12 \" [ngClass]=\"portletWidth(layout.name)\">\n                        <p-panel [header]=\"labelForContext(layout.name)\" [toggleable]=\"false\">\n                            <m-include-component></m-include-component>\n                        </p-panel>\n                    </div>\n                </m-context>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n",
                    styles: ["#m-toc{position:relative;float:left;z-index:99;width:15em;padding:.5em;box-shadow:6px 0 10px -4px rgba(0,0,0,.3)}#m-content{float:left;padding-top:1em;padding-left:1em;height:auto}#m-toggle-bar{box-sizing:border-box;border-bottom:1px solid #dde3e6;overflow:hidden;display:none;border-radius:5px;padding:.5em;width:2em;height:2.3em}#m-toggle-bar:focus,#m-toggle-bar:hover{background-color:#ececec}#m-toggle-bar:after{content:'';display:block;clear:both}.m-dashbord-name{font-weight:600}.ui-g{display:block}@media screen and (max-width:64em){#m-toc{display:none;overflow-y:auto;z-index:999}#m-toc.active{display:block}#m-toggle-bar{display:block;position:relative;z-index:1000;margin-right:1em}}"]
                }] }
    ];
    /** @nocollapse */
    MetaDashboardLayoutComponent.ctorParameters = function () { return [
        { type: MetaContextComponent },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    return MetaDashboardLayoutComponent;
}(MetaLayout));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * MetaSection renders list of sections defined by \@trait inside WidgetsRules. It uses layouts to
 * structure the list.
 *
 * ```
 *  layout {
 * \@trait=Sections { visible:true; component:MetaSectionsComponent }
 *  }
 *
 * ```
 *
 * and can be used as :
 *
 * ```
 *     layout=RfxDetailLayout#Sections {
 *
 * \@layout=Header#Form {
 *             trait:labelsOnTop;
 *             zonePath:Header;
 *
 *             bindings: {
 *                 description:$object.header.description;
 *             }
 *         }
 * \@layout=LineItems {
 *             component:RfxLineItemsComponent;
 *             bindings: {
 *                 rfxEvent:$object;
 *             }
 *         }
 * \@layout=Participants {
 *             component:RfxParticipantsComponent;
 *             bindings: {
 *                 rfxEvent:$object;
 *             }
 *         }
 *     }
 *
 *
 *     class=RfxEventHeader {
 *         zNone => *;
 *         Header.zLeft => requester => region => needBy;
 *     }
 * ```
 * In above example we have first section with Form where RfxEventHeader sends its fields
 * and several other sections with custom component.
 *
 *
 */
var MetaSectionsComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MetaSectionsComponent, _super);
    function MetaSectionsComponent(_metaContext, env) {
        var _this = _super.call(this, _metaContext, env) || this;
        _this._metaContext = _metaContext;
        _this.env = env;
        _this.sectionOperations = {};
        _this.onCompleteSubscriptions = {};
        return _this;
    }
    /**
     * @return {?}
     */
    MetaSectionsComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        _super.prototype.ngOnInit.call(this);
        this.allLayouts.forEach(function (value) {
            _this.sectionOperations[value.name] = 'view';
        });
    };
    /**
     * @return {?}
     */
    MetaSectionsComponent.prototype.ngDoCheck = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngDoCheck.call(this);
    };
    /**
     * @return {?}
     */
    MetaSectionsComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        this.sections = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__spread"])(this.viewSections.toArray());
    };
    /**
     * Action handler to broadcast event outside so it can be handled by the application
     *
     */
    /**
     * Action handler to broadcast event outside so it can be handled by the application
     *
     * @param {?} name
     * @param {?} sectionIndex
     * @param {?} cnxName
     * @param {?} event
     * @return {?}
     */
    MetaSectionsComponent.prototype.onAction = /**
     * Action handler to broadcast event outside so it can be handled by the application
     *
     * @param {?} name
     * @param {?} sectionIndex
     * @param {?} cnxName
     * @param {?} event
     * @return {?}
     */
    function (name, sectionIndex, cnxName, event) {
        var _this = this;
        /** @type {?} */
        var section = this.sections[sectionIndex];
        if (this.env.hasValue('parent-cnx')) {
            /** @type {?} */
            var cnx = this.env.getValue('parent-cnx');
            cnx.onAction.emit(new MetaUIActionEvent(section, name, cnxName, event));
        }
        if (name === 'onEdit' && section.editState && section.editMode === 'default') {
            this.sectionOperations[cnxName] = 'edit';
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.onCompleteSubscriptions[cnxName])) {
                section.onEditingComplete.subscribe(function (value) {
                    return _this.sectionOperations[cnxName] = 'view';
                });
                this.onCompleteSubscriptions[cnxName] = section;
            }
        }
    };
    /**
     *
     * Retrieves a property from the current context
     *
     */
    /**
     *
     * Retrieves a property from the current context
     *
     * @param {?} propName
     * @param {?} cnxName
     * @param {?} defaultVal
     * @return {?}
     */
    MetaSectionsComponent.prototype.sectionProp = /**
     *
     * Retrieves a property from the current context
     *
     * @param {?} propName
     * @param {?} cnxName
     * @param {?} defaultVal
     * @return {?}
     */
    function (propName, cnxName, defaultVal) {
        /** @type {?} */
        var lContext = this.contextMap.get(cnxName);
        return (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(lContext) && Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(lContext.propertyForKey(propName))) ?
            lContext.propertyForKey(propName) : defaultVal;
    };
    /**
     * @return {?}
     */
    MetaSectionsComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        var _this = this;
        _super.prototype.ngOnDestroy.call(this);
        this.allLayouts.forEach(function (value) {
            if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isPresent"])(_this.onCompleteSubscriptions[value.name])) {
                _this.onCompleteSubscriptions[value.name].onEditingComplete.unsubscribe();
            }
        });
    };
    MetaSectionsComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"], args: [{
                    template: "<div class=\"meta-sections\">\n\n    <m-context *ngFor=\"let layout of allLayouts; let i = index\" [layout]=\"layout.name\"\n               [operation]=\"sectionOperations[layout.name]\"\n               (afterContextSet)=\"afterContextSet($event)\"\n               (beforeContextSet)=\"beforeContextSet($event)\">\n\n        <aw-section [title]=\"sectionProp('title', layout.name, null)\"\n                    [description]=\"sectionProp('description', layout.name, null)\"\n                    [opened]=\"sectionProp('opened', layout.name, true)\"\n                    [actionIcon]=\"sectionProp('actionIcon', layout.name, 'icon-edit')\"\n                    [editable]=\"sectionProp('canEdit', layout.name, false)\"\n                    [editMode]=\"sectionProp('editMode', layout.name, 'default')\"\n                    [disableClose]=\"sectionProp('disableClose', layout.name, false)\"\n                    (onEdit)=\"onAction('onEdit', i, layout.name, $event)\"\n                    (onSaveAction)=\"onAction('onSaveAction', i, layout.name, $event)\"\n                    (onCancelAction)=\"onAction('onCancelAction', i, layout.name, $event)\">\n\n            <m-include-component></m-include-component>\n        </aw-section>\n\n    </m-context>\n</div>\n",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    MetaSectionsComponent.ctorParameters = function () { return [
        { type: MetaContextComponent },
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    MetaSectionsComponent.propDecorators = {
        viewSections: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChildren"], args: [_aribaui_components__WEBPACK_IMPORTED_MODULE_3__["SectionComponent"],] }]
    };
    return MetaSectionsComponent;
}(MetaLayout));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * Just like MetaContentPage this components renders meta context details but embedded as some
 * inline component. Not a page with page level buttons
 *
 *
 * Todo: We dont really need this component we we in the future extends MetaIncludeComponent to
 * support awcontentElement:
 *
 * ```
 *  {
 *      component:MetaContextComponent;
 *      bindings: {
 *          object:$value;
 *          layout:Inspect;
 *          operation:view;
 *          awcontentElement:MetaIncludeComponnetDirective;
 *      }
 *
 *  }
 *
 *  ```
 *
 *  This would instantiate right meta context just like this class.
 */
var MetaObjectDetailComponent = /** @class */ (function (_super) {
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"])(MetaObjectDetailComponent, _super);
    function MetaObjectDetailComponent(env) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        /**
         * For the detail view we always use read only content
         */
        _this.operation = 'view';
        /**
         * Default layout
         *
         */
        _this.layout = 'Inspect';
        return _this;
    }
    /**
     * @return {?}
     */
    MetaObjectDetailComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isBlank"])(this.object) || !Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_1__["isStringMap"])(this.object)) {
            throw new Error('Cannot render primitive values as object details!');
        }
    };
    MetaObjectDetailComponent.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"], args: [{
                    selector: 'm-content-detail',
                    template: "<span class=\"w-obj-detail-lbl\" *ngIf=\"label\">{{label}}</span>\n<m-context [pushNewContext]=\"true\" [object]=\"object\" [operation]=\"operation\"\n           [layout]=\"layout\" group=\"ObjectDetail\">\n\n    <div class=\"w-object-detail\">\n        <m-include-component></m-include-component>\n    </div>\n\n</m-context>\n",
                    styles: [".w-obj-detail-lbl{color:#aeaeae;font-weight:700;border-bottom:1px solid #e9e9e9}"]
                }] }
    ];
    /** @nocollapse */
    MetaObjectDetailComponent.ctorParameters = function () { return [
        { type: _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["Environment"] }
    ]; };
    MetaObjectDetailComponent.propDecorators = {
        object: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        operation: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        layout: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }],
        label: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"] }]
    };
    return MetaObjectDetailComponent;
}(_aribaui_components__WEBPACK_IMPORTED_MODULE_3__["BaseComponent"]));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AWMetaLayoutModule = /** @class */ (function () {
    function AWMetaLayoutModule() {
    }
    AWMetaLayoutModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["NgModule"], args: [{
                    declarations: [
                        MetaIncludeComponentDirective,
                        MetaFormComponent,
                        MetaFormTableComponent,
                        MetaFormRowComponent,
                        NoMetaComponent,
                        MetaContentPageComponent,
                        MetaElementListComponent,
                        MetaActionListComponent,
                        MetaHomePageComponent,
                        MetaDashboardLayoutComponent,
                        MetaSectionsComponent,
                        MetaObjectDetailComponent,
                    ],
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_6__["CommonModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ReactiveFormsModule"],
                        AWMetaCoreModule,
                        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["AribaCoreModule"],
                        _aribaui_components__WEBPACK_IMPORTED_MODULE_3__["AribaComponentsModule"]
                    ],
                    entryComponents: [
                        MetaFormComponent,
                        MetaFormTableComponent,
                        MetaFormRowComponent,
                        NoMetaComponent,
                        MetaContentPageComponent,
                        MetaContentPageComponent,
                        MetaElementListComponent,
                        MetaActionListComponent,
                        MetaHomePageComponent,
                        MetaDashboardLayoutComponent,
                        MetaSectionsComponent,
                        MetaObjectDetailComponent
                    ],
                    exports: [
                        MetaIncludeComponentDirective,
                        MetaFormComponent,
                        MetaFormTableComponent,
                        MetaFormRowComponent,
                        NoMetaComponent,
                        MetaContentPageComponent,
                        MetaContentPageComponent,
                        MetaElementListComponent,
                        MetaActionListComponent,
                        MetaHomePageComponent,
                        MetaDashboardLayoutComponent,
                        MetaSectionsComponent,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ReactiveFormsModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormsModule"],
                        _aribaui_core__WEBPACK_IMPORTED_MODULE_1__["AribaCoreModule"],
                        _aribaui_components__WEBPACK_IMPORTED_MODULE_3__["AribaComponentsModule"],
                        MetaObjectDetailComponent
                    ],
                    providers: []
                },] }
    ];
    return AWMetaLayoutModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

var sysMetaComponents = /*#__PURE__*/Object.freeze({
    ACTIVE_CNTX: ACTIVE_CNTX,
    MetaContextComponent: MetaContextComponent,
    MetaUIActionEvent: MetaUIActionEvent,
    AWMetaLayoutModule: AWMetaLayoutModule,
    MetaContentPageComponent: MetaContentPageComponent,
    MetaFormComponent: MetaFormComponent,
    MetaFormRowComponent: MetaFormRowComponent,
    MetaFormTableComponent: MetaFormTableComponent,
    NoMetaComponent: NoMetaComponent,
    MetaIncludeComponentDirective: MetaIncludeComponentDirective,
    MetaBaseComponent: MetaBaseComponent,
    MetaElementListComponent: MetaElementListComponent,
    MetaActionListComponent: MetaActionListComponent,
    MetaHomePageComponent: MetaHomePageComponent,
    MetaDashboardLayoutComponent: MetaDashboardLayoutComponent,
    MetaSectionsComponent: MetaSectionsComponent,
    MetaObjectDetailComponent: MetaObjectDetailComponent
});

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var routes = [
    { path: 'context', component: MetaContentPageComponent }
];
var AribaMetaUIRoutingModule = /** @class */ (function () {
    function AribaMetaUIRoutingModule() {
    }
    AribaMetaUIRoutingModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["NgModule"], args: [{
                    imports: [
                        _angular_router__WEBPACK_IMPORTED_MODULE_7__["RouterModule"].forChild(routes)
                    ],
                    exports: [_angular_router__WEBPACK_IMPORTED_MODULE_7__["RouterModule"]],
                    providers: []
                },] }
    ];
    return AribaMetaUIRoutingModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * This module contains everything needs to dynamically generated UI based on metaRules
 * Since we are using primeNG, check AribaComponent if its already imported so you dont have
 * import it again.
 *
 */
var AribaMetaUIModule = /** @class */ (function () {
    function AribaMetaUIModule() {
    }
    AribaMetaUIModule.decorators = [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["NgModule"], args: [{
                    imports: [
                        _angular_common__WEBPACK_IMPORTED_MODULE_6__["CommonModule"],
                        AribaMetaUIRoutingModule,
                        AWMetaCoreModule,
                        AWMetaLayoutModule
                    ],
                    exports: [
                        AWMetaCoreModule,
                        AWMetaLayoutModule
                    ],
                    providers: [
                        {
                            'provide': _angular_core__WEBPACK_IMPORTED_MODULE_4__["APP_INITIALIZER"],
                            'useFactory': initMetaUI,
                            'deps': [_angular_core__WEBPACK_IMPORTED_MODULE_4__["Injector"]],
                            'multi': true,
                        },
                    ],
                },] }
    ];
    /** @nocollapse */
    AribaMetaUIModule.ctorParameters = function () { return []; };
    return AribaMetaUIModule;
}());
/**
 *
 * Entry factory method that initialize The METAUI layer and here we load WidgetsRules.oss as well
 * as Persistence Rules.
 *
 * @param {?} injector
 * @return {?}
 */
function initMetaUI(injector) {
    /** @type {?} */
    var initFce = function init(inj) {
        /** @type {?} */
        var promise = new Promise(function (resolve) {
            /** @type {?} */
            var metaUI = UIMeta.getInstance();
            // access services lazily when they are needed and initialized as workaround for
            // https://github.com/angular/angular/issues/16853
            metaUI.injector = inj;
            metaUI.registerLoader(new RuleLoaderService());
            metaUI.loadDefaultRuleFiles(sysMetaComponents);
            resolve(true);
        });
        return promise;
    };
    return initFce.bind(initFce, injector);
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */



//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJpYmF1aS1tZXRhdWkuanMubWFwIiwic291cmNlcyI6WyJuZzovL0BhcmliYXVpL21ldGF1aS9jb3JlL21hdGNoLnRzIiwibmc6Ly9AYXJpYmF1aS9tZXRhdWkvY29yZS9uZXN0ZWQtbWFwLnRzIiwibmc6Ly9AYXJpYmF1aS9tZXRhdWkvY29yZS9wcm9wZXJ0eS12YWx1ZS50cyIsIm5nOi8vQGFyaWJhdWkvbWV0YXVpL2NvcmUvY29udGV4dC50cyIsIm5nOi8vQGFyaWJhdWkvbWV0YXVpL2NvcmUvcnVsZS50cyIsIm5nOi8vQGFyaWJhdWkvbWV0YXVpL2NvcmUvbWV0YS50cyIsIm5nOi8vQGFyaWJhdWkvbWV0YXVpL2NvcmUvaXRlbS1wcm9wZXJ0aWVzLnRzIiwibmc6Ly9AYXJpYmF1aS9tZXRhdWkvY29yZS9vYmplY3QtbWV0YS50cyIsIm5nOi8vQGFyaWJhdWkvbWV0YXVpL2NvcmUvd2lkZ2V0cy1ydWxlcy50cyIsIm5nOi8vQGFyaWJhdWkvbWV0YXVpL2NvcmUvcGVyc2lzdGVuY2UtcnVsZXMudHMiLCJuZzovL0BhcmliYXVpL21ldGF1aS9jb3JlL3VpbWV0YS50cyIsIm5nOi8vQGFyaWJhdWkvbWV0YXVpL2NvcmUvbWV0YS1jb250ZXh0L21ldGEtY29udGV4dC5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL21ldGF1aS9jb3JlL21ldGEtY29yZS5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL21ldGF1aS9jb3JlL3J1bGUtbG9hZGVyLnNlcnZpY2UudHMiLCJuZzovL0BhcmliYXVpL21ldGF1aS9sYXlvdXQvbm8tbWV0YS9uby1tZXRhLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvbWV0YXVpL2xheW91dC9tZXRhLWluY2x1ZGUuZGlyZWN0aXZlLnRzIiwibmc6Ly9AYXJpYmF1aS9tZXRhdWkvbGF5b3V0L21ldGEtZm9ybS9tZXRhLWZvcm0uY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9tZXRhdWkvbGF5b3V0L21ldGEuYmFzZS5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL21ldGF1aS9sYXlvdXQvbWV0YS1mb3JtL21ldGEtZm9ybS10YWJsZS9tZXRhLWZvcm0tdGFibGUuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9tZXRhdWkvbGF5b3V0L21ldGEtZm9ybS9tZXRhLWZvcm0tcm93L21ldGEtZm9ybS1yb3cuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9tZXRhdWkvbGF5b3V0L21ldGEtY29udGVudC1wYWdlL21ldGEtY29udGVudC1wYWdlLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvbWV0YXVpL2xheW91dC9tZXRhLWxheW91dC50cyIsIm5nOi8vQGFyaWJhdWkvbWV0YXVpL2xheW91dC9tZXRhLWVsZW1lbnQtbGlzdC9tZXRhLWVsZW1lbnQtbGlzdC5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL21ldGF1aS9sYXlvdXQvbWV0YS1hY3Rpb24tbGlzdC9tZXRhLWFjdGlvbi1saXN0LmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvbWV0YXVpL2xheW91dC9tZXRhLWhvbWUtcGFnZS9tZXRhLWhvbWUucGFnZS5jb21wb25lbnQudHMiLCJuZzovL0BhcmliYXVpL21ldGF1aS9sYXlvdXQvbWV0YS1kYXNoYm9hcmQvbWV0YWRhc2hib2FyZC1sYXlvdXQuY29tcG9uZW50LnRzIiwibmc6Ly9AYXJpYmF1aS9tZXRhdWkvbGF5b3V0L21ldGEtc2VjdGlvbi9tZXRhLXNlY3Rpb25zLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvbWV0YXVpL2xheW91dC9tZXRhLW9iamVjdC1kZXRhaWwvbWV0YS1vYmplY3QtZGV0YWlsLmNvbXBvbmVudC50cyIsIm5nOi8vQGFyaWJhdWkvbWV0YXVpL2xheW91dC9tZXRhLWxheW91dC5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL21ldGF1aS9hcmliYS1tZXRhdWktcm91dGluZy5tb2R1bGUudHMiLCJuZzovL0BhcmliYXVpL21ldGF1aS9hcmliYS5tZXRhdWkubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEJhc2VkIG9uIG9yaWdpbmFsIHdvcms6IE1ldGFVSTogQ3JhaWcgRmVkZXJpZ2hpICgyMDA4KVxuICpcbiAqL1xuaW1wb3J0IHtcbiAgICBhc3NlcnQsXG4gICAgY3JjMzIsXG4gICAgaGFzaENvZGUsXG4gICAgaXNBcnJheSxcbiAgICBpc0JsYW5rLFxuICAgIGlzUHJlc2VudCxcbiAgICBwcmludCxcbiAgICBzaGlmdExlZnQsXG4gICAgU3RyaW5nSm9pbmVyXG59IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtSdWxlfSBmcm9tICcuL3J1bGUnO1xuaW1wb3J0IHtLZXlEYXRhLCBNYXRjaFZhbHVlLCBNZXRhLCBQcm9wZXJ0eU1hcH0gZnJvbSAnLi9tZXRhJztcblxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBzZXQgb2YgbWF0Y2hpbmcgcnVsZXMgcmVzdWx0aW5nIGZyb20gbG9va2luZyB1cCBhIHNldCBvZiBrZXkvdmFsdWVzXG4gKiAgYWdhaW5zdCB0aGUgTWV0YSBydWxlIGJhc2UuXG4gKlxuICogSW5zdGFuY2VzIG9mIHRoZSBNYXRjaCBzdXBlcmNsYXNzIGFyZSBzaW1wbHkgaW1tdXRhYmxlIHNuYXBzaG90cyBvZiBwcmV2aW91cyBtYXRjaGVzXG4gKiAodXNlZCBhcyBrZXlzIGluIE1hdGNoIC0+IFByb3BlcnRpZXMgbG9va3VwIGNhY2hlcykuXG4gKiBUaGUgbW9yZSBtZWF0eSBjbGFzcyBpcyBpdHMgc3RhdGljIGlubmVyIHN1YmNsYXNzLCBNYXRjaC5NYXRjaFJlc3VsdC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1hdGNoXG57XG4gICAgc3RhdGljIHJlYWRvbmx5IEVtcHR5TWF0Y2hBcnJheTogbnVtYmVyW10gPSBbXTtcblxuICAgIHN0YXRpYyBfRGVidWdfRWxlbWVudFByb2Nlc3NDb3VudDogbnVtYmVyID0gMDtcblxuXG4gICAgLy8gV29yZCBsaXN0cyBhcmUgaW50IGFycmF5cyB3aXRoIHRoZSBmaXJzdCBlbGVtZW50IGhvbGRpbmcgdGhlIGxlbmd0aFxuICAgIHN0YXRpYyBhZGRJbnQoaW50QXJyOiBudW1iZXJbXSwgdmFsOiBudW1iZXIpOiBudW1iZXJbXVxuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsoaW50QXJyKSkge1xuICAgICAgICAgICAgbGV0IHI6IEFycmF5PG51bWJlcj4gPSBuZXcgQXJyYXk8bnVtYmVyPig0KTtcbiAgICAgICAgICAgIHJbMF0gPSAxO1xuICAgICAgICAgICAgclsxXSA9IHZhbDtcblxuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5ld1BvczogbnVtYmVyID0gaW50QXJyWzBdO1xuICAgICAgICBpZiAoaW50QXJyW25ld1BvcysrXSA9PT0gdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gaW50QXJyO1xuICAgICAgICB9ICAvLyBhbHJlYWR5IGhlcmUuLi5cblxuICAgICAgICBpZiAobmV3UG9zID49IGludEFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBhOiBBcnJheTxudW1iZXI+ID0gbmV3IEFycmF5PG51bWJlcj4obmV3UG9zICogMik7XG4gICAgICAgICAgICBhID0gaW50QXJyLnNsaWNlKDAsIG5ld1Bvcyk7XG4gICAgICAgICAgICBpbnRBcnIgPSBhO1xuICAgICAgICB9XG4gICAgICAgIGludEFycltuZXdQb3NdID0gdmFsO1xuICAgICAgICBpbnRBcnJbMF0gPSBuZXdQb3M7XG4gICAgICAgIHJldHVybiBpbnRBcnI7XG4gICAgfVxuXG4gICAgLy8gb25seSBydWxlcyB0aGF0IHVzZSBvbmx5IHRoZSBhY3RpdmF0ZWQgKHF1ZXJpZWQpIGtleXNcbiAgICBzdGF0aWMgZmlsdGVyTXVzdFVzZShydWxlczogQXJyYXk8UnVsZT4sIGFycjogbnVtYmVyW10sIHVzZXNNYXNrOiBudW1iZXIpOiBudW1iZXJbXVxuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsoYXJyKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdDogbnVtYmVyW107XG4gICAgICAgIGxldCBjb3VudCA9IGFyclswXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgciA9IGFycltpICsgMV07XG4gICAgICAgICAgICBsZXQgcnVsZSA9IHJ1bGVzW3JdO1xuICAgICAgICAgICAgaWYgKChydWxlLmtleU1hdGNoZXNNYXNrICYgdXNlc01hc2spICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gTWF0Y2guYWRkSW50KHJlc3VsdCwgcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEludGVyc2VjdHMgdHdvIHJ1bGV2ZWNzLiAgVGhpcyBpcyBub3QgYSB0cmFkaXRpb25hbCBpbnRlcnNlY3Rpb24gd2hlcmUgb25seSBpdGVtcyBpbiBib3RoXG4gICAgICogaW5wdXRzIGFyZSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0OiB3ZSBvbmx5IGludGVyc2VjdCBydWxlcyB0aGF0IG1hdGNoIG9uIGNvbW1vbiBrZXlzO1xuICAgICAqIG90aGVycyBhcmUgdW5pb25lZC5cbiAgICAgKlxuICAgICAqIEZvciBpbnN0YW5jZSwgc2F5IHdlIGhhdmUgdGhlIGZvbGxvd2luZyBpbnB1dHM6XG4gICAgICogICAgICBhOiAgW21hdGNoZWQgb246IGNsYXNzLCBsYXlvdXRdICAoY2xhc3M9Rm9vLCBsYXlvdXQ9SW5zcGVjdClcbiAgICAgKiAgICAgICAgICAxKSBjbGFzcz1Gb28gbGF5b3V0PUluc3BlY3QgeyAuLi4gfVxuICAgICAqICAgICAgICAgIDIpIGNsYXNzPUZvbyBvcGVyYXRpb249ZWRpdCB7IC4uLiB9XG4gICAgICogICAgICAgICAgMykgbGF5b3V0PUluc3BlY3Qgb3BlcmF0aW9uPXZpZXcgeyAuLi4gfVxuICAgICAqXG4gICAgICogICAgICBiOiAgW21hdGNoZWQgb246IG9wZXJhdGlvbl0gIChvcGVyYXRpb249dmlldylcbiAgICAgKiAgICAgICAgICAzKSBsYXlvdXQ9SW5zcGVjdCBvcGVyYXRpb249dmlldyB7IC4uLiB9XG4gICAgICogICAgICAgICAgNCkgb3BlcmF0aW9uPXZpZXcgdHlwZT1TdHJpbmcgeyAuLi4gfVxuICAgICAqICAgICAgICAgIDUpIG9wZXJhdGlvbj12aWV3IGxheW91dD1UYWJzIHsgLi4uIH1cbiAgICAgKlxuICAgICAqIFRoZSByZXN1bHQgc2hvdWxkIGJlOiAxLCAzLCA0XG4gICAgICogSS5lLjogaXRlbXMgdGhhdCBhcHBlYXIgaW4gYm90aCAoIzMgYWJvdmUpIGFyZSBpbmNsdWRlZCwgYXMgYXJlIGl0ZW1zIHRoYXQgYXBwZWFyIGluIGp1c3RcbiAgICAgKiBvbmUsXG4gICAgICogKmJ1dCBkb24ndCBtYXRjaCBvbiB0aGUga2V5cyBpbiB0aGUgb3RoZXIqICgjMSBhbmQgIzQgYWJvdmUpLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFsbFJ1bGVzIHRoZSBmdWxsIHJ1bGUgYmFzZVxuICAgICAqIEBwYXJhbSBhIGZpcnN0IHZlY3RvciBvZiBydWxlIGluZGV4ZXNcbiAgICAgKiBAcGFyYW0gYiBzZWNvbmQgdmVjdG9yIG9mIHJ1bGUgaW5kZXhlc1xuICAgICAqIEBwYXJhbSBhTWFzayBtYXNrIGluZGljYXRpbmcgdGhlIGtleXMgYWdhaW5zdCB3aGljaCB0aGUgZmlyc3QgcnVsZSB2ZWN0b3JzIGl0ZW1zIGhhdmVcbiAgICAgKiAgICAgYWxyZWFkeSBiZWVuIG1hdGNoZWRcbiAgICAgKiBAcGFyYW0gYk1hc2sgbWFzayBpbmRpY2F0aW5nIHRoZSBrZXlzIGFnYWluc3Qgd2hpY2ggdGhlIHNlY29uZCBydWxlIHZlY3RvcnMgaXRlbXMgaGF2ZVxuICAgICAqICAgICBhbHJlYWR5IGJlZW4gbWF0Y2hlZFxuICAgICAqIEByZXR1cm4gcnVsZSB2ZWN0b3IgZm9yIHRoZSBtYXRjaGVzXG4gICAgICovXG4gICAgc3RhdGljIGludGVyc2VjdChhbGxSdWxlczogQXJyYXk8UnVsZT4sIGE6IG51bWJlcltdLCBiOiBudW1iZXJbXSwgYU1hc2s6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgIGJNYXNrOiBudW1iZXIpOiBudW1iZXJbXVxuICAgIHtcblxuICAgICAgICBpZiAoaXNCbGFuayhhKSkge1xuICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdDogbnVtYmVyW107XG4gICAgICAgIGxldCBpQSA9IDEsIHNpemVBID0gaXNQcmVzZW50KGFbMF0pID8gYVswXSA6IDAsIGlCID0gMSwgc2l6ZUIgPSBpc1ByZXNlbnQoYlswXSkgPyBiWzBdIDogMDtcbiAgICAgICAgTWF0Y2guX0RlYnVnX0VsZW1lbnRQcm9jZXNzQ291bnQgKz0gc2l6ZUEgKyBzaXplQjtcblxuICAgICAgICB3aGlsZSAoaUEgPD0gc2l6ZUEgfHwgaUIgPD0gc2l6ZUIpIHtcbiAgICAgICAgICAgIGxldCBpQU1hc2sgPSAoaUEgPD0gc2l6ZUEpID8gYWxsUnVsZXNbYVtpQV1dLmtleUluZGV4ZWRNYXNrIDogMDtcbiAgICAgICAgICAgIGxldCBpQk1hc2sgPSAoaUIgPD0gc2l6ZUIpID8gYWxsUnVsZXNbYltpQl1dLmtleUluZGV4ZWRNYXNrIDogMDtcbiAgICAgICAgICAgIGxldCBjID0gKGlBID4gc2l6ZUEgPyAxIDogKGlCID4gc2l6ZUIgPyAtMSA6IChhW2lBXSAtIGJbaUJdKSkpO1xuXG4gICAgICAgICAgICBpZiAoYyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IE1hdGNoLmFkZEludChyZXN1bHQsIGFbaUFdKTtcbiAgICAgICAgICAgICAgICBpQSsrO1xuICAgICAgICAgICAgICAgIGlCKys7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBBIG5vdCBpbiBCLCBidXQgQSBkb2Vzbid0IGZpbHRlciBvbiBCJ3MgbWFzaywgdGhlbiBhZGQgaXRcbiAgICAgICAgICAgICAgICBpZiAoKGlBTWFzayAmIGJNYXNrKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBNYXRjaC5hZGRJbnQocmVzdWx0LCBhW2lBXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlBKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICgoaUJNYXNrICYgYU1hc2spID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IE1hdGNoLmFkZEludChyZXN1bHQsIGJbaUJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaUIrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHN0YXRpYyB1bmlvbihhOiBudW1iZXJbXSwgYjogbnVtYmVyW10pOiBudW1iZXJbXVxuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsoYSkpIHtcbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0JsYW5rKGIpKSB7XG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2l6ZUEgPSBhWzBdLCBzaXplQiA9IGJbMF07XG4gICAgICAgIGlmIChzaXplQSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNpemVCID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgfVxuICAgICAgICBNYXRjaC5fRGVidWdfRWxlbWVudFByb2Nlc3NDb3VudCArPSAoc2l6ZUEgKyBzaXplQik7XG5cbiAgICAgICAgbGV0IHJlc3VsdDogbnVtYmVyW107XG4gICAgICAgIGxldCBpQSA9IDEsIHZBID0gYVsxXSwgaUIgPSAxLCB2QiA9IGJbMV07XG5cblxuICAgICAgICB3aGlsZSAoaUEgPD0gc2l6ZUEgfHwgaUIgPD0gc2l6ZUIpIHtcbiAgICAgICAgICAgIGxldCBjOiBudW1iZXIgPSB2QSAtIHZCO1xuICAgICAgICAgICAgcmVzdWx0ID0gTWF0Y2guYWRkSW50KHJlc3VsdCwgKChjIDw9IDApID8gdkEgOiB2QikpO1xuICAgICAgICAgICAgaWYgKGMgPD0gMCkge1xuICAgICAgICAgICAgICAgIGlBKys7XG4gICAgICAgICAgICAgICAgdkEgPSAoaUEgPD0gc2l6ZUEpID8gYVtpQV0gOiBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPj0gMCkge1xuICAgICAgICAgICAgICAgIGlCKys7XG4gICAgICAgICAgICAgICAgdkIgPSAoaUIgPD0gc2l6ZUIpID8gYltpQl0gOiBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgc3RhdGljIF9hcnJheUVxKGE6IG51bWJlcltdLCBiOiBudW1iZXJbXSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYSA9PT0gbnVsbCB8fCBiID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvdW50ID0gYVswXTtcbiAgICAgICAgaWYgKGNvdW50ICE9PSBiWzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gY291bnQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHVibGljIF9tYXRjaGVzOiBudW1iZXJbXSwgcHVibGljIF9rZXlzTWF0Y2hlZE1hc2s6IG51bWJlcixcbiAgICAgICAgICAgICAgICBwdWJsaWMgIF9tYXRjaFBhdGhDUkM6IG51bWJlciA9IDApXG4gICAge1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIGEgcGFydGlhbGx5IG1hdGNoZWQgc2V0IG9mIHJ1bGVzIGRvd24gdG8gdGhlIGFjdHVhbCBtYXRjaGVzLlxuICAgICAqIFRoZSBpbnB1dCBzZXQgb2YgcnVsZXMsIG1hdGNoZXNBcnIsIGlzIGJhc2VkIG9uIGEgKnBhcnRpYWwqIG1hdGNoLCBhbmQgc28gaW5jbHVkZXMgcnVsZXNcbiAgICAgKiB0aGF0IHdlcmUgdG91Y2hlZCBieSBzb21lIG9mIHRoZSBxdWVyaWVkIGtleXMsIGJ1dCB0aGF0IG1heSBhbHNvIHJlcXVpcmUgKmFkZGl0aW9uYWwqIGtleXNcbiAgICAgKiB0aGF0IHdlIGhhdmUgbm90IG1hdGNoZWQgb24gLS0gdGhlc2UgbXVzdCBub3cgYmUgcmVtb3ZlZC4gQWxzbywgd2hlbiAncGFydGlhbCBpbmRleGluZycsXG4gICAgICogcnVsZXMgYXJlIGluZGV4ZWQgb24gYSBzdWJzZXQgb2YgdGhlaXIga2V5cywgc28gbWF0Y2hlc0FyciB3aWxsIGNvbnRhaW4gcnVsZXMgdGhhdCBuZWVkIHRvXG4gICAgICogYmUgZXZhbHVhdGVkIGFnYWluc3QgdGhvc2UgTWF0Y2hWYWx1ZXMgdXBvbiB3aGljaCB0aGV5IHdlcmUgbm90IGluZGV4ZWQgKGFuZCB0aGVyZWZvcmUgbm90XG4gICAgICogaW50ZXJzZWN0ZWQgLyBmaWx0ZXJlZCBvbiBpbiB0aGUgbG9va3VwIHByb2Nlc3MpLlxuICAgICAqL1xuICAgIGZpbHRlcihhbGxSdWxlczogQXJyYXk8UnVsZT4sIG1heFJ1bGU6IG51bWJlciwgbWF0Y2hlc0FycjogbnVtYmVyW10sIHF1ZXJpZWRNYXNrOiBudW1iZXIsXG4gICAgICAgICAgIG1hdGNoQXJyYXk6IE1hdGNoVmFsdWVbXSk6IG51bWJlcltdXG4gICAge1xuICAgICAgICBpZiAoaXNCbGFuayhtYXRjaGVzQXJyKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJpbnQoJ1xcbiMjIEZpbHRlcmluZyBtYXRjaGluZzogJyArIG1hdGNoZXNBcnJbMF0gKyAnLCBRdWVyaWVkIE1hc2s6ICcgKyBxdWVyaWVkTWFzayk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIGZvciAobGV0IGkgPSAxOyBpIDw9IG1hdGNoZXNBcnJbMF07IGkrKykge1xuICAgICAgICAvLyAgICAgcHJpbnQoJyMjICcgKyBtYXRjaGVzQXJyW2ldICsgJyk6ICcgKyBhbGxSdWxlc1ttYXRjaGVzQXJyW2ldXS50b1N0cmluZygpKTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGxldCByZXN1bHQ6IG51bWJlcltdO1xuICAgICAgICBsZXQgY291bnQgPSBtYXRjaGVzQXJyWzBdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IHIgPSBtYXRjaGVzQXJyW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChyID49IG1heFJ1bGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBydWxlOiBSdWxlID0gYWxsUnVsZXNbcl07XG5cblxuICAgICAgICAgICAgaWYgKHJ1bGUuZGlzYWJsZWQoKSB8fCAocnVsZS5rZXlBbnRpTWFzayAmIHF1ZXJpZWRNYXNrKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNdXN0IGhhdmUgbWF0Y2hlZCBvbiAoYWN0aXZhdGUpIGFsbCBtYXRjaCBrZXlzIGZvciB0aGlzIHJ1bGUsICphbmQqXG4gICAgICAgICAgICAvLyBpZiBoYXZlIGFueSBub24taW5kZXhlZCBydWxlcywgbmVlZCB0byBjaGVjayBtYXRjaCBvbiB0aG9zZVxuICAgICAgICAgICAgaWYgKCgocnVsZS5rZXlNYXRjaGVzTWFzayAmIH5xdWVyaWVkTWFzaykgPT09IDApICYmXG4gICAgICAgICAgICAgICAgKChydWxlLmtleU1hdGNoZXNNYXNrID09PSBydWxlLmtleUluZGV4ZWRNYXNrKVxuICAgICAgICAgICAgICAgIHx8XG4gICAgICAgICAgICAgICAgKGlzUHJlc2VudChtYXRjaEFycmF5KSAmJiBydWxlLm1hdGNoZXMobWF0Y2hBcnJheSkpKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKE1ldGEuX0RlYnVnRG91YmxlQ2hlY2tNYXRjaGVzICYmICEobWF0Y2hBcnJheSAhPSBudWxsICYmIHJ1bGUubWF0Y2hlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoQXJyYXkpKSkge1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoZmFsc2UsICdJbmNvbnNpc3RlbnQgKG5lZ2F0aXZlKSBtYXRjaCBvbiBydWxlOiAnICsgcnVsZSk7XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBNYXRjaC5hZGRJbnQocmVzdWx0LCByKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoTWV0YS5fRGVidWdEb3VibGVDaGVja01hdGNoZXMgJiYgKG1hdGNoQXJyYXkgIT0gbnVsbCAmJiBydWxlLm1hdGNoZXMoXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoQXJyYXkpKSkge1xuICAgICAgICAgICAgICAgIC8vIEFzc2VydC50aGF0KGZhbHNlLCAnSW5jb25zaXN0ZW50IChwb3NpdGl2ZSkgbWF0Y2ggb24gcnVsZTogJXMnLCBydWxlKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgKGlzUHJlc2VudChyZXN1bHQpICYmIHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vICAgICBwcmludCgnXFxuXFxuXFxuICMjIyMgRmlsdGVyaW5nIFJFU1VMVDogJyArIHJlc3VsdFswXSk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSByZXN1bHRbMF07IGkrKykge1xuICAgICAgICAvLyAgICAgICAgIHByaW50KCcjIyAnICsgcmVzdWx0W2ldICsgJyk6ICcgKyBhbGxSdWxlc1tyZXN1bHRbaV1dLnRvU3RyaW5nKCkpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG5cbiAgICBoYXNoQ29kZSgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGxldCByZXQgPSB0aGlzLl9rZXlzTWF0Y2hlZE1hc2sgKiAzMSArIHRoaXMuX21hdGNoUGF0aENSQztcbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLl9tYXRjaGVzKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGMgPSB0aGlzLl9tYXRjaGVzWzBdOyBpIDwgYzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmV0ID0gY3JjMzIocmV0LCB0aGlzLl9tYXRjaGVzW2kgKyAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cblxuICAgIGdldCBrZXlzTWF0Y2hlZE1hc2soKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fa2V5c01hdGNoZWRNYXNrO1xuICAgIH1cblxuICAgIGVxdWFsc1RvKG86IGFueSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiAoKG8gaW5zdGFuY2VvZiBNYXRjaCkgJiYgdGhpcy5fa2V5c01hdGNoZWRNYXNrID09PSBvLl9rZXlzTWF0Y2hlZE1hc2spICYmXG4gICAgICAgICAgICB0aGlzLl9tYXRjaFBhdGhDUkMgPT09IG8uX21hdGNoUGF0aENSQyAmJlxuICAgICAgICAgICAgTWF0Y2guX2FycmF5RXEodGhpcy5fbWF0Y2hlcywgby5fbWF0Y2hlcyk7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKVxuICAgIHtcbiAgICAgICAgbGV0IGJ1ZiA9IG5ldyBTdHJpbmdKb2luZXIoW10pO1xuICAgICAgICBidWYuYWRkKCdfbWF0Y2hlcycpO1xuICAgICAgICBidWYuYWRkKChpc1ByZXNlbnQodGhpcy5fbWF0Y2hlcykgPyB0aGlzLl9tYXRjaGVzLmxlbmd0aCA6IDApICsgJycpO1xuICAgICAgICBidWYuYWRkKCdfa2V5c01hdGNoZWRNYXNrJyk7XG4gICAgICAgIGJ1Zi5hZGQodGhpcy5fa2V5c01hdGNoZWRNYXNrICsgJycpO1xuICAgICAgICBidWYuYWRkKCdfa2V5c01hdGNoZWRNYXNrJyk7XG4gICAgICAgIGJ1Zi5hZGQodGhpcy5fbWF0Y2hQYXRoQ1JDICsgJycpO1xuXG4gICAgICAgIGJ1Zi5hZGQoJ2hhc2hjb2RlJyk7XG4gICAgICAgIGJ1Zi5hZGQodGhpcy5oYXNoQ29kZSgpICsgJycpO1xuXG4gICAgICAgIHJldHVybiBidWYudG9TdHJpbmcoKTtcbiAgICB9XG5cbn1cbi8qKlxuICogIEFuIE1hdGNoIHdoaWNoIGluY2x1ZGVzIGEgVW5pb25NYXRjaFJlc3VsdCBwYXJ0ICh3aGljaCBpcyB1c2VkIGJ5IENvbnRleHQgdG9cbiAqIHJlcHJlc2VudCB0aGUgc2V0IG9mIG92ZXJyaWRkZW4ga2V5L3ZhbHVlcyB1cCB0aGUgc3RhY2spXG4gKi9cbmV4cG9ydCBjbGFzcyBNYXRjaFdpdGhVbmlvbiBleHRlbmRzIE1hdGNoXG57XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgX21hdGNoZXM6IG51bWJlcltdLCBwdWJsaWMgIF9rZXlzTWF0Y2hlZE1hc2s6IG51bWJlcixcbiAgICAgICAgICAgICAgICBwdWJsaWMgIF9tYXRjaFBhdGhDUkM6IG51bWJlciA9IDAsXG4gICAgICAgICAgICAgICAgcHVibGljIF9vdmVyVW5pb25NYXRjaDogVW5pb25NYXRjaFJlc3VsdClcbiAgICB7XG4gICAgICAgIHN1cGVyKF9tYXRjaGVzLCBfa2V5c01hdGNoZWRNYXNrLCBfbWF0Y2hQYXRoQ1JDKTtcbiAgICB9XG5cblxuICAgIGVxdWFsc1RvKG86IGFueSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBzdXBlci5lcXVhbHNUbyhvKSAmJiAoXG4gICAgICAgICAgICAodGhpcy5fb3ZlclVuaW9uTWF0Y2ggPT09IG8uX292ZXJVbmlvbk1hdGNoKSB8fFxuICAgICAgICAgICAgKChpc1ByZXNlbnQodGhpcy5fb3ZlclVuaW9uTWF0Y2gpKSAmJiBpc1ByZXNlbnQoXG4gICAgICAgICAgICAgICAgby5fb3ZlclVuaW9uTWF0Y2gpICYmIHRoaXMuX292ZXJVbmlvbk1hdGNoLmVxdWFsc1RvKFxuICAgICAgICAgICAgICAgIG8uX292ZXJVbmlvbk1hdGNoKSkpO1xuICAgIH1cblxufVxuXG4vKipcbiAqICBNYXRjaFJlc3VsdCByZXByZXNlbnRzIHRoZSByZXN1bHQgb2YgY29tcHV0aW5nIHRoZSBzZXQgb2YgbWF0Y2hpbmcgcnVsZXNcbiAqICBiYXNlZCBvbiB0aGUga2V5L3ZhbHVlIG9uIHRoaXMgaW5zdGFuY2UsIGFuZCB0aGUgb3RoZXIga2V5L3ZhbHVlIHBhaXJzXG4gKiBvbiBpdHMgcHJlZGVjZXNzb3IgY2hhaW4uICBJLmUuIHRvIGZpbmQgdGhlIG1hdGNoaW5nIHJ1bGVzIGZvciB0aGUgY29udGV4dCBrZXlzXG4gKiB7b3BlcmF0aW9uPWVkaXQ7IGxheW91dD1JbnNwZWN0OyBjbGFzcz1Gb299LCBmaXJzdCBhIE1hdGNoUmVzdWx0IGlzIGNyZWF0ZWQgZm9yXG4gKiAnb3BlcmF0aW9uPWVkaXQnIGFuZCBwYXNzZWQgYXMgdGhlICdwcmV2JyB0byB0aGUgY3JlYXRpb24gb2YgYW5vdGhlciBmb3IgJ2xheW91dD1JbnNwZWN0JyxcbiAqIGFuZCBzbyBvbi4gIEluIHRoaXMgd2F5IHRoZSBNYXRjaFJlc3VsdHMgZm9ybSBhICooc2hhcmFibGUpIHBhcnRpYWwtbWF0Y2ggdHJlZS4qXG4gKlxuICogVGhlIGFiaWxpdHkgdG8gcmVzdWx0IHByZXZpb3VzIHBhcnRpYWwgbWF0Y2ggJ3BhdGhzJyBpcyBhbiBpbXBvcnRhbnQgb3B0aW1pemF0aW9uOlxuICogdGhlIHByaW1hcnkgY2xpZW50IG9mIE1hdGNoUmVzdWx0IChhbmQgb2YgcnVsZSBtYXRjaGluZyBpbiBnZW5lcmFsKSBpcyB0aGUgQ29udGV4dCwgd2hlbiBlYWNoXG4gKiBhc3NpZ25tZW50IHB1c2hlcyBhIHJlY29yZCBvbiBhIHN0YWNrIHRoYXQgKHJvdWdobHkpIGV4dGVuZHMgdGhlIE1hdGNoIGZyb20gdGhlIHByZXZpb3VzXG4gKiBhc3NpZ25tZW50LiAgQnkgY2FjaGluZyBNYXRjaFJlc3VsdCBpbnN0YW5jZXMgb24gdGhlIF9Bc3NpZ25tZW50IHJlY29yZHMsIG1hdGNoaW5nIGlzIGxpbWl0ZWRcbiAqICB0byB0aGUgKmluY3JlbWVudGFsKiBtYXRjaGluZyBvbiBqdXN0IHRoZSBuZXcgYXNzaWdubWVudCwgbm90IGEgZnVsbCBtYXRjaCBvbiBhbGwga2V5cyBpbiB0aGVcbiAqICBjb250ZXh0LlxuICpcbiAqIEZ1cnRoZXIsIGEgTWF0Y2hSZXN1bHQgY2FjaGVzIHRoZSAqcHJvcGVydHkgbWFwKiByZXN1bHRpbmcgZnJvbSB0aGUgYXBwbGljYXRpb24gb2YgdGhlIHJ1bGVzXG4gKiAgdGhhdCBpdCBtYXRjaGVzLiAgQnkgY2FjaGluZyBNYXRjaFJlc3VsdCBvYmplY3RzIChhbmQgY2FjaGluZyB0aGUgbWFwIGZyb21cbiAqICBSdWxlIHZlY3RvciAoQUtBIE1hdGNoKSAtPiBNYXRjaFJlc3VsdCAtPiBQcm9wZXJ0eU1hcCksIHJlZHVkYW50IHJ1bGUgYXBwbGljYXRpb24gKGFuZCBjcmVhdGlvblxuICogb2YgYWRkaXRpb25hbCBwcm9wZXJ0eSBtYXBzKSBpcyBhdm9pZGVkLlxuICovXG4gICAgLy8gdG9kbzogaW1wbGVtZW50IHRvU3RyaW5nIGZvciB0aGUgRGljdG9uYXJ5IGFzIHRoaXMgaXMgdXNlZCBhcyBhIGtleVxuZXhwb3J0IGNsYXNzIE1hdGNoUmVzdWx0IGV4dGVuZHMgTWF0Y2hXaXRoVW5pb25cbntcblxuICAgIHByaXZhdGUgX21ldGFHZW5lcmF0aW9uOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3Byb3BlcnRpZXM6IFByb3BlcnR5TWFwO1xuXG4gICAgLy8gTWV0YSBtZXRhLCBNZXRhLktleURhdGEga2V5RGF0YSwgT2JqZWN0IHZhbHVlLCBNYXRjaFJlc3VsdCBwcmV2KVxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX21ldGE6IE1ldGEsIHByaXZhdGUgIF9rZXlEYXRhOiBLZXlEYXRhLCBwcml2YXRlIF92YWx1ZTogYW55LFxuICAgICAgICAgICAgICAgIHByaXZhdGUgX3ByZXZNYXRjaDogTWF0Y2hSZXN1bHQpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsLCBudWxsLCAwLCAoX3ByZXZNYXRjaCAhPSBudWxsKSA/IF9wcmV2TWF0Y2guX292ZXJVbmlvbk1hdGNoIDogbnVsbCk7XG4gICAgICAgIHRoaXMuX2luaXRNYXRjaCgpO1xuXG4gICAgfVxuXG4gICAgc2V0T3ZlcnJpZGVzTWF0Y2gob3ZlcjogVW5pb25NYXRjaFJlc3VsdClcbiAgICB7XG4gICAgICAgIHRoaXMuX292ZXJVbmlvbk1hdGNoID0gb3ZlcjtcbiAgICB9XG5cbiAgICBtYXRjaGVzKCk6IG51bWJlcltdXG4gICAge1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlSWZTdGFsZSgpO1xuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLl9tYXRjaGVzKSkge1xuICAgICAgICAgICAgdGhpcy5faW5pdE1hdGNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21hdGNoZXM7XG4gICAgfVxuXG4gICAgZmlsdGVyUmVzdWx0KCk6IG51bWJlcltdXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXIodGhpcy5fbWV0YS5fcnVsZXMsIHRoaXMuX21ldGEuX3J1bGVDb3VudCwgdGhpcy5tYXRjaGVzKCksXG4gICAgICAgICAgICB0aGlzLl9rZXlzTWF0Y2hlZE1hc2ssIG51bGwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGwgaW4gbWF0Y2hBcnJheSB3aXRoIE1hdGNoVmFsdWVzIHRvIHVzZSBpbiBTZWxlY3RvciBtYXRjaGluZ1xuICAgICAqIEBwYXJhbSBtYXRjaEFycmF5XG4gICAgICovXG4gICAgaW5pdE1hdGNoVmFsdWVzKG1hdGNoQXJyYXk6IE1hdGNoVmFsdWVbXSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5fcHJldk1hdGNoKSkge1xuICAgICAgICAgICAgdGhpcy5fcHJldk1hdGNoLmluaXRNYXRjaFZhbHVlcyhtYXRjaEFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuX292ZXJVbmlvbk1hdGNoKSkge1xuICAgICAgICAgICAgdGhpcy5fb3ZlclVuaW9uTWF0Y2guaW5pdE1hdGNoVmFsdWVzKG1hdGNoQXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21ldGEubWF0Y2hBcnJheUFzc2lnbihtYXRjaEFycmF5LCB0aGlzLl9rZXlEYXRhLFxuICAgICAgICAgICAgdGhpcy5fa2V5RGF0YS5tYXRjaFZhbHVlKHRoaXMuX3ZhbHVlKSk7XG4gICAgfVxuXG5cbiAgICBmaWx0ZXJlZE1hdGNoZXMoKTogbnVtYmVyW11cbiAgICB7XG4gICAgICAgIC8vIHNob3VsZG4ndCB0aGlzIGJlIGNhY2hlZD8hP1xuICAgICAgICBsZXQgbWF0Y2hlczogbnVtYmVyW10gPSB0aGlzLm1hdGNoZXMoKTtcbiAgICAgICAgbGV0IGtleXNNYXRjaGVkTWFzayA9IHRoaXMuX2tleXNNYXRjaGVkTWFzayB8IChpc1ByZXNlbnQoXG4gICAgICAgICAgICAgICAgdGhpcy5fb3ZlclVuaW9uTWF0Y2gpID8gdGhpcy5fb3ZlclVuaW9uTWF0Y2guX2tleXNNYXRjaGVkTWFzayA6IDApO1xuXG4gICAgICAgIGxldCBvdmVycmlkZU1hdGNoZXM6IG51bWJlcltdO1xuXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5fb3ZlclVuaW9uTWF0Y2gpICYmIGlzUHJlc2VudChcbiAgICAgICAgICAgICAgICAob3ZlcnJpZGVNYXRjaGVzID0gdGhpcy5fb3ZlclVuaW9uTWF0Y2gubWF0Y2hlcygpKSkpIHtcbiAgICAgICAgICAgIGlmIChpc0JsYW5rKG1hdGNoZXMpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcyA9IG92ZXJyaWRlTWF0Y2hlcztcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzID0gTWF0Y2guaW50ZXJzZWN0KHRoaXMuX21ldGEuX3J1bGVzLCBtYXRjaGVzLCBvdmVycmlkZU1hdGNoZXMsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXNNYXRjaGVkTWFzayxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3ZlclVuaW9uTWF0Y2guX2tleXNNYXRjaGVkTWFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWF0Y2hBcnJheTogTWF0Y2hWYWx1ZVtdO1xuICAgICAgICBpZiAoTWV0YS5fVXNlUGFydGlhbEluZGV4aW5nKSB7XG4gICAgICAgICAgICBtYXRjaEFycmF5ID0gdGhpcy5fbWV0YS5uZXdNYXRjaEFycmF5KCk7XG4gICAgICAgICAgICB0aGlzLmluaXRNYXRjaFZhbHVlcyhtYXRjaEFycmF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlcih0aGlzLl9tZXRhLl9ydWxlcywgdGhpcy5fbWV0YS5fcnVsZUNvdW50LCBtYXRjaGVzLCBrZXlzTWF0Y2hlZE1hc2ssXG4gICAgICAgICAgICBtYXRjaEFycmF5KTtcbiAgICB9XG5cblxuICAgIHZhbHVlRm9yS2V5KGtleTogc3RyaW5nKTogYW55XG4gICAge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2tleURhdGEuX2tleSA9PT0ga2V5KSA/IHRoaXMuX3ZhbHVlIDpcbiAgICAgICAgICAgIChpc1ByZXNlbnQodGhpcy5fcHJldk1hdGNoKSA/IHRoaXMuX3ByZXZNYXRjaC52YWx1ZUZvcktleShrZXkpIDogbnVsbCk7XG4gICAgfVxuXG4gICAgaW1tdXRhYmxlQ29weSgpOiBNYXRjaFxuICAgIHtcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZUlmU3RhbGUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRjaFdpdGhVbmlvbih0aGlzLm1hdGNoZXMoKSwgdGhpcy5fa2V5c01hdGNoZWRNYXNrLCB0aGlzLl9tYXRjaFBhdGhDUkMsXG4gICAgICAgICAgICB0aGlzLl9vdmVyVW5pb25NYXRjaCk7XG4gICAgfVxuXG4gICAgX2ludmFsaWRhdGVJZlN0YWxlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9tZXRhR2VuZXJhdGlvbiA8IHRoaXMuX21ldGEucnVsZVNldEdlbmVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2luaXRNYXRjaCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGpvaW4oYTogbnVtYmVyW10sIGI6IG51bWJlcltdLCBhTWFzazogbnVtYmVyLCBiTWFzazogbnVtYmVyKTogbnVtYmVyW11cbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRjaC5pbnRlcnNlY3QodGhpcy5fbWV0YS5fcnVsZXMsIGEsIGIsIGFNYXNrLCBiTWFzayk7XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgX2luaXRNYXRjaCgpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQga2V5TWFzazogbnVtYmVyID0gc2hpZnRMZWZ0KDEsIHRoaXMuX2tleURhdGEuX2lkKTtcblxuICAgICAgICAvLyBnZXQgdmVjIGZvciB0aGlzIGtleS92YWx1ZSAtLSBpZiB2YWx1ZSBpcyBsaXN0LCBjb21wdXRlIHRoZSB1bmlvblxuICAgICAgICBsZXQgbmV3QXJyOiBudW1iZXJbXTtcbiAgICAgICAgaWYgKGlzQXJyYXkodGhpcy5fdmFsdWUpKSB7XG5cbiAgICAgICAgICAgIGZvciAobGV0IHYgb2YgdGhpcy5fdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgYTogbnVtYmVyW10gPSB0aGlzLl9rZXlEYXRhLmxvb2t1cCh0aGlzLl9tZXRhLCB2KTtcbiAgICAgICAgICAgICAgICBuZXdBcnIgPSBNYXRjaC51bmlvbihhLCBuZXdBcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3QXJyID0gdGhpcy5fa2V5RGF0YS5sb29rdXAodGhpcy5fbWV0YSwgdGhpcy5fdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHByZXZNYXRjaGVzOiBudW1iZXJbXSA9IChpc0JsYW5rKHRoaXMuX3ByZXZNYXRjaCkpID8gbnVsbCA6IHRoaXMuX3ByZXZNYXRjaC5tYXRjaGVzKCk7XG5cbiAgICAgICAgdGhpcy5fa2V5c01hdGNoZWRNYXNrID0gKGlzQmxhbmsoXG4gICAgICAgICAgICB0aGlzLl9wcmV2TWF0Y2gpKSA/IGtleU1hc2sgOiAoa2V5TWFzayB8IHRoaXMuX3ByZXZNYXRjaC5fa2V5c01hdGNoZWRNYXNrKTtcbiAgICAgICAgaWYgKGlzQmxhbmsocHJldk1hdGNoZXMpKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXRjaGVzID0gbmV3QXJyO1xuICAgICAgICAgICAgLy8gVG9kbzogbm90IGNsZWFyIHdoeSB0aGlzIGlzIG5lZWRlZCwgYnV0IHdpdGhvdXQgaXQgd2UgZW5kIHVwIGZhaWxpbmcgdG8gZmlsdGVyXG4gICAgICAgICAgICAvLyBjZXJ0YWluIG1hdGNoZXMgdGhhdCBzaG91bGQgYmUgZmlsdGVyZWQgKHJlc3VsdGluZyBpbiBiYWQgbWF0Y2hlcylcbiAgICAgICAgICAgIGlmICghTWV0YS5fVXNlUGFydGlhbEluZGV4aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fa2V5c01hdGNoZWRNYXNrID0ga2V5TWFzaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzQmxhbmsobmV3QXJyKSkge1xuICAgICAgICAgICAgICAgIG5ld0FyciA9IE1hdGNoLkVtcHR5TWF0Y2hBcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEpvaW5cbiAgICAgICAgICAgIHRoaXMuX21hdGNoZXMgPSB0aGlzLmpvaW4obmV3QXJyLCBwcmV2TWF0Y2hlcywga2V5TWFzayxcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2TWF0Y2guX2tleXNNYXRjaGVkTWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb21wdXRlIHBhdGggQ1JDXG4gICAgICAgIHRoaXMuX21hdGNoUGF0aENSQyA9IC0xO1xuICAgICAgICBmb3IgKGxldCBtcjogTWF0Y2hSZXN1bHQgPSB0aGlzOyBtciAhPSBudWxsOyBtciA9IG1yLl9wcmV2TWF0Y2gpIHtcbiAgICAgICAgICAgIHRoaXMuX21hdGNoUGF0aENSQyA9IGNyYzMyKHRoaXMuX21hdGNoUGF0aENSQywgbXIuX2tleURhdGEuX2tleS5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KG1yLl92YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBpc0FycmF5KG1yLl92YWx1ZSkgPyBtci5fdmFsdWUuam9pbignLCcpIDogbXIuX3ZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hdGNoUGF0aENSQyA9IGNyYzMyKHRoaXMuX21hdGNoUGF0aENSQywgaGFzaENvZGUodmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbWF0Y2hQYXRoQ1JDID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXRjaFBhdGhDUkMgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21ldGFHZW5lcmF0aW9uID0gdGhpcy5fbWV0YS5ydWxlU2V0R2VuZXJhdGlvbjtcbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IG51bGw7XG4gICAgfVxuXG5cbiAgICBfbG9nTWF0Y2hEaWZmKGE6IG51bWJlcltdLCBiOiBudW1iZXJbXSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBpQSA9IDEsIHNpemVBID0gYVswXSwgaUIgPSAxLCBzaXplQiA9IGJbMF07XG5cbiAgICAgICAgd2hpbGUgKGlBIDw9IHNpemVBIHx8IGlCIDw9IHNpemVCKSB7XG4gICAgICAgICAgICBsZXQgYyA9IChpQSA+IHNpemVBID8gMSA6IChpQiA+IHNpemVCID8gLTEgOiAoYVtpQV0gLSBiW2lCXSkpKTtcbiAgICAgICAgICAgIGlmIChjID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaUErKztcbiAgICAgICAgICAgICAgICBpQisrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjIDwgMCkge1xuICAgICAgICAgICAgICAgIC8vIElmIEEgbm90IGluIEIsIGJ1dCBBIGRvZXNuJ3QgZmlsdGVyIG9uIEIncyBtYXNrLCB0aGVuIGFkZCBpdFxuICAgICAgICAgICAgICAgIHByaW50KCcgIC0tIE9ubHkgaW4gQTogJyArIHRoaXMuX21ldGEuX3J1bGVzW2FbaUFdXSk7XG4gICAgICAgICAgICAgICAgaUErKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJpbnQoJyAgLS0gT25seSBpbiBCOiAnICsgdGhpcy5fbWV0YS5fcnVsZXNbYltpQl1dKTtcbiAgICAgICAgICAgICAgICBpQisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvcGVydGllcygpOiBQcm9wZXJ0eU1hcFxuICAgIHtcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZUlmU3RhbGUoKTtcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5fcHJvcGVydGllcykpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSB0aGlzLl9tZXRhLnByb3BlcnRpZXNGb3JNYXRjaCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcztcbiAgICB9XG5cbiAgICBkZWJ1Z1N0cmluZygpOiBzdHJpbmdcbiAgICB7XG5cbiAgICAgICAgbGV0IHNqID0gbmV3IFN0cmluZ0pvaW5lcihbJ01hdGNoIFJlc3VsdCBwYXRoOiBcXG4nXSk7XG4gICAgICAgIHRoaXMuX2FwcGVuZFByZXZQYXRoKHNqKTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuX292ZXJVbmlvbk1hdGNoKSkge1xuICAgICAgICAgICAgc2ouYWRkKCdcXG5PdmVycmlkZXMgcGF0aDogJyk7XG4gICAgICAgICAgICB0aGlzLl9vdmVyVW5pb25NYXRjaC5fYXBwZW5kUHJldlBhdGgoc2opO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzai50b1N0cmluZygpO1xuICAgIH1cblxuICAgIF9hcHBlbmRQcmV2UGF0aChidWY6IFN0cmluZ0pvaW5lcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5fcHJldk1hdGNoKSkge1xuICAgICAgICAgICAgdGhpcy5fcHJldk1hdGNoLl9hcHBlbmRQcmV2UGF0aChidWYpO1xuICAgICAgICAgICAgYnVmLmFkZCgnIC0+ICcpO1xuICAgICAgICB9XG4gICAgICAgIGJ1Zi5hZGQodGhpcy5fa2V5RGF0YS5fa2V5KTtcbiAgICAgICAgYnVmLmFkZCgnPScpO1xuICAgICAgICBidWYuYWRkKHRoaXMuX3ZhbHVlKTtcbiAgICB9XG5cbiAgICBfY2hlY2tNYXRjaCh2YWx1ZXM6IE1hcDxzdHJpbmcsIGFueT4sIG1ldGE6IE1ldGEpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgYXJyOiBudW1iZXJbXSA9IHRoaXMuZmlsdGVyUmVzdWx0KCk7XG4gICAgICAgIGlmIChpc0JsYW5rKGFycikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBmaXJzdCBlbnRyeSBpcyBjb3VudFxuICAgICAgICBsZXQgY291bnQ6IG51bWJlciA9IGFyclswXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgciA9IHRoaXMuX21ldGEuX3J1bGVzW2FycltpICsgMV1dO1xuICAgICAgICAgICAgci5fY2hlY2tSdWxlKHZhbHVlcywgbWV0YSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG4gICAgZXF1YWxzVG8obzogYW55KTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIChvIGluc3RhbmNlb2YgTWF0Y2hSZXN1bHQpICYmIHN1cGVyLmVxdWFsc1RvKFxuICAgICAgICAgICAgICAgIG8pICYmIChvLl9tZXRhR2VuZXJhdGlvbiA9PT0gdGhpcy5fbWV0YUdlbmVyYXRpb24pICYmXG4gICAgICAgICAgICBvLl9wcm9wZXJ0aWVzLnNpemUgPT09IHRoaXMuX3Byb3BlcnRpZXMuc2l6ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmlvbk1hdGNoUmVzdWx0IGV4dGVuZHMgTWF0Y2hSZXN1bHRcbntcblxuICAgIGNvbnN0cnVjdG9yKG1ldGE6IE1ldGEsIGtleURhdGE6IEtleURhdGEsIHZhbHVlOiBhbnksIHByZXZNYXRjaDogTWF0Y2hSZXN1bHQpXG4gICAge1xuICAgICAgICBzdXBlcihtZXRhLCBrZXlEYXRhLCB2YWx1ZSwgcHJldk1hdGNoKTtcbiAgICB9XG5cblxuICAgIHByb3RlY3RlZCBqb2luKGE6IG51bWJlcltdLCBiOiBudW1iZXJbXSwgYU1hc2s6IG51bWJlciwgYk1hc2s6IG51bWJlcik6IG51bWJlcltdXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0Y2gudW5pb24oYSwgYik7XG5cbiAgICB9XG59XG5cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEJhc2VkIG9uIG9yaWdpbmFsIHdvcms6IE1ldGFVSTogQ3JhaWcgRmVkZXJpZ2hpICgyMDA4KVxuICpcbiAqL1xuaW1wb3J0IHtpc0JsYW5rLCBpc1ByZXNlbnQsIHVuaW1wbGVtZW50ZWR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuXG4vKipcbiBBIG1hcCB0aGF0IG1hc2tzIG9uIHRvcCBvZiBhbiAoaW1tdXRhYmxlKSBwYXJlbnQgbWFwXG4gKi9cbmV4cG9ydCBjbGFzcyBOZXN0ZWRNYXA8SywgVj4gaW1wbGVtZW50cyBNYXA8SywgVj5cbntcbiAgICBzdGF0aWMgcmVhZG9ubHkgX051bGxNYXJrZXI6IGFueSA9IHtuZXNudWxsbWFya2VyOiB0cnVlfTtcblxuICAgIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnTWFwJztcblxuICAgIF9vdmVycmlkZUNvdW50OiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3NpemU6IG51bWJlciA9IDA7XG5cblxuICAgIHN0YXRpYyB0b01hcEVudHJ5KGl0ZXJhdG9yUmVzdWx0OiBJdGVyYXRvclJlc3VsdDxhbnk+KTogTWFwRW50cnlcbiAgICB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGl0ZXJhdG9yUmVzdWx0LnZhbHVlO1xuXG4gICAgICAgIGlmIChpc1ByZXNlbnQodmFsdWUpICYmIE5lc3RlZE1hcC5pc01hcEVudHJ5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGVudHJ5OiBNYXBFbnRyeSA9IHtcblxuICAgICAgICAgICAga2V5OiAoaXNQcmVzZW50KFxuICAgICAgICAgICAgICAgIGl0ZXJhdG9yUmVzdWx0LnZhbHVlKSkgPyBpdGVyYXRvclJlc3VsdC52YWx1ZVswXSA6IGl0ZXJhdG9yUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgdmFsdWU6IChpc1ByZXNlbnQoXG4gICAgICAgICAgICAgICAgaXRlcmF0b3JSZXN1bHQudmFsdWUpKSA/IGl0ZXJhdG9yUmVzdWx0LnZhbHVlWzFdIDogaXRlcmF0b3JSZXN1bHQudmFsdWUsXG4gICAgICAgICAgICBoYXNOZXh0OiAhaXRlcmF0b3JSZXN1bHQuZG9uZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzTWFwRW50cnkodmFsdWU6IGFueSk6IHZhbHVlIGlzIE1hcEVudHJ5XG4gICAge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHZhbHVlKSAmJiBpc1ByZXNlbnQodmFsdWUuaGFzTmV4dCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzTk1OdWxsTWFya2VyKHZhbHVlOiBhbnkpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHZhbHVlKSAmJiB2YWx1ZVsnbmVzbnVsbG1hcmtlciddO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3BhcmVudDogTWFwPEssIFY+LCBwcml2YXRlIF9tYXA/OiBNYXA8SywgYW55PilcbiAgICB7XG5cbiAgICAgICAgaWYgKGlzQmxhbmsoX21hcCkpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAgPEssIGFueT4oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvTWFwKCk6IE1hcDxLLCBWPlxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudDtcbiAgICB9XG5cblxuICAgIHJlcGFyZW50ZWRNYXAobmV3UGFyZW50OiBNYXA8SywgVj4pOiBOZXN0ZWRNYXA8SywgVj5cbiAgICB7XG4gICAgICAgIGxldCBuZXdNYXAgPSBuZXcgTmVzdGVkTWFwPEssIFY+KG5ld1BhcmVudCwgdGhpcy5fbWFwKTtcbiAgICAgICAgbmV3TWFwLl9vdmVycmlkZUNvdW50ID0gdGhpcy5fb3ZlcnJpZGVDb3VudDtcbiAgICAgICAgcmV0dXJuIG5ld01hcDtcbiAgICB9XG5cblxuICAgIGdldChrZXk6IEspOiBhbnl8VlxuICAgIHtcbiAgICAgICAgbGV0IHZhbCA9IHRoaXMuX21hcC5oYXMoa2V5KSA/IHRoaXMuX21hcC5nZXQoa2V5KSA6IHRoaXMuX3BhcmVudC5nZXQoa2V5KTtcbiAgICAgICAgcmV0dXJuIE5lc3RlZE1hcC5pc05NTnVsbE1hcmtlcih2YWwpID8gbnVsbCA6IHZhbDtcbiAgICB9XG5cblxuICAgIGtleXMoKTogSXRlcmFibGVJdGVyYXRvcjxLPlxuICAgIHtcbiAgICAgICAgcmV0dXJuIHVuaW1wbGVtZW50ZWQoKTtcbiAgICB9XG5cblxuICAgIHZhbHVlcygpOiBJdGVyYWJsZUl0ZXJhdG9yPFY+XG4gICAge1xuICAgICAgICByZXR1cm4gdW5pbXBsZW1lbnRlZCgpO1xuICAgIH1cblxuICAgIGNsZWFyKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuX3BhcmVudC5jbGVhcigpO1xuICAgICAgICB0aGlzLl9tYXAuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBzZXQoa2V5OiBLLCB2YWx1ZT86IFYpOiBhbnlcbiAgICB7XG4gICAgICAgIGxldCBvcmlnID0gdGhpcy5fbWFwLmdldChrZXkpO1xuXG4gICAgICAgIGlmICgoTmVzdGVkTWFwLmlzTk1OdWxsTWFya2VyKG9yaWcpIHx8IGlzQmxhbmsob3JpZykpICYmIHRoaXMuX3BhcmVudC5oYXMoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5fb3ZlcnJpZGVDb3VudCArPSAoTmVzdGVkTWFwLmlzTk1OdWxsTWFya2VyKG9yaWcpID8gLTEgOiAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21hcC5zZXQoa2V5LCB2YWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG5cbiAgICBkZWxldGUoa2V5OiBLKTogYm9vbGVhblxuICAgIHtcblxuICAgICAgICBsZXQgcmV0dXJuVmFsID0gZmFsc2U7XG4gICAgICAgIGxldCBvcmlnOiBhbnkgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fbWFwLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBvcmlnID0gdGhpcy5fbWFwLmRlbGV0ZShrZXkpO1xuXG4gICAgICAgICAgICByZXR1cm5WYWwgPSB0cnVlO1xuICAgICAgICAgICAgLy8gcHJpbnQoJ1JlbW92aW5nOiAnICwgb3JpZyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnQuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuc2V0KGtleSwgTmVzdGVkTWFwLl9OdWxsTWFya2VyKTtcbiAgICAgICAgICAgICAgICAvLyBfb3ZlcnJpZGVDb3VudC0tO1xuICAgICAgICAgICAgICAgIHRoaXMuX292ZXJyaWRlQ291bnQrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3BhcmVudC5oYXMoa2V5KSkge1xuICAgICAgICAgICAgLy8gd2UncmUgXCJyZW1vdmluZ1wiIGEgdmFsdWUgd2UgZG9uJ3QgaGF2ZSAoYnV0IHRoYXQgb3VyIHBhcmVudCBkb2VzKVxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBzdG9yZSBhIG51bGwgb3ZlcnJpZGVcbiAgICAgICAgICAgIG9yaWcgPSB0aGlzLl9wYXJlbnQuZ2V0KGtleSk7XG4gICAgICAgICAgICAvLyBwcmludCgnUmVtb3Zpbmc6ICcgLCBvcmlnKTtcbiAgICAgICAgICAgIHRoaXMuX21hcC5zZXQoa2V5LCBOZXN0ZWRNYXAuX051bGxNYXJrZXIpO1xuICAgICAgICAgICAgdGhpcy5fb3ZlcnJpZGVDb3VudCArPSAyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5WYWw7XG4gICAgfVxuXG4gICAgZm9yRWFjaChjYWxsYmFja2ZuOiAodmFsdWU6IFYsIGluZGV4OiBLLCBtYXA6IE1hcDxLLCBWPikgPT4gdm9pZCwgdGhpc0FyZz86IGFueSk6IHZvaWRcbiAgICB7XG5cbiAgICAgICAgbGV0IGVudHJpZXMgPSB0aGlzLmVudHJpZXMoKTtcblxuICAgICAgICBsZXQgbmV4dEVudHJ5OiBNYXBFbnRyeTtcbiAgICAgICAgd2hpbGUgKChuZXh0RW50cnkgPSBOZXN0ZWRNYXAudG9NYXBFbnRyeShlbnRyaWVzLm5leHQoKSkpICYmIG5leHRFbnRyeS5oYXNOZXh0KSB7XG4gICAgICAgICAgICBjYWxsYmFja2ZuKG5leHRFbnRyeS52YWx1ZSwgbmV4dEVudHJ5LmtleSwgdGhpcy5fcGFyZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgaGFzKGtleTogSyk6IGJvb2xlYW5cbiAgICB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5oYXMoa2V5KSA/ICggIU5lc3RlZE1hcC5pc05NTnVsbE1hcmtlcihcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZ2V0KGtleSkpICkgOiB0aGlzLl9wYXJlbnQuaGFzKGtleSk7XG4gICAgfVxuXG5cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPGFueT5cbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgTmVzdGVkRW50cnlJdGVyYXRvcjxLLCBWPih0aGlzKTtcbiAgICB9XG5cblxuICAgIGVudHJpZXMoKTogSXRlcmFibGVJdGVyYXRvcjxhbnk+XG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IE5lc3RlZEVudHJ5SXRlcmF0b3I8SywgVj4odGhpcyk7XG4gICAgfVxuXG5cbiAgICBnZXQgc2l6ZSgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQuc2l6ZSArIHRoaXMuX21hcC5zaXplIC0gdGhpcy5fb3ZlcnJpZGVDb3VudDtcbiAgICB9XG5cbiAgICBnZXQgbWFwKCk6IE1hcDxLLCBPYmplY3Q+XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwO1xuICAgIH1cblxuICAgIGdldCBwYXJlbnQoKTogTWFwPEssIFY+XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xuICAgIH1cblxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gJ05lc3RlZE1hcCc7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1hcEVudHJ5XG57XG4gICAgdmFsdWU6IGFueTtcbiAgICBrZXk6IGFueTtcbiAgICBoYXNOZXh0OiBib29sZWFuO1xufVxuXG5jbGFzcyBOZXN0ZWRFbnRyeUl0ZXJhdG9yPEssIFY+IGltcGxlbWVudHMgSXRlcmFibGVJdGVyYXRvcjxNYXBFbnRyeT5cbntcbiAgICBfcGFyZW50SXRlcmF0b3I6IEl0ZXJhYmxlSXRlcmF0b3I8YW55PjtcbiAgICBfbmVzdGVkSXRlcmF0b3I6IEl0ZXJhYmxlSXRlcmF0b3I8YW55PjtcbiAgICBfY3VycmVudEVudHJ5OiBNYXBFbnRyeTtcbiAgICBfbmV4dEVudHJ5OiBNYXBFbnRyeTtcbiAgICBfZnJvbU5lc3RlZDogYm9vbGVhbjtcblxuXG4gICAgX2N1cnJlbnRQYXJlbnRFbnRyeTogTWFwRW50cnk7XG4gICAgX2N1cnJlbnROZXN0ZWRFbnRyeTogTWFwRW50cnk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9uZXN0ZWRNYXA6IE5lc3RlZE1hcDxLLCBWPilcbiAgICB7XG4gICAgICAgIHRoaXMuX3BhcmVudEl0ZXJhdG9yID0gX25lc3RlZE1hcC5wYXJlbnQuZW50cmllcygpO1xuICAgICAgICB0aGlzLl9uZXN0ZWRJdGVyYXRvciA9IF9uZXN0ZWRNYXAubWFwLmVudHJpZXMoKTtcblxuICAgICAgICB0aGlzLmFkdmFuY2VUb05leHQoKTtcbiAgICB9XG5cblxuICAgIG5leHQoKTogSXRlcmF0b3JSZXN1bHQ8TWFwRW50cnk+XG4gICAge1xuICAgICAgICAvLyBhc3NlcnQoaXNQcmVzZW50KHRoaXMuX25leHRFbnRyeSkgLCAnbmV4dCgpIHdoZW4gbm8gbW9yZSBlbGVtZW50c1wiJyk7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudEVudHJ5ID0gdGhpcy5fbmV4dEVudHJ5O1xuICAgICAgICB0aGlzLmFkdmFuY2VUb05leHQoKTtcblxuICAgICAgICBsZXQgbmV4dDogSXRlcmF0b3JSZXN1bHQ8TWFwRW50cnk+ID0ge1xuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX2N1cnJlbnRFbnRyeSxcbiAgICAgICAgICAgIGRvbmU6ICF0aGlzLl9jdXJyZW50RW50cnkuaGFzTmV4dFxuXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cblxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmFibGVJdGVyYXRvcjxNYXBFbnRyeT5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWR2YW5jZVRvTmV4dCgpXG4gICAge1xuICAgICAgICB0aGlzLl9mcm9tTmVzdGVkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gTm90ZTogd2UgbmVlZCB0byBza2lwIG51bGxzIChtYXNrZWQgdmFsdWVzKVxuXG4gICAgICAgIHdoaWxlICghdGhpcy5fZnJvbU5lc3RlZCAmJiAodGhpcy5fY3VycmVudE5lc3RlZEVudHJ5ID0gTmVzdGVkTWFwLnRvTWFwRW50cnkoXG4gICAgICAgICAgICB0aGlzLl9uZXN0ZWRJdGVyYXRvci5uZXh0KCkpKSAmJiB0aGlzLl9jdXJyZW50TmVzdGVkRW50cnkuaGFzTmV4dCkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dEVudHJ5ID0gdGhpcy5fY3VycmVudE5lc3RlZEVudHJ5O1xuICAgICAgICAgICAgaWYgKCFOZXN0ZWRNYXAuaXNOTU51bGxNYXJrZXIodGhpcy5fbmV4dEVudHJ5LnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Zyb21OZXN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9mcm9tTmVzdGVkKSB7XG4gICAgICAgICAgICB3aGlsZSAoKHRoaXMuX2N1cnJlbnRQYXJlbnRFbnRyeSA9IE5lc3RlZE1hcC50b01hcEVudHJ5KFxuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudEl0ZXJhdG9yLm5leHQoKSkpICYmIHRoaXMuX2N1cnJlbnRQYXJlbnRFbnRyeS5oYXNOZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmV4dEVudHJ5ID0gdGhpcy5fY3VycmVudFBhcmVudEVudHJ5O1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9uZXN0ZWRNYXAubWFwLmhhcyh0aGlzLl9uZXh0RW50cnkua2V5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9uZXh0RW50cnkgPSB0aGlzLl9jdXJyZW50UGFyZW50RW50cnk7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG59XG5cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEJhc2VkIG9uIG9yaWdpbmFsIHdvcms6IE1ldGFVSTogQ3JhaWcgRmVkZXJpZ2hpICgyMDA4KVxuICpcbiAqL1xuaW1wb3J0IHtcbiAgICBCb29sZWFuV3JhcHBlcixcbiAgICBldmFsRXhwcmVzc2lvbldpdGhDbnR4LFxuICAgIEZpZWxkUGF0aCxcbiAgICBpc0JsYW5rLFxuICAgIGlzQm9vbGVhbixcbiAgICBpc0Z1bmN0aW9uLFxuICAgIGlzTnVtYmVyLFxuICAgIGlzUHJlc2VudCxcbiAgICBpc1N0cmluZyxcbiAgICBTdHJpbmdKb2luZXIsXG4gICAgdW5pbXBsZW1lbnRlZFxufSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7aXNQcm9wZXJ0eU1hcEF3YWtpbmcsIE1ldGEsIFByb3BlcnR5TWFwLCBQcm9wZXJ0eU1hcEF3YWtpbmcsIFByb3BlcnR5TWVyZ2VyfSBmcm9tICcuL21ldGEnO1xuaW1wb3J0IHtDb250ZXh0fSBmcm9tICcuL2NvbnRleHQnO1xuXG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEeW5hbWljUHJvcGVydHlWYWx1ZVxue1xuICAgIGV2YWx1YXRlKGNvbnRleHQ6IENvbnRleHQpOiBhbnlcbiAgICB7XG4gICAgICAgIHJldHVybiB1bmltcGxlbWVudGVkKCk7XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICByZXR1cm4gdW5pbXBsZW1lbnRlZCgpO1xuICAgIH1cblxuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHluYW1pY1NldHRhYmxlUHJvcGVydHlWYWx1ZVxue1xuICAgIHNldHRhYmxlOiBib29sZWFuO1xuXG4gICAgZXZhbHVhdGVTZXQgKGNvbnRleHQ6IENvbnRleHQsIHZhbHVlOiBhbnkpOiB2b2lkO1xufVxuXG4vKipcbiAqIDttYXJrZXI7IGludGVyZmFjZSBmb3IgRHluYW1pY1Byb3BlcnR5VmFsdWVzIHRoYXQgZGVwZW5kIG9ubHkgb24gdGhlaXIgbWF0Y2ggY29udGV4dCBhbmRcbiAqIHRoZXJlZm9yZSBjYW4gYmUgY29tcHV0ZWQgYW5kIGNhY2hlZCBzdGF0aWNhbGx5IGluIHRoZSBDb250ZXh0IEFjdGl2YXRpb24gdHJlZVxuICovXG5leHBvcnQgY2xhc3MgU3RhdGljYWxseVJlc29sdmFibGUgZXh0ZW5kcyBEeW5hbWljUHJvcGVydHlWYWx1ZVxue1xuXG5cbn1cblxuXG5leHBvcnQgY2xhc3MgU3RhdGljRHluYW1pY1dyYXBwZXIgZXh0ZW5kcyBTdGF0aWNhbGx5UmVzb2x2YWJsZSBpbXBsZW1lbnRzIFByb3BlcnR5TWFwQXdha2luZ1xue1xuICAgIHByaXZhdGUgX2NhY2hlZDogYW55O1xuICAgIHByb3BlcnR5QXdha2luZzogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9vcmlnOiBTdGF0aWNhbGx5UmVzb2x2YWJsZSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG5cbiAgICBnZXREeW5hbWljVmFsdWUoKTogU3RhdGljYWxseVJlc29sdmFibGVcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcmlnO1xuICAgIH1cblxuICAgIGF3YWtlRm9yUHJvcGVydHlNYXAobWFwOiBQcm9wZXJ0eU1hcCk6IGFueVxuICAgIHtcbiAgICAgICAgLy8gY29weSBvdXJzZWx2ZXMgc28gdGhlcmUncyBhIGZyZXNoIGNvcHkgZm9yIGVhY2ggY29udGV4dCBpbiB3aGljaCBpcyBhcHBlYXJzXG5cbiAgICAgICAgbGV0IG9yaWdhdyA9IChpc1Byb3BlcnR5TWFwQXdha2luZyh0aGlzLl9vcmlnKSkgP1xuICAgICAgICAgICAgPFN0YXRpY2FsbHlSZXNvbHZhYmxlPig8UHJvcGVydHlNYXBBd2FraW5nPnRoaXMuX29yaWcpLmF3YWtlRm9yUHJvcGVydHlNYXAobWFwKVxuICAgICAgICAgICAgOiB0aGlzLl9vcmlnO1xuICAgICAgICByZXR1cm4gbmV3IFN0YXRpY0R5bmFtaWNXcmFwcGVyKG9yaWdhdyk7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoY29udGV4dDogQ29udGV4dCk6IGFueVxuICAgIHtcbiAgICAgICAgLy8gd2UgbGF6aWx5IHN0YXRpYyBldmFsdWF0ZSBvdXIgdmFsdWUgYW5kIGNhY2hlIHRoZSByZXN1bHRcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5fY2FjaGVkKSkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkID0gY29udGV4dC5zdGF0aWNhbGx5UmVzb2x2ZVZhbHVlKHRoaXMuX29yaWcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgfVxuXG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGxldCBzaiA9IG5ldyBTdHJpbmdKb2luZXIoWydTdGF0aWNEeW5hbWljV3JhcHBlciddKTtcbiAgICAgICAgc2ouYWRkKCcoJyk7XG4gICAgICAgIHNqLmFkZCgoKGlzUHJlc2VudCh0aGlzLl9jYWNoZWQpKSA/IHRoaXMuX2NhY2hlZCA6IHRoaXMuX29yaWcpKTtcbiAgICAgICAgc2ouYWRkKCgoaXNCbGFuayh0aGlzLl9jYWNoZWQpKSA/ICcgdW5ldmFsdWF0ZWQnIDogJycpKTtcbiAgICAgICAgc2ouYWRkKCcpJyk7XG5cbiAgICAgICAgcmV0dXJuIHNqLnRvU3RyaW5nKCk7XG4gICAgfVxuXG59XG5cbi8vIFdyYXBwZXIgdGhhdCBtYXJrcyBhIG5vcm1hbGx5IGR5bmFtaWMgdmFsdWUgKGUuZy4gYW4gRXhwcikgYXMgU3RhdGljYWxseVJlc29sdmFibGVcbmV4cG9ydCBjbGFzcyBTdGF0aWNhbGx5UmVzb2x2YWJsZVdyYXBwZXIgZXh0ZW5kcyBTdGF0aWNhbGx5UmVzb2x2YWJsZVxue1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfb3JpZzogRHluYW1pY1Byb3BlcnR5VmFsdWUpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGNvbnRleHQ6IENvbnRleHQpOiBhbnlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcmlnLmV2YWx1YXRlKGNvbnRleHQpO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgbGV0IHNqID0gbmV3IFN0cmluZ0pvaW5lcihbJ1N0YXRpY2FsbHlSZXNvbHZhYmxlV3JhcHBlciddKTtcbiAgICAgICAgc2ouYWRkKCcoJyk7XG4gICAgICAgIHNqLmFkZCh0aGlzLl9vcmlnLnRvU3RyaW5nKCkpO1xuICAgICAgICBzai5hZGQoJyknKTtcblxuICAgICAgICByZXR1cm4gc2oudG9TdHJpbmcoKTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIENvbnRleHRGaWVsZFBhdGggZXh0ZW5kcyBEeW5hbWljUHJvcGVydHlWYWx1ZSBpbXBsZW1lbnRzIER5bmFtaWNTZXR0YWJsZVByb3BlcnR5VmFsdWVcbntcbiAgICBzZXR0YWJsZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBwcm90ZWN0ZWQgZmllbGRQYXRoOiBGaWVsZFBhdGg7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXRoOiBzdHJpbmcpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuZmllbGRQYXRoID0gbmV3IEZpZWxkUGF0aChwYXRoKTtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShjb250ZXh0OiBDb250ZXh0KTogYW55XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5maWVsZFBhdGguZ2V0RmllbGRWYWx1ZShjb250ZXh0KTtcbiAgICB9XG5cbiAgICBldmFsdWF0ZVNldChjb250ZXh0OiBDb250ZXh0LCB2YWx1ZTogYW55KTogdm9pZFxuICAgIHtcblxuICAgICAgICB0aGlzLmZpZWxkUGF0aC5zZXRGaWVsZFZhbHVlKGNvbnRleHQsIHZhbHVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0R5bmFtaWNTZXR0YWJsZShhcmc6IGFueSk6IGFyZyBpcyBEeW5hbWljU2V0dGFibGVQcm9wZXJ0eVZhbHVlXG57XG4gICAgcmV0dXJuIGlzUHJlc2VudChhcmcuc2V0dGFibGUpO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBFeHByIGV4dGVuZHMgRHluYW1pY1Byb3BlcnR5VmFsdWVcbntcbiAgICBwcml2YXRlIF9leHRlbmRlZE9iamVjdHM6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfZXhwcmVzc2lvblN0cmluZzogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmFkZFR5cGVUb0NvbnRleHQoJ01ldGEnLCBNZXRhKTtcbiAgICAgICAgdGhpcy5hZGRUeXBlVG9Db250ZXh0KCdGaWVsZFBhdGgnLCBGaWVsZFBhdGgpO1xuICAgIH1cblxuXG4gICAgYWRkVHlwZVRvQ29udGV4dChuYW1lOiBzdHJpbmcsIGNvbnRleHQ6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQpKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRlbmRlZE9iamVjdHMuc2V0KG5hbWUsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoY29udGV4dDogQ29udGV4dCk6IGFueVxuICAgIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fZXh0ZW5kZWRPYmplY3RzLmZvckVhY2goKHYsIGspID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVOYW1lID0gYER5bk9iaiR7aW5kZXgrK31gO1xuICAgICAgICAgICAgKDxhbnk+Y29udGV4dClbdHlwZU5hbWVdID0gdjtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2V4cHJlc3Npb25TdHJpbmcuaW5kZXhPZihgJHtrfS5gKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9leHByZXNzaW9uU3RyaW5nID0gdGhpcy5fZXhwcmVzc2lvblN0cmluZy5yZXBsYWNlKGAke2t9LmAsIGAke3R5cGVOYW1lfS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHJlc3VsdCA9IGV2YWxFeHByZXNzaW9uV2l0aENudHgodGhpcy5fZXhwcmVzc2lvblN0cmluZywgJycsIGNvbnRleHQsIGNvbnRleHQpO1xuXG4gICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fZXh0ZW5kZWRPYmplY3RzLmZvckVhY2goKHYsIGspID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVOYW1lID0gYER5bk9iaiR7aW5kZXgrK31gO1xuICAgICAgICAgICAgaWYgKGlzUHJlc2VudCgoPGFueT5jb250ZXh0KVt0eXBlTmFtZV0pKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlICg8YW55PmNvbnRleHQpW3R5cGVOYW1lXTtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB3ZSBjYW4gdXNlIHVuZGVmaW5lZC4gRGVsZXRlIGlzIHByZXR0eSBzbG93XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgbGV0IHNqID0gbmV3IFN0cmluZ0pvaW5lcihbJ2V4cHI6J10pO1xuICAgICAgICBzai5hZGQoJygnKTtcbiAgICAgICAgc2ouYWRkKHRoaXMuX2V4cHJlc3Npb25TdHJpbmcpO1xuICAgICAgICBzai5hZGQoJyknKTtcblxuICAgICAgICByZXR1cm4gc2oudG9TdHJpbmcoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWZlcnJlZE9wZXJhdGlvbkNoYWluIGV4dGVuZHMgRHluYW1pY1Byb3BlcnR5VmFsdWUgaW1wbGVtZW50cyBQcm9wZXJ0eU1hcEF3YWtpbmdcbntcbiAgICBwcm9wZXJ0eUF3YWtpbmc6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfbWVyZ2VyOiBQcm9wZXJ0eU1lcmdlciwgcHJpdmF0ZSBfb3JpZzogYW55LCBwcml2YXRlIF9vdmVycmlkZTogYW55KVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cblxuICAgIGV2YWx1YXRlKGNvbnRleHQ6IENvbnRleHQpOiBhbnlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJnZXIubWVyZ2UoY29udGV4dC5yZXNvbHZlVmFsdWUodGhpcy5fb3ZlcnJpZGUpLFxuICAgICAgICAgICAgY29udGV4dC5yZXNvbHZlVmFsdWUodGhpcy5fb3JpZyksXG4gICAgICAgICAgICBjb250ZXh0LmlzRGVjbGFyZSgpKTtcbiAgICB9XG5cblxuICAgIGF3YWtlRm9yUHJvcGVydHlNYXAobWFwOiBQcm9wZXJ0eU1hcCk6IGFueVxuICAgIHtcbiAgICAgICAgbGV0IG9yaWcgPSB0aGlzLl9vcmlnO1xuICAgICAgICBsZXQgb3ZlciA9IHRoaXMuX292ZXJyaWRlO1xuXG4gICAgICAgIGlmIChpc1Byb3BlcnR5TWFwQXdha2luZyhvcmlnKSkge1xuICAgICAgICAgICAgb3JpZyA9ICg8UHJvcGVydHlNYXBBd2FraW5nPm9yaWcpLmF3YWtlRm9yUHJvcGVydHlNYXAobWFwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcm9wZXJ0eU1hcEF3YWtpbmcob3ZlcikpIHtcbiAgICAgICAgICAgIG92ZXIgPSAoPFByb3BlcnR5TWFwQXdha2luZz5vdmVyKS5hd2FrZUZvclByb3BlcnR5TWFwKG1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yaWcgIT09IHRoaXMuX29yaWcgfHwgb3ZlciAhPT0gdGhpcy5fb3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGVmZXJyZWRPcGVyYXRpb25DaGFpbih0aGlzLl9tZXJnZXIsIG9yaWcsIG92ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nXG4gICAge1xuICAgICAgICBsZXQgc2ogPSBuZXcgU3RyaW5nSm9pbmVyKFsnQ2hhaW4nXSk7XG4gICAgICAgIHNqLmFkZCgnPCcpO1xuICAgICAgICBzai5hZGQodGhpcy5fbWVyZ2VyLnRvU3RyaW5nKCkpO1xuICAgICAgICBzai5hZGQoJz4nKTtcbiAgICAgICAgc2ouYWRkKCc6ICcpO1xuICAgICAgICBzai5hZGQodGhpcy5fb3ZlcnJpZGUpO1xuICAgICAgICBzai5hZGQoJyA9PiAnKTtcbiAgICAgICAgc2ouYWRkKHRoaXMuX29yaWcpO1xuXG4gICAgICAgIHJldHVybiBzai50b1N0cmluZygpO1xuICAgIH1cblxufVxuXG5cbmV4cG9ydCBjbGFzcyBWYWx1ZUNvbnZlcnRlclxue1xuXG4gICAgc3RhdGljIHZhbHVlKHRvVHlwZTogc3RyaW5nLCB2YWx1ZTogYW55KTogYW55XG4gICAge1xuXG4gICAgICAgIGlmICh0b1R5cGUgPT09ICdTdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoaXNCbGFuayh2YWx1ZSkgfHwgaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgfSBlbHNlIGlmICh0b1R5cGUgPT09ICdCb29sZWFuJykge1xuICAgICAgICAgICAgaWYgKGlzQmxhbmsodmFsdWUpIHx8IGlzQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuV3JhcHBlci5ib2xlYW5WYWx1ZSh2YWx1ZSk7XG5cbiAgICAgICAgfSBlbHNlIGlmICh0b1R5cGUgPT09ICdOdW1iZXInKSB7XG4gICAgICAgICAgICBpZiAoaXNCbGFuayh2YWx1ZSkgfHwgaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZ25vcmUgZGVjLiBwb2ludHMgZm9yIG5vd1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcblxuICAgIH1cbn1cblxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogQmFzZWQgb24gb3JpZ2luYWwgd29yazogTWV0YVVJOiBDcmFpZyBGZWRlcmlnaGkgKDIwMDgpXG4gKlxuICovXG4vKipcbiAqIFNwZWNpYWwgaW1wb3J0IHRvIGJlIGFibGUgdG8gY29udmVydCBzdHJpbmcgdG8gdHlwZSB1c2luZyBDb2xsZWN0aW9uc1tzdHJpbmcgdHlwZV0gPT4gdHlwZVxuICovXG5pbXBvcnQgKiBhcyBDb2xsZWN0aW9ucyBmcm9tICd0eXBlc2NyaXB0LWNvbGxlY3Rpb25zJztcbmltcG9ydCB7XG4gICAgYXNzZXJ0LFxuICAgIEJvb2xlYW5XcmFwcGVyLCBjbGFzc05hbWUsXG4gICAgRXh0ZW5zaWJsZSxcbiAgICBGaWVsZFBhdGgsXG4gICAgaXNBcnJheSxcbiAgICBpc0JsYW5rLFxuICAgIGlzTnVtYmVyLFxuICAgIGlzUHJlc2VudCxcbiAgICBpc1N0cmluZyxcbiAgICBpc1N0cmluZ01hcCxcbiAgICBMaXN0V3JhcHBlcixcbiAgICBNYXBXcmFwcGVyLFxuICAgIG9iamVjdFRvTmFtZSxcbiAgICBwcmludCxcbiAgICBTdHJpbmdKb2luZXJcbn0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge01hdGNoUmVzdWx0LCBVbmlvbk1hdGNoUmVzdWx0fSBmcm9tICcuL21hdGNoJztcbmltcG9ydCB7TWV0YSwgT3ZlcnJpZGVWYWx1ZSwgUHJvcGVydHlNYW5hZ2VyLCBQcm9wZXJ0eU1hcH0gZnJvbSAnLi9tZXRhJztcbmltcG9ydCB7T2JqZWN0TWV0YSwgT2JqZWN0TWV0YVByb3BlcnR5TWFwfSBmcm9tICcuL29iamVjdC1tZXRhJztcbmltcG9ydCB7VUlNZXRhfSBmcm9tICcuL3VpbWV0YSc7XG5pbXBvcnQge05lc3RlZE1hcH0gZnJvbSAnLi9uZXN0ZWQtbWFwJztcbmltcG9ydCB7XG4gICAgRHluYW1pY1Byb3BlcnR5VmFsdWUsXG4gICAgRHluYW1pY1NldHRhYmxlUHJvcGVydHlWYWx1ZSxcbiAgICBFeHByLFxuICAgIGlzRHluYW1pY1NldHRhYmxlLFxuICAgIFN0YXRpY2FsbHlSZXNvbHZhYmxlXG59IGZyb20gJy4vcHJvcGVydHktdmFsdWUnO1xuXG4vKipcbiAqXG4gKiBDb250ZXh0IHJlcHJlc2VudHMgYSBzdGFjayBvZiBhc3NpZ25tZW50cyAoZS5nLiBjbGFzcz1Vc2VyLCBmaWVsZD1iaXJ0aERheSwgb3BlcmF0aW9uPWVkaXQpXG4gKiAgVGhlIGN1cnJlbnQgc2V0IG9mIGFzc2lnbm1lbnRzIGNhbiBiZSByZXRyaWV2ZWQgdmlhIHZhbHVlcygpLlxuICpcbiAqIFRoZSBjdXJyZW50IHZhbHVlcyBhcmUgcnVuIGFnYWluc3QgdGhlIE1ldGEgcnVsZSBzZXQgdG8gY29tcHV0ZSB0aGUgZWZmZWN0aXZlIFByb3BlcnR5TWFwXG4gKiAoZS5nLiB2aXNpYmxlOnRydWUsIGVkaXRhYmxlOnRydWUsIGNvbXBvbmVudDpBV1RleHRGaWVsZCkuXG4gKiBTb21lIHJ1bGUgZXZhbHVhdGlvbnMgcmVzdWx0IGluICpjaGFpbmluZyogLS0gd2hlcmUgYWRkaXRpb25hbCBhc3NpZ25tZW50cyB0aGF0IGFyZVxuICogJ2ltcGxpZWQnIGJ5IHRoZSBjdXJyZW50IGFzc2lnbm1lbnRzIGFyZSBhcHBsaWVkLCAocmVzdWx0aW5nIGluIGEgcmV2aXNlZCBjb21wdXRhdGlvblxuICogb2YgdGhlIGN1cnJlbnQgUHJvcGVydHlNYXAsIGFuZCBwb3NzaWJsZSBmdXJ0aGVyIGNoYWluaW5nKS5cbiAqIChlLmcuIGZpZWxkPWJpcnRoRGF5IG1heSByZXN1bHQgaW4gdHlwZT1EYXRlIHdoaWNoIG1heSByZXN1bHQgaW4gY29tcG9uZW50OkRhdGVQaWNrZXIpXG4gKlxuICogQXNzaWdubWVudHMgY2FuIGJlIHNjb3BlZCBhbmQgcG9wcGVkIChwdXNoKCksIHNldChrZXksIHZhbHVlKTsgLi4uOyBwb3AoKSkuXG4gKlxuICogVGhlIGFjdHVhbCBjb21wdXRhdGlvbiBvZiBydWxlIG1hdGNoZXMgaXMgY2FjaGVkIHNvIG9uY2UgYSAncGF0aCcgZG93biB0aGUgY29udGV4dFxuICogdHJlZSBoYXMgYmVlbiBleGVyY2l6ZWQgc3Vic2VxdWVudCBtYXRjaGluZyB0cmF2ZXJzYWxzIChldmVuIGJ5IG90aGVyIHRocmVhZHMvdXNlcnMpXG4gKiBpcyBmYXN0LlxuICpcbiAqXG4gKiBleGFtcGxlcyBvZiBwcm9wZXJ0eSBtYXBzIGZvciBkaWZmZXJlbnQgc2NvcGUga2V5XG4gKlxuICogPGNvZGU+XG4gKiAgICAge1xuICAgICAgICAndmlzaWJsZSc6IHRydWUsXG4gICAgICAgICdjbGFzc190cmFpdCc6ICdmaXZlWm9uZXMnLFxuICAgICAgICAnZWRpdGFibGUnOiB0cnVlLFxuICAgICAgICAnYmluZGluZ3MnOiB7XG4gICAgICAgICAgICAndmFsdWUnOiAnRGVmYXVsdCBUaXRsZSdcbiAgICAgICAgfSxcbiAgICAgICAgJ2ZpZWxkX3RyYWl0JzogJ3JlcXVpcmVkJyxcbiAgICAgICAgJ2xhYmVsJzogJ1RpdGxlJyxcbiAgICAgICAgJ3R5cGUnOiAnc3RyaW5nJyxcbiAgICAgICAgJ3JlcXVpcmVkJzogdHJ1ZSxcbiAgICAgICAgJ2VkaXRpbmcnOiB0cnVlLFxuICAgICAgICAndmFsaWQnOiAne3sodmFsdWUgJiYgdmFsdWUubGVuZ3RoID4gMCkgPyB0cnVlIDogXFwnQW5zd2VyIHJlcXVpcmVkXFwnfX0nLFxuICAgICAgICAnY29tcG9uZW50JzogJ0lucHV0RmllbGRDb21wb25lbnQnLFxuICAgICAgICAnZmllbGQnOiAndGl0bGUnLFxuICAgICAgICAnbGF5b3V0X3RyYWl0JzogJ0Zvcm0nLFxuICAgICAgICAndHJhaXQnOiAncmVxdWlyZWQnLFxuICAgICAgICAncmFuayc6IDIwLFxuICAgICAgICAnYWZ0ZXInOiAnekxlZnQnLFxuICAgICAgICAnY2xhc3MnOiAnQ2hlY2tSZXF1ZXN0MSdcbiAgICB9XG4gKlxuICogPC9jb2RlPlxuICpcbiAqXG4gKlxuICogPGNvZGU+XG4gKiAgICAge1xuICAgICAgICAndmlzaWJsZSc6IHRydWUsXG4gICAgICAgICdjbGFzc190cmFpdCc6ICdmaXZlWm9uZXMnLFxuICAgICAgICAnbGFiZWwnOiAnQ2hlY2sgUmVxdWVzdDEnLFxuICAgICAgICAnem9uZXMnOiBbXG4gICAgICAgICAgICAnekxlZnQnLFxuICAgICAgICAgICAgJ3pSaWdodCcsXG4gICAgICAgICAgICAnelRvcCcsXG4gICAgICAgICAgICAnekJvdHRvbScsXG4gICAgICAgICAgICAnekRldGFpbCdcbiAgICAgICAgXSxcbiAgICAgICAgJ2VkaXRpbmcnOiB0cnVlLFxuICAgICAgICAnbGF5b3V0JzogJyonLFxuICAgICAgICAnY29tcG9uZW50JzogJ01ldGFGb3JtQ29tcG9uZW50JyxcbiAgICAgICAgJ2xheW91dF90cmFpdCc6ICdGb3JtJyxcbiAgICAgICAgJ2ZpdmVab25lTGF5b3V0JzogdHJ1ZSxcbiAgICAgICAgJ3RyYWl0JzogJ2ZpdmVab25lcycsXG4gICAgICAgICdsYXlvdXRzQnlab25lJzoge1xuXG4gICAgICAgIH0sXG4gICAgICAgICdjbGFzcyc6ICdDaGVja1JlcXVlc3QxJyxcbiAgICAgICAgJ2ZpZWxkc0J5Wm9uZSc6IHtcbiAgICAgICAgICAgICd6TGVmdCc6IFtcbiAgICAgICAgICAgICAgICAndGl0bGUnLFxuICAgICAgICAgICAgICAgICduYW1lJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICd6Tm9uZSc6IFtcbiAgICAgICAgICAgICAgICAnZnVsbE5hbWUnXG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9XG4gKlxuICogPC9jb2RlPlxuICpcbiAqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQ29udGV4dCBleHRlbmRzIEV4dGVuc2libGUge1xuICAgIHByaXZhdGUgc3RhdGljIF9DYWNoZUFjdGl2YXRpb25zOiBib29sZWFuID0gZmFsc2U7XG5cblxuICAgIHN0YXRpYyBfRXhwZW5zaXZlQ29udGV4dENvbnNpc3RlbmN5Q2hlY2tzRW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHN0YXRpYyBfRGVidWdSdWxlTWF0Y2hlczogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHN0YXRpYyBfRGVidWdfU2V0c0NvdW50OiBudW1iZXIgPSAwO1xuXG5cbiAgICBzdGF0aWMgTWF4Q29udGV4dFN0YWNrU2l6ZTogbnVtYmVyID0gMjAwO1xuXG4gICAgc3RhdGljIEVtcHR5TWFwOiBQcm9wZXJ0eU1hcCA9IG51bGw7XG4gICAgc3RhdGljIHJlYWRvbmx5IEVtcHR5UmVtb3ZlTWFwOiBNYXA8YW55LCBhbnk+ID0gbmV3IE1hcDxhbnksIGFueT4oKTtcblxuICAgIHByaXZhdGUgX3ZhbHVlczogTWFwPHN0cmluZywgYW55PiA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG4gICAgX2VudHJpZXM6IEFycmF5PEFzc2lnbm1lbnQ+ID0gW107XG4gICAgcHJpdmF0ZSBfZnJhbWVTdGFydHM6IG51bWJlcltdID0gW107XG4gICAgcHJvdGVjdGVkIF9jdXJyZW50UHJvcGVydGllczogUHJvcGVydHlNYXA7XG4gICAgcHJvdGVjdGVkIF9yb290Tm9kZTogQWN0aXZhdGlvbjtcbiAgICBwcml2YXRlIF9jdXJyZW50QWN0aXZhdGlvbjogQWN0aXZhdGlvbjtcbiAgICBwcml2YXRlIF9yZWNQb29sOiBBcnJheTxBc3NpZ25tZW50PiA9IFtdO1xuXG4gICAgX2FjY2Vzc29yOiBQcm9wZXJ0eUFjY2Vzc29yO1xuXG4gICAgaXNOZXN0ZWQ6IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudGF0aW9uIG5vdGVzOlxuICAgICAqXG4gICAgICogQ29udGV4dCBtYWludGFpbnMgYSBzdGFjayAoX2VudHJpZXMpIG9mIF9Db250ZXh0UmVjcyAob25lIHBlciBhc3NpZ25tZW50KSBhcyB3ZWxsIGFzXG4gICAgICogYXMgX2ZyYW1lU3RhY2sgcmVjb3JkaW5nIHRoZSBzdGFjayBwb3NpdGlvbnMgZm9yIGVhY2ggcHVzaCgpL3BvcCgpLlxuXG4gICAgICogUGVyZm9ybWFuY2UgdGhyb3VnaCBhZ2dyZXNzaXZlIGdsb2JhbCBjYWNoaW5nIG9mIGFsbCBzdGF0aWNhbGx5IGNvbXB1dGF0YmxlIGRhdGE6XG4gICAgICogLSBUaGUgc3RhdGljIChyZXVzYWJsZS9pbW11dGFibGUpIHBhcnQgb2YgYSBDb250ZXh0UmVjIGlzIGZhY3RvcmVkIGludG8gX1N0YXRpY1JlY1xuICAgICAqIC0gU3RhdGljUmVjcyByZXByZXNlbnQgaW5kaXZpZHVhbCBhc3NpZ25tZW50cyAoY29udGV4dCBrZXkgPSB2YWx1ZSkgYW5kIGNhY2hlIHRoZVxuICAgICAqICAgICAgcmVzdWx0aW5nIE1ldGEuTWF0Y2hSZXN1bHQgKGFuZCBhc3NvY2lhdGVkIFByb3BlcnR5TWFwKVxuICAgICAqIC0gVGhlIHN1Yi1zdGFjayAob2YgZm9yd2FyZCBjaGFpbmVkKSByZWNvcmRzIGFzc29jaWF0ZWQgd2l0aCBlYWNoIGV4dGVybmFsIHNldCgpXG4gICAgICogICAgICAob3IgY2hhaW5lZCAqZHluYW1pYyogdmFsdWUpIGlzIHJlY29yZGVkIGluIGFuIEFjdGl2YXRpb24uXG4gICAgICogLSBQcm9jZXNzLWdsb2JhbCB0cmVlIG9mIEFjdGl2YXRpb25zXG4gICAgICogICAgICAtIGVhY2ggYWN0aXZhdGlvbiBrZWVwcyBsaXN0IG9mIGl0cyBDb250ZXh0S2V5L1ZhbHVlLWtleWVkIGRlY2VuZGVkIEFjdGl2YXRpb25zXG4gICAgICpcbiAgICAgKiBQcm9wZXJ0eSBDb250ZXh0cy5cbiAgICAgKiAgICAgIFRoZSBub3Rpb24gb2YgYSAnUHJvcGVydHlDb250ZXh0JyBtYWtlcyB0aGUgZ29pbmcgdHJpY2t5Li4uXG4gICAgICogICAgICAgQSAnUHJvcGVydHlDb250ZXh0S2V5JyBpcyBhIGtleSBmb3IgYW4gJ2VudGl0eScgdGhhdCBwcm9wZXJ0aWVzIGRlc2NyaWJlLlxuICAgICAqICAgICAgIChlLmcuIGNsYXNzLCBmaWVsZCwgYWN0aW9uLCBhbmQgbGF5b3V0IGFyZSBwcm9wZXJ0eSBjb250ZXh0IGtleXMsIGJ1dCBlZGl0aW5nLFxuICAgICAqICAgICAgIG9wZXJhdGlvbiwgLi4uIGFyZSBub3QpXG4gICAgICogICAgICAgRS5nLiBPbiBhbiBhc3NpZ25tZW50IHN0YWNrIHdpdGggbW9kdWxlPUFkbWluIGNsYXNzPUZvbywgZmllbGQ9bmFtZSwgZWRpdGFibGU9ZmFsc2UsXG4gICAgICogICAgICAgd2Ugd2FudCB0aGUgcHJvcGVydHkgJ2xhYmVsJyB0byBiZSB0aGUgbGFiZWwgZm9yIHRoZSAqZmllbGQqLCBub3QgdGhlIGNsYXNzIG9yIG1vZHVsZVxuICAgICAqICAgICAgIC0tIGkuZS4gdGhlICp0b3AtbW9zdCogYXNzaWdubWVudCBvZiBhIFByb3BlcnR5Q29udGV4dEtleSBkZXRlcm1pbmVzIHdoaWNoIHByb3BlcnR5XG4gICAgICogICAgICAgY29udGV4dCBydWxlcyBhcmUgYWN0aXZlLlxuICAgICAqXG4gICAgICogIFRoZXNlIHJ1bGVzIGFyZSBhY3RpdmF0ZWQgdmlhIGEgc3ludGhldGljIGNvbnRleHQga2V5IG9mIGxpa2UgJ2ZpZWxkX3AnIG9yICdjbGFzc19wJy5cbiAgICAgKiAgTG9naWNhbGx5LCBhZnRlciBlYWNoIGFzc2lnbWVudCB3ZSBuZWVkIHRvIGZpZ3VyZSBvZiB3aGljaCBjb250ZXh0IGtleSBzaG91bGQgYmUgaW5cbiAgICAgKiAgYWZmZWN0IGFuIHNldCBpdCBvbiB0aGUgY29udGV4dCwgYnV0IHRoZW4gYXV0b21hdGljYWxseSBwb3AgaXQgb2ZmIHVwb24gdGhlIG5leHRcbiAgICAgKiAgYXNzaWdubWVudCAoYW5kIHRoZW4gcmVjb21wdXRlIGFnYWluKS5cbiAgICAgKlxuICAgICAqICBPZiBjb3Vyc2UsIGFjdHVhbGx5IHB1c2hpbmcgYW5kIHBvcHBpbmcgY29udGV4dCBrZXkgYXNzaWdubWVudCBvbiBldmVyeSBzZXQoKVxuICAgICAqICB3b3VsZCBiZSBleHBlbnNpdmUgc28gaW5zdGVhZCB3ZSBjYWNoZSB0aGUgJ3Byb3BlcnR5QWN0aXZhdGlvbicgYXNzb2NpYXRlZCB3aXRoXG4gICAgICogIGVhY2ggYWN0aXZhdGlvbiwgYW5kIHVzZSBpdHMgdmFsdWVzIGFuZCBwcm9wZXJ0aWVzIHJhdGhlciB0aGFuIHRob3NlIG9uIHRoZVxuICAgICAqICBhY3RpdmF0aW9uLlxuICAgICAqL1xuXG4gICAgc3RhdGljIGdldEFjdGl2YXRpb25UcmVlKG1ldGE6IE1ldGEpOiBBY3RpdmF0aW9uIHtcbiAgICAgICAgLy8gdG9kbzogY2hlY2sgdGhlIHN5bnRheCBBY3Rpb252YXRpb24gY29udHJ1Y3RvciBuYW1lLlxuICAgICAgICBsZXQgbmFtZSA9IG9iamVjdFRvTmFtZShBY3RpdmF0aW9uKTtcbiAgICAgICAgbGV0IHJvb3Q6IEFjdGl2YXRpb24gPSBtZXRhLmlkZW50aXR5Q2FjaGUuZ2V0VmFsdWUobmFtZSk7XG4gICAgICAgIGlmIChpc0JsYW5rKHJvb3QpKSB7XG4gICAgICAgICAgICByb290ID0gbmV3IEFjdGl2YXRpb24oKTtcbiAgICAgICAgICAgIG1ldGEuaWRlbnRpdHlDYWNoZS5zZXRWYWx1ZShuYW1lLCByb290KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG5cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX21ldGE6IE1ldGEsIHByaXZhdGUgbmVzdGVkOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBpZiAoaXNCbGFuayhDb250ZXh0LkVtcHR5TWFwKSkge1xuICAgICAgICAgICAgQ29udGV4dC5FbXB0eU1hcCA9IG5ldyBQcm9wZXJ0eU1hcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgQ29udGV4dC5fRGVidWdfU2V0c0NvdW50ID0gMDtcblxuICAgICAgICB0aGlzLl9hY2Nlc3NvciA9IG5ldyBQcm9wZXJ0eUFjY2Vzc29yKHRoaXMpO1xuICAgICAgICB0aGlzLl9jdXJyZW50QWN0aXZhdGlvbiA9IENvbnRleHQuZ2V0QWN0aXZhdGlvblRyZWUoX21ldGEpO1xuICAgICAgICB0aGlzLl9yb290Tm9kZSA9IHRoaXMuX2N1cnJlbnRBY3RpdmF0aW9uO1xuXG4gICAgICAgIHRoaXMuaXNOZXN0ZWQgPSBuZXN0ZWQ7XG4gICAgfVxuXG5cbiAgICBwdXNoKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9mcmFtZVN0YXJ0cy5wdXNoKHRoaXMuX2VudHJpZXMubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBnZXQgbWV0YSgpOiBNZXRhIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGE7XG4gICAgfVxuXG5cbiAgICBwb3AoKTogdm9pZCB7XG4gICAgICAgIGxldCBzaXplID0gdGhpcy5fZnJhbWVTdGFydHMubGVuZ3RoO1xuICAgICAgICBhc3NlcnQoc2l6ZSA+IDAsICdQb3BwaW5nIGVtcHR5IHN0YWNrJyk7XG5cbiAgICAgICAgbGV0IHBvcyA9IHRoaXMuX2ZyYW1lU3RhcnRzLnBvcCgpO1xuXG4gICAgICAgIGxldCBlbnRyaWVzU2l6ZTogbnVtYmVyO1xuICAgICAgICB3aGlsZSAoKGVudHJpZXNTaXplID0gdGhpcy5fZW50cmllcy5sZW5ndGgpID4gcG9zKSB7XG4gICAgICAgICAgICBsZXQgcmVjSWR4ID0gZW50cmllc1NpemUgLSAxO1xuICAgICAgICAgICAgbGV0IHJlYzogQXNzaWdubWVudCA9IHRoaXMuX2VudHJpZXMuc3BsaWNlKHJlY0lkeCwgMSlbMF07XG5cbiAgICAgICAgICAgIGlmIChyZWMuc3JlYy5sYXN0QXNzaWdubWVudElkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMuZGVsZXRlKHJlYy5zcmVjLmtleSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VuZG9PdmVycmlkZShyZWMsIHJlY0lkeCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRBY3RpdmF0aW9uID0gKHJlY0lkeCA+IDApXG4gICAgICAgICAgICAgICAgPyB0aGlzLl9lbnRyaWVzW3JlY0lkeCAtIDFdLnNyZWMuYWN0aXZhdGlvblxuICAgICAgICAgICAgICAgIDogdGhpcy5fcm9vdE5vZGU7XG5cbiAgICAgICAgICAgIHRoaXMuYXNzZXJ0Q29udGV4dENvbnNpc3RlbnQoKTtcblxuICAgICAgICAgICAgLy8gY2hlY2sgcmVjIGJhY2sgaW50byBwb29sIGZvciByZXVzZVxuICAgICAgICAgICAgcmVjLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLl9yZWNQb29sLnB1c2gocmVjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICB9XG5cblxuICAgIHNldChrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQge1xuXG4gICAgICAgIHRoaXMuX3NldChrZXksIHZhbHVlLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgICAgIC8vIGltcGxlbWVudCBkZWZhdWx0IHRvU3RyaW5nIGZvciBvdXIgb2JqZWN0IHNvIHdlIGNhbiByZXRyaWV2ZSBvYmplY3RUaXRsZVxuICAgICAgICBpZiAoa2V5ID09PSBPYmplY3RNZXRhLktleU9iamVjdCkge1xuICAgICAgICAgICAgbGV0IHRvQ2hlY2sgPSB0aGlzLl92YWx1ZXMuZ2V0KE9iamVjdE1ldGEuS2V5T2JqZWN0KTtcbiAgICAgICAgICAgIGlmIChpc0JsYW5rKHRvQ2hlY2tbJyR0b1N0cmluZyddKSkge1xuICAgICAgICAgICAgICAgIHRvQ2hlY2tbJyR0b1N0cmluZyddID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2xhenogPSB0aGlzLnZhbHVlcy5nZXQoT2JqZWN0TWV0YS5LZXlDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBVSU1ldGEuYmVhdXRpZnlDbGFzc05hbWUoY2xhenopO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIG1lcmdlKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3NldChrZXksIHZhbHVlLCB0cnVlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgc2V0U2NvcGVLZXkoa2V5OiBzdHJpbmcpIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuX21ldGEua2V5RGF0YShrZXkpLmlzUHJvcGVydHlTY29wZSwga2V5ICsgJyBpcyBub3QgYSB2YWxpZCBjb250ZXh0IGtleScpO1xuICAgICAgICBsZXQgY3VycmVudDogc3RyaW5nID0gdGhpcy5fY3VycmVudFByb3BlcnR5U2NvcGVLZXkoKTtcblxuICAgICAgICAvLyBBc3NlcnQudGhhdChjdXJyZW50ICE9IG51bGwsICdDYW4ndCBzZXQgJXMgYXMgY29udGV4dCBrZXkgd2hlbiBubyBjb250ZXh0IGtleSBvbiBzdGFjaycsXG4gICAgICAgIC8vIGtleSk7IFRPRE86IGlmIGN1cnJlbnQga2V5IGlzQ2hhaW5pbmcgdGhlbiB3ZSBuZWVkIHRvIHNldCBhZ2FpbiB0byBnZXQgYSBub24tY2hhaW5pbmdcbiAgICAgICAgLy8gYXNzaWdubWVudFxuXG4gICAgICAgIGlmICghKGtleSA9PT0gY3VycmVudCkpIHtcbiAgICAgICAgICAgIGxldCB2YWw6IGFueSA9IHRoaXMudmFsdWVzLmdldChrZXkpO1xuICAgICAgICAgICAgLy8gQXNzZXJ0LnRoYXQodmFsICE9IG51bGwsICdDYW4ndCBzZXQgJXMgYXMgY29udGV4dCBrZXkgd2hlbiBpdCBoYXMgbm8gdmFsdWUgYWxyZWFkeVxuICAgICAgICAgICAgLy8gb24gdGhlIGNvbnRleHQnLCBrZXkpO1xuICAgICAgICAgICAgaWYgKGlzQmxhbmsodmFsKSkge1xuICAgICAgICAgICAgICAgIHZhbCA9IE1ldGEuS2V5QW55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHZhbHVlcygpOiBNYXA8c3RyaW5nLCBhbnk+IHtcbiAgICAgICAgbGV0IHByb3BWYWxzOiBNYXA8c3RyaW5nLCBhbnk+O1xuICAgICAgICByZXR1cm4gKExpc3RXcmFwcGVyLmlzRW1wdHkodGhpcy5fZW50cmllcykgfHxcbiAgICAgICAgICAgIGlzQmxhbmsoXG4gICAgICAgICAgICAgICAgcHJvcFZhbHMgPSAoTGlzdFdyYXBwZXIubGFzdDxBc3NpZ25tZW50Pih0aGlzLl9lbnRyaWVzKSkucHJvcGVydHlMb2NhbFZhbHVlcyhcbiAgICAgICAgICAgICAgICAgICAgdGhpcykpKSA/IHRoaXMuX3ZhbHVlcyA6IHByb3BWYWxzO1xuICAgIH1cblxuICAgIGdldCBwcm9wZXJ0aWVzKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY2Nlc3NvcjtcbiAgICB9XG5cblxuICAgIHByb3BlcnR5Rm9yS2V5KGtleTogc3RyaW5nKTogYW55IHtcbiAgICAgICAgbGV0IHZhbCA9IHRoaXMuYWxsUHJvcGVydGllcygpLmdldChrZXkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVWYWx1ZSh2YWwpO1xuICAgIH1cblxuICAgIGxpc3RQcm9wZXJ0eUZvcktleShrZXk6IHN0cmluZyk6IEFycmF5PGFueT4ge1xuICAgICAgICBsZXQgdmFsID0gdGhpcy5wcm9wZXJ0eUZvcktleShrZXkpO1xuICAgICAgICByZXR1cm4gKGlzQmxhbmsodmFsKSkgPyBbXSA6IChpc0FycmF5KHZhbCkpID8gdmFsIDogW3ZhbF07XG4gICAgfVxuXG4gICAgYm9vbGVhblByb3BlcnR5Rm9yS2V5KGtleTogc3RyaW5nLCBkZWZhdWx0VmFsOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCB2YWwgPSB0aGlzLnByb3BlcnR5Rm9yS2V5KGtleSk7XG4gICAgICAgIHJldHVybiAoaXNCbGFuayh2YWwpKSA/IGRlZmF1bHRWYWwgOiBCb29sZWFuV3JhcHBlci5ib2xlYW5WYWx1ZSh2YWwpO1xuICAgIH1cblxuXG4gICAgYWxsUHJvcGVydGllcygpOiBQcm9wZXJ0eU1hcCB7XG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuX2N1cnJlbnRQcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgbGV0IG06IE1hdGNoUmVzdWx0ID0gdGhpcy5sYXN0TWF0Y2goKTtcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQobSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50UHJvcGVydGllcyA9IG0ucHJvcGVydGllcygpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLl9jdXJyZW50UHJvcGVydGllcykgPyB0aGlzLl9jdXJyZW50UHJvcGVydGllcyA6IENvbnRleHQuRW1wdHlNYXA7XG4gICAgfVxuXG5cbiAgICByZXNvbHZlVmFsdWUodmFsdWU6IGFueSB8IER5bmFtaWNQcm9wZXJ0eVZhbHVlKTogYW55IHtcbiAgICAgICAgbGV0IGxhc3RWYWx1ZTogYW55O1xuICAgICAgICB3aGlsZSAodmFsdWUgIT09IGxhc3RWYWx1ZSAmJiBpc1ByZXNlbnQodmFsdWUpICYmIHZhbHVlIGluc3RhbmNlb2YgRHluYW1pY1Byb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICBsZXQgcHJvcFZhbHVlOiBEeW5hbWljUHJvcGVydHlWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIEV4cHIpIHtcbiAgICAgICAgICAgICAgICBwcm9wVmFsdWUuYWRkVHlwZVRvQ29udGV4dCgnVUlNZXRhJywgVUlNZXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gcHJvcFZhbHVlLmV2YWx1YXRlKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuXG4gICAgc3RhdGljYWxseVJlc29sdmVWYWx1ZSh2YWx1ZTogYW55IHwgU3RhdGljYWxseVJlc29sdmFibGUpOiBhbnkge1xuICAgICAgICBsZXQgbGFzdFZhbHVlOiBhbnkgPSBudWxsO1xuICAgICAgICB3aGlsZSAodmFsdWUgIT09IGxhc3RWYWx1ZSAmJiBpc1ByZXNlbnQodmFsdWUpICYmIHZhbHVlIGluc3RhbmNlb2YgU3RhdGljYWxseVJlc29sdmFibGUpIHtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5ldmFsdWF0ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVzaEFuZFJlc29sdmVTdGF0aWMoY29udGV4dFZhbHM6IE1hcDxzdHJpbmcsIGFueT4sIHByb3BlcnR5S2V5OiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljUmVzb2x2ZTogYm9vbGVhbik6IGFueSB7XG4gICAgICAgIGxldCBzY29wZUtleTogc3RyaW5nO1xuICAgICAgICB0aGlzLnB1c2goKTtcblxuICAgICAgICBNYXBXcmFwcGVyLml0ZXJhYmxlKGNvbnRleHRWYWxzKS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoJyonID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNjb3BlS2V5ID0ga2V5O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudChzY29wZUtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U2NvcGVLZXkoc2NvcGVLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2YWwgPSB0aGlzLmFsbFByb3BlcnRpZXMoKS5nZXQocHJvcGVydHlLZXkpO1xuICAgICAgICB2YWwgPSBzdGF0aWNSZXNvbHZlID8gdGhpcy5zdGF0aWNhbGx5UmVzb2x2ZVZhbHVlKHZhbCkgOiB0aGlzLnJlc29sdmVWYWx1ZSh2YWwpO1xuICAgICAgICB0aGlzLnBvcCgpO1xuXG4gICAgICAgIHJldHVybiB2YWw7XG5cbiAgICB9XG5cbiAgICBwdXNoQW5kUmVzb2x2ZShjb250ZXh0VmFsczogTWFwPHN0cmluZywgYW55PiwgcHJvcGVydHlLZXk6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLnB1c2hBbmRSZXNvbHZlU3RhdGljKGNvbnRleHRWYWxzLCBwcm9wZXJ0eUtleSwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8vIGEgKHVzYWJsZSkgc25hcHNob3Qgb2YgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNvbnRleHRcbiAgICBzbmFwc2hvdCgpOiBTbmFwc2hvdCB7XG4gICAgICAgIHJldHVybiBuZXcgU25hcHNob3QodGhpcyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnQgY3VycmVudCBhY3RpdmUgYXNzaWdubWVudCBsaXN0IG1lYW5pbmcgaXQgd2lsbCBub3QgaW5jbHVkZSBhbnkgZW50cmllcyB3aGljaFxuICAgICAqIHdlcmUgb3ZlcndyaXR0ZW4gYnkgc29tZSBsYXRlIGVudHJ5IGhhdmluZyB0aGUgc2FtZSBrZXkuXG4gICAgICpcbiAgICAgKiBJdCBkb2VzIG5vdCBpbmNsdWRlIGVudHJpZXMgdGhhdCB3ZXJlIHB1c2hlZCB0byBzdGFjayBmcm9tIGFueSBQcm9wZXJ0eSAtPiBTZWxlY3RvclxuICAgICAqIHByb3BhZ2F0aW9uLiBUaGlzIGNyZWF0ZXMgc2hlbGwgY29weSBhbmQgaWdub3JpbmcgYWxsIGxhc3QgTWF0Y2hlcyB3aGljaCBjb3VsZCBiZSBmcm9tXG4gICAgICogc29tZSBwcmV2aW91cyBhc3NpZ25tZW50cyB0aGF0IGFyZSBub3cgcmVwbGFjZWQgd2l0aCBzb21lIG5ldyBvbmVzXG4gICAgICpcbiAgICAgKi9cbiAgICBhY3RpdmVBc3NpZ25tZW50cygpOiBBcnJheTxBc3NpZ25tZW50U25hcHNob3Q+IHtcblxuICAgICAgICBsZXQgbGlzdDogQXJyYXk8QXNzaWdubWVudFNuYXBzaG90PiA9IG5ldyBBcnJheTxBc3NpZ25tZW50U25hcHNob3Q+KCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGMgPSB0aGlzLl9lbnRyaWVzLmxlbmd0aDsgaSA8IGM7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlYzogQXNzaWdubWVudCA9IHRoaXMuX2VudHJpZXNbaV07XG4gICAgICAgICAgICBpZiAocmVjLm1hc2tlZEJ5SWR4ID09PSAwICYmICFyZWMuc3JlYy5mcm9tQ2hhaW5pbmcpIHtcbiAgICAgICAgICAgICAgICBsZXQgYTogQXNzaWdubWVudFNuYXBzaG90ID0gbmV3IEFzc2lnbm1lbnRTbmFwc2hvdCgpO1xuICAgICAgICAgICAgICAgIGEua2V5ID0gcmVjLnNyZWMua2V5O1xuICAgICAgICAgICAgICAgIGEudmFsdWUgPSByZWMudmFsO1xuICAgICAgICAgICAgICAgIGEuc2FsaWVuY2UgPSByZWMuc3JlYy5zYWxpZW5jZTtcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFNpbWlsYXIgYXMgPGNvZGU+YWN0aXZlQXNzaWdubWVudHM8L2NvZGU+IGJ1dCBkbyBpbmNsdWRlIGFsc28gdGhvc2UgdGhhdCB3ZXJlIHJlcGxhY2VkIGxhdGVyXG4gICAgICogb24gd2l0aCBhc3NpZ25tZW50cyBoYXZpbmcgdGhlIHNhbWUga2V5LlxuICAgICAqXG4gICAgICogVGhpcyBpcyBuZWVkZWQgZm9yIGNhc2VzIHdoZXJlIHdlIG5lZWQgdG8gaGF2ZSBkZWVwIGNvcHkgb2YgY3VycmVudCBzdGF0ZSBhbG9uZyB3aXRoXG4gICAgICogYWxsIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBhbGxBc3NpZ25tZW50cygpOiBBcnJheTxBc3NpZ25tZW50U25hcHNob3Q+IHtcblxuICAgICAgICBsZXQgbGlzdDogQXJyYXk8QXNzaWdubWVudFNuYXBzaG90PiA9IG5ldyBBcnJheTxBc3NpZ25tZW50U25hcHNob3Q+KCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGMgPSB0aGlzLl9lbnRyaWVzLmxlbmd0aDsgaSA8IGM7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlYzogQXNzaWdubWVudCA9IHRoaXMuX2VudHJpZXNbaV07XG4gICAgICAgICAgICBpZiAoIXJlYy5zcmVjLmZyb21DaGFpbmluZykge1xuICAgICAgICAgICAgICAgIGxldCBhOiBBc3NpZ25tZW50U25hcHNob3QgPSBuZXcgQXNzaWdubWVudFNuYXBzaG90KCk7XG4gICAgICAgICAgICAgICAgYS5rZXkgPSByZWMuc3JlYy5rZXk7XG4gICAgICAgICAgICAgICAgYS52YWx1ZSA9IHJlYy52YWw7XG4gICAgICAgICAgICAgICAgYS5zYWxpZW5jZSA9IHJlYy5zcmVjLnNhbGllbmNlO1xuICAgICAgICAgICAgICAgIGxpc3QucHVzaChhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cblxuICAgIF9zZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIG1lcmdlOiBib29sZWFuLCBjaGFpbmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBsZXQgc3ZhbCA9IHRoaXMuX21ldGEudHJhbnNmb3JtVmFsdWUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGxldCBkaWRTZXQgPSBmYWxzZTtcblxuICAgICAgICBsZXQgcmVnaXN0cnkgPSAoPFVJTWV0YT50aGlzLm1ldGEpLmNvbXBvbmVudFJlZ2lzdHJ5O1xuICAgICAgICBpZiAoa2V5ID09PSBPYmplY3RNZXRhLktleU9iamVjdCAmJiBpc1ByZXNlbnQocmVnaXN0cnkpKSB7XG4gICAgICAgICAgICByZWdpc3RyeS5yZWdpc3RlclR5cGUoY2xhc3NOYW1lKHZhbHVlKSwgdmFsdWUuY29uc3RydWN0b3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFjdGl2YXRpb246IEFjdGl2YXRpb24gPSB0aGlzLl9jdXJyZW50QWN0aXZhdGlvbi5nZXRDaGlsZEFjdGl2YXRpb24oa2V5LCBzdmFsLFxuICAgICAgICAgICAgY2hhaW5pbmcpO1xuXG4gICAgICAgIGlmIChpc0JsYW5rKGFjdGl2YXRpb24pKSB7XG4gICAgICAgICAgICBkaWRTZXQgPSB0aGlzLl9jcmVhdGVOZXdGcmFtZUZvclNldChrZXksIHN2YWwsIHZhbHVlLCBtZXJnZSwgY2hhaW5pbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ByZXNlbnQoYWN0aXZhdGlvbikpIHtcbiAgICAgICAgICAgIGRpZFNldCA9IHRoaXMuX2FwcGx5QWN0aXZhdGlvbihhY3RpdmF0aW9uLCB2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlkU2V0KSB7XG4gICAgICAgICAgICB0aGlzLmF3YWtlQ3VycmVudEFjdGl2YXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5ld0NvbnRleHRSZWMoKTogQXNzaWdubWVudCB7XG4gICAgICAgIGxldCBjb3VudCA9IHRoaXMuX3JlY1Bvb2wubGVuZ3RoO1xuICAgICAgICByZXR1cm4gKGNvdW50ID4gMCkgPyB0aGlzLl9yZWNQb29sLnNwbGljZShjb3VudCAtIDEsIDEpWzBdIDogbmV3IEFzc2lnbm1lbnQoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENhY2hlZCBjYXNlOiBhcHBseSBhIHByZXZpb3VzbHkgY29tcHV0ZWQgQWN0aXZhdGlvblxuICAgICAqL1xuICAgIF9hcHBseUFjdGl2YXRpb24oYWN0aXZhdGlvbjogQWN0aXZhdGlvbiwgZmlyc3RWYWw6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICBhc3NlcnQoYWN0aXZhdGlvbi5fcGFyZW50ID09PSB0aGlzLl9jdXJyZW50QWN0aXZhdGlvbixcbiAgICAgICAgICAgICdBdHRlbXB0IHRvIGFwcGx5IGFjdGl2YXRpb24gb24gbWlzbWF0Y2hlZCBwYXJlbnQnKTtcblxuICAgICAgICBpZiAodGhpcy5fZW50cmllcy5sZW5ndGggIT09IGFjdGl2YXRpb24uX29yaWdFbnRyeUNvdW50KSB7XG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UsXG4gICAgICAgICAgICAgICAgJ01pc21hdGNoZWQgY29udGV4dCBzdGFjayBzaXplICglcykgZnJvbSB3aGVuIGFjdGl2YXRpb24gd2FzIHBvcHBlZCAnICtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRyaWVzLmxlbmd0aCArICcgJyArIGFjdGl2YXRpb24uX29yaWdFbnRyeUNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY291bnQgPSBhY3RpdmF0aW9uLl9yZWNzLmxlbmd0aDtcbiAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3JlYzogU3RhdGljUmVjID0gYWN0aXZhdGlvbi5fcmVjc1tpXTtcbiAgICAgICAgICAgIGxldCByZWM6IEFzc2lnbm1lbnQgPSB0aGlzLm5ld0NvbnRleHRSZWMoKTtcbiAgICAgICAgICAgIHJlYy5zcmVjID0gc3JlYztcblxuICAgICAgICAgICAgLy8gQXBwbHkgbWFza2luZyBmb3IgYW55IHByb3BlcnR5IHRoYXQgd2UgbWFzayBvdXRcbiAgICAgICAgICAgIGlmIChzcmVjLmxhc3RBc3NpZ25tZW50SWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXBhcmVGb3JPdmVycmlkZSh0aGlzLl9lbnRyaWVzLmxlbmd0aCwgc3JlYy5sYXN0QXNzaWdubWVudElkeCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgcmVjLnZhbCA9IChpID09PSAwICYmICF0aGlzLm1ldGEuaXNOdWxsTWFya2VyKGZpcnN0VmFsKSkgPyBmaXJzdFZhbCA6IHNyZWMudmFsO1xuICAgICAgICAgICAgdGhpcy5fdmFsdWVzLnNldChzcmVjLmtleSwgcmVjLnZhbCk7XG4gICAgICAgICAgICB0aGlzLl9lbnRyaWVzLnB1c2gocmVjKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdXJyZW50QWN0aXZhdGlvbiA9IGFjdGl2YXRpb247XG4gICAgICAgIHRoaXMuX2N1cnJlbnRQcm9wZXJ0aWVzID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgYXdha2VDdXJyZW50QWN0aXZhdGlvbigpOiB2b2lkIHtcbiAgICAgICAgLy8gU2VlIGlmIHRoaXMgYWN0aXZhdGlvbiByZXF1aXJlcyBmdXJ0aGVyIGNoYWluaW5nXG4gICAgICAgIGxldCBjdXJyZW50QWN0aXZhdGlvbiA9IHRoaXMuX2N1cnJlbnRBY3RpdmF0aW9uO1xuICAgICAgICBsZXQgZGVmZXJyZWRBc3NpZ25tZW50czogQXJyYXk8RGVmZXJyZWRBc3NpZ25tZW50PiA9IGN1cnJlbnRBY3RpdmF0aW9uLmRlZmVycmVkQXNzaWdubWVudHM7XG4gICAgICAgIGlmIChpc1ByZXNlbnQoZGVmZXJyZWRBc3NpZ25tZW50cykpIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWZlcnJlZEFzc2lnbm1lbnRzKGRlZmVycmVkQXNzaWdubWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhcHBseURlZmVycmVkQXNzaWdubWVudHMoZGVmZXJyZWRBc3NpZ25tZW50czogQXJyYXk8RGVmZXJyZWRBc3NpZ25tZW50Pik6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBkYSBvZiAgZGVmZXJyZWRBc3NpZ25tZW50cykge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHRoYXQgZGVmZXJyZWQgdmFsdWUgc3RpbGwgYXBwbGllc1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRQcm9wVmFsdWUgPSB0aGlzLnN0YXRpY2FsbHlSZXNvbHZlVmFsdWUodGhpcy5hbGxQcm9wZXJ0aWVzKCkuZ2V0KGRhLmtleSkpO1xuXG4gICAgICAgICAgICBpZiAoZGEudmFsdWUgPT09IGN1cnJlbnRQcm9wVmFsdWUpIHtcblxuICAgICAgICAgICAgICAgIGxldCByZXNvbHZlZFZhbHVlID0gdGhpcy5yZXNvbHZlVmFsdWUoZGEudmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0KGRhLmtleSwgcmVzb2x2ZWRWYWx1ZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBwcmludCgnX3NldCBTS0lQUElORyBkZWZlcnJlZCBhc3NpZ25tZW50IG9mIGRlcml2ZWQgdmFsdWU6ICVzIDwtICVzIC0tJyArXG4gICAgICAgICAgICAgICAgLy8gICAgICcgbm8gbG9uZ2VyIG1hdGNoZXMgcHJvcGVydHkgaW4gY29udGV4dDogJXMnICwgZGEua2V5ICwgZGEudmFsdWUgLFxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnRQcm9wVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBfaW5EZWNsYXJlKCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgbWF0Y2g6IE1hdGNoUmVzdWx0ID0gdGhpcy5sYXN0TWF0Y2hXaXRob3V0Q29udGV4dFByb3BzKCk7XG4gICAgICAgIHJldHVybiBpc1ByZXNlbnQobWF0Y2gpICYmIChtYXRjaC5fa2V5c01hdGNoZWRNYXNrICYgdGhpcy5fbWV0YS5kZWNsYXJlS2V5TWFzaykgIT09IDA7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgTm9uLWNhY2hlZCBhY2Nlc3M6IGNyZWF0ZSBhIG5ldyBhY3RpdmF0aW9uXG4gICAgICovXG4gICAgX2NyZWF0ZU5ld0ZyYW1lRm9yU2V0KGtleTogc3RyaW5nLCBzdmFsdWU6IGFueSwgdmFsdWU6IGFueSwgbWVyZ2U6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluaW5nOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGxhc3RBY3RpdmF0aW9uOiBBY3RpdmF0aW9uID0gdGhpcy5fY3VycmVudEFjdGl2YXRpb247XG4gICAgICAgIGxldCBuZXdBY3RpdmF0aW9uOiBBY3RpdmF0aW9uID0gbmV3IEFjdGl2YXRpb24obGFzdEFjdGl2YXRpb24pO1xuICAgICAgICBuZXdBY3RpdmF0aW9uLl9vcmlnRW50cnlDb3VudCA9IHRoaXMuX2VudHJpZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9jdXJyZW50QWN0aXZhdGlvbiA9IG5ld0FjdGl2YXRpb247XG5cbiAgICAgICAgLy8gc2V0IHRoaXMgdmFsdWVcbiAgICAgICAgbGV0IGRpZFNldDogYm9vbGVhbiA9IHRoaXMuX3NldDIoa2V5LCBzdmFsdWUsIHZhbHVlLCBtZXJnZSwgY2hhaW5pbmcpO1xuICAgICAgICAvLyBtaXJyb3IgcHJvcGVydGllc1xuICAgICAgICBpZiAoZGlkU2V0KSB7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5fY2hlY2tBcHBseVByb3BlcnRpZXMoKSkge1xuICAgICAgICAgICAgICAgIC8qIHJlcGVhdCAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtZW1iZXIgZm9yIHRoZSBmdXR1cmVcbiAgICAgICAgaWYgKENvbnRleHQuX0NhY2hlQWN0aXZhdGlvbnMpIHtcbiAgICAgICAgICAgIGxhc3RBY3RpdmF0aW9uLmNhY2hlQ2hpbGRBY3RpdmF0aW9uKGtleSwgc3ZhbHVlLCBuZXdBY3RpdmF0aW9uLCBjaGFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3VycmVudEFjdGl2YXRpb24gPSAoZGlkU2V0KSA/IG5ld0FjdGl2YXRpb24gOiBsYXN0QWN0aXZhdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRBY3RpdmF0aW9uICE9PSBsYXN0QWN0aXZhdGlvbjtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBsYXppbHkgdG8gY29tcHV0ZSB0aGUgcHJvcGVydHkgYWN0aXZhdGlvbiBmb3IgdGhpcyBhY3RpdmF0aW9uXG4gICAgICogQ29tcHV0ZSB0aGUgc3RhdGljIHBhcnQgb2YgdGhlIHByb3BlcnR5IGFjdGl2YXRpb25cbiAgICAgKiB3ZSBhY2N1bXVsYXRlIHRoZSBwcm9wZXJ0eSBzZXR0aW5ncyBvbiBhIHNpZGUgYWN0aXZhdGlvbiBvZmYgdGhlIG1haW4gc3RhY2tcbiAgICAgKiBhbmQgYXBwbHkgaXQgdmlydHVhbGx5IGlmIG91ciBwYXJlbnQgaXMgbm90IGNvdmVyZWRcbiAgICAgKiAgKHRoYXQgd2F5IHdlIGRvbid0IGhhdmUgdG8gYXBwbHkgYW5kIHVuYXBwbHkgYWxsIHRoZSB0aW1lKVxuICAgICAqL1xuICAgIF9jcmVhdGVOZXdQcm9wZXJ0eUNvbnRleHRBY3RpdmF0aW9uKHBhcmVudEFjdGl2YXRpb246IEFjdGl2YXRpb24pOiBBY3RpdmF0aW9uIHtcblxuICAgICAgICB0aGlzLnB1c2goKTtcbiAgICAgICAgbGV0IHByb3BBY3RpdmF0aW9uOiBBY3RpdmF0aW9uID0gbmV3IEFjdGl2YXRpb24ocGFyZW50QWN0aXZhdGlvbik7XG4gICAgICAgIHByb3BBY3RpdmF0aW9uLl9vcmlnRW50cnlDb3VudCA9IHRoaXMuX2VudHJpZXMubGVuZ3RoO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRBY3RpdmF0aW9uID0gcHJvcEFjdGl2YXRpb247XG4gICAgICAgIGxldCBvcmlnVmFsdWVzID0gdGhpcy5fdmFsdWVzO1xuXG4gICAgICAgIGxldCBuZXN0ZWRNYXA6IE5lc3RlZE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTmVzdGVkTWFwPHN0cmluZywgYW55PihvcmlnVmFsdWVzKTtcbiAgICAgICAgdGhpcy5fdmFsdWVzID0gbmVzdGVkTWFwO1xuICAgICAgICB0aGlzLmFwcGx5UHJvcGVydHlDb250ZXh0QW5kQ2hhaW4oKTtcblxuICAgICAgICBpZiAocHJvcEFjdGl2YXRpb24uX3JlY3MubGVuZ3RoID4gMCB8fCBpc1ByZXNlbnQocHJvcEFjdGl2YXRpb24uZGVmZXJyZWRBc3NpZ25tZW50cykpIHtcbiAgICAgICAgICAgIHByb3BBY3RpdmF0aW9uLl9uZXN0ZWRWYWx1ZXMgPSBuZXN0ZWRNYXA7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZXMgPSBDb250ZXh0LkVtcHR5UmVtb3ZlTWFwOyAgLy8gaGFjayAtLSBlbXB0eSBtYXAgc28gdGhhdCB1bmRvIGlzIG5vb3AgLS1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAoKE5lc3RlZE1hcClfdmFsdWVzKS5kdXAoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb3BBY3RpdmF0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvcCgpO1xuICAgICAgICB0aGlzLl92YWx1ZXMgPSBvcmlnVmFsdWVzO1xuICAgICAgICB0aGlzLl9jdXJyZW50QWN0aXZhdGlvbiA9IHBhcmVudEFjdGl2YXRpb247XG5cbiAgICAgICAgcmV0dXJuIHByb3BBY3RpdmF0aW9uO1xuICAgIH1cblxuICAgIF9hcHBseVByb3BlcnR5QWN0aXZhdGlvbihwcm9wQWN0aXZhdGlvbjogQWN0aXZhdGlvbiwgcmVjOiBBc3NpZ25tZW50KSB7XG4gICAgICAgIGxldCBwcm9wVmFsdWVzID0gdGhpcy5fdmFsdWVzO1xuICAgICAgICBpZiAoaXNQcmVzZW50KHByb3BBY3RpdmF0aW9uLl9uZXN0ZWRWYWx1ZXMpKSB7XG4gICAgICAgICAgICBwcm9wVmFsdWVzID0gcHJvcEFjdGl2YXRpb24uX25lc3RlZFZhbHVlcy5yZXBhcmVudGVkTWFwKHByb3BWYWx1ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHVwIHByb3BMb2NhbCByZXN1bHRzXG4gICAgICAgIC8vIE5vdywgc2VlIGlmIHdlIG5lZWQgdG8gY29tcHV0ZSBhIGR5bmFtaWMgcHJvcGVydHkgYWN0aXZhdGlvbiBhcyB3ZWxsXG4gICAgICAgIGlmIChpc1ByZXNlbnQocHJvcEFjdGl2YXRpb24uZGVmZXJyZWRBc3NpZ25tZW50cykpIHtcbiAgICAgICAgICAgIHRoaXMucHVzaCgpO1xuICAgICAgICAgICAgLy8gbmVzdCBhIGR5bmFtaWMgbmVzdGVkIG1hcCBvbiBvdXIgc3RhdGljIG5lc3RlZCBtYXAgKHdoaWNoIGlzIG9uIG91ciBsYXN0IGR5bmFtaWNcbiAgICAgICAgICAgIC8vIG5lc3RlZCBtYXAuLi4pXG4gICAgICAgICAgICBsZXQgb3JpZ1ZhbHVlcyA9IHRoaXMuX3ZhbHVlcztcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IG5ldyBOZXN0ZWRNYXA8c3RyaW5nLCBhbnk+KHByb3BWYWx1ZXMpO1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlBY3RpdmF0aW9uKHByb3BBY3RpdmF0aW9uLCBNZXRhLk51bGxNYXJrZXIpO1xuICAgICAgICAgICAgdGhpcy5hcHBseURlZmVycmVkQXNzaWdubWVudHMocHJvcEFjdGl2YXRpb24uZGVmZXJyZWRBc3NpZ25tZW50cyk7XG5cbiAgICAgICAgICAgIHJlYy5fcHJvcGVydHlMb2NhbFZhbHVlcyA9IHRoaXMuX3ZhbHVlcztcbiAgICAgICAgICAgIHJlYy5fcHJvcGVydHlMb2NhbFNyZWMgPSBMaXN0V3JhcHBlci5sYXN0KHRoaXMuX2VudHJpZXMpLnNyZWM7XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IENvbnRleHQuRW1wdHlSZW1vdmVNYXA7ICAvLyBoYWNrIC0tIGVtcHR5IG1hcCBzbyB0aGF0IHVuZG8gaXMgbm9vcCAtLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICgoTmVzdGVkTWFwKV92YWx1ZXMpLmR1cCgpO1xuICAgICAgICAgICAgdGhpcy5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IG9yaWdWYWx1ZXM7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNhbiB1c2Ugc3RhdGljIHZlcnNpb25zXG4gICAgICAgICAgICByZWMuX3Byb3BlcnR5TG9jYWxWYWx1ZXMgPSBwcm9wVmFsdWVzO1xuICAgICAgICAgICAgcmVjLl9wcm9wZXJ0eUxvY2FsU3JlYyA9IExpc3RXcmFwcGVyLmxhc3QocHJvcEFjdGl2YXRpb24uX3JlY3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gdG9kbzogYW55IGVxdWFscyBvbGQgdmEgPT09IG5ldyB2YWxcbiAgICBfaXNOZXdWYWx1ZShvbGRWYWw6IGFueSwgbmV3VmFsOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChvbGRWYWwgIT09IG5ld1ZhbCAmJiAoaXNQcmVzZW50KG9sZFZhbCkgfHxcbiAgICAgICAgICAgICghb2xkVmFsID09PSBuZXdWYWwgJiYgKCFpc0FycmF5KG9sZFZhbCkpIHx8ICEoTGlzdFdyYXBwZXIuY29udGFpbnMob2xkVmFsLCBuZXdWYWwpKSkpKTtcbiAgICB9XG5cblxuICAgIGlzRGVjbGFyZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLnByb3BlcnR5Rm9yS2V5KE1ldGEuS2V5RGVjbGFyZSkpO1xuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIGFzc2VydENvbnRleHRDb25zaXN0ZW50KCk6IHZvaWQge1xuICAgICAgICBpZiAoIUNvbnRleHQuX0V4cGVuc2l2ZUNvbnRleHRDb25zaXN0ZW5jeUNoZWNrc0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZlcmlmeSB0aGF0IGVhY2ggdmFsdWUgaW4gY29udGV4dCBoYXMgbWF0Y2hpbmcgKGVuYWJsZWQpIGNvbnRleHQgcmVjb3JkXG5cblxuICAgICAgICBNYXBXcmFwcGVyLml0ZXJhYmxlKHRoaXMuX3ZhbHVlcykuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgbGV0IGxhc3RBc3NpZ25tZW50SWR4ID0gdGhpcy5maW5kTGFzdEFzc2lnbm1lbnRPZktleShrZXkpO1xuICAgICAgICAgICAgYXNzZXJ0KGxhc3RBc3NpZ25tZW50SWR4ID49IDAsICdWYWx1ZSBpbiBjb250ZXh0IGJ1dCBubyBhc3NpZ25tZW50IHJlY29yZCBmb3VuZCAnICtcbiAgICAgICAgICAgICAgICBrZXkgKyAnID0gJyArIHZhbHVlKTtcblxuICAgICAgICAgICAgbGV0IGNvbnRleHRWYWwgPSB0aGlzLl9lbnRyaWVzW2xhc3RBc3NpZ25tZW50SWR4XS52YWw7XG5cbiAgICAgICAgICAgIGFzc2VydCh2YWx1ZSA9PT0gY29udGV4dFZhbCB8fCAoaXNQcmVzZW50KHZhbHVlKSAmJiB2YWx1ZSA9PT0gY29udGV4dFZhbCksXG4gICAgICAgICAgICAgICAgJ1ZhbHVlIGluIGNvbnRleHQgIGRvZXNudCBtYXRjaCB2YWx1ZSBvbiBzdGFjayAnICsgdmFsdWUgKyAnIC8gJyArIGNvbnRleHRWYWwpO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNoZWNrIGVudHJpZXMgZm9yIHByb3BlciByZWxhdGlvbnNoaXAgd2l0aCBhbnkgcHJldmlvdXMgcmVjb3JkcyB0aGF0IHRoZXkgb3ZlcnJpZGVcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuX2VudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCByOiBBc3NpZ25tZW50ID0gdGhpcy5fZW50cmllc1tpXTtcbiAgICAgICAgICAgIGxldCBmb3VuZEZpcnN0ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJlZDogQXNzaWdubWVudCA9IHRoaXMuX2VudHJpZXNbal07XG4gICAgICAgICAgICAgICAgaWYgKHByZWQuc3JlYy5rZXkgPT09IHIuc3JlYy5rZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJlZGVjZXNzb3JzIG11c3QgYmUgbWFza2VkXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydCgoIWZvdW5kRmlyc3QgJiYgcHJlZC5tYXNrZWRCeUlkeCA9PT0gaSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICgoZm91bmRGaXJzdCB8fCBwcmVkLnNyZWMuZnJvbUNoYWluaW5nKSAmJiBwcmVkLm1hc2tlZEJ5SWR4ID4gMCksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICdQcmVkZWNlc3NvciBBIGRvZXMgbm90IGhhdmUgbWF0Y2hpbmcgbWFza2VkQnlJZHggQiAgZm9yIG92ZXJyaWRlIEM6JyArXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVkLnNyZWMua2V5ICsgJyA9ICcgKyBwcmVkLnZhbCArICcsICcgKyBwcmVkLm1hc2tlZEJ5SWR4ICsgJywgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBpICsgJyA9ICcgKyByLnZhbFxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIGFzc2VydCgoKCFmb3VuZEZpcnN0ICYmIHIuc3JlYy5sYXN0QXNzaWdubWVudElkeCA9PT0gaikgfHwgZm91bmRGaXJzdCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZC5zcmVjLmZyb21DaGFpbmluZyksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICdPdmVycmlkZSBBMT1BMiBkb2VzIG5vdCBoYXZlIHByb3BlciBsYXN0QXNzaWdubWVudElkeCBCMSE9QjIgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZm9yIHByZWRlY2Vzc29yIEMnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWQuc3JlYy5rZXkgKyAnID0gJyArIHByZWQudmFsICsgJywgJyArIHIuc3JlYy5sYXN0QXNzaWdubWVudElkeCArICcgPSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogKyAnLCAnICsgcHJlZC52YWwpO1xuICAgICAgICAgICAgICAgICAgICBmb3VuZEZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIF9zZXQyKGtleTogc3RyaW5nLCBzdmFsdWU6IGFueSwgdmFsdWU6IGFueSwgbWVyZ2U6IGJvb2xlYW4sIGlzQ2hhaW5pbmc6IGJvb2xlYW4pOiBib29sZWFuIHtcblxuICAgICAgICBDb250ZXh0Ll9EZWJ1Z19TZXRzQ291bnQrKztcbiAgICAgICAgLy8gcHJpbnQoJ1NldHRpbmcga2V5L3ZhbGUgb250byBzdGFjazogJyArIGtleSArICc9JyArIHZhbHVlKTtcbiAgICAgICAgbGV0IGhhc09sZFZhbHVlID0gdGhpcy5fdmFsdWVzLmhhcyhrZXkpICYmIGlzUHJlc2VudCh0aGlzLl92YWx1ZXMuZ2V0KGtleSkpO1xuICAgICAgICBsZXQgb2xkVmFsID0gaGFzT2xkVmFsdWUgPyB0aGlzLl92YWx1ZXMuZ2V0KGtleSkgOiBudWxsO1xuXG4gICAgICAgIGxldCBpc05ld1ZhbHVlID0gIWhhc09sZFZhbHVlIHx8IHRoaXMuX2lzTmV3VmFsdWUob2xkVmFsLCB2YWx1ZSk7XG5cbiAgICAgICAgbGV0IG1hdGNoaW5nUHJvcEtleUFzc2lnbm1lbnQgPSAhaXNOZXdWYWx1ZSAmJiAhaXNDaGFpbmluZyAmJlxuICAgICAgICAgICAgKCh0aGlzLl9tZXRhLmtleURhdGEoa2V5KS5pc1Byb3BlcnR5U2NvcGUpICYmXG4gICAgICAgICAgICAgICAga2V5ICE9PSB0aGlzLl9jdXJyZW50UHJvcGVydHlTY29wZUtleSgpKTtcbiAgICAgICAgaWYgKGlzTmV3VmFsdWUgfHwgbWF0Y2hpbmdQcm9wS2V5QXNzaWdubWVudCkge1xuICAgICAgICAgICAgbGV0IGxhc3RNYXRjaDogTWF0Y2hSZXN1bHQ7XG4gICAgICAgICAgICBsZXQgbmV3TWF0Y2g6IE1hdGNoUmVzdWx0O1xuXG4gICAgICAgICAgICBsZXQgc2FsaWVuY2UgPSB0aGlzLl9mcmFtZVN0YXJ0cy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgbGFzdEFzc2lnbm1lbnRJZHggPSAtMTtcbiAgICAgICAgICAgIGlmIChpc0JsYW5rKG9sZFZhbCkpIHtcbiAgICAgICAgICAgICAgICBsYXN0TWF0Y2ggPSB0aGlzLmxhc3RNYXRjaFdpdGhvdXRDb250ZXh0UHJvcHMoKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXZSByZWNvbXB1dGUgdGhhdCBtYXRjaCB1cCB0byB0aGlzIHBvaW50IGJ5IHJlY29tcHV0aW5nIGZvcndhcmRcbiAgICAgICAgICAgICAgICAvLyBmcm9tIHRoZSBwb2ludCBvZiB0aGUgbGFzdCBhc3NpZ25tZW50IHRvIHRoaXMga2V5IChza2lwcGluZyBpdCksIHRoZW5cbiAgICAgICAgICAgICAgICAvLyBtYXRjaCBhZ2FpbnN0IHRoZSBhcnJheSBvZiBvdXIgdmFsdWUgYW5kIHRoZSBvbGRcblxuICAgICAgICAgICAgICAgIGxldCByZWNJZHggPSB0aGlzLl9lbnRyaWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsYXN0QXNzaWdubWVudElkeCA9IHRoaXMuZmluZExhc3RBc3NpZ25tZW50T2ZLZXkoa2V5KTtcbiAgICAgICAgICAgICAgICBhc3NlcnQobGFzdEFzc2lnbm1lbnRJZHggPj0gMCxcbiAgICAgICAgICAgICAgICAgICAgJ1ZhbHVlIGluIGNvbnRleHQgYnV0IG5vIGFzc2lnbm1lbnQgcmVjb3JkIGZvdW5kICcgKyBrZXkgKyAnID0gJyArIG9sZFZhbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdQcm9wS2V5QXNzaWdubWVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVhcCB2ZXJzaW9uIG9mIG1hc2tpbmcgZm9yIGEgbWF0Y2hpbmcgc2V0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbnRyaWVzW2xhc3RBc3NpZ25tZW50SWR4XS5tYXNrZWRCeUlkeCA9IHJlY0lkeDtcbiAgICAgICAgICAgICAgICAgICAgbGFzdE1hdGNoID0gdGhpcy5sYXN0TWF0Y2hXaXRob3V0Q29udGV4dFByb3BzKCk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBiZSBhYmxlIHRvIG92ZXJyaWRlIGEgbm9uLWNoYWluaW5nIGFzc2lnbm1lbnQuICBPdXIgcHJvYmxlbSBpcywgdGhvdWdoLCBpZlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZGV2ZWxvcGVyIHdhbnRlZCB0byBmb3JjZSBhIHJlLWFzc2lnbm1lbnQgaW4gdGhlIG5ldyBmcmFtZSwgd2UnZCBmaWx0ZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQgb3V0IGFzIGEgZHVwbGljYXRlIGFzc2lnbm1lbnQgYWJvdmUuICBOb3csIHdlIGNvdWxkIGFsbG93IHRoYXQgYXNzaWdubWVudFxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdWdoLCBidXQgaXQgd291bGQgdGhlbiBicmVhayBpbmxldGlhbnRzIHdoZW4gc2VhcmNoaW5nIGJhY2sgdG8gbWFzayBhXG4gICAgICAgICAgICAgICAgICAgIC8vIGtleSAod2Ugd291bGRuJ3QgcmVhbGl6ZSB0aGF0IHdlIG5lZWQgdG8gZ28gZnVydGhlciBiYWNrIHRvIGZpbmQgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIG9yaWdpbmFsIG9uZSkuXG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG9sZFJlYzogQXNzaWdubWVudCA9IHRoaXMuX2VudHJpZXNbbGFzdEFzc2lnbm1lbnRJZHhdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRSZWMuc3JlYy5zYWxpZW5jZSA9PT0gc2FsaWVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcmV2ID0gdGhpcy5maW5kTGFzdEFzc2lnbm1lbnRPZktleVdpdGhWYWx1ZShrZXksIHZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXYgIT09IC0xICYmIHRoaXMuX2VudHJpZXNbcHJldl0uc3JlYy5zYWxpZW5jZSA9PT0gc2FsaWVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDaGFpbmluZyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKG9sZFJlYy5zcmVjLnNhbGllbmNlID4gc2FsaWVuY2UgfHwgIW9sZFJlYy5zcmVjLmZyb21DaGFpbmluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByaW50KCdTZXQgb2Yga2V5IHNraXBwZWQgKHNhbGllbmNlICVzIDw9ICVzKScgKyBrZXkgKyAnLCAnICsgb2xkVmFsICtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICcsICcgKyB2YWx1ZSArICcsICcgKyBzYWxpZW5jZSArICcsICcgKyBvbGRSZWMuc3JlYy5zYWxpZW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpcnN0QXNzaWdubWVudElkeCA9IHRoaXMuX3ByZXBhcmVGb3JPdmVycmlkZShyZWNJZHgsIGxhc3RBc3NpZ25tZW50SWR4KTtcbiAgICAgICAgICAgICAgICAgICAgbmV3TWF0Y2ggPSB0aGlzLl9yZW1hdGNoRm9yT3ZlcnJpZGUoa2V5LCBzdmFsdWUsIHJlY0lkeCwgZmlyc3RBc3NpZ25tZW50SWR4KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobWVyZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gTWV0YS5Qcm9wZXJ0eU1lcmdlcl9MaXN0Lm1lcmdlKG9sZFZhbCwgdmFsdWUsIHRoaXMuaXNEZWNsYXJlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhc3NlcnQodGhpcy5fZW50cmllcy5sZW5ndGggPD0gQ29udGV4dC5NYXhDb250ZXh0U3RhY2tTaXplLFxuICAgICAgICAgICAgICAgICdNZXRhVUkgY29udGV4dCBzdGFjayBleGNlZWRlZCBtYXggc2l6ZSAtLSBsaWtlbHkgaW5maW5pdGUgY2hhaW5pbmc6ICcgK1xuICAgICAgICAgICAgICAgIHRoaXMuX2VudHJpZXMubGVuZ3RoXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbGV0IHNyZWM6IFN0YXRpY1JlYyA9IG5ldyBTdGF0aWNSZWMoKTtcbiAgICAgICAgICAgIHNyZWMua2V5ID0ga2V5O1xuICAgICAgICAgICAgLy8gdG9kbzogY29udmVyc2lvblxuICAgICAgICAgICAgc3JlYy52YWwgPSBzdmFsdWU7XG4gICAgICAgICAgICBzcmVjLmxhc3RBc3NpZ25tZW50SWR4ID0gbGFzdEFzc2lnbm1lbnRJZHg7XG4gICAgICAgICAgICBzcmVjLnNhbGllbmNlID0gc2FsaWVuY2U7XG4gICAgICAgICAgICBzcmVjLmZyb21DaGFpbmluZyA9IGlzQ2hhaW5pbmc7XG5cbiAgICAgICAgICAgIGlmIChpc0JsYW5rKG5ld01hdGNoKSkge1xuICAgICAgICAgICAgICAgIG5ld01hdGNoID0gKGlzUHJlc2VudCh2YWx1ZSkpID8gdGhpcy5fbWV0YS5tYXRjaChrZXksIHN2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdE1hdGNoKSA6IGxhc3RNYXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNyZWMubWF0Y2ggPSBuZXdNYXRjaDtcbiAgICAgICAgICAgIHNyZWMuYWN0aXZhdGlvbiA9IHRoaXMuX2N1cnJlbnRBY3RpdmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudEFjdGl2YXRpb24uX3JlY3MucHVzaChzcmVjKTtcblxuICAgICAgICAgICAgbGV0IHJlYyA9IHRoaXMubmV3Q29udGV4dFJlYygpO1xuICAgICAgICAgICAgcmVjLnNyZWMgPSBzcmVjO1xuICAgICAgICAgICAgcmVjLnZhbCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fZW50cmllcy5wdXNoKHJlYyk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50UHJvcGVydGllcyA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5zZXQoa2V5LCB2YWx1ZSk7XG5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCB0aGlzLmRlYnVnTmFtZSArICcgPT4gJyArXG4gICAgICAgICAgICAvLyAgICAgJ1B1c2goJyArIGtleSArICcsICcgKyBzdmFsdWUgKyAnKTogJyArICdNYXRjaGVzOiAnICsgbmV3TWF0Y2gubWF0Y2hlcygpLmxlbmd0aFxuICAgICAgICAgICAgLy8gICAgICsgJywgUHJvcE1hcDogJyArIHNyZWMucHJvcGVydGllcygpLnNpemUpO1xuXG4gICAgICAgICAgICBpZiAoQ29udGV4dC5fRGVidWdSdWxlTWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrTWF0Y2goc3JlYy5tYXRjaCwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFzc2VydENvbnRleHRDb25zaXN0ZW50KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgLy8gcHJpbnQoJ0NvbnRleHQgc2tpcHBlZCBhc3NpZ25tZW50IG9mIG1hdGNoaW5nIHByb3BlcnR5IHZhbHVlICVzID0gJXMgKGlzQ2hhaW5pbmcgPT1cbiAgICAgICAgICAgIC8vICVzLCBpc1Byb3BLZXkgPT0gJXMpJywga2V5LCB2YWx1ZSwgaXNDaGFpbmluZyxcbiAgICAgICAgICAgIC8vICh0aGlzLl9tZXRhLmtleURhdGEoa2V5KS5pc1Byb3BlcnR5U2NvcGUpKTtcblxuICAgICAgICAgICAgaWYgKCFpc0NoYWluaW5nICYmIHRoaXMubWV0YS5rZXlEYXRhKGtleSkuaXNQcm9wZXJ0eVNjb3BlKSB7XG4gICAgICAgICAgICAgICAgLy8gc2xhbSBkb3duIGEgcmVjIGZvciBwcm9wZXJ0eSBjb250ZXh0XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG4gICAgZ2V0IGZyYW1lU3RhcnRzKCk6IG51bWJlcltdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lU3RhcnRzO1xuICAgIH1cblxuICAgIF91bmRvUmVjVmFsdWUocmVjOiBBc3NpZ25tZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChyZWMuc3JlYy5sYXN0QXNzaWdubWVudElkeCA9PT0gLTEgfHxcbiAgICAgICAgICAgIHRoaXMuX2VudHJpZXNbcmVjLnNyZWMubGFzdEFzc2lnbm1lbnRJZHhdLm1hc2tlZEJ5SWR4ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fdmFsdWVzLmRlbGV0ZShyZWMuc3JlYy5rZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdmFsdWVzLnNldChyZWMuc3JlYy5rZXksIHRoaXMuX2VudHJpZXNbcmVjLnNyZWMubGFzdEFzc2lnbm1lbnRJZHhdLnZhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vIFVuZG9lcyBhbmQgbWFza3MgYXNzaWdubWVudHMgaW52YWxpZGF0ZWQgYnkgb3ZlcnJpZGUgb2YgZ2l2ZW4gcmVjb3JkXG4gICAgLy8gUmV0dXJucyBzdGFjayBpbmRleCBmb3IgZmlyc3QgYXNzaWdubWVudCAoaS5lLiB3aGVyZSBtYXRjaCByZWNvbXB1dGF0aW9uIG11c3Qgc3RhcnQpXG4gICAgX3ByZXBhcmVGb3JPdmVycmlkZShvdmVycmlkZUluZGV4OiBudW1iZXIsIGxhc3RBc3NpZ25tZW50SWR4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICAvLyBpZiB3ZSdyZSBvdmVycmlkaW5nIGEgcHJvcCBjb250ZXh0IG92ZXJyaWRlIG9mIGEgbWF0Y2hpbmcgdmFsdWUsIGJhY2sgdXAgZnVydGhlclxuICAgICAgICBsZXQgbGFzdExhc3RJZHggPSAwO1xuICAgICAgICB3aGlsZSAoKChsYXN0TGFzdElkeCA9IHRoaXMuX2VudHJpZXNbbGFzdEFzc2lnbm1lbnRJZHhdLnNyZWMubGFzdEFzc2lnbm1lbnRJZHgpICE9PSAtMSkgJiZcbiAgICAgICAgKHRoaXMuX2VudHJpZXNbbGFzdEFzc2lnbm1lbnRJZHhdLm1hc2tlZEJ5SWR4IDw9IDApKSB7XG4gICAgICAgICAgICAvLyBtYXJrIGl0ISAod2UnbGwgcGljayBpdCB1cCBiZWxvdy4uLilcbiAgICAgICAgICAgIHRoaXMuX2VudHJpZXNbbGFzdEFzc2lnbm1lbnRJZHhdLm1hc2tlZEJ5SWR4ID0gLTE7XG4gICAgICAgICAgICBsYXN0QXNzaWdubWVudElkeCA9IGxhc3RMYXN0SWR4O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdW5kbyBhbGwgY29uZmxpY3Rpbmcgb3IgZGVydmllZCBhc3NpZ25tZW50cyAoYW5kIG1hcmsgdGhlbSlcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuX2VudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSBsYXN0QXNzaWdubWVudElkeDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgciA9IHRoaXMuX2VudHJpZXNbaV07XG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHVuZG8gKGFuZCBtYXNrKSBhbnkgcmVjb3JkIHRoYXQgY29uZmxpY3Qgb3IgYXJlIGRlcml2ZWRcbiAgICAgICAgICAgIC8vIE5PVEU6IFdlIGFyZSBza2lwcGluZyB0aGUgcmVtb3ZlIGFsbCBjaGFpbmVkIHJlY29yZHMsIGJlY2F1c2UgdGhpcyBjYW4gcmVzdWx0IGluXG4gICAgICAgICAgICAvLyB1bmRvaW5nIGRlcml2ZWQgc3RhdGUgdG90YWxseSB1bnJlbGF0ZWQgdG8gdGhpcyBrZXkuICBJZGVhbGx5IHdlJ2QgZmlndXJlIG91dCB3aGF0XG4gICAgICAgICAgICAvLyBkZXBlbmRlZCBvbiB3aGF0Li4uXG4gICAgICAgICAgICBpZiAoci5tYXNrZWRCeUlkeCA8PSAwICYmIChpID09PSBsYXN0QXNzaWdubWVudElkeCB8fCByLm1hc2tlZEJ5SWR4ID09PSAtMSkpIHtcbiAgICAgICAgICAgICAgICAvLyB8fCByLnNyZWMuZnJvbUNoYWluaW5nXG4gICAgICAgICAgICAgICAgLy8gbWFyayBhbmQgdW5kbyBpdFxuICAgICAgICAgICAgICAgIHIubWFza2VkQnlJZHggPSBvdmVycmlkZUluZGV4O1xuICAgICAgICAgICAgICAgIHRoaXMuX3VuZG9SZWNWYWx1ZShyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGFzdEFzc2lnbm1lbnRJZHg7XG4gICAgfVxuXG5cbiAgICBfcmVtYXRjaEZvck92ZXJyaWRlKGtleTogc3RyaW5nLCBzdmFsdWU6IGFueSwgb3ZlcnJpZGVJbmRleDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RBc3NpZ25tZW50SWR4OiBudW1iZXIpOiBNYXRjaFJlc3VsdCB7XG4gICAgICAgIC8vIHN0YXJ0IGZyb20gdGhlIHRvcCBkb3duIGxvb2tpbmcgZm9yIHRoYXQgbGFzdCB1bm1hc2tlZCByZWNvcmRcbiAgICAgICAgbGV0IGxhc3RNYXRjaDogTWF0Y2hSZXN1bHQ7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBmaXJzdEFzc2lnbm1lbnRJZHg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlYyA9IHRoaXMuX2VudHJpZXNbaV07XG4gICAgICAgICAgICBpZiAocmVjLm1hc2tlZEJ5SWR4ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0TWF0Y2ggPSByZWMuc3JlYy5tYXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBvdmVycmlkZXNNYXRjaDogVW5pb25NYXRjaFJlc3VsdDtcblxuICAgICAgICAvLyBSZW1hdGNoIHNraXBwaW5nIG92ZXIgdGhlIGxhc3QgYXNzaWdubWVudCBvZiB0aGlzIHByb3BlcnR5XG4gICAgICAgIC8vIGFuZCBhbGwgYXNzaWdubWVudHMgZnJvbSBjaGFpbmdpbmdcbiAgICAgICAgZm9yIChsZXQgZW5kID0gdGhpcy5fZW50cmllcy5sZW5ndGg7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IHI6IEFzc2lnbm1lbnQgPSB0aGlzLl9lbnRyaWVzW2ldO1xuICAgICAgICAgICAgLy8gcmVtYXRjaCBvbiBhbnkgdW5tYXNrZWQgcmVjb3Jkc1xuICAgICAgICAgICAgaWYgKHIubWFza2VkQnlJZHggPT09IDApIHtcbiAgICAgICAgICAgICAgICBsYXN0TWF0Y2ggPSB0aGlzLl9tZXRhLm1hdGNoKHIuc3JlYy5rZXksIHIuc3JlYy52YWwsIGxhc3RNYXRjaCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGFjY3VtdWxhdGUgbWFza2VkICgnX28nKSBtYXRjaFxuICAgICAgICAgICAgICAgIG92ZXJyaWRlc01hdGNoID0gdGhpcy5fbWV0YS51bmlvbk92ZXJyaWRlTWF0Y2goci5zcmVjLmtleSwgci5zcmVjLnZhbCxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVzTWF0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudChzdmFsdWUpIHx8IGlzQmxhbmsobGFzdE1hdGNoKSkge1xuICAgICAgICAgICAgbGFzdE1hdGNoID0gdGhpcy5fbWV0YS5tYXRjaChrZXksIHN2YWx1ZSwgbGFzdE1hdGNoKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0TWF0Y2guc2V0T3ZlcnJpZGVzTWF0Y2gob3ZlcnJpZGVzTWF0Y2gpO1xuICAgICAgICByZXR1cm4gbGFzdE1hdGNoO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBfdW5kb092ZXJyaWRlKHJlYzogQXNzaWdubWVudCwgcmVjSWR4OiBudW1iZXIpIHtcbiAgICAgICAgbGV0IGxhc3RBc3NpZ25tZW50SWR4ID0gcmVjLnNyZWMubGFzdEFzc2lnbm1lbnRJZHg7XG4gICAgICAgIGxldCBsYXN0TGFzdElkeDogbnVtYmVyO1xuXG5cbiAgICAgICAgLy8gYmFzdGljayB1cCBmdXJ0aGVyIGlmIG5lY2Vzc2FyeVxuICAgICAgICB3aGlsZSAoKChsYXN0TGFzdElkeCA9IHRoaXMuX2VudHJpZXNbbGFzdEFzc2lnbm1lbnRJZHhdLnNyZWMubGFzdEFzc2lnbm1lbnRJZHgpICE9PSAtMSkgJiZcbiAgICAgICAgKHRoaXMuX2VudHJpZXNbbGFzdExhc3RJZHhdLm1hc2tlZEJ5SWR4ID09PSByZWNJZHgpKSB7XG4gICAgICAgICAgICBsYXN0QXNzaWdubWVudElkeCA9IGxhc3RMYXN0SWR4O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGxhc3RBc3NpZ25tZW50SWR4LCBjID0gdGhpcy5fZW50cmllcy5sZW5ndGg7IGkgPCBjOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByOiBBc3NpZ25tZW50ID0gdGhpcy5fZW50cmllc1tpXTtcblxuICAgICAgICAgICAgaWYgKHIubWFza2VkQnlJZHggPT09IHJlY0lkeCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5zZXQoci5zcmVjLmtleSwgci52YWwpO1xuICAgICAgICAgICAgICAgIHIubWFza2VkQnlJZHggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBfY2hlY2tNYXRjaChtYXRjaDogTWF0Y2hSZXN1bHQsIGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZCB7XG4gICAgICAgIG1hdGNoLl9jaGVja01hdGNoKHRoaXMuX3ZhbHVlcywgdGhpcy5fbWV0YSk7XG4gICAgfVxuXG4gICAgZmluZExhc3RBc3NpZ25tZW50T2ZLZXkoa2V5OiBzdHJpbmcpOiBudW1iZXIge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5fZW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IHJlYzogQXNzaWdubWVudCA9IHRoaXMuX2VudHJpZXNbaV07XG4gICAgICAgICAgICBpZiAocmVjLnNyZWMua2V5ID09PSBrZXkgJiYgcmVjLm1hc2tlZEJ5SWR4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIGZpbmRMYXN0QXNzaWdubWVudE9mS2V5V2l0aFZhbHVlKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogbnVtYmVyIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuX2VudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCByZWM6IEFzc2lnbm1lbnQgPSB0aGlzLl9lbnRyaWVzW2ldO1xuICAgICAgICAgICAgaWYgKHJlYy5zcmVjLmtleSA9PT0ga2V5ICYmICF0aGlzLl9pc05ld1ZhbHVlKHJlYy52YWwsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHdlIGhhdmUgdmFsdWUgbWlycm9yaW5nIChwcm9wZXJ0eSB0byBjb250ZXh0KSB0byBkbyBEeW5hbWljIHByb3BlcnR5IG1pcnJvcmluZyB3aWxsXG4gICAgICogYmUgYWRkZWQgdG8gdGhlIGN1cnJlbnRBY3RpdmF0aW9uIGRlZmVycmVkQXNzaWdubWVudCBsaXN0XG4gICAgICpcbiAgICAgKi9cbiAgICBfY2hlY2tBcHBseVByb3BlcnRpZXMoKTogYm9vbGVhbiB7XG5cbiAgICAgICAgbGV0IGRpZFNldCA9IGZhbHNlO1xuICAgICAgICBsZXQgbnVtRW50cmllcyA9IDA7XG4gICAgICAgIGxldCBsYXN0U2l6ZSA9IDA7XG4gICAgICAgIGxldCBkZWNsYXJlS2V5OiBzdHJpbmcgPSB0aGlzLl9pbkRlY2xhcmUoKSA/IHRoaXMuX3ZhbHVlcy5nZXQoTWV0YS5LZXlEZWNsYXJlKSA6IG51bGw7XG5cbiAgICAgICAgd2hpbGUgKChudW1FbnRyaWVzID0gdGhpcy5fZW50cmllcy5sZW5ndGgpID4gbGFzdFNpemUpIHtcbiAgICAgICAgICAgIGxhc3RTaXplID0gbnVtRW50cmllcztcbiAgICAgICAgICAgIGxldCByZWM6IEFzc2lnbm1lbnQgPSB0aGlzLl9lbnRyaWVzW251bUVudHJpZXMgLSAxXTtcbiAgICAgICAgICAgIGxldCBwcm9wZXJ0aWVzOiBQcm9wZXJ0eU1hcCA9IHJlYy5zcmVjLnByb3BlcnRpZXMoKTtcblxuICAgICAgICAgICAgbGV0IGNvbnRleHRLZXlzOiBBcnJheTxQcm9wZXJ0eU1hbmFnZXI+ID0gcHJvcGVydGllcy5jb250ZXh0S2V5c1VwZGF0ZWQ7XG5cbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQoY29udGV4dEtleXMpKSB7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgYyA9IGNvbnRleHRLZXlzLmxlbmd0aDsgaSA8IGM7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBwcm9wTWdyOiBQcm9wZXJ0eU1hbmFnZXIgPSBjb250ZXh0S2V5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGtleTogc3RyaW5nID0gcHJvcE1nci5fbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJlc2VudChkZWNsYXJlS2V5KSAmJiBrZXkgPT09IGRlY2xhcmVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFRvRG86IGFwcGx5aW5nIHJlc29sdmVkIHZhbHVlIC0tIG5lZWQgdG8gZGVmZXIgcmVzb2x1dGlvbiBvbiB0cnVlIGR5bmFtaWNcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFsdWVzIFN1cHByZXNzIGNoYWluZWQgYXNzaWdubWVudCBpZjogMSkgT3VyIHBhcmVudCB3aWxsIGFzc2lnbiB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb3BlcnR5IChoYXMgYSBkZWZlcnJlZCBhY3RpdmF0aW9uIGZvciBpdCksIG9yIDIpIFRoZXJlJ3MgYWxyZWFkeSBhXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoaW5nIGFzc2lnbm1lbnQgd2l0aCBoaWdoZXIgc2FsaWVuY2VcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1ZhbCA9IHRoaXMuc3RhdGljYWxseVJlc29sdmVWYWx1ZShwcm9wZXJ0aWVzLmdldChrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByZXZQcm9wczogUHJvcGVydHlNYXA7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHN1cHByZXNzOiBib29sZWFuID0gKGlzUHJlc2VudChwcmV2UHJvcHMpICYmIHByZXZQcm9wcy5oYXMoa2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgIXRoaXMuX2lzTmV3VmFsdWUodGhpcy5zdGF0aWNhbGx5UmVzb2x2ZVZhbHVlKHByZXZQcm9wcy5nZXQoa2V5KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLl9jdXJyZW50QWN0aXZhdGlvbi5fcGFyZW50Lmhhc0RlZmVycmVkQXNzaWdubWVudEZvcktleShrZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogJiYgdGhpcy5fdmFsdWVzLmNvbnRhaW5zS2V5KGtleSkgKi8pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3VwcHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtaXJyb3JLZXkgPSBwcm9wTWdyLl9rZXlEYXRhVG9TZXQuX2tleTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWwgaW5zdGFuY2VvZiBEeW5hbWljUHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByaW50KCcoZGVmZXJyZWQpIGNoYWluaW5nIGtleTogJyAsIHByb3BNZ3IuX2tleURhdGFUb1NldC5fa2V5KTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEFjdGl2YXRpb24uYWRkRGVmZXJyZWRBc3NpZ25tZW50KG1pcnJvcktleSwgbmV3VmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tcGFyZSB0aGlzIHZhbHVlIHRvIHRoZSB2YWx1ZSBmcm9tIHRoZSBlbmQgb2YgdGhlIGxhc3QgZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcmludCgnY2hhaW5pbmcga2V5OiAnICwgcHJvcE1nci5fa2V5RGF0YVRvU2V0Ll9rZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zZXQyKG1pcnJvcktleSwgbmV3VmFsLCBuZXdWYWwsIGZhbHNlLCB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWRTZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByaW50KCdTVVBQUkVTU0VEIGNoYWluaW5nIGtleTogJyAsIHByb3BNZ3IuX2tleURhdGFUb1NldC5fa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlkU2V0O1xuICAgIH1cblxuXG4gICAgYXBwbHlQcm9wZXJ0eUNvbnRleHRBbmRDaGFpbigpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuX2NoZWNrUHJvcGVydHlDb250ZXh0KCkpIHtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLl9jaGVja0FwcGx5UHJvcGVydGllcygpKSB7XG4gICAgICAgICAgICAgICAgLyogcmVwZWF0ICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIF9jdXJyZW50UHJvcGVydHlTY29wZUtleSgpOiBzdHJpbmcge1xuICAgICAgICBsZXQgZm91bmRLZXk6IHN0cmluZztcbiAgICAgICAgbGV0IGZvdW5kQWN0aXZhdGlvbjogQWN0aXZhdGlvbjtcblxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5fZW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IHJlYzogQXNzaWdubWVudCA9IHRoaXMuX2VudHJpZXNbaV07XG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KGZvdW5kQWN0aXZhdGlvbikgJiYgcmVjLnNyZWMuYWN0aXZhdGlvbiAhPT0gZm91bmRBY3RpdmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fbWV0YS5rZXlEYXRhKHJlYy5zcmVjLmtleSkuaXNQcm9wZXJ0eVNjb3BlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWMuc3JlYy5mcm9tQ2hhaW5pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYy5zcmVjLmtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZm9yIGNoYWluaW5nIGFzc2lnbm1lbnRzLCB3ZSBrZWVwIGxvb2tpbmcgdW50aWwgd2UgZXhoYXVzdCB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAvLyBub24tY2hhaW5pbmcgYWN0aXZhdGlvbiBUb2RvOiBicm9rZW4gLS0gZGlzYWJsaW5nIHNldCBvZiBjb250ZXh0IGtleSBmcm9tXG4gICAgICAgICAgICAgICAgLy8gY2hhaW5pbmcgaWYgKGZvdW5kS2V5ID09PSBudWxsKSBmb3VuZEtleSA9IHNjb3BlS2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzUHJlc2VudChmb3VuZEtleSkgJiYgIXJlYy5zcmVjLmZyb21DaGFpbmluZykge1xuICAgICAgICAgICAgICAgIGZvdW5kQWN0aXZhdGlvbiA9IHJlYy5zcmVjLmFjdGl2YXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvdW5kS2V5O1xuXG4gICAgfVxuXG5cbiAgICAvLyBBcHBseSBhICdwcm9wZXJ0eSBjb250ZXh0JyBwcm9wZXJ0eSAoZS5nLiBmaWVsZF9wIGZvciBmaWVsZCkgdG8gdGhlIGNvbnRleHQgaWYgbmVjZXNzYXJ5XG4gICAgX2NoZWNrUHJvcGVydHlDb250ZXh0KCk6IGJvb2xlYW4ge1xuICAgICAgICBhc3NlcnQodGhpcy5fdmFsdWVzIGluc3RhbmNlb2YgTmVzdGVkTWFwLCAnUHJvcGVydHkgYXNzaWdubWVudCBvbiBiYXNlIG1hcD8nKTtcbiAgICAgICAgbGV0IHNjb3BlS2V5OiBzdHJpbmcgPSB0aGlzLl9jdXJyZW50UHJvcGVydHlTY29wZUtleSgpO1xuICAgICAgICBpZiAoaXNQcmVzZW50KHNjb3BlS2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NldDIoTWV0YS5TY29wZUtleSwgc2NvcGVLZXksIHNjb3BlS2V5LCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIGRlYnVnKCk6IHZvaWQge1xuICAgICAgICAvLyBzZXQgZGVidWdnZXIgYnJlYWtwb2ludCBoZXJlXG4gICAgICAgIHByaW50KCcqKioqKiogIERlYnVnIENhbGwgKioqKioqJyk7XG4gICAgICAgIHRoaXMuX2xvZ0NvbnRleHQoKTtcbiAgICB9XG5cblxuICAgIGRlYnVnU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIGxldCBidWZmZXIgPSBuZXcgU3RyaW5nSm9pbmVyKFsnPGI+Q29udGV4dDo8L2I+Jm5ic3A7J10pO1xuXG4gICAgICAgIGJ1ZmZlci5hZGQoJygmbmJzcDsnKTtcbiAgICAgICAgYnVmZmVyLmFkZCh0aGlzLl9lbnRyaWVzLmxlbmd0aCArICcnKTtcbiAgICAgICAgYnVmZmVyLmFkZCgnIGVudHJpZXMnKTtcbiAgICAgICAgYnVmZmVyLmFkZCgnJm5ic3A7KTxici8+Jyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGMgPSB0aGlzLl9lbnRyaWVzLmxlbmd0aDsgaSA8IGM7IGkrKykge1xuICAgICAgICAgICAgbGV0IHNwID0gaTtcbiAgICAgICAgICAgIHdoaWxlIChzcC0tID4gMCkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5hZGQoJyZuYnNwOycpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGxldCByOiBBc3NpZ25tZW50ID0gdGhpcy5fZW50cmllc1tpXTtcblxuICAgICAgICAgICAgYnVmZmVyLmFkZCgnJm5ic3A7Jyk7XG4gICAgICAgICAgICBidWZmZXIuYWRkKHIuc3JlYy5rZXkpO1xuICAgICAgICAgICAgYnVmZmVyLmFkZCgnJm5ic3A7Jm5ic3A7OiZuYnNwOycpO1xuICAgICAgICAgICAgYnVmZmVyLmFkZChyLnNyZWMudmFsKTtcbiAgICAgICAgICAgIGJ1ZmZlci5hZGQoKHIuc3JlYy5mcm9tQ2hhaW5pbmcgPyAnIF4nIDogJycpKTtcbiAgICAgICAgICAgIGJ1ZmZlci5hZGQoKHIubWFza2VkQnlJZHggIT09IDAgPyAnIFgnIDogJycpKTtcbiAgICAgICAgICAgIGJ1ZmZlci5hZGQoJzxici8+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcHJvcGVydHlBY3RpdmF0aW9uOiBBY3RpdmF0aW9uID0gdGhpcy5jdXJyZW50QWN0aXZhdGlvbi5fcHJvcGVydHlBY3RpdmF0aW9uO1xuICAgICAgICBpZiAoaXNQcmVzZW50KHByb3BlcnR5QWN0aXZhdGlvbikpIHtcbiAgICAgICAgICAgIGxldCBzcmVjczogQXJyYXk8U3RhdGljUmVjPiA9IHByb3BlcnR5QWN0aXZhdGlvbi5fcmVjcztcblxuICAgICAgICAgICAgYnVmZmVyLmFkZCgnJm5ic3A7Jm5ic3A7Jm5ic3A7PGI+UHJvcGVydHlBY3RpdmF0aW9uLi4uPC9iPjxici8+Jyk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBjID0gc3JlY3MubGVuZ3RoOyBpIDwgYzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNwID0gaSArIHRoaXMuX2VudHJpZXMubGVuZ3RoICsgMTtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChzcC0tID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXIuYWRkKCcmbmJzcDsmbmJzcDsnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHI6IFN0YXRpY1JlYyA9IHNyZWNzW2ldO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5hZGQoci5rZXkpO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5hZGQoJyZuYnNwOyZuYnNwOzombmJzcDsnKTtcbiAgICAgICAgICAgICAgICBidWZmZXIuYWRkKHIudmFsKTtcbiAgICAgICAgICAgICAgICBidWZmZXIuYWRkKChyLmZyb21DaGFpbmluZyA/ICcmbmJzcDsmbmJzcDsnIDogJyZuYnNwOyZuYnNwOyEnKSk7XG4gICAgICAgICAgICAgICAgYnVmZmVyLmFkZCgnPGJyLz4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBidWZmZXIuYWRkKCcmbmJzcDs8YnIvPjxiPlByb3BzOjwvYj48YnIvPicpO1xuICAgICAgICB0aGlzLndyaXRlUHJvcGVydGllcyhidWZmZXIsIHRoaXMuYWxsUHJvcGVydGllcygpLCAxLCBmYWxzZSk7XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlci50b1N0cmluZygpO1xuICAgIH1cblxuICAgIF9sb2dDb250ZXh0KCk6IHZvaWQge1xuICAgICAgICBsZXQgZGVidWdTdHJpbmc6IHN0cmluZyA9IHRoaXMuZGVidWdTdHJpbmcoKTtcbiAgICAgICAgcHJpbnQoZGVidWdTdHJpbmcpO1xuICAgICAgICBwcmludCgnXFxuJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB3cml0ZVByb3BlcnRpZXMoYnVmOiBTdHJpbmdKb2luZXIsIHByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueT4sIGxldmVsOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlTGluZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBNYXBXcmFwcGVyLml0ZXJhYmxlKHByb3BlcnRpZXMpLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGlmICghc2luZ2xlTGluZSkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChsZXZlbC0tID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBidWYuYWRkKCcmbmJzcDsmbmJzcDsmbmJzcDsnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNCbGFuayh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBidWYuYWRkKGtleSk7XG4gICAgICAgICAgICAgICAgYnVmLmFkZCgnIDpudWxsJyk7XG4gICAgICAgICAgICAgICAgYnVmLmFkZChzaW5nbGVMaW5lID8gJzsmbmJzcDsmbmJzcDsnIDogJzs8YnIvPicpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ1Zi5hZGQoJyZuYnNwOyZuYnNwOyZuYnNwOycpO1xuICAgICAgICAgICAgICAgIGJ1Zi5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICBidWYuYWRkKCc6Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcodmFsdWUpIHx8IGlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBidWYuYWRkKCcmbmJzcDsmbmJzcDsnKTtcbiAgICAgICAgICAgICAgICAgICAgYnVmLmFkZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zi5hZGQoJyZuYnNwOyZuYnNwOycpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1N0cmluZ01hcCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmLmFkZCgneycpO1xuICAgICAgICAgICAgICAgICAgICBidWYuYWRkKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnVmLmFkZCgnfScpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEV4cHIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmLmFkZCh2YWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zi5hZGQoTWFwV3JhcHBlci50b1N0cmluZyh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgTGlzdFdyYXBwZXIudG9TdHJpbmcodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE92ZXJyaWRlVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmLmFkZCh2YWx1ZS50b1N0cmluZygpKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBGaWVsZFBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmLmFkZCgnJCcpO1xuICAgICAgICAgICAgICAgICAgICBidWYuYWRkKHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzaW5nbGVMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zi5hZGQoJzsnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBidWYuYWRkKCc8YnIvPicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIGxhc3RNYXRjaFdpdGhvdXRDb250ZXh0UHJvcHMoKSB7XG4gICAgICAgIHJldHVybiBMaXN0V3JhcHBlci5pc0VtcHR5KFxuICAgICAgICAgICAgdGhpcy5fZW50cmllcykgPyBudWxsIDogdGhpcy5fZW50cmllc1t0aGlzLl9lbnRyaWVzLmxlbmd0aCAtIDFdLnNyZWMubWF0Y2g7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIGxhc3RNYXRjaCgpIHtcbiAgICAgICAgaWYgKExpc3RXcmFwcGVyLmlzRW1wdHkodGhpcy5fZW50cmllcykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtYXRjaDogTWF0Y2hSZXN1bHQgPSBMaXN0V3JhcHBlci5sYXN0PEFzc2lnbm1lbnQ+KHRoaXMuX2VudHJpZXMpXG4gICAgICAgICAgICAucHJvcGVydHlMb2NhbE1hdGNoZXModGhpcyk7XG4gICAgICAgIHJldHVybiAoaXNQcmVzZW50KG1hdGNoKSkgPyBtYXRjaCA6IHRoaXMubGFzdE1hdGNoV2l0aG91dENvbnRleHRQcm9wcygpO1xuXG4gICAgfVxuXG4gICAgbGFzdFN0YXRpY1JlYygpOiBTdGF0aWNSZWMge1xuICAgICAgICBpZiAoTGlzdFdyYXBwZXIuaXNFbXB0eSh0aGlzLl9lbnRyaWVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlYzogU3RhdGljUmVjID0gTGlzdFdyYXBwZXIubGFzdCh0aGlzLl9lbnRyaWVzKS5wcm9wZXJ0eUxvY2FsU3RhdGljUmVjKHRoaXMpO1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHJlYykgPyByZWMgOiBMaXN0V3JhcHBlci5sYXN0KHRoaXMuX2VudHJpZXMpLnNyZWM7XG4gICAgfVxuXG5cbiAgICBnZXQgcmVjUG9vbCgpOiBBcnJheTxBc3NpZ25tZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWNQb29sO1xuICAgIH1cblxuXG4gICAgZ2V0IGN1cnJlbnRBY3RpdmF0aW9uKCk6IEFjdGl2YXRpb24ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudEFjdGl2YXRpb247XG4gICAgfVxuXG5cbiAgICBleHRlbmRlZEZpZWxkcygpOiBNYXA8c3RyaW5nLCBhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzO1xuICAgIH1cbn1cblxuXG4vKipcbiAqIEEgc2hhcmFibGUvcmUtYXBwbGljYWJsZSBibG9jayBvZiBzZXRTY29wZUtleUFzc2lnbm1lbnQgX1N0YXRpY1JlY3MuICBBbiBBY3RpdmF0aW9uIGNvbnRhaW5zXG4gKiB0aGUgbGlzdCBvZiBhc3NpZ25tZW50IHJlY29yZHMgcmVzdWx0aW5nIGZyb20gKGNoYWluaW5nIGZyb20pIGEgc2luZ2xlIG9yaWdpbmFsXG4gKiBhc3NpZ25tZW50IChhcyB3ZWxsIGFzIF9EZWZlcnJlZEFzc2lnbm1lbnQgcmVjb3JkcyBmb3IgZHluYW1pYyB2YWx1ZXMgdGhhdCBjYW5ub3RcbiAqIGJlIHN0YXRpY2FsbHkgcmVzb2x2ZWQgdG8gcmVjb3JkcykuICBBY3RpdmF0aW9ucyBmb3JtIGEgc2hhcmVkL2NhY2hlZCB0cmVlLCBiYXNlZFxuICogb24gY29udGV4dCBhc3NpZ25tZW50IHBhdGhzIHByZXZpb3VzbHkgdHJhdmVyc2VkIHZpYSBhc3NpZ25tZW50cyB0byBzb21lIENvbnRleHQuXG4gKiBTdWJzZXF1ZW50IHRyYXZlcnNhbHMgb2YgdGhlc2UgcGF0aHMgKGxpa2VseSBieSBkaWZmZXJlbnQgQ29udGV4dCBpbnN0YW5jZXMpXG4gKiBhcmUgZ3JlYXRseSBvcHRpbWl6ZWQ6IGFuIGV4aXN0aW5nIEFjdGl2YXRpb24gaXMgcmV0cmlldmVkIGFuZCBpdHMgcmVjb3JkcyBhcHBlbmRlZFxuICogdG8gdGhlIGNvbnRleHQncyBfZW50cmllcyBzdGFjazsgYWxsIG9mIHRoZSB0cmFkaXRpb25hbCBjb21wdXRhdGlvbiBvZiBydWxlIG1hdGNoIGxvb2t1cHMsXG4gKiBjaGFpbmVkIGFzc2lnbm1lbnRzIGFuZCBvdmVycmlkZSBpbmRleGVzIGlzIGJ5cGFzc2VkLlxuICogQWN0aXZhdGlvbiBnaXZlcyBzcGVjaWFsIHRyZWF0bWVudCB0byB0aGUgJ3Byb3BlcnR5QWN0aXZhdGlvbicsIGkuZS4gdGhlIGFjdGl2YXRpb25cbiAqIHJlc3VsdGluZyBmcm9tIHRoZSBhcHBsaWNhdGlvbiBvZiB0aGUgJ3Njb3BlS2V5JyB0byB0aGUgY3VycmVudCBjb250ZXh0LiAgUHJvcGVydHkgbG9va3VwXG4gKiBmb2xsb3dpbmcgYW5kIGNvbnRleHQgYXNzaWdubWVudCByZXF1aXJlIGFwcGxpY2F0aW9uIG9mIHRoZSBzY29wZUtleSwgYnV0IHRoZW4gdGhlIHNjb3BlIGtleVxuICogbXVzdCBpbW1lZGlhdGVseSBiZSBwb3BwZWQgZm9yIHRoZSBuZXh0IGNvbnRleHQgYXNzaWdubWVudC4gIFRvIGF2b2lkIHRoaXMgY29uc3RhbnQgcHVzaC9wb3BcbiAqIG9uIHRoZSBib3R0b20gb2YgdGhlIHN0YWNrLCBfQWN0aXZhdGlvbnMgY2FjaGUgYSBzaWRlIGFjdGl2YXRpb24gKHRoZSBwcm9wZXJ0eUFjdGl2YXRpb24pXG4gKiBmb3IgdGhlIHJlc3VsdCBvZiBhcHBseWluZyB0aGUgc2NvcGVLZXkgdG8gdGhlIGN1cnJlbnQgYWN0aXZhdGlvbi4gIFRoaXMgc3RhY2sgKGFuZCBpdHNcbiAqIHByb3BlcnRpZXMpIGFyZSBjYWNoZWQgb24gdGhlIHNpZGUsIGFuZCBjYW4gYmUgYWNjZXNzZWQgd2l0aG91dCBhY3R1YWxseSBtb2RpZnlpbmcgdGhlIG1haW5cbiAqIGNvbnRleHQgc3RhY2suXG4gKi9cblxuZXhwb3J0IGNsYXNzIEFjdGl2YXRpb24ge1xuXG4gICAgX3JlY3M6IEFycmF5PFN0YXRpY1JlYz4gPSBuZXcgQXJyYXk8U3RhdGljUmVjPigpO1xuICAgIF9vcmlnRW50cnlDb3VudDogbnVtYmVyID0gMDtcbiAgICBfdmFsdWVOb2RlTWFwQnlDb250ZXh0S2V5OiBNYXA8c3RyaW5nLCBDb2xsZWN0aW9ucy5EaWN0aW9uYXJ5PGFueSwgYW55Pj47XG4gICAgX3ZhbHVlTm9kZU1hcEJ5Q29udGV4dEtleUNoYWluaW5nOiBNYXA8c3RyaW5nLCBDb2xsZWN0aW9ucy5EaWN0aW9uYXJ5PGFueSwgYW55Pj47XG5cbiAgICBfcHJvcGVydHlBY3RpdmF0aW9uOiBBY3RpdmF0aW9uO1xuICAgIF9uZXN0ZWRWYWx1ZXM6IE5lc3RlZE1hcDxzdHJpbmcsIGFueT47XG4gICAgZGVmZXJyZWRBc3NpZ25tZW50czogQXJyYXk8RGVmZXJyZWRBc3NpZ25tZW50PjtcblxuXG4gICAgY29uc3RydWN0b3IocHVibGljIF9wYXJlbnQ/OiBBY3RpdmF0aW9uKSB7XG5cbiAgICB9XG5cbiAgICBnZXRDaGlsZEFjdGl2YXRpb24oY29udGV4dEtleTogc3RyaW5nLCB2YWx1ZTogYW55LCBjaGFpbmluZzogYm9vbGVhbik6IEFjdGl2YXRpb24ge1xuICAgICAgICBpZiAoaXNCbGFuayh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gTWV0YS5OdWxsTWFya2VyO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJ5S2V5OiBNYXA8c3RyaW5nLCBDb2xsZWN0aW9ucy5EaWN0aW9uYXJ5PGFueSwgYW55Pj4gPSAoY2hhaW5pbmcpXG4gICAgICAgICAgICA/IHRoaXMuX3ZhbHVlTm9kZU1hcEJ5Q29udGV4dEtleUNoYWluaW5nIDpcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlTm9kZU1hcEJ5Q29udGV4dEtleTtcblxuICAgICAgICBpZiAoaXNCbGFuayhieUtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBieVZhbDogQ29sbGVjdGlvbnMuRGljdGlvbmFyeTxhbnksIGFueT4gPSBieUtleS5nZXQoY29udGV4dEtleSk7XG4gICAgICAgIHJldHVybiAoaXNCbGFuayhieVZhbCkpID8gbnVsbCA6IGJ5VmFsLmdldFZhbHVlKHZhbHVlKTtcbiAgICB9XG5cbiAgICBjYWNoZUNoaWxkQWN0aXZhdGlvbihjb250ZXh0S2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIGFjdGl2YXRpb246IEFjdGl2YXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5pbmc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKGlzQmxhbmsodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IE1ldGEuTnVsbE1hcmtlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBieUtleTogTWFwPHN0cmluZywgQ29sbGVjdGlvbnMuRGljdGlvbmFyeTxhbnksIGFueT4+O1xuICAgICAgICBpZiAoY2hhaW5pbmcpIHtcbiAgICAgICAgICAgIGlmIChpc0JsYW5rKChieUtleSA9IHRoaXMuX3ZhbHVlTm9kZU1hcEJ5Q29udGV4dEtleUNoYWluaW5nKSkpIHtcbiAgICAgICAgICAgICAgICBieUtleSA9IHRoaXMuX3ZhbHVlTm9kZU1hcEJ5Q29udGV4dEtleUNoYWluaW5nXG4gICAgICAgICAgICAgICAgICAgID0gbmV3IE1hcDxzdHJpbmcsIENvbGxlY3Rpb25zLkRpY3Rpb25hcnk8YW55LCBhbnk+PigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzQmxhbmsoKGJ5S2V5ID0gdGhpcy5fdmFsdWVOb2RlTWFwQnlDb250ZXh0S2V5KSkpIHtcbiAgICAgICAgICAgICAgICBieUtleSA9IHRoaXMuX3ZhbHVlTm9kZU1hcEJ5Q29udGV4dEtleVxuICAgICAgICAgICAgICAgICAgICA9IG5ldyBNYXA8c3RyaW5nLCBDb2xsZWN0aW9ucy5EaWN0aW9uYXJ5PGFueSwgYW55Pj4oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJ5VmFsOiBDb2xsZWN0aW9ucy5EaWN0aW9uYXJ5PGFueSwgYW55PiA9IGJ5S2V5LmdldChjb250ZXh0S2V5KTtcbiAgICAgICAgaWYgKGlzQmxhbmsoYnlWYWwpKSB7XG4gICAgICAgICAgICBieVZhbCA9IG5ldyBDb2xsZWN0aW9ucy5EaWN0aW9uYXJ5PGFueSwgYW55PigpO1xuICAgICAgICAgICAgYnlLZXkuc2V0KGNvbnRleHRLZXksIGJ5VmFsKTtcbiAgICAgICAgfVxuICAgICAgICBieVZhbC5zZXRWYWx1ZSh2YWx1ZSwgYWN0aXZhdGlvbik7XG4gICAgfVxuXG4gICAgYWRkRGVmZXJyZWRBc3NpZ25tZW50KGtleTogc3RyaW5nLCB2YWx1ZTogRHluYW1pY1Byb3BlcnR5VmFsdWUpOiB2b2lkIHtcbiAgICAgICAgbGV0IG5ld0RhOiBEZWZlcnJlZEFzc2lnbm1lbnQ7XG5cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5kZWZlcnJlZEFzc2lnbm1lbnRzKSkge1xuICAgICAgICAgICAgdGhpcy5kZWZlcnJlZEFzc2lnbm1lbnRzID0gbmV3IEFycmF5PERlZmVycmVkQXNzaWdubWVudD4oKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgZGEgb2YgdGhpcy5kZWZlcnJlZEFzc2lnbm1lbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0RhID0gZGE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNCbGFuayhuZXdEYSkpIHtcbiAgICAgICAgICAgIG5ld0RhID0gbmV3IERlZmVycmVkQXNzaWdubWVudCgpO1xuICAgICAgICAgICAgbmV3RGEua2V5ID0ga2V5O1xuICAgICAgICAgICAgdGhpcy5kZWZlcnJlZEFzc2lnbm1lbnRzLnB1c2gobmV3RGEpO1xuICAgICAgICB9XG4gICAgICAgIG5ld0RhLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgaGFzRGVmZXJyZWRBc3NpZ25tZW50Rm9yS2V5KGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5kZWZlcnJlZEFzc2lnbm1lbnRzKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgZGEgb2YgdGhpcy5kZWZlcnJlZEFzc2lnbm1lbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJvcGVydHlBY3RpdmF0aW9uKGNvbnRleHQ6IENvbnRleHQpOiBBY3RpdmF0aW9uIHtcbiAgICAgICAgYXNzZXJ0KGNvbnRleHQuY3VycmVudEFjdGl2YXRpb24gPT09IHRoaXMsXG4gICAgICAgICAgICAnUHJvcGVydHlBY3RpdmF0aW9uIHNvdWdodCBvbiBub24gdG9wIG9mIHN0YWNrIGFjdGl2YXRpb24nKTtcblxuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLl9wcm9wZXJ0eUFjdGl2YXRpb24pKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0eUFjdGl2YXRpb24gPSBjb250ZXh0Ll9jcmVhdGVOZXdQcm9wZXJ0eUNvbnRleHRBY3RpdmF0aW9uKHRoaXMpO1xuXG4gICAgICAgICAgICBpZiAoaXNCbGFuayh0aGlzLl9wcm9wZXJ0eUFjdGl2YXRpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvcGVydHlBY3RpdmF0aW9uID0gdGhpcztcbiAgICAgICAgICAgIH0gLy8gdGhpcyBhcyBudWxsIG1hcmtlclxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0eUFjdGl2YXRpb24gIT09IHRoaXMgPyB0aGlzLl9wcm9wZXJ0eUFjdGl2YXRpb24gOiBudWxsO1xuICAgIH1cblxuXG4gICAgZmluZEV4aXN0aW5nUHJvcGVydHlBY3RpdmF0aW9uKCk6IEFjdGl2YXRpb24ge1xuICAgICAgICBsZXQgYWN0aXZhdGlvbjogQWN0aXZhdGlvbiA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChpc1ByZXNlbnQoYWN0aXZhdGlvbikpIHtcblxuICAgICAgICAgICAgbGV0IHByb3BlcnR5QWN0aXZhdGlvbjogQWN0aXZhdGlvbiA9IGFjdGl2YXRpb24uX3Byb3BlcnR5QWN0aXZhdGlvbjtcblxuICAgICAgICAgICAgaWYgKGlzUHJlc2VudChwcm9wZXJ0eUFjdGl2YXRpb24pICYmIHByb3BlcnR5QWN0aXZhdGlvbiAhPT0gYWN0aXZhdGlvblxuICAgICAgICAgICAgICAgICYmICEoaXNCbGFuayhwcm9wZXJ0eUFjdGl2YXRpb24uX3JlY3MpIHx8IExpc3RXcmFwcGVyLmlzRW1wdHkoXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5QWN0aXZhdGlvbi5fcmVjcykpKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcGVydHlBY3RpdmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWN0aXZhdGlvbiA9IGFjdGl2YXRpb24uX3BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cblxuICAgIC8vIHRvZG86IGJldHRlciBiZXR0ZXIgdG8gc3RyaW5nIGZvciBoYXNoaW5nXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIENvbGxlY3Rpb25zLnV0aWwubWFrZVN0cmluZyh0aGlzKTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIERlZmVycmVkQXNzaWdubWVudCB7XG4gICAga2V5OiBzdHJpbmc7XG4gICAgdmFsdWU6IER5bmFtaWNQcm9wZXJ0eVZhbHVlO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBBc3NpZ25tZW50U25hcHNob3Qge1xuICAgIGtleTogc3RyaW5nO1xuICAgIHZhbHVlOiBhbnk7XG4gICAgc2FsaWVuY2U6IG51bWJlcjtcblxufVxuXG5leHBvcnQgY2xhc3MgQXNzaWdubWVudCB7XG4gICAgc3JlYzogU3RhdGljUmVjO1xuICAgIHZhbDogT2JqZWN0O1xuXG4gICAgbWFza2VkQnlJZHg6IG51bWJlciA9IDA7XG4gICAgX2RpZEluaXRQcm9wQ29udGV4dDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIF9wcm9wZXJ0eUxvY2FsU3JlYzogU3RhdGljUmVjO1xuICAgIF9wcm9wZXJ0eUxvY2FsVmFsdWVzOiBNYXA8c3RyaW5nLCBhbnk+O1xuXG5cbiAgICBwcm9wZXJ0eUxvY2FsTWF0Y2hlcyhjb250ZXh0OiBDb250ZXh0KTogTWF0Y2hSZXN1bHQge1xuICAgICAgICBpZiAoIXRoaXMuX2RpZEluaXRQcm9wQ29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5pbml0UHJvcENvbnRleHQoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLl9wcm9wZXJ0eUxvY2FsU3JlYykgPyB0aGlzLl9wcm9wZXJ0eUxvY2FsU3JlYy5tYXRjaCA6IG51bGw7XG4gICAgfVxuXG4gICAgcHJvcGVydHlMb2NhbFN0YXRpY1JlYyhjb250ZXh0OiBDb250ZXh0KTogU3RhdGljUmVjIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kaWRJbml0UHJvcENvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdFByb3BDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0eUxvY2FsU3JlYztcbiAgICB9XG5cbiAgICBwcm9wZXJ0eUxvY2FsVmFsdWVzKGNvbnRleHQ6IENvbnRleHQpOiBNYXA8c3RyaW5nLCBhbnk+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9kaWRJbml0UHJvcENvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdFByb3BDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0eUxvY2FsVmFsdWVzO1xuICAgIH1cblxuXG4gICAgaW5pdFByb3BDb250ZXh0KGNvbnRleHQ6IENvbnRleHQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fZGlkSW5pdFByb3BDb250ZXh0ID0gdHJ1ZTtcbiAgICAgICAgYXNzZXJ0KCFDb250ZXh0Ll9FeHBlbnNpdmVDb250ZXh0Q29uc2lzdGVuY3lDaGVja3NFbmFibGVkIHx8IExpc3RXcmFwcGVyLmxhc3QoXG4gICAgICAgICAgICBjb250ZXh0Ll9lbnRyaWVzKSA9PT0gdGhpcyxcbiAgICAgICAgICAgICdpbml0aW5nIHByb3AgY29udGV4dCBvbiByZWNvcmQgbm90IG9uIHRvcCBvZiBzdGFjaycpO1xuXG4gICAgICAgIC8vIFRvZG86IGJhc2UgaXQgb24gd2hldGhlciB3ZSd2ZSB0cmllcyB5ZXQgdG8gcHJvY2VzcyB0aGVtLlxuXG4gICAgICAgIGxldCBwcm9wQWN0aXZhdGlvbjogQWN0aXZhdGlvbiA9ICh0aGlzLnNyZWMuYWN0aXZhdGlvbi5wcm9wZXJ0eUFjdGl2YXRpb24oY29udGV4dCkpO1xuICAgICAgICBpZiAoaXNQcmVzZW50KHByb3BBY3RpdmF0aW9uKSkge1xuICAgICAgICAgICAgY29udGV4dC5fYXBwbHlQcm9wZXJ0eUFjdGl2YXRpb24ocHJvcEFjdGl2YXRpb24sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICByZXNldCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zcmVjID0gbnVsbDtcbiAgICAgICAgdGhpcy52YWwgPSBudWxsO1xuICAgICAgICB0aGlzLm1hc2tlZEJ5SWR4ID0gMDtcbiAgICAgICAgdGhpcy5fZGlkSW5pdFByb3BDb250ZXh0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Byb3BlcnR5TG9jYWxTcmVjID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcHJvcGVydHlMb2NhbFZhbHVlcyA9IG51bGw7XG4gICAgfVxuXG59XG5cbi8qKlxuICogVGhlICdzdGF0aWMnIChzaGFyYWJsZSkgcGFydCBvZiBhIGNvbnRleHQgdmFsdWUgYXNzaWdubWVudCByZWNvcmQuXG4gKiBUaGVzZXMgYXJlIGNyZWF0ZWQgYnkgdGhlIGZpcnN0IF9Bc3NpZ25tZW50IHRoYXQgbmVlZHMgdGhlbVxuICogYW5kIHRoZW4gY2FjaGVkIGZvciByZS1hcHBsaWNhdGlvbiBpbiB0aGVpciBfQWN0aXZhdGlvblxuICogICh3aGljaCwgaW4gdHVybiwgaXMgc3RvcmVkIGluIHRoZSBnbG9iYWwgYWN0aXZhdGlvbiB0cmVlKVxuICovXG5leHBvcnQgY2xhc3MgU3RhdGljUmVjIHtcbiAgICBhY3RpdmF0aW9uOiBBY3RpdmF0aW9uO1xuICAgIHByaXZhdGUgX2tleTogc3RyaW5nO1xuICAgIHByaXZhdGUgX3ZhbDogYW55O1xuICAgIG1hdGNoOiBNYXRjaFJlc3VsdDtcbiAgICBzYWxpZW5jZTogbnVtYmVyID0gMDtcbiAgICBmcm9tQ2hhaW5pbmc6IGJvb2xlYW47XG4gICAgbGFzdEFzc2lnbm1lbnRJZHg6IG51bWJlciA9IDA7XG5cbiAgICBwcm9wZXJ0aWVzKCk6IFByb3BlcnR5TWFwIHtcbiAgICAgICAgcmV0dXJuIChpc1ByZXNlbnQodGhpcy5tYXRjaCkpID8gdGhpcy5tYXRjaC5wcm9wZXJ0aWVzKCkgOiBDb250ZXh0LkVtcHR5TWFwO1xuICAgIH1cblxuICAgIGdldCBrZXkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tleTtcbiAgICB9XG5cbiAgICBzZXQga2V5KHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fa2V5ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHZhbCgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsO1xuICAgIH1cblxuICAgIHNldCB2YWwodmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzLl92YWwgPSB2YWx1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eUFjY2Vzc29yIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY29udGV4dDogQ29udGV4dCkge1xuICAgIH1cblxuICAgIGdldChrZXk6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQucHJvcGVydHlGb3JLZXkoa2V5KTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gTWFwV3JhcHBlci50b1N0cmluZyh0aGlzLmNvbnRleHQuYWxsUHJvcGVydGllcygpKTtcbiAgICB9XG5cbn1cblxuLyoqXG4gKiBTbmFwc2hvdCBpcyB0aGUgd2F5IGhvdyB0byBjYXB0dXJlIGEgY3VycmVudCBzdGF0ZSBvZiB0aGUgY29udGV4dCBhbmQgdGhlbiByZXBsYXkgaXQgYmFjayBzby5cbiAqIGZvciBjYXNlcyB3aGVuIHdlIG5lZWQgdG8gcnVuIHNvbWUgcnVsZSBleGVjdXRpb24gb3V0c2lkZSBvZiB0aGUgcHVzaC9wb3AgY3ljbGVcbiAqL1xuZXhwb3J0IGNsYXNzIFNuYXBzaG90IHtcblxuICAgIF9tZXRhOiBNZXRhO1xuICAgIF9vcmlnQ2xhc3M6IHN0cmluZztcbiAgICBfYXNzaWdubWVudHM6IEFycmF5PEFzc2lnbm1lbnRTbmFwc2hvdD47XG4gICAgX2FsbEFzc2lnbm1lbnRzOiBBcnJheTxBc3NpZ25tZW50U25hcHNob3Q+O1xuICAgIF9pc05lc3RlZDogYm9vbGVhbjtcblxuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLl9tZXRhID0gX2NvbnRleHQubWV0YTtcbiAgICAgICAgdGhpcy5fb3JpZ0NsYXNzID0gX2NvbnRleHQuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgdGhpcy5fYXNzaWdubWVudHMgPSBfY29udGV4dC5hY3RpdmVBc3NpZ25tZW50cygpO1xuICAgICAgICB0aGlzLl9hbGxBc3NpZ25tZW50cyA9IF9jb250ZXh0LmFsbEFzc2lnbm1lbnRzKCk7XG4gICAgICAgIHRoaXMuX2lzTmVzdGVkID0gX2NvbnRleHQuaXNOZXN0ZWQ7XG5cbiAgICB9XG5cblxuICAgIGh5ZHJhdGUoc2hlbGxDb3B5OiBib29sZWFuID0gdHJ1ZSk6IENvbnRleHQge1xuICAgICAgICBsZXQgYXNzaWdubWVudHMgPSAoc2hlbGxDb3B5KSA/IHRoaXMuX2Fzc2lnbm1lbnRzIDogdGhpcy5fYWxsQXNzaWdubWVudHM7XG4gICAgICAgIGxldCBuZXdDb250ZXh0OiBDb250ZXh0ID0gdGhpcy5fbWV0YS5uZXdDb250ZXh0KCk7XG4gICAgICAgIG5ld0NvbnRleHQucHVzaCgpO1xuICAgICAgICBsZXQgbGFzdENueEdlbmVyYXRpb24gPSAxO1xuICAgICAgICBmb3IgKGxldCBhIG9mICBhc3NpZ25tZW50cykge1xuICAgICAgICAgICAgaWYgKGxhc3RDbnhHZW5lcmF0aW9uIDwgYS5zYWxpZW5jZSkge1xuICAgICAgICAgICAgICAgIG5ld0NvbnRleHQucHVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3Q29udGV4dC5zZXQoYS5rZXksIGEudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIG5ld0NvbnRleHQuaXNOZXN0ZWQgPSB0aGlzLl9pc05lc3RlZDtcbiAgICAgICAgcmV0dXJuIG5ld0NvbnRleHQ7XG4gICAgfVxuXG59XG5cblxuZXhwb3J0IGNsYXNzIE9iamVjdE1ldGFDb250ZXh0IGV4dGVuZHMgQ29udGV4dCB7XG4gICAgc3RhdGljIHJlYWRvbmx5IERlZmF1bHRMb2NhbGUgPSAnZW4nO1xuXG4gICAgcHJpdmF0ZSBfZm9ybWF0dGVyczogTWFwPHN0cmluZywgYW55PjtcblxuICAgIGNvbnN0cnVjdG9yKF9tZXRhOiBPYmplY3RNZXRhLCBuZXN0ZWQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBzdXBlcihfbWV0YSwgbmVzdGVkKTtcblxuICAgIH1cblxuXG4gICAgZ2V0IHZhbHVlKCk6IGFueSB7XG4gICAgICAgIGxldCBvYmogPSB0aGlzLm9iamVjdDtcblxuICAgICAgICBpZiAoaXNCbGFuayhvYmopKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmllbGRQYXRoID0gdGhpcy5maWVsZFBhdGgoKTtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudChmaWVsZFBhdGgpID8gZmllbGRQYXRoLmdldEZpZWxkVmFsdWUob2JqKSA6IHRoaXMucHJvcGVydHlGb3JLZXkoJ3ZhbHVlJyk7XG4gICAgfVxuXG5cbiAgICBzZXQgdmFsdWUodmFsOiBhbnkpIHtcbiAgICAgICAgbGV0IGZpZWxkUGF0aCA9IHRoaXMuZmllbGRQYXRoKCk7XG4gICAgICAgIGlmIChpc1ByZXNlbnQoZmllbGRQYXRoKSkge1xuICAgICAgICAgICAgYXNzZXJ0KGlzUHJlc2VudCh0aGlzLm9iamVjdCksICdDYWxsIHRvIHNldFZhbHVlKCkgd2l0aCBubyBjdXJyZW50IG9iamVjdCcpO1xuICAgICAgICAgICAgZmllbGRQYXRoLnNldEZpZWxkVmFsdWUodGhpcy5vYmplY3QsIHZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmFsbFByb3BlcnRpZXMoKS5nZXQoT2JqZWN0TWV0YS5LZXlWYWx1ZSk7XG4gICAgICAgICAgICBhc3NlcnQoaXNEeW5hbWljU2V0dGFibGUodmFsdWUpLCAnQ2FudCBzZXQgZGVyaXZlZCBwcm9wZXJ0eTogJyArIHZhbHVlKTtcblxuICAgICAgICAgICAgbGV0IHNldHRhYmxlOiBEeW5hbWljU2V0dGFibGVQcm9wZXJ0eVZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgICAgICgoPER5bmFtaWNTZXR0YWJsZVByb3BlcnR5VmFsdWU+dmFsdWUpKS5ldmFsdWF0ZVNldCh0aGlzLCB2YWwpO1xuICAgICAgICAgICAgc2V0dGFibGUuZXZhbHVhdGVTZXQodGhpcywgdmFsKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgZ2V0IG9iamVjdCgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMuZ2V0KE9iamVjdE1ldGEuS2V5T2JqZWN0KTtcbiAgICB9XG5cbiAgICBnZXQgZm9ybWF0dGVycygpOiBNYXA8c3RyaW5nLCBhbnk+IHtcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5fZm9ybWF0dGVycykpIHtcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1hdHRlcnMgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtYXR0ZXJzO1xuICAgIH1cblxuICAgIGZpZWxkUGF0aCgpOiBGaWVsZFBhdGgge1xuICAgICAgICBsZXQgcHJvcE1hcDogT2JqZWN0TWV0YVByb3BlcnR5TWFwID0gPE9iamVjdE1ldGFQcm9wZXJ0eU1hcD4gdGhpcy5hbGxQcm9wZXJ0aWVzKCk7XG4gICAgICAgIHJldHVybiBwcm9wTWFwLmZpZWxkUGF0aDtcbiAgICB9XG5cblxuICAgIGxvY2FsZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gT2JqZWN0TWV0YUNvbnRleHQuRGVmYXVsdExvY2FsZTtcbiAgICB9XG5cbiAgICB0aW1lem9uZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpO1xuXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBVSUNvbnRleHQgZXh0ZW5kcyBPYmplY3RNZXRhQ29udGV4dCB7XG5cblxuICAgIGNvbnN0cnVjdG9yKF9tZXRhOiBVSU1ldGEsIG5lc3RlZDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIHN1cGVyKF9tZXRhLCBuZXN0ZWQpO1xuICAgIH1cblxuXG4gICAgLy8gdXNlciB2YWx1ZXMgZnJvbSB1c2VyIHNldHRpbmdzL2xvY2FsZXNcbiAgICBsb2NhbGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmxvY2FsZSgpO1xuICAgIH1cblxuICAgIHRpbWV6b25lKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBzdXBlci50aW1lem9uZSgpO1xuICAgIH1cbn1cblxuXG5cblxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogQmFzZWQgb24gb3JpZ2luYWwgd29yazogTWV0YVVJOiBDcmFpZyBGZWRlcmlnaGkgKDIwMDgpXG4gKlxuICovXG5pbXBvcnQge1xuICAgIEJvb2xlYW5XcmFwcGVyLFxuICAgIGlzQXJyYXksXG4gICAgaXNCbGFuayxcbiAgICBpc1ByZXNlbnQsXG4gICAgTGlzdFdyYXBwZXIsXG4gICAgTWFwV3JhcHBlcixcbiAgICBwcmludCxcbiAgICBzaGlmdExlZnQsXG4gICAgU3RyaW5nSm9pbmVyXG59IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtLZXlEYXRhLCBNYXRjaFZhbHVlLCBNZXRhLCBQcm9wZXJ0eU1hbmFnZXIsIFByb3BlcnR5TWFwLCBSdWxlU2V0fSBmcm9tICcuL21ldGEnO1xuXG5cbi8qKlxuICogQSBTZWxlY3RvciBkZWZpbmVzIGEgc29ydCBvZiBrZXkvdmFsdWUgcHJlZGljYXRlIHRoYXQgbXVzdCBiZSBzYXRpc2ZpZWQgZm9yIGFcbiAqIHJ1bGUgdG8gYXBwbHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZWxlY3Rvclxue1xuXG4gICAgcHJpdmF0ZSBfbWF0Y2hBcnJheUlkeDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9tYXRjaFZhbHVlOiBNYXRjaFZhbHVlO1xuXG5cbiAgICBzdGF0aWMgZnJvbU1hcCh2YWx1ZXM6IE1hcCA8c3RyaW5nLCBhbnk+KTogQXJyYXk8U2VsZWN0b3I+XG4gICAge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXk8U2VsZWN0b3I+KCk7XG4gICAgICAgIE1hcFdyYXBwZXIuaXRlcmFibGUodmFsdWVzKS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChuZXcgU2VsZWN0b3Ioa2V5LCB2YWx1ZSwgZmFsc2UpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9rZXk6IHN0cmluZywgcHJpdmF0ZSBfdmFsdWU6IGFueSwgcHVibGljIGlzRGVjbDogYm9vbGVhbiA9IGZhbHNlKVxuICAgIHtcbiAgICB9XG5cblxuICAgIGdldCBrZXkoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fa2V5O1xuICAgIH1cblxuICAgIGdldCB2YWx1ZSgpOiBhbnlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICB9XG5cbiAgICBiaW5kVG9LZXlEYXRhKGtleURhdGE6IEtleURhdGEpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl9tYXRjaEFycmF5SWR4ID0ga2V5RGF0YS5faWQ7XG4gICAgICAgIHRoaXMuX21hdGNoVmFsdWUgPSBrZXlEYXRhLm1hdGNoVmFsdWUodGhpcy5fdmFsdWUpO1xuXG4gICAgfVxuXG4gICAgbWF0Y2hlcyhtYXRjaEFycmF5OiBBcnJheTxNYXRjaFZhbHVlPik6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIC8vIElmIHdlIGhhdmVuJ3QgYmVlbiBpbml0aWFsaXplZCB3aXRoIGEgbWF0Y2hWYWx1ZSwgdGhlbiB3ZSB3ZXJlIGluZGV4ZWQgYW5kIGRvbid0IG5lZWQgdG9cbiAgICAgICAgLy8gbWF0Y2hcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5fbWF0Y2hWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cblxuICAgICAgICBjb25zdCBvdGhlcjogTWF0Y2hWYWx1ZSA9IG1hdGNoQXJyYXlbdGhpcy5fbWF0Y2hBcnJheUlkeF07XG5cbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudChvdGhlcikgPyBvdGhlci5tYXRjaGVzKHRoaXMuX21hdGNoVmFsdWUpIDogZmFsc2U7XG4gICAgfVxuXG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGNvbnN0IHNqID0gbmV3IFN0cmluZ0pvaW5lcihbXSk7XG5cbiAgICAgICAgc2ouYWRkKHRoaXMua2V5KTtcbiAgICAgICAgc2ouYWRkKCc9Jyk7XG4gICAgICAgIHNqLmFkZCh0aGlzLl92YWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgc2ouYWRkKCcoJyk7XG4gICAgICAgIHNqLmFkZCh0aGlzLmlzRGVjbCArICcnKTtcbiAgICAgICAgc2ouYWRkKCcpJyk7XG4gICAgICAgIHNqLmFkZCgnWyAnKTtcbiAgICAgICAgc2ouYWRkKHRoaXMuX21hdGNoQXJyYXlJZHggKyAnXScpO1xuXG4gICAgICAgIHJldHVybiBzai50b1N0cmluZygpO1xuICAgIH1cbn1cblxuXG4vKipcbiAqIEEgUnVsZSBkZWZpbmVzIGEgbWFwIG9mIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYXBwbHkgaW4gdGhlIGV2ZW50IHRoYXQgYSBzZXQgb2YgU2VsZWN0b3JzXG4gKiBhcmUgbWF0Y2hlZC4gIEdpdmVuIGEgcnVsZSBiYXNlIChNZXRhKSBhbmQgYSBzZXQgb2YgYXNzZXJ0ZWQgdmFsdWVzIChDb250ZXh0KSBhIGxpc3Qgb2YgbWF0Y2hpbmdcbiAqIHJ1bGVzIGNhbiBiZSBjb21wdXRlZCAoYnkgbWF0Y2hpbmcgdGhlaXIgc2VsZWN0b3JzIGFnYWluc3QgdGhlIHZhbHVlcykgYW5kIGJ5IHN1Y2Nlc3NpdmVseSAoaW5cbiAqIHJhbmsgLyBwcmlvcml0eSBvcmRlcikgYXBwbHlpbmcgKG1lcmdpbmcpIHRoZWlyIHByb3BlcnR5IG1hcHMgYSBzZXQgb2YgZWZmZWN0aXZlIHByb3BlcnRpZXMgY2FuXG4gKiBiZSBjb21wdXRlZC5cbiAqXG4gKi9cblxuZXhwb3J0IGNsYXNzIFJ1bGVcbntcbiAgICBwcml2YXRlIF9pZDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3J1bGVTZXQ6IFJ1bGVTZXQ7XG5cbiAgICBrZXlNYXRjaGVzTWFzazogbnVtYmVyID0gMDtcbiAgICBrZXlJbmRleGVkTWFzazogbnVtYmVyID0gMDtcbiAgICBrZXlBbnRpTWFzazogbnVtYmVyID0gMDtcblxuICAgIHN0YXRpYyAgbWVyZ2UobWV0YTogTWV0YSwgc3JjOiBNYXA8c3RyaW5nLCBhbnk+LCBkZXN0OiBNYXA8c3RyaW5nLCBhbnk+LFxuICAgICAgICAgICAgICAgICAgZGVjbGFyZUtleTogc3RyaW5nKTogbnVtYmVyXG4gICAge1xuICAgICAgICBsZXQgdXBkYXRlZE1hc2sgPSAwO1xuXG4gICAgICAgIE1hcFdyYXBwZXIuaXRlcmFibGUoc3JjKS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9wTWFuYWdlcjogUHJvcGVydHlNYW5hZ2VyID0gbWV0YS5tYW5hZ2VyRm9yUHJvcGVydHkoXG4gICAgICAgICAgICAgICAga2V5KTtcbiAgICAgICAgICAgIGNvbnN0IG9yaWcgPSBkZXN0LmdldChrZXkpO1xuICAgICAgICAgICAgY29uc3QgaXNEZWNsYXJlOiBib29sZWFuID0gKGlzUHJlc2VudChkZWNsYXJlS2V5KSAmJiBrZXkgPT09IGRlY2xhcmVLZXkpO1xuICAgICAgICAgICAgY29uc3QgbmV3VmFsID0gcHJvcE1hbmFnZXIubWVyZ2VQcm9wZXJ0eShrZXksIG9yaWcsIHZhbHVlLCBpc0RlY2xhcmUpO1xuXG4gICAgICAgICAgICBpZiAobmV3VmFsICE9PSBvcmlnKSB7XG4gICAgICAgICAgICAgICAgZGVzdC5zZXQoa2V5LCBuZXdWYWwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleURhdGE6IEtleURhdGEgPSBwcm9wTWFuYWdlci5fa2V5RGF0YVRvU2V0O1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzUHJlc2VudChrZXlEYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXltYXNrOiBudW1iZXIgPSBzaGlmdExlZnQoMSwga2V5RGF0YS5faWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoa2V5bWFzayAmIHVwZGF0ZWRNYXNrKSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGRlc3QgaW5zdGFuY2VvZiBQcm9wZXJ0eU1hcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRNYXNrIHw9IGtleW1hc2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAoPFByb3BlcnR5TWFwPmRlc3QpLmFkZENvbnRleHRLZXkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcE1hbmFnZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRNYXNrO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBfc2VsZWN0b3JzOiBBcnJheTxTZWxlY3Rvcj4sIHByaXZhdGUgX3Byb3BlcnRpZXM/OiBNYXA8c3RyaW5nLCBhbnk+LFxuICAgICAgICAgICAgICAgIHByaXZhdGUgX3Jhbms6IG51bWJlciA9IC0xLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgX2xpbmVOdW1iZXI6IG51bWJlciA9IC0xKVxuICAgIHtcblxuICAgIH1cblxuXG4gICAgbWF0Y2hlcyhtYXRjaEFycmF5OiBBcnJheTxNYXRjaFZhbHVlPik6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGZvciAobGV0IHNlbCBvZiB0aGlzLl9zZWxlY3RvcnMpIHtcbiAgICAgICAgICAgIGlmICghc2VsLm1hdGNoZXMobWF0Y2hBcnJheSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyBjb250ZXh0IGtleXMgbW9kaWZpZWRcbiAgICAgKi9cbiAgICBhcHBseShtZXRhOiBNZXRhLCBwcm9wZXJ0aWVzOiBQcm9wZXJ0eU1hcCwgZGVjbGFyZUtleTogc3RyaW5nKTogbnVtYmVyXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcmFuayA9PT0gTnVtYmVyLk1JTl9WQUxVRSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJ1bGUubWVyZ2UobWV0YSwgdGhpcy5fcHJvcGVydGllcywgcHJvcGVydGllcywgZGVjbGFyZUtleSk7XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl9yYW5rID0gTnVtYmVyLk1JTl9WQUxVRTtcbiAgICB9XG5cbiAgICBkaXNhYmxlZCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmFuayA9PT0gTnVtYmVyLk1JTl9WQUxVRTtcbiAgICB9XG5cbiAgICBnZXQgbGluZU51bWJlcigpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lTnVtYmVyO1xuICAgIH1cblxuICAgIHNldCBsaW5lTnVtYmVyKGxpbmVOdW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9saW5lTnVtYmVyID0gbGluZU51bWJlcjtcbiAgICB9XG5cblxuICAgIGxvY2F0aW9uKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgbGV0IHBhdGg6IHN0cmluZyA9IGlzUHJlc2VudCh0aGlzLl9ydWxlU2V0KSA/IHRoaXMuX3J1bGVTZXQuZmlsZVBhdGggOiAnVW5rbm93JztcbiAgICAgICAgcmV0dXJuICh0aGlzLl9saW5lTnVtYmVyID49IDAgKSA/IChuZXcgU3RyaW5nSm9pbmVyKFtcbiAgICAgICAgICAgICAgICBwYXRoLCAnOicsIHRoaXMuX2xpbmVOdW1iZXIgKyAnJ1xuICAgICAgICAgICAgXSkpLnRvU3RyaW5nKCkgOiBwYXRoO1xuICAgIH1cblxuXG4gICAgZ2V0IHNlbGVjdG9ycygpOiBBcnJheTxTZWxlY3Rvcj5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RvcnM7XG4gICAgfVxuXG4gICAgc2V0IHNlbGVjdG9ycyh2YWx1ZTogQXJyYXk8U2VsZWN0b3I+KVxuICAgIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0b3JzID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHByb3BlcnRpZXMoKTogTWFwPHN0cmluZywgYW55PlxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgc2V0IHByb3BlcnRpZXModmFsdWU6IE1hcDxzdHJpbmcsIGFueT4pXG4gICAge1xuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHJhbmsoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmFuaztcbiAgICB9XG5cblxuICAgIHNldCByYW5rKHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9yYW5rID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHJ1bGVTZXQoKTogUnVsZVNldFxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3J1bGVTZXQ7XG4gICAgfVxuXG5cbiAgICBzZXQgcnVsZVNldCh2YWx1ZTogUnVsZVNldClcbiAgICB7XG4gICAgICAgIHRoaXMuX3J1bGVTZXQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgaWQoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfVxuXG4gICAgc2V0IGlkKHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9pZCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGlzRWRpdGFibGUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9ydWxlU2V0ICE9PSBudWxsKSAmJiAodGhpcy5fcnVsZVNldC5lZGl0YWJsZVN0YXJ0ID4gMCkgJiZcbiAgICAgICAgICAgICh0aGlzLl9pZCA+PSB0aGlzLl9ydWxlU2V0LmVkaXRhYmxlU3RhcnQpO1xuICAgIH1cblxuICAgIGNyZWF0ZURlY2woKTogUnVsZVxuICAgIHtcbiAgICAgICAgLypcbiAgICAgICAgIEBmaWVsZD1keW5vIHsgdmFsdWU6JHsgc29tZSBleHByfSB9IGJlY29tZXNcbiAgICAgICAgIGRlY2xhcmUgeyBmaWVsZDpkeW5vIH1cbiAgICAgICAgIGZpZWxkPWR5bm8geyBmaWVsZDpkeW5vOyB2YWx1ZTokeyBzb21lIGV4cHJ9IH1cbiAgICAgICAgICovXG4gICAgICAgIC8vIGFkZCBydWxlIGZvciBkZWNsYXJhdGlvblxuXG4gICAgICAgIGxldCBzZWxlY3RvcnM6IEFycmF5PFNlbGVjdG9yPiA9IHRoaXMuX3NlbGVjdG9ycztcbiAgICAgICAgbGV0IGRlY2xQcmVkOiBTZWxlY3RvciA9IHNlbGVjdG9yc1tzZWxlY3RvcnMubGVuZ3RoIC0gMV07XG4gICAgICAgIGxldCBwcmVQcmVkczogQXJyYXk8U2VsZWN0b3I+ID0gdGhpcy5jb252ZXJ0S2V5T3ZlcnJpZGVzKFxuICAgICAgICAgICAgc2VsZWN0b3JzLnNsaWNlKDAsIHNlbGVjdG9ycy5sZW5ndGggLSAxKSk7XG5cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5fcHJvcGVydGllcykpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHAgb2Ygc2VsZWN0b3JzKSB7XG4gICAgICAgICAgICBpZiAoIShpc0FycmF5KHAudmFsdWUpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXMuc2V0KHAua2V5LCBwLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBGbGFnIHRoZSBkZWNsYXJpbmcgcnVsZSBhcyBhIHByb3BlcnR5XG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMuc2V0KE1ldGEuRGVjbFJ1bGUsIG5ldyBSdWxlV3JhcHBlcih0aGlzKSk7XG5cbiAgICAgICAgLy8gY2hlY2sgZm9yIG92ZXJyaWRlIHNjb3BlXG4gICAgICAgIGxldCBoYXNPdmVycmlkZVNjb3BlID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IHAgb2YgcHJlUHJlZHMpIHtcbiAgICAgICAgICAgIGlmIChwLmtleSA9PT0gZGVjbFByZWQua2V5KSB7XG4gICAgICAgICAgICAgICAgaGFzT3ZlcnJpZGVTY29wZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBkZWNsIGtleSBpc24ndCBzY29wZWQsIHRoZW4gc2VsZWN0IG9uIG5vIHNjb3BlXG4gICAgICAgIGlmICghaGFzT3ZlcnJpZGVTY29wZSkge1xuICAgICAgICAgICAgbGV0IG92ZXJyaWRlS2V5OiBzdHJpbmcgPSBNZXRhLm92ZXJyaWRlS2V5Rm9yS2V5KGRlY2xQcmVkLmtleSk7XG4gICAgICAgICAgICBwcmVQcmVkcy51bnNoaWZ0KG5ldyBTZWxlY3RvcihvdmVycmlkZUtleSwgTWV0YS5OdWxsTWFya2VyKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgZGVjbCBydWxlLi4uXG4gICAgICAgIHByZVByZWRzLnB1c2gobmV3IFNlbGVjdG9yKE1ldGEuS2V5RGVjbGFyZSwgZGVjbFByZWQua2V5KSk7XG5cbiAgICAgICAgbGV0IG0gPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICAgICAgICBtLnNldChkZWNsUHJlZC5rZXksIGRlY2xQcmVkLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSdWxlKHByZVByZWRzLCBtLCAwLCAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIHJld3JpdGUgYW55IHNlbGVjdG9yIG9mIHRoZSBmb3JtIFwibGF5b3V0PUwxLCBjbGFzcz1jLCBsYXlvdXQ9TDJcIiB0b1xuICAgICAqICBcImxheW91dF9vPUwxIGNsYXNzPWMsIGxheW91dD1MMlwiXG4gICAgICovXG5cbiAgICBjb252ZXJ0S2V5T3ZlcnJpZGVzKG9yaWc6IEFycmF5PFNlbGVjdG9yPik6IEFycmF5PFNlbGVjdG9yPlxuICAgIHtcblxuICAgICAgICBsZXQgcmVzdWx0ID0gb3JpZztcbiAgICAgICAgbGV0IGNvdW50OiBudW1iZXIgPSBvcmlnLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcDogU2VsZWN0b3IgPSBvcmlnW2ldO1xuICAgICAgICAgICAgLy8gU2VlIGlmIG92ZXJyaWRkZWQgYnkgc2FtZSBrZXkgbGF0ZXIgaW4gc2VsZWN0b3JcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGNvdW50OyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcE5leHQ6IFNlbGVjdG9yID0gb3JpZ1tqXTtcblxuICAgICAgICAgICAgICAgIGlmIChwTmV4dC5rZXkgPT09IHAua2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlJ3JlIG92ZXJyaWRkZW4sIHdlIGRyb3Agb3VycywgYW5kIHJlcGxhY2UgdGhlIG5leHQgY29sbGlzaW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpdGggb25lIHdpdGggb3VyIHByZWZpeFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgYSBjb3B5IGlmIHdlIGhhdmVuJ3QgYWxyZWFkeVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSBvcmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBvcmlnLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHAgPSBuZXcgU2VsZWN0b3IoTWV0YS5vdmVycmlkZUtleUZvcktleShwLmtleSksIHAudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9PSBvcmlnKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGxldCBzaiA9IG5ldyBTdHJpbmdKb2luZXIoWyc8UnVsZSBbJ10pO1xuICAgICAgICBzai5hZGQodGhpcy5fcmFuayArICddICcpO1xuXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuc2VsZWN0b3JzKSkge1xuICAgICAgICAgICAgc2ouYWRkKCdudWxsLCBudWxsIC0tPiBudWxsID4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNqLmFkZChMaXN0V3JhcHBlci50b1N0cmluZzxTZWxlY3Rvcj4odGhpcy5fc2VsZWN0b3JzKSk7XG5cbiAgICAgICAgICAgIHNqLmFkZCgnIC0+ICcpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3Byb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBzai5hZGQoJ1ssXScgKyAnID4nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Byb3BlcnRpZXMuaGFzKCdkZWNsUnVsZScpKSB7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzai5hZGQoTWFwV3JhcHBlci50b1N0cmluZyh0aGlzLl9wcm9wZXJ0aWVzKSArICcgPicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzai5hZGQoJ1sgJyk7XG4gICAgICAgICAgICBzai5hZGQodGhpcy5rZXlJbmRleGVkTWFzayArICcsICcpO1xuICAgICAgICAgICAgc2ouYWRkKHRoaXMua2V5QW50aU1hc2sgKyAnLCAnKTtcbiAgICAgICAgICAgIHNqLmFkZCh0aGlzLmtleU1hdGNoZXNNYXNrICsgJycpO1xuICAgICAgICAgICAgc2ouYWRkKCcgXScpO1xuXG4gICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiBzai50b1N0cmluZygpO1xuICAgIH1cblxuICAgIF9jaGVja1J1bGUodmFsdWVzOiBNYXA8c3RyaW5nLCBhbnk+LCBtZXRhOiBNZXRhKTogdm9pZFxuICAgIHtcbiAgICAgICAgTGlzdFdyYXBwZXIuZm9yRWFjaFdpdGhJbmRleDxTZWxlY3Rvcj4odGhpcy5zZWxlY3RvcnMsIChwLCBpKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY29udGV4dFZhbHVlID0gdmFsdWVzLmdldChwLmtleSk7XG4gICAgICAgICAgICBsZXQga2V5RGF0YTogS2V5RGF0YSA9IG1ldGEua2V5RGF0YShwLmtleSk7XG5cbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQoa2V5RGF0YS5fdHJhbnNmb3JtZXIpKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFZhbHVlID0ga2V5RGF0YS5fdHJhbnNmb3JtZXIudHJhbmZvcm1Gb3JNYXRjaChjb250ZXh0VmFsdWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KGNvbnRleHRWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgICAoKE1ldGEuS2V5QW55ID09PSBwLnZhbHVlICYmIEJvb2xlYW5XcmFwcGVyLmJvbGVhblZhbHVlKGNvbnRleHRWYWx1ZSkgfHxcbiAgICAgICAgICAgICAgICBNZXRhLm9iamVjdEVxdWFscyhjb250ZXh0VmFsdWUsIHAudmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgKGlzQXJyYXkocC52YWx1ZSkgJiYgcC52YWx1ZS5pbmRleE9mKGNvbnRleHRWYWx1ZSkgPiAtMSkgfHxcbiAgICAgICAgICAgICAgICAoaXNBcnJheShwLnZhbHVlKSAmJiBjb250ZXh0VmFsdWUuaW5kZXhPZihwLnZhbHVlKSA+IC0xICkpKSkge1xuICAgICAgICAgICAgICAgIC8vIG9rYXlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJpbnQoJ1Bvc3NpYmxlIGJhZCBydWxlIG1hdGNoISAgUnVsZTogJXM7IHNlbGVjdG9yOiAlcywgY29udGV4dCB2YWw6ICVzJyArIHRoaXMgK1xuICAgICAgICAgICAgICAgICAgICAnICcgKyBwICsgJyAnICsgY29udGV4dFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbn1cblxuLy8gaGVyZSBzbyBsb2dnaW5nIG9mIHByb3BlcnR5IG1hcCBkb2Vzbid0IGluZmluaXRlbHkgcmVjdXJzZVxuZXhwb3J0IGNsYXNzIFJ1bGVXcmFwcGVyXG57XG5cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBydWxlOiBSdWxlKVxuICAgIHtcbiAgICB9XG59XG5cblxuXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKiBCYXNlZCBvbiBvcmlnaW5hbCB3b3JrOiBNZXRhVUk6IENyYWlnIEZlZGVyaWdoaSAoMjAwOClcbiAqXG4gKi9cbi8vIHRvZG86IHRyeSB0byBnZXQgcmlkIG9mIHRoaXMgbGlicmFyeVxuaW1wb3J0ICogYXMgQ29sbGVjdGlvbnMgZnJvbSAndHlwZXNjcmlwdC1jb2xsZWN0aW9ucyc7XG5pbXBvcnQge1xuICAgIGFzc2VydCxcbiAgICBCb29sZWFuV3JhcHBlcixcbiAgICBDb21wb3NpdGVUeXBlLFxuICAgIGVxdWFscyxcbiAgICBpc0FycmF5LFxuICAgIGlzQmxhbmssXG4gICAgaXNCb29sZWFuLFxuICAgIGlzRW50aXR5LFxuICAgIGlzRnVuY3Rpb24sXG4gICAgaXNQcmVzZW50LFxuICAgIGlzU3RyaW5nLFxuICAgIGlzU3RyaW5nTWFwLFxuICAgIGlzVmFsdWUsXG4gICAgTGlzdFdyYXBwZXIsXG4gICAgTWFwV3JhcHBlciwgb2JqZWN0VG9OYW1lLFxuICAgIHByaW50LFxuICAgIHNoaWZ0TGVmdCxcbiAgICBzaGlmdFJpZ2h0LFxuICAgIFN0cmluZ0pvaW5lcixcbiAgICBTdHJpbmdXcmFwcGVyLFxuICAgIHVuaW1wbGVtZW50ZWRcbn0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge01hdGNoLCBNYXRjaFJlc3VsdCwgVW5pb25NYXRjaFJlc3VsdH0gZnJvbSAnLi9tYXRjaCc7XG5pbXBvcnQge1J1bGVMb2FkZXJ9IGZyb20gJy4vcnVsZS1sb2FkZXIuc2VydmljZSc7XG5pbXBvcnQge0NvbnRleHR9IGZyb20gJy4vY29udGV4dCc7XG5pbXBvcnQge0RlZmVycmVkT3BlcmF0aW9uQ2hhaW4sIER5bmFtaWNQcm9wZXJ0eVZhbHVlfSBmcm9tICcuL3Byb3BlcnR5LXZhbHVlJztcbmltcG9ydCB7UnVsZSwgU2VsZWN0b3J9IGZyb20gJy4vcnVsZSc7XG5cbi8qKlxuICogTWV0YSBpcyB0aGUgY29yZSBjbGFzcyBpbiBNZXRhVUkuICBBbiBpbnN0YW5jZSBvZiBtZXRhIHJlcHJlc2VudHMgYSAnUnVsZSBCYXNlJyAoYSByZXBvc2l0b3J5XG4gKiBydWxlcyksIGFuZCB0aGlzIHJ1bGUgYmFzZSBpcyB1c2VkIHRvIGNvbXB1dGUgcHJvcGVydHkgbWFwcyBiYXNlZCBvbiBhIHNlcmllcyBvZiBrZXkvdmFsdWVcbiAqIGNvbnN0cmFpbnRzICh0eXBpY2FsbHkgYmFzZWQgb24gdGhlIGN1cnJlbnQgdmFsdWVzIGluIGEgQ29udGV4dCBpbnN0YW5jZSkuXG4gKlxuICogTWV0YSB3b3JrcyBpbiBjb25jZXJ0IHdpdGggTWF0Y2guTWF0Y2hSZXN1bHQgdG8gY2FjaGUgcGFydGlhbCBtYXRjaGVzIChtYXRjaCB0cmVlcykgd2l0aCBjYWNoZWRcbiAqIGNvbXB1dGVkIHByb3BlcnR5IG1hcHMuIE1ldGEgaXMgZ2VuZXJhbGx5IHVzZWQgYnkgd2F5IG9mIGl0cyBzdWJjbGFzc2VzIE9iamVjdE1ldGEgYW5kIFVJTWV0YVxuICogKHdoaWNoIGV4dGVuZCBNZXRhIHdpdGggYmVoYXZpb3JzIGFyb3VuZCBhdXRvLWNyZWF0aW5nIHJ1bGVzIGZvciByZWZlcmVuY2VzIFR5cGVzY3JpcHRzIGNsYXNzZXNcbiAqIGFuZCBkeW5hbWljIHByb3BlcnRpZXMgZm9yIGZpZWxkIGFuZCBsYXlvdXQgem9uaW5nKVxuICpcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBNZXRhIHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgS2V5QW55OiBzdHJpbmcgPSAnKic7XG4gICAgc3RhdGljIHJlYWRvbmx5IEtleURlY2xhcmU6IHN0cmluZyA9ICdkZWNsYXJlJztcbiAgICBzdGF0aWMgcmVhZG9ubHkgS2V5VHJhaXQ6IHN0cmluZyA9ICd0cmFpdCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTG93UnVsZVByaW9yaXR5OiBudW1iZXIgPSAtMTAwMDAwO1xuICAgIHN0YXRpYyByZWFkb25seSBTeXN0ZW1SdWxlUHJpb3JpdHk6IG51bWJlciA9IC0yMDAwMDA7XG4gICAgc3RhdGljIHJlYWRvbmx5IENsYXNzUnVsZVByaW9yaXR5OiBudW1iZXIgPSAtMTAwMDAwO1xuICAgIHN0YXRpYyByZWFkb25seSBUZW1wbGF0ZVJ1bGVQcmlvcml0eTogbnVtYmVyID0gMTAwMDAwO1xuICAgIHN0YXRpYyByZWFkb25seSBFZGl0b3JSdWxlUHJpb3JpdHk6IG51bWJlciA9IDIwMDAwMDtcblxuICAgIHN0YXRpYyByZWFkb25seSBNYXhLZXlEYXRhczogbnVtYmVyID0gNjQ7XG4gICAgc3RhdGljIHJlYWRvbmx5IE51bGxNYXJrZXI6IGFueSA9IHttYXJrZXJudWxsOiB0cnVlfTtcblxuICAgIHN0YXRpYyByZWFkb25seSBTY29wZUtleTogc3RyaW5nID0gJ3Njb3BlS2V5JztcbiAgICBzdGF0aWMgcmVhZG9ubHkgRGVjbFJ1bGU6IHN0cmluZyA9ICdkZWNsUnVsZSc7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFBhcnRpYWxJbmRleGluZyBpbmRleGVzIGVhY2ggcnVsZSBieSBhIHNpbmdsZSAod2VsbCBjaG9zZW4pIGtleSBhbmQgZXZhbHVhdGVzIG90aGVyIHBhcnRzIG9mXG4gICAgICogdGhlIHNlbGVjdG9yIG9uIHRoZSBpbmRleC1maWx0ZXJlZCBtYXRjaGVzIChnZW5lcmFsbHkgdGhpcyBpcyBhICB3aW4gc2luY2UgbWF5IHNlbGVjdG9ycyBhcmVcbiAgICAgKiBub3Qgc2VsZWN0aXZlLCByZXN1bHRpbmcgaW4gaHVnZSBydWxlIHZlY3RvcnMpXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0aWMgX1VzZVBhcnRpYWxJbmRleGluZzogYm9vbGVhbiA9IHRydWU7XG4gICAgc3RhdGljIF9EZWJ1Z0RvdWJsZUNoZWNrTWF0Y2hlczogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgc3RhdGljIFByb3BlcnR5TWVyZ2VyX0RlY2xhcmVMaXN0OiBhbnkgPSBudWxsO1xuICAgIHN0YXRpYyBQcm9wZXJ0eU1lcmdlcl9UcmFpdHM6IGFueSA9IG51bGw7XG4gICAgc3RhdGljIFByb3BlcnR5TWVyZ2VyX0xpc3Q6IGFueSA9IG51bGw7XG4gICAgc3RhdGljIFRyYW5zZm9ybWVyX0tleVByZXNlbnQ6IGFueSA9IG51bGw7XG5cblxuICAgIF9ydWxlczogUnVsZVtdID0gbmV3IEFycmF5PFJ1bGU+KCk7XG4gICAgX3J1bGVDb3VudDogbnVtYmVyID0gMDtcbiAgICBfdGVzdFJ1bGVzOiBNYXA8c3RyaW5nLCBhbnk+ID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcblxuICAgIHByb3RlY3RlZCBfY3VycmVudFJ1bGVTZXQ6IFJ1bGVTZXQ7XG4gICAgcHJpdmF0ZSBfbmV4dEtleUlkOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3J1bGVTZXRHZW5lcmF0aW9uOiBudW1iZXIgPSAwO1xuXG4gICAgcHJpdmF0ZSBfa2V5RGF0YTogTWFwPHN0cmluZywgS2V5RGF0YT4gPSBuZXcgTWFwPHN0cmluZywgS2V5RGF0YT4oKTtcblxuICAgIHByaXZhdGUgX2tleURhdGFzQnlJZDogS2V5RGF0YVtdID0gbmV3IEFycmF5PEtleURhdGE+KE1ldGEuTWF4S2V5RGF0YXMpO1xuICAgIHByaXZhdGUgX01hdGNoVG9Qcm9wc0NhY2hlOiBDb2xsZWN0aW9ucy5EaWN0aW9uYXJ5PE1hdGNoLCBQcm9wZXJ0eU1hcD4gPVxuICAgICAgICBuZXcgQ29sbGVjdGlvbnMuRGljdGlvbmFyeTxNYXRjaCwgUHJvcGVydHlNYXA+KCk7XG4gICAgcHJpdmF0ZSBfUHJvcGVydHlNYXBVbmlxdWVyOiBDb2xsZWN0aW9ucy5EaWN0aW9uYXJ5PFByb3BlcnR5TWFwLCBQcm9wZXJ0eU1hcD4gPVxuICAgICAgICBuZXcgQ29sbGVjdGlvbnMuRGljdGlvbmFyeTxQcm9wZXJ0eU1hcCwgUHJvcGVydHlNYXA+KCk7XG5cbiAgICBwcml2YXRlIF9pZGVudGl0eUNhY2hlID0gbmV3IENvbGxlY3Rpb25zLkRpY3Rpb25hcnk8YW55LCBhbnk+KCk7XG4gICAgcHJpdmF0ZSBfbWFuYWdlckZvclByb3BlcnR5OiBNYXA8c3RyaW5nLCBQcm9wZXJ0eU1hbmFnZXI+ID0gbmV3IE1hcDxzdHJpbmcsIFByb3BlcnR5TWFuYWdlcj4oKTtcblxuXG4gICAgcHJpdmF0ZSBfZGVjbGFyZUtleU1hc2s6IG51bWJlciA9IDA7XG5cbiAgICBwcm90ZWN0ZWQgX3J1bGVMb2FkZXI6IFJ1bGVMb2FkZXI7XG5cblxuICAgIC8qXG4gICAgIEEgZmV3IGhhbmR5IHV0aWxpdGllcyAoZm9yIHdoaWNoIHdlIHByb2JhYmx5IGFscmVhZHkgaGF2ZSBzdXBlcmlvciB2ZXJzaW9ucyBlbHNld2hlcmUpXG4gICAgICovXG4gICAgc3RhdGljIGJvb2xlYW5WYWx1ZSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBCb29sZWFuV3JhcHBlci5ib2xlYW5WYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHRvTGlzdCh2YWx1ZTogYW55KTogQXJyYXk8YW55PiB7XG4gICAgICAgIHJldHVybiAoaXNBcnJheSh2YWx1ZSkpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIH1cblxuICAgIHN0YXRpYyBvYmplY3RFcXVhbHMob25lOiBhbnksIHR3bzogYW55KSB7XG4gICAgICAgIGlmIChpc0JsYW5rKG9uZSkgJiYgaXNCbGFuayh0d28pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNCbGFuayhvbmUpIHx8IGlzQmxhbmsodHdvKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcXVhbHMob25lLCB0d28pO1xuICAgIH1cblxuICAgIHN0YXRpYyBvdmVycmlkZUtleUZvcktleShrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBrZXkgKyAnX28nO1xuICAgIH1cblxuICAgIHN0YXRpYyBhZGRUcmFpdHModHJhaXRzOiBzdHJpbmdbXSwgbWFwOiBNYXA8c3RyaW5nLCBhbnk+KTogdm9pZCB7XG4gICAgICAgIGxldCBjdXJyZW50OiBzdHJpbmdbXSA9IG1hcC5nZXQoTWV0YS5LZXlUcmFpdCk7XG4gICAgICAgIGlmIChpc0JsYW5rKGN1cnJlbnQpKSB7XG4gICAgICAgICAgICBtYXAuc2V0KE1ldGEuS2V5VHJhaXQsIHRyYWl0cyk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExpc3RXcmFwcGVyLmFkZEFsbChjdXJyZW50LCB0cmFpdHMpO1xuICAgICAgICAgICAgbWFwLnNldChNZXRhLktleVRyYWl0LCBjdXJyZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBhZGRUcmFpdCh0cmFpdDogc3RyaW5nLCBtYXA6IE1hcDxzdHJpbmcsIGFueT4pOiB2b2lkIHtcbiAgICAgICAgbGV0IGN1cnJlbnQ6IHN0cmluZ1tdID0gbWFwLmdldChNZXRhLktleVRyYWl0KTtcbiAgICAgICAgaWYgKGlzQmxhbmsoY3VycmVudCkpIHtcbiAgICAgICAgICAgIG1hcC5zZXQoTWV0YS5LZXlUcmFpdCwgTWV0YS50b0xpc3QodHJhaXQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnQucHVzaCh0cmFpdCk7XG4gICAgICAgICAgICBtYXAuc2V0KE1ldGEuS2V5VHJhaXQsIGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgY2xhc3NOYW1lKG9iamVjdDogYW55KTogc3RyaW5nIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nTWFwKG9iamVjdCkgJiYgKGlzRW50aXR5KG9iamVjdCkgfHwgaXNWYWx1ZShvYmplY3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuICg8Q29tcG9zaXRlVHlwZT5vYmplY3QpLmNsYXNzTmFtZSgpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmdNYXAob2JqZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdFRvTmFtZShvYmplY3QpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihvYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0Lm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgTWV0YS5Qcm9wZXJ0eU1lcmdlcl9EZWNsYXJlTGlzdCA9IG5ldyBQcm9wZXJ0eU1lcmdlckRlY2xhcmVMaXN0KCk7XG4gICAgICAgIE1ldGEuUHJvcGVydHlNZXJnZXJfVHJhaXRzID0gbmV3IFByb3BlcnR5TWVyZ2VyRGVjbGFyZUxpc3RGb3JUcmFpdCgpO1xuICAgICAgICBNZXRhLlByb3BlcnR5TWVyZ2VyX0xpc3QgPSBuZXcgUHJvcGVydHlNZXJnZXJfTGlzdCgpO1xuICAgICAgICBNZXRhLlRyYW5zZm9ybWVyX0tleVByZXNlbnQgPSBuZXcgS2V5VmFsdWVUcmFuc2Zvcm1lcl9LZXlQcmVzZW50KCk7XG5cblxuICAgICAgICB0aGlzLl9kZWNsYXJlS2V5TWFzayA9IHRoaXMua2V5RGF0YShNZXRhLktleURlY2xhcmUpLm1hc2tWYWx1ZSgpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUHJvcGVydHlNZXJnZXIoTWV0YS5LZXlUcmFpdCwgTWV0YS5Qcm9wZXJ0eU1lcmdlcl9UcmFpdHMpO1xuXG5cbiAgICAgICAgbGV0IG5vb3BydWxlOiBSdWxlID0gbmV3IFJ1bGUobnVsbCwgbnVsbCwgMCwgMCk7XG4gICAgICAgIG5vb3BydWxlLmRpc2FibGUoKTtcbiAgICAgICAgdGhpcy5fcnVsZXNbMF0gPSBub29wcnVsZTtcbiAgICAgICAgdGhpcy5fcnVsZUNvdW50ID0gMTtcbiAgICB9XG5cbiAgICByZWdpc3RlckxvYWRlcihsb2FkZXI6IFJ1bGVMb2FkZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fcnVsZUxvYWRlciA9IGxvYWRlcjtcbiAgICB9XG5cbiAgICBhZGRSdWxlKHJ1bGU6IFJ1bGUpOiB2b2lkIHtcblxuICAgICAgICBsZXQgc2VsZWN0b3JzOiBBcnJheTxTZWxlY3Rvcj4gPSBydWxlLnNlbGVjdG9ycztcblxuICAgICAgICBpZiAoc2VsZWN0b3JzLmxlbmd0aCA+IDAgJiYgc2VsZWN0b3JzW3NlbGVjdG9ycy5sZW5ndGggLSAxXS5pc0RlY2wpIHtcbiAgICAgICAgICAgIGxldCBkZWNsID0gcnVsZS5jcmVhdGVEZWNsKCk7XG4gICAgICAgICAgICB0aGlzLl9hZGRSdWxlKGRlY2wsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2UgYWxsb3cgbnVsbCB0byBlbmFibGUgY3JlYXRpb24gb2YgYSBkZWNsLCBidXQgb3RoZXJ3aXNlIHRoaXMgcnVsZSBoYXMgbm8gZWZmZWN0XG4gICAgICAgIGlmIChpc1ByZXNlbnQocnVsZS5wcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgLy8gQWZ0ZXIgd2UndmUgY2FwdHVyZWQgdGhlIGRlY2wsIGRvIHRoZSBjb2xsYXBzZVxuICAgICAgICAgICAgcnVsZS5fc2VsZWN0b3JzID0gcnVsZS5jb252ZXJ0S2V5T3ZlcnJpZGVzKHJ1bGUuX3NlbGVjdG9ycyk7XG4gICAgICAgICAgICB0aGlzLl9hZGRSdWxlKHJ1bGUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBfYWRkVG9SdWxlcyhydWxlOiBSdWxlLCBwb3M6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLl9ydWxlc1twb3NdID0gcnVsZTtcbiAgICB9XG5cblxuICAgIC8vIHRvZG86IFRFU1QgdW5pdCB0ZXN0IHRoaXNcbiAgICBfYWRkUnVsZShydWxlOiBSdWxlLCBjaGVja1Byb3BTY29wZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBhc3NlcnQoaXNQcmVzZW50KHRoaXMuX2N1cnJlbnRSdWxlU2V0KSwgJ0F0dGVtcHQgdG8gYWRkIHJ1bGUgd2l0aG91dCBjdXJyZW50IFJ1bGVTZXQnKTtcbiAgICAgICAgbGV0IHNlbGVjdG9yczogQXJyYXk8U2VsZWN0b3I+ID0gcnVsZS5fc2VsZWN0b3JzO1xuXG4gICAgICAgIGxldCBlbnRyeUlkOiBudW1iZXIgPSB0aGlzLl9jdXJyZW50UnVsZVNldC5hbGxvY2F0ZU5leHRSdWxlRW50cnkoKTtcbiAgICAgICAgcnVsZS5pZCA9IGVudHJ5SWQ7XG4gICAgICAgIGlmIChydWxlLnJhbmsgPT09IDApIHtcbiAgICAgICAgICAgIHJ1bGUucmFuayA9IHRoaXMuX2N1cnJlbnRSdWxlU2V0Ll9yYW5rKys7XG4gICAgICAgIH1cbiAgICAgICAgcnVsZS5ydWxlU2V0ID0gdGhpcy5fY3VycmVudFJ1bGVTZXQ7XG4gICAgICAgIHRoaXMuX2FkZFRvUnVsZXMocnVsZSwgZW50cnlJZCk7XG5cbiAgICAgICAgLy8gaW5kZXggaXRcbiAgICAgICAgbGV0IGxhc3RTY29wZUtleURhdGE6IEtleURhdGE7XG4gICAgICAgIGxldCBkZWNsS2V5OiBzdHJpbmc7XG4gICAgICAgIGxldCBkZWNsTWFzazogbnVtYmVyID0gdGhpcy5kZWNsYXJlS2V5TWFzaztcbiAgICAgICAgbGV0IG1hdGNoTWFzayA9IDAsIGluZGV4ZWRNYXNrID0gMCwgYW50aU1hc2sgPSAwO1xuICAgICAgICBsZXQgY291bnQgPSBzZWxlY3RvcnMubGVuZ3RoO1xuXG4gICAgICAgIGxldCBpbmRleE9ubHlTZWxlY3RvcjogU2VsZWN0b3IgPSBNZXRhLl9Vc2VQYXJ0aWFsSW5kZXhpbmcgPyB0aGlzLmJlc3RTZWxlY3RvclRvSW5kZXgoXG4gICAgICAgICAgICBzZWxlY3RvcnMpIDogbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IGNvdW50IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCBwOiBTZWxlY3RvciA9IHNlbGVjdG9yc1tpXTtcblxuICAgICAgICAgICAgbGV0IHNob3VsZEluZGV4OiBib29sZWFuID0gKGluZGV4T25seVNlbGVjdG9yID09PSBudWxsIHx8IHAgPT09IGluZGV4T25seVNlbGVjdG9yKTtcblxuICAgICAgICAgICAgbGV0IGRhdGE6IEtleURhdGEgPSB0aGlzLmtleURhdGEocC5rZXkpO1xuICAgICAgICAgICAgbGV0IGRhdGFNYXNrOiBudW1iZXIgPSBkYXRhLm1hc2tWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzTnVsbE1hcmtlcihwLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRJbmRleCB8fCBNZXRhLl9EZWJ1Z0RvdWJsZUNoZWNrTWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShwLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdiBvZiBwLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5hZGRFbnRyeSh2LCBlbnRyeUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5hZGRFbnRyeShwLnZhbHVlLCBlbnRyeUlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ZWRNYXNrIHw9IHNoaWZ0TGVmdCgxLCBkYXRhLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXNob3VsZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXBhcmUgc2VsZWN0b3IgZm9yIGRpcmVjdCBldmFsdWF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHAuYmluZFRvS2V5RGF0YShkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWF0Y2hNYXNrIHw9IGRhdGFNYXNrO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaXNQcm9wZXJ0eVNjb3BlICYmIGlzQmxhbmsobGFzdFNjb3BlS2V5RGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNjb3BlS2V5RGF0YSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoZGF0YU1hc2sgJiBkZWNsTWFzaykgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjbEtleSA9IHAudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbnRpTWFzayB8PSBkYXRhTWFzaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgaXNEZWNsOiBib29sZWFuID0gaXNQcmVzZW50KGRlY2xLZXkpO1xuICAgICAgICBsZXQgbm9uU2NvcGVLZXlEZWNsOiBib29sZWFuID0gaXNQcmVzZW50KGRlY2xLZXkpICYmICF0aGlzLmtleURhdGEoZGVjbEtleSkuaXNQcm9wZXJ0eVNjb3BlO1xuICAgICAgICBpZiAoIWlzRGVjbCB8fCBub25TY29wZUtleURlY2wpIHtcblxuICAgICAgICAgICAgLy8gYWxsIG5vbi1kZWNsIHJ1bGVzIGRvbid0IGFwcGx5IG91dHNpZGUgZGVjbCBjb250ZXh0XG4gICAgICAgICAgICBpZiAoIWlzRGVjbCkge1xuICAgICAgICAgICAgICAgIGFudGlNYXNrIHw9IGRlY2xNYXNrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KGxhc3RTY29wZUtleURhdGEpICYmIGNoZWNrUHJvcFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRyYWl0VmFsID0gcnVsZS5wcm9wZXJ0aWVzLmdldChNZXRhLktleVRyYWl0KTtcblxuXG4gICAgICAgICAgICAgICAgaWYgKGlzUHJlc2VudCh0cmFpdFZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyYWl0S2V5OiBzdHJpbmcgPSBsYXN0U2NvcGVLZXlEYXRhLl9rZXkgKyAnX3RyYWl0JztcblxuICAgICAgICAgICAgICAgICAgICBsZXQgcHJvcGVydGllcyA9IE1hcFdyYXBwZXIuY3JlYXRlRW1wdHk8c3RyaW5nLCBhbnk+KCk7XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuc2V0KHRyYWl0S2V5LCB0cmFpdFZhbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyYWl0UnVsZTogUnVsZSA9IG5ldyBSdWxlKHJ1bGUuX3NlbGVjdG9ycywgcHJvcGVydGllcywgcnVsZS5yYW5rLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS5saW5lTnVtYmVyKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRSdWxlKHRyYWl0UnVsZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJ1bGUuX3NlbGVjdG9ycyA9IHNlbGVjdG9ycy5zbGljZSgwKTtcblxuICAgICAgICAgICAgICAgIGxldCBzY29wZVNlbDogU2VsZWN0b3IgPSBuZXcgU2VsZWN0b3IoTWV0YS5TY29wZUtleSwgbGFzdFNjb3BlS2V5RGF0YS5rZXkpO1xuICAgICAgICAgICAgICAgIHJ1bGUuc2VsZWN0b3JzLnB1c2goc2NvcGVTZWwpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGRhdGE6IEtleURhdGEgPSB0aGlzLmtleURhdGEoTWV0YS5TY29wZUtleSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIU1ldGEuX1VzZVBhcnRpYWxJbmRleGluZyB8fCBNZXRhLl9EZWJ1Z0RvdWJsZUNoZWNrTWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmFkZEVudHJ5KGxhc3RTY29wZUtleURhdGEuX2tleSwgZW50cnlJZCk7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ZWRNYXNrIHw9IHNoaWZ0TGVmdCgxLCBkYXRhLl9pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjb3BlU2VsLmJpbmRUb0tleURhdGEoZGF0YSk7XG4gICAgICAgICAgICAgICAgbWF0Y2hNYXNrIHw9IHNoaWZ0TGVmdCgxLCBkYXRhLl9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcnVsZS5rZXlNYXRjaGVzTWFzayA9IG1hdGNoTWFzaztcbiAgICAgICAgcnVsZS5rZXlJbmRleGVkTWFzayA9IGluZGV4ZWRNYXNrO1xuICAgICAgICBydWxlLmtleUFudGlNYXNrID0gYW50aU1hc2s7XG4gICAgfVxuXG4gICAgYmVzdFNlbGVjdG9yVG9JbmRleChzZWxlY3RvcnM6IEFycmF5PFNlbGVjdG9yPik6IFNlbGVjdG9yIHtcbiAgICAgICAgbGV0IGJlc3Q6IFNlbGVjdG9yO1xuICAgICAgICBsZXQgYmVzdFJhbmsgPSBOdW1iZXIuTUlOX1ZBTFVFO1xuICAgICAgICBsZXQgcG9zID0gMDtcbiAgICAgICAgZm9yIChsZXQgc2VsIG9mICBzZWxlY3RvcnMpIHtcbiAgICAgICAgICAgIGxldCByYW5rID0gdGhpcy5zZWxlY3Rpdml0eVJhbmsoc2VsKSArIHBvcysrO1xuICAgICAgICAgICAgaWYgKHJhbmsgPiBiZXN0UmFuaykge1xuICAgICAgICAgICAgICAgIGJlc3QgPSBzZWw7XG4gICAgICAgICAgICAgICAgYmVzdFJhbmsgPSByYW5rO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiZXN0O1xuICAgIH1cblxuICAgIHNlbGVjdGl2aXR5UmFuayhzZWxlY3RvcjogU2VsZWN0b3IpOiBudW1iZXIge1xuICAgICAgICAvLyBTY29yZSBzZWxlY3RvcnM6IGdvb2QgaWYgcHJvcGVydHkgc2NvcGUsIGtleSAhPT0gJyonIG9yIGJvb2xcbiAgICAgICAgLy8gJyonIGlzIHBhcnRpY3VsYXJseSBiYWQsIHNpbmNlIHRoZXNlIGFyZSBpbmhlcml0ZWQgYnkgYWxsIG90aGVyc1xuICAgICAgICBsZXQgc2NvcmUgPSAxO1xuICAgICAgICBsZXQgdmFsdWUgPSBzZWxlY3Rvci52YWx1ZTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KHZhbHVlKSAmJiAhKE1ldGEuS2V5QW55ID09PSB2YWx1ZSkpIHtcbiAgICAgICAgICAgIHNjb3JlICs9IChpc0Jvb2xlYW4odmFsdWUpID8gMSA6IDkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGtleURhdGE6IEtleURhdGEgPSB0aGlzLmtleURhdGEoc2VsZWN0b3Iua2V5KTtcbiAgICAgICAgaWYgKGtleURhdGEuaXNQcm9wZXJ0eVNjb3BlKSB7XG4gICAgICAgICAgICBzY29yZSAqPSA1O1xuICAgICAgICB9XG4gICAgICAgIC8vIFRvZG86IHdlIGNvdWxkIHNjb3JlIGJhc2VkIG9uICMgb2YgZW50cmllcyBpbiBLZXlEYXRhXG4gICAgICAgIHJldHVybiBzY29yZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIGlmIGFkZGl0aW9uIG9mIHRoaXMgcnVsZSByZXN1bHRzIGluIGFkZGl0aW9uIG9mIGV4dHJhIHJ1bGVzLCB0aG9zZSBhcmUgcmV0dXJuZWRcbiAgICAgKiAobnVsbCBvdGhlcndpc2UpXG4gICAgICovXG4gICAgX2VkaXRpbmdSdWxlRW5kKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLl9jdXJyZW50UnVsZVNldC5lbmQsIHRoaXMuX3J1bGVDb3VudCk7XG4gICAgfVxuXG5cbiAgICBfYWRkUnVsZUFuZFJldHVybkV4dHJhcyhydWxlOiBSdWxlKTogQXJyYXk8UnVsZT4ge1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLl9lZGl0aW5nUnVsZUVuZCgpO1xuICAgICAgICBsZXQgZXh0cmFzOiBBcnJheTxSdWxlPjtcblxuICAgICAgICB0aGlzLmFkZFJ1bGUocnVsZSk7XG5cbiAgICAgICAgLy8gUmV0dXJuIGFueSBleHRyYSBydWxlcyBjcmVhdGVkIGJ5IGFkZGl0aW9uIG9mIHRoaXMgb25lXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydCwgYyA9IHRoaXMuX2VkaXRpbmdSdWxlRW5kKCk7IGkgPCBjOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByID0gdGhpcy5fcnVsZXNbaV07XG4gICAgICAgICAgICBpZiAociAhPT0gcnVsZSkge1xuICAgICAgICAgICAgICAgIGlmIChpc0JsYW5rKGV4dHJhcykpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFzID0gbmV3IEFycmF5PFJ1bGU+KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGV4dHJhcy5wdXNoKHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleHRyYXM7XG4gICAgfVxuXG4gICAgLy8gSWNreSBtZXRob2QgdG8gcmVwbGFjZSBhbiBleGl0ZWQgcnVsZSBpbiBwbGFjZVxuICAgIF91cGRhdGVFZGl0ZWRSdWxlKHJ1bGU6IFJ1bGUsIGV4dHJhczogQXJyYXk8UnVsZT4pOiBBcnJheTxSdWxlPiB7XG4gICAgICAgIC8vIGluIHBsYWNlIHJlcGxhY2UgZXhpc3RpbmcgcnVsZSB3aXRoIE5vT3BcbiAgICAgICAgbGV0IG5vb3BydWxlOiBSdWxlID0gbmV3IFJ1bGUobnVsbCwgbnVsbCwgMCwgMCk7XG4gICAgICAgIG5vb3BydWxlLmRpc2FibGUoKTtcblxuICAgICAgICB0aGlzLl9ydWxlc1tydWxlLmlkXSA9IG5vb3BydWxlO1xuXG4gICAgICAgIGlmIChpc1ByZXNlbnQoZXh0cmFzKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgciBvZiBleHRyYXMpIHtcbiAgICAgICAgICAgICAgICByLmRpc2FibGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpbmNlIHRoaXMgcnVsZSBoYXMgYWxyZWFkeSBiZWVuIG11dGF0ZWQgKHRoZSBmaXJzdCB0aW1lIGl0IHdhcyBhZGRlZCkgd2UgbmVlZCB0b1xuICAgICAgICAvLyByZXZlcnNlIHRoZSBhZGRpdGlvbiBvZiB0aGUgc2NvcGVLZXlcbiAgICAgICAgbGV0IHByZWRzID0gcnVsZS5zZWxlY3RvcnM7XG5cbiAgICAgICAgaWYgKChpc1ByZXNlbnQocHJlZHMpICYmIHByZWRzLmxlbmd0aCA+IDApICYmIExpc3RXcmFwcGVyLmxhc3Q8U2VsZWN0b3I+KFxuICAgICAgICAgICAgICAgIHByZWRzKS5rZXkgPT09IE1ldGEuU2NvcGVLZXkpIHtcbiAgICAgICAgICAgIExpc3RXcmFwcGVyLnJlbW92ZUF0PFNlbGVjdG9yPihwcmVkcywgcHJlZHMubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vdyAocmUpLWFkZCBpdCBhbmQgaW52YWxpZGF0ZVxuICAgICAgICBleHRyYXMgPSB0aGlzLl9hZGRSdWxlQW5kUmV0dXJuRXh0cmFzKHJ1bGUpO1xuICAgICAgICB0aGlzLmludmFsaWRhdGVSdWxlcygpO1xuICAgICAgICByZXR1cm4gZXh0cmFzO1xuICAgIH1cblxuXG4gICAgc2NvcGVLZXlGb3JTZWxlY3RvcihwcmVkczogQXJyYXk8U2VsZWN0b3I+KTogc3RyaW5nIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHByZWRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgcHJlZCA9IHByZWRzW2ldO1xuICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmtleURhdGEocHJlZC5rZXkpO1xuICAgICAgICAgICAgaWYgKGRhdGEuaXNQcm9wZXJ0eVNjb3BlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZWQua2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuXG4gICAgYWRkUnVsZUZyb21TZWxlY3Rvck1hcChzZWxlY3Rvck1hcDogTWFwPHN0cmluZywgYW55PiwgcHJvcGVydHlNYXA6IE1hcDxzdHJpbmcsIGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hZGRSdWxlRnJvbVNlbGVjdG9yTWFwV2l0aFJhbmsoc2VsZWN0b3JNYXAsIHByb3BlcnR5TWFwLCAwKTtcbiAgICB9XG5cbiAgICBhZGRSdWxlRnJvbVNlbGVjdG9yTWFwV2l0aFJhbmsoc2VsZWN0b3JNYXA6IE1hcDxzdHJpbmcsIGFueT4sIHByb3BlcnR5TWFwOiBNYXA8c3RyaW5nLCBhbnk+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5rOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbGV0IHJ1bGUgPSBuZXcgUnVsZShTZWxlY3Rvci5mcm9tTWFwKHNlbGVjdG9yTWFwKSwgcHJvcGVydHlNYXAsIDAsIC0xKTtcbiAgICAgICAgaWYgKHJhbmsgIT09IDApIHtcbiAgICAgICAgICAgIHJ1bGUucmFuayA9IHJhbms7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGRSdWxlKHJ1bGUpO1xuICAgIH1cblxuXG4gICAgYWRkUnVsZXMocnVsZVNldDogTWFwPHN0cmluZywgYW55Piwgc2VsZWN0b3JzOiBBcnJheTxTZWxlY3Rvcj4pIHtcbiAgICAgICAgLy8gU3BlY2lhbCBrZXlzOiAgJ3Byb3BzLCAncnVsZXMnLiAgRXZlcnRoaW5nIGVsc2UgaXMgYSBzZWxlY3RvclxuICAgICAgICBsZXQgcHJvcHM6IE1hcDxzdHJpbmcsIGFueT47XG4gICAgICAgIGxldCBydWxlczogQXJyYXk8TWFwPHN0cmluZywgYW55Pj47XG5cbiAgICAgICAgTWFwV3JhcHBlci5pdGVyYWJsZShydWxlU2V0KS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAncHJvcHMnKSB7XG4gICAgICAgICAgICAgICAgcHJvcHMgPSB2YWx1ZTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdydWxlcycpIHtcbiAgICAgICAgICAgICAgICBydWxlcyA9IHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RvcnMucHVzaChuZXcgU2VsZWN0b3Ioa2V5LCB2YWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KHByb3BzKSkge1xuICAgICAgICAgICAgdGhpcy5hZGRSdWxlKG5ldyBSdWxlKHNlbGVjdG9ycywgcHJvcHMsIDApKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcmVzZW50KHJ1bGVzKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgciBvZiBydWxlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUnVsZXMociwgc2VsZWN0b3JzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHRoaXMgb25lIGV4cGVjdCB0aGF0IHdlIGFscmVhZHkgb3BlbmVkIHRoZSBydWxlc2V0XG4gICAgX2xvYWRSdWxlcyhydWxlVGV4dD86IGFueSwgbW9kdWxlOiBzdHJpbmcgPSAnc3lzdGVtJyxcbiAgICAgICAgICAgICAgIGVkaXRhYmxlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuX3J1bGVMb2FkZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcnVsZUxvYWRlci5sb2FkUnVsZXModGhpcywgcnVsZVRleHQsIG1vZHVsZSwgKHJ1bGUpID0+IHRoaXMuYWRkUnVsZShydWxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kUnVsZVNldCgpLmRpc2FibGVSdWxlcygpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBsb2FkaW5nIHJ1bGU6ICcgKyBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgbG9hZFJ1bGVzKHJ1bGVUZXh0PzogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2xvYWRSdWxlc1dpdGhSdWxlU2V0KCdTdHJpbmdMaXRlcmFsJywgcnVsZVRleHQsIDApO1xuICAgICAgICB0aGlzLmVuZFJ1bGVTZXQoKTtcbiAgICB9XG5cblxuICAgIF9sb2FkUnVsZXNXaXRoUnVsZVNldChmaWxlbmFtZTogc3RyaW5nLCBydWxlVGV4dDogYW55LCByYW5rOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5iZWdpblJ1bGVTZXRXaXRoUmFuayhyYW5rLCBmaWxlbmFtZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkUnVsZXMocnVsZVRleHQpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kUnVsZVNldCgpLmRpc2FibGVSdWxlcygpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBsb2FkaW5nIHJ1bGU6ICcgKyBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgbG9hZFVzZXJSdWxlKHNvdXJjZTogYW55LCB1c2VyQ2xhc3M6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdW5pbXBsZW1lbnRlZCgpO1xuICAgIH1cblxuICAgIHBhcnNlUHJvcGVydHlBc3NpZ25tZW50KHByb3BTdHJpbmc6IHN0cmluZywgcHJvcGVydHlNYXA6IE1hcDxzdHJpbmcsIGFueT4pOiBzdHJpbmcge1xuICAgICAgICAvLyB0b2RvOiBpbXBsZW1lbnQgdGhpc1xuICAgICAgICByZXR1cm4gdW5pbXBsZW1lbnRlZCgpO1xuICAgIH1cblxuXG4gICAgY2xlYXJDYWNoZXMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX01hdGNoVG9Qcm9wc0NhY2hlID0gbmV3IENvbGxlY3Rpb25zLkRpY3Rpb25hcnk8TWF0Y2gsIFByb3BlcnR5TWFwPigpO1xuICAgICAgICB0aGlzLl9Qcm9wZXJ0eU1hcFVuaXF1ZXIgPSBuZXcgQ29sbGVjdGlvbnMuRGljdGlvbmFyeTxQcm9wZXJ0eU1hcCwgUHJvcGVydHlNYXA+KCk7XG4gICAgICAgIHRoaXMuX2lkZW50aXR5Q2FjaGUgPSBuZXcgQ29sbGVjdGlvbnMuRGljdGlvbmFyeTxhbnksIGFueT4oKTtcbiAgICB9XG5cblxuICAgIGlzVHJhaXRFeHBvcnRSdWxlKHJ1bGU6IFJ1bGUpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGlzQmxhbmsocnVsZS5wcm9wZXJ0aWVzKSB8fCBydWxlIHx8IHJ1bGUucHJvcGVydGllcy5zaXplID09PSAxKSB7XG5cbiAgICAgICAgICAgIGxldCBrZXk6IHN0cmluZyA9IEFycmF5LmZyb20ocnVsZS5wcm9wZXJ0aWVzLmtleXMoKSlbMF07XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nV3JhcHBlci5lbmRzV2lkdGgoa2V5LCAnX3RyYWl0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGJlZ2luUnVsZVNldChpZGVudGlmaWNhdG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5iZWdpblJ1bGVTZXRXaXRoUmFuayh0aGlzLl9ydWxlQ291bnQsIGlkZW50aWZpY2F0b3IpO1xuICAgIH1cblxuXG4gICAgYmVnaW5SdWxlU2V0V2l0aFJhbmsocmFuazogbnVtYmVyLCBmaWxlUGF0aDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhc3NlcnQoaXNCbGFuayh0aGlzLl9jdXJyZW50UnVsZVNldCksXG4gICAgICAgICAgICAgICAgJ0NhbiB0IHN0YXJ0IG5ldyBydWxlIHNldCB3aGlsZSBvbmUgaW4gcHJvZ3Jlc3MnKTtcblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFJ1bGVTZXQgPSBuZXcgUnVsZVNldCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRSdWxlU2V0Ll9zdGFydCA9IHRoaXMuX3J1bGVDb3VudDtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRSdWxlU2V0Ll9lbmQgPSB0aGlzLl9ydWxlQ291bnQ7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50UnVsZVNldC5fcmFuayA9IHJhbms7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50UnVsZVNldC5fZmlsZVBhdGggPSBmaWxlUGF0aDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuXG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYmVnaW5SZXBsYWNlbWVudFJ1bGVTZXQob3JpZzogUnVsZVNldCk6IHZvaWQge1xuICAgICAgICBsZXQgb3JpZ1JhbmsgPSBvcmlnLnN0YXJ0UmFuaygpO1xuICAgICAgICB0aGlzLmJlZ2luUnVsZVNldFdpdGhSYW5rKHRoaXMuX3J1bGVDb3VudCwgb3JpZy5fZmlsZVBhdGgpO1xuICAgICAgICB0aGlzLl9jdXJyZW50UnVsZVNldC5fcmFuayA9IG9yaWdSYW5rO1xuICAgIH1cblxuXG4gICAgZW5kUnVsZVNldCgpOiBSdWxlU2V0IHtcbiAgICAgICAgYXNzZXJ0KGlzUHJlc2VudCh0aGlzLl9jdXJyZW50UnVsZVNldCksICdObyBydWxlIHNldCBwcm9ncmVzcycpO1xuICAgICAgICBsZXQgcmVzdWx0OiBSdWxlU2V0ID0gdGhpcy5fY3VycmVudFJ1bGVTZXQ7XG4gICAgICAgIGlmICh0aGlzLl9ydWxlQ291bnQgPCByZXN1bHQuX2VuZCkge1xuICAgICAgICAgICAgdGhpcy5fcnVsZUNvdW50ID0gcmVzdWx0Ll9lbmQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3VycmVudFJ1bGVTZXQgPSBudWxsO1xuICAgICAgICB0aGlzLl9ydWxlU2V0R2VuZXJhdGlvbisrO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG5cbiAgICBnZXQgcnVsZVNldEdlbmVyYXRpb24oKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3J1bGVTZXRHZW5lcmF0aW9uO1xuICAgIH1cblxuICAgIGludmFsaWRhdGVSdWxlcygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fcnVsZVNldEdlbmVyYXRpb24rKztcbiAgICAgICAgdGhpcy5jbGVhckNhY2hlcygpO1xuICAgIH1cblxuXG4gICAgbmV3Q29udGV4dCgpOiBDb250ZXh0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb250ZXh0KHRoaXMpO1xuICAgIH1cblxuICAgIGdldCBkZWNsYXJlS2V5TWFzaygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVjbGFyZUtleU1hc2s7XG4gICAgfVxuXG5cbiAgICAvLyBUb3VjaCBhIGtleS92YWx1ZSB0byBmb3JjZSBwcmUtbG9hZGluZy9yZWdpc3RyYXRpb24gb2YgYXNzb2NpYXRlZCBydWxlIGZpbGVzXG4gICAgdG91Y2goa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLm5ld0NvbnRleHQoKTtcbiAgICAgICAgY29udGV4dC5wdXNoKCk7XG4gICAgICAgIGNvbnRleHQuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICBjb250ZXh0LmFsbFByb3BlcnRpZXMoKTtcbiAgICAgICAgY29udGV4dC5wb3AoKTtcbiAgICB9XG5cblxuICAgIHRyYW5zZm9ybVZhbHVlKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogYW55IHtcbiAgICAgICAgbGV0IGtleURhdGEgPSB0aGlzLl9rZXlEYXRhLmdldChrZXkpO1xuICAgICAgICBpZiAoaXNQcmVzZW50KGtleURhdGEpICYmIGlzUHJlc2VudChrZXlEYXRhLl90cmFuc2Zvcm1lcikpIHtcbiAgICAgICAgICAgIHZhbHVlID0ga2V5RGF0YS5fdHJhbnNmb3JtZXIudHJhbmZvcm1Gb3JNYXRjaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIG1hdGNoKGtleTogc3RyaW5nLCB2YWx1ZTogYW55LCBpbnRlcm1lZGlhdGVSZXN1bHQ6IE1hdGNoUmVzdWx0KTogTWF0Y2hSZXN1bHQge1xuICAgICAgICBsZXQga2V5RGF0YSA9IHRoaXMuX2tleURhdGEuZ2V0KGtleSk7XG4gICAgICAgIGlmIChpc0JsYW5rKGtleURhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJtZWRpYXRlUmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGxldCBrZXlNYXNrOiBudW1iZXIgPSBzaGlmdExlZnQoMSwga2V5RGF0YS5faWQpO1xuXG4gICAgICAgIC8vIERvZXMgb3VyIHJlc3VsdCBhbHJlYWR5IGluY2x1ZGUgdGhpcyBrZXk/ICBUaGVuIG5vIG5lZWQgdG8gam9pbiBhZ2FpblxuICAgICAgICAvLyBpZiAoaW50ZXJtZWRpYXRlUmVzdWx0ICE9PSBudWxsICYmIChpbnRlcm1lZGlhdGVSZXN1bHQuX2tleXNNYXRjaGVkTWFzayAmIGtleU1hc2spICE9PVxuICAgICAgICAvLyAwKSByZXR1cm4gaW50ZXJtZWRpYXRlUmVzdWx0O1xuXG4gICAgICAgIHJldHVybiBuZXcgTWF0Y2hSZXN1bHQodGhpcywga2V5RGF0YSwgdmFsdWUsIGludGVybWVkaWF0ZVJlc3VsdCk7XG4gICAgfVxuXG5cbiAgICB1bmlvbk92ZXJyaWRlTWF0Y2goa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksXG4gICAgICAgICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZVJlc3VsdDogVW5pb25NYXRjaFJlc3VsdCk6IFVuaW9uTWF0Y2hSZXN1bHQge1xuICAgICAgICBsZXQga2V5RGF0YTogS2V5RGF0YSA9IHRoaXMuX2tleURhdGEuZ2V0KE1ldGEub3ZlcnJpZGVLZXlGb3JLZXkoa2V5KSk7XG4gICAgICAgIGlmIChpc0JsYW5rKGtleURhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJtZWRpYXRlUmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVW5pb25NYXRjaFJlc3VsdCh0aGlzLCBrZXlEYXRhLCB2YWx1ZSwgaW50ZXJtZWRpYXRlUmVzdWx0KTtcbiAgICB9XG5cbiAgICBuZXdQcm9wZXJ0aWVzTWFwKCk6IFByb3BlcnR5TWFwIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eU1hcCgpO1xuICAgIH1cblxuICAgIHByb3BlcnRpZXNGb3JNYXRjaChtYXRjaFJlc3VsdDogTWF0Y2hSZXN1bHQpOiBQcm9wZXJ0eU1hcCB7XG4gICAgICAgIGxldCBwcm9wZXJ0aWVzOiBQcm9wZXJ0eU1hcCA9IHRoaXMuX01hdGNoVG9Qcm9wc0NhY2hlLmdldFZhbHVlKG1hdGNoUmVzdWx0KTtcbiAgICAgICAgaWYgKGlzUHJlc2VudChwcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wZXJ0aWVzID0gdGhpcy5uZXdQcm9wZXJ0aWVzTWFwKCk7XG5cbiAgICAgICAgbGV0IGFycjogbnVtYmVyW10gPSBtYXRjaFJlc3VsdC5maWx0ZXJlZE1hdGNoZXMoKTtcbiAgICAgICAgaWYgKGlzQmxhbmsoYXJyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaXJzdCBlbnRyeSBpcyBjb3VudFxuICAgICAgICBsZXQgY291bnQ6IG51bWJlciA9IGFyclswXTtcbiAgICAgICAgbGV0IHJ1bGVzOiBBcnJheTxSdWxlPiA9IG5ldyBBcnJheTxSdWxlPihjb3VudCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBydWxlc1tpXSA9IHRoaXMuX3J1bGVzW2FycltpICsgMV1dO1xuICAgICAgICB9XG5cbiAgICAgICAgTGlzdFdyYXBwZXIuc29ydDxSdWxlPihydWxlcywgKG8xLCBvMikgPT4gbzEucmFuayAtIG8yLnJhbmspO1xuXG4gICAgICAgIGxldCBtb2RpZmllZE1hc2sgPSAwO1xuICAgICAgICBsZXQgZGVjbGFyZUtleTogc3RyaW5nID0gKCh0aGlzLl9kZWNsYXJlS2V5TWFzayAmIG1hdGNoUmVzdWx0LmtleXNNYXRjaGVkTWFzaykgIT09IDApXG4gICAgICAgICAgICA/IG1hdGNoUmVzdWx0LnZhbHVlRm9yS2V5KE1ldGEuS2V5RGVjbGFyZSkgOiBudWxsO1xuXG5cbiAgICAgICAgZm9yIChsZXQgciBpbiBydWxlcykge1xuICAgICAgICAgICAgbW9kaWZpZWRNYXNrIHw9IHJ1bGVzW3JdLmFwcGx5KHRoaXMsIHByb3BlcnRpZXMsIGRlY2xhcmVLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcy5hd2FrZVByb3BlcnRpZXMoKTtcbiAgICAgICAgdGhpcy5fTWF0Y2hUb1Byb3BzQ2FjaGUuc2V0VmFsdWUobWF0Y2hSZXN1bHQuaW1tdXRhYmxlQ29weSgpLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfVxuXG5cbiAgICBrZXlEYXRhKGtleTogc3RyaW5nKTogS2V5RGF0YSB7XG4gICAgICAgIGxldCBkYXRhOiBLZXlEYXRhID0gdGhpcy5fa2V5RGF0YS5nZXQoa2V5KTtcblxuICAgICAgICBpZiAoaXNCbGFuayhkYXRhKSkge1xuICAgICAgICAgICAgbGV0IGlkOiBudW1iZXIgPSB0aGlzLl9uZXh0S2V5SWQ7XG5cbiAgICAgICAgICAgIGlmIChpZCA+PSBNZXRhLk1heEtleURhdGFzIC0gMSkge1xuICAgICAgICAgICAgICAgIHByaW50KCdFeGNlZWRlZCBtYXhpbXVtIG51bWJlciBvZiBjb250ZXh0IGtleXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX25leHRLZXlJZCsrO1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBLZXlEYXRhKGtleSwgaWQpO1xuXG4gICAgICAgICAgICB0aGlzLl9rZXlEYXRhc0J5SWRbaWRdID0gZGF0YTtcbiAgICAgICAgICAgIHRoaXMuX2tleURhdGEuc2V0KGtleSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG5cbiAgICBfa2V5c0luTWFzayhtYXNrOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gICAgICAgIGxldCBtYXRjaGVzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBsZXQgcG9zID0gMDtcbiAgICAgICAgd2hpbGUgKG1hc2sgIT09IDApIHtcbiAgICAgICAgICAgIGlmICgobWFzayAmIDEpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKHRoaXMuX2tleURhdGFzQnlJZFtwb3NdLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICBtYXNrID0gc2hpZnRSaWdodChtYXNrLCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICB9XG5cbiAgICByZWdpc3RlcktleUluaXRPYnNlcnZlcihrZXk6IHN0cmluZywgbzogVmFsdWVRdWVyaWVkT2JzZXJ2ZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5rZXlEYXRhKGtleSkuYWRkT2JzZXJ2ZXIobyk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJWYWx1ZVRyYW5zZm9ybWVyRm9yS2V5KGtleTogc3RyaW5nLCB0cmFuc2Zvcm1lcjogS2V5VmFsdWVUcmFuc2Zvcm1lcik6IHZvaWQge1xuICAgICAgICB0aGlzLmtleURhdGEoa2V5KS5fdHJhbnNmb3JtZXIgPSB0cmFuc2Zvcm1lcjtcbiAgICB9XG5cblxuICAgIGdldCBpZGVudGl0eUNhY2hlKCk6IENvbGxlY3Rpb25zLkRpY3Rpb25hcnk8YW55LCBhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkZW50aXR5Q2FjaGU7XG4gICAgfVxuXG5cbiAgICBuZXdNYXRjaEFycmF5KCk6IE1hdGNoVmFsdWVbXSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBtYXRjaEFycmF5QXNzaWduKGFycmF5OiBNYXRjaFZhbHVlW10sIGtleURhdGE6IEtleURhdGEsIG1hdGNoVmFsdWU6IE1hdGNoVmFsdWUpOiB2b2lkIHtcbiAgICAgICAgbGV0IGlkeCA9IGtleURhdGEuX2lkO1xuICAgICAgICBsZXQgY3VyciA9IGFycmF5W2lkeF07XG4gICAgICAgIGlmIChpc1ByZXNlbnQoY3VycikpIHtcbiAgICAgICAgICAgIG1hdGNoVmFsdWUgPSBjdXJyLnVwZGF0ZUJ5QWRkaW5nKG1hdGNoVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGFycmF5W2lkeF0gPSBtYXRjaFZhbHVlO1xuICAgIH1cblxuXG4gICAgcHJvcGVydHlXaWxsRG9NZXJnZShwcm9wZXJ0eU5hbWU6IHN0cmluZywgb3JpZ1ZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IG1lcmdlcjogUHJvcGVydHlNZXJnZXIgPSB0aGlzLm1lcmdlckZvclByb3BlcnR5KHByb3BlcnR5TmFtZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaXNQcm9wZXJ0eU1lcmdlcklzQ2hhaW5pbmcobWVyZ2VyKSB8fCAoaXNQcmVzZW50KFxuICAgICAgICAgICAgb3JpZ1ZhbHVlKSAmJiAob3JpZ1ZhbHVlIGluc3RhbmNlb2YgTWFwKSk7XG4gICAgfVxuXG5cbiAgICBtYW5hZ2VyRm9yUHJvcGVydHkobmFtZTogc3RyaW5nKTogUHJvcGVydHlNYW5hZ2VyIHtcbiAgICAgICAgbGV0IG1hbmFnZXI6IFByb3BlcnR5TWFuYWdlciA9IHRoaXMuX21hbmFnZXJGb3JQcm9wZXJ0eS5nZXQobmFtZSk7XG4gICAgICAgIGlmIChpc0JsYW5rKG1hbmFnZXIpKSB7XG4gICAgICAgICAgICBtYW5hZ2VyID0gbmV3IFByb3BlcnR5TWFuYWdlcihuYW1lKTtcbiAgICAgICAgICAgIHRoaXMuX21hbmFnZXJGb3JQcm9wZXJ0eS5zZXQobmFtZSwgbWFuYWdlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hbmFnZXI7XG4gICAgfVxuXG5cbiAgICBtaXJyb3JQcm9wZXJ0eVRvQ29udGV4dChwcm9wZXJ0eU5hbWU6IHN0cmluZywgY29udGV4dEtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGxldCBrZXlEYXRhID0gdGhpcy5rZXlEYXRhKGNvbnRleHRLZXkpO1xuICAgICAgICBsZXQgbWFuYWdlciA9IHRoaXMubWFuYWdlckZvclByb3BlcnR5KHByb3BlcnR5TmFtZSk7XG4gICAgICAgIG1hbmFnZXIuX2tleURhdGFUb1NldCA9IGtleURhdGE7XG4gICAgfVxuXG5cbiAgICBkZWZpbmVLZXlBc1Byb3BlcnR5U2NvcGUoY29udGV4dEtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGxldCBrZXlEYXRhOiBLZXlEYXRhID0gdGhpcy5rZXlEYXRhKGNvbnRleHRLZXkpO1xuICAgICAgICBrZXlEYXRhLmlzUHJvcGVydHlTY29wZSA9IHRydWU7XG5cbiAgICAgICAgbGV0IHRyYWl0S2V5OiBzdHJpbmcgPSBjb250ZXh0S2V5ICsgJ190cmFpdCc7XG4gICAgICAgIHRoaXMubWlycm9yUHJvcGVydHlUb0NvbnRleHQodHJhaXRLZXksIHRyYWl0S2V5KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclByb3BlcnR5TWVyZ2VyKHRyYWl0S2V5LCBNZXRhLlByb3BlcnR5TWVyZ2VyX0RlY2xhcmVMaXN0KTtcbiAgICB9XG5cbiAgICBpc1Byb3BlcnR5U2NvcGVLZXkoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIE1ldGEuU2NvcGVLZXkgPT09IGtleTtcbiAgICB9XG5cbiAgICByZWdpc3RlclByb3BlcnR5TWVyZ2VyKHByb3BlcnR5TmFtZTogc3RyaW5nLCBtZXJnZXI6IFByb3BlcnR5TWVyZ2VyKTogdm9pZCB7XG4gICAgICAgIGlmIChpc0JsYW5rKG1lcmdlci5fbWV0YSkpIHtcbiAgICAgICAgICAgIG1lcmdlci5fbWV0YSA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1hbmFnZXI6IFByb3BlcnR5TWFuYWdlciA9IHRoaXMubWFuYWdlckZvclByb3BlcnR5KHByb3BlcnR5TmFtZSk7XG4gICAgICAgIG1hbmFnZXIuX21lcmdlciA9IG1lcmdlcjtcbiAgICB9XG5cbiAgICBtZXJnZXJGb3JQcm9wZXJ0eShwcm9wZXJ0eU5hbWU6IHN0cmluZyk6IFByb3BlcnR5TWVyZ2VyIHtcbiAgICAgICAgbGV0IG1hbmFnZXI6IFByb3BlcnR5TWFuYWdlciA9IHRoaXMubWFuYWdlckZvclByb3BlcnR5KHByb3BlcnR5TmFtZSk7XG4gICAgICAgIHJldHVybiBtYW5hZ2VyLl9tZXJnZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc1Byb3BlcnR5TWVyZ2VySXNDaGFpbmluZyh2YWw6IGFueSk6IHZhbCBpcyBQcm9wZXJ0eU1lcmdlcklzQ2hhaW5pbmcge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHZhbC5pc1Byb3BNZXJnZXJJc0NoYWluaW5nTWFyaykgJiYgdmFsLmlzUHJvcE1lcmdlcklzQ2hhaW5pbmdNYXJrO1xuICAgIH1cblxuXG4gICAgZ3JvdXBGb3JUcmFpdCh0cmFpdDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdkZWZhdWx0JztcbiAgICB9XG5cbiAgICBfbG9nUnVsZVN0YXRzKCk6IHZvaWQge1xuICAgICAgICBsZXQgdG90YWwgPSAwO1xuXG4gICAgICAgIGxldCB2YWx1ZXMgPSB0aGlzLl9rZXlEYXRhLmtleXMoKTtcblxuICAgICAgICBsZXQgY291bnRzOiBhbnlbXSA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgQXJyYXkuZnJvbSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICBsZXQga2V5RGF0YSA9IHRoaXMuX2tleURhdGEuZ2V0KGlkKTtcbiAgICAgICAgICAgIGxldCB2YWx1ZXNzID0ga2V5RGF0YS5ydWxlVmVjcy52YWx1ZXMoKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgdm0gIG9mIHZhbHVlc3MpIHtcbiAgICAgICAgICAgICAgICBsZXQga3ZjID0gbmV3IEtleVZhbHVlQ291bnQoa2V5RGF0YS5fa2V5LCAoPGFueT52bSlbJ192YWx1ZSddLCBpc1ByZXNlbnQoXG4gICAgICAgICAgICAgICAgICAgIHZtLl9hcnIpID8gdm0uX2FyclswXSA6IDApO1xuXG4gICAgICAgICAgICAgICAgdG90YWwgKz0ga3ZjLmNvdW50O1xuICAgICAgICAgICAgICAgIGNvdW50cy5wdXNoKGt2Yyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgTGlzdFdyYXBwZXIuc29ydDxLZXlWYWx1ZUNvdW50Pihjb3VudHMsIChvMSwgbzIpID0+IG8yLmNvdW50IC0gbzEuY291bnQpO1xuXG4gICAgICAgIGxldCBidWYgPSBuZXcgU3RyaW5nSm9pbmVyKFtdKTtcbiAgICAgICAgbGV0IGMgPSBNYXRoLm1pbigxMCwgY291bnRzLmxlbmd0aCk7XG5cbiAgICAgICAgYnVmLmFkZCgnVG90YWwgaW5kZXggZW50cmllcyBjb21wYXJpc29ucyBwZXJmb3JtZWQ6ICcgKyBNYXRjaC5fRGVidWdfRWxlbWVudFByb2Nlc3NDb3VudCk7XG4gICAgICAgIGJ1Zi5hZGQoJ1xcblRvdGFsIGluZGV4IGVudHJpZXM6ICcgKyB0b3RhbCk7XG4gICAgICAgIGJ1Zi5hZGQoJ1xcblRvcCAga2V5cy92YWx1ZXM6ICcgKyBjKTtcblxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQga3ZjID0gY291bnRzW2ldO1xuXG4gICAgICAgICAgICBidWYuYWRkKCcgICAgICcgKyBrdmMua2V5ICsgJyAgPSAnICsga3ZjLnZhbHVlICsgJyA6ICcgKyBrdmMuY291bnQgKyAnIGVudHJpZXMnKTtcbiAgICAgICAgICAgIGJ1Zi5hZGQoJ1xcbicpO1xuICAgICAgICB9XG4gICAgICAgIHByaW50KGJ1Zi50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ01ldGEnO1xuICAgIH1cblxuXG4gICAgaXNOdWxsTWFya2VyKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh2YWx1ZSkgJiYgdmFsdWVbJ21hcmtlcm51bGwnXTtcbiAgICB9XG5cblxuICAgIGFkZFRlc3RVc2VyUnVsZSh0ZXN0UnVsZU5hbWU6IHN0cmluZywgc291cmNlOiBhbnkpIHtcbiAgICAgICAgdGhpcy5fdGVzdFJ1bGVzLnNldCh0ZXN0UnVsZU5hbWUsIHNvdXJjZSk7XG4gICAgfVxuXG5cbn1cblxuXG5leHBvcnQgY2xhc3MgS2V5VmFsdWVDb3VudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMga2V5OiBzdHJpbmcsIHB1YmxpYyB2YWx1ZTogYW55LCBwdWJsaWMgY291bnQ6IG51bWJlcikge1xuICAgIH1cbn1cblxuLyoqXG4gKiBTdG9yZSBvZiBwb2xpY3kgaW5mb3JtYXRpb24gZm9yIHBhcnRpY3VsYXIgcHJvcGVydGllcyAtLSBtb3N0IHNpZ25pZmljYW50bHksIGhvd1xuICogc3VjY2Vzc2l2ZSB2YWx1ZXMgb2YgdGhpcyBwcm9wZXJ0eSBhcmUgdG8gYmUgKm1lcmdlZCogZHVyaW5nIHJ1bGUgYXBwbGljYXRpb24uXG4gKiAoU2VlIE1ldGEucmVnaXN0ZXJQcm9wZXJ0eU1lcmdlcikuICBFLmcuICd2aXNpYmxlJywgJ3RyYWl0JywgYW5kICd2YWxpZCcgYWxsIGhhdmUgdW5pcXVlXG4gKiBtZXJnZSBwb2xpY2llcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlcnR5TWFuYWdlciB7XG4gICAgX21lcmdlcjogUHJvcGVydHlNZXJnZXI7XG4gICAgX2tleURhdGFUb1NldDogS2V5RGF0YTtcblxuXG4gICAgY29uc3RydWN0b3IocHVibGljIF9uYW1lOiBzdHJpbmcpIHtcbiAgICB9XG5cblxuICAgIG1lcmdlUHJvcGVydHkocHJvcGVydHlOYW1lOiBzdHJpbmcsIG9yaWc6IGFueSwgbmV3VmFsdWU6IGFueSwgaXNEZWNsYXJlOiBib29sZWFuKTogYW55IHtcbiAgICAgICAgaWYgKGlzQmxhbmsob3JpZykpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdWYWx1ZSBpbnN0YW5jZW9mIE92ZXJyaWRlVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiAoPE92ZXJyaWRlVmFsdWU+IG5ld1ZhbHVlKS52YWx1ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5fbWVyZ2VyKSkge1xuICAgICAgICAgICAgLy8gUGVyaGFwcyBzaG91bGQgaGF2ZSBhIGRhdGEtdHlwZS1iYXNlZCBtZXJnZXIgcmVnaXN0cnk/XG4gICAgICAgICAgICBpZiAob3JpZyBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgICAgIGlmIChpc1ByZXNlbnQobmV3VmFsdWUpICYmIG5ld1ZhbHVlIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1lcmdlIG1hcHNcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9kbzogVEVTVCBjaGVjayBvdXRjb21lIG9mIHRoZSBtZXJnZSBhbmQgY29tcGFyZVxuICAgICAgICAgICAgICAgICAgICBsZXQgb3JpZ0Nsb25lID0gTWFwV3JhcHBlci5jbG9uZTxzdHJpbmcsIGFueT4ob3JpZyk7XG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gTWFwV3JhcHBlci5tZXJnZU1hcEludG9NYXBXaXRoT2JqZWN0KG9yaWdDbG9uZSwgbmV3VmFsdWUsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghKHRoaXMuX21lcmdlciBpbnN0YW5jZW9mIFByb3BlcnR5TWVyZ2VyRHluYW1pYykgJiZcbiAgICAgICAgICAgIChvcmlnIGluc3RhbmNlb2YgRHluYW1pY1Byb3BlcnR5VmFsdWUgfHwgbmV3VmFsdWUgaW5zdGFuY2VvZiBEeW5hbWljUHJvcGVydHlWYWx1ZSkpIHtcblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZWZlcnJlZE9wZXJhdGlvbkNoYWluKHRoaXMuX21lcmdlciwgb3JpZywgbmV3VmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlci5tZXJnZShvcmlnLCBuZXdWYWx1ZSwgaXNEZWNsYXJlKTtcbiAgICB9XG5cbn1cblxuLyoqXG4gKiBXcmFwcGVyIGZvciBhIHZhbHVlIHRoYXQgc2hvdWxkLCBpbiBydWxlIGFwcGxpY2F0aW9uLCBvdmVycmlkZSBhbnkgcHJldmlvdXMgdmFsdWUgZm9yIGl0c1xuICogcHJvcGVydHkuICBUaGlzIGNhbiBiZSB1c2VkIHRvIG92ZXJyaWRlIGRlZmF1bHQgcHJvcGVydHkgdmFsdWUgbWVyZ2UgcG9saWN5LCBmb3IgaW5zdGFuY2VcbiAqIGFsbG93aW5nIHRoZSAndmlzaWJsZScgcHJvcGVydHkgdG8gYmUgZm9yY2VkIGZyb20gZmFsc2UgdG8gdHJ1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE92ZXJyaWRlVmFsdWUge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3ZhbHVlOiBhbnkpIHtcbiAgICB9XG5cbiAgICB2YWx1ZSgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWUgPT09ICdudWxsJyA/IG51bGwgOiB0aGlzLl92YWx1ZTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMuX3ZhbHVlKSA/IHRoaXMuX3ZhbHVlLnRvU3RyaW5nKCkgKyAnIScgOiAnbnVsbCcgKyAnISc7XG4gICAgfVxufVxuXG5cbi8qKlxuICogS2V5RGF0YSBpcyB0aGUgcHJpbWFyeSBzdHJ1Y3R1cmUgZm9yIHJlcHJlc2VudGluZyBpbmZvcm1hdGlvbiBhYm91dCBjb250ZXh0IGtleXNcbiAqIChlLmcuICdjbGFzcycsICdsYXlvdXQnLCAnb3BlcmF0aW9uJywgJ2ZpZWxkJywgLi4uKSwgaW5jbHVkaW5nIGFuIGluZGV4IG9mIHJ1bGVzXG4gKiB0aGF0IG1hdGNoIG9uIHBhcnRpY3VsYXIgdmFsdWVzIG9mIHRoYXQga2V5IChfVmFsdWVNYXRjaGVzKS5cbiAqXG4gKiBOb3RlIHRoYXQgZXZlcnkgY29udGV4dCBrZXkgaGFzIGEgc21hbGwgaW50ZWdlciBJRCAoMC02MykgYW5kIHRoZXNlIGFyZSB1c2VzIGluXG4gKiAobG9uZykgbWFza3MgZm9yIGNlcnRhaW4gcnVsZSBtYXRjaGluZyBvcGVyYXRpb25zLlxuICovXG5cbmV4cG9ydCBjbGFzcyBLZXlEYXRhIHtcbiAgICBwcml2YXRlIF9ydWxlVmVjczogQ29sbGVjdGlvbnMuRGljdGlvbmFyeTxhbnksIFZhbHVlTWF0Y2hlcz47XG4gICAgcHJpdmF0ZSBfb2JzZXJ2ZXJzOiBBcnJheTxWYWx1ZVF1ZXJpZWRPYnNlcnZlcj47XG5cbiAgICBwcml2YXRlIF9hbnk6IFZhbHVlTWF0Y2hlcztcbiAgICBfdHJhbnNmb3JtZXI6IEtleVZhbHVlVHJhbnNmb3JtZXI7XG5cbiAgICBwcml2YXRlIF9pc1Byb3BlcnR5U2NvcGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICAgY29uc3RydWN0b3IocHVibGljIF9rZXk6IHN0cmluZywgcHVibGljIF9pZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3J1bGVWZWNzID0gbmV3IENvbGxlY3Rpb25zLkRpY3Rpb25hcnk8YW55LCBWYWx1ZU1hdGNoZXM+KCk7XG4gICAgICAgIHRoaXMuX2FueSA9IHRoaXMuZ2V0KE1ldGEuS2V5QW55KTtcblxuICAgIH1cblxuICAgIG1hc2tWYWx1ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gc2hpZnRMZWZ0KDEsIHRoaXMuX2lkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCh2YWx1ZTogYW55KTogVmFsdWVNYXRjaGVzIHtcbiAgICAgICAgaWYgKGlzQmxhbmsodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IE1ldGEuTnVsbE1hcmtlcjtcblxuICAgICAgICB9IGVsc2UgaWYgKGlzUHJlc2VudCh0aGlzLl90cmFuc2Zvcm1lcikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdHJhbnNmb3JtZXIudHJhbmZvcm1Gb3JNYXRjaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1hdGNoZXM6IFZhbHVlTWF0Y2hlcyA9IHRoaXMuX3J1bGVWZWNzLmdldFZhbHVlKHZhbHVlKTtcblxuICAgICAgICBpZiAoaXNCbGFuayhtYXRjaGVzKSkge1xuICAgICAgICAgICAgbWF0Y2hlcyA9IG5ldyBWYWx1ZU1hdGNoZXModmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KHZhbHVlKSAmJiAhQm9vbGVhbldyYXBwZXIuaXNGYWxzZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLl9wYXJlbnQgPSB0aGlzLl9hbnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9ydWxlVmVjcy5zZXRWYWx1ZSh2YWx1ZSwgbWF0Y2hlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfVxuXG4gICAgbWF0Y2hWYWx1ZSh2YWx1ZTogYW55KTogTWF0Y2hWYWx1ZSB7XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgbGV0IGxpc3QgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChsaXN0WzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBtdWx0aTogTXVsdGlNYXRjaFZhbHVlID0gbmV3IE11bHRpTWF0Y2hWYWx1ZSgpO1xuXG4gICAgICAgICAgICBMaXN0V3JhcHBlci5mb3JFYWNoV2l0aEluZGV4KGxpc3QsICh2LCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgbXVsdGkuZGF0YS5wdXNoKHRoaXMuZ2V0KHYpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG11bHRpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgYWRkRW50cnkodmFsdWU6IGFueSwgaWQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBsZXQgbWF0Y2hlczogVmFsdWVNYXRjaGVzID0gdGhpcy5nZXQodmFsdWUpO1xuICAgICAgICBsZXQgYmVmb3JlOiBudW1iZXJbXSA9IG1hdGNoZXMuX2FycjtcbiAgICAgICAgbGV0IGFmdGVyOiBudW1iZXJbXSA9IE1hdGNoLmFkZEludChiZWZvcmUsIGlkKTtcbiAgICAgICAgaWYgKGJlZm9yZSAhPT0gYWZ0ZXIpIHtcbiAgICAgICAgICAgIG1hdGNoZXMuX2FyciA9IGFmdGVyO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBsb29rdXAob3duZXI6IE1ldGEsIHZhbHVlOiBhbnkpOiBudW1iZXJbXSB7XG4gICAgICAgIGxldCBtYXRjaGVzOiBWYWx1ZU1hdGNoZXMgPSB0aGlzLmdldCh2YWx1ZSk7XG4gICAgICAgIGlmICghbWF0Y2hlcy5fcmVhZCAmJiBpc1ByZXNlbnQodGhpcy5fb2JzZXJ2ZXJzKSkge1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlcy5fcmVhZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBub3RpZnlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJlc2VudCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIExpc3RXcmFwcGVyLmZvckVhY2hXaXRoSW5kZXgodGhpcy5fb2JzZXJ2ZXJzLCAodiwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYubm90aWZ5KG93bmVyLCB0aGlzLl9rZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hdGNoZXMuX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIHBhcmVudCBoYXMgY2hhbmdlZCBhbmQgbmVlZCB0byB1bmlvbiBpbiBwYXJlbnQgZGF0YVxuICAgICAgICBtYXRjaGVzLmNoZWNrUGFyZW50KCk7XG4gICAgICAgIHJldHVybiBtYXRjaGVzLl9hcnI7XG4gICAgfVxuXG5cbiAgICBzZXRQYXJlbnQodmFsdWU6IGFueSwgcGFyZW50VmFsdWU6IGFueSk6IHZvaWQge1xuICAgICAgICBsZXQgcGFyZW50OiBWYWx1ZU1hdGNoZXMgPSB0aGlzLmdldChwYXJlbnRWYWx1ZSk7XG4gICAgICAgIGxldCBjaGlsZDogVmFsdWVNYXRjaGVzID0gdGhpcy5nZXQodmFsdWUpO1xuICAgICAgICBjaGlsZC5fcGFyZW50ID0gcGFyZW50O1xuICAgIH1cblxuXG4gICAgcGFyZW50KHZhbHVlOiBhbnkpOiBhbnkge1xuICAgICAgICBsZXQgY2hpbGQ6IFZhbHVlTWF0Y2hlcyA9IHRoaXMuZ2V0KHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkLl9wYXJlbnQuX3ZhbHVlO1xuICAgIH1cblxuXG4gICAgYWRkT2JzZXJ2ZXIobzogVmFsdWVRdWVyaWVkT2JzZXJ2ZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5fb2JzZXJ2ZXJzKSkge1xuICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXJzID0gbmV3IEFycmF5PFZhbHVlUXVlcmllZE9ic2VydmVyPigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29ic2VydmVycy5wdXNoKG8pO1xuICAgIH1cblxuXG4gICAgLy8gSWYgdGhpcyBrZXkgZGVmaW5lcyBhIHNjb3BlIGZvciBwcm9wZXJ0aWVzIChlLmcuIGZpZWxkLCBjbGFzcywgYWN0aW9uKVxuICAgIC8vIHRoaXMgdGhpcyByZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSBzZWxlY3RvciBrZXkgZm9yIHRob3NlIHByb3BlcnRpZXNcbiAgICAvLyAoZS5nLiBmaWVsZF9wLCBjbGFzc19wKVxuICAgIGdldCBpc1Byb3BlcnR5U2NvcGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1Byb3BlcnR5U2NvcGU7XG4gICAgfVxuXG4gICAgc2V0IGlzUHJvcGVydHlTY29wZSh5bjogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9pc1Byb3BlcnR5U2NvcGUgPSB5bjtcbiAgICB9XG5cblxuICAgIGdldCBydWxlVmVjcygpOiBDb2xsZWN0aW9ucy5EaWN0aW9uYXJ5PGFueSwgVmFsdWVNYXRjaGVzPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ydWxlVmVjcztcbiAgICB9XG5cbiAgICBnZXQga2V5KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXk7XG4gICAgfVxuXG4gICAgZ2V0IGlkKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9XG5cblxuICAgIGdldCBvYnNlcnZlcnMoKTogQXJyYXk8VmFsdWVRdWVyaWVkT2JzZXJ2ZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29ic2VydmVycztcbiAgICB9XG59XG5cblxuLyoqXG4gKiBTdG9yZSBvZiBwb2xpY3kgaW5mb3JtYXRpb24gZm9yIHBhcnRpY3VsYXIgcHJvcGVydGllcyAtLSBtb3N0IHNpZ25pZmljYW50bHksIGhvd1xuICogc3VjY2Vzc2l2ZSB2YWx1ZXMgb2YgdGhpcyBwcm9wZXJ0eSBhcmUgdG8gYmUgKm1lcmdlZCogZHVyaW5nIHJ1bGUgYXBwbGljYXRpb24uXG4gKiAoU2VlIE1ldGEucmVnaXN0ZXJQcm9wZXJ0eU1lcmdlcikuICBFLmcuICd2aXNpYmxlJywgJ3RyYWl0JywgYW5kICd2YWxpZCcgYWxsIGhhdmUgdW5pcXVlXG4gKiBtZXJnZSBwb2xpY2llcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlcnR5TWFwIGltcGxlbWVudHMgTWFwPHN0cmluZywgYW55PiB7XG5cbiAgICBwcml2YXRlIF9jb250ZXh0UHJvcGVydGllc1VwZGF0ZWQ6IEFycmF5PFByb3BlcnR5TWFuYWdlcj47XG4gICAgcHJvdGVjdGVkIF9tYXA6IE1hcDxzdHJpbmcsIGFueT47XG5cbiAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ01hcCc7XG5cblxuICAgIGNvbnN0cnVjdG9yKGVudHJpZXM/OiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQoZW50cmllcykpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KGVudHJpZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZ2V0KGtleTogc3RyaW5nKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5nZXQoa2V5KTtcbiAgICB9XG5cblxuICAgIGtleXMoKTogSXRlcmFibGVJdGVyYXRvcjxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5rZXlzKCk7XG4gICAgfVxuXG5cbiAgICB2YWx1ZXMoKTogSXRlcmFibGVJdGVyYXRvcjxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC52YWx1ZXMoKTtcbiAgICB9XG5cbiAgICBjbGVhcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbWFwLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgc2V0KGtleTogc3RyaW5nLCB2YWx1ZT86IGFueSk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cblxuXG4gICAgZGVsZXRlKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5kZWxldGUoa2V5KTtcbiAgICB9XG5cbiAgICBmb3JFYWNoKGNhbGxiYWNrZm46ICh2YWx1ZTogYW55LCBpbmRleDogc3RyaW5nLCBtYXA6IE1hcDxzdHJpbmcsIGFueT4pID0+IHZvaWQsXG4gICAgICAgICAgICB0aGlzQXJnPzogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMuX21hcC5mb3JFYWNoKGNhbGxiYWNrZm4pO1xuICAgIH1cblxuXG4gICAgaGFzKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuaGFzKGtleSk7XG4gICAgfVxuXG5cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICB9XG5cblxuICAgIGVudHJpZXMoKTogSXRlcmFibGVJdGVyYXRvcjxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5lbnRyaWVzKCk7XG4gICAgfVxuXG5cbiAgICBnZXQgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLnNpemU7XG4gICAgfVxuXG5cbiAgICBhd2FrZVByb3BlcnRpZXMoKTogdm9pZCB7XG4gICAgICAgIE1hcFdyYXBwZXIuaXRlcmFibGUodGhpcykuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzUHJvcGVydHlNYXBBd2FraW5nKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGxldCBuZXdWYWx1ZSA9IHZhbHVlLmF3YWtlRm9yUHJvcGVydHlNYXAodGhpcyk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldChrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFkZENvbnRleHRLZXkoa2V5OiBQcm9wZXJ0eU1hbmFnZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5fY29udGV4dFByb3BlcnRpZXNVcGRhdGVkKSkge1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dFByb3BlcnRpZXNVcGRhdGVkID0gbmV3IEFycmF5PFByb3BlcnR5TWFuYWdlcj4oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb250ZXh0UHJvcGVydGllc1VwZGF0ZWQucHVzaChrZXkpO1xuICAgIH1cblxuXG4gICAgZ2V0IGNvbnRleHRLZXlzVXBkYXRlZCgpOiBBcnJheTxQcm9wZXJ0eU1hbmFnZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHRQcm9wZXJ0aWVzVXBkYXRlZDtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgLy8gdG9kbzogZmluZCBiZXR0ZXIgd2F5IGZvciB0aGUgc3RyaW5nLiB0aHNpIGlzIGFsc28gdXNlZCBhcyBrZXkgZm9yIHRoZSBkaWN0aW9uYXJ5XG4gICAgICAgIC8vIG5vdCByZWFsbHkgZWZmaWNpZW50XG4gICAgICAgIGxldCBzaiA9IG5ldyBTdHJpbmdKb2luZXIoWydQcm9wZXJ0eU1hcDonXSk7XG4gICAgICAgIHNqLmFkZCh0aGlzLnNpemUgKyAnLCcpO1xuICAgICAgICBNYXBXcmFwcGVyLml0ZXJhYmxlKHRoaXMpLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1Byb3BlcnR5TWFwQXdha2luZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3VmFsdWUgPSB2YWx1ZS5hd2FrZUZvclByb3BlcnR5TWFwKHRoaXMpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2ouYWRkKGtleSArICc6JyArIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2ouYWRkKCcsICcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzai50b1N0cmluZygpO1xuICAgIH1cbn1cblxuXG4vLyBNYXJrZXIgaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5TWVyZ2VySXNDaGFpbmluZyB7XG4gICAgaXNQcm9wTWVyZ2VySXNDaGFpbmluZ01hcms6IGJvb2xlYW47XG5cbn1cblxuLyoqXG4gKiBEZWZpbmUgcG9saWN5IGZvciBtZXJnaW5nIGEgcHJvcGVydHkgdmFsdWUgYXNzaWduZWQgYnkgb25lIHJ1bGVcbiAqIHRvIGEgc3Vic2VxdWVudCB2YWx1ZSBmcm9tIGEgaGlnaGVyIHJhbmtlZCBydWxlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5TWVyZ2VyIHtcblxuICAgIF9tZXRhOiBNZXRhO1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGR1cmluZyBydWxlIGFwcGxpY2F0aW9uIHRvIG1lcmdlIGFuIGVhcmxpZXIgKGxvd2VyIHJhbmtlZCkgdmFsdWUgd2l0aCBhIG5ld2VyIG9uZS5cbiAgICAgKiBAcGFyYW0gb3JpZyB0aGUgcHJldmlvdXMgdmFsdWUgYWNjdW11bGF0ZWQgaW4gdGhlIHByb3BlcnR5IG1hcFxuICAgICAqIEBwYXJhbSBvdmVycmlkZSB0aGUgbmV3IHZhbHVlIGZyb20gdGhlIGhpZ2hlciByYW5rZWQgcnVsZVxuICAgICAqIEBwYXJhbSBpc0RlY2xhcmUgd2hldGhlciB3ZSBhcmUgY3VycmVudGx5IGFjY3VtdWxhdGluZyBtYXRjaGVkIGZvciBkZWNsYXJhdGlvbnMgb2YgdGhlXG4gICAgICogICAgIHByb3BlcnR5L3ZhbHVlXG4gICAgICogQHJldHVybiB0aGUgbmV3IHByb3BlcnR5IHZhbHVlIHRvIGJlIHB1dCBpbiB0aGUgcHJvcGVydHkgbWFwXG4gICAgICovXG4gICAgbWVyZ2UgKG9yaWc6IGFueSwgb3ZlcnJpZGU6IGFueSwgaXNEZWNsYXJlOiBib29sZWFuKTogYW55O1xuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nO1xufVxuXG4vLyBtYXJrZXIgaW50ZXJmYWNlIGZvciBQcm9wZXJ0eU1lcmdlcyB0aGF0IGNhbiBoYW5kbGUgZHluYW1pYyB2YWx1ZXNcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQcm9wZXJ0eU1lcmdlckR5bmFtaWMgaW1wbGVtZW50cyBQcm9wZXJ0eU1lcmdlciB7XG4gICAgX21ldGE6IE1ldGE7XG5cbiAgICBtZXJnZShvcmlnOiBhbnksIG92ZXJyaWRlOiBhbnksIGlzRGVjbGFyZTogYm9vbGVhbik6IGFueSB7XG4gICAgICAgIHJldHVybiB1bmltcGxlbWVudGVkKCk7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdQcm9wZXJ0eU1lcmdlckR5bmFtaWMnO1xuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgUHJvcGVydHlNZXJnZXJfT3ZlcndyaXRlIGltcGxlbWVudHMgUHJvcGVydHlNZXJnZXIge1xuICAgIF9tZXRhOiBNZXRhO1xuXG4gICAgbWVyZ2Uob3JpZzogYW55LCBvdmVycmlkZTogYW55LCBpc0RlY2xhcmU6IGJvb2xlYW4pOiBhbnkge1xuICAgICAgICByZXR1cm4gb3ZlcnJpZGU7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdPVkVSV1JJVEUnO1xuICAgIH1cbn1cblxuLyoqXG4gUHJvcGVydHlNZXJnZXIgZm9yIHByb3BlcnRpZXMgdGhlIHNob3VsZCBiZSB1bmlvbmVkIGFzIGxpc3RzXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eU1lcmdlcl9MaXN0IGltcGxlbWVudHMgUHJvcGVydHlNZXJnZXIge1xuICAgIF9tZXRhOiBNZXRhO1xuXG4gICAgbWVyZ2Uob3JpZzogYW55LCBvdmVycmlkZTogYW55LCBpc0RlY2xhcmU6IGJvb2xlYW4pOiBhbnkge1xuICAgICAgICBpZiAoIShpc0FycmF5KG9yaWcpKSAmJiAhKGlzQXJyYXkob3ZlcnJpZGUpKSAmJiBNZXRhLm9iamVjdEVxdWFscyhvcmlnLCBvdmVycmlkZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvcmlnO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsMSA9IE1ldGEudG9MaXN0KG9yaWcpO1xuICAgICAgICBsZXQgbDIgPSBNZXRhLnRvTGlzdChvdmVycmlkZSk7XG5cbiAgICAgICAgbGV0IHJlc3VsdCA9IExpc3RXcmFwcGVyLmNsb25lKGwxKTtcblxuICAgICAgICBMaXN0V3JhcHBlci5hZGRFbGVtZW50c0lmQWJzZW50KHJlc3VsdCwgbDIpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cblxuXG4vKipcbiAqIFByb3BlcnR5TWVyZ2VyIGZvciBwcm9wZXJ0aWVzIHRoZSBzaG91bGQgb3ZlcnJpZGUgbm9ybWFsbHksIGJ1dCByZXR1cm4gbGlzdHMgd2hlblxuICogaW4gZGVjbGFyZSBtb2RlIChlLmcuICdjbGFzcycsICdmaWVsZCcsICdsYXlvdXQnLCAuLi4pXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eU1lcmdlckRlY2xhcmVMaXN0IGV4dGVuZHMgUHJvcGVydHlNZXJnZXJEeW5hbWljIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIG1lcmdlKG9yaWc6IGFueSwgb3ZlcnJpZGU6IGFueSwgaXNEZWNsYXJlOiBib29sZWFuKTogYW55IHtcbiAgICAgICAgaWYgKCFpc0RlY2xhcmUpIHtcbiAgICAgICAgICAgIHJldHVybiBvdmVycmlkZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghKGlzQXJyYXkob3JpZykpICYmICEoaXNBcnJheShvdmVycmlkZSkpICYmIE1ldGEub2JqZWN0RXF1YWxzKG9yaWcsIG92ZXJyaWRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG9yaWc7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzdWx0OiBhbnlbXSA9IFtdO1xuICAgICAgICBMaXN0V3JhcHBlci5hZGRFbGVtZW50c0lmQWJzZW50KHJlc3VsdCwgTWV0YS50b0xpc3Qob3JpZykpO1xuICAgICAgICBMaXN0V3JhcHBlci5hZGRFbGVtZW50c0lmQWJzZW50KHJlc3VsdCwgTWV0YS50b0xpc3Qob3ZlcnJpZGUpKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnUHJvcGVydHlNZXJnZXJEZWNsYXJlTGlzdCc7XG4gICAgfVxufVxuXG4vKipcbiAqIFByb3BlcnR5TWVyZ2VyIGZvciB0aGUgJ3RyYWl0JyBwcm9wZXJ0eS4gIEdlbmVyYWxseSwgdHJhaXRzIGFyZSB1bmlvbmVkLCBleGNlcHQgZm9yIHRyYWl0c1xuICogZnJvbSB0aGUgc2FtZSAndHJhaXRHcm91cCcsIHdoaWNoIG92ZXJyaWRlIChpLmUuIG9ubHkgb25lIHRyYWl0IGZyb20gZWFjaCB0cmFpdEdyb3VwIHNob3VsZFxuICogc3Vydml2ZSkuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eU1lcmdlckRlY2xhcmVMaXN0Rm9yVHJhaXQgZXh0ZW5kcyBQcm9wZXJ0eU1lcmdlckRlY2xhcmVMaXN0IHtcblxuICAgIF9tZXRhOiBNZXRhO1xuXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBtZXJnZShvcmlnOiBhbnksIG92ZXJyaWRlOiBhbnksIGlzRGVjbGFyZTogYm9vbGVhbik6IGFueSB7XG4gICAgICAgIGlmIChpc0RlY2xhcmUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5tZXJnZShvcmlnLCBvdmVycmlkZSwgaXNEZWNsYXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHdlJ3JlIG92ZXJyaWRlIGEgc2luZ2xlIGVsZW1lbnQgd2l0aCBpdHNlbGYsIGRvbid0IGdvIExpc3QuLi5cbiAgICAgICAgaWYgKCFpc0FycmF5KG9yaWcpICYmICFpc0FycmF5KG92ZXJyaWRlKSAmJiBNZXRhLm9iamVjdEVxdWFscyhvcmlnLCBvdmVycmlkZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvcmlnO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvcmlnTCA9IE1ldGEudG9MaXN0KG9yaWcpO1xuICAgICAgICBsZXQgb3ZlcnJpZGVMID0gTWV0YS50b0xpc3Qob3ZlcnJpZGUpO1xuICAgICAgICBsZXQgcmVzdWx0OiBhbnlbXSA9IFtdO1xuICAgICAgICBmb3IgKGxldCB0cmFpdCBvZiBvcmlnTCkge1xuICAgICAgICAgICAgaWYgKHRyYWl0IGluc3RhbmNlb2YgT3ZlcnJpZGVWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyYWl0ID0gKDxPdmVycmlkZVZhbHVlPiB0cmFpdCkudmFsdWUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNhbkFkZCA9IHRydWU7XG4gICAgICAgICAgICBsZXQgZ3JvdXAgPSB0aGlzLl9tZXRhLmdyb3VwRm9yVHJhaXQodHJhaXQpO1xuXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KGdyb3VwKSkge1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgb3ZlcnJpZGVUcmFpdCBvZiBvdmVycmlkZUwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG92ZXJyaWRlVHJhaXQgaW5zdGFuY2VvZiBPdmVycmlkZVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZVRyYWl0ID0gKDxPdmVycmlkZVZhbHVlPm92ZXJyaWRlVHJhaXQpLnZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChncm91cCA9PT0gdGhpcy5fbWV0YS5ncm91cEZvclRyYWl0KG92ZXJyaWRlVHJhaXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5BZGQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhbkFkZCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRyYWl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBMaXN0V3JhcHBlci5hZGRFbGVtZW50c0lmQWJzZW50KHJlc3VsdCwgb3ZlcnJpZGVMKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnUHJvcGVydHlNZXJnZXJEZWNsYXJlTGlzdEZvclRyYWl0JztcbiAgICB9XG59XG5cblxuLyoqXG4gKiBQcm9wZXJ0eU1lcmdlciBpbXBsZW1lbnRpbmcgQU5EIHNlbWFudGljcyAtLSBpLmUuIGZhbHNlIHRydW1wcyB0cnVlLlxuICogKFVzZWQsIGZvciBpbnN0YW5jZSwgZm9yIHRoZSBwcm9wZXJ0aWVzICd2aXNpYmxlJyBhbmQgJ2VkaXRhYmxlJylcbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlcnR5TWVyZ2VyX0FuZCBleHRlbmRzIFByb3BlcnR5TWVyZ2VyRHluYW1pYyBpbXBsZW1lbnRzIFByb3BlcnR5TWVyZ2VySXNDaGFpbmluZyB7XG4gICAgaXNQcm9wTWVyZ2VySXNDaGFpbmluZ01hcms6IGJvb2xlYW4gPSB0cnVlO1xuXG5cbiAgICBtZXJnZShvcmlnOiBhbnksIG92ZXJyaWRlOiBhbnksIGlzRGVjbGFyZTogYm9vbGVhbik6IGFueSB7XG4gICAgICAgIC8vIG51bGwgd2lsbCByZXNldCAoc28gdGhhdCBpdCBjYW4gYmUgb3ZlcnJpZGRlbiB0byB0cnVlIHN1YnNlcXVlbnRseVxuICAgICAgICBpZiAoaXNCbGFuayhvdmVycmlkZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgd2UgY2FuIGV2YWx1YXRlIHN0YXRpY2FsbHksIGRvIGl0IG5vd1xuXG5cbiAgICAgICAgaWYgKChpc0Jvb2xlYW4ob3JpZykgJiYgIShCb29sZWFuV3JhcHBlci5ib2xlYW5WYWx1ZShvcmlnKSkpIHx8XG4gICAgICAgICAgICAoaXNCb29sZWFuKG92ZXJyaWRlKSAmJiAhKEJvb2xlYW5XcmFwcGVyLmJvbGVhblZhbHVlKG92ZXJyaWRlKSkpKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBTkRpbmcgd2l0aCB0cnVlIGlzIGEgbm9vcCAtLSByZXR1cm4gbmV3IHZhbHVlXG4gICAgICAgIGlmIChpc0Jvb2xlYW4ob3JpZykgJiYgQm9vbGVhbldyYXBwZXIuYm9sZWFuVmFsdWUob3JpZykpIHtcblxuICAgICAgICAgICAgcmV0dXJuIChvdmVycmlkZSBpbnN0YW5jZW9mIER5bmFtaWNQcm9wZXJ0eVZhbHVlKSA/IG92ZXJyaWRlXG4gICAgICAgICAgICAgICAgOiBCb29sZWFuV3JhcHBlci5ib2xlYW5WYWx1ZShcbiAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQm9vbGVhbihvdmVycmlkZSkgJiYgQm9vbGVhbldyYXBwZXIuYm9sZWFuVmFsdWUob3ZlcnJpZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gKG9yaWcgaW5zdGFuY2VvZiBEeW5hbWljUHJvcGVydHlWYWx1ZSkgPyBvcmlnIDogQm9vbGVhbldyYXBwZXIuYm9sZWFuVmFsdWUoXG4gICAgICAgICAgICAgICAgb3ZlcnJpZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgb25lIG9mIG91ciB2YWx1ZXMgaXMgZHluYW1pYywgZGVmZXJcbiAgICAgICAgaWYgKChvcmlnIGluc3RhbmNlb2YgRHluYW1pY1Byb3BlcnR5VmFsdWUgfHwgb3ZlcnJpZGUgaW5zdGFuY2VvZiBEeW5hbWljUHJvcGVydHlWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGVmZXJyZWRPcGVyYXRpb25DaGFpbih0aGlzLCBvcmlnLCBvdmVycmlkZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJvb2xlYW5XcmFwcGVyLmJvbGVhblZhbHVlKG9yaWcpICYmIEJvb2xlYW5XcmFwcGVyLmJvbGVhblZhbHVlKG92ZXJyaWRlKTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ0FORCc7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eU1lcmdlcl9WYWxpZCBpbXBsZW1lbnRzIFByb3BlcnR5TWVyZ2VyLFxuICAgIFByb3BlcnR5TWVyZ2VySXNDaGFpbmluZyB7XG4gICAgX21ldGE6IE1ldGE7XG4gICAgaXNQcm9wTWVyZ2VySXNDaGFpbmluZ01hcms6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgbWVyZ2Uob3JpZzogYW55LCBvdmVycmlkZTogYW55LCBpc0RlY2xhcmU6IGJvb2xlYW4pOiBhbnkge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICpcbiAgICAgICAgIHJldHVybiAoaXNTdHJpbmcob3ZlcnJpZGUpIHx8ICggaXNCb29sZWFuKG92ZXJyaWRlKSAmJlxuICAgICAgICAgIShCb29sZWFuV3JhcHBlci5ib2xlYW5WYWx1ZShvdmVycmlkZSkpKSkgPyBvdmVycmlkZSA6IG9yaWc7XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIGlmIGZpcnN0IGlzIGVycm9yIChlcnJvciBtZXNzYWdlIG9yIGZhbHNlLCBpdCB3aW5zKSwgb3RoZXJ3aXNlIHNlY29uZFxuICAgICAgICByZXR1cm4gKGlzU3RyaW5nKG92ZXJyaWRlKSB8fCAoaXNCb29sZWFuKG92ZXJyaWRlKSAmJiBCb29sZWFuV3JhcHBlci5pc0ZhbHNlKG92ZXJyaWRlKSkpXG4gICAgICAgICAgICA/IG92ZXJyaWRlIDogb3JpZztcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ1ZBTElEQVRFJztcbiAgICB9XG59XG5cblxuLyoqXG4gKiBBIGdyb3VwIG9mIHJ1bGVzIG9yaWdpbmF0aW5nIGZyb20gYSBjb21tb24gc291cmNlLlxuICogQWxsIHJ1bGVzIG11c3QgYmUgYWRkZWQgdG8gdGhlIHJ1bGUgYmFzZSBhcyBwYXJ0IG9mIGEgUnVsZVNldC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bGVTZXQge1xuXG4gICAgX2ZpbGVQYXRoOiBzdHJpbmc7XG4gICAgX3N0YXJ0OiBudW1iZXIgPSAwO1xuICAgIF9lbmQ6IG51bWJlciA9IDA7XG4gICAgX2VkaXRhYmxlU3RhcnQ6IG51bWJlciA9IC0xO1xuXG4gICAgX3Jhbms6IG51bWJlciA9IDA7XG5cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX21ldGE6IE1ldGEpIHtcbiAgICB9XG5cbiAgICBkaXNhYmxlUnVsZXMoKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLl9zdGFydDsgaSA8IHRoaXMuX2VuZDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRhLl9ydWxlc1tpXS5kaXNhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWV0YS5jbGVhckNhY2hlcygpO1xuXG4gICAgfVxuXG5cbiAgICBnZXQgZmlsZVBhdGgoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGVQYXRoO1xuICAgIH1cblxuICAgIHJ1bGVzKGVkaXRhYmxlT25seTogYW55KTogQXJyYXk8UnVsZT4ge1xuICAgICAgICBsZXQgcmVzdWx0OiBBcnJheTxSdWxlPiA9IFtdO1xuICAgICAgICBsZXQgaSA9IChlZGl0YWJsZU9ubHkpID8gKHRoaXMuX2VkaXRhYmxlU3RhcnQgPT09IC0xID8gdGhpcy5fZW5kIDogdGhpcy5fZWRpdGFibGVTdGFydClcbiAgICAgICAgICAgIDogdGhpcy5fc3RhcnQ7XG4gICAgICAgIGZvciAoOyBpIDwgdGhpcy5fZW5kOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByID0gdGhpcy5fbWV0YS5fcnVsZXNbaV07XG4gICAgICAgICAgICBpZiAoIXIuZGlzYWJsZWQoKSAmJiAhdGhpcy5fbWV0YS5pc1RyYWl0RXhwb3J0UnVsZShyKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICB9XG5cbiAgICBzdGFydFJhbmsoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9zdGFydCA8IHRoaXMuX21ldGEuX3J1bGVDb3VudClcbiAgICAgICAgICAgID8gdGhpcy5fbWV0YS5fcnVsZXNbdGhpcy5fc3RhcnRdLnJhbmtcbiAgICAgICAgICAgIDogdGhpcy5fcmFuayAtICh0aGlzLl9lbmQgLSB0aGlzLl9zdGFydCk7XG4gICAgfVxuXG4gICAgYWxsb2NhdGVOZXh0UnVsZUVudHJ5KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAodGhpcy5fbWV0YS5fcnVsZUNvdW50ID4gdGhpcy5fZW5kKSA/IHRoaXMuX21ldGEuX3J1bGVDb3VudCsrIDogdGhpcy5fZW5kKys7XG4gICAgfVxuXG4gICAgZ2V0IHN0YXJ0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFydDtcbiAgICB9XG5cbiAgICBnZXQgZW5kKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmQ7XG4gICAgfVxuXG4gICAgZ2V0IGVkaXRhYmxlU3RhcnQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRhYmxlU3RhcnQ7XG4gICAgfVxufVxuXG5cbi8qKlxuICogQWJzdHJhY3Rpb24gZm9yIHZhbHVlcyAob3Igc2V0cyBvZiB2YWx1ZXMpIHRoYXQgY2FuIGJlIG1hdGNoZWQgYWdhaW5zdCBvdGhlcnNcbiAqIChpbiB0aGUgY29udGV4dCBvZiBTZWxlY3RvciBrZXkvdmFsdWUpIG1hdGNoaW5nLiAgU3VidHlwZXMgdGFrZSBhZHZhbnRhZ2Ugb2ZcbiAqIHRoZSBmYWN0IHRoYXQgVmFsdWVNYXRjaGVzIGluc3RhbmNlcyBnbG9iYWxseSB1bmlxdWVseSByZXByZXNlbnQga2V5L3ZhbHVlIHBhaXJzXG4gKiB0byBlbmFibGUgZWZmaWNpZW50IG1hdGNoaW5nIGVudGlyZWx5IHRocm91Z2ggaWRlbnRpdHkgY29tcGFyaXNvbi5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIE1hdGNoVmFsdWUge1xuICAgIG1hdGNoZXMgKG90aGVyOiBNYXRjaFZhbHVlKTogYm9vbGVhbjtcblxuICAgIHVwZGF0ZUJ5QWRkaW5nIChvdGhlcjogTWF0Y2hWYWx1ZSk6IE1hdGNoVmFsdWU7XG59XG5cblxuLyoqXG4gKlxuICogVW5pcXVlbHkgcmVwcmVzZW50cyBhIHBhcnRpY3VsYXIga2V5L3ZhbHVlIGluIHRoZSBNZXRhIHNjb3BlLCBhbmQgaW5kZXhlcyBhbGwgcnVsZXNcbiAqIHdpdGggKGluZGV4ZWQpIFNlbGVjdG9ycyBtYXRjaGluZyB0aGF0IGtleS92YWx1ZS5cblxuICogVmFsdWVNYXRjaGVzIGFsc28gbW9kZWxzICppbmhlcml0YW5jZSogYnkgYWxsb3dpbmcgb25lIGtleS92YWx1ZSB0byBoYXZlIGFub3RoZXJcbiAqIGFzIGl0cyAncGFyZW50JyBhbmQgdGhlcmVieSBtYXRjaCBvbiBhbnkgU2VsZWN0b3IgKGFuZCBydWxlKSB0aGF0IGl0cyBwYXJlbnQgd291bGQuXG4gKlxuICogRm9yIGluc3RhbmNlLCB0aGlzIGVuYWJsZXMgYSBydWxlIG9uIGNsYXNzPU51bWJlciB0byBhcHBseSB0byBjbGFzcz1JbnRlZ2VyIGFuZFxuICogY2xhc3M9QmlnRGVjaW1hbCwgYW5kIG9uZSBvbiBjbGFzcz0qIHRvIGFwcGx5IHRvIGFueS5cbiAqXG4gKiBUaGUgdXRpbGl0eSBvZiAncGFyZW50JyBpcyBub3QgbGltaXRlZCwgb2YgY291cnNlLCB0byB0aGUga2V5ICdjbGFzcyc6IGFsbCBrZXlzXG4gKiB0YWtlIGFkdmFudGFnZSBvZiB0aGUgcGFyZW50ICcqJyB0byBzdXBwb3J0IHVucXVhbGlmaWVkIG1hdGNoZXMgb24gdGhhdCBrZXksIGFuZFxuICoga2V5cyBsaWtlICdvcGVyYXRpb24nIGRlZmluZSBhIHZhbHVlIGhpZXJhcmNoeSAoICdpbnNwZWN0JyAtPiB7J3ZpZXcnLCAnc2VhcmNoJ30sXG4gKiAnc2VhcmNoJyAtPiB7J2tleXdvcmRTZWFyY2gnLCAndGV4dFNlYXJjaCd9KVxuICovXG5cbmV4cG9ydCBjbGFzcyBWYWx1ZU1hdGNoZXMgaW1wbGVtZW50cyBNYXRjaFZhbHVlIHtcblxuICAgIF92YWx1ZTogYW55O1xuICAgIF9yZWFkOiBib29sZWFuID0gZmFsc2U7XG4gICAgX2FycjogbnVtYmVyW107XG5cbiAgICBfcGFyZW50OiBWYWx1ZU1hdGNoZXM7XG4gICAgX3BhcmVudFNpemU6IG51bWJlciA9IDA7XG5cblxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBhbnkpIHtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBjaGVja1BhcmVudCgpIHtcbiAgICAgICAgLy8gdG9kbzogcGVyZm9ybWFuY2U6IGtlZXAgYSBydWxlIHNldCB2ZXJzaW9uICMgYW5kIG9ubHkgZG8gdGhpcyB3aGVuIHRoZSBydWxlIHNldCBoYXNcbiAgICAgICAgLy8gcmVsb2FkZWRcblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuX3BhcmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudC5jaGVja1BhcmVudCgpO1xuXG4gICAgICAgICAgICBsZXQgcGFyZW50QXJyOiBudW1iZXJbXSA9IHRoaXMuX3BhcmVudC5fYXJyO1xuXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KHBhcmVudEFycikgJiYgcGFyZW50QXJyWzBdICE9PSB0aGlzLl9wYXJlbnRTaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXJyID0gTWF0Y2gudW5pb24odGhpcy5fYXJyLCBwYXJlbnRBcnIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudFNpemUgPSBwYXJlbnRBcnJbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1hdGNoZXMob3RoZXI6IE1hdGNoVmFsdWUpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBWYWx1ZU1hdGNoZXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXIubWF0Y2hlcyh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIHJlY3Vyc2UgdXAgcGFyZW50IGNoYWluIHRvIGRvIHN1cGVyY2xhc3MgbWF0Y2hlc1xuICAgICAgICByZXR1cm4gKG90aGVyID09PSB0aGlzKSB8fCAoaXNQcmVzZW50KHRoaXMuX3BhcmVudCkgJiYgdGhpcy5fcGFyZW50Lm1hdGNoZXMob3RoZXIpKTtcbiAgICB9XG5cbiAgICB1cGRhdGVCeUFkZGluZyhvdGhlcjogTWF0Y2hWYWx1ZSk6IE1hdGNoVmFsdWUge1xuICAgICAgICBsZXQgbXVsdGk6IE11bHRpTWF0Y2hWYWx1ZSA9IG5ldyBNdWx0aU1hdGNoVmFsdWUoKTtcbiAgICAgICAgbXVsdGkuZGF0YS5wdXNoKHRoaXMpO1xuICAgICAgICByZXR1cm4gbXVsdGkudXBkYXRlQnlBZGRpbmcob3RoZXIpO1xuICAgIH1cblxufVxuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvd2lraS9GQVEjd2h5LWRvZXNudC1leHRlbmRpbmctYnVpbHQtaW5zLWxpa2UtZXJyb3ItXG4vLyAgYXJyYXktYW5kLW1hcC13b3JrXG5leHBvcnQgY2xhc3MgTXVsdGlNYXRjaFZhbHVlIGltcGxlbWVudHMgTWF0Y2hWYWx1ZSB7XG5cbiAgICBkYXRhOiBBcnJheTxNYXRjaFZhbHVlPiA9IFtdO1xuXG5cbiAgICBtYXRjaGVzKG90aGVyOiBNYXRjaFZhbHVlKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIE11bHRpTWF0Y2hWYWx1ZSkge1xuICAgICAgICAgICAgLy8gbGlzdCAvIGxpc3QgY29tcGFyaXNvbjogYW55IGNvbWJvIGNhbiBtYXRjaFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXIubWF0Y2hlcyh0aGlzLmRhdGFbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNpbmdsZSB2YWx1ZSBhZ2FpbnN0IGFycmF5OiBvbmUgbXVzdCBtYXRjaFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhW2ldLm1hdGNoZXMob3RoZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdXBkYXRlQnlBZGRpbmcob3RoZXI6IE1hdGNoVmFsdWUpOiBNYXRjaFZhbHVlIHtcbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgTXVsdGlNYXRjaFZhbHVlKSB7XG4gICAgICAgICAgICBsZXQgbWF0Y2hWYWx1ZTogTXVsdGlNYXRjaFZhbHVlID0gPE11bHRpTWF0Y2hWYWx1ZT4gb3RoZXI7XG4gICAgICAgICAgICBMaXN0V3JhcHBlci5hZGRBbGwodGhpcy5kYXRhLCBtYXRjaFZhbHVlLmRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnB1c2gob3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlUXVlcmllZE9ic2VydmVyIHtcblxuICAgIG5vdGlmeSAobWV0YTogTWV0YSwga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkO1xuXG59XG5cblxuLyoqXG4gKiBVc2VkIHRvIHRyYW5zZm9ybSB2YWx1ZXMgaW50byB0aGUgKHN0YXRpYykgdmVyc2lvbiB0aGV5IHNob3VsZCBiZSBpbmRleGVkIC8gc2VhcmNoZWQgdW5kZXJcbiAqIEZvciBpbnN0YW5jZSwgJ29iamVjdCcgbWF5IGJlIGluZGV4ZWQgYXMgdHJ1ZS9mYWxzZSAocHJlc2VudCBvciBub3QpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgS2V5VmFsdWVUcmFuc2Zvcm1lciB7XG4gICAgdHJhbmZvcm1Gb3JNYXRjaCAobzogYW55KTogYW55O1xufVxuXG5cbmV4cG9ydCBjbGFzcyBLZXlWYWx1ZVRyYW5zZm9ybWVyX0tleVByZXNlbnQgaW1wbGVtZW50cyBLZXlWYWx1ZVRyYW5zZm9ybWVyIHtcblxuXG4gICAgdHJhbmZvcm1Gb3JNYXRjaChvOiBhbnkpOiBhbnkge1xuICAgICAgICByZXR1cm4gKGlzUHJlc2VudChvKSAmJiAhKEJvb2xlYW5XcmFwcGVyLmlzRmFsc2UobykpKSA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG5cblxufVxuXG5cbi8qKlxuICogQ2FsbGVkIG9uIGltcGxlbWVudGluZyB2YWx1ZXMgdG8gYWxsb3cgc3RhdGljYWxseSByZXNvbHZhYmxlIChidXQgZHluYW1pYykgdmFsdWVzXG4gKiB0byBldmFsdWF0ZS9jb3B5IHRoZW1zZWx2ZXMgZm9yIGluY2x1c2lvbiBpbiBhIG5ldyBtYXAgKHRvIGVuc3VyZSB0aGF0IGEgdmFsdWUgdGhhdFxuICogZGVyaXZlZCBpdHMgdmFsdWUgYmFzZWQgb24gYSBkaWZmZXJlbnQgY29udGV4dCBkb2Vzbid0IGdldCByZXVzZWQgaW4gYW5vdGhlcilcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eU1hcEF3YWtpbmcge1xuICAgIHByb3BlcnR5QXdha2luZzogYm9vbGVhbjtcblxuICAgIGF3YWtlRm9yUHJvcGVydHlNYXAgKG1hcDogUHJvcGVydHlNYXApOiBhbnk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvcGVydHlNYXBBd2FraW5nKGFyZzogYW55KTogYXJnIGlzIFByb3BlcnR5TWFwQXdha2luZyB7XG4gICAgcmV0dXJuIGlzUHJlc2VudChhcmcpICYmIGlzUHJlc2VudChhcmcucHJvcGVydHlBd2FraW5nKTtcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEJhc2VkIG9uIG9yaWdpbmFsIHdvcms6IE1ldGFVSTogQ3JhaWcgRmVkZXJpZ2hpICgyMDA4KVxuICpcbiAqL1xuXG5leHBvcnQgY2xhc3MgSXRlbVByb3BlcnRpZXNcbntcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcsIHB1YmxpYyBwcm9wZXJ0aWVzOiBNYXA8c3RyaW5nLCBhbnk+LCBwdWJsaWMgaGlkZGVuOiBib29sZWFuKVxuICAgIHtcbiAgICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKiBCYXNlZCBvbiBvcmlnaW5hbCB3b3JrOiBNZXRhVUk6IENyYWlnIEZlZGVyaWdoaSAoMjAwOClcbiAqXG4gKi9cbmltcG9ydCB7SW5qZWN0b3IsIFR5cGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgICBhc3NlcnQsXG4gICAgQm9vbGVhbldyYXBwZXIsXG4gICAgRmllbGRQYXRoLFxuICAgIGlzQXJyYXksXG4gICAgaXNCbGFuayxcbiAgICBpc0Jvb2xlYW4sXG4gICAgaXNQcmVzZW50LFxuICAgIGlzU3RyaW5nXG59IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtDb21wb25lbnRSZWdpc3RyeX0gZnJvbSAnQGFyaWJhdWkvY29tcG9uZW50cyc7XG5pbXBvcnQge1xuICAgIE1ldGEsXG4gICAgUHJvcGVydHlNYXAsXG4gICAgUHJvcGVydHlNZXJnZXIsXG4gICAgUHJvcGVydHlNZXJnZXJfQW5kLFxuICAgIFByb3BlcnR5TWVyZ2VySXNDaGFpbmluZyxcbiAgICBWYWx1ZVF1ZXJpZWRPYnNlcnZlclxufSBmcm9tICcuL21ldGEnO1xuaW1wb3J0IHtDb250ZXh0LCBPYmplY3RNZXRhQ29udGV4dH0gZnJvbSAnLi9jb250ZXh0JztcbmltcG9ydCB7SXRlbVByb3BlcnRpZXN9IGZyb20gJy4vaXRlbS1wcm9wZXJ0aWVzJztcbmltcG9ydCB7UnVsZSwgU2VsZWN0b3J9IGZyb20gJy4vcnVsZSc7XG5cbi8qKlxuICogT2JqZWN0TWV0YSBpcyByZXNwb3NpYmxlIGZvciBzZXR0aW5nIHVwIGV2ZXJ5dGhpbmcgcmVsYXRlZCB0byBjbGFzcywgZmllbGQsIGFjdGlvbnNcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBPYmplY3RNZXRhIGV4dGVuZHMgTWV0YSB7XG4gICAgc3RhdGljIEtleUNsYXNzID0gJ2NsYXNzJztcbiAgICBzdGF0aWMgS2V5RmllbGQgPSAnZmllbGQnO1xuICAgIHN0YXRpYyBLZXlBY3Rpb24gPSAnYWN0aW9uJztcbiAgICBzdGF0aWMgS2V5QWN0aW9uQ2F0ZWdvcnkgPSAnYWN0aW9uQ2F0ZWdvcnknO1xuICAgIHN0YXRpYyBLZXlPYmplY3QgPSAnb2JqZWN0JztcbiAgICBzdGF0aWMgS2V5VmFsdWUgPSAndmFsdWUnO1xuICAgIHN0YXRpYyBLZXlUeXBlID0gJ3R5cGUnO1xuICAgIHN0YXRpYyBLZXlFbGVtZW50VHlwZSA9ICdlbGVtZW50VHlwZSc7XG4gICAgc3RhdGljIHJlYWRvbmx5IEtleVRyYWl0R3JvdXAgPSAndHJhaXRHcm91cCc7XG4gICAgc3RhdGljIEtleVZpc2libGUgPSAndmlzaWJsZSc7XG4gICAgc3RhdGljIEtleUVkaXRhYmxlID0gJ2VkaXRhYmxlJztcbiAgICBzdGF0aWMgS2V5VmFsaWQgPSAndmFsaWQnO1xuICAgIHN0YXRpYyBLZXlSYW5rID0gJ3JhbmsnO1xuICAgIHN0YXRpYyByZWFkb25seSBEZWZhdWx0QWN0aW9uQ2F0ZWdvcnkgPSAnR2VuZXJhbCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgX0ZpZWxkUGF0aE51bGxNYXJrZXIgPSBuZXcgRmllbGRQYXRoKCdudWxsJyk7XG5cblxuICAgIF90cmFpdFRvR3JvdXA6IE1hcDxzdHJpbmcsIHN0cmluZz47XG4gICAgX3RyYWl0VG9Hcm91cEdlbmVyYXRpb246IG51bWJlciA9IC0xO1xuXG5cbiAgICAvKipcbiAgICAgKiAgQ2FuIGluamVjdCB0aGVzZSBkaXJlY3RseSBidXQgd2FudCB0byBrZWVwIHRoaXMgYXMgbXVjaCBhcyBwb3NzaWJsZSB3aXRoIGFueSBhbmd1bGFyXG4gICAgICogIGRlcGVuZGVjaWVzIGFzIHdlIHdpbGwgYmUgdXNpbmcgdGhlc2UgY29yZSBydWxlIGNsYXNzZXMgb3V0c2lkZSBvZiBVSSBjb2RlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jb21wb25lbnRSZWdpc3RyeTogQ29tcG9uZW50UmVnaXN0cnk7XG4gICAgcHJvdGVjdGVkIF9pbmplY3RvcjogSW5qZWN0b3I7XG5cblxuICAgIHN0YXRpYyB2YWxpZGF0aW9uRXJyb3IoY29udGV4dDogQ29udGV4dCk6IHN0cmluZyB7XG4gICAgICAgIGxldCBlcnJvciA9IGNvbnRleHQucHJvcGVydHlGb3JLZXkoT2JqZWN0TWV0YS5LZXlWYWxpZCk7XG4gICAgICAgIGlmIChpc0JsYW5rKGVycm9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNCb29sZWFuKGVycm9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW5XcmFwcGVyLmJvbGVhblZhbHVlKGVycm9yKSA/IG51bGwgOiAnSW52YWxpZCBlbnRyeSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycm9yLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gdG9kbzogaW1wbGVtZW50IG5ldyBkZWNvcmF0b3JzIGluIHR5cGVzY3JpcHQgaWYgd2Ugd2FudCBvdCBhbm5vdGF0ZSBfYW5ub3RhdGlvblByb2Nlc3NvcnNcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJLZXlJbml0T2JzZXJ2ZXIoT2JqZWN0TWV0YS5LZXlDbGFzcywgbmV3IEludHJvc3BlY3Rpb25NZXRhUHJvdmlkZXIoKSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJLZXlJbml0T2JzZXJ2ZXIoT2JqZWN0TWV0YS5LZXlUeXBlLCBuZXcgRmllbGRUeXBlSW50cm9zcGVjdGlvbk1ldGFQcm92aWRlcigpKTtcblxuICAgICAgICAvLyBUaGVzZSBrZXlzIGRlZmluZSBzY29wZXMgZm9yIHRoZWlyIHByb3BlcnRpZXNcbiAgICAgICAgdGhpcy5kZWZpbmVLZXlBc1Byb3BlcnR5U2NvcGUoT2JqZWN0TWV0YS5LZXlGaWVsZCk7XG4gICAgICAgIHRoaXMuZGVmaW5lS2V5QXNQcm9wZXJ0eVNjb3BlKE9iamVjdE1ldGEuS2V5QWN0aW9uKTtcbiAgICAgICAgdGhpcy5kZWZpbmVLZXlBc1Byb3BlcnR5U2NvcGUoT2JqZWN0TWV0YS5LZXlBY3Rpb25DYXRlZ29yeSk7XG4gICAgICAgIHRoaXMuZGVmaW5lS2V5QXNQcm9wZXJ0eVNjb3BlKE9iamVjdE1ldGEuS2V5Q2xhc3MpO1xuXG4gICAgICAgIC8vIHBvbGljaWVzIGZvciBjaGFpbmluZyBjZXJ0YWluIHdlbGwga25vd24gcHJvcGVydGllc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUHJvcGVydHlNZXJnZXIoT2JqZWN0TWV0YS5LZXlWaXNpYmxlLCBuZXcgUHJvcGVydHlNZXJnZXJfQW5kKCkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUHJvcGVydHlNZXJnZXIoT2JqZWN0TWV0YS5LZXlFZGl0YWJsZSwgbmV3IFByb3BlcnR5TWVyZ2VyX0FuZCgpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclByb3BlcnR5TWVyZ2VyKE9iamVjdE1ldGEuS2V5VmFsaWQsIG5ldyBPTVByb3BlcnR5TWVyZ2VyX1ZhbGlkKCkpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJQcm9wZXJ0eU1lcmdlcihPYmplY3RNZXRhLktleUNsYXNzLCBNZXRhLlByb3BlcnR5TWVyZ2VyX0RlY2xhcmVMaXN0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclByb3BlcnR5TWVyZ2VyKE9iamVjdE1ldGEuS2V5RmllbGQsIE1ldGEuUHJvcGVydHlNZXJnZXJfRGVjbGFyZUxpc3QpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUHJvcGVydHlNZXJnZXIoT2JqZWN0TWV0YS5LZXlBY3Rpb24sIE1ldGEuUHJvcGVydHlNZXJnZXJfRGVjbGFyZUxpc3QpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUHJvcGVydHlNZXJnZXIoT2JqZWN0TWV0YS5LZXlBY3Rpb25DYXRlZ29yeSwgTWV0YS5Qcm9wZXJ0eU1lcmdlcl9EZWNsYXJlTGlzdCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQcm9wZXJ0eU1lcmdlcihPYmplY3RNZXRhLktleVRyYWl0R3JvdXAsIE1ldGEuUHJvcGVydHlNZXJnZXJfRGVjbGFyZUxpc3QpO1xuXG4gICAgICAgIHRoaXMubWlycm9yUHJvcGVydHlUb0NvbnRleHQoT2JqZWN0TWV0YS5LZXlDbGFzcywgT2JqZWN0TWV0YS5LZXlDbGFzcyk7XG4gICAgICAgIHRoaXMubWlycm9yUHJvcGVydHlUb0NvbnRleHQoT2JqZWN0TWV0YS5LZXlUeXBlLCBPYmplY3RNZXRhLktleVR5cGUpO1xuICAgICAgICB0aGlzLm1pcnJvclByb3BlcnR5VG9Db250ZXh0KE9iamVjdE1ldGEuS2V5RWxlbWVudFR5cGUsIE9iamVjdE1ldGEuS2V5RWxlbWVudFR5cGUpO1xuICAgICAgICB0aGlzLm1pcnJvclByb3BlcnR5VG9Db250ZXh0KE9iamVjdE1ldGEuS2V5VHJhaXQsIE1ldGEuS2V5VHJhaXQpO1xuICAgICAgICB0aGlzLm1pcnJvclByb3BlcnR5VG9Db250ZXh0KE9iamVjdE1ldGEuS2V5RWRpdGFibGUsIE9iamVjdE1ldGEuS2V5RWRpdGFibGUpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJWYWx1ZVRyYW5zZm9ybWVyRm9yS2V5KE9iamVjdE1ldGEuS2V5T2JqZWN0LCBNZXRhLlRyYW5zZm9ybWVyX0tleVByZXNlbnQpO1xuXG4gICAgICAgIC8vIHRvZG86IHRyeSB0byBzdXBwb3J0IGRlY29yYXRvcnMgYW5kIGhvdyB3ZSBjYW4gcHV0IG1ldGEgZGF0YSBpbnRvIG9iamVjdCBAVHJhaXRzLFxuICAgICAgICAvLyBAUHJvcGVydGllcywgQEFjdGlvblxuICAgIH1cblxuXG4gICAgLypcbiAgICAgKiAgUHJvdmlkZSBzdWJjbGFzcyBjb250ZXh0IHdpdGggY29udmVuaWVuY2VzIGZvciBnZXR0aW5nIG9iamVjdCBmaWVsZCB2YWx1ZXNcbiAgICAgKi9cbiAgICBuZXdDb250ZXh0KCk6IENvbnRleHQge1xuICAgICAgICByZXR1cm4gbmV3IE9iamVjdE1ldGFDb250ZXh0KHRoaXMsIGZhbHNlKTtcbiAgICB9XG5cblxuICAgIC8vIFVzZSBhIHNwZWNpYWwgbWFwIHN1YnNjbGFzcyBmb3Igb3VyIFByb3BlcnRpZXNcbiAgICBuZXdQcm9wZXJ0aWVzTWFwKCk6IFByb3BlcnR5TWFwIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RNZXRhUHJvcGVydHlNYXAoKTtcbiAgICB9XG5cbiAgICBpdGVtTmFtZXMoY29udGV4dDogQ29udGV4dCwga2V5OiBzdHJpbmcpOiBBcnJheTxzdHJpbmc+IHtcbiAgICAgICAgY29udGV4dC5wdXNoKCk7XG4gICAgICAgIGNvbnRleHQuc2V0KE9iamVjdE1ldGEuS2V5RGVjbGFyZSwga2V5KTtcbiAgICAgICAgbGV0IGl0ZW1zTmFtZXMgPSBjb250ZXh0Lmxpc3RQcm9wZXJ0eUZvcktleShrZXkpO1xuICAgICAgICBjb250ZXh0LnBvcCgpO1xuXG4gICAgICAgIHJldHVybiBpdGVtc05hbWVzO1xuICAgIH1cblxuXG4gICAgaXRlbVByb3BlcnRpZXMoY29udGV4dDogQ29udGV4dCwga2V5OiBzdHJpbmcsIGZpbHRlckhpZGRlbjogYm9vbGVhbik6IEFycmF5PEl0ZW1Qcm9wZXJ0aWVzPiB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1Qcm9wZXJ0aWVzRm9yTmFtZXMoY29udGV4dCwga2V5LCB0aGlzLml0ZW1OYW1lcyhjb250ZXh0LCBrZXkpLFxuICAgICAgICAgICAgZmlsdGVySGlkZGVuKTtcbiAgICB9XG5cbiAgICBpdGVtUHJvcGVydGllc0Zvck5hbWVzKGNvbnRleHQ6IENvbnRleHQsIGtleTogc3RyaW5nLCBpdGVtTmFtZXM6IHN0cmluZ1tdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySGlkZGVuOiBib29sZWFuKTogQXJyYXk8SXRlbVByb3BlcnRpZXM+IHtcbiAgICAgICAgbGV0IHJlc3VsdDogQXJyYXk8SXRlbVByb3BlcnRpZXM+ID0gW107XG4gICAgICAgIGZvciAobGV0IGl0ZW1OYW1lIG9mIGl0ZW1OYW1lcykge1xuICAgICAgICAgICAgY29udGV4dC5wdXNoKCk7XG4gICAgICAgICAgICBjb250ZXh0LnNldChrZXksIGl0ZW1OYW1lKTtcblxuICAgICAgICAgICAgbGV0IGlzVmlzaWJsZSA9IGNvbnRleHQuYWxsUHJvcGVydGllcygpLmdldChPYmplY3RNZXRhLktleVZpc2libGUpO1xuICAgICAgICAgICAgbGV0IHZpc2libGUgPSBjb250ZXh0LnN0YXRpY2FsbHlSZXNvbHZlVmFsdWUoaXNWaXNpYmxlKTtcblxuICAgICAgICAgICAgbGV0IGlzSGlkZGVuID0gKGlzQmxhbmsodmlzaWJsZSkpIHx8IEJvb2xlYW5XcmFwcGVyLmlzRmFsc2UodmlzaWJsZSk7XG5cbiAgICAgICAgICAgIGlmICghaXNIaWRkZW4gfHwgIWZpbHRlckhpZGRlbikge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBJdGVtUHJvcGVydGllcyhpdGVtTmFtZSwgY29udGV4dC5hbGxQcm9wZXJ0aWVzKCksIGlzSGlkZGVuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG5cbiAgICBncm91cEZvclRyYWl0KHRyYWl0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5fdHJhaXRUb0dyb3VwID09IG51bGwgfHwgdGhpcy5fdHJhaXRUb0dyb3VwR2VuZXJhdGlvbiA8IHRoaXMucnVsZVNldEdlbmVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYWl0VG9Hcm91cEdlbmVyYXRpb24gPSB0aGlzLnJ1bGVTZXRHZW5lcmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5fdHJhaXRUb0dyb3VwID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcblxuICAgICAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLm5ld0NvbnRleHQoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGdyb3VwIG9mIHRoaXMuaXRlbU5hbWVzKGNvbnRleHQsIE9iamVjdE1ldGEuS2V5VHJhaXRHcm91cCkpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnB1c2goKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldChPYmplY3RNZXRhLktleVRyYWl0R3JvdXAsIGdyb3VwKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWUgb2YgdGhpcy5pdGVtTmFtZXMoY29udGV4dCwgT2JqZWN0TWV0YS5LZXlUcmFpdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhaXRUb0dyb3VwLnNldChuYW1lLCBncm91cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYWl0VG9Hcm91cC5nZXQodHJhaXQpO1xuICAgIH1cblxuICAgIHNldCBpbmplY3Rvcih2YWx1ZTogSW5qZWN0b3IpIHtcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSB2YWx1ZTtcbiAgICB9XG5cblxuICAgIGdldCBpbmplY3RvcigpOiBJbmplY3RvciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmplY3RvcjtcbiAgICB9XG5cbiAgICBnZXQgY29tcG9uZW50UmVnaXN0cnkoKTogQ29tcG9uZW50UmVnaXN0cnkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50UmVnaXN0cnk7XG4gICAgfVxuXG4gICAgc2V0IGNvbXBvbmVudFJlZ2lzdHJ5KHZhbHVlOiBDb21wb25lbnRSZWdpc3RyeSkge1xuICAgICAgICB0aGlzLl9jb21wb25lbnRSZWdpc3RyeSA9IHZhbHVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBXaGVuIGEgY2xhc3MgaXMgcHVzaGVkIGVpdGhlciBkaXJlY3RseSBvciBpbmRpcmVjdGx5ICh1c2luZyBkZWZmZXJlZCBydWxlcykgd2UgcmVjZWl2ZSBhXG4gKiBWYWx1ZVF1ZXJpZWRPYnNlcnZlciBub3RpZmljYXRpb24gaW4gb3JkZXIgdG8gcmVnaXN0ZXIgIHR5cGVzIGZvciB0aGUgb2JqZWN0LiBUcnlpbmcgdG8gYWNoaWV2ZVxuICogYXQgbGVhc3Qgc29tZSBraW5kIG9mIGludHJvc3BlY3Rpb24gd2UgbmVlZCB0byBpbXBsZW1lbnQgJHByb3RvIG1ldGhvZCBpbnNpZGUgdGhlIG9iamVjdCB0aGF0XG4gKiBpbnN0YW50aWF0ZXMgYWxsIHR5cGVzIHdoaWNoIHdlIGNhbiBxdWVyeS5cbiAqXG4gKiBJZGVhbGx5IHdlIHdhbnQgdG8gdXNlIGRlY29yYXRvcnMgd2hlbiBkZWFsaW5nIHdpdGggY2xpZW50IHNpZGUgdHlwZXNjcmlwdCBjbGFzcy4gYnV0IGZvciBjYXNlc1xuICogd2hlcmUgUnVsZXMgd2lsbCBiZSBsb2FkZWQgdXNpbmcgUmVzdCBBUEkgYWxvbmcgd2l0aCB0aGUgb2JqZWN0IGluc3RhbmNlIGl0cyBpbXBvc3NpYmxlLlxuICovXG5leHBvcnQgY2xhc3MgSW50cm9zcGVjdGlvbk1ldGFQcm92aWRlciBpbXBsZW1lbnRzIFZhbHVlUXVlcmllZE9ic2VydmVyIHtcbiAgICBwcml2YXRlIF9tZXRhOiBNZXRhO1xuXG4gICAgbm90aWZ5KG1ldGE6IE1ldGEsIGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMuX21ldGEgPSBtZXRhO1xuICAgICAgICBsZXQgbXlPYmplY3Q7XG5cbiAgICAgICAgbGV0IGNvbXBvbmVudFJlZ2lzdHJ5OiBDb21wb25lbnRSZWdpc3RyeSA9ICg8T2JqZWN0TWV0YT50aGlzLl9tZXRhKS5jb21wb25lbnRSZWdpc3RyeTtcbiAgICAgICAgYXNzZXJ0KGlzUHJlc2VudChjb21wb25lbnRSZWdpc3RyeSksXG4gICAgICAgICAgICAnQ29tcG9uZW50IHJlZ2lzdHJ5IGlzIG5vdCBpbml0aWFsaXplZCcpO1xuXG4gICAgICAgIGxldCBjbGF6ejogVHlwZTxhbnk+ID0gbnVsbDtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSAmJiAoY2xhenogPSBjb21wb25lbnRSZWdpc3RyeS5uYW1lVG9UeXBlLmdldCh2YWx1ZSkpXG4gICAgICAgICAgICAmJiBpc1ByZXNlbnQoY2xhenopKSB7XG4gICAgICAgICAgICBteU9iamVjdCA9IG5ldyBjbGF6eigpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQmxhbmsoY2xhenopKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhc3NlcnQoTWV0YS5jbGFzc05hbWUobXlPYmplY3QpID09PSB2YWx1ZSxcbiAgICAgICAgICAgICdUcnlpbmcgdG8gcHJvY2VzcyBhbmQgcmVnaXN0ZXIgYSBjbGFzcyB0aGF0IGRvZXMgbm90IGV4aXN0cyBvbiBDb250ZXh0Jyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJSdWxlc0ZvckNsYXNzKG15T2JqZWN0LCB2YWx1ZSk7XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlZ2lzdGVyUnVsZXNGb3JDbGFzcyhvYmplY3Q6IGFueSwgY2xhc3NOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbWV0YS5rZXlEYXRhKE9iamVjdE1ldGEuS2V5Q2xhc3MpLnNldFBhcmVudChjbGFzc05hbWUsICdPYmplY3QnKTtcblxuICAgICAgICB0aGlzLl9tZXRhLmJlZ2luUnVsZVNldChjbGFzc05hbWUpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgc2VsZWN0b3JzOiBBcnJheTxTZWxlY3Rvcj4gPSBbbmV3IFNlbGVjdG9yKE9iamVjdE1ldGEuS2V5Q2xhc3MsIGNsYXNzTmFtZSldO1xuICAgICAgICAgICAgbGV0IHByb3BlcnR5TWFwID0gdGhpcy5fbWV0YS5uZXdQcm9wZXJ0aWVzTWFwKCk7XG4gICAgICAgICAgICBzZWxlY3RvcnNbMF0uaXNEZWNsID0gdHJ1ZTtcblxuICAgICAgICAgICAgbGV0IHJ1bGU6IFJ1bGUgPSBuZXcgUnVsZShzZWxlY3RvcnMsIHByb3BlcnR5TWFwLCBPYmplY3RNZXRhLkNsYXNzUnVsZVByaW9yaXR5KTtcbiAgICAgICAgICAgIHRoaXMuX21ldGEuYWRkUnVsZShydWxlKTtcblxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclJ1bGVzRm9yRmllbGRzKG9iamVjdCwgY2xhc3NOYW1lKTtcblxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fbWV0YS5lbmRSdWxlU2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgcmVnaXN0ZXJSdWxlc0ZvckZpZWxkcyhvYmplY3Q6IGFueSwgY2xhc3NOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgLy8gdG9kbzogQ2FuIHdlIHNvbWVob3cgdXRpbGl6ZSBkZWNvcmF0b3JzPyBNYXliZSBmb3IgbG9jYWwgdHlwZXNjcmlwdCBkZWZpbmVkIG9iamVjdCwgYnV0XG4gICAgICAgIC8vIG5vdCBvYmplY3RzIGxvYWRlZCBhcyBqc29uIGZyb20gcmVzdCBBUElcbiAgICAgICAgYXNzZXJ0KGlzUHJlc2VudChvYmplY3RbJyRwcm90byddKSxcbiAgICAgICAgICAgICdDYW5ub3QgcmVnaXN0ZXIgZmllbGRzIHdpdGhvdXQgYSAkcHJvdG8gbWV0aG9kIHRoYXQgd2lsbCBleHBvc2UgYWxsIHRoZSBmaWVsZHMnKTtcbiAgICAgICAgbGV0IGluc3RhbmNlOiBhbnkgPSBvYmplY3RbJyRwcm90byddKCk7XG4gICAgICAgIGxldCBmaWVsZE5hbWVzID0gT2JqZWN0LmtleXMoaW5zdGFuY2UpO1xuXG4gICAgICAgIGxldCByYW5rID0gMDtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBvZiBmaWVsZE5hbWVzKSB7XG4gICAgICAgICAgICAvLyB0b2RvOiBjaGVjaz0+ICBjYW4gd2UgcmVseSBvbiB0aGlzID9cbiAgICAgICAgICAgIGxldCB0eXBlID0gaW5zdGFuY2VbbmFtZV0uY29uc3RydWN0b3IubmFtZTtcblxuICAgICAgICAgICAgbGV0IHByb3BlcnRpZXMgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnNldChPYmplY3RNZXRhLktleUZpZWxkLCBuYW1lKTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMuc2V0KE9iamVjdE1ldGEuS2V5VHlwZSwgdHlwZSk7XG5cbiAgICAgICAgICAgIHByb3BlcnRpZXMuc2V0KE9iamVjdE1ldGEuS2V5VmlzaWJsZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGlmIChpc0FycmF5KGluc3RhbmNlW25hbWVdKSkge1xuICAgICAgICAgICAgICAgIGFzc2VydChpbnN0YW5jZVtuYW1lXS5sZW5ndGggPiAwLFxuICAgICAgICAgICAgICAgICAgICAnIENhbm5vdCByZWdpc3RlciB0eXBlW2FycmF5XSBhbmQgaXRzIHR5cGUgd2l0aG91dCBwcm9wZXJseSBpbml0aWFsaXplZCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3Byb3RvdHlwZScpO1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gaW5zdGFuY2VbbmFtZV1bMF07XG4gICAgICAgICAgICAgICAgbGV0IGNvbGxlY3Rpb25FbGVtZW50VHlwZSA9IGl0ZW0uY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnNldChPYmplY3RNZXRhLktleUVsZW1lbnRUeXBlLCBjb2xsZWN0aW9uRWxlbWVudFR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgc2VsZWN0b3JMaXN0OiBBcnJheTxTZWxlY3Rvcj4gPSBbXG4gICAgICAgICAgICAgICAgbmV3IFNlbGVjdG9yKE9iamVjdE1ldGEuS2V5Q2xhc3MsIGNsYXNzTmFtZSksXG4gICAgICAgICAgICAgICAgbmV3IFNlbGVjdG9yKE9iamVjdE1ldGEuS2V5RmllbGQsIG5hbWUpLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHNlbGVjdG9yTGlzdFsxXS5pc0RlY2wgPSB0cnVlO1xuICAgICAgICAgICAgcHJvcGVydGllcy5zZXQoT2JqZWN0TWV0YS5LZXlSYW5rLCAocmFuaysrICsgMSkgKiAxMCk7XG5cbiAgICAgICAgICAgIGxldCBydWxlOiBSdWxlID0gbmV3IFJ1bGUoc2VsZWN0b3JMaXN0LCBwcm9wZXJ0aWVzLCBPYmplY3RNZXRhLkNsYXNzUnVsZVByaW9yaXR5KTtcbiAgICAgICAgICAgIHRoaXMuX21ldGEuYWRkUnVsZShydWxlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgc3BlY2lhbHMgdHlwZXMgdGhhdCB3ZSBhcmUgcmVhZCBkdXJpbmcgaW50cm9zcGVjdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIEZpZWxkVHlwZUludHJvc3BlY3Rpb25NZXRhUHJvdmlkZXIgaW1wbGVtZW50cyBWYWx1ZVF1ZXJpZWRPYnNlcnZlciB7XG5cbiAgICBub3RpZnkobWV0YTogTWV0YSwga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgLy8gcHJpbnQoJ0ZpZWxkVHlwZUludHJvc3BlY3Rpb25NZXRhUHJvdmlkZXIgbm90aWZpZWQgb2YgZmlyc3QgdXNlIG9mIGZpZWxkOiAgJyAsIHZhbHVlKTtcbiAgICB9XG5cbn1cblxuXG5leHBvcnQgY2xhc3MgT2JqZWN0TWV0YVByb3BlcnR5TWFwIGV4dGVuZHMgUHJvcGVydHlNYXAge1xuICAgIHByaXZhdGUgX2ZpZWxkUGF0aDogRmllbGRQYXRoO1xuXG5cbiAgICBnZXQgZmllbGRQYXRoKCk6IEZpZWxkUGF0aCB7XG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuX2ZpZWxkUGF0aCkpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0KE9iamVjdE1ldGEuS2V5VmFsdWUpO1xuICAgICAgICAgICAgbGV0IGZpZWxkTmFtZSA9IHRoaXMuZ2V0KE9iamVjdE1ldGEuS2V5RmllbGQpO1xuXG4gICAgICAgICAgICB0aGlzLl9maWVsZFBhdGggPSAoaXNQcmVzZW50KGZpZWxkTmFtZSkgJiYgaXNCbGFuayh2YWx1ZSkpXG4gICAgICAgICAgICAgICAgPyBuZXcgRmllbGRQYXRoKGZpZWxkTmFtZSlcbiAgICAgICAgICAgICAgICA6IE9iamVjdE1ldGEuX0ZpZWxkUGF0aE51bGxNYXJrZXI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGlzTnVsbFBhdGggPSB0aGlzLl9maWVsZFBhdGggPT09IE9iamVjdE1ldGEuX0ZpZWxkUGF0aE51bGxNYXJrZXI7XG4gICAgICAgIHJldHVybiBpc051bGxQYXRoID8gbnVsbCA6IHRoaXMuX2ZpZWxkUGF0aDtcbiAgICB9XG5cbiAgICBpc0ZpZWxkTnVsbE1hcmtlcih2YWx1ZTogRmllbGRQYXRoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBpc1ByZXNlbnQodmFsdWUpICYmIHZhbHVlLnBhdGggPT09ICdudWxsJztcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIE9NUHJvcGVydHlNZXJnZXJfVmFsaWQgaW1wbGVtZW50cyBQcm9wZXJ0eU1lcmdlciwgUHJvcGVydHlNZXJnZXJJc0NoYWluaW5nIHtcbiAgICBfbWV0YTogTWV0YTtcbiAgICBpc1Byb3BNZXJnZXJJc0NoYWluaW5nTWFyazogYm9vbGVhbiA9IHRydWU7XG5cblxuICAgIG1lcmdlKG9yaWc6IGFueSwgb3ZlcnJpZGU6IGFueSwgaXNEZWNsYXJlOiBib29sZWFuKTogYW55IHtcbiAgICAgICAgLy8gaWYgZmlyc3QgaXMgZXJyb3IgKGVycm9yIG1lc3NhZ2Ugb3IgZmFsc2UsIGl0IHdpbnMpLCBvdGhlcndpc2Ugc2Vjb25kXG4gICAgICAgIHJldHVybiAoaXNTdHJpbmcob3ZlcnJpZGUpIHx8IChpc0Jvb2xlYW4ob3ZlcnJpZGUpICYmIEJvb2xlYW5XcmFwcGVyLmlzRmFsc2UoXG4gICAgICAgICAgICBvdmVycmlkZSkpKSA/IG92ZXJyaWRlIDogb3JpZztcbiAgICB9XG5cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gJ1ZBTElEQVRFJztcbiAgICB9XG59XG5cblxuIiwiLyoqXG4gKiAgVGhpcyBpcyBnZW5lcmF0ZWQgZmlsZS4gRG8gbm90IGVkaXQgISFcbiAqXG4gKiAgQGZvcm1hdHRlcjpvZmZcbiAqXG4gKi9cbi8qIHRzbGludDpkaXNhYmxlICovXG5leHBvcnQgY29uc3QgU3lzdGVtUnVsZXMgPSB7XG4gXHRcdG9zczpcdFx0XHRbXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb2JqZWN0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NsYXNzJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgJ3YnOiAnTWV0YS5jbGFzc05hbWUob2JqZWN0KSdcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvYmplY3QnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdkZWNsYXJlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NsYXNzJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgJ3YnOiAnTWV0YS5jbGFzc05hbWUob2JqZWN0KSdcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3NlYXJjaCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdjbGFzcyc6IHtcblx0XHRcdCAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICd2JzogJ3ZhbHVlcy5nZXQoXCJjbGFzc1wiKSdcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogW1xuXHRcdFx0ICAgICAgICAgICdlZGl0Jyxcblx0XHRcdCAgICAgICAgICAnY3JlYXRlJyxcblx0XHRcdCAgICAgICAgICAnc2VhcmNoJ1xuXHRcdFx0ICAgICAgICBdLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb3BlcmF0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnZWRpdCcsXG5cdFx0XHQgICAgICAgICAgJ2NyZWF0ZScsXG5cdFx0XHQgICAgICAgICAgJ3NlYXJjaCdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2VkaXRpbmcnOiB0cnVlXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb3BlcmF0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnZWRpdCcsXG5cdFx0XHQgICAgICAgICAgJ2NyZWF0ZScsXG5cdFx0XHQgICAgICAgICAgJ3NlYXJjaCdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ2VkaXQnLFxuXHRcdFx0ICAgICAgICAgICdjcmVhdGUnLFxuXHRcdFx0ICAgICAgICAgICdzZWFyY2gnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2NsYXNzJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2VkaXRpbmcnOiB0cnVlXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb3BlcmF0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnZWRpdCcsXG5cdFx0XHQgICAgICAgICAgJ2NyZWF0ZScsXG5cdFx0XHQgICAgICAgICAgJ3NlYXJjaCdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ2VkaXQnLFxuXHRcdFx0ICAgICAgICAgICdjcmVhdGUnLFxuXHRcdFx0ICAgICAgICAgICdzZWFyY2gnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2VkaXRpbmcnOiB0cnVlXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb3BlcmF0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnZWRpdCcsXG5cdFx0XHQgICAgICAgICAgJ2NyZWF0ZScsXG5cdFx0XHQgICAgICAgICAgJ3NlYXJjaCdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ2VkaXQnLFxuXHRcdFx0ICAgICAgICAgICdjcmVhdGUnLFxuXHRcdFx0ICAgICAgICAgICdzZWFyY2gnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2FjdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdlZGl0aW5nJzogdHJ1ZVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ2VkaXQnLFxuXHRcdFx0ICAgICAgICAgICdjcmVhdGUnLFxuXHRcdFx0ICAgICAgICAgICdzZWFyY2gnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogW1xuXHRcdFx0ICAgICAgICAgICd2aWV3Jyxcblx0XHRcdCAgICAgICAgICAnbGlzdCdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ3ZpZXcnLFxuXHRcdFx0ICAgICAgICAgICdsaXN0J1xuXHRcdFx0ICAgICAgICBdLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnZWRpdGluZyc6IGZhbHNlXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb3BlcmF0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAndmlldycsXG5cdFx0XHQgICAgICAgICAgJ2xpc3QnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogW1xuXHRcdFx0ICAgICAgICAgICd2aWV3Jyxcblx0XHRcdCAgICAgICAgICAnbGlzdCdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnZWRpdGluZyc6IGZhbHNlXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb3BlcmF0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAndmlldycsXG5cdFx0XHQgICAgICAgICAgJ2xpc3QnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogW1xuXHRcdFx0ICAgICAgICAgICd2aWV3Jyxcblx0XHRcdCAgICAgICAgICAnbGlzdCdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnZWRpdGluZyc6IGZhbHNlXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb3BlcmF0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAndmlldycsXG5cdFx0XHQgICAgICAgICAgJ2xpc3QnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogW1xuXHRcdFx0ICAgICAgICAgICd2aWV3Jyxcblx0XHRcdCAgICAgICAgICAnbGlzdCdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnYWN0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2VkaXRpbmcnOiBmYWxzZVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ3ZpZXcnLFxuXHRcdFx0ICAgICAgICAgICdsaXN0J1xuXHRcdFx0ICAgICAgICBdLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAndmlzaWJsZSc6IHtcblx0XHRcdCAgICAgICAgJ3QnOiAnU0RXJyxcblx0XHRcdCAgICAgICAgJ3YnOiAnIXByb3BlcnRpZXMuZ2V0KFwiaGlkZGVuXCIpJ1xuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZWRpdGluZycsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiB0cnVlLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnZWRpdGFibGUnOiB0cnVlXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdlZGl0aW5nJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IGZhbHNlLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnZWRpdGFibGUnOiBmYWxzZVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2NsYXNzJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2NsYXNzJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2ZpdmVab25lcycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2ZpdmVab25lTGF5b3V0JzogdHJ1ZSxcblx0XHRcdCAgICAgICd6b25lcyc6IFtcblx0XHRcdCAgICAgICAgJ3pMZWZ0Jyxcblx0XHRcdCAgICAgICAgJ3pNaWRkbGUnLFxuXHRcdFx0ICAgICAgICAnelJpZ2h0Jyxcblx0XHRcdCAgICAgICAgJ3pUb3AnLFxuXHRcdFx0ICAgICAgICAnekJvdHRvbScsXG5cdFx0XHQgICAgICAgICd6RGV0YWlsJ1xuXHRcdFx0ICAgICAgXVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2NsYXNzJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2NsYXNzJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ29uZVpvbmUnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd6b25lcyc6IFtcblx0XHRcdCAgICAgICAgJ3pMZWZ0Jyxcblx0XHRcdCAgICAgICAgJ3pEZXRhaWwnXG5cdFx0XHQgICAgICBdXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAndGFibGVab25lcycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3pvbmVzJzogW1xuXHRcdFx0ICAgICAgICAnek1haW4nLFxuXHRcdFx0ICAgICAgICAnekxlZnQnLFxuXHRcdFx0ICAgICAgICAnelJpZ2h0Jyxcblx0XHRcdCAgICAgICAgJ3pUb3AnLFxuXHRcdFx0ICAgICAgICAnekJvdHRvbScsXG5cdFx0XHQgICAgICAgICd6RGV0YWlsJ1xuXHRcdFx0ICAgICAgXVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2NsYXNzJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2NsYXNzJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb3BlcmF0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnY3JlYXRlJyxcblx0XHRcdCAgICAgICAgICAnZWRpdCcsXG5cdFx0XHQgICAgICAgICAgJ3ZpZXcnLFxuXHRcdFx0ICAgICAgICAgICdzZWFyY2gnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd0cmFpdCc6ICdmaXZlWm9uZXMnXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2xpc3QnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAndHJhaXQnOiAndGFibGVab25lcydcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjbGFzcycsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdEdyb3VwJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdGb3JtWm9uZXMnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdEdyb3VwJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdGb3JtWm9uZXMnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdmaXZlWm9uZXMnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdEdyb3VwJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdGb3JtWm9uZXMnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdEdyb3VwJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdGb3JtWm9uZXMnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdvbmVab25lJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnRm9ybVpvbmVzJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdTdHJpbmdDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAndmFsdWUnOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnQ0ZQJyxcblx0XHRcdCAgICAgICAgICAndic6ICd2YWx1ZSdcblx0XHRcdCAgICAgICAgfVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnYm9vbGVhbicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2Jvb2xlYW4nLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdlZGl0YWJsZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdjb21wb25lbnQnOiAnQ2hlY2tib3gnXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdib29sZWFuJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnTnVtYmVyJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAnZm9ybWF0dGVyJzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0NGUCcsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAnZm9ybWF0dGVycy5pbnRlZ2VyJ1xuXHRcdFx0ICAgICAgICB9XG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdOdW1iZXInLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdlZGl0YWJsZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdjb21wb25lbnQnOiAnSW5wdXRGaWVsZENvbXBvbmVudCdcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ051bWJlcicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ051bWJlcicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnc2VhcmNoJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAnZm9ybWF0dGVyJzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0NGUCcsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAnZm9ybWF0dGVycy5ibGFua051bGwuaW50ZWdlcidcblx0XHRcdCAgICAgICAgfVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnTnVtYmVyJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnRGF0ZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdjb21wb25lbnQnOiAnRGF0ZUFuZFRpbWVDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAnZm9ybWF0dGVyJzogJ3Nob3J0RGF0ZScsXG5cdFx0XHQgICAgICAgICdzaG93VGltZSc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdEYXRlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZml2ZVpvbmVMYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogdHJ1ZSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnRGF0ZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0RhdGUnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnZGF0ZVRpbWUnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2VkaXRhYmxlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAnZm9ybWF0dGVyJzogJ2RhdGVUaW1lJyxcblx0XHRcdCAgICAgICAgJ3Nob3dUaW1lJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnRGF0ZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2phdmEubGFuZy5FbnVtJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnamF2YS5sYW5nLkVudW0nLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdlZGl0YWJsZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdjb21wb25lbnQnOiAnR2VuZXJpY0Nob29zZXJDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAnZGVzdGluYXRpb25DbGFzcyc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgICAndic6ICd0eXBlJ1xuXHRcdFx0ICAgICAgICB9LFxuXHRcdFx0ICAgICAgICAnZGlzcGxheUtleSc6ICduYW1lJyxcblx0XHRcdCAgICAgICAgJ2Zvcm1hdHRlcic6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdDRlAnLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ2Zvcm1hdHRlcnMuaWRlbnRpZmllcidcblx0XHRcdCAgICAgICAgfSxcblx0XHRcdCAgICAgICAgJ2tleSc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgICAndic6ICdmaWVsZCdcblx0XHRcdCAgICAgICAgfSxcblx0XHRcdCAgICAgICAgJ29iamVjdCc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgICAndic6ICdvYmplY3QnXG5cdFx0XHQgICAgICAgIH1cblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2phdmEubGFuZy5FbnVtJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZWRpdGFibGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogW1xuXHRcdFx0ICAgICAgICAgICdzZWFyY2gnLFxuXHRcdFx0ICAgICAgICAgICdsaXN0J1xuXHRcdFx0ICAgICAgICBdLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICd0eXBlJzogJ1BvcHVwJ1xuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnamF2YS5sYW5nLkVudW0nLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdlZGl0YWJsZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2phdmEubGFuZy5FbnVtJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ0FycmF5Jyxcblx0XHRcdCAgICAgICAgICAnU2V0J1xuXHRcdFx0ICAgICAgICBdLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnQXJyYXknLFxuXHRcdFx0ICAgICAgICAgICdTZXQnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdlbnVtJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdlZGl0YWJsZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdjb21wb25lbnQnOiAnR2VuZXJpY0Nob29zZXJDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAnbXVsdGlzZWxlY3QnOiB0cnVlLFxuXHRcdFx0ICAgICAgICAnZGVzdGluYXRpb25DbGFzcyc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgICAndic6ICdwcm9wZXJ0aWVzLmdldChcImVudW1DbGFzc1wiKSdcblx0XHRcdCAgICAgICAgfSxcblx0XHRcdCAgICAgICAgJ2Rpc3BsYXlLZXknOiAnbmFtZScsXG5cdFx0XHQgICAgICAgICdmb3JtYXR0ZXInOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnQ0ZQJyxcblx0XHRcdCAgICAgICAgICAndic6ICdmb3JtYXR0ZXJzLmlkZW50aWZpZXInXG5cdFx0XHQgICAgICAgIH0sXG5cdFx0XHQgICAgICAgICdrZXknOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAnZmllbGQnXG5cdFx0XHQgICAgICAgIH0sXG5cdFx0XHQgICAgICAgICdvYmplY3QnOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAnb2JqZWN0J1xuXHRcdFx0ICAgICAgICB9XG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnQXJyYXknLFxuXHRcdFx0ICAgICAgICAgICdTZXQnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogW1xuXHRcdFx0ICAgICAgICAgICdBcnJheScsXG5cdFx0XHQgICAgICAgICAgJ1NldCdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb3BlcmF0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnc2VhcmNoJyxcblx0XHRcdCAgICAgICAgICAnbGlzdCdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3Zpc2libGUnOiBmYWxzZVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ0FycmF5Jyxcblx0XHRcdCAgICAgICAgICAnU2V0J1xuXHRcdFx0ICAgICAgICBdLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnQXJyYXknLFxuXHRcdFx0ICAgICAgICAgICdTZXQnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdvd25lZFRvTWFueScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdNZXRhRGV0YWlsVGFibGUnLFxuXHRcdFx0ICAgICAgJ2FmdGVyJzogJ3pEZXRhaWwnXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnQXJyYXknLFxuXHRcdFx0ICAgICAgICAgICdTZXQnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1tCJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnW0InLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdlZGl0YWJsZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdjb21wb25lbnQnOiAnRmlsZVVwbG9hZENob29zZXInLFxuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAnYnl0ZXMnOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnQ0ZQJyxcblx0XHRcdCAgICAgICAgICAndic6ICd2YWx1ZSdcblx0XHRcdCAgICAgICAgfVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnW0InLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdbQicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2VkaXRhYmxlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IGZhbHNlLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICd2YWx1ZSc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgICAndic6ICd2YWx1ZSA/IChcIlwiICsgdmFsdWUubGVuZ3RoICsgXCIgYnl0ZXNcIikgOiBcIihub25lKVwiJ1xuXHRcdFx0ICAgICAgICB9XG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdbQicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0ZpbGUnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdGaWxlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZWRpdGFibGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnY29tcG9uZW50JzogJ0ZpbGVVcGxvYWRDaG9vc2VyJyxcblx0XHRcdCAgICAgICdiaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ2ZpbGUnOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnQ0ZQJyxcblx0XHRcdCAgICAgICAgICAndic6ICd2YWx1ZSdcblx0XHRcdCAgICAgICAgfVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnRmlsZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0ZpbGUnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdlZGl0YWJsZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBmYWxzZSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAndmFsdWUnOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAndmFsdWUgPyB2YWx1ZS5uYW1lIDogXCIobm9uZSlcIidcblx0XHRcdCAgICAgICAgfVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnRmlsZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1N0cmluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1N0cmluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2VkaXRhYmxlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdJbnB1dEZpZWxkQ29tcG9uZW50J1xuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnU3RyaW5nJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnU3RyaW5nJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2xvbmd0ZXh0Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnYWZ0ZXInOiAnekJvdHRvbSdcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1N0cmluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdsb25ndGV4dCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZWRpdGFibGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnY29tcG9uZW50JzogJ1RleHRBcmVhQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICdiaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ3Jvd3MnOiAxMCxcblx0XHRcdCAgICAgICAgJ2NvbHMnOiA2MFxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnU3RyaW5nJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2xvbmd0ZXh0Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdTdHJpbmcnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnbG9uZ3RleHQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ3NlYXJjaCcsXG5cdFx0XHQgICAgICAgICAgJ2xpc3QnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd2aXNpYmxlJzogZmFsc2Vcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1N0cmluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdsb25ndGV4dCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnU3RyaW5nJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnU3RyaW5nJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3JpY2h0ZXh0Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICdlc2NhcGVVbnNhZmVIdG1sJzogdHJ1ZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgICdhZnRlcic6ICd6Qm90dG9tJ1xuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnU3RyaW5nJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3JpY2h0ZXh0Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdlZGl0YWJsZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdjb21wb25lbnQnOiAnUmljaFRleHRBcmVhJyxcblx0XHRcdCAgICAgICdiaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ3Jvd3MnOiAxMCxcblx0XHRcdCAgICAgICAgJ2NvbHMnOiA2MFxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnU3RyaW5nJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3JpY2h0ZXh0Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdTdHJpbmcnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAncmljaHRleHQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnc2VhcmNoJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2FmdGVyJzogJ3pOb25lJ1xuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnU3RyaW5nJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3JpY2h0ZXh0Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdTdHJpbmcnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAncmljaHRleHQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnbGlzdCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdlZGl0YWJsZSc6IGZhbHNlLFxuXHRcdFx0ICAgICAgJ2FmdGVyJzogJ3pEZXRhaWwnXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdTdHJpbmcnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAncmljaHRleHQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1N0cmluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1N0cmluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdzZWNyZXQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdiaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ2Zvcm1hdHRlcic6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdDRlAnLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ2Zvcm1hdHRlcnMuaGlkZGVuUGFzc3dvcmQnXG5cdFx0XHQgICAgICAgIH1cblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1N0cmluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdzZWNyZXQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2VkaXRhYmxlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdBV1Bhc3N3b3JkRmllbGQnLFxuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge31cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1N0cmluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdzZWNyZXQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1N0cmluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdzZWNyZXQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ3NlYXJjaCcsXG5cdFx0XHQgICAgICAgICAgJ2xpc3QnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd2aXNpYmxlJzogZmFsc2Vcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1N0cmluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdzZWNyZXQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1N0cmluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3R5cGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1N0cmluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICd0cnVuY2F0ZWQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnY29tcG9uZW50JzogJ1RydW5jYXRlU3RyaW5nJyxcblx0XHRcdCAgICAgICdiaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ3NpemUnOiAxMFxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnU3RyaW5nJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnQmluYXJ5Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHlwZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnQmluYXJ5Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2ltYWdlRGF0YScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NvbnRlbnRUeXBlJzogJ2ltYWdlL2pwZWcnXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdCaW5hcnknLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnaW1hZ2VEYXRhJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdlZGl0YWJsZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBmYWxzZSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdBV0ltYWdlRGF0YScsXG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICdieXRlcyc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdDRlAnLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ3ZhbHVlJ1xuXHRcdFx0ICAgICAgICB9LFxuXHRcdFx0ICAgICAgICAnY29udGVudFR5cGUnOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAnQ29udGVudFR5cGVVdGlscy5jb250ZW50VHlwZU5hbWVkKHByb3BlcnRpZXMuZ2V0KFwiY29udGVudFR5cGVcIikpJ1xuXHRcdFx0ICAgICAgICB9XG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdCaW5hcnknLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnaW1hZ2VEYXRhJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdCaW5hcnknLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnaW1hZ2VEYXRhJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdlZGl0YWJsZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdiaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ2F3Y29udGVudExheW91dHMnOiB7XG5cdFx0XHQgICAgICAgICAgJ19tYWluJzogJ19pbWdVcGxvYWRQcmV2aWV3J1xuXHRcdFx0ICAgICAgICB9XG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdCaW5hcnknLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnaW1hZ2VEYXRhJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdCaW5hcnknLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0eXBlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdNb25leScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdjb21wb25lbnQnOiAnQ3VycmVuY3lDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAnbW9uZXknOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnQ0ZQJyxcblx0XHRcdCAgICAgICAgICAndic6ICd2YWx1ZSdcblx0XHRcdCAgICAgICAgfSxcblx0XHRcdCAgICAgICAgJ2N1cnJlbmNpZXMnOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAncHJvcGVydGllcy5nZXQoXCJjdXJyZW5jaWVzXCIpJ1xuXHRcdFx0ICAgICAgICB9XG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ19pbWdVcGxvYWRQcmV2aWV3Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3dyYXBwZXJDb21wb25lbnQnOiAnTWV0YUNvbnRleHQnLFxuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdBV0ltYWdlRGF0YScsXG5cdFx0XHQgICAgICAnd3JhcHBlckJpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAnc2NvcGVLZXknOiAnZmllbGQnXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAnYnl0ZXMnOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnQ0ZQJyxcblx0XHRcdCAgICAgICAgICAndic6ICd2YWx1ZSdcblx0XHRcdCAgICAgICAgfSxcblx0XHRcdCAgICAgICAgJ3N0eWxlJzogJ3dpZHRoOjEwMHB4Jyxcblx0XHRcdCAgICAgICAgJ2NvbnRlbnRUeXBlJzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0V4cHInLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ0NvbnRlbnRUeXBlVXRpbHMuY29udGVudFR5cGVOYW1lZChwcm9wZXJ0aWVzLmdldChcImNvbnRlbnRUeXBlXCIpKSdcblx0XHRcdCAgICAgICAgfVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2Rlcml2ZWQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdlZGl0YWJsZSc6IGZhbHNlXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnZGVyaXZlZCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZWRpdGluZycsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdhZnRlcic6ICd6Tm9uZSdcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdkZXJpdmVkJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnc2VhcmNoYWJsZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3NlYXJjaGFibGUnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnc2VhcmNoJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3Zpc2libGUnOiB0cnVlLFxuXHRcdFx0ICAgICAgJ2VkaXRhYmxlJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdPVicsXG5cdFx0XHQgICAgICAgICd2JzogJ3RydWUnXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAgJ2FmdGVyJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdPVicsXG5cdFx0XHQgICAgICAgICd2JzogJ251bGwnXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnc2VhcmNoYWJsZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3JlcXVpcmVkJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAncmVxdWlyZWQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ2VkaXQnLFxuXHRcdFx0ICAgICAgICAgICdjcmVhdGUnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdyZXF1aXJlZCc6IHRydWVcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdyZXF1aXJlZCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb3BlcmF0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnZWRpdCcsXG5cdFx0XHQgICAgICAgICAgJ2NyZWF0ZSdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb2JqZWN0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3ZhbGlkJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgJ3YnOiAnKCh2YWx1ZSAhPSB1bmRlZmluZWQpICYmICh2YWx1ZSAhPSBudWxsKSkgPyB0cnVlIDogXCJBbnN3ZXIgcmVxdWlyZWRcIidcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdyZXF1aXJlZCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb3BlcmF0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnZWRpdCcsXG5cdFx0XHQgICAgICAgICAgJ2NyZWF0ZSdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3JlcXVpcmVkJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnbGlzdCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2xpc3QnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2VkaXRhYmxlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdHZW5lcmljQ2hvb3NlckNvbXBvbmVudCcsXG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICdsaXN0Jzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0V4cHInLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ3Byb3BlcnRpZXMuZ2V0KFwiY2hvaWNlc1wiKSdcblx0XHRcdCAgICAgICAgfSxcblx0XHRcdCAgICAgICAgJ3R5cGUnOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAncHJvcGVydGllcy5nZXQoXCJjaG9vc2VyU3R5bGVcIiknXG5cdFx0XHQgICAgICAgIH0sXG5cdFx0XHQgICAgICAgICdrZXknOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAncHJvcGVydGllcy5nZXQoXCJmaWVsZFwiKSdcblx0XHRcdCAgICAgICAgfSxcblx0XHRcdCAgICAgICAgJ29iamVjdCc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgICAndic6ICdvYmplY3QnXG5cdFx0XHQgICAgICAgIH1cblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdsaXN0Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnYXNPYmplY3QnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdhc09iamVjdCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZWRpdGFibGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogZmFsc2UsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdjb21wb25lbnQnOiAnTWV0YU9iamVjdERldGFpbENvbXBvbmVudCcsXG5cdFx0XHQgICAgICAnbmVzdGVkTGF5b3V0JzogdHJ1ZSxcblx0XHRcdCAgICAgICdiaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ2xheW91dCc6ICdJbnNwZWN0Jyxcblx0XHRcdCAgICAgICAgJ3VzZU5vTGFiZWxMYXlvdXQnOiB0cnVlLFxuXHRcdFx0ICAgICAgICAnbGFiZWwnOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAncHJvcGVydGllcy5nZXQoXCJsYWJlbFwiKSdcblx0XHRcdCAgICAgICAgfSxcblx0XHRcdCAgICAgICAgJ29iamVjdCc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdDRlAnLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ3ZhbHVlJ1xuXHRcdFx0ICAgICAgICB9XG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnYXNPYmplY3QnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdhc0hvdmVyJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnYXNIb3ZlcicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZWRpdGFibGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogZmFsc2UsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdjb21wb25lbnQnOiAnSG92ZXJDYXJkQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICdiaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ2xpbmtUaXRsZSc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdDRlAnLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ3ZhbHVlJ1xuXHRcdFx0ICAgICAgICB9LFxuXHRcdFx0ICAgICAgICAnYXBwZW5kQ29udGVudFRvQm9keSc6IGZhbHNlLFxuXHRcdFx0ICAgICAgICAnbmdjb250ZW50TGF5b3V0JzogJ0NvbnRlbnQnXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnYXNIb3ZlcicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdDb250ZW50Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnY29tcG9uZW50JzogJ01ldGFPYmplY3REZXRhaWxDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAnbGF5b3V0JzogJ0luc3BlY3QnLFxuXHRcdFx0ICAgICAgICAnb2JqZWN0Jzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0NGUCcsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAndmFsdWUnXG5cdFx0XHQgICAgICAgIH1cblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdub0NyZWF0ZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ25vQ3JlYXRlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2NyZWF0ZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd2aXNpYmxlJzogZmFsc2Vcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdub0NyZWF0ZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ25vU2VhcmNoJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnbm9TZWFyY2gnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnc2VhcmNoJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3Zpc2libGUnOiBmYWxzZVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ25vU2VhcmNoJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0dlbmVyaWNDaG9vc2VyQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdHZW5lcmljQ2hvb3NlckNvbXBvbmVudCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdQb3B1cCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAndHlwZSc6ICdEcm9wZG93bidcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2NvbXBvbmVudCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnR2VuZXJpY0Nob29zZXJDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0dlbmVyaWNDaG9vc2VyQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1BvcHVwQ29udHJvbCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAndHlwZSc6ICdQb3B1cENvbnRyb2wnXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0dlbmVyaWNDaG9vc2VyQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdHZW5lcmljQ2hvb3NlckNvbXBvbmVudCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdDaG9vc2VyJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICd0eXBlJzogJ0Nob29zZXInXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0dlbmVyaWNDaG9vc2VyQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdHZW5lcmljQ2hvb3NlckNvbXBvbmVudCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdQb3N0T25DaGFuZ2UnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdiaW5kaW5ncyc6IHt9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0dlbmVyaWNDaG9vc2VyQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnU3RyaW5nQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgICAnQVdIeXBlcmxpbmsnLFxuXHRcdFx0ICAgICAgICAgICdQb3B1cE1lbnVMaW5rJ1xuXHRcdFx0ICAgICAgICBdLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogW1xuXHRcdFx0ICAgICAgICAgICdTdHJpbmdDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAgICdBV0h5cGVybGluaycsXG5cdFx0XHQgICAgICAgICAgJ1BvcHVwTWVudUxpbmsnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdib2xkJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnd3JhcHBlckNvbXBvbmVudCc6ICdHZW5lcmljQ29udGFpbmVyQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICd3cmFwcGVyQmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICd0YWdOYW1lJzogJ2InXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogW1xuXHRcdFx0ICAgICAgICAgICdTdHJpbmdDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAgICdBV0h5cGVybGluaycsXG5cdFx0XHQgICAgICAgICAgJ1BvcHVwTWVudUxpbmsnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2NvbXBvbmVudCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ1N0cmluZ0NvbXBvbmVudCcsXG5cdFx0XHQgICAgICAgICAgJ0FXSHlwZXJsaW5rJyxcblx0XHRcdCAgICAgICAgICAnUG9wdXBNZW51TGluaydcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2l0YWxpYycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3dyYXBwZXJDb21wb25lbnQnOiAnR2VuZXJpY0NvbnRhaW5lckNvbXBvbmVudCcsXG5cdFx0XHQgICAgICAnd3JhcHBlckJpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAndGFnTmFtZSc6ICdpJ1xuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnU3RyaW5nQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgICAnQVdIeXBlcmxpbmsnLFxuXHRcdFx0ICAgICAgICAgICdQb3B1cE1lbnVMaW5rJ1xuXHRcdFx0ICAgICAgICBdLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogW1xuXHRcdFx0ICAgICAgICAgICdTdHJpbmdDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAgICdBV0h5cGVybGluaycsXG5cdFx0XHQgICAgICAgICAgJ1BvcHVwTWVudUxpbmsnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdoZWFkaW5nMScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3dyYXBwZXJDb21wb25lbnQnOiAnR2VuZXJpY0NvbnRhaW5lckNvbXBvbmVudCcsXG5cdFx0XHQgICAgICAnd3JhcHBlckJpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAndGFnTmFtZSc6ICdoMSdcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2NvbXBvbmVudCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ1N0cmluZ0NvbXBvbmVudCcsXG5cdFx0XHQgICAgICAgICAgJ0FXSHlwZXJsaW5rJyxcblx0XHRcdCAgICAgICAgICAnUG9wdXBNZW51TGluaydcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnU3RyaW5nQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgICAnQVdIeXBlcmxpbmsnLFxuXHRcdFx0ICAgICAgICAgICdQb3B1cE1lbnVMaW5rJ1xuXHRcdFx0ICAgICAgICBdLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnaGVhZGluZzInLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd3cmFwcGVyQ29tcG9uZW50JzogJ0dlbmVyaWNDb250YWluZXJDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgJ3dyYXBwZXJCaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ3RhZ05hbWUnOiAnaDInXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogW1xuXHRcdFx0ICAgICAgICAgICdTdHJpbmdDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgICAgICdBV0h5cGVybGluaycsXG5cdFx0XHQgICAgICAgICAgJ1BvcHVwTWVudUxpbmsnXG5cdFx0XHQgICAgICAgIF0sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2NvbXBvbmVudCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ1N0cmluZ0NvbXBvbmVudCcsXG5cdFx0XHQgICAgICAgICAgJ0FXSHlwZXJsaW5rJyxcblx0XHRcdCAgICAgICAgICAnUG9wdXBNZW51TGluaydcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2hlYWRpbmczJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnd3JhcHBlckNvbXBvbmVudCc6ICdHZW5lcmljQ29udGFpbmVyQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICd3cmFwcGVyQmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICd0YWdOYW1lJzogJ2gzJ1xuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnU3RyaW5nQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgICAnQVdIeXBlcmxpbmsnLFxuXHRcdFx0ICAgICAgICAgICdQb3B1cE1lbnVMaW5rJ1xuXHRcdFx0ICAgICAgICBdLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnRmllbGRUeXBlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnRmllbGRUeXBlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnbG9uZ3RleHQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdEdyb3VwJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdGaWVsZFR5cGUnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdEdyb3VwJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdGaWVsZFR5cGUnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdyaWNodGV4dCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0ZpZWxkVHlwZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0ZpZWxkVHlwZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3NlY3JldCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0ZpZWxkVHlwZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0Nob29zZXJUeXBlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnQ2hvb3NlclR5cGUnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdQb3B1cCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0Nob29zZXJUeXBlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnQ2hvb3NlclR5cGUnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdQb3B1cENvbnRyb2wnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdEdyb3VwJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdDaG9vc2VyVHlwZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0Nob29zZXJUeXBlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnQ2hvb3NlcicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0Nob29zZXJUeXBlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnV3JhcHBlclN0eWxlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnV3JhcHBlclN0eWxlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnYm9sZCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1dyYXBwZXJTdHlsZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1dyYXBwZXJTdHlsZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2l0YWxpYycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1dyYXBwZXJTdHlsZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1dyYXBwZXJTdHlsZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2hlYWRpbmcxJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnV3JhcHBlclN0eWxlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnV3JhcHBlclN0eWxlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnaGVhZGluZzInLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdEdyb3VwJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdXcmFwcGVyU3R5bGUnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdEdyb3VwJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdXcmFwcGVyU3R5bGUnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdoZWFkaW5nMycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1dyYXBwZXJTdHlsZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2FjdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd2aXNpYmxlJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdTRFcnLFxuXHRcdFx0ICAgICAgICAndic6ICchcHJvcGVydGllcy5nZXQoXCJoaWRkZW5cIiknXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAgJ2VuYWJsZWQnOiB0cnVlXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnYWN0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3BhZ2VBY3Rpb24nLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdhY3Rpb25SZXN1bHRzJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgJ3YnOiAnbWV0YS5yb3V0aW5nU2VydmljZS5yb3V0ZUZvclBhZ2UocHJvcGVydGllcy5nZXQoXCJwYWdlTmFtZVwiKSknXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnYWN0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2FjdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdtb2RhbENvbXBvbmVudFBhZ2UnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdwYWdlQmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICdjb21wb25lbnROYW1lJzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0V4cHInLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ3Byb3BlcnRpZXMuZ2V0KFwiY29tcG9uZW50TmFtZVwiKSdcblx0XHRcdCAgICAgICAgfSxcblx0XHRcdCAgICAgICAgJ3RpdGxlJzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0V4cHInLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ3Byb3BlcnRpZXMuZ2V0KFwidGl0bGVcIiknXG5cdFx0XHQgICAgICAgIH1cblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICAnYWN0aW9uUmVzdWx0cyc6IHtcblx0XHRcdCAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICd2JzogJ21ldGEuY29tcFBhZ2VXaXRoTmFtZShcIk1ldGFNb2RhbFBhZ2VcIiknXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnYWN0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2FjdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdtb2RhbENvbXBvbmVudFBhbmVsJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAncGFnZUJpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAnY2xpZW50UGFuZWwnOiB0cnVlLFxuXHRcdFx0ICAgICAgICAnY29tcG9uZW50TmFtZSc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgICAndic6ICdwcm9wZXJ0aWVzLmdldChcImNvbXBvbmVudE5hbWVcIiknXG5cdFx0XHQgICAgICAgIH0sXG5cdFx0XHQgICAgICAgICd0aXRsZSc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgICAndic6ICdwcm9wZXJ0aWVzLmdldChcInRpdGxlXCIpJ1xuXHRcdFx0ICAgICAgICB9XG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAgJ2FjdGlvblJlc3VsdHMnOiB7XG5cdFx0XHQgICAgICAgICd0JzogJ0V4cHInLFxuXHRcdFx0ICAgICAgICAndic6ICdtZXRhLmNvbXBQYWdlV2l0aE5hbWUoXCJNZXRhTW9kYWxQYWdlXCIpJ1xuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2FjdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdhY3Rpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnbWVzc2FnZVJlc3VsdHMnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdhY3Rpb25SZXN1bHRzJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgJ3YnOiAndmFyIG8gPSAocHJvcGVydGllcy5pc0luc3RhbmNlQWN0aW9uID8gb2JqZWN0IDogYXJpYmEudWkuYXJpYmF3ZWIudXRpbC5BV1V0aWwuY2xhc3NGb3JOYW1lKHByb3BlcnRpZXMuY2xhc3MpKSwgdmFyIHYgPSBhcmliYS51dGlsLmZpZWxkdmFsdWUuRmllbGRWYWx1ZS5nZXRGaWVsZFZhbHVlKG8sIHByb3BlcnRpZXMuYWN0aW9uKSwgdmFyIG0gPSBhcmliYS51dGlsLmNvcmUuRm10LlMocHJvcGVydGllcy5tZXNzYWdlLCB2KSwgYXJpYmEudWkud2lkZ2V0cy5BcmliYVBhZ2VDb250ZW50LnNldE1lc3NhZ2UobSwgcmVxdWVzdENvbnRleHQuc2Vzc2lvbigpKSwgbnVsbCdcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICAnbWVzc2FnZSc6ICdBY3Rpb24gUGVyZm9ybWVkOiAlcydcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdhY3Rpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnYWN0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2luc3RhbmNlJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnaXNJbnN0YW5jZUFjdGlvbic6IHRydWUsXG5cdFx0XHQgICAgICAnZW5hYmxlZCc6IHtcblx0XHRcdCAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICd2JzogJ29iamVjdCAhPSBudWxsJ1xuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2FjdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdhY3Rpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWx0ZXJBY3Rpb25zJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdpbnN0YW5jZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd2aXNpYmxlJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgJ3YnOiAncHJvcGVydGllcy5nZXQoXCJpc0luc3RhbmNlQWN0aW9uXCIpID09IHRydWUnXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnYWN0aW9uJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2FjdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpbHRlckFjdGlvbnMnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3N0YXRpYycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd2aXNpYmxlJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgJ3YnOiAnIXByb3BlcnRpZXMuZ2V0KFwiaXNJbnN0YW5jZUFjdGlvblwiKSdcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdhY3Rpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3pvbmVzJzogW1xuXHRcdFx0ICAgICAgICAnek1haW4nXG5cdFx0XHQgICAgICBdXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0FjdGlvbkJ1dHRvbnMnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdjb21wb25lbnQnOiAnTWV0YUFjdGlvbkxpc3RDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgJ3Zpc2libGUnOiB0cnVlLFxuXHRcdFx0ICAgICAgJ2JpbmRpbmdzJzoge1xuXHRcdFx0ICAgICAgICAnZGVmYXVsdFN0eWxlJzogJ3ByaW1hcnknLFxuXHRcdFx0ICAgICAgICAncmVuZGVyQXMnOiAnYnV0dG9ucycsXG5cdFx0XHQgICAgICAgICdhbGlnbic6ICdyaWdodCdcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICAnZWxlbWVudENsYXNzJzogJ2wtYWN0aW9uLWJ1dHRvbnMnXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdBY3Rpb25MaW5rcycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdNZXRhQWN0aW9uTGlzdENvbXBvbmVudCcsXG5cdFx0XHQgICAgICAndmlzaWJsZSc6IHRydWUsXG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICdyZW5kZXJBcyc6ICdsaW5rcycsXG5cdFx0XHQgICAgICAgICdhbGlnbic6ICdyaWdodCdcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICAnZWxlbWVudENsYXNzJzogJ2wtYWN0aW9uLWJ1dHRvbnMnXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdBY3Rpb25NZW51Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnY29tcG9uZW50JzogJ01ldGFBY3Rpb25MaXN0Q29tcG9uZW50Jyxcblx0XHRcdCAgICAgICd2aXNpYmxlJzogdHJ1ZSxcblx0XHRcdCAgICAgICdiaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ3JlbmRlckFzJzogJ21lbnUnLFxuXHRcdFx0ICAgICAgICAnYWxpZ24nOiAncmlnaHQnXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAgJ2VsZW1lbnRDbGFzcyc6ICdsLWFjdGlvbi1idXR0b25zJ1xuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnSW5zdGFuY2VBY3Rpb25CdXR0b25zJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnY29tcG9uZW50JzogJ01ldGFBY3Rpb25MaXN0Q29tcG9uZW50Jyxcblx0XHRcdCAgICAgICd2aXNpYmxlJzogdHJ1ZSxcblx0XHRcdCAgICAgICdiaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ2ZpbHRlckFjdGlvbnMnOiAnaW5zdGFuY2UnLFxuXHRcdFx0ICAgICAgICAncmVuZGVyQXMnOiAnYnV0dG9ucycsXG5cdFx0XHQgICAgICAgICdhbGlnbic6ICdyaWdodCdcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICAnZWxlbWVudENsYXNzJzogJ2wtYWN0aW9uLWJ1dHRvbnMnXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdTdGF0aWNBY3Rpb25CdXR0b25zJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnY29tcG9uZW50JzogJ01ldGFBY3Rpb25MaXN0Q29tcG9uZW50Jyxcblx0XHRcdCAgICAgICd2aXNpYmxlJzogdHJ1ZSxcblx0XHRcdCAgICAgICdiaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ2ZpbHRlckFjdGlvbnMnOiAnc3RhdGljJyxcblx0XHRcdCAgICAgICAgJ3JlbmRlckFzJzogJ2J1dHRvbnMnLFxuXHRcdFx0ICAgICAgICAnYWxpZ24nOiAncmlnaHQnXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAgJ2VsZW1lbnRDbGFzcyc6ICdsLWFjdGlvbi1idXR0b25zJ1xuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnVGFicycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdNZXRhVGFicycsXG5cdFx0XHQgICAgICAndmlzaWJsZSc6IHRydWVcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1NlY3Rpb25zJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnY29tcG9uZW50JzogJ01ldGFTZWN0aW9uc0NvbXBvbmVudCcsXG5cdFx0XHQgICAgICAndmlzaWJsZSc6IHRydWVcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0Zvcm0nLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdjb21wb25lbnQnOiAnTWV0YUZvcm1Db21wb25lbnQnLFxuXHRcdFx0ICAgICAgJ3Zpc2libGUnOiB0cnVlXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdTdGFjaycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdNZXRhRWxlbWVudExpc3RDb21wb25lbnQnLFxuXHRcdFx0ICAgICAgJ3Zpc2libGUnOiB0cnVlXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdPd25ab25lJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnem9uZVBhdGgnOiB7XG5cdFx0XHQgICAgICAgICd0JzogJ0V4cHInLFxuXHRcdFx0ICAgICAgICAndic6ICdsYXlvdXQnXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdwYWQ4Jyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnd3JhcHBlckNvbXBvbmVudCc6ICdHZW5lcmljQ29udGFpbmVyQ29tcG9uZW50Jyxcblx0XHRcdCAgICAgICd3cmFwcGVyQmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICdzdHlsZSc6ICdwYWRkaW5nOjhweCcsXG5cdFx0XHQgICAgICAgICd0YWdOYW1lJzogJ2Rpdidcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY29tcG9uZW50Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdNZXRhRm9ybUNvbXBvbmVudCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdsYWJlbHNPblRvcCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXRfdHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2xhYmVsc09uVG9wJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICdzaG93TGFiZWxzQWJvdmVDb250cm9scyc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnTGF5b3V0R3JvdXBpbmcnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdEdyb3VwJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdMYXlvdXRHcm91cGluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1RhYnMnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdEdyb3VwJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdMYXlvdXRHcm91cGluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0xheW91dEdyb3VwaW5nJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnU2VjdGlvbnMnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdEdyb3VwJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdMYXlvdXRHcm91cGluZycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0xheW91dEdyb3VwaW5nJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnRm9ybScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0xheW91dEdyb3VwaW5nJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnTGF5b3V0R3JvdXBpbmcnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdTdGFjaycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0xheW91dEdyb3VwaW5nJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogW1xuXHRcdFx0ICAgICAgICAgICdJbnNwZWN0Jyxcblx0XHRcdCAgICAgICAgICAnU2VhcmNoRm9ybSdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3RyYWl0JzogJ0Zvcm0nLFxuXHRcdFx0ICAgICAgJ2xhYmVsJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgJ3YnOiAnVUlNZXRhLmJlYXV0aWZ5Q2xhc3NOYW1lKHZhbHVlcy5jbGFzcyknXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzoge30sXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiBbXG5cdFx0XHQgICAgICAgICAgJ0luc3BlY3QnLFxuXHRcdFx0ICAgICAgICAgICdTZWFyY2hGb3JtJ1xuXHRcdFx0ICAgICAgICBdLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnY29tcG9uZW50JzogJ1N0cmluZ0NvbXBvbmVudCcsXG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7fVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnSW5zcGVjdFdpdGhBY3Rpb25zJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3RyYWl0JzogJ1N0YWNrJ1xuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnSW5zcGVjdFdpdGhBY3Rpb25zJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdBY3Rpb25zJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAndHJhaXQnOiAnQWN0aW9uTWVudSdcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0luc3BlY3RXaXRoQWN0aW9ucycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0luc3BlY3RXaXRoQWN0aW9ucycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnSW5zcGVjdCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3RyYWl0JzogJ0Zvcm0nXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdJbnNwZWN0V2l0aEFjdGlvbnMnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdCdXR0b25BcmVhJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3RyYWl0JzogJ1N0YXRpY0FjdGlvbkJ1dHRvbnMnXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdTZWxlY3Rpb25CdXR0b25BcmVhJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3RyYWl0JzogJ0luc3RhbmNlQWN0aW9uQnV0dG9ucydcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0xpbmtzJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3RyYWl0JzogJ0FjdGlvbkxpbmtzJ1xuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnTGFiZWxGaWVsZCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3Zpc2libGUnOiBmYWxzZVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnTGFiZWxGaWVsZCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2xhYmVsRmllbGQnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd2aXNpYmxlJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdPVicsXG5cdFx0XHQgICAgICAgICd2JzogJ3RydWUnXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdMYWJlbEZpZWxkJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbGF5b3V0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6IFtcblx0XHRcdCAgICAgICAgICAnVGFibGUnLFxuXHRcdFx0ICAgICAgICAgICdEZXRhaWxUYWJsZSdcblx0XHRcdCAgICAgICAgXSxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnY29tcG9uZW50JzogJ01ldGFUYWJsZScsXG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICdlbmFibGVTY3JvbGxpbmcnOiB0cnVlLFxuXHRcdFx0ICAgICAgICAnc2hvd1NlbGVjdGlvbkNvbHVtbic6IGZhbHNlLFxuXHRcdFx0ICAgICAgICAnZGlzcGxheUdyb3VwJzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0NGUCcsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAnZGlzcGxheUdyb3VwJ1xuXHRcdFx0ICAgICAgICB9LFxuXHRcdFx0ICAgICAgICAndGl0bGUnOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAncHJvcGVydGllcy5nZXQoXCJsYWJlbFwiKSdcblx0XHRcdCAgICAgICAgfSxcblx0XHRcdCAgICAgICAgJ3N1Ym1pdE9uU2VsZWN0aW9uQ2hhbmdlJzogdHJ1ZSxcblx0XHRcdCAgICAgICAgJ3NpbmdsZVNlbGVjdCc6IHRydWVcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0xpc3RJdGVtJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnY29tcG9uZW50JzogJ1N0cmluZ0NvbXBvbmVudCcsXG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICd2YWx1ZSc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgICAndic6ICdwcm9wZXJ0aWVzLmdldChcIm9iamVjdFRpdGxlXCIpJ1xuXHRcdFx0ICAgICAgICB9XG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnb2JqZWN0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnb2JqZWN0VGl0bGUnOiB7XG5cdFx0XHQgICAgICAgICd0JzogJ0V4cHInLFxuXHRcdFx0ICAgICAgICAndic6ICdGaWVsZFBhdGguZ2V0RmllbGRWYWx1ZShvYmplY3QsIG1ldGEuZGlzcGxheUtleUZvckNsYXNzKHZhbHVlcy5nZXQoXCJjbGFzc1wiKSkpJ1xuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29iamVjdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdvYmplY3RUaXRsZSc6IHtcblx0XHRcdCAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICd2JzogJ0ZpZWxkUGF0aC5nZXRGaWVsZFZhbHVlKG9iamVjdCwgbWV0YS5kaXNwbGF5S2V5Rm9yQ2xhc3ModmFsdWVzLmdldChcImNsYXNzXCIpKSknXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbW9kdWxlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3BhZ2VCaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICd2JzogJyhwcm9wZXJ0aWVzLmdldChcImhvbWVQYWdlXCIpID09IFwiTWV0YUhvbWVQYWdlQ29tcG9uZW50XCIpID8gbmV3IE1hcCgpLnNldChcIm1vZHVsZVwiLCB2YWx1ZXMuZ2V0KFwibW9kdWxlXCIpKSA6IG51bGwnXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdNZXRhRGFzaGJvYXJkTGF5b3V0Q29tcG9uZW50Jyxcblx0XHRcdCAgICAgICd2aXNpYmxlJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdTRFcnLFxuXHRcdFx0ICAgICAgICAndic6ICchcHJvcGVydGllcy5nZXQoXCJoaWRkZW5cIiknXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAgJ2hvbWVQYWdlJzogJ01ldGFIb21lUGFnZUNvbXBvbmVudCdcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdtb2R1bGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdsYXlvdXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAndmlzaWJsZSc6IHRydWVcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdtb2R1bGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbW9kdWxlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ0FjdGlvblRPQycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ21vZHVsZScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdBY3Rpb25UT0MnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2xheW91dCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnQWN0aW9ucycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdNZXRhQWN0aW9uTGlzdENvbXBvbmVudCcsXG5cdFx0XHQgICAgICAnbGFiZWwnOiAnQWN0aW9ucycsXG5cdFx0XHQgICAgICAnYWZ0ZXInOiAnelRvYydcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdtb2R1bGUnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnQWN0aW9uVE9DJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnbW9kdWxlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2FjdGlvbkNhdGVnb3J5Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3Zpc2libGUnOiB7XG5cdFx0XHQgICAgICAgICd0JzogJ1NEVycsXG5cdFx0XHQgICAgICAgICd2JzogJyFwcm9wZXJ0aWVzLmdldChcImhpZGRlblwiKSdcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdhY3Rpb25DYXRlZ29yeScsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnR2VuZXJhbCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2FmdGVyJzogJ3pNYWluJyxcblx0XHRcdCAgICAgICdsYWJlbCc6IHtcblx0XHRcdCAgICAgICAgJ3QnOiAnaTE4bicsXG5cdFx0XHQgICAgICAgICd2Jzoge1xuXHRcdFx0ICAgICAgICAgICdrZXknOiAnYTAwMScsXG5cdFx0XHQgICAgICAgICAgJ2RlZlZhbCc6ICdHZW5lcmFsJ1xuXHRcdFx0ICAgICAgICB9XG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH1cblx0XHRcdF1cbn07XG5cbi8qIHRzbGludDpkaXNhYmxlICovXG4vKipcbiAqICBAZm9ybWF0dGVyOm9uXG4gKlxuICovXG4iLCIvKipcbiAqICBUaGlzIGlzIGdlbmVyYXRlZCBmaWxlLiBEbyBub3QgZWRpdCAhIVxuICpcbiAqICBAZm9ybWF0dGVyOm9mZlxuICpcbiAqL1xuLyogdHNsaW50OmRpc2FibGUgKi9cbmV4cG9ydCBjb25zdCBTeXN0ZW1QZXJzaXN0ZW5jZVJ1bGVzID0ge1xuIFx0XHRvc3M6XHRcdFx0W1xuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2NsYXNzJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2Rpc3BsYXlLZXknOiAndG9TdHJpbmcnLFxuXHRcdFx0ICAgICAgJ3NlYXJjaE9wZXJhdGlvbic6ICdzZWFyY2gnXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnU2VhcmNoYWJsZScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd0ZXh0U2VhcmNoU3VwcG9ydGVkJzogdHJ1ZSxcblx0XHRcdCAgICAgICdzZWFyY2hPcGVyYXRpb24nOiAna2V5d29yZFNlYXJjaCdcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjbGFzcycsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjbGFzcycsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAna2V5d29yZFNlYXJjaCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd1c2VUZXh0SW5kZXgnOiB0cnVlXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2tleXdvcmRTZWFyY2gnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd2aXNpYmxlJzogZmFsc2Vcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjbGFzcycsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAna2V5d29yZFNlYXJjaCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjbGFzcycsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAna2V5d29yZFNlYXJjaCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdrZXl3b3JkcycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ3Zpc2libGUnOiB7XG5cdFx0XHQgICAgICAgICd0JzogJ09WJyxcblx0XHRcdCAgICAgICAgJ3YnOiAndHJ1ZSdcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICdzaXplJzogMzBcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICAndHJhaXQnOiAnU2VhcmNoYWJsZVByb3BlcnR5Jyxcblx0XHRcdCAgICAgICdyYW5rJzogMCxcblx0XHRcdCAgICAgICdhZnRlcic6ICd6VG9wJyxcblx0XHRcdCAgICAgICd0eXBlJzogJ2phdmEubGFuZy5TdHJpbmcnXG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ2tleXdvcmRTZWFyY2gnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3RleHRTZWFyY2gnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3RleHRTZWFyY2gnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjbGFzcycsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAndGV4dFNlYXJjaCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1NlYXJjaGFibGVQcm9wZXJ0eScsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICd2aXNpYmxlJzoge1xuXHRcdFx0ICAgICAgICAndCc6ICdPVicsXG5cdFx0XHQgICAgICAgICd2JzogJ3RydWUnXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgfSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnY2xhc3MnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdvcGVyYXRpb24nLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3RleHRTZWFyY2gnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjbGFzcycsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ29wZXJhdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAndGV4dFNlYXJjaCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdjbGFzcycsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICd0b09uZVJlbGF0aW9uc2hpcCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICd0b09uZVJlbGF0aW9uc2hpcCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2VkaXRhYmxlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdHZW5lcmljQ2hvb3NlckNvbXBvbmVudCcsXG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICdkZXN0aW5hdGlvbkNsYXNzJzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0V4cHInLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ2VsZW1lbnRUeXBlJ1xuXHRcdFx0ICAgICAgICB9LFxuXHRcdFx0ICAgICAgICAnbXVsdGlzZWxlY3QnOiBmYWxzZSxcblx0XHRcdCAgICAgICAgJ2Rpc3BsYXlLZXknOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAnbWV0YS5kaXNwbGF5TGFiZWwodHlwZSwgcHJvcGVydGllcy5nZXQoXCJsYWJlbEZpZWxkXCIpKSdcblx0XHRcdCAgICAgICAgfSxcblx0XHRcdCAgICAgICAgJ3R5cGUnOiAnRHJvcGRvd24nLFxuXHRcdFx0ICAgICAgICAna2V5Jzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0V4cHInLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ2ZpZWxkJ1xuXHRcdFx0ICAgICAgICB9LFxuXHRcdFx0ICAgICAgICAnb2JqZWN0Jzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0V4cHInLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ29iamVjdCdcblx0XHRcdCAgICAgICAgfVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIH0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3RvT25lUmVsYXRpb25zaGlwJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3RvTWFueUNob29zZXInLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAnZmllbGQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJyonLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAndG9NYW55Q2hvb3NlcicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2VkaXRhYmxlJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19wcm9wZXJ0aWVzJzoge1xuXHRcdFx0ICAgICAgJ2NvbXBvbmVudCc6ICdHZW5lcmljQ2hvb3NlckNvbXBvbmVudCcsXG5cdFx0XHQgICAgICAnYmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICdkZXN0aW5hdGlvbkNsYXNzJzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0V4cHInLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ2VsZW1lbnRUeXBlJ1xuXHRcdFx0ICAgICAgICB9LFxuXHRcdFx0ICAgICAgICAnbXVsdGlzZWxlY3QnOiB0cnVlLFxuXHRcdFx0ICAgICAgICAnZGlzcGxheUtleSc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgICAndic6ICdtZXRhLmRpc3BsYXlMYWJlbCh0eXBlLCBwcm9wZXJ0aWVzLmdldChcImxhYmVsRmllbGRcIikpJ1xuXHRcdFx0ICAgICAgICB9LFxuXHRcdFx0ICAgICAgICAndHlwZSc6ICdDaG9vc2VyJyxcblx0XHRcdCAgICAgICAgJ2tleSc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgICAndic6ICdmaWVsZCdcblx0XHRcdCAgICAgICAgfSxcblx0XHRcdCAgICAgICAgJ29iamVjdCc6IHtcblx0XHRcdCAgICAgICAgICAndCc6ICdFeHByJyxcblx0XHRcdCAgICAgICAgICAndic6ICdvYmplY3QnXG5cdFx0XHQgICAgICAgIH1cblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICd0b01hbnlDaG9vc2VyJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2ZpZWxkJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICcqJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiBmYWxzZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3RvTWFueUxpbmsnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IGZhbHNlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3Byb3BlcnRpZXMnOiB7XG5cdFx0XHQgICAgICAnY29tcG9uZW50JzogJ0FXSHlwZXJsaW5rJyxcblx0XHRcdCAgICAgICdiaW5kaW5ncyc6IHtcblx0XHRcdCAgICAgICAgJ29taXRUYWdzJzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0V4cHInLFxuXHRcdFx0ICAgICAgICAgICd2JzogJyF2YWx1ZSB8fCAodmFsdWUuc2l6ZSgpID09IDApJ1xuXHRcdFx0ICAgICAgICB9LFxuXHRcdFx0ICAgICAgICAnYXdjb250ZW50Jzoge1xuXHRcdFx0ICAgICAgICAgICd0JzogJ0V4cHInLFxuXHRcdFx0ICAgICAgICAgICd2JzogJ3ZhbHVlID8gKFwiXCIgKyB2YWx1ZS5zaXplKCkgKyBcIiBpdGVtc1wiKSA6IFwiKG5vbmUpXCInXG5cdFx0XHQgICAgICAgIH0sXG5cdFx0XHQgICAgICAgICdhY3Rpb24nOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAnc2V0KFwib2JqZWN0XCIsIHZhbHVlKSwgc2V0KFwiYWN0aW9uQ2F0ZWdvcnlcIiwgXCJHZW5lcmFsXCIpLCBzZXQoXCJhY3Rpb25cIiwgXCJJbnNwZWN0XCIpLCBhcmliYS51aS5tZXRhLmNvcmUuVUlNZXRhLmdldEluc3RhbmNlKCkuZmlyZUFjdGlvbih0aGlzLCByZXF1ZXN0Q29udGV4dCknXG5cdFx0XHQgICAgICAgIH1cblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICdmaWVsZCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnKicsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfSxcblx0XHRcdCAge1xuXHRcdFx0ICAgICdfc2VsZWN0b3JzJzogW1xuXHRcdFx0ICAgICAge1xuXHRcdFx0ICAgICAgICAnX2tleSc6ICd0cmFpdEdyb3VwJyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICdSZWxWaWV3ZXJzJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnUmVsVmlld2VycycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfSxcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXQnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ3RvT25lUmVsYXRpb25zaGlwJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnUmVsVmlld2VycycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1JlbFZpZXdlcnMnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICd0b01hbnlDaG9vc2VyJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnUmVsVmlld2VycycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0R3JvdXAnLFxuXHRcdFx0ICAgICAgICAnX3ZhbHVlJzogJ1JlbFZpZXdlcnMnLFxuXHRcdFx0ICAgICAgICAnX2lzRGVjbCc6IHRydWVcblx0XHRcdCAgICAgIH0sXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ3RyYWl0Jyxcblx0XHRcdCAgICAgICAgJ192YWx1ZSc6ICd0b01hbnlMaW5rJyxcblx0XHRcdCAgICAgICAgJ19pc0RlY2wnOiB0cnVlXG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgXSxcblx0XHRcdCAgICAnX3JhbmsnOiAwXG5cdFx0XHQgIH0sXG5cdFx0XHQgIHtcblx0XHRcdCAgICAnX3NlbGVjdG9ycyc6IFtcblx0XHRcdCAgICAgIHtcblx0XHRcdCAgICAgICAgJ19rZXknOiAndHJhaXRHcm91cCcsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnUmVsVmlld2VycycsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogdHJ1ZVxuXHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgIF0sXG5cdFx0XHQgICAgJ19yYW5rJzogMFxuXHRcdFx0ICB9LFxuXHRcdFx0ICB7XG5cdFx0XHQgICAgJ19zZWxlY3RvcnMnOiBbXG5cdFx0XHQgICAgICB7XG5cdFx0XHQgICAgICAgICdfa2V5JzogJ2FjdGlvbicsXG5cdFx0XHQgICAgICAgICdfdmFsdWUnOiAnSW5zcGVjdCcsXG5cdFx0XHQgICAgICAgICdfaXNEZWNsJzogZmFsc2Vcblx0XHRcdCAgICAgIH1cblx0XHRcdCAgICBdLFxuXHRcdFx0ICAgICdfcHJvcGVydGllcyc6IHtcblx0XHRcdCAgICAgICdwYWdlQmluZGluZ3MnOiB7XG5cdFx0XHQgICAgICAgICdsYXlvdXQnOiAnSW5zcGVjdCcsXG5cdFx0XHQgICAgICAgICdjbGllbnRQYW5lbCc6IHRydWUsXG5cdFx0XHQgICAgICAgICdvcGVyYXRpb24nOiAndmlldycsXG5cdFx0XHQgICAgICAgICdvYmplY3QnOiB7XG5cdFx0XHQgICAgICAgICAgJ3QnOiAnRXhwcicsXG5cdFx0XHQgICAgICAgICAgJ3YnOiAnb2JqZWN0J1xuXHRcdFx0ICAgICAgICB9XG5cdFx0XHQgICAgICB9LFxuXHRcdFx0ICAgICAgJ3Zpc2libGUnOiB0cnVlLFxuXHRcdFx0ICAgICAgJ3RyYWl0JzogJ3BhZ2VBY3Rpb24nLFxuXHRcdFx0ICAgICAgJ3BhZ2VOYW1lJzogJ01ldGFDb250ZW50UGFnZUNvbXBvbmVudCdcblx0XHRcdCAgICB9LFxuXHRcdFx0ICAgICdfcmFuayc6IDBcblx0XHRcdCAgfVxuXHRcdFx0XVxufTtcblxuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qKlxuICogIEBmb3JtYXR0ZXI6b25cbiAqXG4gKi9cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEJhc2VkIG9uIG9yaWdpbmFsIHdvcms6IE1ldGFVSTogQ3JhaWcgRmVkZXJpZ2hpICgyMDA4KVxuICpcbiAqL1xuaW1wb3J0IHtUeXBlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gICAgQXBwQ29uZmlnLFxuICAgIGFzc2VydCxcbiAgICBkZWNhbWVsaXplLFxuICAgIEVudmlyb25tZW50LFxuICAgIEZpZWxkUGF0aCxcbiAgICBpc0FycmF5LFxuICAgIGlzQmxhbmssXG4gICAgaXNQcmVzZW50LFxuICAgIGlzU3RyaW5nLFxuICAgIGlzU3RyaW5nTWFwLFxuICAgIExpc3RXcmFwcGVyLFxuICAgIE1hcFdyYXBwZXIsXG4gICAgUm91dGluZ1NlcnZpY2UsXG4gICAgd2FyblxufSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7T2JqZWN0TWV0YX0gZnJvbSAnLi9vYmplY3QtbWV0YSc7XG5pbXBvcnQge0NvbXBvbmVudFJlZ2lzdHJ5fSBmcm9tICdAYXJpYmF1aS9jb21wb25lbnRzJztcbmltcG9ydCB7XG4gICAgTWV0YSxcbiAgICBQcm9wZXJ0eU1hcCxcbiAgICBQcm9wZXJ0eU1hcEF3YWtpbmcsXG4gICAgUHJvcGVydHlNZXJnZXJfQW5kLFxuICAgIFZhbHVlUXVlcmllZE9ic2VydmVyXG59IGZyb20gJy4vbWV0YSc7XG5pbXBvcnQge0NvbnRleHQsIFVJQ29udGV4dH0gZnJvbSAnLi9jb250ZXh0JztcbmltcG9ydCB7U3lzdGVtUnVsZXN9IGZyb20gJy4vd2lkZ2V0cy1ydWxlcyc7XG5pbXBvcnQge0R5bmFtaWNQcm9wZXJ0eVZhbHVlLCBTdGF0aWNhbGx5UmVzb2x2YWJsZSwgU3RhdGljRHluYW1pY1dyYXBwZXJ9IGZyb20gJy4vcHJvcGVydHktdmFsdWUnO1xuaW1wb3J0IHtSdWxlLCBTZWxlY3Rvcn0gZnJvbSAnLi9ydWxlJztcbmltcG9ydCB7SnNvblJ1bGV9IGZyb20gJy4vanNvbi1ydWxlJztcbmltcG9ydCB7SXRlbVByb3BlcnRpZXN9IGZyb20gJy4vaXRlbS1wcm9wZXJ0aWVzJztcbmltcG9ydCB7U3lzdGVtUGVyc2lzdGVuY2VSdWxlc30gZnJvbSAnLi9wZXJzaXN0ZW5jZS1ydWxlcyc7XG5pbXBvcnQge0FDVElWRV9DTlRYfSBmcm9tICcuL21ldGEtY29udGV4dC9tZXRhLWNvbnRleHQuY29tcG9uZW50JztcblxuXG4vKipcbiAqIFVJTWV0YSBpcyByZXNwb25zaWJsZSBzZXR0aW5nIGxheW91dHMgYW5kIGFsbCBhcm91bmQgdGhpcy4gV2UgY2FuIGVpdGhlciB1c2UgdGhpcyBhcyBhIHNpbmdsZXRvblxuICogb3IgdXNlIGl0IGFzIGEgc2VydmljZSB1c2luZyBBbmd1bGFyIEBJbmplY3QoKVxuICogUmlnaHQgbm93IHdlIHVzZSBzdGlsbCBzaW5nbGV0b24gYXMgd2UgbmVlZCB0aGlzIGNsYXNzIGFzIGEgbGlicmFyeSBmb3Igc29tZSBvdGhlciBwcm9qZWN0c1xuICpcbiAqXG4gKiB0b2RvOiBDb252ZXJ0IHRvIEluamVjdGFibGVcbiAqL1xuXG4gICAgLy8gQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFVJTWV0YSBleHRlbmRzIE9iamVjdE1ldGFcbntcbiAgICBzdGF0aWMgS2V5T3BlcmF0aW9uID0gJ29wZXJhdGlvbic7XG4gICAgc3RhdGljIEtleU1vZHVsZSA9ICdtb2R1bGUnO1xuICAgIHN0YXRpYyBLZXlMYXlvdXQgPSAnbGF5b3V0JztcbiAgICBzdGF0aWMgS2V5QXJlYSA9ICdhcmVhJztcbiAgICBzdGF0aWMgS2V5RWRpdGluZyA9ICdlZGl0aW5nJztcbiAgICBzdGF0aWMgS2V5QWZ0ZXIgPSAnYWZ0ZXInO1xuICAgIHN0YXRpYyBLZXlIaWRkZW4gPSAnaGlkZGVuJztcbiAgICBzdGF0aWMgS2V5TGFiZWwgPSAnbGFiZWwnO1xuICAgIHN0YXRpYyBLZXlDb21wb25lbnROYW1lID0gJ2NvbXBvbmVudCc7XG4gICAgc3RhdGljIEtleUJpbmRpbmdzID0gJ2JpbmRpbmdzJztcbiAgICBzdGF0aWMgS2V5SG9tZVBhZ2UgPSAnaG9tZVBhZ2UnO1xuICAgIHN0YXRpYyBLZXlab25lUGF0aCA9ICd6b25lUGF0aCc7XG4gICAgc3RhdGljIFByb3BGaWVsZHNCeVpvbmUgPSAnZmllbGRzQnlab25lJztcbiAgICBzdGF0aWMgUHJvcElzRmllbGRzQnlab25lID0gJ2ZpdmVab25lTGF5b3V0JztcbiAgICBzdGF0aWMgUHJvcEFjdGlvbnNCeUNhdGVnb3J5ID0gJ2FjdGlvbnNCeUNhdGVnb3J5JztcbiAgICBzdGF0aWMgUHJvcEFjdGlvbkNhdGVnb3JpZXMgPSAnYWN0aW9uQ2F0ZWdvcmllcyc7XG4gICAgc3RhdGljIFByb3BGaWVsZFByb3BlcnR5TGlzdCA9ICdmaWVsZFByb3BlcnR5TGlzdCc7XG4gICAgc3RhdGljIFByb3BMYXlvdXRzQnlab25lID0gJ2xheW91dHNCeVpvbmUnO1xuICAgIHN0YXRpYyBLZXlXcmFwcGVyQ29tcG9uZW50ID0gJ3dyYXBwZXJDb21wb25lbnQnO1xuICAgIHN0YXRpYyBLZXlXcmFwcGVyQmluZGluZyA9ICd3cmFwcGVyQmluZGluZ3MnO1xuXG5cbiAgICBzdGF0aWMgUm9vdFByZWRlY2Vzc29yS2V5ID0gJ19yb290JztcbiAgICBzdGF0aWMgcmVhZG9ubHkgWm9uZU1haW4gPSAnek1haW4nO1xuICAgIHN0YXRpYyByZWFkb25seSBab25lVG9wID0gJ3pUb3AnO1xuICAgIHN0YXRpYyByZWFkb25seSBab25lTGVmdCA9ICd6TGVmdCc7XG4gICAgc3RhdGljIHJlYWRvbmx5IFpvbmVNaWRkbGUgPSAnek1pZGRsZSc7XG4gICAgc3RhdGljIHJlYWRvbmx5IFpvbmVSaWdodCA9ICd6UmlnaHQnO1xuICAgIHN0YXRpYyByZWFkb25seSBab25lQm90dG9tID0gJ3pCb3R0b20nO1xuICAgIHN0YXRpYyByZWFkb25seSBab25lRGV0YWlsID0gJ3pEZXRhaWwnO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IEFwcENvbmZpZ1J1bGVGaWxlc1BhcmFtID0gJ21ldGF1aS5ydWxlcy5maWxlLW5hbWVzJztcbiAgICBzdGF0aWMgcmVhZG9ubHkgQXBwQ29uZmlnVXNlclJ1bGVzUGFyYW0gPSAnbWV0YXVpLnJ1bGVzLnVzZXItcnVsZXMnO1xuXG4gICAgc3RhdGljIFpvbmVzVExSTUIgPSBbXG4gICAgICAgIFVJTWV0YS5ab25lVG9wLCBVSU1ldGEuWm9uZUxlZnQsIFVJTWV0YS5ab25lTWlkZGxlLFxuICAgICAgICBVSU1ldGEuWm9uZVJpZ2h0LCBVSU1ldGEuWm9uZUJvdHRvbVxuICAgIF07XG4gICAgc3RhdGljIFpvbmVzTVRMUkIgPSBbXG4gICAgICAgIFVJTWV0YS5ab25lTWFpbiwgVUlNZXRhLlpvbmVUb3AsIFVJTWV0YS5ab25lTGVmdCwgVUlNZXRhLlpvbmVSaWdodCwgVUlNZXRhLlpvbmVCb3R0b21cbiAgICBdO1xuICAgIHN0YXRpYyBab25lc0RldGFpbCA9IFtVSU1ldGEuWm9uZURldGFpbF07XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6IFVJTWV0YSA9IG51bGw7XG5cbiAgICBzdGF0aWMgTW9kdWxlQWN0aW9uWm9uZXM6IHN0cmluZ1tdID0gWyd6TmF2JywgJ3pHbG9iYWwnXTtcbiAgICBzdGF0aWMgQWN0aW9uWm9uZXM6IHN0cmluZ1tdID0gWyd6R2xvYmFsJywgJ3pNYWluJywgJ3pHZW5lcmFsJ107XG5cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBVSU1ldGFcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZSB8fCAodGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcygpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdExhYmVsRm9ySWRlbnRpZmllcihmaWVsZE5hbWU6IHN0cmluZylcbiAgICB7XG4gICAgICAgIGxldCBsYXN0RG90ID0gZmllbGROYW1lLmxhc3RJbmRleE9mKCcuJyk7XG4gICAgICAgIGlmIChsYXN0RG90ICE9PSAtMSAmJiBsYXN0RG90ICE9PSBmaWVsZE5hbWUubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgZmllbGROYW1lID0gZmllbGROYW1lLnN1YnN0cmluZyhsYXN0RG90ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlY2FtZWxpemUoZmllbGROYW1lKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYmVhdXRpZnlDbGFzc05hbWUoY2xhc3NOYW1lOiBzdHJpbmcpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiBkZWNhbWVsaXplKGNsYXNzTmFtZSwgJyAnKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYmVhdXRpZnlGaWxlTmFtZShmaWVsZDogc3RyaW5nKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gZGVjYW1lbGl6ZShmaWVsZCwgJyAnKTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvLyBpZiAoaXNQcmVzZW50KGxvYWRlcikpIHtcbiAgICAgICAgLy8gICAgIHRoaXMucmVnaXN0ZXJMb2FkZXIobG9hZGVyKTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmJlZ2luUnVsZVNldCgnVUlNZXRhJyk7XG5cbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJLZXlJbml0T2JzZXJ2ZXIoVUlNZXRhLktleUNsYXNzLCBuZXcgVXNlck1ldGFEYXRhUHJvdmlkZXIoKSk7XG5cbiAgICAgICAgICAgIC8vIFRoZXNlIGtleXMgZGVmaW5lIHNjb3BlcyBmb3IgdGhlaXIgcHJvcGVydGllc1xuICAgICAgICAgICAgLy8gZGVmaW5lS2V5QXNQcm9wZXJ0eVNjb3BlKEtleUFyZWEpO1xuICAgICAgICAgICAgdGhpcy5kZWZpbmVLZXlBc1Byb3BlcnR5U2NvcGUoVUlNZXRhLktleUxheW91dCk7XG4gICAgICAgICAgICB0aGlzLmRlZmluZUtleUFzUHJvcGVydHlTY29wZShVSU1ldGEuS2V5TW9kdWxlKTtcblxuICAgICAgICAgICAgLy8gRGVmYXVsdCBydWxlIGZvciBjb252ZXJ0aW5nIGZpZWxkIG5hbWUgdG8gbGFiZWxcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJEZWZhdWx0TGFiZWxHZW5lcmF0b3JGb3JLZXkoVUlNZXRhLktleUNsYXNzKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJEZWZhdWx0TGFiZWxHZW5lcmF0b3JGb3JLZXkoVUlNZXRhLktleUZpZWxkKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJEZWZhdWx0TGFiZWxHZW5lcmF0b3JGb3JLZXkoVUlNZXRhLktleUxheW91dCk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyRGVmYXVsdExhYmVsR2VuZXJhdG9yRm9yS2V5KFVJTWV0YS5LZXlNb2R1bGUpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlckRlZmF1bHRMYWJlbEdlbmVyYXRvckZvcktleShVSU1ldGEuS2V5QWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJEZWZhdWx0TGFiZWxHZW5lcmF0b3JGb3JLZXkoVUlNZXRhLktleUFjdGlvbkNhdGVnb3J5KTtcblxuICAgICAgICAgICAgLy8gcG9saWNpZXMgZm9yIGNoYWluaW5nIGNlcnRhaW4gd2VsbCBrbm93biBwcm9wZXJ0aWVzXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyUHJvcGVydHlNZXJnZXIoVUlNZXRhLktleUFyZWEsIE1ldGEuUHJvcGVydHlNZXJnZXJfRGVjbGFyZUxpc3QpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclByb3BlcnR5TWVyZ2VyKFVJTWV0YS5LZXlMYXlvdXQsIE1ldGEuUHJvcGVydHlNZXJnZXJfRGVjbGFyZUxpc3QpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclByb3BlcnR5TWVyZ2VyKFVJTWV0YS5LZXlNb2R1bGUsIE1ldGEuUHJvcGVydHlNZXJnZXJfRGVjbGFyZUxpc3QpO1xuXG4gICAgICAgICAgICB0aGlzLm1pcnJvclByb3BlcnR5VG9Db250ZXh0KFVJTWV0YS5LZXlFZGl0aW5nLCBVSU1ldGEuS2V5RWRpdGluZyk7XG4gICAgICAgICAgICB0aGlzLm1pcnJvclByb3BlcnR5VG9Db250ZXh0KFVJTWV0YS5LZXlMYXlvdXQsIFVJTWV0YS5LZXlMYXlvdXQpO1xuICAgICAgICAgICAgdGhpcy5taXJyb3JQcm9wZXJ0eVRvQ29udGV4dChVSU1ldGEuS2V5Q29tcG9uZW50TmFtZSwgVUlNZXRhLktleUNvbXBvbmVudE5hbWUpO1xuXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyUHJvcGVydHlNZXJnZXIoVUlNZXRhLktleUVkaXRpbmcsIG5ldyBQcm9wZXJ0eU1lcmdlcl9BbmQoKSk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMucmVnaXN0ZXJWYWx1ZVRyYW5zZm9ybWVyRm9yS2V5KCdyZXF1ZXN0Q29udGV4dCcsIFVJTWV0YS5UcmFuc2Zvcm1lcl9LZXlQcmVzZW50KTtcbiAgICAgICAgICAgIC8vIHRoaXMucmVnaXN0ZXJWYWx1ZVRyYW5zZm9ybWVyRm9yS2V5KCdkaXNwbGF5R3JvdXAnLCBVSU1ldGEuVHJhbnNmb3JtZXJfS2V5UHJlc2VudCk7XG5cbiAgICAgICAgICAgIC8vIGRlZmluZSBvcGVyYXRpb24gaGllcmFyY2h5XG4gICAgICAgICAgICB0aGlzLmtleURhdGEoVUlNZXRhLktleU9wZXJhdGlvbikuc2V0UGFyZW50KCd2aWV3JywgJ2luc3BlY3QnKTtcbiAgICAgICAgICAgIHRoaXMua2V5RGF0YShVSU1ldGEuS2V5T3BlcmF0aW9uKS5zZXRQYXJlbnQoJ3ByaW50JywgJ3ZpZXcnKTtcbiAgICAgICAgICAgIHRoaXMua2V5RGF0YShVSU1ldGEuS2V5T3BlcmF0aW9uKS5zZXRQYXJlbnQoJ2VkaXQnLCAnaW5zcGVjdCcpO1xuICAgICAgICAgICAgdGhpcy5rZXlEYXRhKFVJTWV0YS5LZXlPcGVyYXRpb24pLnNldFBhcmVudCgnc2VhcmNoJywgJ2luc3BlY3QnKTtcbiAgICAgICAgICAgIHRoaXMua2V5RGF0YShVSU1ldGEuS2V5T3BlcmF0aW9uKS5zZXRQYXJlbnQoJ2tleXdvcmRTZWFyY2gnLCAnc2VhcmNoJyk7XG4gICAgICAgICAgICB0aGlzLmtleURhdGEoVUlNZXRhLktleU9wZXJhdGlvbikuc2V0UGFyZW50KCd0ZXh0U2VhcmNoJywgJ2tleXdvcmRTZWFyY2gnKTtcblxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclN0YXRpY2FsbHlSZXNvbHZhYmxlKFVJTWV0YS5Qcm9wRmllbGRzQnlab25lLFxuICAgICAgICAgICAgICAgIG5ldyBQcm9wRmllbGRzQnlab25lUmVzb2x2ZXIoKSxcbiAgICAgICAgICAgICAgICBVSU1ldGEuS2V5Q2xhc3MpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclN0YXRpY2FsbHlSZXNvbHZhYmxlKFVJTWV0YS5Qcm9wRmllbGRQcm9wZXJ0eUxpc3QsXG4gICAgICAgICAgICAgICAgbmV3IFByb3BGaWVsZFByb3BlcnR5TGlzdFJlc29sdmVyKCksXG4gICAgICAgICAgICAgICAgVUlNZXRhLktleUNsYXNzKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJTdGF0aWNhbGx5UmVzb2x2YWJsZShVSU1ldGEuUHJvcExheW91dHNCeVpvbmUsXG4gICAgICAgICAgICAgICAgbmV3IFByb3BMYXlvdXRzQnlab25lUmVzb2x2ZXIoKSxcbiAgICAgICAgICAgICAgICBVSU1ldGEuS2V5TGF5b3V0KTtcblxuXG4gICAgICAgICAgICAvLyB0aGlzLnJlZ2lzdGVyU3RhdGljYWxseVJlc29sdmFibGUoVUlNZXRhLlByb3BMYXlvdXRzQnlab25lICwgbmV3XG4gICAgICAgICAgICAvLyBQcm9wTGF5b3V0c0J5Wm9uZVJlc29sdmVyKCkgLCBVSU1ldGEuS2V5TGF5b3V0KTtcbiAgICAgICAgICAgIC8vIHJlZ2lzdGVyU3RhdGljYWxseVJlc29sdmFibGUoJ2JpbmRpbmdzRGljdGlvbmFyeScgLCBkeW4gLCBLZXlGaWVsZCk7XG4gICAgICAgICAgICAvLyByZWdpc3RlclN0YXRpY2FsbHlSZXNvbHZhYmxlKCdiaW5kaW5nc0RpY3Rpb25hcnknICwgZHluICwgS2V5TGF5b3V0KTtcbiAgICAgICAgICAgIC8vIHJlZ2lzdGVyU3RhdGljYWxseVJlc29sdmFibGUoJ2JpbmRpbmdzRGljdGlvbmFyeScgLCBkeW4gLCBLZXlDbGFzcyk7XG4gICAgICAgICAgICAvLyByZWdpc3RlclN0YXRpY2FsbHlSZXNvbHZhYmxlKCdiaW5kaW5nc0RpY3Rpb25hcnknICwgZHluICwgS2V5TW9kdWxlKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuZW5kUnVsZVNldCgpO1xuICAgICAgICB9XG5cbiAgICB9XG5cblxuICAgIHpvbmVzKGNvbnRleHQ6IENvbnRleHQpOiBBcnJheTxzdHJpbmc+XG4gICAge1xuICAgICAgICBsZXQgem9uZXM6IEFycmF5PHN0cmluZz4gPSBjb250ZXh0LnByb3BlcnR5Rm9yS2V5KCd6b25lcycpO1xuICAgICAgICByZXR1cm4gKGlzQmxhbmsoem9uZXMpKSA/IE1ldGEudG9MaXN0KFVJTWV0YS5ab25lTWFpbikgOiB6b25lcztcbiAgICB9XG5cblxuICAgIHpvbmVQYXRoKGNvbnRleHQ6IENvbnRleHQpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGxldCB6b25lUGF0aDogYW55O1xuICAgICAgICBpZiAoaXNQcmVzZW50KGNvbnRleHQudmFsdWVzLmdldChVSU1ldGEuS2V5TGF5b3V0KSkpIHtcbiAgICAgICAgICAgIGNvbnRleHQucHVzaCgpO1xuICAgICAgICAgICAgY29udGV4dC5zZXRTY29wZUtleShVSU1ldGEuS2V5TGF5b3V0KTtcbiAgICAgICAgICAgIHpvbmVQYXRoID0gY29udGV4dC5wcm9wZXJ0eUZvcktleShVSU1ldGEuS2V5Wm9uZVBhdGgpO1xuICAgICAgICAgICAgY29udGV4dC5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gem9uZVBhdGg7XG4gICAgfVxuXG5cbiAgICBuZXdDb250ZXh0KGlzTmVzdGVkOiBib29sZWFuID0gZmFsc2UpOiBDb250ZXh0XG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFVJQ29udGV4dCh0aGlzLCBpc05lc3RlZCk7XG4gICAgfVxuXG4gICAgLy8gTG9hZCBzeXN0ZW0gcnVsZXNcbiAgICBsb2FkRGVmYXVsdFJ1bGVGaWxlcyhyZWZlcmVuY2VzPzogYW55KTogYm9vbGVhblxuICAgIHtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KFN5c3RlbVJ1bGVzLm9zcykpIHtcbiAgICAgICAgICAgIHRoaXMuYmVnaW5SdWxlU2V0V2l0aFJhbmsoTWV0YS5TeXN0ZW1SdWxlUHJpb3JpdHksICdzeXN0ZW0nKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFJ1bGVzKFN5c3RlbVJ1bGVzLm9zcywgJ3N5c3RlbScsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmRSdWxlU2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNQcmVzZW50KFN5c3RlbVBlcnNpc3RlbmNlUnVsZXMub3NzKSkge1xuICAgICAgICAgICAgdGhpcy5iZWdpblJ1bGVTZXRXaXRoUmFuayhNZXRhLlN5c3RlbVJ1bGVQcmlvcml0eSArIDIwMDAsICdzeXN0ZW0tcGVyc2lzdGVuY2UnKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFJ1bGVzKFN5c3RlbVBlcnNpc3RlbmNlUnVsZXMub3NzLCAnc3lzdGVtLXBlcnNpc3RlbmNlJywgZmFsc2UpO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZFJ1bGVTZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcmVzZW50KHJlZmVyZW5jZXMpKSB7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tcG9uZW50cyhyZWZlcmVuY2VzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBsb2FkcyBhcHBsaWNhdGlvbiBsZXZlbCBydWxlcy4gQXBwbGljYXRpb24gbGV2ZWwgcnVsZXMgYXJlIGdsb2JhbCBydWxlc1xuICAgICAqL1xuICAgIGxvYWRBcHBsaWNhdGlvblJ1bGVzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBhUnVsZXM6IEFycmF5PEpzb25SdWxlPjtcbiAgICAgICAgbGV0IHVzZXJSZWZlcmVuY2VzOiBhbnlbXTtcbiAgICAgICAgbGV0IGFwcFJ1bGVGaWxlczogc3RyaW5nW10gPSBbJ0FwcGxpY2F0aW9uJ107XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmFwcENvbmZpZykpIHtcbiAgICAgICAgICAgIGFwcFJ1bGVGaWxlcyA9IHRoaXMuYXBwQ29uZmlnLmdldChVSU1ldGEuQXBwQ29uZmlnUnVsZUZpbGVzUGFyYW0pIHx8IFsnQXBwbGljYXRpb24nXTtcbiAgICAgICAgICAgIHVzZXJSZWZlcmVuY2VzID0gdGhpcy5hcHBDb25maWcuZ2V0KFVJTWV0YS5BcHBDb25maWdVc2VyUnVsZXNQYXJhbSk7XG5cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBoYXZlIGFsd2F5cyBBcHBsaWNhdGlvbiBhbmQgbWFrZSBpdCBtb3JlIGFkZGl0aXZlLlxuICAgICAgICAgICAgaWYgKCFMaXN0V3JhcHBlci5jb250YWluczxzdHJpbmc+KGFwcFJ1bGVGaWxlcywgJ0FwcGxpY2F0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBhcHBSdWxlRmlsZXMudW5zaGlmdCgnQXBwbGljYXRpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHJ1bGVGaWxlIG9mIGFwcFJ1bGVGaWxlcykge1xuICAgICAgICAgICAgbGV0IHJ1bGUgPSBydWxlRmlsZSArICdSdWxlJztcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3Rlc3RSdWxlcy5oYXMocnVsZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgaW4gZGV2ZWxvcG1lbnQgbW9kZSBhbmQgdGVzdCBtb2RlIGlzIG9uIHdlIGNhbiBjaGVjayBleHRyYVxuICAgICAgICAgICAgICAgIC8vIHJlcG9zaXRvcnkgdXNlZCBieSB0ZXN0cywgd2UgbmVlZCB0byBjaGVjayBpZiB3ZSBhcmUgbm90IHJ1bm5pbmcgdW5pdHRlc3RcbiAgICAgICAgICAgICAgICAvLyBhbmQgYSBjbGFzcyBpcyBub3QgZGVmaW5lZCBidXQgdW5pdHRlc3RcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90ZXN0UnVsZXMuaGFzKHJ1bGUpICYmXG4gICAgICAgICAgICAgICAgICAgIGlzUHJlc2VudCh0aGlzLl90ZXN0UnVsZXMuZ2V0KHJ1bGUpLm9zcykpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhUnVsZXMgPSB0aGlzLl90ZXN0UnVsZXMuZ2V0KHJ1bGUpLm9zcztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNQcmVzZW50KGFSdWxlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmVnaW5SdWxlU2V0V2l0aFJhbmsoTWV0YS5Mb3dSdWxlUHJpb3JpdHksIHJ1bGVGaWxlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkUnVsZXMoYVJ1bGVzLCBydWxlRmlsZS50b0xvd2VyQ2FzZSgpLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kUnVsZVNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIHVzZXJSZWZlcmVuY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB1c2VyUnVsZSA9IHVzZXJSZWZlcmVuY2VzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodXNlclJ1bGUpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodXNlclJ1bGVbcnVsZV0pICYmIGlzUHJlc2VudCh1c2VyUnVsZVtydWxlXS5vc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVJ1bGVzID0gdXNlclJ1bGVbcnVsZV0ub3NzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ByZXNlbnQoYVJ1bGVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZWdpblJ1bGVTZXRXaXRoUmFuayhNZXRhLkxvd1J1bGVQcmlvcml0eSwgcnVsZUZpbGUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRSdWxlcyhhUnVsZXMsIHJ1bGVGaWxlLnRvTG93ZXJDYXNlKCksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRSdWxlU2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRVc2VyUnVsZShzb3VyY2U6IGFueSwgdXNlckNsYXNzOiBzdHJpbmcpOiBib29sZWFuXG4gICAge1xuXG4gICAgICAgIGlmIChpc1ByZXNlbnQoc291cmNlKSkge1xuICAgICAgICAgICAgdGhpcy5iZWdpblJ1bGVTZXRXaXRoUmFuayh0aGlzLl9ydWxlQ291bnQsICd1c2VyOicgKyB1c2VyQ2xhc3MpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkUnVsZXMoc291cmNlLCAndXNlcicsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmRSdWxlU2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG4gICAgZGVmYXVsdExhYmVsR2VuZXJhdG9yRm9yS2V5KGtleTogc3RyaW5nKTogRHluYW1pY1Byb3BlcnR5VmFsdWVcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgX0RlZmF1bHRMYWJlbEdlbmVyYXRvcihrZXkpO1xuICAgIH1cblxuXG4gICAgcmVnaXN0ZXJEZXJpdmVkVmFsdWUocHJvcEtleTogc3RyaW5nLCBkeW5hbWljVmFsdWU6IER5bmFtaWNQcm9wZXJ0eVZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRLZXk6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0VmFsdWU6IHN0cmluZyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBtID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcbiAgICAgICAgbS5zZXQocHJvcEtleSwgZHluYW1pY1ZhbHVlKTtcbiAgICAgICAgdGhpcy5hZGRSdWxlKG5ldyBSdWxlKE1ldGEudG9MaXN0KFxuICAgICAgICAgICAgbmV3IFNlbGVjdG9yKGNvbnRleHRLZXksIGNvbnRleHRWYWx1ZSkpLCBtLCBNZXRhLlN5c3RlbVJ1bGVQcmlvcml0eSkpO1xuICAgIH1cblxuXG4gICAgcmVnaXN0ZXJTdGF0aWNhbGx5UmVzb2x2YWJsZShwcm9wS2V5OiBzdHJpbmcsIGR5bmFtaWNWYWx1ZTogU3RhdGljYWxseVJlc29sdmFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0S2V5OiBzdHJpbmcpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRGVyaXZlZFZhbHVlKHByb3BLZXksIG5ldyBTdGF0aWNEeW5hbWljV3JhcHBlcihkeW5hbWljVmFsdWUpLCBjb250ZXh0S2V5LFxuICAgICAgICAgICAgTWV0YS5LZXlBbnkpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyRGVmYXVsdExhYmVsR2VuZXJhdG9yRm9yS2V5KGtleTogc3RyaW5nKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5yZWdpc3RlckRlcml2ZWRWYWx1ZShVSU1ldGEuS2V5TGFiZWwsIG5ldyBMb2NhbGl6ZWRMYWJlbFN0cmluZyh0aGlzKSwga2V5LFxuICAgICAgICAgICAgVUlNZXRhLktleUFueSk7XG4gICAgfVxuXG4gICAgZmllbGRMaXN0KGNvbnRleHQ6IENvbnRleHQpOiBBcnJheTxJdGVtUHJvcGVydGllcz5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1MaXN0KGNvbnRleHQsIFVJTWV0YS5LZXlGaWVsZCwgVUlNZXRhLlpvbmVzVExSTUIpO1xuICAgIH1cblxuICAgIGZpZWxkc0J5Wm9uZXMoY29udGV4dDogQ29udGV4dCk6IE1hcDxzdHJpbmcsIGFueT5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zQnlab25lcyhjb250ZXh0LCBVSU1ldGEuS2V5RmllbGQsIFVJTWV0YS5ab25lc1RMUk1CKTtcbiAgICB9XG5cbiAgICBpdGVtTmFtZXNCeVpvbmVzKGNvbnRleHQ6IENvbnRleHQsIGtleTogc3RyaW5nLCB6b25lczogc3RyaW5nW10pOiBNYXA8c3RyaW5nLCBhbnk+XG4gICAge1xuICAgICAgICBsZXQgaXRlbXNCeVpvbmVzOiBNYXA8c3RyaW5nLCBhbnk+ID0gdGhpcy5pdGVtc0J5Wm9uZXMoY29udGV4dCwga2V5LCB6b25lcyk7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcEl0ZW1Qcm9wc1RvTmFtZXMoaXRlbXNCeVpvbmVzKTtcbiAgICB9XG5cbiAgICBtYXBJdGVtUHJvcHNUb05hbWVzKGl0ZW1zQnlab25lczogTWFwPHN0cmluZywgYW55Pik6IE1hcDxzdHJpbmcsIGFueT5cbiAgICB7XG4gICAgICAgIGxldCBuYW1lc0J5Wm9uZXM6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuXG4gICAgICAgIE1hcFdyYXBwZXIuaXRlcmFibGUoaXRlbXNCeVpvbmVzKS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KHZhbHVlKSAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGxldCBuYW1lczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgSXRlbVByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxJdGVtUHJvcGVydGllcz5pdGVtKS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuYW1lc0J5Wm9uZXMuc2V0KGtleSwgbmFtZXMpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5hbWVzQnlab25lcy5zZXQoa2V5LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcEl0ZW1Qcm9wc1RvTmFtZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5hbWVzQnlab25lcztcbiAgICB9XG5cbiAgICBwcmVkZWNlc3Nvck1hcChjb250ZXh0OiBDb250ZXh0LCBrZXk6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICBkZWZhdWx0UHJlZGVjZXNzb3I6IHN0cmluZyk6IE1hcDxzdHJpbmcsIEFycmF5PEl0ZW1Qcm9wZXJ0aWVzPj5cbiAgICB7XG4gICAgICAgIGxldCBmaWVsZEluZm9zOiBBcnJheTxJdGVtUHJvcGVydGllcz4gPSB0aGlzLml0ZW1Qcm9wZXJ0aWVzKGNvbnRleHQsIGtleSwgZmFsc2UpO1xuICAgICAgICBsZXQgcHJlZGVjZXNzb3JzOiBNYXA8c3RyaW5nLCBBcnJheTxJdGVtUHJvcGVydGllcz4+ID0gTWFwV3JhcHBlci5ncm91cEJ5PEl0ZW1Qcm9wZXJ0aWVzPihcbiAgICAgICAgICAgIGZpZWxkSW5mb3MsIChpdGVtOiBJdGVtUHJvcGVydGllcykgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJlZCA9IGl0ZW0ucHJvcGVydGllcy5nZXQoVUlNZXRhLktleUFmdGVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNQcmVzZW50KHByZWQpID8gcHJlZCA6IGRlZmF1bHRQcmVkZWNlc3NvcjtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBwcmVkZWNlc3NvcnM7XG4gICAgfVxuXG4gICAgaXRlbUxpc3QoY29udGV4dDogQ29udGV4dCwga2V5OiBzdHJpbmcsIHpvbmVzOiBzdHJpbmdbXSk6IEFycmF5PEl0ZW1Qcm9wZXJ0aWVzPlxuICAgIHtcbiAgICAgICAgbGV0IHByZWRlY2Vzc29yczogTWFwPHN0cmluZywgQXJyYXk8SXRlbVByb3BlcnRpZXM+PiA9IHRoaXMucHJlZGVjZXNzb3JNYXAoY29udGV4dCwga2V5LFxuICAgICAgICAgICAgem9uZXNbMF0pO1xuICAgICAgICBsZXQgcmVzdWx0OiBBcnJheTxJdGVtUHJvcGVydGllcz4gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCB6b25lIG9mIHpvbmVzKSB7XG4gICAgICAgICAgICB0aGlzLmFjY3VtdWxhdGVQcmVjZXNzb3JzKHByZWRlY2Vzc29ycywgem9uZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGlzWm9uZVJlZmVyZW5jZShrZXk6IHN0cmluZyk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIC8vIGtleXMgb2YgdGhlIGZvcm0gJ3o8TmFtZT4nIGFuZCAnZm9vLmJhci56PE5hbWU+JyBhcmUgY29uc2lkZXJlZCB6b25lIGtleXNcbiAgICAgICAgbGV0IGxhc3REb3QgPSBrZXkubGFzdEluZGV4T2YoJy4nKTtcbiAgICAgICAgbGV0IHN1ZmZpeCA9IChsYXN0RG90ID09PSAtMSkgPyBrZXkgOiBrZXkuc3Vic3RyaW5nKGxhc3REb3QgKyAxKTtcbiAgICAgICAgcmV0dXJuIChzdWZmaXgubGVuZ3RoID4gMSkgJiYgKHN1ZmZpeFswXSA9PT0gJ3onKSAmJiAoXG4gICAgICAgICAgICBzdWZmaXhbMV0udG9VcHBlckNhc2UoKSA9PT0gc3VmZml4WzFdIC8vIGlzIHVwcGVyY2FzZSA/c1xuICAgICAgICApO1xuICAgIH1cblxuICAgIGl0ZW1zQnlab25lcyhjb250ZXh0OiBDb250ZXh0LCBwcm9wZXJ0eTogc3RyaW5nLCB6b25lczogc3RyaW5nW10pOiBNYXA8c3RyaW5nLCBhbnk+XG4gICAge1xuICAgICAgICBsZXQgcHJlZGVjZXNzb3JzID0gdGhpcy5wcmVkZWNlc3Nvck1hcChjb250ZXh0LCBwcm9wZXJ0eSwgem9uZXNbMF0pO1xuICAgICAgICBsZXQgYnlab25lID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcblxuXG4gICAgICAgIE1hcFdyYXBwZXIuaXRlcmFibGUocHJlZGVjZXNzb3JzKS5mb3JFYWNoKCh2YWx1ZSwgem9uZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNab25lUmVmZXJlbmNlKHpvbmUpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxpc3Q6IGFueVtdID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5hY2N1bXVsYXRlUHJlY2Vzc29ycyhwcmVkZWNlc3NvcnMsXG4gICAgICAgICAgICAgICAgICAgIHpvbmUsIGxpc3QpO1xuXG4gICAgICAgICAgICAgICAgRmllbGRQYXRoLnNldEZpZWxkVmFsdWUoYnlab25lLCB6b25lLCBsaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGJ5Wm9uZTtcbiAgICB9XG5cbiAgICAvLyByZWN1cnNpdmUgZGVjZW50IG9mIHByZWRlY2Vzc29yIHRyZWUuLi5cbiAgICBhY2N1bXVsYXRlUHJlY2Vzc29ycyhwcmVkZWNlc3NvcnM6IE1hcDxzdHJpbmcsIEFycmF5PEl0ZW1Qcm9wZXJ0aWVzPj4sIGtleTogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IGl0ZW1zOiBBcnJheTxJdGVtUHJvcGVydGllcz4gPSBwcmVkZWNlc3NvcnMuZ2V0KGtleSk7XG4gICAgICAgIGlmIChpc0JsYW5rKGl0ZW1zKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgTGlzdFdyYXBwZXIuc29ydDxJdGVtUHJvcGVydGllcz4oaXRlbXMsIChvMSwgbzIpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCByMSA9IG8xLnByb3BlcnRpZXMuZ2V0KFVJTWV0YS5LZXlSYW5rKTtcbiAgICAgICAgICAgIGxldCByMiA9IG8yLnByb3BlcnRpZXMuZ2V0KFVJTWV0YS5LZXlSYW5rKTtcblxuICAgICAgICAgICAgaWYgKHIxID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcjEgPSAxMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocjIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByMiA9IDEwMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChyMSA9PT0gcjIpID8gMCA6IChyMSA9PT0gbnVsbCkgPyAxIDogKHIyID09PSBudWxsKSA/IC0xIDogKHIxIC0gcjIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoIWl0ZW0uaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFjY3VtdWxhdGVQcmVjZXNzb3JzKHByZWRlY2Vzc29ycywgaXRlbS5uYW1lLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGJ5IFBhcnNlciB0byBoYW5kbGUgZGVjbHMgbGlrZSAnekxlZnQgPT4gbGFzdE5hbWUjcmVxdWlyZWQnXG4gICAgICpcbiAgICAgKi9cbiAgICBhZGRQcmVkZWNlc3NvclJ1bGUoaXRlbU5hbWU6IHN0cmluZywgY29udGV4dFByZWRzOiBBcnJheTxTZWxlY3Rvcj4sIHByZWRlY2Vzc29yOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgIHRyYWl0czogYW55LFxuICAgICAgICAgICAgICAgICAgICAgICBsaW5lTnVtYmVyOiBudW1iZXIpOiBSdWxlXG4gICAge1xuICAgICAgICBpZiAoaXNCbGFuayhwcmVkZWNlc3NvcikgJiYgaXNCbGFuayh0cmFpdHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBrZXk6IHN0cmluZyA9IHRoaXMuc2NvcGVLZXlGb3JTZWxlY3Rvcihjb250ZXh0UHJlZHMpO1xuICAgICAgICBpZiAoaXNCbGFuayhrZXkpIHx8IGtleSA9PT0gVUlNZXRhLktleUNsYXNzKSB7XG4gICAgICAgICAgICBrZXkgPSBVSU1ldGEuS2V5RmllbGQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNlbGVjdG9yOiBBcnJheTxTZWxlY3Rvcj4gPSBuZXcgQXJyYXk8U2VsZWN0b3I+KCk7XG4gICAgICAgIExpc3RXcmFwcGVyLmFkZEFsbDxTZWxlY3Rvcj4oc2VsZWN0b3IsIGNvbnRleHRQcmVkcyk7XG5cbiAgICAgICAgc2VsZWN0b3IucHVzaChuZXcgU2VsZWN0b3Ioa2V5LCBpdGVtTmFtZSkpO1xuICAgICAgICBsZXQgcHJvcHM6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuXG4gICAgICAgIGlmIChpc1ByZXNlbnQocHJlZGVjZXNzb3IpKSB7XG4gICAgICAgICAgICBwcm9wcy5zZXQoVUlNZXRhLktleUFmdGVyLCBwcmVkZWNlc3Nvcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNQcmVzZW50KHRyYWl0cykpIHtcbiAgICAgICAgICAgIHByb3BzLnNldChVSU1ldGEuS2V5VHJhaXQsIHRyYWl0cyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJ1bGUgPSBuZXcgUnVsZShzZWxlY3RvciwgcHJvcHMsIDAsIGxpbmVOdW1iZXIpO1xuICAgICAgICB0aGlzLmFkZFJ1bGUocnVsZSk7XG4gICAgICAgIHJldHVybiBydWxlO1xuICAgIH1cblxuICAgIGZsYXR0ZW5WaXNpYmxlKGZpZWxkc0J5Wm9uZXM6IE1hcDxzdHJpbmcsIEFycmF5PHN0cmluZz4+LCB6b25lTGlzdDogc3RyaW5nW10sIGtleTogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IENvbnRleHQpOiBzdHJpbmdbXVxuICAgIHtcbiAgICAgICAgbGV0IHJlc3VsdDogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KGZpZWxkc0J5Wm9uZXMpKSB7XG5cbiAgICAgICAgICAgIGZvciAobGV0IHpvbmUgb2YgIHpvbmVMaXN0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpZWxkczogc3RyaW5nW10gPSBmaWVsZHNCeVpvbmVzLmdldCh6b25lKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0JsYW5rKGZpZWxkcykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZmllbGQgb2YgZmllbGRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldChrZXksIGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYm9vbGVhblByb3BlcnR5Rm9yS2V5KFVJTWV0YS5LZXlWaXNpYmxlLCBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGRpc3BsYXlLZXlGb3JDbGFzcyhjbGFzc05hbWU6IHN0cmluZyk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgLy8gcGVyZm9ybWFuY2U6IHNob3VsZCB1c2UgcmVnaXN0ZXJEZXJpdmVkVmFsdWUoJy4uLicsIG5ldyBDb250ZXh0LlN0YXRpY0R5bmFtaWNXcmFwcGVyXG4gICAgICAgIC8vIHRvIGdldCBjYWNoZWQgcmVzb2x1dGlvbiBoZXJlLi4uXG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5uZXdDb250ZXh0KCk7XG4gICAgICAgIGNvbnRleHQuc2V0KFVJTWV0YS5LZXlMYXlvdXQsICdMYWJlbEZpZWxkJyk7XG4gICAgICAgIGNvbnRleHQuc2V0KFVJTWV0YS5LZXlDbGFzcywgY2xhc3NOYW1lKTtcbiAgICAgICAgbGV0IGZpZWxkczogQXJyYXk8SXRlbVByb3BlcnRpZXM+ID0gdGhpcy5pdGVtUHJvcGVydGllcyhjb250ZXh0LCBVSU1ldGEuS2V5RmllbGQsIHRydWUpO1xuXG4gICAgICAgIHJldHVybiBMaXN0V3JhcHBlci5pc0VtcHR5KGZpZWxkcykgPyAnJHRvU3RyaW5nJyA6IGZpZWxkc1swXS5uYW1lO1xuICAgIH1cblxuXG4gICAgZGlzcGxheUxhYmVsKGNsYXNzTmFtZTogc3RyaW5nLCBwcm9wZXJ0aWVzVmFsdWU6IHN0cmluZyk6IHN0cmluZ1xuICAgIHtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KHByb3BlcnRpZXNWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheUtleUZvckNsYXNzKGNsYXNzTmFtZSk7XG4gICAgfVxuXG5cbiAgICBjcmVhdGVMb2NhbGl6ZWRTdHJpbmcoa2V5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogc3RyaW5nKTogTG9jYWxpemVkU3RyaW5nXG4gICAge1xuICAgICAgICBhc3NlcnQoaXNQcmVzZW50KHRoaXMuX2N1cnJlbnRSdWxlU2V0KSxcbiAgICAgICAgICAgICdBdHRlbXB0IHRvIGNyZWF0ZSBsb2NhbGl6ZWQgc3RyaW5nIHdpdGhvdXQgY3VycmVudFJ1bGVTZXQgaW4gcGxhY2UnKTtcblxuICAgICAgICByZXR1cm4gbmV3IExvY2FsaXplZFN0cmluZyh0aGlzLCB0aGlzLl9jdXJyZW50UnVsZVNldC5maWxlUGF0aCwga2V5LCBkZWZhdWx0VmFsdWUpO1xuICAgIH1cblxuXG4gICAgZ2V0IHJvdXRpbmdTZXJ2aWNlKCk6IFJvdXRpbmdTZXJ2aWNlXG4gICAge1xuICAgICAgICByZXR1cm4gKGlzUHJlc2VudCh0aGlzLl9pbmplY3RvcikpID8gdGhpcy5faW5qZWN0b3IuZ2V0PFJvdXRpbmdTZXJ2aWNlPihSb3V0aW5nU2VydmljZSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICB9XG5cbiAgICBnZXQgZW52KCk6IEVudmlyb25tZW50XG4gICAge1xuICAgICAgICByZXR1cm4gKGlzUHJlc2VudCh0aGlzLl9pbmplY3RvcikpID8gdGhpcy5faW5qZWN0b3IuZ2V0KEVudmlyb25tZW50KSA6IG5ldyBFbnZpcm9ubWVudCgpO1xuICAgIH1cblxuXG4gICAgZ2V0IGFwcENvbmZpZygpOiBBcHBDb25maWdcbiAgICB7XG4gICAgICAgIHJldHVybiAoaXNQcmVzZW50KHRoaXMuX2luamVjdG9yKSkgPyB0aGlzLl9pbmplY3Rvci5nZXQoQXBwQ29uZmlnKSA6IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGZyYW1ld29yayBsZXZlbCBjb21wb25lbnRzIGFuZCBsaXN0ZW4gZm9yIHVzZXIgbGV2ZWwgcnVsZXMgdG8gYmUgcmVnaXN0ZXJlZC5cbiAgICAgKiBBZnRlciB3ZSByZWdpc3RlciB1c2VyIGxldmVsIHJ1bGVzIGl0IHdpbGwgbG9hZCBhcHBsaWNhdGlvbi5vc3MuXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgcmVnaXN0ZXJDb21wb25lbnRzKHN5c1JlZmVyZW5jZXM6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGFzc2VydChpc1ByZXNlbnQodGhpcy5pbmplY3RvciksICdDYW5ub3QgcmVnaXN0ZXIgY29tcG9uZW50cyB3aXRob3V0IEluamVjdG9yIGluIG9yZGVyJyArXG4gICAgICAgICAgICAnIHRvIGdldCBhY2Nlc3MgdG8gQ29tcG9uZW50UmVnaXN0cnkgU2VydmljZScpO1xuXG4gICAgICAgIGFzc2VydCh0aGlzLmVudi5pblRlc3QgfHwgaXNQcmVzZW50KHRoaXMuYXBwQ29uZmlnLmdldChVSU1ldGEuQXBwQ29uZmlnVXNlclJ1bGVzUGFyYW0pKSxcbiAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBNZXRhVUkgYXMgdXNlciBydWxlcyBhcmUgbWlzc2luZy4gcGxlYXNlIHVzZTonICtcbiAgICAgICAgICAgICcgbWV0YXVpLnJ1bGVzLnVzZXItcnVsZXMgY29uZmlndXJhdGlvbiBwYXJhbScpO1xuXG4gICAgICAgIHRoaXMuY29tcG9uZW50UmVnaXN0cnkgPSB0aGlzLmluamVjdG9yLmdldChDb21wb25lbnRSZWdpc3RyeSk7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5jb21wb25lbnRSZWdpc3RyeSkpIHtcblxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRSZWdpc3RyeS5yZWdpc3RlclR5cGVzKHN5c1JlZmVyZW5jZXMpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuZW52LmluVGVzdCkge1xuICAgICAgICAgICAgICAgIGxldCB1c2VyUmVmZXJlbmNlczogYW55W10gPSB0aGlzLmFwcENvbmZpZy5nZXQoVUlNZXRhLkFwcENvbmZpZ1VzZXJSdWxlc1BhcmFtKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB1UnVsZSBvZiB1c2VyUmVmZXJlbmNlcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFJlZ2lzdHJ5LnJlZ2lzdGVyVHlwZXModVJ1bGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRBcHBsaWNhdGlvblJ1bGVzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5lbnYuaW5UZXN0KSB7XG4gICAgICAgICAgICB3YXJuKCdVSU1ldGEucmVnaXN0ZXJDb21wb25lbnRzKCkgTm8gY29tcG9uZW50cyB3ZXJlIHJlZ2lzdGVyZWQgIScpO1xuICAgICAgICB9XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogSnVzdCBuZWVkIHRvIGNhbGwgaXQgZGlmZmVyZW50IHRoYW4gdGhlIG90aGVyIGZpcmVBY3Rpb24gYXMgSSBjYW4gbm90IGRvIGFueSBtZXRob2RcbiAgICAgKiBvdmVybG9hZGluZyBoZXJlLlxuICAgICAqXG4gICAgICovXG4gICAgZmlyZUFjdGlvbkZyb21Qcm9wcyhhY3Rpb246IEl0ZW1Qcm9wZXJ0aWVzLCBjb250ZXh0OiBDb250ZXh0KTogdm9pZFxuICAgIHtcbiAgICAgICAgY29udGV4dC5wdXNoKCk7XG4gICAgICAgIGxldCBhY3Rpb25DYXRlZ29yeSA9IGFjdGlvbi5wcm9wZXJ0aWVzLmdldChPYmplY3RNZXRhLktleUFjdGlvbkNhdGVnb3J5KTtcbiAgICAgICAgaWYgKGlzQmxhbmsoYWN0aW9uQ2F0ZWdvcnkpKSB7XG4gICAgICAgICAgICBhY3Rpb25DYXRlZ29yeSA9IE9iamVjdE1ldGEuRGVmYXVsdEFjdGlvbkNhdGVnb3J5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuc2V0KE9iamVjdE1ldGEuS2V5QWN0aW9uQ2F0ZWdvcnksIGFjdGlvbkNhdGVnb3J5KTtcbiAgICAgICAgY29udGV4dC5zZXQoT2JqZWN0TWV0YS5LZXlBY3Rpb24sIGFjdGlvbi5uYW1lKTtcblxuICAgICAgICB0aGlzLl9maXJlQWN0aW9uKGNvbnRleHQsIGZhbHNlKTtcbiAgICAgICAgY29udGV4dC5wb3AoKTtcblxuICAgIH1cblxuICAgIGZpcmVBY3Rpb24oY29udGV4dDogVUlDb250ZXh0LCB3aXRoQmFja0FjdGlvbjogYm9vbGVhbiA9IGZhbHNlKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29udGV4dC5wdXNoKCk7XG4gICAgICAgIHRoaXMuX2ZpcmVBY3Rpb24oY29udGV4dCwgd2l0aEJhY2tBY3Rpb24pO1xuICAgICAgICBjb250ZXh0LnBvcCgpO1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZmlyZUFjdGlvbihjb250ZXh0OiBDb250ZXh0LCB3aXRoQmFja0FjdGlvbjogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBhY3Rpb25SZXN1bHRzID0gY29udGV4dC5wcm9wZXJ0eUZvcktleSgnYWN0aW9uUmVzdWx0cycpO1xuICAgICAgICBpZiAoaXNCbGFuayhhY3Rpb25SZXN1bHRzKSB8fCAhdGhpcy5pc1JvdXRlKGFjdGlvblJlc3VsdHMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYXZpYXRlVG9QYWdlKGNvbnRleHQsIGFjdGlvblJlc3VsdHMsIHdpdGhCYWNrQWN0aW9uKTtcbiAgICB9XG5cbiAgICBuYXZpYXRlVG9QYWdlKGNvbnRleHQ6IENvbnRleHQsIHJvdXRlOiBhbnksIHdpdGhCYWNrQWN0aW9uOiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IHBhcmFtcyA9IHRoaXMucHJlcGFyZVJvdXRlKGNvbnRleHQsIHdpdGhCYWNrQWN0aW9uKTtcblxuICAgICAgICBsZXQgdWlDb250ZXg6IFVJQ29udGV4dCA9IDxVSUNvbnRleHQ+IGNvbnRleHQ7XG4gICAgICAgIHRoaXMucm91dGluZ1NlcnZpY2UubmF2aWdhdGVXaXRoUm91dGUocm91dGUsIHBhcmFtcywgdWlDb250ZXgub2JqZWN0KTtcbiAgICB9XG5cblxuICAgIHByZXBhcmVSb3V0ZShjb250ZXh0OiBDb250ZXh0LCB3aXRoQmFja0FjdGlvbjogYm9vbGVhbik6IGFueVxuICAgIHtcbiAgICAgICAgbGV0IHBhcmFtcyA9IHt9O1xuICAgICAgICBsZXQgcGFnZUJpbmRpbmdzID0gY29udGV4dC5wcm9wZXJ0eUZvcktleSgncGFnZUJpbmRpbmdzJyk7XG4gICAgICAgIGlmIChpc1ByZXNlbnQocGFnZUJpbmRpbmdzKSkge1xuICAgICAgICAgICAgcGFnZUJpbmRpbmdzLmZvckVhY2goKHY6IGFueSwgazogYW55KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChrICE9PSBPYmplY3RNZXRhLktleU9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAoPGFueT5wYXJhbXMpW2tdID0gY29udGV4dC5yZXNvbHZlVmFsdWUodik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KHdpdGhCYWNrQWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICg8YW55PnBhcmFtcylbJ2InXSA9IHdpdGhCYWNrQWN0aW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cblxuXG4gICAgcHJlcGFyZVJvdXRlRm9yQ29tcG9uZW50KGNvbXBvbmVudDogYW55LCBjb250ZXh0OiBDb250ZXh0LCB3aXRoQmFja0FjdGlvbjogYm9vbGVhbik6IGFueVxuICAgIHtcbiAgICAgICAgbGV0IHBhcmFtcyA9IHt9O1xuICAgICAgICBsZXQgcGFnZUJpbmRpbmdzID0gY29udGV4dC5wcm9wZXJ0eUZvcktleSgncGFnZUJpbmRpbmdzJyk7XG4gICAgICAgIGlmIChpc1ByZXNlbnQocGFnZUJpbmRpbmdzKSkge1xuICAgICAgICAgICAgcGFnZUJpbmRpbmdzLmZvckVhY2goKHY6IGFueSwgazogYW55KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFtrXSA9IHY7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuXG5cbiAgICBnb3RvTW9kdWxlKG1vZHVsZTogSXRlbVByb3BlcnRpZXMsIGFjdGl2YXRlZFBhdGg/OiBzdHJpbmcpOiB2b2lkXG4gICAge1xuXG4gICAgICAgIHRoaXMuZW52LmRlbGV0ZVZhbHVlKEFDVElWRV9DTlRYKTtcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLm5ld0NvbnRleHQoKTtcblxuXG4gICAgICAgIGNvbnRleHQucHVzaCgpO1xuICAgICAgICBjb250ZXh0LnNldChVSU1ldGEuS2V5TW9kdWxlLCBtb2R1bGUubmFtZSk7XG4gICAgICAgIGxldCBwYWdlTmFtZSA9IGNvbnRleHQucHJvcGVydHlGb3JLZXkoVUlNZXRhLktleUhvbWVQYWdlKTtcblxuXG4gICAgICAgIGxldCByb3V0ZSA9IHRoaXMucm91dGluZ1NlcnZpY2Uucm91dGVGb3JQYWdlKHBhZ2VOYW1lLCBtb2R1bGUubmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgYWN0aXZhdGVkUGF0aCk7XG4gICAgICAgIGlmIChhY3RpdmF0ZWRQYXRoID09PSAnLycpIHtcbiAgICAgICAgICAgIGFjdGl2YXRlZFBhdGggPSAnJztcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGF0aCA9IGAke2FjdGl2YXRlZFBhdGh9LyR7cm91dGUucGF0aH1gO1xuXG4gICAgICAgIGxldCBwYXJhbXMgPSB0aGlzLnByZXBhcmVSb3V0ZShjb250ZXh0LCBudWxsKTtcbiAgICAgICAgY29udGV4dC5wb3AoKTtcblxuICAgICAgICB0aGlzLnJvdXRpbmdTZXJ2aWNlLm5hdmlnYXRlKFtwYXRoLCBwYXJhbXNdLCB7c2tpcExvY2F0aW9uQ2hhbmdlOiB0cnVlfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc1JvdXRlKGFjdGlvblJlc3VsdDogYW55KTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nTWFwKGFjdGlvblJlc3VsdCkgJiYgaXNQcmVzZW50KGFjdGlvblJlc3VsdFsncGF0aCddKTtcblxuICAgIH1cblxuICAgIGNvbXBQYWdlV2l0aE5hbWUobmFtZTogc3RyaW5nKTogVHlwZTxhbnk+XG4gICAge1xuICAgICAgICBsZXQgY3VyclR5cGUgPSB0aGlzLmNvbXBvbmVudFJlZ2lzdHJ5Lm5hbWVUb1R5cGUuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAoaXNCbGFuayhjdXJyVHlwZSkpIHtcbiAgICAgICAgICAgIGFzc2VydChmYWxzZSwgbmFtZSArICcgY29tcG9uZW50IGRvZXMgbm90IGV4aXN0cy4gQ3JlYXRlIER1bW15IENvbXBvbmVudCBpbnN0ZWFkIG9mJyArXG4gICAgICAgICAgICAgICAgJyB0aHJvd2luZyB0aGlzIGVycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJUeXBlO1xuICAgIH1cblxuXG4gICAgLy8gY2FsbGVyIG11c3QgcHVzaC9wb3AhXG4gICAgYWN0aW9uc0J5Q2F0ZWdvcnkoY29udGV4dDogQ29udGV4dCwgcmVzdWx0OiBNYXA8c3RyaW5nLCBBcnJheTxJdGVtUHJvcGVydGllcz4+LFxuICAgICAgICAgICAgICAgICAgICAgIHpvbmVzOiBzdHJpbmdbXSk6IEFycmF5PEl0ZW1Qcm9wZXJ0aWVzPlxuICAgIHtcbiAgICAgICAgbGV0IGNhdE5hbWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBsZXQgYWN0aW9uQ2F0ZWdvcmllcyA9IHRoaXMuaXRlbUxpc3QoY29udGV4dCwgT2JqZWN0TWV0YS5LZXlBY3Rpb25DYXRlZ29yeSwgem9uZXMpO1xuXG4gICAgICAgIGlmIChpc1ByZXNlbnQoYWN0aW9uQ2F0ZWdvcmllcykpIHtcbiAgICAgICAgICAgIGFjdGlvbkNhdGVnb3JpZXMuZm9yRWFjaCgoaXRlbTogSXRlbVByb3BlcnRpZXMpID0+IGNhdE5hbWVzLnB1c2goaXRlbS5uYW1lKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZEFjdGlvbnNGb3JDYXRlZ29yaWVzKGNvbnRleHQsIHJlc3VsdCwgY2F0TmFtZXMpO1xuICAgICAgICByZXR1cm4gYWN0aW9uQ2F0ZWdvcmllcztcbiAgICB9XG5cbiAgICBhZGRBY3Rpb25zRm9yQ2F0ZWdvcmllcyhjb250ZXh0OiBDb250ZXh0LCByZXN1bHQ6IE1hcDxzdHJpbmcsIEFycmF5PEl0ZW1Qcm9wZXJ0aWVzPj4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0TmFtZXM6IHN0cmluZ1tdKTogdm9pZFxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgY2F0IG9mIGNhdE5hbWVzKSB7XG4gICAgICAgICAgICBjb250ZXh0LnB1c2goKTtcbiAgICAgICAgICAgIGlmIChjYXQgIT09IE9iamVjdE1ldGEuRGVmYXVsdEFjdGlvbkNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXQoT2JqZWN0TWV0YS5LZXlBY3Rpb25DYXRlZ29yeSwgY2F0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0QWN0aW9uc0J5Q2F0ZWdvcnkoY29udGV4dCwgcmVzdWx0LCBjYXQpO1xuICAgICAgICAgICAgY29udGV4dC5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG5cbiAgICBjb2xsZWN0QWN0aW9uc0J5Q2F0ZWdvcnkoY29udGV4dDogQ29udGV4dCwgcmVzdWx0OiBNYXA8c3RyaW5nLCBBcnJheTxJdGVtUHJvcGVydGllcz4+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRDYXQ6IHN0cmluZyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBhY3Rpb25JbmZvczogSXRlbVByb3BlcnRpZXNbXSA9IHRoaXMuaXRlbVByb3BlcnRpZXMoY29udGV4dCwgT2JqZWN0TWV0YS5LZXlBY3Rpb24sXG4gICAgICAgICAgICB0cnVlKTtcbiAgICAgICAgZm9yIChsZXQgYWN0aW9uSW5mbyBvZiBhY3Rpb25JbmZvcykge1xuICAgICAgICAgICAgY29udGV4dC5wdXNoKCk7XG4gICAgICAgICAgICBjb250ZXh0LnNldChPYmplY3RNZXRhLktleUFjdGlvbiwgYWN0aW9uSW5mby5uYW1lKTtcblxuICAgICAgICAgICAgbGV0IHZpc2libGUgPSBjb250ZXh0LmJvb2xlYW5Qcm9wZXJ0eUZvcktleShPYmplY3RNZXRhLktleVZpc2libGUsIHRydWUpO1xuICAgICAgICAgICAgY29udGV4dC5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcnkgPSBhY3Rpb25JbmZvLnByb3BlcnRpZXMuZ2V0KE9iamVjdE1ldGEuS2V5QWN0aW9uQ2F0ZWdvcnkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSBPYmplY3RNZXRhLkRlZmF1bHRBY3Rpb25DYXRlZ29yeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldENhdCAhPT0gY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGZvckNhdGVnb3J5OiBJdGVtUHJvcGVydGllc1tdID0gcmVzdWx0LmdldChjYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzQmxhbmsoZm9yQ2F0ZWdvcnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvckNhdGVnb3J5ID0gW107XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zZXQoY2F0ZWdvcnksIGZvckNhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yQ2F0ZWdvcnkucHVzaChhY3Rpb25JbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgY29tcHV0ZU1vZHVsZUluZm8oY29udGV4dDogQ29udGV4dCA9IHRoaXMubmV3Q29udGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgIGNoZWNrVmlzaWJpbGl0eTogYm9vbGVhbiA9IHRydWUpOiBNb2R1bGVJbmZvXG4gICAge1xuXG4gICAgICAgIGxldCBtb2R1bGVJbmZvOiBNb2R1bGVJbmZvID0gbmV3IE1vZHVsZUluZm8oKTtcbiAgICAgICAgbW9kdWxlSW5mby5tb2R1bGVzID0gW107XG5cbiAgICAgICAgbGV0IGFsbE1vZHVsZVByb3BzOiBBcnJheTxJdGVtUHJvcGVydGllcz4gPSB0aGlzLml0ZW1MaXN0KGNvbnRleHQsIFVJTWV0YS5LZXlNb2R1bGUsXG4gICAgICAgICAgICBVSU1ldGEuQWN0aW9uWm9uZXMpO1xuICAgICAgICBtb2R1bGVJbmZvLm1vZHVsZU5hbWVzID0gW107XG4gICAgICAgIG1vZHVsZUluZm8ubW9kdWxlQnlOYW1lcyA9IG5ldyBNYXA8c3RyaW5nLCBJdGVtUHJvcGVydGllcz4oKTtcblxuICAgICAgICBmb3IgKGxldCBtb2R1bGUgb2YgYWxsTW9kdWxlUHJvcHMpIHtcblxuICAgICAgICAgICAgY29udGV4dC5wdXNoKCk7XG4gICAgICAgICAgICBjb250ZXh0LnNldChVSU1ldGEuS2V5TW9kdWxlLCBtb2R1bGUubmFtZSk7XG5cbiAgICAgICAgICAgIGlmIChjaGVja1Zpc2liaWxpdHkgJiYgIWNvbnRleHQuYm9vbGVhblByb3BlcnR5Rm9yS2V5KFVJTWV0YS5LZXlWaXNpYmxlLCB0cnVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQucG9wKCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vZHVsZUluZm8ubW9kdWxlTmFtZXMucHVzaChtb2R1bGUubmFtZSk7XG5cbiAgICAgICAgICAgIC8vIC8vIHRvZG86IGNyZWF0ZSB0eXBlc2NyaXB0IGFub3RhdGlvblxuICAgICAgICAgICAgLy8gY29udGV4dC5wdXNoKCk7XG4gICAgICAgICAgICAvLyBjb250ZXh0LnNldChcImhvbWVGb3JDbGFzc2VzXCIsIHRydWUpO1xuICAgICAgICAgICAgLy8gbGV0IGhvbWVDbGFzc2VzOiBBcnJheTxzdHJpbmc+ID0gdGhpcy5pdGVtTmFtZXMoY29udGV4dCwgVUlNZXRhLktleUNsYXNzKTtcbiAgICAgICAgICAgIC8vIGNvbnRleHQucG9wKCk7XG5cblxuICAgICAgICAgICAgbGV0IG1vZFByb3BlcnRpZXMgPSBuZXcgSXRlbVByb3BlcnRpZXMobW9kdWxlLm5hbWUsIGNvbnRleHQuYWxsUHJvcGVydGllcygpLCBmYWxzZSk7XG4gICAgICAgICAgICBtb2R1bGVJbmZvLm1vZHVsZXMucHVzaChtb2RQcm9wZXJ0aWVzKTtcblxuICAgICAgICAgICAgbW9kdWxlSW5mby5tb2R1bGVCeU5hbWVzLnNldChtb2R1bGUubmFtZSwgbW9kUHJvcGVydGllcyk7XG5cbiAgICAgICAgICAgIGNvbnRleHQucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnB1c2goKTtcbiAgICAgICAgY29udGV4dC5zZXQoVUlNZXRhLktleU1vZHVsZSwgbW9kdWxlSW5mby5tb2R1bGVOYW1lcyk7XG4gICAgICAgIG1vZHVsZUluZm8uYWN0aW9uc0J5Q2F0ZWdvcnkgPSBuZXcgTWFwPHN0cmluZywgQXJyYXk8SXRlbVByb3BlcnRpZXM+PigpO1xuICAgICAgICBtb2R1bGVJbmZvLmFjdGlvbkNhdGVnb3JpZXMgPSB0aGlzLmFjdGlvbnNCeUNhdGVnb3J5KGNvbnRleHQsIG1vZHVsZUluZm8uYWN0aW9uc0J5Q2F0ZWdvcnksXG4gICAgICAgICAgICBVSU1ldGEuTW9kdWxlQWN0aW9uWm9uZXMpO1xuICAgICAgICBjb250ZXh0LnBvcCgpO1xuXG4gICAgICAgIHJldHVybiBtb2R1bGVJbmZvO1xuICAgIH1cblxuXG4gICAgY3VycmVudE1vZHVsZUxhYmVsKG1vZHVsZU5hbWU6IHN0cmluZywgY29udGV4dDogQ29udGV4dCA9IHRoaXMubmV3Q29udGV4dCgpKTogc3RyaW5nXG4gICAge1xuICAgICAgICBjb250ZXh0LnB1c2goKTtcbiAgICAgICAgY29udGV4dC5zZXQoVUlNZXRhLktleU1vZHVsZSwgbW9kdWxlTmFtZSk7XG4gICAgICAgIGxldCBsYWJlbDogc3RyaW5nID0gY29udGV4dC5wcm9wZXJ0eUZvcktleShVSU1ldGEuS2V5TGFiZWwpO1xuICAgICAgICBjb250ZXh0LnBvcCgpO1xuXG4gICAgICAgIHJldHVybiBsYWJlbDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIE1vZHVsZUluZm9cbntcbiAgICBtb2R1bGVzOiBBcnJheTxJdGVtUHJvcGVydGllcz47XG4gICAgbW9kdWxlTmFtZXM6IEFycmF5PHN0cmluZz47XG4gICAgbW9kdWxlQnlOYW1lczogTWFwPHN0cmluZywgSXRlbVByb3BlcnRpZXM+O1xuICAgIGFjdGlvbkNhdGVnb3JpZXM6IEFycmF5PEl0ZW1Qcm9wZXJ0aWVzPjtcbiAgICBhY3Rpb25zQnlDYXRlZ29yeTogTWFwPHN0cmluZywgQXJyYXk8SXRlbVByb3BlcnRpZXM+Pjtcbn1cblxuXG5leHBvcnQgY2xhc3MgTG9jYWxpemVkU3RyaW5nIGV4dGVuZHMgRHluYW1pY1Byb3BlcnR5VmFsdWVcbntcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBtZXRhOiBVSU1ldGEsIHByb3RlY3RlZCBfbW9kdWxlOiBzdHJpbmcsIHByb3RlY3RlZCAgX2tleTogc3RyaW5nLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfZGVmYXVsdFZhbHVlOiBzdHJpbmcpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGNvbnRleHQ6IENvbnRleHQpOiBhbnlcbiAgICB7XG5cbiAgICAgICAgbGV0IGxvY2FsaXplZFN0cmluZzogYW55O1xuICAgICAgICAvLyBsZXQgY2xhenogPSBjb250ZXh0LnZhbHVlcy5nZXQoJ2NsYXNzJyk7XG4gICAgICAgIC8vIGlmIChpc1ByZXNlbnQodGhpcy5fa2V5KSAmJiBpc1ByZXNlbnQodGhpcy5tZXRhLmkxOG5TZXJ2aWNlKSkge1xuICAgICAgICAvLyAgICAgbGV0IGkxOG5LZXkgPSBjbGF6eiArICcuJyArIHRoaXMuX2tleTtcbiAgICAgICAgLy8gICAgIGxvY2FsaXplZFN0cmluZyA9IHRoaXMubWV0YS5pMThuU2VydmljZS5pbnN0YW50KGkxOG5LZXkpO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgLy8gd2hlbiBpdCByZXR1cm4gdGhlIHNhbWUgc3RyaW5nIG1vc3QgbGlrZWx5IGl0IG1lYW5zIHRoZXJlIGlzIG5vXG4gICAgICAgIC8vICAgICAvLyB0cmFuc2xhdGlvbiBzbyBkZWZhdWx0IGl0IHRvIG51bGxcbiAgICAgICAgLy8gICAgIGxvY2FsaXplZFN0cmluZyA9IChsb2NhbGl6ZWRTdHJpbmcgPT09IGkxOG5LZXkpID8gbnVsbCA6IGxvY2FsaXplZFN0cmluZztcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGlmIChpc0JsYW5rKGxvY2FsaXplZFN0cmluZykgfHwgdGhpcy5fa2V5ID09PSBPYmplY3RNZXRhLktleUZpZWxkKSB7XG4gICAgICAgIC8vICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFZhbHVlO1xuICAgICAgICAvLyB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0VmFsdWU7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gJ0xvY2FsZWRTdHJpbmc6IHsnICsgdGhpcy5fa2V5ICsgJyAtICcgKyB0aGlzLl9kZWZhdWx0VmFsdWUgKyAnIH0nO1xuICAgIH1cbn1cblxuY2xhc3MgTG9jYWxpemVkTGFiZWxTdHJpbmcgZXh0ZW5kcyBMb2NhbGl6ZWRTdHJpbmcgaW1wbGVtZW50cyBQcm9wZXJ0eU1hcEF3YWtpbmdcbntcbiAgICBzdGF0aWMgRGVmYXVsdE1vZHVsZSA9ICdkZWZhdWx0JztcbiAgICBwcm9wZXJ0eUF3YWtpbmc6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIG1ldGE6IFVJTWV0YSlcbiAgICB7XG4gICAgICAgIHN1cGVyKG1ldGEsIExvY2FsaXplZExhYmVsU3RyaW5nLkRlZmF1bHRNb2R1bGUsIG51bGwsIG51bGwpO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGNvbnRleHQ6IENvbnRleHQpOiBhbnlcbiAgICB7XG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuX2tleSkpIHtcbiAgICAgICAgICAgIGxldCBzY29wZUtleTogc3RyaW5nID0gY29udGV4dC52YWx1ZXMuZ2V0KE1ldGEuU2NvcGVLZXkpO1xuICAgICAgICAgICAgbGV0IHNjb3BlVmFsOiBzdHJpbmcgPSBjb250ZXh0LnZhbHVlcy5nZXQoc2NvcGVLZXkpO1xuXG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBVSU1ldGEuZGVmYXVsdExhYmVsRm9ySWRlbnRpZmllcihzY29wZVZhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2tleSA9IHNjb3BlS2V5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5ldmFsdWF0ZShjb250ZXh0KTtcbiAgICB9XG5cbiAgICBhd2FrZUZvclByb3BlcnR5TWFwKG1hcDogUHJvcGVydHlNYXApOiBhbnlcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgTG9jYWxpemVkTGFiZWxTdHJpbmcodGhpcy5tZXRhKTtcbiAgICB9XG5cbn1cblxuXG5jbGFzcyBQcm9wRmllbGRzQnlab25lUmVzb2x2ZXIgZXh0ZW5kcyBTdGF0aWNhbGx5UmVzb2x2YWJsZVxue1xuXG5cbiAgICBldmFsdWF0ZShjb250ZXh0OiBDb250ZXh0KTogYW55XG4gICAge1xuICAgICAgICBsZXQgbSA9ICg8VUlNZXRhPmNvbnRleHQubWV0YSkuaXRlbU5hbWVzQnlab25lcyhjb250ZXh0LCBVSU1ldGEuS2V5RmllbGQsXG4gICAgICAgICAgICAoPFVJTWV0YT5jb250ZXh0Lm1ldGEpLnpvbmVzKGNvbnRleHQpKTtcbiAgICAgICAgbGV0IHpvbmVQYXRoID0gKDxVSU1ldGE+Y29udGV4dC5tZXRhKS56b25lUGF0aChjb250ZXh0KTtcbiAgICAgICAgaWYgKGlzUHJlc2VudCh6b25lUGF0aCkpIHtcblxuXG4gICAgICAgICAgICBtID0gPE1hcDxzdHJpbmcsIGFueT4+IEZpZWxkUGF0aC5nZXRGaWVsZFZhbHVlKG0sIHpvbmVQYXRoKTtcbiAgICAgICAgICAgIGlmIChpc0JsYW5rKG0pKSB7XG4gICAgICAgICAgICAgICAgbSA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfVxufVxuXG5jbGFzcyBQcm9wRmllbGRQcm9wZXJ0eUxpc3RSZXNvbHZlciBleHRlbmRzIFN0YXRpY2FsbHlSZXNvbHZhYmxlXG57XG5cbiAgICBldmFsdWF0ZShjb250ZXh0OiBDb250ZXh0KTogYW55XG4gICAge1xuICAgICAgICByZXR1cm4gKDxVSU1ldGE+Y29udGV4dC5tZXRhKS5maWVsZExpc3QoY29udGV4dCk7XG4gICAgfVxufVxuXG5jbGFzcyBQcm9wTGF5b3V0c0J5Wm9uZVJlc29sdmVyIGV4dGVuZHMgU3RhdGljYWxseVJlc29sdmFibGVcbntcblxuICAgIGV2YWx1YXRlKGNvbnRleHQ6IENvbnRleHQpOiBhbnlcbiAgICB7XG4gICAgICAgIHJldHVybiAoPFVJTWV0YT5jb250ZXh0Lm1ldGEpLml0ZW1OYW1lc0J5Wm9uZXMoY29udGV4dCwgVUlNZXRhLktleUxheW91dCxcbiAgICAgICAgICAgICg8VUlNZXRhPmNvbnRleHQubWV0YSkuem9uZXMoY29udGV4dCkpO1xuICAgIH1cbn1cblxuXG5jbGFzcyBfRGVmYXVsdExhYmVsR2VuZXJhdG9yIGV4dGVuZHMgU3RhdGljYWxseVJlc29sdmFibGVcbntcblxuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfa2V5OiBzdHJpbmcpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGNvbnRleHQ6IENvbnRleHQpOiBhbnlcbiAgICB7XG4gICAgICAgIGxldCBmaWVsZE5hbWUgPSBjb250ZXh0LnZhbHVlcy5nZXQodGhpcy5fa2V5KTtcblxuICAgICAgICByZXR1cm4gKGlzUHJlc2VudChmaWVsZE5hbWUpICYmIGlzU3RyaW5nKGZpZWxkTmFtZSkpID9cbiAgICAgICAgICAgIFVJTWV0YS5kZWZhdWx0TGFiZWxGb3JJZGVudGlmaWVyKGZpZWxkTmFtZSkgOiBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBMb2FkIFVzZXIgZGVmaW5lZCBtZXRhIGRhdGEuIFRoaXMgY2xhc3MgaXMgdHJpZ2dlcmVkIGFzIHNvb24gYXMgd2UgY3JlYXRlIGEgY29udGV4dCBhbmRcbiAqIHBhc3MgYW4gb2JqZWN0IGludG8gaXQuIEJhc2VkIG9uIHRoZSBvYmplY3Qgd2Ugbm90aWZ5IGRpZmZlcmVudCBPYnNlcnZlcnMgcGFzc2luZyBuYW1lXG4gKiBvZiB0aGUgY2xhc3MgYW5kIGhlcmUgd2Ugc2VhcmNoIGlmIHdlIGhhdmUgYW55IFJ1bGVzIGF2YWlsYWJsZSBmb3IgY3VycmVudCBjbGFzc05hbWUgYW5kXG4gKiB0cnkgdG8gbG9hZCB0aGUgUnVsZS5cbiAqL1xuY2xhc3MgVXNlck1ldGFEYXRhUHJvdmlkZXIgaW1wbGVtZW50cyBWYWx1ZVF1ZXJpZWRPYnNlcnZlclxue1xuXG4gICAgbm90aWZ5KG1ldGE6IE1ldGEsIGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IGFSdWxlczogQXJyYXk8SnNvblJ1bGU+O1xuICAgICAgICBsZXQgdWlNZXRhOiBVSU1ldGEgPSA8VUlNZXRhPiBtZXRhO1xuXG4gICAgICAgIGlmICh1aU1ldGEuX3Rlc3RSdWxlcy5oYXModmFsdWUgKyAnUnVsZScpKSB7XG4gICAgICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgaW4gZGV2ZWxvcG1lbnQgbW9kZSBhbmQgdGVzdCBtb2RlIGlzIG9uIHdlIGNhbiBjaGVjayBleHRyYSByZXBvc2l0b3J5XG4gICAgICAgICAgICAvLyB1c2VkIGJ5IHRlc3RzLCB3ZSBuZWVkIHRvIGNoZWNrIGlmIHdlIGFyZSBub3QgcnVubmluZyB1bml0dGVzdCBhbmQgYSBjbGFzcyBpcyBub3RcbiAgICAgICAgICAgIC8vIGFwcGxpY2F0aW9uIGRlZmluZWQgYnV0IHVuaXR0ZXN0IGRlZmluZWQgcnVsZVxuXG4gICAgICAgICAgICBpZiAodWlNZXRhLl90ZXN0UnVsZXMuaGFzKHZhbHVlICsgJ1J1bGUnKSAmJlxuICAgICAgICAgICAgICAgIGlzUHJlc2VudCh1aU1ldGEuX3Rlc3RSdWxlcy5nZXQodmFsdWUgKyAnUnVsZScpLm9zcykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYVJ1bGVzID0gdWlNZXRhLl90ZXN0UnVsZXMuZ2V0KHZhbHVlICsgJ1J1bGUnKS5vc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXRhLmxvYWRVc2VyUnVsZShhUnVsZXMsIHZhbHVlKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGlzUHJlc2VudCh1aU1ldGEuYXBwQ29uZmlnKSAmJlxuICAgICAgICAgICAgdWlNZXRhLmFwcENvbmZpZy5nZXQoVUlNZXRhLkFwcENvbmZpZ1VzZXJSdWxlc1BhcmFtKSlcbiAgICAgICAge1xuXG4gICAgICAgICAgICBsZXQgdXNlclJlZmVyZW5jZXM6IGFueVtdID0gdWlNZXRhLmFwcENvbmZpZy5nZXQoVUlNZXRhLkFwcENvbmZpZ1VzZXJSdWxlc1BhcmFtKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSBpbiB1c2VyUmVmZXJlbmNlcykge1xuICAgICAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodXNlclJlZmVyZW5jZXNbaV1bdmFsdWUgKyAnUnVsZSddKSAmJlxuICAgICAgICAgICAgICAgICAgICBpc1ByZXNlbnQodXNlclJlZmVyZW5jZXNbaV1bdmFsdWUgKyAnUnVsZSddLm9zcykpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhUnVsZXMgPSB1c2VyUmVmZXJlbmNlc1tpXVt2YWx1ZSArICdSdWxlJ10ub3NzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGEubG9hZFVzZXJSdWxlKGFSdWxlcywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKiBCYXNlZCBvbiBvcmlnaW5hbCB3b3JrOiBNZXRhVUk6IENyYWlnIEZlZGVyaWdoaSAoMjAwOClcbiAqXG4gKi9cbmltcG9ydCB7XG4gICAgQWZ0ZXJWaWV3Q2hlY2tlZCxcbiAgICBBZnRlclZpZXdJbml0LFxuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICAgIENvbXBvbmVudCxcbiAgICBFbGVtZW50UmVmLFxuICAgIEV2ZW50RW1pdHRlcixcbiAgICBmb3J3YXJkUmVmLFxuICAgIEluamVjdCxcbiAgICBJbnB1dCxcbiAgICBPbkRlc3Ryb3ksXG4gICAgT3B0aW9uYWwsXG4gICAgT3V0cHV0LFxuICAgIFNpbXBsZUNoYW5nZSxcbiAgICBTa2lwU2VsZlxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gICAgYXNzZXJ0LFxuICAgIEVudmlyb25tZW50LFxuICAgIGVxdWFscyxcbiAgICBpc0JsYW5rLFxuICAgIGlzUHJlc2VudCxcbiAgICBMaXN0V3JhcHBlcixcbiAgICBTdHJpbmdXcmFwcGVyXG59IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtVSU1ldGF9IGZyb20gJy4uLy4uL2NvcmUvdWltZXRhJztcbmltcG9ydCB7Q29udGV4dH0gZnJvbSAnLi4vLi4vY29yZS9jb250ZXh0JztcbmltcG9ydCB7Rm9ybUNvbnRyb2x9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7QmFzZUZvcm1Db21wb25lbnR9IGZyb20gJ0BhcmliYXVpL2NvbXBvbmVudHMnO1xuaW1wb3J0IHtVSUNvbnRleHR9IGZyb20gJy4uL2NvbnRleHQnO1xuXG5cbi8qKlxuICpcbiAqIE1ldGFDb250ZXh0IChtLWNvbnRleHQpIGVuYWJsZXMgbWFuaXB1bGF0aW9uIG9mIGEgTWV0YVVJIENvbnRleHQgYXMgcGFydCBvZiB0aGUgQW5ndWxhcidzXG4gKiBjb21wb25lbnQgcHJvY2Vzc2luZy5cbiAqXG4gKiBUaGUgTWV0YUNvbnRleHQgdGFnIHdpbGwgZmluZCB0aGUgY3VycmVudCBDb250ZXh0IGluIHRoZSBFbnZpcm9ubWVudCdlbnYgb3Igd2lsbFxuICogY3JlYXRlIG9uZSwgd2lsbCBwdXNoKCkgYSBvbmUgbGV2ZWwgb24gdGhlIENvbnRleHQsIHNldCgpIGFsbCBvZiBpdHMgYmluZGluZ3MgYXMga2V5L3ZhbHVlcyxcbiAqIHJlbmRlciBpdHMgY29udGVudCwgIFNpbmNlIGl0cyBjb250ZW50IG1heSBjb250YWluIGNvbXBvbmVudCB0aGF0IGZ1cnRoZXIgdXNlXG4gKiBNZXRhQ29udGV4dCwgYWRkaXRpb25hbCBuZXN0ZWQgY29udGV4dCBtYW5pcHVsYXRpb25zIG1heSBvY2N1ci5cbiAqXG4gKiAjIyMgU2ltcGxlIGV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKlxuICogICAgICA8bS1jb250ZXh0IFtvYmplY3RdPSdjaGVja1JlcXVlc3QnIG9wZXJhdGlvbj0nZWRpdCcgbGF5b3V0PSdJbnNwZWN0Jz5cbiAqICAgICAgICAgIDxtLWluY2x1ZGUtY29tcG9uZW50PjwvbS1pbmNsdWRlLWNvbXBvbmVudD5cbiAqICAgICAgIDwvbS1jb250ZXh0PlxuICpcbiAqIGBgYFxuICpcbiAqXG4gKiBHZW5lcmFsbHksIE1ldGFDb250ZXh0IHRyZWF0cyBpdHMgYmluZGluZ3MgYXMgYSB2ZXJiYXRpbSBsaXN0IG9mIGtleXMvdmFsdWVzIHRvIGJlIHNldCgpXG4gKiBvbiB0aGUgY29udGV4dCAoaS5lLiB0aGUgYmluZGluZ3MgYWJvdmUgb24gJ29iamVjdCcsICdsYXlvdXQnLCAnb3BlcmF0aW9uJywgYW5kICdmaWVsZCdcbiAqIGFyZSBub3QgcHJlZGVmaW5lZCBieSBNZXRhQ29udGV4dCkuXG4gKlxuICogQWx0aG91Z2ggd2UgdHJlYXQgc29tZSBiaW5kaW5ncyBpbiBzcGVjaWFsIHdheSBhcyB3ZSBleHBlY3QgdGhlbSB0byBiZSBwYXNzZWQgaW4gYXMgZXhwcmVzc2lvblxuICogdGhlcmVmb3JlIHRoZXkgbmVlZCBiZSBkZWZpbmVkIGFzIEBJbnB1dCgpLiBUaGUgcmVzdCB3ZSB0cmVhZCBpcyBwdXJlIGtleXMvdmFsdWVzIHN0cmluZ3NcbiAqXG4gKiBGaXJzdCB0aW1lIHdoZW4gY29tcG9uZW50IGlzIGNyZWF0ZWQgd2UgdXNlIG5nT25Jbml0KCkgdG8gcHVzaCB2YWx1ZXMgYW5kIG5nQWZ0ZXJWaWV3SW5pdCgpIHRvXG4gKiBwb3AgdmFsdWVzLiBUaGUgcHVzaC9wb3AgbG9va3Mgc29tZXRoaW5nIGxpa2UgdGhpczpcbiAqXG4gKiA8Tm9kZTE+IC0gUFVTSFxuICogICAgICA8Tm9kZTI+IC0gUFVTSFxuICogICAgICAgICAgPE5vZGUzPiAtIFBVU0hcbiAqICAgICAgICAgIDxOb2RlMz4gLSBQT1BcbiAqICAgICAgPE5vZGUyPiAtIFBPUFxuICogPE5vZGUxPiAtIFBPUFxuICpcbiAqXG4gKiBBZnRlciBjb21wb25lbnQgaXMgZnVsbHkgaW5pdGlhbGl6ZWQgYW5kIHJlbmRlcmVkICB0aGVuIHdlIHVzZSBuZ0RvQ2hlY2soKSB0byBwdXNoKCkgYW5kXG4gKiBuZ0FmdGVyVmlld0NoZWNrZWQoKSB0byBwb3AoKSB2YWx1ZXMuXG4gKlxuICovXG5cblxuLyoqXG4gKiBDb25zdGFudCByZXByZXNlbnQgY3VycmVudCBhY3RpdmUgYW5kIG1haW5seSBsYXRlc3QgQ29udGV4dFxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IEFDVElWRV9DTlRYID0gJ0N1cnJlbnRNQyc7XG5jb25zdCBDTlRYX0NIQU5HRUQgPSAnQ250eF9DaGFuZ2VkJztcblxuXG4vLyBkZWZpbmUgc2V0IG9mIHByb3BlcnRpZXMgd2hpY2ggd2lsbCBiZSBza2lwcGVkIGFzIHRoZXkgYXJlIGRlZmluZWQgYXMgaW5wdXRzIG9yICBhZGRlZCBieVxuLy8gYW5ndWxhclxuY29uc3QgSU1QTElDSVRfUFJPUEVSVElFUyA9IFtcbiAgICAnbW9kdWxlJywgJ2xheW91dCcsICdvcGVyYXRpb24nLCAnY2xhc3MnLCAnb2JqZWN0JywgJ2FjdGlvbkNhdGVnb3J5JywgJ2FjdGlvbicsICdmaWVsZCcsXG4gICAgJ3B1c2hOZXdDb250ZXh0J1xuXTtcblxuXG5jb25zdCBJTU1VVEFCTEVfUFJPUEVSVElFUyA9IFtcbiAgICAnbW9kdWxlJywgJ2xheW91dCcsICdvcGVyYXRpb24nLCAnY2xhc3MnLCAnYWN0aW9uJywgJ2ZpZWxkJywgJ3B1c2hOZXdDb250ZXh0J1xuXTtcblxuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ20tY29udGV4dCcsXG4gICAgdGVtcGxhdGU6ICc8bmctY29udGVudD48L25nLWNvbnRlbnQ+JyxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcblxuICAgIHByb3ZpZGVyczogW1xuICAgICAgICB7cHJvdmlkZTogQmFzZUZvcm1Db21wb25lbnQsIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IE1ldGFDb250ZXh0Q29tcG9uZW50KX1cbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIE1ldGFDb250ZXh0Q29tcG9uZW50IGV4dGVuZHMgQmFzZUZvcm1Db21wb25lbnQgaW1wbGVtZW50cyBPbkRlc3Ryb3ksXG4gICAgQWZ0ZXJWaWV3SW5pdCwgQWZ0ZXJWaWV3Q2hlY2tlZFxue1xuICAgIC8qKlxuICAgICAqIEN1cnJlbnRseSB0aGVyZSBhcmUgc2V0IG9mIHByb3BlcnRpZXMgd2hpY2ggY2FuIGJlIHBhc3NlZCBhcyBleHByZXNzaW9uIGFuZCB0aGVyZWZvcmUgdGhleVxuICAgICAqIG5lZWQgdG8gYmUgcmVzb2x2ZWQgYnkgYW5ndWxhci4gQW5ndWxhciBkb2VzIG5vdCBoYXZlIHN1Y2ggb3B0aW9uIHRvIHByb3ZpZGUgZmxleGlibGVcbiAgICAgKiBudW1iZXIgb2YgSW5wdXRzLiBBbGwgbmVlZHMgdG8gYmUgcHJlLWRlZmluZWQuIElmIHlvdSB3YW50IHRvIHBhc3MgaW4gYW5cbiAgICAgKiBleHByZXNzaW9uIGl0IG11c3QgYmUgZGVmaW5lZCBhcyBpbnB1dC4gT3RoZXJ3aXNlIGFueSBvdGhlciBhdHRyaWJ1dGVzIHdpbGwgYmUgdHJlYXRlZCBhc1xuICAgICAqIHN0cmluZ3MuXG4gICAgICovXG4gICAgQElucHV0KCkgbW9kdWxlOiBzdHJpbmc7XG4gICAgQElucHV0KCkgbGF5b3V0OiBzdHJpbmc7XG4gICAgQElucHV0KCkgb3BlcmF0aW9uOiBzdHJpbmc7XG4gICAgQElucHV0KCkgY2xhc3M6IHN0cmluZztcbiAgICBASW5wdXQoKSBvYmplY3Q6IGFueTtcbiAgICBASW5wdXQoKSBhY3Rpb25DYXRlZ29yeTogYW55O1xuICAgIEBJbnB1dCgpIGFjdGlvbjogYW55O1xuICAgIEBJbnB1dCgpIGZpZWxkOiBzdHJpbmc7XG5cbiAgICBASW5wdXQoKSBwdXNoTmV3Q29udGV4dDogYm9vbGVhbjtcblxuXG4gICAgQE91dHB1dCgpXG4gICAgYmVmb3JlQ29udGV4dFNldDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBAT3V0cHV0KClcbiAgICBvbkNvbnRleHRDaGFuZ2VkOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIEBPdXRwdXQoKVxuICAgIGFmdGVyQ29udGV4dFNldDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cblxuICAgIEBPdXRwdXQoKVxuICAgIG9uQWN0aW9uOiBFdmVudEVtaXR0ZXI8TWV0YVVJQWN0aW9uRXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG5cbiAgICAvKipcbiAgICAgKiBGbGFnIHRoYXQgdGVsbHMgdXMgdGhhdCBjb21wb25lbnQgaXMgZnVsbHkgcmVuZGVyZWRcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgdmlld0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIE1hcmtzIE1ldGFDb250ZXh0IG9yIHRoZSByb290IE1ldGFDb250ZXh0IHRoYXQgY3JlYXRlZCBhIG5ldyBDb250ZXh0XG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGNvbnRleHRDcmVhdGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBwcml2YXRlIGJpbmRpbmdzTWFwOiBNYXA8c3RyaW5nLCBhbnk+O1xuICAgIHByaXZhdGUgYmluZGluZ0tleXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvKipcbiAgICAgKiBTaGVsbCBjb3B5IG9mIGFuIG9iamVjdCB1c2VkIGZvciBjb21wYXJpc2lvbi4gV2UgbWF5IGdldCBiYWNrIHRvIHRoZSBvcmlnaW5hbCBzb2x1dGlvbiB3aGljaFxuICAgICAqIEkgaGFkIGhlcmUuIFRIZSBBbmd1bGFyJ3MgZGlmZmVyc1xuICAgICAqL1xuICAgIHByaXZhdGUgcHJldk9iamVjdDogYW55O1xuXG4gICAgcHJpdmF0ZSBfc2NvcGVCaW5kaW5nOiBzdHJpbmc7XG5cbiAgICAvLyBwcml2YXRlIHN0YXRpYyBzdGFja0RlcHRoID0gMDtcblxuXG4gICAgX215Q29udGV4dDogQ29udGV4dDtcblxuICAgIC8qKlxuICAgICAqIE5lZWQgdG8gY2FjaGUgaWYgd2UgYWxyZWFkeSBoYXZlIG9iamVjdCBvciBub3QgaW4gY2FzZSB3ZSBsb2FkIGRhdGEgZnJvbSBSRVNUIHdoZXJlIGl0XG4gICAgICogY291bGQgYmUgZGVmZXJyZWQgYW5kIG5vdCBhdmFpbGFibGUgd2hlbiBjb21wb25lbnQgaXMgaW5pdGlhbGl6ZWRcbiAgICAgKi9cbiAgICBoYXNPYmplY3Q6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHB1YmxpYyBlbnY6IEVudmlyb25tZW50LFxuICAgICAgICAgICAgICAgIEBTa2lwU2VsZigpIEBPcHRpb25hbCgpIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBCYXNlRm9ybUNvbXBvbmVudCkpXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIHBhcmVudENvbnRhaW5lcjogQmFzZUZvcm1Db21wb25lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYsIG51bGwpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuaW5pdEJpbmRpbmdzKCk7XG4gICAgICAgIHRoaXMuaGFzT2JqZWN0ID0gdGhpcy5faGFzT2JqZWN0KCk7XG5cbiAgICAgICAgLy8gTWV0YUNvbnRleHRDb21wb25lbnQuc3RhY2tEZXB0aCsrO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmluZGVudCgpICsgJz0+IG5nT25Jbml0OicsIHRoaXMuY29udGV4dEtleSgpKTtcbiAgICAgICAgLy8gSW5pdGlhbCBwdXNoLCB3aGVuIGNvbXBvbmVudCBpcyBmaXJzdCBpbml0aWFsaXplZCB0aGUgcmVzdCBpcyBkb25lIGJhc2VkIG9uIGNoYW5nZXMuXG4gICAgICAgIHRoaXMucHVzaFBvcCh0cnVlKTtcblxuICAgICAgICBpZiAoIXRoaXMuZW52Lmhhc1ZhbHVlKCdwYXJlbnQtY254JykpIHtcbiAgICAgICAgICAgIHRoaXMuZW52LnNldFZhbHVlKCdwYXJlbnQtY254JywgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEZvciBhbnkgb3RoZXIgaW1tdXRhYmxlIG9iamVjdCBkZXRlY3QgY2hhbmdlcyBoZXJlIGFuZCByZWZyZXNoIHRoZSBjb250ZXh0IHN0YWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2hhbmdlc1xuICAgICAqL1xuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IHtbIHByb3BOYW1lOiBzdHJpbmddOiBTaW1wbGVDaGFuZ2V9KTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pbmRlbnQoKSArICcgICAgPT4gbmdPbkNoYW5nZXMnLCB0aGlzLmNvbnRleHRLZXkoKSk7XG5cblxuICAgICAgICBmb3IgKGxldCBuYW1lIG9mIElNTVVUQUJMRV9QUk9QRVJUSUVTKSB7XG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KGNoYW5nZXNbbmFtZV0pXG4gICAgICAgICAgICAgICAgJiYgKGNoYW5nZXNbbmFtZV0uY3VycmVudFZhbHVlICE9PSBjaGFuZ2VzW25hbWVdLnByZXZpb3VzVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0QmluZGluZ3MoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpbiBjYXNlIG9iamVjdCBpcyBjb21pbmcgbGF0ZSBlLmcuIGZyb20gc29tZSByZWFjdGl2ZSBBUEkgbGlrZSBSRVNUIHRoZW4gd2VcbiAgICAgICAgLy8gZG8gbm90IGdldCBpdCBpbnRvIG5nSW5pdCBidXQgaXQgd2lsbCBiZSBoZXJlLlxuICAgICAgICBpZiAodGhpcy52aWV3SW5pdGlhbGl6ZWQgJiYgaXNQcmVzZW50KGNoYW5nZXNbJ29iamVjdCddKSAmJiBpc1ByZXNlbnQodGhpcy5vYmplY3QpKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCaW5kaW5ncygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmcgY2hlY2sgaXMgdHJpZ2dlZCBhZnRlciB2aWV3IGlzIGZ1bGx5IGluaWFsaXplZCBhbmQgd2Ugd2FudCB0byBwdXNoIGV2ZXJ5dGhpbmcgbmV3XG4gICAgICogcHJvcGVydGllcyB0byB0aGUgY29udGV4dCBhbmQgZXZhbHVhdGUgZXZlcnl0aGluZy5cbiAgICAgKlxuICAgICAqXG4gICAgICovXG4gICAgbmdEb0NoZWNrKCk6IHZvaWRcbiAgICB7XG5cbiAgICAgICAgaWYgKHRoaXMudmlld0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLmhhc09iamVjdCA9IHRoaXMuX2hhc09iamVjdCgpO1xuXG4gICAgICAgICAgICAvLyBNZXRhQ29udGV4dENvbXBvbmVudC5zdGFja0RlcHRoKys7XG5cbiAgICAgICAgICAgIHRoaXMucHVzaFBvcCh0cnVlKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaW5kZW50KCkgKyAnPT4gbmdEb0NoZWNrKENIQU5HRUQpJywgdGhpcy5jb250ZXh0S2V5KCkpO1xuXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMub2JqZWN0KSAmJiAhZXF1YWxzKHRoaXMucHJldk9iamVjdCwgdGhpcy5vYmplY3QpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVNb2RlbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBXZSB3YW50IHRvIHN0YXJ0IGRldGVjdGluZyBjaGFuZ2VzIG9ubHkgYWZ0ZXIgdmlldyBpcyBmdWxseSBjaGVja2VkXG4gICAgICovXG4gICAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52aWV3SW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaW5kZW50KCkgKyAnPT4gbmdBZnRlclZpZXdJbml0OicsIHRoaXMuY29udGV4dEtleSgpKTtcbiAgICAgICAgICAgIC8vIE1ldGFDb250ZXh0Q29tcG9uZW50LnN0YWNrRGVwdGgtLTtcbiAgICAgICAgICAgIHRoaXMucHVzaFBvcChmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIG5nQWZ0ZXJWaWV3Q2hlY2tlZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy52aWV3SW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaW5kZW50KCkgKyAnPT4gbmdBZnRlclZpZXdDaGVja2VkOicsIHRoaXMuY29udGV4dEtleSgpKTtcbiAgICAgICAgICAgIC8vIE1ldGFDb250ZXh0Q29tcG9uZW50LnN0YWNrRGVwdGgtLTtcbiAgICAgICAgICAgIHRoaXMucHVzaFBvcChmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBwcml2YXRlIGluZGVudCgpOiBzdHJpbmdcbiAgICAvLyB7XG4gICAgLy8gICAgIGxldCBpbmQgPSAnJztcbiAgICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNZXRhQ29udGV4dENvbXBvbmVudC5zdGFja0RlcHRoOyBpKyspIHtcbiAgICAvLyAgICAgICAgIGluZCArPSAnXFx0XFx0XFx0ICc7XG4gICAgLy8gICAgIH1cbiAgICAvL1xuICAgIC8vICAgICByZXR1cm4gaW5kO1xuICAgIC8vIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogVGhpcyBpcyBvdXIga2V5IG1ldGhvZCB0aGF0IHRyaWdnZXJzIGFsbCB0aGUgaW50ZXJhY3Rpb24gaW5zaWRlIE1ldGFVSSB3b3JsZC4gSGVyZSB3ZVxuICAgICAqIHB1c2ggY29udGV4dCBrZXlzIGFuZCB0aGVpciB2YWx1ZXMgdG8gdGhlIHN0YWNrIGFuZCB0aGlzIGlzIHRoZSB0aGluZyB0aGF0IHRyaWdnZXJzXG4gICAgICogcnVsZSByZWNhbGN1bGF0aW9uIHdoaWNoIGdpdmUgdXMgdXBkYXRlZCAgcHJvcGVydGllcy4gVGhvc2UgYXJlIHRoZW4gdXNlZCBieVxuICAgICAqIE1ldGFJbmNsdWRlQ29tcG9uZW50IHRvIHJlbmRlciB0aGUgVUkuXG4gICAgICpcbiAgICAgKiBteUNvbnRleHQgaXMgY3VycmVudCBjb250ZXh0IGZvciB0aGlzIE1ldGFDb250ZXh0IENvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpc1B1c2ggaWRlbnRpZmllcyBpZiB3ZSBhcmUgcHVzaGluZyBvciBwb3BwaW5nIHRvIGNvbnRleHQgc3RhY2tcbiAgICAgKi9cbiAgICBwcml2YXRlIHB1c2hQb3AoaXNQdXNoOiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pbmRlbnQoKSArICc9PiBwdXNoUG9wOiBpc1B1c2gnICsgaXNQdXNoLCB0aGlzLmNvbnRleHRLZXkoKSk7XG4gICAgICAgIGxldCBhY3RpdmVDb250ZXh0OiBDb250ZXh0ID0gdGhpcy5hY3RpdmVDb250ZXh0KCk7XG4gICAgICAgIGFzc2VydChpc1B1c2ggfHwgaXNQcmVzZW50KGFjdGl2ZUNvbnRleHQpLCAncG9wKCk6IE1pc3NpbmcgY29udGV4dCcpO1xuXG4gICAgICAgIGxldCBmb3JjZUNyZWF0ZSA9IGlzUHVzaCAmJiAoaXNQcmVzZW50KHRoaXMucHVzaE5ld0NvbnRleHQpICYmIHRoaXMucHVzaE5ld0NvbnRleHQpO1xuICAgICAgICBpZiAoaXNCbGFuayhhY3RpdmVDb250ZXh0KSB8fCBmb3JjZUNyZWF0ZSkge1xuICAgICAgICAgICAgbGV0IG1ldGFVSSA9IFVJTWV0YS5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgYWN0aXZlQ29udGV4dCA9IG1ldGFVSS5uZXdDb250ZXh0KGZvcmNlQ3JlYXRlKTtcblxuICAgICAgICAgICAgdGhpcy5jb250ZXh0Q3JlYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmVudi5wdXNoPENvbnRleHQ+KEFDVElWRV9DTlRYLCBhY3RpdmVDb250ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1B1c2gpIHtcbiAgICAgICAgICAgIGFjdGl2ZUNvbnRleHQucHVzaCgpO1xuXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuX3Njb3BlQmluZGluZykgJiYgdGhpcy5oYXNPYmplY3QpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuYmVmb3JlQ29udGV4dFNldC5lbWl0KHRoaXMuX3Njb3BlQmluZGluZyk7XG4gICAgICAgICAgICAgICAgYWN0aXZlQ29udGV4dC5zZXRTY29wZUtleSh0aGlzLl9zY29wZUJpbmRpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJDb250ZXh0U2V0LmVtaXQodGhpcy5fc2NvcGVCaW5kaW5nKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5iaW5kaW5nS2V5cy5sZW5ndGg7IGluZGV4KyspIHtcblxuICAgICAgICAgICAgICAgICAgICBsZXQga2V5ID0gdGhpcy5iaW5kaW5nS2V5c1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuYmluZGluZ3NNYXAuZ2V0KGtleSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iZWZvcmVDb250ZXh0U2V0LmVtaXQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVDb250ZXh0LnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZnRlckNvbnRleHRTZXQuZW1pdCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2F2ZSBjcmVhdGVkIGNvbnRlbnQgdG8gbG9jYWwgTWV0YUNvbnRleHRcbiAgICAgICAgICAgIHRoaXMuX215Q29udGV4dCA9IGFjdGl2ZUNvbnRleHQuc25hcHNob3QoKS5oeWRyYXRlKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZUNvbnRleHQucG9wKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHRDcmVhdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnYucG9wPENvbnRleHQ+KEFDVElWRV9DTlRYKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEp1c3QgZm9yIHRyb3VibGVzaG9vdGluZyB0byBwcmludCBjdXJyZW50IGNvbnRleHQgYW5kIGFzc2lnbm1lbnRzXG4gICAgICpcbiAgICAgKi9cbiAgICBkZWJ1Z1N0cmluZygpOiBTdHJpbmdcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5fbXlDb250ZXh0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX215Q29udGV4dC5kZWJ1Z1N0cmluZygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9yIGRlYnVnZ2luZyB0byBpZGVudGlmeSBjdXJyZW50IGtleVxuICAgICAqL1xuICAgIC8vIGNvbnRleHRLZXkoKTogc3RyaW5nXG4gICAgLy8ge1xuICAgIC8vICAgICBsZXQgY254S2V5ID0gJyc7XG4gICAgLy8gICAgIGlmIChpc1ByZXNlbnQodGhpcy5iaW5kaW5nS2V5cykgJiYgdGhpcy5iaW5kaW5nS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgLy8gICAgICAgICB0aGlzLmJpbmRpbmdLZXlzLmZvckVhY2goKG5hbWUpID0+XG4gICAgLy8gICAgICAgICB7XG4gICAgLy8gICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGNueEtleSArPSBuYW1lO1xuICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGNueEtleSArPSBuYW1lICsgdGhpcy5iaW5kaW5nc01hcC5nZXQobmFtZSk7XG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vXG4gICAgLy9cbiAgICAvLyAgICAgICAgIH0pO1xuICAgIC8vICAgICB9IGVsc2UgaWYgKGlzUHJlc2VudCh0aGlzLl9zY29wZUJpbmRpbmcpKSB7XG4gICAgLy8gICAgICAgICBjbnhLZXkgKz0gdGhpcy5fc2NvcGVCaW5kaW5nO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJldHVybiBjbnhLZXk7XG4gICAgLy8gfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEV2ZXJ5IG1ldGEgY29udGV4dCBjb21wb25lbnQgd2hpY2ggcHVzaGluZyBjZXJ0YWluIHByb3BlcnRpZXMgdG8gc3RhY2sgaGFzIGl0cyBvd24gY29udGV4dFxuICAgICAqIHRoYXQgbGl2ZXMgdW50aWwgY29tcG9uZW50IGlzIGRlc3Ryb3llZFxuICAgICAqXG4gICAgICovXG4gICAgbXlDb250ZXh0KCk6IENvbnRleHRcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9teUNvbnRleHQ7XG4gICAgICAgIC8vIGxldCBjbnhLZXkgPSB0aGlzLmNvbnRleHRLZXkoKTtcbiAgICAgICAgLy8gcmV0dXJuIHRoaXMuZW52LmdldFZhbHVlKGNueEtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2Uga2VlcCB0aGUgbW9zdCBjdXJyZW50IGFuZCBsYXRlc3QgY29udGV4dCB0byBlbnZpcm9ubWVudCB0byBiZSByZWFkIGJ5IGFueSBDaGlsZFxuICAgICAqIE1ldGFDb250ZXh0IGZvciBwdXJwb3NlIG9mIGNyZWF0aW9uIG5ldyBjb250ZXh0IGFuZCBpdCBuZWVkcyBpbmZvIHdoYXQgd2FzIGFscmVhZHkgcHVzaGVkXG4gICAgICogb250byB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKi9cbiAgICBhY3RpdmVDb250ZXh0KCk6IENvbnRleHRcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudi5wZWFrPENvbnRleHQ+KEFDVElWRV9DTlRYKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIExldCdzIGNsZWFuIHVwIGFuZCBkZXN0cm95IHB1c2hlZCBjb250ZXh0XG4gICAgICovXG4gICAgbmdPbkRlc3Ryb3koKVxuICAgIHtcblxuICAgICAgICBpZiAodGhpcy5lbnYuaGFzVmFsdWUoJ3BhcmVudC1jbngnKSkge1xuICAgICAgICAgICAgdGhpcy5lbnYuZGVsZXRlVmFsdWUoJ3BhcmVudC1jbngnKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogSWRlYWxseSB3ZSBkbyBub3QgbmVlZCB0aGlzIG1ldGhvZCBpZiBBbmd1bGFyIHdvdWxkIHN1cHBvcnQgdG8gcGFzcyB2YXJpYWJsZSBudW1iZXIgb2ZcbiAgICAgKiBiaW5kaW5ncyB3aXRob3V0IGEgbmVlZCB0byBoYXZlIGJhY2t1cCBwcm9wZXJ0eSBmb3IgZWFjaCBvZiB0aGUgYmluZGluZ3Mgb3IgZXhwcmVzc2lvbi4vXG4gICAgICpcbiAgICAgKiBPbmNlIHRoZXkgc3VwcG9ydC4gd2UgY2FuIHJlbW92ZSB0aGlzLiBTaW5jZSB0aGlzIGNoZWNrIHdoYXQgYXJlIGtub3duIGJpbmRpbmdzIHBhc3NlZCxcbiAgICAgKiBtZWFuaW5nIHRoZSBvbmVzIGRlY29yYXRlZCB3aXRoIEBJbnB1dCBhbmQgdGhlIHJlc3RcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgaW5pdEJpbmRpbmdzKClcbiAgICB7XG4gICAgICAgIHRoaXMuYmluZGluZ3NNYXAgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICAgICAgICBsZXQgbmF0aXZlRWxlbWVudCA9IHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xuXG4gICAgICAgIHRoaXMuaW5pdEltcGxpY2l0QmluZGluZ3MoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYXRpdmVFbGVtZW50LmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBhdHRyOiBBdHRyID0gbmF0aXZlRWxlbWVudC5hdHRyaWJ1dGVzLml0ZW0oaSk7XG4gICAgICAgICAgICBpZiAodGhpcy5pZ25vcmVCaW5kaW5nKGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KGF0dHIubmFtZSkgJiYgYXR0ci5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzY29wZWtleScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zY29wZUJpbmRpbmcgPSBhdHRyLnZhbHVlO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYmluZGluZ3NNYXAuc2V0KGF0dHIubmFtZSwgYXR0ci52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iaW5kaW5nS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLmJpbmRpbmdzTWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ0tleXMucHVzaChrZXkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTb3J0IHRoZW0gYnkgdGhlaXIgaW1wb3J0YW5jZSBvciByYW5rXG4gICAgICAgIExpc3RXcmFwcGVyLnNvcnRCeUV4YW1wbGUodGhpcy5iaW5kaW5nS2V5cywgSU1QTElDSVRfUFJPUEVSVElFUyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGhpbmcgd2Ugd2FudCBpcyB0byBwYXNzIHZhcmlhYmxlIG51bWJlciBvZiBiaW5kaW5ncyBhbmQgcmVzb2x2ZSB0aGVtIHByb2dyYW1tYXRpY2FsbHkuXG4gICAgICogQ3VycmVudGx5IGluIEFuZ3VsYXIgd2UgY2Fubm90IGRvIHRoaXMgd2UgaGF2ZSB0aGVzZSBzZXQgb2YgcHJvcGVydGllcyB3aGVyZSB3ZSBleHBlY3RcbiAgICAgKiBzb21lIGV4cHJlc3Npb24sIHNvbWUgZHluYW1pYyBwcm9wZXJ0aWVzLiBGb3IgdGhlIHJlc3Qgd2UgZXhwZWN0IG9ubHkgc3RyaW5nIGxpdGVyYWwgdG8gYmVcbiAgICAgKiBwYXNzZWQgaW4gdGhlcmVmb3JlIHdlIGNhbiByZXNvbHZlIHRoZW0gd2l0aCBuYXRpdmVFbGVtZW50LmF0dHJpYnV0ZXNcbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgaW5pdEltcGxpY2l0QmluZGluZ3MoKVxuICAgIHtcbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLm1vZHVsZSkpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ3NNYXAuc2V0KCdtb2R1bGUnLCB0aGlzLm1vZHVsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmxheW91dCkpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ3NNYXAuc2V0KCdsYXlvdXQnLCB0aGlzLmxheW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLm9wZXJhdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ3NNYXAuc2V0KCdvcGVyYXRpb24nLCB0aGlzLm9wZXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmNsYXNzKSkge1xuICAgICAgICAgICAgdGhpcy5iaW5kaW5nc01hcC5zZXQoJ2NsYXNzJywgdGhpcy5jbGFzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLm9iamVjdCkpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ3NNYXAuc2V0KCdvYmplY3QnLCB0aGlzLm9iamVjdCk7XG4gICAgICAgICAgICB0aGlzLnByZXZPYmplY3QgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmFjdGlvbkNhdGVnb3J5KSkge1xuICAgICAgICAgICAgdGhpcy5iaW5kaW5nc01hcC5zZXQoJ2FjdGlvbkNhdGVnb3J5JywgdGhpcy5hY3Rpb25DYXRlZ29yeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmFjdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ3NNYXAuc2V0KCdhY3Rpb24nLCB0aGlzLmFjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmZpZWxkKSkge1xuICAgICAgICAgICAgdGhpcy5iaW5kaW5nc01hcC5zZXQoJ2ZpZWxkJywgdGhpcy5maWVsZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFNpbmNlIHdlIGFyZSBnb2luZyB0aHJ1IHRoZSBlbGVtZW50JyBhdHRyaWJ1dGVzIHdlIHdhbnQgdG8gc2tpcCBhbnl0aGluZyB0aGF0IGhhcyBub3RoaWduXG4gICAgICogdG8gZG8gd2l0aCB1cy5cbiAgICAgKlxuICAgICAqL1xuICAgIHByaXZhdGUgaWdub3JlQmluZGluZyhhdHRyOiBBdHRyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIElNUExJQ0lUX1BST1BFUlRJRVMuaW5kZXhPZihhdHRyLm5hbWUpICE9PSAtMSB8fFxuICAgICAgICAgICAgU3RyaW5nV3JhcHBlci5jb250YWlucyhhdHRyLm5hbWUsICdfbmcnKSB8fFxuICAgICAgICAgICAgU3RyaW5nV3JhcHBlci5jb250YWlucyhhdHRyLm5hbWUsICduZy0nKSB8fFxuICAgICAgICAgICAgU3RyaW5nV3JhcHBlci5jb250YWlucyhhdHRyLm5hbWUsICcoJykgfHxcbiAgICAgICAgICAgIChpc0JsYW5rKGF0dHIudmFsdWUpIHx8IGF0dHIudmFsdWUubGVuZ3RoID09PSAwKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIElmIG9iamVjdCBpcyBjaGFuZ2VkIHdlIG5lZWQgdG8gYWxzbyB1cGRhdGUgb3VyIGFuZ3VsYXIgbW9kZWwgdG8gcmVmbGVjdCB1c2VyIGNoYW5nZXMuIEFsbFxuICAgICAqIGNoYW5nZXMgYW5kIHVwZGF0ZXMgaW4gbWV0YXVpIHVzZSBvYmplY3QgcmVmZXJlbmNlc1xuICAgICAqL1xuICAgIHByaXZhdGUgdXBkYXRlTW9kZWwoKVxuICAgIHtcbiAgICAgICAgbGV0IGZpZWxkcyA9IE9iamVjdC5rZXlzKHRoaXMub2JqZWN0KTtcbiAgICAgICAgZmllbGRzLmZvckVhY2goKGZpZWxkOiBzdHJpbmcpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjb250cm9sOiBGb3JtQ29udHJvbCA9IDxGb3JtQ29udHJvbD4gdGhpcy5mb3JtR3JvdXAuZ2V0KGZpZWxkKTtcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQoY29udHJvbCkpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sLnBhdGNoVmFsdWUodGhpcy5vYmplY3RbZmllbGRdLCB7b25seVNlbGY6IGZhbHNlLCBlbWl0RXZlbnQ6IHRydWV9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wcmV2T2JqZWN0ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vYmplY3QpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBfaGFzT2JqZWN0KCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5hY3RpdmVDb250ZXh0KCk7XG4gICAgICAgIGlmIChpc1ByZXNlbnQoY29udGV4dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpc1ByZXNlbnQoKDxVSUNvbnRleHQ+IGNvbnRleHQpLm9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuXG4vKipcbiAqXG4gKiBEZWZpbmVzIGZvcm1hdCBmb3IgdGhlIGJyb2FkY2FzdGVkIGFjdGlvbiBldmVudC4gTWV0YVVJIGNhbiBhbHNvIGV4ZWN1dGUgYWN0aW9ucyB3aGljaCBuZWVkcyB0b1xuICogYmUgaGFuZGxlZCBieSBhcHBsaWNhdGlvbiBvciBhY3R1YWwgY29tcG9uZW50IHVzaW5nIHRoaXMgbS1jb250ZXh0LlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIE1ldGFVSUFjdGlvbkV2ZW50XG57XG5cbiAgICBjb25zdHJ1Y3RvcigvKipcbiAgICAgICAgICAgICAgICAgKiBXaGF0IGNvbXBvbmVudCB0cmlnZXJlZCBhY3Rpb25cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwdWJsaWMgY29tcG9uZW50OiBhbnksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogTmFtZSBvZiB0aGUgYWN0aW9uLiBVc3VhbGx5IG5hbWUgb2YgdGhlIEBPdXRwdXQgb2YgYWN0dWFsIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHB1YmxpYyBldmVudE5hbWU6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBBY3Rpb25zIG9yIGV2ZW50IHRoYXQgYXJlIGJyb2FkY2FzdGVkIGNhbiBiZSB3cmFwcGVkIHdpdGggQGFjdGlvbiBvciBAbGF5b3V0XG4gICAgICAgICAgICAgICAgICogd2hpY2ggaGFzIGl0cyBuYW1lLiBXZSB3YW50IHRvIGFsc28gc2VuZCBvdXQgdGhpcyBuYW1lIHRvIHRoZSBhcHBsaWNhdGlvbiB0b1xuICAgICAgICAgICAgICAgICAqIGtub3cgd2hhdCBtZXRhdWkgYWN0aW9uIG9yIGxheW91dCB0cmlnZ2VyZWQgdGhpc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHB1YmxpYyBjbnhOYW1lOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQW55IGRhdGEgdGhhdCB5b3UgY2FuIHBhc3NcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwdWJsaWMgZGF0YTogYW55KVxuICAgIHtcblxuICAgIH1cbn1cblxuXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKlxuICovXG5pbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Rm9ybXNNb2R1bGUsIFJlYWN0aXZlRm9ybXNNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtNZXRhQ29udGV4dENvbXBvbmVudH0gZnJvbSAnLi9tZXRhLWNvbnRleHQvbWV0YS1jb250ZXh0LmNvbXBvbmVudCc7XG5cbkBOZ01vZHVsZSh7XG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIE1ldGFDb250ZXh0Q29tcG9uZW50XG4gICAgXSxcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGUsXG4gICAgICAgIFJlYWN0aXZlRm9ybXNNb2R1bGVcbiAgICBdLFxuICAgIGVudHJ5Q29tcG9uZW50czogW1xuICAgICAgICBNZXRhQ29udGV4dENvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBNZXRhQ29udGV4dENvbXBvbmVudCxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGVcbiAgICBdLFxuICAgIHByb3ZpZGVyczogW11cbn0pXG5leHBvcnQgY2xhc3MgQVdNZXRhQ29yZU1vZHVsZVxue1xufVxuXG5cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKi9cbmltcG9ydCB7SW5qZWN0YWJsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2lzQXJyYXksIGlzQmxhbmssIGlzUHJlc2VudCwgaXNTdHJpbmdNYXAsIExpc3RXcmFwcGVyLCBNYXBXcmFwcGVyfSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7TG9jYWxpemVkU3RyaW5nLCBVSU1ldGF9IGZyb20gJy4vdWltZXRhJztcbmltcG9ydCB7UnVsZSwgU2VsZWN0b3J9IGZyb20gJy4vcnVsZSc7XG5pbXBvcnQge0pzb25SdWxlfSBmcm9tICcuL2pzb24tcnVsZSc7XG5pbXBvcnQge01ldGEsIE92ZXJyaWRlVmFsdWV9IGZyb20gJy4vbWV0YSc7XG5pbXBvcnQge1xuICAgIENvbnRleHRGaWVsZFBhdGgsXG4gICAgRXhwcixcbiAgICBTdGF0aWNhbGx5UmVzb2x2YWJsZVdyYXBwZXIsXG4gICAgU3RhdGljRHluYW1pY1dyYXBwZXJcbn0gZnJvbSAnLi9wcm9wZXJ0eS12YWx1ZSc7XG5cblxudHlwZSBEeW5hbWljVmFsdWVUeXBlID0gJ0V4cHInIHwgJ1NEVycgfCAnQ0ZQJyB8ICdPVicgfCAnaTE4bic7XG5cblxuZXhwb3J0IGludGVyZmFjZSBSdWxlTG9hZGVyXG57XG4gICAgbG9hZFJ1bGVzIChtZXRhOiBNZXRhLCBzb3VyY2U6IGFueSwgbW9kdWxlOiBzdHJpbmcsIG9uUnVsZTogKHJ1bGU6IFJ1bGUpID0+IHZvaWQpOiB2b2lkO1xufVxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUnVsZUxvYWRlclNlcnZpY2UgaW1wbGVtZW50cyBSdWxlTG9hZGVyXG57XG5cbiAgICBwcml2YXRlIF91aU1ldGE6IFVJTWV0YTtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgfVxuXG5cbiAgICBnZXQgdWlNZXRhKCk6IFVJTWV0YVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VpTWV0YTtcbiAgICB9XG5cbiAgICBzZXQgdWlNZXRhKHZhbHVlOiBVSU1ldGEpXG4gICAge1xuICAgICAgICB0aGlzLl91aU1ldGEgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBsb2FkUnVsZXMobWV0YTogTWV0YSwgc291cmNlOiBhbnksIG1vZHVsZTogc3RyaW5nLCBvblJ1bGU6IChydWxlOiBSdWxlKSA9PiB2b2lkKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdWlNZXRhID0gPFVJTWV0YT5tZXRhO1xuICAgICAgICBzb3VyY2UuZm9yRWFjaCgodmFsOiBhbnksIGluZGV4OiBhbnkpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBydWxlID0gdGhpcy5yZWFkUnVsZSh2YWwsIG1vZHVsZSk7XG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KG9uUnVsZSkpIHtcbiAgICAgICAgICAgICAgICBvblJ1bGUocnVsZSk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgIH1cblxuICAgIGxvYWRSdWxlc1dpdGhSZXR1cm4oc291cmNlOiBhbnksIG1vZHVsZTogc3RyaW5nKTogQXJyYXk8UnVsZT5cbiAgICB7XG5cbiAgICAgICAgbGV0IHJ1bGVzOiBBcnJheTxSdWxlPiA9IG5ldyBBcnJheTxSdWxlPigpO1xuICAgICAgICBzb3VyY2UuZm9yRWFjaCgodmFsOiBhbnksIGluZGV4OiBhbnkpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBydWxlID0gdGhpcy5yZWFkUnVsZSh2YWwsIG1vZHVsZSk7XG4gICAgICAgICAgICBydWxlcy5wdXNoKHJ1bGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcnVsZXM7XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYWRSdWxlKGpzb25SdWxlOiBKc29uUnVsZSwgbW9kdWxlOiBzdHJpbmcpOiBSdWxlXG4gICAge1xuXG4gICAgICAgIGxldCBzZWxlY3RvcnM6IEFycmF5PFNlbGVjdG9yPiA9IG5ldyBBcnJheTxTZWxlY3Rvcj4oKTtcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBqc29uUnVsZS5fc2VsZWN0b3JzKSB7XG5cbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQoaXRlbS5fdmFsdWUpICYmIGl0ZW0uX3ZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3QgJiYgT2JqZWN0LmtleXMoXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uX3ZhbHVlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBpdGVtLl92YWx1ZSA9IE1ldGEuTnVsbE1hcmtlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHNlbGVjdG9yID0gbmV3IFNlbGVjdG9yKGl0ZW0uX2tleSwgaXRlbS5fdmFsdWUsIGl0ZW0uX2lzRGVjbCk7XG4gICAgICAgICAgICBzZWxlY3RvcnMucHVzaChzZWxlY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByb3BlcnRpZXMgPSBNYXBXcmFwcGVyLmNyZWF0ZUZyb21TdHJpbmdNYXBXaXRoUmVzb2x2ZTxhbnk+KGpzb25SdWxlLl9wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgKGssIHYpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nTWFwKHYpICYmXG4gICAgICAgICAgICAgICAgICAgIGlzUHJlc2VudCh2Wyd0J10pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc292ZVZhbHVlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdlsndCddLCB2LFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nTWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgdikgJiYgIWlzQXJyYXkoXG4gICAgICAgICAgICAgICAgICAgICAgICB2KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBoYXZlIHNvbWVcbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXIgc3ViIGxldmVsXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAvLyBsaXRlcmFsIC0gbGV0c1xuICAgICAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50byBNYXAuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXBXcmFwcGVyLmNyZWF0ZUZyb21TdHJpbmdNYXBXaXRoUmVzb2x2ZTxhbnk+KFxuICAgICAgICAgICAgICAgICAgICAgICAgdiwgKGtleSwgdmFsKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb3ZlVmFsdWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbFsndCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZSkpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHYpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCBjb252ZXJ0IHdpdGhcbiAgICAgICAgICAgICAgICAgICAgLy8gdHlwaW5ncyBhcyB3ZWxsXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMaXN0V3JhcHBlci5jbG9uZTxzdHJpbmc+KFxuICAgICAgICAgICAgICAgICAgICAgICAgdik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldCBwcm9wcyA9IHByb3BlcnRpZXMuc2l6ZSA9PT0gMCA/IHVuZGVmaW5lZCA6IHByb3BlcnRpZXM7XG4gICAgICAgIGxldCBydWxlOiBSdWxlID0gbmV3IFJ1bGUoc2VsZWN0b3JzLCBwcm9wcywganNvblJ1bGUuX3JhbmspO1xuXG4gICAgICAgIHJldHVybiBydWxlO1xuICAgIH1cblxuXG4gICAgLy8gJ0V4cHInIHwgJ1NEVycgfCAnQ0ZQJyB8ICdPVicgfCAnaTE4bic7XG4gICAgcHJpdmF0ZSByZXNvdmVWYWx1ZSh0eXBlOiBEeW5hbWljVmFsdWVUeXBlLCB2YWx1ZTogYW55LCBtb2R1bGU6IHN0cmluZyk6IGFueVxuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlID09PSAnRXhwcicpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXhwcih2YWx1ZVsndiddKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnU0RXJykge1xuICAgICAgICAgICAgbGV0IGV4cHIgPSBuZXcgRXhwcih2YWx1ZVsndiddKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RhdGljRHluYW1pY1dyYXBwZXIobmV3IFN0YXRpY2FsbHlSZXNvbHZhYmxlV3JhcHBlcihleHByKSk7XG5cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnQ0ZQJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb250ZXh0RmllbGRQYXRoKHZhbHVlWyd2J10pO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ09WJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBPdmVycmlkZVZhbHVlKHZhbHVlWyd2J10pO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2kxOG4nICYmIHZhbHVlWyd2J11bJ2tleSddKSB7XG4gICAgICAgICAgICBsZXQgbG9jS2V5ID0gdmFsdWVbJ3YnXVsna2V5J107XG5cbiAgICAgICAgICAgIHJldHVybiBpc1ByZXNlbnQodGhpcy5fdWlNZXRhKSA/IHRoaXMuX3VpTWV0YS5jcmVhdGVMb2NhbGl6ZWRTdHJpbmcobG9jS2V5LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVsndiddWydkZWZWYWwnXSlcbiAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgbmV3IExvY2FsaXplZFN0cmluZyhudWxsLCBtb2R1bGUsIGxvY0tleSwgdmFsdWVbJ3YnXVsnZGVmVmFsJ10pO1xuXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuXG4gICAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogQmFzZWQgb24gb3JpZ2luYWwgd29yazogTWV0YVVJOiBDcmFpZyBGZWRlcmlnaGkgKDIwMDgpXG4gKlxuICovXG5pbXBvcnQge0NvbXBvbmVudCwgT25Jbml0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhcHAtbm8tbWV0YScsXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPGgyPk1ldGFJbmNsdWRlQ29tcG9uZW50RGlyZWN0aXZlIEVycm9yOjwvaDI+XG4gICAgICAgICAgICAgICAgTm8gY29tcG9uZW50TmFtZSBwcm9wZXJ0eSByZXNvbHZlZCBpbiBDb250ZXh0PGJyLz5cbiAgICBgXG4gICAgLFxuICAgIHN0eWxlVXJsczogWyduby1tZXRhLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTm9NZXRhQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0XG57XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgIH1cblxuICAgIG5nT25Jbml0KClcbiAgICB7XG4gICAgfVxuXG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKiBCYXNlZCBvbiBvcmlnaW5hbCB3b3JrOiBNZXRhVUk6IENyYWlnIEZlZGVyaWdoaSAoMjAwOClcbiAqXG4gKi9cbmltcG9ydCB7XG4gICAgQWZ0ZXJWaWV3SW5pdCxcbiAgICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICBDb21wb25lbnQsXG4gICAgQ29tcG9uZW50RmFjdG9yeSxcbiAgICBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgQ29tcG9uZW50UmVmLFxuICAgIERpcmVjdGl2ZSxcbiAgICBEb0NoZWNrLFxuICAgIEV2ZW50RW1pdHRlcixcbiAgICBmb3J3YXJkUmVmLFxuICAgIEluamVjdCxcbiAgICBJbnB1dCxcbiAgICBUeXBlLFxuICAgIFZpZXdDb250YWluZXJSZWZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICAgIENvbXBvbmVudFJlZmVyZW5jZSxcbiAgICBDb21wb25lbnRSZWdpc3RyeSxcbiAgICBEb21VdGlsc1NlcnZpY2UsXG4gICAgSW5jbHVkZUNvbXBvbmVudERpcmVjdGl2ZVxufSBmcm9tICdAYXJpYmF1aS9jb21wb25lbnRzJztcbmltcG9ydCB7XG4gICAgRW52aXJvbm1lbnQsXG4gICAgZXF1YWxzLFxuICAgIGlzQmxhbmssXG4gICAgaXNQcmVzZW50LFxuICAgIGlzU3RyaW5nLFxuICAgIE1hcFdyYXBwZXIsXG4gICAgbm9uUHJpdmF0ZVByZWZpeCxcbiAgICBTdHJpbmdXcmFwcGVyXG59IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtOb01ldGFDb21wb25lbnR9IGZyb20gJy4vbm8tbWV0YS9uby1tZXRhLmNvbXBvbmVudCc7XG5pbXBvcnQge09iamVjdE1ldGF9IGZyb20gJy4uL2NvcmUvb2JqZWN0LW1ldGEnO1xuaW1wb3J0IHtDb250ZXh0fSBmcm9tICcuLi9jb3JlL2NvbnRleHQnO1xuaW1wb3J0IHtVSU1ldGF9IGZyb20gJy4uL2NvcmUvdWltZXRhJztcbmltcG9ydCB7Q29udGV4dEZpZWxkUGF0aCwgRHluYW1pY1Byb3BlcnR5VmFsdWUsIFZhbHVlQ29udmVydGVyfSBmcm9tICcuLi9jb3JlL3Byb3BlcnR5LXZhbHVlJztcbmltcG9ydCB7TWV0YUNvbnRleHRDb21wb25lbnQsIE1ldGFVSUFjdGlvbkV2ZW50fSBmcm9tICcuLi9jb3JlL21ldGEtY29udGV4dC9tZXRhLWNvbnRleHQuY29tcG9uZW50JztcblxuXG4vKipcbiAqICBNZXRhSW5jbHVkZUNvbXBvbmVudERpcmVjdGl2ZSBpcyAoYWxvbmcgd2l0aCBNZXRhQ29udGV4dCkgdGhlIGtleSBlbGVtZW50IGZvciBiaW5kaW5nIE1ldGFVSVxuICogaW50byBBbmd1bGFySnMgdXNlciBpbnRlcmZhY2VzLiBZb3UgY2FuIHRoaW5rIG9mIGl0IHN1Y2ggR0xVRS5cbiAqXG4gKiAgTWV0YUluY2x1ZGVDb21wb25lbnREaXJlY3RpdmUgZHluYW1pY2FsbHkgc3dpdGNoZXMgaW4gYSBBbmd1bGFyJ3MgY29tcG9uZW50IGJhc2VkIG9uIHRoZVxuICogY3VycmVudCBNZXRhQ29udGV4dCdzXG4gKiAnY29tcG9uZW50JyBwcm9wZXJ0eSBhbmQgc2V0cyBpdHMgYmluZGluZ3MgZnJvbSB0aGUgJ2JpbmRpbmdzJyBwcm9wZXJ0eS4gIFRoaXMgYWxvbmUgZW5hYmxlc1xuICogYWxtb3N0IGFueSBleGlzdGluZyBBbmd1bGFyJ3Mgd2lkZ2V0IHRvIGJlIHNwZWNpZmllZCBmb3IgdXNlIGZvciBhIHBhcnRpY3VsYXIgZmllbGQgb3IgbGF5b3V0XG4gKiB1c2luZyBydWxlcyAtLSB3aXRob3V0IGFueSBhZGRpdGlvbmFsIGdsdWUgY29kZSAuXG4gKlxuICogIGNvbXBvbmVudCB1c2luZyAnd3JhcHBlckNvbXBvbmVudCcgYW5kICd3cmFwcGVyQmluZGluZ3MnLCBiaW5kaW5nIGNvbXBvbmVudCBjb250ZW50IHVzaW5nIHRoZVxuICogYmluZGluZ3MgJ25nY29udGVudCcsIG5nY29udGVudExheW91dCBhbmQgJ25nY29udGVudGVsRWxlbWVudCcsIGFuZCBldmVudCBiaW5kaW5nIG5hbWVkIENvbnRlbnRcbiAqIHRlbXBsYXRlcyB1c2luZyBhblxuICogJ2F3Y29udGVudExheW91dHMnIG1hcCBiaW5kaW5nLiBXaXRob3V0IHRoaXMgd2Ugd2lsbCBub3QgYmUgYWJsZSB0byB1c2UgY29tcGxleCBsYXlvdXRzLlxuICpcbiAqL1xuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdtLWluY2x1ZGUtY29tcG9uZW50J1xufSlcbmV4cG9ydCBjbGFzcyBNZXRhSW5jbHVkZUNvbXBvbmVudERpcmVjdGl2ZSBleHRlbmRzIEluY2x1ZGVDb21wb25lbnREaXJlY3RpdmUgaW1wbGVtZW50cyBEb0NoZWNrLFxuICAgIEFmdGVyVmlld0luaXQge1xuXG4gICAgLyoqXG4gICAgICogSnVzdCBhIGNvbnN0YW50IHVzZSB0byBhY2Nlc3MgRW52aXJvbm1lbnQgd2hlcmUgd2Ugc3RvcmUgY3VycmVudCBjb250ZXh0IGZvciBjdXJyZW50IHJlbmRlclxuICAgICAqIGxpZmVjeWNsZVxuICAgICAqXG4gICAgICovXG4gICAgc3RhdGljIHJlYWRvbmx5IEZvcm1hdHRlckJpbmRpbmcgPSAnZm9ybWF0dGVyJztcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBJbiBtZXRhVSB3ZSBjYW4gYWxzbyBpbnNlcnQgaW50byB0aGUgZWxlbWVudCBub3Qgb25seSBuZ2NvbnRlbnQgYnV0IG5ldyBpbnN0YW50aWF0ZWRcbiAgICAgKiBjb21wb25lbnQgd2hpY2ggaXMgZGVmaW5lZCBieSBsYXlvdXRcbiAgICAgKlxuICAgICAqYGBgXG4gICAgICogZmllbGQgdHJhaXQ9T2JqZWN0RGV0YWlsIHtcbiAgICAgKiBcdGVkaXRhYmxlPWZhbHNlIHtcbiAgICAgKiBcdFx0Y29tcG9uZW50OiBIb3ZlckNhcmRDb21wb25uZXQ7XG4gICAgICogXHRcdGJpbmRpbmdzOiB7XG4gICAgICogXHRcdFx0bmdjb250ZW50TGF5b3V0OiBDb250ZW50O1xuICAgICAqIFx0XHRcdGxpbmtUaXRsZToke3Byb3BlcnRpZXMuZ2V0KFwibGFiZWxcIil9O1xuICAgICAqIFx0XHR9XG4gICAgICogXHR9XG4gICAgICpcbiAgICAgKiAgICBAbGF5b3V0PUNvbnRlbnQge1xuICAgICAqIFx0XHRjb21wb25lbnQ6IE1ldGFDb250ZXh0T2JqZWN0O1xuICAgICAqIFx0XHRiaW5kaW5nczoge1xuICAgICAqIFx0XHRcdG9iamVjdDogJHZhbHVlO1xuICAgICAqIFx0XHRcdGxheW91dDpEZXRhaWxMYXlvdXRcbiAgICAgKiBcdFx0XHRvcGVyYXRpb246XCJ2aWV3XCI7XG4gICAgICogXHRcdH1cbiAgICAgKiBcdH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgTmdDb250ZW50TGF5b3V0ID0gJ25nY29udGVudExheW91dCc7XG5cblxuICAgIC8qKlxuICAgICAqIEkgY291bGQgbm90IGZpbmQgYW55IHJlYWxpYWJsZSB3YXkgaG93IHRvIGFjY2VzcyBwYXJlbnQgdmlldy4gRXZlbiBmb3J3YXJkUmVmIHVwIHRvIGNlcnRhaW5cbiAgICAgKiBwb2ludCB3b3JrZWQgYnV0IGhhZCB0byBnZXQgYXdheSBmcm9tIHRoaXMgYXBwcm9hY2ggYXMgaXQgZmFpbHMgZm9yIG15IHVzZWNhc2Ugd2hlbiB1cGRhdGluZ1xuICAgICAqIGNvbnRleHQgYW5kIHB1c2hpbmcgbmV3IHByb3BlcnRpZXMgdG8gdGhlIHN0YWNrLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgY29udGV4dDogTWV0YUNvbnRleHRDb21wb25lbnQ7XG5cblxuICAgIGNvbnN0cnVjdG9yKEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBNZXRhQ29udGV4dENvbXBvbmVudCkpXG4gICAgICAgICAgICAgICAgcHVibGljIG1ldGFDb250ZXh0OiBNZXRhQ29udGV4dENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBwdWJsaWMgdmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZixcbiAgICAgICAgICAgICAgICBwdWJsaWMgZmFjdG9yeVJlc29sdmVyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgICAgICAgICAgICAgcHVibGljIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgcHVibGljIGNkOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICAgICAgICAgICAgICBwdWJsaWMgY29tcFJlZ2lzdHJ5OiBDb21wb25lbnRSZWdpc3RyeSxcbiAgICAgICAgICAgICAgICBwdWJsaWMgZG9tVXRpbHM6IERvbVV0aWxzU2VydmljZSkge1xuICAgICAgICBzdXBlcih2aWV3Q29udGFpbmVyLCBmYWN0b3J5UmVzb2x2ZXIsIGNkLCBjb21wUmVnaXN0cnkpO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyc3Qgd2Ugc2ltcGx5IHJlbmRlciB0aGUgYSBjb21wb25lbnQgaW4gdGhlIG5nT25Jbml0KCkgYW5kIHRoZW4gZXZlcnkgdGltZSBzb21ldGhpbmdcbiAgICAgKiBjaGFuZ2VzLlxuICAgICAqL1xuICAgIG5nRG9DaGVjaygpOiB2b2lkIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ01ldGFJbmNsdWRlKG5nRG9DaGVjayk6JywgdGhpcy5uYW1lKTtcblxuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMubWV0YUNvbnRleHQubXlDb250ZXh0KCk7XG4gICAgICAgIGlmIChpc0JsYW5rKGNvbnRleHQpIHx8IGlzQmxhbmsodGhpcy5jdXJyZW50Q29tcG9uZW50KSkge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ05vIGNvbnRleHQvIGNvbXBvbmVudCBmb3IgJyArIHRoaXMubmFtZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmV3Q29tcG9uZW50ID0gY29udGV4dC5wcm9wZXJ0eUZvcktleSgnY29tcG9uZW50Jyk7XG4gICAgICAgIGlmIChpc1ByZXNlbnQobmV3Q29tcG9uZW50KSAmJiBpc1ByZXNlbnQodGhpcy5uYW1lKSAmJiAodGhpcy5uYW1lICE9PSBuZXdDb21wb25lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb250YWluZXIuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuZG9SZW5kZXJDb21wb25lbnQoKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdNZXRhSW5jbHVkZShuZ0RvQ2hlY2stIHJlcmVuZGVyICk6JywgdGhpcy5uYW1lKTtcblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVXcmFwcGVyRWxlbWVudElmQW55KCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNvbnRlbnRFbGVtZW50SWZBbnkoKTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgLy8gd2UgbWlnaHQgbm90IHNraXAgY29tcG9uZW50IGluc3RhbnRpYXRpb24gYnV0IHdlIHN0aWxsIG5lZWQgdG8gdXBkYXRlIGJpbmRpbmdzXG4gICAgICAgICAgICAvLyBhcyBwcm9wZXJ0aWVzIGNvdWxkIGNoYW5nZVxuICAgICAgICAgICAgbGV0IGVkaXRhYmxlID0gY29udGV4dC5wcm9wZXJ0eUZvcktleShPYmplY3RNZXRhLktleUVkaXRhYmxlKTtcbiAgICAgICAgICAgIGlmIChpc0JsYW5rKGVkaXRhYmxlKSkge1xuICAgICAgICAgICAgICAgIGVkaXRhYmxlID0gY29udGV4dC5wcm9wZXJ0eUZvcktleShVSU1ldGEuS2V5RWRpdGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbWV0YUJpbmRpbmdzID0gY29udGV4dC5wcm9wZXJ0eUZvcktleShVSU1ldGEuS2V5QmluZGluZ3MpO1xuICAgICAgICAgICAgbGV0IHR5cGUgPSBjb250ZXh0LnByb3BlcnR5Rm9yS2V5KE9iamVjdE1ldGEuS2V5VHlwZSk7XG4gICAgICAgICAgICBsZXQgaW5wdXRzOiBzdHJpbmdbXSA9IHRoaXMuY29tcG9uZW50UmVmZXJlbmNlKCkubWV0YWRhdGEuaW5wdXRzO1xuXG4gICAgICAgICAgICAvLyByZS1hcHBseSBJbnB1dHNcbiAgICAgICAgICAgIC8vIG1heWJlIHdlIHNob3VsZCBkaWZmIHByb3BlcnRpZXMgYW5kIG9ubHkgaWYgdGhleSBjaGFuZ2VkIHJlLWFwcGx5XG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KG1ldGFCaW5kaW5ncykgJiYgaXNQcmVzZW50KGlucHV0cykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5SW5wdXRzKHRoaXMuY3VycmVudENvbXBvbmVudCwgdHlwZSwgbWV0YUJpbmRpbmdzLCBpbnB1dHMsIGVkaXRhYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLypcbiAgICAgKiBSZXRyaWV2ZXMgY29tcG9uZW50IE5hbWUgZnJvbSB0aGUgQ29udGV4dC5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgcmVzb2x2ZUNvbXBvbmVudFR5cGUoKTogVHlwZTxhbnk+IHtcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5tZXRhQ29udGV4dC5teUNvbnRleHQoKS5wcm9wZXJ0eUZvcktleShVSU1ldGEuS2V5Q29tcG9uZW50TmFtZSk7XG5cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5uYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5vTWV0YUNvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIucmVzb2x2ZUNvbXBvbmVudFR5cGUoKTtcbiAgICB9XG5cblxuICAgIC8qXG4gICAgICogSWYgdGhlcmUgaXMgYSBORyBjb250ZW50IGFzIHBhcnQgb2YgdGhlIGJpbmRpbmdzIGFwcGx5IGl0IGFuZCByZW1vdmUgaXQgZnJvbSB0aGUgbGlzdC4gSW5cbiAgICAgKiB0aGUgTWV0YVVJIHdvcmxkIGl0IGNhbiBhcHBlYXIgaWYgd2Ugd2FudCB0byBpbnNlcnQgYSB0ZXh0IGNvbnRlbnQgaW50byB0aGUgZWxlbWVudDpcbiAgICAgKlxuICAgICAqXG4gICAgICogIHRyYWl0PXRvTWFueUxpbmsge1xuICAgICAqICAgICAgICAgY29tcG9uZW50OkFXSHlwZXJsaW5rO1xuICAgICAqICAgICAgICAgYmluZGluZ3M6IHtcbiAgICAgKiAgICAgICAgICAgICBhY3Rpb246ICR7XG4gICAgICogICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJvYmplY3RcIiwgdmFsdWUpO1xuICAgICAqICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwiYWN0aW9uQ2F0ZWdvcnlcIiwgXCJHZW5lcmFsXCIpO1xuICAgICAqICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwiYWN0aW9uXCIsIFwiSW5zcGVjdFwiKTtcbiAgICAgKiAgICAgICAgICAgICAgICAgbWV0YS5maXJlQWN0aW9uKHRoaXMsIHRydWUpXG4gICAgICogICAgICAgICAgICAgfTtcbiAgICAgKiAgICAgICAgICAgICBhd2NvbnRlbnQ6IFwiQ2xpY2sgTWVcIjtcbiAgICAgKiAgICAgICAgIH1cbiAgICAgKiAgICAgfVxuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgbmdDb250ZW50KCk6IHN0cmluZyB7XG4gICAgICAgIGxldCBjbnRWYWx1ZTogYW55O1xuICAgICAgICBsZXQgYmluZGluZ3MgPSB0aGlzLm1ldGFDb250ZXh0Lm15Q29udGV4dCgpLnByb3BlcnR5Rm9yS2V5KFVJTWV0YS5LZXlCaW5kaW5ncyk7XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudChiaW5kaW5ncykgJiZcbiAgICAgICAgICAgIGlzUHJlc2VudChjbnRWYWx1ZSA9IGJpbmRpbmdzLmdldChJbmNsdWRlQ29tcG9uZW50RGlyZWN0aXZlLk5nQ29udGVudCkpKSB7XG4gICAgICAgICAgICBjbnRWYWx1ZSA9IGlzU3RyaW5nKGNudFZhbHVlKSA/IGNudFZhbHVlIDpcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFDb250ZXh0Lm15Q29udGV4dCgpLnJlc29sdmVWYWx1ZShjbnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNudFZhbHVlO1xuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIG5nQ29udGVudEVsZW1lbnQoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGNudFZhbHVlOiBhbnk7XG4gICAgICAgIGxldCBiaW5kaW5ncyA9IHRoaXMubWV0YUNvbnRleHQubXlDb250ZXh0KCkucHJvcGVydHlGb3JLZXkoVUlNZXRhLktleUJpbmRpbmdzKTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KGJpbmRpbmdzKSAmJlxuICAgICAgICAgICAgaXNQcmVzZW50KGNudFZhbHVlID0gYmluZGluZ3MuZ2V0KEluY2x1ZGVDb21wb25lbnREaXJlY3RpdmUuTmdDb250ZW50RWxlbWVudCkpKSB7XG4gICAgICAgICAgICBjbnRWYWx1ZSA9IGlzU3RyaW5nKGNudFZhbHVlKSA/IGNudFZhbHVlIDpcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFDb250ZXh0Lm15Q29udGV4dCgpLnJlc29sdmVWYWx1ZShjbnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNudFZhbHVlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50IGN1c3RvbSBiZWhhdmlvciBvZiBhZGRpbmcgbmdjb250ZW50TGF5b3V0IGRlc2NyaWJlZCBhYm92ZSAod2hlcmUgdGhlIGNvbnN0YW50XG4gICAgICogaXMgZGVmaW5lZClcbiAgICAgKlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjcmVhdGVDb250ZW50RWxlbWVudElmQW55KCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgZGV0ZWN0Q2hhbmdlcyA9IGZhbHNlO1xuICAgICAgICBsZXQgYmluZGluZ3MgPSB0aGlzLm1ldGFDb250ZXh0Lm15Q29udGV4dCgpLnByb3BlcnR5Rm9yS2V5KFVJTWV0YS5LZXlCaW5kaW5ncyk7XG5cblxuICAgICAgICBpZiAoaXNQcmVzZW50KGJpbmRpbmdzKSAmJiBiaW5kaW5ncy5oYXMoTWV0YUluY2x1ZGVDb21wb25lbnREaXJlY3RpdmUuTmdDb250ZW50TGF5b3V0KSkge1xuXG4gICAgICAgICAgICBsZXQgbGF5b3V0TmFtZSA9IGJpbmRpbmdzLmdldChNZXRhSW5jbHVkZUNvbXBvbmVudERpcmVjdGl2ZS5OZ0NvbnRlbnRMYXlvdXQpO1xuICAgICAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLm1ldGFDb250ZXh0Lm15Q29udGV4dCgpO1xuXG4gICAgICAgICAgICBjb250ZXh0LnB1c2goKTtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0KFVJTWV0YS5LZXlMYXlvdXQsIGxheW91dE5hbWUpO1xuXG4gICAgICAgICAgICBsZXQgY29tcG9uZW50TmFtZSA9IGNvbnRleHQucHJvcGVydHlGb3JLZXkoJ2NvbXBvbmVudCcpO1xuICAgICAgICAgICAgbGV0IGNvbXBUeXBlID0gdGhpcy5jb21wUmVnaXN0cnkubmFtZVRvVHlwZS5nZXQoY29tcG9uZW50TmFtZSk7XG5cbiAgICAgICAgICAgIGxldCBjb21wb25lbnRGYWN0b3J5OiBDb21wb25lbnRGYWN0b3J5PGFueT4gPSB0aGlzLmZhY3RvcnlSZXNvbHZlclxuICAgICAgICAgICAgICAgIC5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wVHlwZSk7XG5cbiAgICAgICAgICAgIGxldCBjb21wb25lbnRNZXRhOiBDb21wb25lbnQgPSB0aGlzLnJlc29sdmVEaXJlY3RpdmUoY29tcG9uZW50RmFjdG9yeSk7XG4gICAgICAgICAgICBsZXQgbmdDb21wb25lbnQgPSB0aGlzLnZpZXdDb250YWluZXIuY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudEZhY3RvcnksIDApO1xuXG4gICAgICAgICAgICBsZXQgY1JlZmVyZW5jZTogQ29tcG9uZW50UmVmZXJlbmNlID0ge1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBjb21wb25lbnRNZXRhLFxuICAgICAgICAgICAgICAgIHJlc29sdmVkQ29tcEZhY3Rvcnk6IGNvbXBvbmVudEZhY3RvcnksXG4gICAgICAgICAgICAgICAgY29tcG9uZW50VHlwZTogY29tcFR5cGUsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50TmFtZTogY29tcG9uZW50TmFtZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5hcHBseUJpbmRpbmdzKGNSZWZlcmVuY2UsIG5nQ29tcG9uZW50LCBjb250ZXh0LnByb3BlcnR5Rm9yS2V5KFVJTWV0YS5LZXlCaW5kaW5ncyksXG4gICAgICAgICAgICAgICAgZmFsc2UpO1xuXG4gICAgICAgICAgICB0aGlzLmRvbVV0aWxzLmluc2VydEludG9QYXJlbnROZ0NvbnRlbnQodGhpcy5jdXJyZW50Q29tcG9uZW50LmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgbmdDb21wb25lbnQubG9jYXRpb24ubmF0aXZlRWxlbWVudCk7XG5cbiAgICAgICAgICAgIGNvbnRleHQucG9wKCk7XG5cbiAgICAgICAgICAgIGRldGVjdENoYW5nZXMgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGV0ZWN0Q2hhbmdlcyA9IHN1cGVyLmNyZWF0ZUNvbnRlbnRFbGVtZW50SWZBbnkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGV0ZWN0Q2hhbmdlcykge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ01ldGFJbmNsdWRlKGNyZWF0ZUNvbnRlbnRFbGVtZW50SWZBbnkpOicsIHRoaXMubmFtZSk7XG4gICAgICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZXRlY3RDaGFuZ2VzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0YSBwbGFjZVRoZUNvbXBvbmVudCBuZWVkcyB0byBhY2NvdW50IGZvciB3cmFwcGVyIGNvbXBvbmVudC4gSWYgd3JhcHBlciBjb21wb25lbnRcbiAgICAgKiBpcyBwcmVzZW50LiBJdCBuZWVkcyB0byBpbmplY3QgdGhlIHdyYXBwZXIgY29tcG9uZW50IG9uIHRoZSBwYWdlIGFuZCBhZGQgdGhpcyBjb21wb25lbnRcbiAgICAgKiBpbnNpZGUgdGhlIHdyYXBwZXIgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjcmVhdGVXcmFwcGVyRWxlbWVudElmQW55KCk6IHZvaWQge1xuICAgICAgICBsZXQgd3JhcHBlck5hbWUgPSB0aGlzLm1ldGFDb250ZXh0Lm15Q29udGV4dCgpLnByb3BlcnR5Rm9yS2V5KFVJTWV0YS5LZXlXcmFwcGVyQ29tcG9uZW50KTtcbiAgICAgICAgaWYgKGlzQmxhbmsod3JhcHBlck5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3cgd2UgaGF2ZSB3cmFwcGVyQ29tcG9uZW50LiBXZSBkbyB0aGUgZm9sbG93aW5nOlxuICAgICAgICAvLyAxLiAgQ3JlYXRlIHdyYXBwZXIgY29tcG9uZW50LlxuICAgICAgICBsZXQgd3JhcHBlclR5cGUgPSB0aGlzLmNvbXBSZWdpc3RyeS5uYW1lVG9UeXBlLmdldCh3cmFwcGVyTmFtZSk7XG5cbiAgICAgICAgbGV0IGNvbXBvbmVudEZhY3Rvcnk6IENvbXBvbmVudEZhY3Rvcnk8YW55PiA9IHRoaXMuZmFjdG9yeVJlc29sdmVyXG4gICAgICAgICAgICAucmVzb2x2ZUNvbXBvbmVudEZhY3Rvcnkod3JhcHBlclR5cGUpO1xuICAgICAgICBsZXQgY29tcG9uZW50TWV0YTogQ29tcG9uZW50ID0gdGhpcy5yZXNvbHZlRGlyZWN0aXZlKHdyYXBwZXJUeXBlKTtcblxuICAgICAgICBsZXQgd3JhcHBlckNvbXBvbmVudCA9IHRoaXMudmlld0NvbnRhaW5lci5jcmVhdGVDb21wb25lbnQoY29tcG9uZW50RmFjdG9yeSk7XG5cbiAgICAgICAgLy8gMi4gQWRkIHdyYXBwZXIgYmluZGluZ3MgdG8gd3JhcHBlciBjb21wb25lbnQuXG4gICAgICAgIGxldCB3cmFwcGVyQmluZGluZ3MgPSB0aGlzLm1ldGFDb250ZXh0Lm15Q29udGV4dCgpLnByb3BlcnR5Rm9yS2V5KFVJTWV0YS5LZXlXcmFwcGVyQmluZGluZyk7XG4gICAgICAgICg8YW55PiB3cmFwcGVyQ29tcG9uZW50Lmluc3RhbmNlKVsnYmluZGluZ3MnXSA9IHdyYXBwZXJCaW5kaW5ncztcblxuICAgICAgICAvLyAzLiBBcHBseSB0aGUgYmluZGluZ3MuIEdldCB0aGUgd3JhcHBlciBtZXRhZGF0YSwgbG9vayB0aHJvdWdoIGl0J3MgaW5wdXQgLSBvdXRwdXRcbiAgICAgICAgLy8gYmluZGluZ3MuIGFuZCBhcHBseSB0aGUgd3JhcHBlckJpbmRpbmdzIHRvIHRoZXNlIGJpbmRpbmdzLlxuICAgICAgICBsZXQgd3JhcHBlckNvbXBvbmVudFJlZjogQ29tcG9uZW50UmVmZXJlbmNlID0ge1xuICAgICAgICAgICAgbWV0YWRhdGE6IGNvbXBvbmVudE1ldGEsXG4gICAgICAgICAgICByZXNvbHZlZENvbXBGYWN0b3J5OiBjb21wb25lbnRGYWN0b3J5LFxuICAgICAgICAgICAgY29tcG9uZW50VHlwZTogd3JhcHBlclR5cGUsXG4gICAgICAgICAgICBjb21wb25lbnROYW1lOiB3cmFwcGVyTmFtZVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYXBwbHlCaW5kaW5ncyh3cmFwcGVyQ29tcG9uZW50UmVmLCB3cmFwcGVyQ29tcG9uZW50LCB3cmFwcGVyQmluZGluZ3MpO1xuICAgICAgICB0aGlzLmRvbVV0aWxzLmluc2VydEludG9QYXJlbnROZ0NvbnRlbnQod3JhcHBlckNvbXBvbmVudC5sb2NhdGlvbi5uYXRpdmVFbGVtZW50LFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29tcG9uZW50LmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQXBwbHlCaW5kaW5ncyByZWFkcyB0aGUgQElucHV0cyBmcm9tIENvbXBvbmVudE1ldGFkYXRhIGFuZCBjaGVjayBpZiB0aGVyZSBleGlzdHMgYSBiaW5kaW5nXG4gICAgICogY29taW5nIGZyb20gTWV0YVJ1bGVzLiBJZiB0aGVyZSBpcyB3ZSBhc3NpZ24gaXQgdG8gdGhlIGlucHV0LlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhcHBseUJpbmRpbmdzKGNSZWY6IENvbXBvbmVudFJlZmVyZW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IENvbXBvbmVudFJlZjxhbnk+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmdzOiBNYXA8c3RyaW5nLCBhbnk+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJVc2VNZXRhQmluZGluZ3M6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLmFwcGx5QmluZGluZ3MoY1JlZiwgY29tcG9uZW50LCBiaW5kaW5ncyk7XG4gICAgICAgIGxldCBpbnB1dHM6IHN0cmluZ1tdID0gY1JlZi5tZXRhZGF0YS5pbnB1dHM7XG4gICAgICAgIGxldCBvdXRwdXRzOiBzdHJpbmdbXSA9IGNSZWYubWV0YWRhdGEub3V0cHV0cztcblxuICAgICAgICBsZXQgbWV0YUJpbmRpbmdzID0gdGhpcy5tZXRhQ29udGV4dC5teUNvbnRleHQoKS5wcm9wZXJ0eUZvcktleShVSU1ldGEuS2V5QmluZGluZ3MpO1xuICAgICAgICBsZXQgZWRpdGFibGUgPSB0aGlzLm1ldGFDb250ZXh0Lm15Q29udGV4dCgpLnByb3BlcnR5Rm9yS2V5KE9iamVjdE1ldGEuS2V5RWRpdGFibGUpO1xuICAgICAgICBsZXQgdHlwZSA9IHRoaXMubWV0YUNvbnRleHQubXlDb250ZXh0KCkucHJvcGVydHlGb3JLZXkoT2JqZWN0TWV0YS5LZXlUeXBlKTtcblxuICAgICAgICAvLyBUaGVyZSBhcmUgY2FzZXMgd2hlcmUgd2Ugd2FudCB0byB1c2UgdGhlIGJpbmRpbmdzIHBhc3NlZCBpbnRvIHRoaXMgZnVuY3Rpb24uXG4gICAgICAgIC8vIEZvciBleGFtcGxlLCB0aGUgd3JhcHBlckJpbmRpbmdzLlxuICAgICAgICBpZiAoIWJVc2VNZXRhQmluZGluZ3MpIHtcbiAgICAgICAgICAgIG1ldGFCaW5kaW5ncyA9IGJpbmRpbmdzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQmxhbmsobWV0YUJpbmRpbmdzKSB8fCBpc0JsYW5rKGlucHV0cykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW5CaW5kaW5ncyA9IE1hcFdyYXBwZXIuY2xvbmUobWV0YUJpbmRpbmdzKTtcbiAgICAgICAgdGhpcy5hcHBseUlucHV0cyhjb21wb25lbnQsIHR5cGUsIGN1cnJlbkJpbmRpbmdzLCBpbnB1dHMsIGVkaXRhYmxlKTtcbiAgICAgICAgdGhpcy5hcHBseU91dHB1dHMoY29tcG9uZW50LCBjdXJyZW5CaW5kaW5ncywgb3V0cHV0cyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhcHBseUlucHV0cyhjb21wb25lbnQ6IENvbXBvbmVudFJlZjxhbnk+LCB0eXBlOiBhbnksIGJpbmRpbmdzOiBhbnksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dHM6IHN0cmluZ1tdLCBlZGl0YWJsZTogYW55LCBjb21wVG9CZVJlbmRlcmVkOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICAvLyBwcm9wYWdhdGUgYSBmaWVsZCB0eXBlIHRvIGJpbmRpbmdzLlxuICAgICAgICBpZiAoaXNQcmVzZW50KHR5cGUpICYmIGlzUHJlc2VudChjb21wb25lbnQuaW5zdGFuY2UuY2FuU2V0VHlwZSkgJiZcbiAgICAgICAgICAgIGNvbXBvbmVudC5pbnN0YW5jZS5jYW5TZXRUeXBlKCkpIHtcbiAgICAgICAgICAgIGJpbmRpbmdzLnNldChPYmplY3RNZXRhLktleVR5cGUsIHR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzUHJlc2VudChlZGl0YWJsZSkgJiYgaXNQcmVzZW50KGNvbXBvbmVudC5pbnN0YW5jZVsnZWRpdGFibGUnXSkpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudC5pbnN0YW5jZVsnZWRpdGFibGUnXSA9IGVkaXRhYmxlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQga2V5IG9mIGlucHV0cykge1xuICAgICAgICAgICAgbGV0IHB1YmxpY0tleSA9IG5vblByaXZhdGVQcmVmaXgoa2V5KTtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGJpbmRpbmdzLmdldChwdWJsaWNLZXkpO1xuXG4gICAgICAgICAgICAvLyBIYW5kbGUgc3BlY2lhbCBjYXNlIHdoZXJlIHdlIGRvIG5vdCBwYXNzIGV4cGxpY2l0bHkgb3IgaW5oZXJpdCBmcm9tIHBhcmVudCBASW5wdXRcbiAgICAgICAgICAgIC8vIG5hbWUgZm9yIHRoZSBjb21wb25lbnRcblxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25hbWUnICYmIGlzQmxhbmsodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLm1ldGFDb250ZXh0Lm15Q29udGV4dCgpLnByb3BlcnR5Rm9yS2V5KE9iamVjdE1ldGEuS2V5RmllbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5za2lwSW5wdXQoa2V5LCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY29tcFRvQmVSZW5kZXJlZCA9IG9ubHkgZmlyc3QgdGltZVxuICAgICAgICAgICAgaWYgKGNvbXBUb0JlUmVuZGVyZWQgJiYgdmFsdWUgaW5zdGFuY2VvZiBDb250ZXh0RmllbGRQYXRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUR5bmFtaWNJbnB1dEJpbmRpbmdzKGNvbXBvbmVudC5pbnN0YW5jZSwgYmluZGluZ3MsIGlucHV0cywga2V5LCB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGUpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBUb0JlUmVuZGVyZWQgJiYgdmFsdWUgaW5zdGFuY2VvZiBEeW5hbWljUHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGxldCBkeW52YWw6IER5bmFtaWNQcm9wZXJ0eVZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1ZhbHVlID0gZHludmFsLmV2YWx1YXRlKHRoaXMubWV0YUNvbnRleHQubXlDb250ZXh0KCkpO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5pbnN0YW5jZVtwdWJsaWNLZXldID0gbmV3VmFsdWU7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogd2hlbiByZS1hcHBseWluZyBJbnB1dHMgc2tpcCBhbGwgZXhwcmVzc2lvbnMgYWJvdmUgYW5kIG9ubHkgd29yayB3aXRoIHJlZ3VsYXJcbiAgICAgICAgICAgICAgICAgKiB0eXBlc1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogc2V0IGl0IG9ubHkgaWYgaXQgY2hhbmdlcyBzbyBpdCB3aWxsIG5vdCB0cmlnZ2VyIG5lY2Vzc2FyeSBgdmFsdWUgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAqIGFmdHRlciBjaGVja2BcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAoIWVxdWFscyhjb21wb25lbnQuaW5zdGFuY2VbcHVibGljS2V5XSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5pbnN0YW5jZVtwdWJsaWNLZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGx5IEZvcm1hdHRlciB0aGF0IGNhbiBiZSBzcGVjaWZpZWQgaW4gdGhlIG9zc1xuICAgICAgICAvLyB0ZW1wb3JhcnkgZGlzYWJsZWQgdW50aWxsIGFuZ3VsYXIgd2lsbCBzdXBwb3J0IHJ1bnRpbWUgaTE4blxuICAgICAgICAvLyBpZiAoYmluZGluZ3MuaGFzKE1ldGFJbmNsdWRlQ29tcG9uZW50RGlyZWN0aXZlLkZvcm1hdHRlckJpbmRpbmcpKSB7XG4gICAgICAgIC8vICAgICBsZXQgdHJhbnNmb3JtID0gdGhpcy5mb3JtYXR0ZXJzXG4gICAgICAgIC8vICAgICAgICAgLmdldChiaW5kaW5ncy5nZXQoTWV0YUluY2x1ZGVDb21wb25lbnREaXJlY3RpdmUuRm9ybWF0dGVyQmluZGluZykpO1xuICAgICAgICAvLyAgICAgY29tcG9uZW50Lmluc3RhbmNlW01ldGFJbmNsdWRlQ29tcG9uZW50RGlyZWN0aXZlLkZvcm1hdHRlckJpbmRpbmddID0gdHJhbnNmb3JtO1xuICAgICAgICAvLyB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIHNraXBJbnB1dChrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gaXNCbGFuayh2YWx1ZSkgfHwga2V5ID09PSBJbmNsdWRlQ29tcG9uZW50RGlyZWN0aXZlLk5nQ29udGVudCB8fFxuICAgICAgICAgICAga2V5ID09PSBNZXRhSW5jbHVkZUNvbXBvbmVudERpcmVjdGl2ZS5OZ0NvbnRlbnRMYXlvdXQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhcHBseU91dHB1dHMoY29tcG9uZW50OiBDb21wb25lbnRSZWY8YW55PiwgYmluZGluZ3M6IGFueSwgb3V0cHV0czogc3RyaW5nW10pIHtcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIG91dHB1dHMpIHtcbiAgICAgICAgICAgIGxldCBwdWJsaWNLZXkgPSBub25Qcml2YXRlUHJlZml4KGtleSk7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBiaW5kaW5ncy5nZXQocHVibGljS2V5KTtcblxuICAgICAgICAgICAgaWYgKGtleSA9PT0gSW5jbHVkZUNvbXBvbmVudERpcmVjdGl2ZS5OZ0NvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBldmVudEVtaXR0ZXI6IEV2ZW50RW1pdHRlcjxhbnk+ID0gY29tcG9uZW50Lmluc3RhbmNlW3B1YmxpY0tleV07XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEeW5hbWljUHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlEeW5hbWljT3V0cHV0QmluZGluZyhldmVudEVtaXR0ZXIsIHZhbHVlLCB0aGlzLm1ldGFDb250ZXh0Lm15Q29udGV4dCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8ganVzdCB0cmlnZ2VyIGV2ZW50IG91dHNpZGVcblxuICAgICAgICAgICAgICAgIGV2ZW50RW1pdHRlci5zdWJzY3JpYmUoKHZhbDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVudi5oYXNWYWx1ZSgncGFyZW50LWNueCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXZlbnQ6IGFueSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjbng6IE1ldGFDb250ZXh0Q29tcG9uZW50ID0gdGhpcy5lbnYuZ2V0VmFsdWUoJ3BhcmVudC1jbngnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodmFsIGluc3RhbmNlb2YgTWV0YVVJQWN0aW9uRXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBuZXcgTWV0YVVJQWN0aW9uRXZlbnQoY29tcG9uZW50Lmluc3RhbmNlLCBwdWJsaWNLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1YmxpY0tleSwgdmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNueC5vbkFjdGlvbi5lbWl0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhcHBseUR5bmFtaWNPdXRwdXRCaW5kaW5nKGVtaXR0ZXI6IEV2ZW50RW1pdHRlcjxhbnk+LCB2YWx1ZTogYW55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBDb250ZXh0KTogdm9pZCB7XG5cbiAgICAgICAgZW1pdHRlci5hc09ic2VydmFibGUoKS5zdWJzY3JpYmUoKHZhbDogYW55KSA9PiB7XG4gICAgICAgICAgICBsZXQgZHludmFsOiBEeW5hbWljUHJvcGVydHlWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgY29udGV4dC5yZXNvbHZlVmFsdWUoZHludmFsKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhcHBseUR5bmFtaWNJbnB1dEJpbmRpbmdzKG1lOiBhbnksIGJpbmRpbmdzOiBhbnksIGlucHV0czogc3RyaW5nW10sIGtleTogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYW55LCBlZGl0YWJsZTogYm9vbGVhbikge1xuXG4gICAgICAgIGxldCBwdWJsaWNLZXkgPSBub25Qcml2YXRlUHJlZml4KGtleSk7XG4gICAgICAgIGxldCBjbnh0UGF0aDogQ29udGV4dEZpZWxkUGF0aCA9IHZhbHVlO1xuICAgICAgICBsZXQgbWV0YUNvbnRleHQgPSB0aGlzLm1ldGFDb250ZXh0O1xuICAgICAgICAvKipcbiAgICAgICAgICogY2FwdHVyZWQgYWxzbyBjdXJyZW50IGNvbnRleHQgc25hcHNob3Qgc28gd2UgY2FuIHJlcGxheSBDb250ZXh0RmllbGRQYXRoLmV2YWx1YXRlKCkgaWZcbiAgICAgICAgICogY2FsbGVkIG91dHNpZGUgb2YgcHVzaC9wb3AgY3ljbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIHRvZG86IGNoZWNrIGlmIHdlIGNhbiByZXBsYWNlIHRoaXMgd2l0aCBDdXN0b20gdmFsdWUgYWNjZXNzb3JcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtZSwgcHVibGljS2V5LCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+IHtcblxuICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5tZXRhQ29udGV4dC5teUNvbnRleHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY254dFBhdGguZXZhbHVhdGUoY29udGV4dCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzZXQ6ICh2YWwpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMubWV0YUNvbnRleHQubXlDb250ZXh0KCk7XG4gICAgICAgICAgICAgICAgbGV0IGVkaXRpbmcgPSBjb250ZXh0LnByb3BlcnR5Rm9yS2V5KE9iamVjdE1ldGEuS2V5RWRpdGFibGUpXG4gICAgICAgICAgICAgICAgICAgIHx8IGNvbnRleHQucHJvcGVydHlGb3JLZXkoVUlNZXRhLktleUVkaXRpbmcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRpbmcgJiYgIVN0cmluZ1dyYXBwZXIuZXF1YWxzKHZhbCwgbWVbcHVibGljS2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBjb250ZXh0LnByb3BlcnR5Rm9yS2V5KE9iamVjdE1ldGEuS2V5VHlwZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY254dFBhdGguZXZhbHVhdGVTZXQoY29udGV4dCwgVmFsdWVDb252ZXJ0ZXIudmFsdWUodHlwZSwgdmFsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogQmFzZWQgb24gb3JpZ2luYWwgd29yazogTWV0YVVJOiBDcmFpZyBGZWRlcmlnaGkgKDIwMDgpXG4gKlxuICovXG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Vudmlyb25tZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcblxuXG4vKipcbiAqIFRoaXMgaXMganVzdCBhIHdyYXBwZXIgY29tcG9uZW50IGFyb3VuZCBtZXRhLWZvcm0tdGFibGUgYXMgd2UgbmVlZCBldmVyeSBzaW5nbGUgY29udGV4dCBwdXNoIHRvXG4gKiBoYXBwZW4gYmVmb3JlIHRoZSBjaGlsZCBjb250ZW50IHN0YXJ0IHRvIHJlbmRlci5cbiAqXG4gKiBJbiB0aGlzIGNhc2UgSSB3b3VsZCBsaWtlIHRvIHdyYXAgd3JhcCBteSBjb250ZW50IHdpdGggbS1jb250ZXh0IGluIHRoZSB3YXk6XG4gKlxuICogIDxtLWNvbnRleHQgc2NvcGVLZXk9XCJjbGFzc1wiPlxuICogICAgICAgIDwhLS0gbGV0cyBwcm9jZXNzIG9uZSB6b25lIG5vdyBhbmQgZm91ciB3ZSBjYW4gZGVhbCBsYXRlci0tPlxuICogICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdJZl09XCJpc0ZpdmVab25lTGF5b3V0XCI+XG4gKiAgICAgICAgICAgICAgPGF3LWZvcm0tdGFibGUgW2lzRWRpdGFibGVdPVwiaXNFZGl0YWJsZVwiIFtsYWJlbHNPblRvcF09XCJsYWJlbHNPblRvcFwiXG4gKiAob25TdWJtaXQpPVwib25TYXZlQWN0aW9uKCRldmVudClcIj5cbiAqICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIG5nRm9yIGxldC1jdXJlbnRGaWVsZCBbbmdGb3JPZl09XCJ6TGVmdCgpXCI+XG4gKiAgICAgICAgICAgICAgICAgICAgICA8bS1jb250ZXh0IFtmaWVsZF09XCJjdXJlbnRGaWVsZFwiPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICA8bS1mb3JtLXJvdyBbZmllbGRdPVwiY3VyZW50RmllbGRcIj48L20tZm9ybS1yb3c+XG4gKiAgICAgICAgICAgICAgICAgICAgICA8L20tY29udGV4dD5cbiAqICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAqICAgICAgICAgIDwvYXctZm9ybS10YWJsZT5cbiAqICAgICAgICA8L25nLXRlbXBsYXRlPlxuICogIDwvbS1jb250ZXh0PlxuICpcbiAqXG4gKlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ20tZm9ybScsXG4gICAgdGVtcGxhdGVVcmw6ICdtZXRhLWZvcm0uY29tcG9uZW50Lmh0bWwnLFxuXG59KVxuZXhwb3J0IGNsYXNzIE1ldGFGb3JtQ29tcG9uZW50XG57XG5cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZW52aXJvbm1lbnQ6IEVudmlyb25tZW50KVxuICAgIHtcblxuICAgIH1cblxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICpcbiAqL1xuaW1wb3J0IHtBZnRlclZpZXdDaGVja2VkfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7YXNzZXJ0LCBFbnZpcm9ubWVudCwgaXNQcmVzZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7QmFzZUZvcm1Db21wb25lbnR9IGZyb20gJ0BhcmliYXVpL2NvbXBvbmVudHMnO1xuaW1wb3J0IHtNZXRhQ29udGV4dENvbXBvbmVudH0gZnJvbSAnLi4vY29yZS9tZXRhLWNvbnRleHQvbWV0YS1jb250ZXh0LmNvbXBvbmVudCc7XG5pbXBvcnQge0NvbnRleHQsIFNuYXBzaG90fSBmcm9tICcuLi9jb3JlL2NvbnRleHQnO1xuaW1wb3J0IHtVSU1ldGF9IGZyb20gJy4uL2NvcmUvdWltZXRhJztcbmltcG9ydCB7T2JqZWN0TWV0YX0gZnJvbSAnLi4vY29yZS9vYmplY3QtbWV0YSc7XG5cblxuLyoqXG4gKiBDb21tb24gY29tcG9uZW50IHRvIHNldHVwIHRoZSBjb250ZXh0IGFuZCBhbHNvIGNyZWF0ZSBjb250ZXh0IHNuYXBzaG90IGZvciBsYXRlciB1c2VyLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTWV0YUJhc2VDb21wb25lbnQgZXh0ZW5kcyBCYXNlRm9ybUNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0NoZWNrZWRcbntcbiAgICBlZGl0aW5nOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogTmVlZCB0byBjYXB0dXJlIGN1cnJlbnQgc25hcHNob3QgZm9yIGVkaXQgb3BlcmF0aW9uIGFzIHdoZW4gd2UgZW50ZXIgZWRpdGluZyBtb2RlIGFuZCB1c2VyXG4gICAgICogc3RhcnQgdG8gY2hhbmdlIHZhbHVlcyB0aGUgZGV0ZWN0aW9uIGxvb3AgcnVucyBvdXQgb2YgYW55IHB1c2gvcG9wIGN5Y2xlIGFuZCBhbnkgb3JkZXIgYW5kIElcbiAgICAgKiBjb3VsZCBub3QgZmluZCBhIHdheSBob3cgdG8gZGV0ZWN0IGNvbnNpc3RlbnQgYmVoYXZpb3Igd2hlcmUgcm9vdCBjb21wb2VubnQgc3RhcnQgbmdEb0NoZWNrLFxuICAgICAqIGNoaWxkIGNvbXBvbmVudCB0cmlnZ2VyIG5nRG9DaGVjaywgY2hpbGQgZmluaXNoZXMsIHJvb3QgZmluaXNoZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG9ubHkgd29ya3Mgd2hlbiB2aWV3IGlzIGZpcnN0IHRpbWUgcmVuZGVyZWQsIGJ1dCBub3Qgd2hlbiBtYWtpbmcgY2hhbmdlc1xuICAgICAqXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNvbnRleHRTbmFwc2hvdDogU25hcHNob3Q7XG4gICAgcHJvdGVjdGVkIG9iamVjdDogYW55O1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIF9tZXRhQ29udGV4dDogTWV0YUNvbnRleHRDb21wb25lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYsIF9tZXRhQ29udGV4dCk7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcbiAgICAgICAgdGhpcy51cGRhdGVNZXRhKCk7XG4gICAgfVxuXG5cbiAgICBuZ0RvQ2hlY2soKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVNZXRhKCk7XG5cbiAgICB9XG5cbiAgICBuZ0FmdGVyVmlld0NoZWNrZWQoKTogdm9pZFxuICAgIHtcbiAgICB9XG5cblxuICAgIHByb3RlY3RlZCB1cGRhdGVNZXRhKClcbiAgICB7XG4gICAgICAgIHRoaXMuZWRpdGluZyA9IHRoaXMuY29udGV4dC5ib29sZWFuUHJvcGVydHlGb3JLZXkoVUlNZXRhLktleUVkaXRpbmcsIGZhbHNlKTtcbiAgICAgICAgaWYgKHRoaXMuZWRpdGluZykge1xuICAgICAgICAgICAgdGhpcy5vYmplY3QgPSB0aGlzLmNvbnRleHQudmFsdWVzLmdldChPYmplY3RNZXRhLktleU9iamVjdCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHRTbmFwc2hvdCA9IHRoaXMuY29udGV4dC5zbmFwc2hvdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZG9VcGRhdGUoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFBsYWNlaG9sZGVyIHRvIGJlIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzLiB0aGlzIG1ldGhvZCBpcyB0cmlnZ2VyZWQgd2hlbiB3ZSBkZXRlY3QgYW55XG4gICAgICogY2hhbmdlcyBvbiB0aGUgTWV0YUNvbnRleHRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZG9VcGRhdGUoKTogdm9pZFxuICAgIHtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGFzdCBzYXZlZCBjb250ZXh0IGZyb20gdGhlIE1ldGFDb250ZXh0IGNvbXBvbmVudFxuICAgICAqXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldCBjb250ZXh0KCk6IENvbnRleHRcbiAgICB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5fbWV0YUNvbnRleHQpICYmIGlzUHJlc2VudCh0aGlzLl9tZXRhQ29udGV4dC5teUNvbnRleHQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tZXRhQ29udGV4dC5teUNvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzc2VydChmYWxzZSwgJ1Nob3VsZCBhbHdheXMgaGF2ZSBtZXRhQ29udGV4dCBhdmFpbGFibGUnKTtcbiAgICB9XG5cblxuICAgIGlzTmVzdGVkQ29udGV4dCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmlzTmVzdGVkO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSB0aGlzIHVnbHkgc29sdXRpb24gb25jZSBJIGZpZ3VyZSBvdXQgY3VzdG9tIHZhbHVlIGFjY2Vzc29yIHRoYXQgSSBjYW5cbiAgICAvLyBwcm92aWRlIGFzIGEgZXhwcmVzc2lvblxuICAgIHByb3BlcnRpZXMoa2V5OiBzdHJpbmcsIGRlZlZhbHVlOiBhbnkgPSBudWxsKTogYW55XG4gICAge1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMuY29udGV4dCkgPyAoaXNQcmVzZW50KHRoaXMuY29udGV4dC5wcm9wZXJ0eUZvcktleShrZXkpKSA/XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQucHJvcGVydHlGb3JLZXkoa2V5KSA6IGRlZlZhbHVlKSA6IGRlZlZhbHVlO1xuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYWN0aXZlIGNvbnRleHQncyBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKi9cbiAgICBhUHJvcGVydGllcyhtZTogQ29udGV4dCwga2V5OiBzdHJpbmcsIGRlZlZhbHVlOiBhbnkgPSBudWxsKTogYW55XG4gICAge1xuICAgICAgICBsZXQgYWN0aXZlQ29udGV4dDogQ29udGV4dCA9IHRoaXMuX21ldGFDb250ZXh0LmFjdGl2ZUNvbnRleHQoKTtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudChtZSkgPyBtZS5wcm9wZXJ0eUZvcktleShrZXkpIDogZGVmVmFsdWU7XG5cbiAgICB9XG5cblxufVxuXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKiBCYXNlZCBvbiBvcmlnaW5hbCB3b3JrOiBNZXRhVUk6IENyYWlnIEZlZGVyaWdoaSAoMjAwOClcbiAqXG4gKi9cbmltcG9ydCB7Q29tcG9uZW50LCBIb3N0LCBWaWV3Q2hpbGR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtFbnZpcm9ubWVudCwgaXNCbGFuaywgaXNQcmVzZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7Rm9ybVRhYmxlQ29tcG9uZW50fSBmcm9tICdAYXJpYmF1aS9jb21wb25lbnRzJztcbmltcG9ydCB7TWV0YUJhc2VDb21wb25lbnR9IGZyb20gJy4uLy4uL21ldGEuYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHtNZXRhQ29udGV4dENvbXBvbmVudH0gZnJvbSAnLi4vLi4vLi4vY29yZS9tZXRhLWNvbnRleHQvbWV0YS1jb250ZXh0LmNvbXBvbmVudCc7XG5pbXBvcnQge1VJTWV0YX0gZnJvbSAnLi4vLi4vLi4vY29yZS91aW1ldGEnO1xuaW1wb3J0IHtVSUNvbnRleHR9IGZyb20gJy4uLy4uLy4uL2NvcmUvY29udGV4dCc7XG5cbi8qKlxuICogVGhpcyBpcyBhIHdyYXBwZXIgYXJvdW5kIEZvcm10VGFibGUgdG8gcmVuZGVyIGRhdGEgYmFzZWQgb24gY3VycmVudCBNZXRhQ29udGV4dC5cbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdtLWZvcm0tdGFibGUnLFxuICAgIHRlbXBsYXRlVXJsOiAnbWV0YS1mb3JtLXRhYmxlLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnbWV0YS1mb3JtLXRhYmxlLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTWV0YUZvcm1UYWJsZUNvbXBvbmVudCBleHRlbmRzIE1ldGFCYXNlQ29tcG9uZW50XG57XG4gICAgLyoqXG4gICAgICogRm9yIG11bHRpem9uZSBsYXlvdXQgdGhpcyBjb250YWlucyBmaWVsZHMgYnJva2VuIGJ5IGl0cyBhc3NpZ25lZCB6b25lc1xuICAgICAqL1xuICAgIHByaXZhdGUgZmllbGRzQnlab25lOiBNYXA8c3RyaW5nLCBhbnk+O1xuXG4gICAgLyoqXG4gICAgICogSXMgZml2ZSB6b25lIGxheW91dD8gRm9yTWV0YVVpIHdlIHByb2JhbGJ5IGhhdmUgYWx3YXlzIGZpdmVab25lLCB1bmxlc3MgaW4gTWV0YVJ1bGVzIHdlIHNheVxuICAgICAqIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGlzRml2ZVpvbmVMYXlvdXQ6IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqIERvIHdlIGhhdmUgbGFiZWxzIG9uIHRvcCBsYXlvdXQ/XG4gICAgICovXG4gICAgc2hvd0xhYmVsc0Fib3ZlQ29udHJvbHM6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gY3VycmVudCByZW5kZXJlZCBGb3JtVGFibGVcbiAgICAgKi9cbiAgICBAVmlld0NoaWxkKCdtZXRhRm9ybVRhYmxlJylcbiAgICBwcml2YXRlIGZvcm06IEZvcm1UYWJsZUNvbXBvbmVudDtcblxuICAgIC8qKlxuICAgICAqIEFjdGl2ZSB6b25lcyBwYXNzZWQgdG8gdGhlIEZvcm1UYWJsZS5cbiAgICAgKlxuICAgICAqIE5vdGU6IEkgY291bGQgbm90IGZpbmQgYmV0dGVyIHdheSB3aXRob3V0IGhhdmluZyB0aGlzIHByb3BlcnR5LiBXaGVuIHVzaW5nIEZvcm1UYWJsZSBJIGRvbnRcbiAgICAgKiB3YW50IHRvIHRlbGwgd2hhdCB6b25lcyBhcmUgYWN0aXZlLiBUaGUgZm9ybSB0YWJsZSBzaG91bGQgZmlndXJlIG91dCBieWl0c2VsZiBqdXN0IGZyb20gdGhlXG4gICAgICogbmctY29udGVudGVkIHNlY3Rpb25zLlxuICAgICAqXG4gICAgICogVGhlIG90aGVyIGFwcHJvYWNoIGlzIHRoZSB3cmFwIHRoZXNlIGludG8gY29tcG9uZW50IGFuZCBwcm9iYWJseSBiZXR0ZXJcbiAgICAgKlxuICAgICAqZS5nLlxuICAgICAqXG4gICAgICogYGBgaHRtbFxuICAgICAqICA8YXctZm9ybS10YWJsZSAuLi4+XG4gICAgICogICAgPGF3LWZvcm0tem9uZSBuYW1lPSd0b3AnPlxuICAgICAqICAgICAgICA8YXctZm9ybS1yb3c+Li4uPC9hdy1mb3JtLXJvdz5cbiAgICAgKiAgICAgPGF3LWZvcm0tem9uZT5cbiAgICAgKlxuICAgICAqXG4gICAgICogICAgLi4uXG4gICAgICogIDwvYXctZm9ybS10YWJsZSAuLi4+XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgY29uc3RydWN0b3IoQEhvc3QoKSBwcm90ZWN0ZWQgX2NvbnRleHQ6IE1ldGFDb250ZXh0Q29tcG9uZW50LCBwdWJsaWMgZW52OiBFbnZpcm9ubWVudClcbiAgICB7XG4gICAgICAgIHN1cGVyKGVudiwgX2NvbnRleHQpO1xuICAgIH1cblxuXG4gICAgY2FuU2hvd1pvbmUoem9uZTogc3RyaW5nKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLmZpZWxkc0J5Wm9uZSkgJiYgdGhpcy5maWVsZHNCeVpvbmUuaGFzKHpvbmUpO1xuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIGRvVXBkYXRlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmRvVXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy5maWVsZHNCeVpvbmUgPSB0aGlzLmNvbnRleHQucHJvcGVydHlGb3JLZXkoVUlNZXRhLlByb3BGaWVsZHNCeVpvbmUpO1xuICAgICAgICB0aGlzLmlzRml2ZVpvbmVMYXlvdXQgPSB0aGlzLmNvbnRleHQucHJvcGVydHlGb3JLZXkoVUlNZXRhLlByb3BJc0ZpZWxkc0J5Wm9uZSk7XG5cblxuICAgICAgICBsZXQgYmluZGluZ3M6IE1hcDxzdHJpbmcsIGFueT4gPSB0aGlzLmNvbnRleHQucHJvcGVydHlGb3JLZXkoVUlNZXRhLktleUJpbmRpbmdzKTtcbiAgICAgICAgaWYgKGlzUHJlc2VudChiaW5kaW5ncykpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0xhYmVsc0Fib3ZlQ29udHJvbHMgPSBiaW5kaW5ncy5nZXQoJ3Nob3dMYWJlbHNBYm92ZUNvbnRyb2xzJyk7XG5cbiAgICAgICAgICAgIGlmIChpc0JsYW5rKHRoaXMuc2hvd0xhYmVsc0Fib3ZlQ29udHJvbHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TGFiZWxzQWJvdmVDb250cm9scyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbml0Rm9ybSgpO1xuICAgIH1cblxuXG4gICAgekxlZnQoKTogc3RyaW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkc0J5Wm9uZS5nZXQoVUlNZXRhLlpvbmVMZWZ0KTtcbiAgICB9XG5cbiAgICB6TWlkZGxlKCk6IHN0cmluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5maWVsZHNCeVpvbmUuZ2V0KFVJTWV0YS5ab25lTWlkZGxlKTtcbiAgICB9XG5cbiAgICB6UmlnaHQoKTogc3RyaW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkc0J5Wm9uZS5nZXQoVUlNZXRhLlpvbmVSaWdodCk7XG4gICAgfVxuXG4gICAgelRvcCgpOiBzdHJpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmllbGRzQnlab25lLmdldChVSU1ldGEuWm9uZVRvcCk7XG4gICAgfVxuXG4gICAgekJvdHRvbSgpOiBzdHJpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmllbGRzQnlab25lLmdldChVSU1ldGEuWm9uZUJvdHRvbSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBOZWVkIHRvIGluaXRpYWxpemUgRm9ybUdyb3VwIHdpdGggYWxsIHRoZSBhdmFpbGFibGUgZmllbGRzIGJhc2VkIG9uIHRoZSBnaXZlbiBvYmplY3QuIEl0c1xuICAgICAqIGhhcmQgdG8gbWFuYWdlIGEgc3RhdGUgd2hlcmUgd2UgZHluYW1pY2FsbHkgcmVuZGVyIGRpZmZlcmVudCBudW1iZXIgb2YgZmllbGRzIHBlciBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBpbml0Rm9ybSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuZm9ybSkpIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybS5lZGl0YWJsZSA9IHRoaXMuZWRpdGFibGU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9iaiA9ICg8VUlDb250ZXh0PnRoaXMuY29udGV4dCkub2JqZWN0O1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5mb3JtR3JvdXAudmFsdWUpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMob2JqKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb1JlZ2lzdGVyKGtleSwgb2JqW2tleV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEJhc2VkIG9uIG9yaWdpbmFsIHdvcms6IE1ldGFVSTogQ3JhaWcgRmVkZXJpZ2hpICgyMDA4KVxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnQsIGZvcndhcmRSZWYsIEhvc3QsIElucHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7QWJzdHJhY3RDb250cm9sLCBWYWxpZGF0b3JGbiwgVmFsaWRhdG9yc30gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtCb29sZWFuV3JhcHBlciwgRW52aXJvbm1lbnQsIGlzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge0Zvcm1Sb3dDb21wb25lbnR9IGZyb20gJ0BhcmliYXVpL2NvbXBvbmVudHMnO1xuaW1wb3J0IHtNZXRhQ29udGV4dENvbXBvbmVudH0gZnJvbSAnLi4vLi4vLi4vY29yZS9tZXRhLWNvbnRleHQvbWV0YS1jb250ZXh0LmNvbXBvbmVudCc7XG5pbXBvcnQge1VJTWV0YX0gZnJvbSAnLi4vLi4vLi4vY29yZS91aW1ldGEnO1xuaW1wb3J0IHtNZXRhQmFzZUNvbXBvbmVudH0gZnJvbSAnLi4vLi4vbWV0YS5iYXNlLmNvbXBvbmVudCc7XG5cbi8qKlxuICogQ29tcG9uZW50IHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgYSByb3cgdXNpbmcgTWV0YUluY2x1ZGVDb21wb25lbnQuXG4gKiBXaGF0IEkgYW0gc3RpbGwgbm90IHN1cmUsIGlmIEkgd2FudCB0byB1c2UgZnVsbHkgdmFsaWRhdGlvbiBmcm9tIE1ldGFSdWxlIGFuZCBpZiBJIGNhbm5vdFxuICogbGV2ZXJhZ2UgYmFzaWMgdmFsaWRhdGlvbiBmcm9tIGFuZ3VsYXIuXG4gKlxuICogTWVhbmluZyBJIG1pZ2h0IHJlbW92ZSBkZWZhdWx0IHZhbGlkOjoqKiBydWxlIGZyb20gV2lkZ2V0c1J1bGVzIGFuZCB3aGVuIGl0cyByZXF1aXJlZCBpbnNlcnRcbiAqIGRlZmF1bHQgUmVxdWlyZWQgdmFsaWRhdGlvbiBmcm9tIGFuZ3VsYXIuXG4gKlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ20tZm9ybS1yb3cnLFxuICAgIHRlbXBsYXRlVXJsOiAnbWV0YS1mb3JtLXJvdy5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ21ldGEtZm9ybS1yb3cuY29tcG9uZW50LnNjc3MnXSxcbiAgICBwcm92aWRlcnM6IFtcblxuICAgICAgICB7cHJvdmlkZTogRm9ybVJvd0NvbXBvbmVudCwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gTWV0YUZvcm1Sb3dDb21wb25lbnQpfVxuICAgIF1cblxufSlcbmV4cG9ydCBjbGFzcyBNZXRhRm9ybVJvd0NvbXBvbmVudCBleHRlbmRzIE1ldGFCYXNlQ29tcG9uZW50XG57XG5cbiAgICBASW5wdXQoKVxuICAgIGZpZWxkOiBzdHJpbmc7XG5cblxuICAgIC8qKlxuICAgICAqIFRoZXJlIGNvdWxkIGJlIHNwZWNpYWwgY2FzZXMgd2hlbiB3ZSBhcmUgbGF5b3V0IGNvbXBvbmVudCB0aGF0IHdlIHdhbnQgdG8gZXh0ZW5kcyB0aGUgcm93XG4gICAgICogMTAwJS5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGluaXRpYWxTaXplOiBzdHJpbmcgPSAnbWVkaXVtJztcblxuICAgIC8qKlxuICAgICAqIENhY2hlZCB2YWxpZGF0b3NcbiAgICAgKi9cbiAgICB2YWxpZGF0b3JzOiBWYWxpZGF0b3JGbltdO1xuXG5cbiAgICBjb25zdHJ1Y3RvcihASG9zdCgpIHByb3RlY3RlZCBfbWV0YUNvbnRleHQ6IE1ldGFDb250ZXh0Q29tcG9uZW50LCBwdWJsaWMgZW52OiBFbnZpcm9ubWVudClcbiAgICB7XG4gICAgICAgIHN1cGVyKGVudiwgX21ldGFDb250ZXh0KTtcbiAgICB9XG5cblxuICAgIG5nT25Jbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLm5nT25Jbml0KCk7XG4gICAgICAgIHRoaXMudmFsaWRhdG9ycyA9IHRoaXMuY3JlYXRlVmFsaWRhdG9ycygpO1xuICAgIH1cblxuICAgIGJpbmRpbmdCb29sUHJvcGVydHkoa2V5OiBzdHJpbmcpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgYmluZGluZ3M6IE1hcDxzdHJpbmcsIGFueT4gPSB0aGlzLmNvbnRleHQucHJvcGVydHlGb3JLZXkoVUlNZXRhLktleUJpbmRpbmdzKTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KGJpbmRpbmdzKSAmJiBiaW5kaW5ncy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gYmluZGluZ3MuZ2V0KGtleSk7XG4gICAgICAgICAgICByZXR1cm4gQm9vbGVhbldyYXBwZXIuYm9sZWFuVmFsdWUodmFsdWUpO1xuXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG4gICAgYmluZGluZ1N0cmluZ1Byb3BlcnR5KGtleTogc3RyaW5nKTogc3RyaW5nXG4gICAge1xuICAgICAgICBsZXQgYmluZGluZ3M6IE1hcDxzdHJpbmcsIGFueT4gPSB0aGlzLmNvbnRleHQucHJvcGVydHlGb3JLZXkoVUlNZXRhLktleUJpbmRpbmdzKTtcblxuICAgICAgICBpZiAoaXNQcmVzZW50KGJpbmRpbmdzKSAmJiBiaW5kaW5ncy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGJpbmRpbmdzLmdldChrZXkpO1xuXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG5cbiAgICBnZXQgc2l6ZSgpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGxldCBiaW5kaW5nczogTWFwPHN0cmluZywgYW55PiA9IHRoaXMuY29udGV4dC5wcm9wZXJ0eUZvcktleShVSU1ldGEuS2V5QmluZGluZ3MpO1xuXG4gICAgICAgIGlmIChpc1ByZXNlbnQoYmluZGluZ3MpICYmIGJpbmRpbmdzLmhhcygnc2l6ZScpKSB7XG4gICAgICAgICAgICByZXR1cm4gYmluZGluZ3MuZ2V0KCdzaXplJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbFNpemU7XG4gICAgfVxuXG4gICAgc2V0IHNpemUodmFsdWU6IHN0cmluZylcbiAgICB7XG4gICAgICAgIHRoaXMuaW5pdGlhbFNpemUgPSB2YWx1ZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW5ndWxhciBiYXNlZCBWYWxpZGF0b3Igd2hpY2ggZm9yIGEgY3VycmVudCBmaWVsZCBleGVjdXRlcyB2YWxpZGF0aW9uIHJ1bGVzIHJlYWxcbiAgICAgKiB0aW1lIGFzIHVzZSB0eXBlLiBBdCB0aGUgYm90dG9tIG9mIHRoZSBmaWxlIHRoZXJlIGlzIGV4YW1wbGUgb2YgYXN5bmMgdmFsaWRhdG9yXG4gICAgICpcbiAgICAgKi9cbiAgICBwcml2YXRlIGNyZWF0ZVZhbGlkYXRvcnMoKTogVmFsaWRhdG9yRm5bXVxuICAgIHtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgICAgICBsZXQgbWV0YVZhbGlkYXRvciA9IChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQoVmFsaWRhdG9ycy5yZXF1aXJlZChjb250cm9sKSkgfHwgIWNvbnRyb2wudG91Y2hlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZXJyb3JNc2cgPSBVSU1ldGEudmFsaWRhdGlvbkVycm9yKHRoYXQuY29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gaXNQcmVzZW50KGVycm9yTXNnKSA/IHtcbiAgICAgICAgICAgICAgICAnbWV0YXZhbGlkJzogeydtc2cnOiBlcnJvck1zZ31cbiAgICAgICAgICAgIH0gOiBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBbbWV0YVZhbGlkYXRvcl07XG4gICAgfVxuXG4gICAgaXNSZXF1aXJlZCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gKGlzUHJlc2VudCh0aGlzLmVkaXRpbmcpICYmIHRoaXMuY29udGV4dC5ib29sZWFuUHJvcGVydHlGb3JLZXkoJ3JlcXVpcmVkJywgZmFsc2UpKTtcbiAgICB9XG5cbn1cblxuXG4vKlxuXG4gcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gc2V0VGltZW91dCAoKCk9PntcblxuIGxldCBjb250ZXh0OiBVSUNvbnRleHQgPSA8VUlDb250ZXh0PiB0aGlzLl9jb250ZXh0U25hcHNob3QuaHlkcmF0ZSgpO1xuIGNvbnRleHQudmFsdWUgPSBjb250cm9sLnZhbHVlO1xuXG4gbGV0IGVycm9yTXNnID0gVUlNZXRhLnZhbGlkYXRpb25FcnJvcihjb250ZXh0KTtcblxuXG4gaWYoaXNQcmVzZW50KGVycm9yTXNnKSkge1xuIHJlc29sdmUoe21ldGF2YWxpZDoge21zZzogZXJyb3JNc2d9fSk7XG4gfSBlbHNle1xuIHJlc29sdmUobnVsbCk7XG4gfVxuXG4gfSwgNzAwKTtcbiB9KTtcblxuXG4gKi9cblxuXG4vLyBtZXRhVmFsaWQgKCk6IEFzeW5jVmFsaWRhdG9yRm5bXVxuLy8ge1xuLy8gICAgIGxldCBtZXRhVmFsaWRhdG9yID0gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IHtba2V5OiBzdHJpbmddOiBhbnl9ID0+XG4vLyAgICAge1xuLy8gICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+XG4vLyAgICAgICAgIHtcbi8vICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PlxuLy8gICAgICAgICAgICAge1xuLy8gICAgICAgICAgICAgICAgIGxldCBjb250ZXh0OiBVSUNvbnRleHQgPSA8VUlDb250ZXh0PiB0aGlzLl9jb250ZXh0U25hcHNob3QuaHlkcmF0ZSgpO1xuLy8gICAgICAgICAgICAgICAgIGNvbnRleHQudmFsdWUgPSBjb250cm9sLnZhbHVlO1xuLy9cbi8vICAgICAgICAgICAgICAgICBsZXQgZXJyb3JNc2cgPSBVSU1ldGEudmFsaWRhdGlvbkVycm9yKGNvbnRleHQpO1xuLy9cbi8vXG4vLyAgICAgICAgICAgICAgICAgaWYgKGlzUHJlc2VudChlcnJvck1zZykpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7bWV0YXZhbGlkOiB7bXNnOiBlcnJvck1zZ319KTtcbi8vICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuLy8gICAgICAgICAgICAgICAgIH1cbi8vXG4vLyAgICAgICAgICAgICB9ICwgNDAwKTtcbi8vICAgICAgICAgfSk7XG4vLyAgICAgfTtcbi8vICAgICByZXR1cm4gW21ldGFWYWxpZGF0b3JdO1xuLy8gfVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogQmFzZWQgb24gb3JpZ2luYWwgd29yazogTWV0YVVJOiBDcmFpZyBGZWRlcmlnaGkgKDIwMDgpXG4gKlxuICovXG5pbXBvcnQge0NvbXBvbmVudCwgT25Jbml0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7QWN0aXZhdGVkUm91dGV9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQge0Jvb2xlYW5XcmFwcGVyLCBpc1ByZXNlbnQsIFJvdXRpbmdTZXJ2aWNlfSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7VUlNZXRhfSBmcm9tICcuLi8uLi9jb3JlL3VpbWV0YSc7XG5cblxuLyoqXG4gKiBNZXRhQ29udGVudFBhZ2UgIGNvbXBvbmVudCBpcyB1c2VkIGZyb20gTWV0YVJ1bGVzIGFuZCB1bml2ZXJzYWwgY29tcG9uZW50IHJlbmRlcmluZyBkaWZmZXJlbnRcbiAqIG9wZXJhdGlvbiBtb2Rlcy5cbiAqXG4gKlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ20tY29udGVudC1wYWdlJyxcbiAgICB0ZW1wbGF0ZVVybDogJ21ldGEtY29udGVudC1wYWdlLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnbWV0YS1jb250ZW50LXBhZ2UuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBNZXRhQ29udGVudFBhZ2VDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXRcbntcblxuICAgIG9iamVjdDogYW55O1xuICAgIG9wZXJhdGlvbjogc3RyaW5nO1xuICAgIGxheW91dDogc3RyaW5nO1xuICAgIG5ld0NvbnRleHQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgIG9iamVjdE5hbWU6IHN0cmluZztcbiAgICBpc0luc3BlY3RBY3Rpb246IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIG9rTGFiZWwgPSAnQmFjayc7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSwgcHJpdmF0ZSByb3V0aW5nU2VydmljZTogUm91dGluZ1NlcnZpY2UpXG4gICAge1xuICAgIH1cblxuICAgIG5nT25Jbml0KClcbiAgICB7XG4gICAgICAgIHRoaXMubGF5b3V0ID0gdGhpcy5yb3V0ZS5zbmFwc2hvdC5wYXJhbXNbJ2xheW91dCddO1xuICAgICAgICB0aGlzLm9wZXJhdGlvbiA9IHRoaXMucm91dGUuc25hcHNob3QucGFyYW1zWydvcGVyYXRpb24nXTtcblxuICAgICAgICBsZXQgdXJsID0gJy8nICsgdGhpcy5yb3V0ZS5zbmFwc2hvdC51cmxbMF0udG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKHRoaXMucm91dGluZ1NlcnZpY2Uuc3RhdGVDYWNoZUhpc3RvcnkuaGFzKHVybCkpIHtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0ID0gdGhpcy5yb3V0aW5nU2VydmljZS5zdGF0ZUNhY2hlSGlzdG9yeS5nZXQodXJsKTtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0TmFtZSA9IFVJTWV0YS5kZWZhdWx0TGFiZWxGb3JJZGVudGlmaWVyKHRoaXMub2JqZWN0LmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB3aXRoQmFja0FjdGlvbiA9IHRoaXMucm91dGUuc25hcHNob3QucGFyYW1zWydiJ107XG4gICAgICAgIGlmIChpc1ByZXNlbnQod2l0aEJhY2tBY3Rpb24pICYmIEJvb2xlYW5XcmFwcGVyLmlzVHJ1ZSh3aXRoQmFja0FjdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuaXNJbnNwZWN0QWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG5cbiAgICBvbkJhY2soZXZlbnQ6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMucm91dGluZ1NlcnZpY2UuZ29CYWNrKCk7XG4gICAgfVxuXG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKiBCYXNlZCBvbiBvcmlnaW5hbCB3b3JrOiBNZXRhVUk6IENyYWlnIEZlZGVyaWdoaSAoMjAwOClcbiAqXG4gKi9cbmltcG9ydCB7YXNzZXJ0LCBFbnZpcm9ubWVudCwgaXNCbGFuaywgaXNQcmVzZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7TWV0YUJhc2VDb21wb25lbnR9IGZyb20gJy4vbWV0YS5iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQge0l0ZW1Qcm9wZXJ0aWVzfSBmcm9tICcuLi9jb3JlL2l0ZW0tcHJvcGVydGllcyc7XG5pbXBvcnQge1Byb3BlcnR5TWFwfSBmcm9tICcuLi9jb3JlL21ldGEnO1xuaW1wb3J0IHtNZXRhQ29udGV4dENvbXBvbmVudH0gZnJvbSAnLi4vY29yZS9tZXRhLWNvbnRleHQvbWV0YS1jb250ZXh0LmNvbXBvbmVudCc7XG5pbXBvcnQge1VJTWV0YX0gZnJvbSAnLi4vY29yZS91aW1ldGEnO1xuaW1wb3J0IHtDb250ZXh0fSBmcm9tICcuLi9jb3JlL2NvbnRleHQnO1xuaW1wb3J0IHtPbkRlc3Ryb3l9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG4vKipcbiAqIE1ldGFMYXlvdXQgcmVwcmVzZW50IGEgaGlnaCBsZXZlbCBydWxlIHRoYXQgYWdncmVnYXRlcyBkZWZpbmVkIGxheW91dC4gV2hlbiB3ZSBpdGVyYXRlIHRocnUgdGhlXG4gKiBkaWZmZXJlbnQgbGF5b3V0IHdlIG5lZWQgdG8gcmVtZW1iZXIgYm90aCBjdXJyZW50IHJlbmRlcmVkIGNvbnRleHQgYXMgd2VsbCBhcyBJdGVtUHJvcGVydGllcy5cbiAqXG4gKlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIE1ldGFMYXlvdXQgZXh0ZW5kcyBNZXRhQmFzZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uRGVzdHJveVxue1xuICAgIC8qKlxuICAgICAqIExpc3QgYWxsIGF2YWlsYWJsZSBMYXlvdXRzIGRlZmluZXMgZm9yIGN1cnJlbnQgQ29udGV4dFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfYWxsTGF5b3V0czogSXRlbVByb3BlcnRpZXNbXTtcblxuICAgIC8qKlxuICAgICAqIExheW91dCBzb3J0ZWQgYnkgem9uZXMuIEVhY2ggaW1wbGVtZW50YXRpb24gY2FuIHN1cHBvcnQgZGlmZmVyZW50IHpvbmVzLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfbGF5b3V0c0J5Wm9uZXM6IE1hcDxzdHJpbmcsIGFueT47XG5cbiAgICAvKipcbiAgICAgKiBDb250ZXh0IHByb3BlcnRpZXMgZm9yIGN1cnJlbnQgYWN0aXZlIHJlbmRlcmVkIGxheW91dFxuICAgICAqXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9wcm9wZXJ0eU1hcDogUHJvcGVydHlNYXA7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IExheW91dCBiZWluZyByZW5kZXJlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfbGF5b3V0OiBJdGVtUHJvcGVydGllcztcblxuICAgIC8qKlxuICAgICAqIExheW91dCBkZWZpbml0aW9ucyBieSBpdHMgbmFtZVxuICAgICAqXG4gICAgICovXG4gICAgcHJvdGVjdGVkIG5hbWVUb0xheW91dDogTWFwIDxzdHJpbmcsIEl0ZW1Qcm9wZXJ0aWVzPiA9IG5ldyBNYXA8c3RyaW5nLCBJdGVtUHJvcGVydGllcz4oKTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIGxpbmtpbmcgdGhlIG5hbWUgb2YgdGhlIGxheW91dCB0byB0aGUgYWN0dWFsIGNvbnRleHQuIFdlIG5lZWQgdGhpcyB3aGVuIHdlIG5lZWRcbiAgICAgKiB0byBhY2Nlc3MgY3VycmVudCBjb250ZW50LlxuICAgICAqXG4gICAgICovXG4gICAgY29udGV4dE1hcDogTWFwIDxzdHJpbmcsIENvbnRleHQ+ID0gbmV3IE1hcDxzdHJpbmcsIENvbnRleHQ+KCk7XG5cblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgY29udGV4dCBiZWluZyByZW5kZXJlZFxuICAgICAqL1xuICAgIGxheW91dENvbnRleHQ6IENvbnRleHQ7XG5cblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfbWV0YUNvbnRleHQ6IE1ldGFDb250ZXh0Q29tcG9uZW50LCBwdWJsaWMgZW52OiBFbnZpcm9ubWVudClcbiAgICB7XG4gICAgICAgIHN1cGVyKGVudiwgX21ldGFDb250ZXh0KTtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbiBiZSBjYWxsZWQgYnkgbS1jb250ZW50IHRvIEBPdXRwdXQgd2hlbiBjb250ZXh0IHByb3BlcnRpZXMgYXJlIHB1c2hlZCB0byBzdGFja1xuICAgICAqXG4gICAgICovXG4gICAgYWZ0ZXJDb250ZXh0U2V0KGxheW91dE5hbWU6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMubGF5b3V0Q29udGV4dCA9IHRoaXMuYWN0aXZlQ29udGV4dDtcbiAgICAgICAgdGhpcy5jb250ZXh0TWFwLnNldChsYXlvdXROYW1lLCB0aGlzLmxheW91dENvbnRleHQuc25hcHNob3QoKS5oeWRyYXRlKGZhbHNlKSk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYW4gYmUgY2FsbGVkIGJ5IG0tY29udGVudCB0byBAT3V0cHV0IGFmdGVyIGNvbnRleHQgcHJvcGVydGllcyBhcmUgcHVzaGVkIHRvIHN0YWNrXG4gICAgICpcbiAgICAgKi9cbiAgICBiZWZvcmVDb250ZXh0U2V0KGxheW91dE5hbWU6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMubGF5b3V0ID0gdGhpcy5uYW1lVG9MYXlvdXQuZ2V0KGxheW91dE5hbWUpO1xuICAgIH1cblxuXG4gICAgZ2V0IGFjdGl2ZUNvbnRleHQoKTogQ29udGV4dFxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGFDb250ZXh0LmFjdGl2ZUNvbnRleHQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYWxsIGF2YWlsYWJsZSBhbmQgYWN0aXZlIGxheW91dHMgZm9yIHpvbmVzIGRlZmluZWQgYnkgc3ViY2xhc3Nlc1xuICAgICAqXG4gICAgICovXG4gICAgZ2V0IGFsbExheW91dHMoKTogSXRlbVByb3BlcnRpZXNbXVxuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5fYWxsTGF5b3V0cykpIHtcbiAgICAgICAgICAgIGxldCBtZXRhOiBVSU1ldGEgPSA8VUlNZXRhPiB0aGlzLmFjdGl2ZUNvbnRleHQubWV0YTtcbiAgICAgICAgICAgIHRoaXMuX2FsbExheW91dHMgPSBtZXRhLml0ZW1MaXN0KHRoaXMuYWN0aXZlQ29udGV4dCwgVUlNZXRhLktleUxheW91dCwgdGhpcy56b25lcygpKTtcbiAgICAgICAgICAgIHRoaXMubmFtZVRvTGF5b3V0LmNsZWFyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2FsbExheW91dHMuZm9yRWFjaCgoaXRlbTogSXRlbVByb3BlcnRpZXMpID0+XG4gICAgICAgICAgICAgICAgdGhpcy5uYW1lVG9MYXlvdXQuc2V0KGl0ZW0ubmFtZSwgaXRlbSkpO1xuXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsbExheW91dHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGFsbCBhdmFpbGFibGUgYW5kIGFjdGl2ZSBsYXlvdXRzIGFuZCBhZ2dyZWdhdGUgdGhlbSB0aGVpciBuYW1lXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXQgbGF5b3V0c0J5Wm9uZXMoKTogTWFwPHN0cmluZywgYW55PlxuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5fbGF5b3V0c0J5Wm9uZXMpKSB7XG4gICAgICAgICAgICBsZXQgbWV0YTogVUlNZXRhID0gPFVJTWV0YT4gdGhpcy5hY3RpdmVDb250ZXh0Lm1ldGE7XG4gICAgICAgICAgICB0aGlzLl9sYXlvdXRzQnlab25lcyA9IG1ldGEuaXRlbXNCeVpvbmVzKHRoaXMuYWN0aXZlQ29udGV4dCwgVUlNZXRhLktleUxheW91dCxcbiAgICAgICAgICAgICAgICB0aGlzLnpvbmVzKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXlvdXRzQnlab25lcztcbiAgICB9XG5cblxuICAgIGdldCBsYXlvdXQoKTogSXRlbVByb3BlcnRpZXNcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXlvdXQ7XG4gICAgfVxuXG4gICAgc2V0IGxheW91dCh2YWx1ZTogSXRlbVByb3BlcnRpZXMpXG4gICAge1xuICAgICAgICB0aGlzLl9sYXlvdXQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcHJvcGVydHlNYXAgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIHRvZG86IHNob3VsZCB0aGlzIGJlIGZvciBjdXJyZW50IGxheW91dD9cbiAgICBnZXQgcHJvcGVydHlNYXAoKTogUHJvcGVydHlNYXBcbiAgICB7XG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuX3Byb3BlcnR5TWFwKSkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVDb250ZXh0LnB1c2goKTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnR5TWFwID0gdGhpcy5hY3RpdmVDb250ZXh0LmFsbFByb3BlcnRpZXMoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlQ29udGV4dC5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydHlNYXA7XG4gICAgfVxuXG5cbiAgICBsYWJlbCgpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZUNvbnRleHQucmVzb2x2ZVZhbHVlKHRoaXMucHJvcGVydHlNYXAuZ2V0KFVJTWV0YS5LZXlMYWJlbCkpO1xuICAgIH1cblxuXG4gICAgbGFiZWxGb3JDb250ZXh0KG5hbWU6IHN0cmluZyk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgbGV0IGNvbnRleHQ6IENvbnRleHQgPSB0aGlzLmNvbnRleHRNYXAuZ2V0KG5hbWUpO1xuICAgICAgICByZXR1cm4gc3VwZXIuYVByb3BlcnRpZXMoY29udGV4dCwgVUlNZXRhLktleUxhYmVsKTtcbiAgICB9XG5cbiAgICB6b25lcygpOiBzdHJpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFVJTWV0YS5ab25lc1RMUk1CO1xuICAgIH1cblxuXG4gICAgLy8gcmVtb3ZlIHRoaXMgdWdseSBzb2x1dGlvbiBvbmNlIEkgZmlndXJlIG91dCBjdXN0b20gdmFsdWUgYWNjZXNzb3JcbiAgICBwcm9wZXJ0aWVzKGtleTogc3RyaW5nLCBkZWZWYWx1ZTogYW55ID0gbnVsbCk6IGFueVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh0aGlzLmFjdGl2ZUNvbnRleHQpID8gdGhpcy5hY3RpdmVDb250ZXh0LnByb3BlcnR5Rm9yS2V5KGtleSkgOiBkZWZWYWx1ZTtcblxuICAgIH1cblxuICAgIGRlYnVnU3RyaW5nKG5hbWU6IHN0cmluZyk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRNYXAuZ2V0KG5hbWUpO1xuICAgICAgICBhc3NlcnQoaXNQcmVzZW50KGNvbnRleHQpLCAnVHJ5aW5nIHRvIHJldHJpdmUgZGVidWdTdHJpbmcgb24gbm9uLWV4aXN0aW5nIGNvbnRleHQnKTtcblxuICAgICAgICByZXR1cm4gY29udGV4dC5kZWJ1Z1N0cmluZygpO1xuICAgIH1cblxuXG4gICAgbmdPbkRlc3Ryb3koKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5sYXlvdXRDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250ZXh0TWFwLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuY29udGV4dE1hcCA9IG51bGw7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogQmFzZWQgb24gb3JpZ2luYWwgd29yazogTWV0YVVJOiBDcmFpZyBGZWRlcmlnaGkgKDIwMDgpXG4gKlxuICovXG5pbXBvcnQge0NvbXBvbmVudH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0RvbVNhbml0aXplcn0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG5pbXBvcnQge0Vudmlyb25tZW50LCBpc1ByZXNlbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtNZXRhTGF5b3V0fSBmcm9tICcuLi9tZXRhLWxheW91dCc7XG5pbXBvcnQge01ldGFDb250ZXh0Q29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL21ldGEtY29udGV4dC9tZXRhLWNvbnRleHQuY29tcG9uZW50JztcbmltcG9ydCB7Q29udGV4dH0gZnJvbSAnLi4vLi4vY29yZS9jb250ZXh0JztcblxuLyoqXG4gKiBNZXRhRWxlbWVudExpc3QgaXMgaW1wbGVtZW50YXRpb24gb2YgU3RhY2sgTGF5b3V0IHdoZXJlIHRoZSBjb250ZW50IGlzIHJlbmRlcmVkIGFzIGxpc3QgKHN0YWNrZWQpXG4gKiBZb3UgZG8gbm90IHVzZSB0aGlzIGxheW91dCBkaXJlY3RseSBhcyBpdCBpcyBpbnN0YW50aWF0ZWQgZHluYW1pY2FsbHkgdXNpbmcgTWV0YUluY2x1ZGVDb21wb25lbnQuXG4gKlxuICogRm9yIG1vcmUgZGV0YWlsIHBsZWFzZSBjaGVja291dCBXaWRnZXRSdWxlcy5vc3MgdGhlIHBhcnQgYmVsbG93IHdoZXJlIGNyZWF0ZSBuZXcgdHJhaXRcbiAqIHRoYXQgY2FuIGJlIGFwcGxpZWQgdG8gYW55IGxheW91dC5cbiAqXG4gKiBgYGBcbiAqXG4gKiBsYXlvdXQge1xuICpcbiAqICAgQHRyYWl0PVN0YWNrIHsgdmlzaWJsZTp0cnVlOyBjb21wb25lbnQ6TWV0YUVsZW1lbnRMaXN0Q29tcG9uZW50IH1cbiAqXG4gKiB9XG4gKlxuICogYGBgXG4gKlxuICogQWN0dWFsIHVzYWdlIGNvdWxkIGJlIDpcbiAqXG4gKlxuICogYGBgXG4gKiAgbGF5b3V0PUluc3BlY3QyI1N0YWNrIHtcbiAqICAgICAgIEBsYXlvdXQ9Rmlyc3QjRm9ybSB7XG4gKiAgICAgICAgICAgZWxlbWVudFN0eWxlOlwicGFkZGluZy1ib3R0b206MTAwcHhcIjtcbiAqICAgICAgIH1cbiAqICAgICAgIEBsYXlvdXQ9U2Vjb25kI0Zvcm0geyB6b25lUGF0aDpTZWNvbmQ7IH1cbiAqICAgfVxuICpcbiAqXG4gKlxuICogICAgY2xhc3M9VXNlciB7XG4gKiAgICAgICB6Tm9uZSA9PiAqO1xuICogICAgICAgekxlZnQgPT4gZmlyc3ROYW1lID0+IGxhc3ROYW1lID0+IGFnZSA9PiBkZXBhcnRtZW50O1xuICogICAgICAgU2Vjb25kLnpMZWZ0ID0+IGVtYWlsO1xuICpcbiAqICAgfVxuICpcbiAqIGBgYFxuICpcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgdGVtcGxhdGVVcmw6ICdtZXRhLWVsZW1lbnQtbGlzdC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ21ldGEtZWxlbWVudC1saXN0LmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTWV0YUVsZW1lbnRMaXN0Q29tcG9uZW50IGV4dGVuZHMgTWV0YUxheW91dFxue1xuXG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX21ldGFDb250ZXh0OiBNZXRhQ29udGV4dENvbXBvbmVudCwgcHVibGljIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgcHVibGljIHNhbml0aXplcjogRG9tU2FuaXRpemVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIoX21ldGFDb250ZXh0LCBlbnYpO1xuXG4gICAgfVxuXG5cbiAgICBzdHlsZVN0cmluZyhuYW1lOiBzdHJpbmcpOiBhbnlcbiAgICB7XG4gICAgICAgIGxldCBsQ29udGV4dDogQ29udGV4dCA9IHRoaXMuY29udGV4dE1hcC5nZXQobmFtZSk7XG4gICAgICAgIC8vIHJldHVybiBpc1ByZXNlbnQobENvbnRleHQpICYmIGlzUHJlc2VudChsQ29udGV4dC5wcm9wZXJ0eUZvcktleSgnZWxlbWVudFN0eWxlJykpID9cbiAgICAgICAgLy8gICAgIHRoaXMuc2FuaXRpemVyLmJ5cGFzc1NlY3VyaXR5VHJ1c3RTdHlsZShsQ29udGV4dC5wcm9wZXJ0eUZvcktleSgnZWxlbWVudFN0eWxlJykpIDpcbiAgICAgICAgLy8gbnVsbDtcblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cblxuICAgIGNsYXNzU3RyaW5nKG5hbWU6IHN0cmluZyk6IGFueVxuICAgIHtcbiAgICAgICAgbGV0IGxDb250ZXh0OiBDb250ZXh0ID0gdGhpcy5jb250ZXh0TWFwLmdldChuYW1lKTtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudChsQ29udGV4dCkgPyBsQ29udGV4dC5wcm9wZXJ0eUZvcktleSgnZWxlbWVudENsYXNzJykgOiBudWxsO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEJhc2VkIG9uIG9yaWdpbmFsIHdvcms6IE1ldGFVSTogQ3JhaWcgRmVkZXJpZ2hpICgyMDA4KVxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnQsIElucHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RW52aXJvbm1lbnQsIGlzQmxhbmssIGlzUHJlc2VudH0gZnJvbSAnQGFyaWJhdWkvY29yZSc7XG5pbXBvcnQge01ldGFDb250ZXh0Q29tcG9uZW50fSBmcm9tICcuLi8uLi9jb3JlL21ldGEtY29udGV4dC9tZXRhLWNvbnRleHQuY29tcG9uZW50JztcbmltcG9ydCB7TWV0YUJhc2VDb21wb25lbnR9IGZyb20gJy4uL21ldGEuYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHtDb250ZXh0LCBVSUNvbnRleHR9IGZyb20gJy4uLy4uL2NvcmUvY29udGV4dCc7XG5pbXBvcnQge1VJTWV0YX0gZnJvbSAnLi4vLi4vY29yZS91aW1ldGEnO1xuaW1wb3J0IHtJdGVtUHJvcGVydGllc30gZnJvbSAnLi4vLi4vY29yZS9pdGVtLXByb3BlcnRpZXMnO1xuaW1wb3J0IHtNZW51SXRlbX0gZnJvbSAncHJpbWVuZy9jb21wb25lbnRzL2NvbW1vbi9hcGknO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVudUl0ZW1Db21tYW5kIGV4dGVuZHMgTWVudUl0ZW1cbntcbiAgICBhY3Rpb25OYW1lPzogc3RyaW5nO1xuICAgIG1vZHVsZU5hbWU/OiBzdHJpbmc7XG4gICAgcm91dGVQYXRoPzogc3RyaW5nO1xuXG59XG5cbi8qKlxuICogTWV0YUFjdGlvbkxpc3QgcHJvdmlkZXMgYSB3YXkgaG93IHRvIGF0dGFjaCBhY3Rpb25zIHRvIHRoZSBzY3JlZW4uIFdlIGNhbiB1c2UgQGFjdGlvbiBkZWNsYXJhdGlvblxuICogdG8gZGVmaW5lIG5ldyBhY3Rpb24gYW5kIHRoZWlyIGFjdGlvblJlc3VsdHMuIGFjdGlvblJlc3VsdHMgaXMgYW4gZXhwcmVzc2lvbiB0aGF0IGlzIGV4ZWN1dGVkXG4gKiBhbmQgZWl0aGVyIHJlZGlyZWN0IHlvdSB0byBkaWZmZXJlbnQgcGFnZSBvciBzb21lIGxvZ2ljIGlzIGV4ZWN1dGVkLlxuICpcbiAqIEFjdGlvbnMgY2FuIGJlIG9yZ2FuaXplZCBpbnRvIGFjdGlvbiBjYXRlZ29yaWVzIGJ1dCBpZiB3ZSBkbyBub3QgcHJvdmlkZSBhbnkgYWN0aW9uIGNhdGVnb3J5XG4gKiBkZWZhdWx0IG9uZSBpcyB1c2VkLlxuICpcbiAqIFRoaXMgd2F5IHdlIGRlZmluZSBwbGFjZWhvbGRlciB1c2luZyBhIGxheW91dCB3aGVyZSBhY3Rpb25zIGFyZSBpbnNlcnRlZFxuICpcbiAqXG4gKmBgYGh0bWxcbiAqXG4gKiAgICBsYXlvdXQ9SW5zcGVjdDIjU3RhY2sge1xuICogICAgICAgQGxheW91dD1NZW51VG9wI0FjdGlvbkJ1dHRvbnMge1xuICogICAgICAgfVxuICpcbiAqICAgICBAbGF5b3V0PUZpcnN0I0Zvcm0ge1xuICogICAgIH1cbiAqXG4gKiAgICAgQGxheW91dD1TZWNvbmQjRm9ybSB7IHpvbmVQYXRoOlNlY29uZDsgfVxuICogIH1cbiAqXG4gKlxuICogYGBgXG4gKlxuICogQW5kIHRoaXMgaXMgaG93IHdlIGRlZmluZSBhY3Rpb25zIGZvciBjdXJyZW50IHBhZ2UvY2xhc3Mvb2JqZWN0XG4gKlxuICogYGBgXG4gKiAgICBAYWN0aW9uPXVwZGF0ZSAge1xuICogICAgICAgICAgICAgYWN0aW9uUmVzdWx0czokeyBvYmplY3QuZmlyc3ROYW1lID0gXCJNci5cIiArICBvYmplY3QuZmlyc3ROYW1lIH07XG4gKiAgICAgICAgICAgICB2aXNpYmxlOiAkeyBwcm9wZXJ0aWVzLmVkaXRpbmcgfTtcbiAqICAgIH1cbiAqXG4gKlxuICogICAgQGFjdGlvbj1TYXZlICB7XG4gKiAgICAgICAgICAgICBsYWJlbDogXCJNeSBTYXZlXCI7XG4gKiAgICAgICAgICAgICBhY3Rpb25SZXN1bHRzOiR7IG9iamVjdC5maXJzdE5hbWUgPSBcIk1zLlwiICsgIG9iamVjdC5maXJzdE5hbWUgfTtcbiAqICAgICAgICAgICAgIHZpc2libGU6ICR7IHByb3BlcnRpZXMuZWRpdGluZyB9O1xuICogICAgICAgICAgICAgYnV0dG9uU3R5bGU6aW5mbztcbiAqICAgIH1cbiAqIGBgYFxuICpcbiAqXG4gKlxuICpcbiAqXG4gKlxuICpcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgdGVtcGxhdGVVcmw6ICdtZXRhLWFjdGlvbi1saXN0LmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnbWV0YS1hY3Rpb24tbGlzdC5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIE1ldGFBY3Rpb25MaXN0Q29tcG9uZW50IGV4dGVuZHMgTWV0YUJhc2VDb21wb25lbnRcbntcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogRGVmaW5lcyB0eXBlIG9mIGNvbXBvbmVudHMgdGhhdCByZW5kZXJzIG91ciBhY3Rpb25zLiBXZSBoYXZlIDMgdHlwZXM6XG4gICAgICogQnV0dG9ucywgTGlua3MgYW5kIFBvcHVwIE1lbnVcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgcmVuZGVyQXM6IHN0cmluZyA9ICdidXR0b25zJztcblxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzdHlsZSB1c2VkIGZvciB0aGUgYnV0dG9ucyBpZiBub25lIGlzIHNwZWNpZmllZFxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBkZWZhdWx0U3R5bGU6IHN0cmluZyA9ICdpbmZvJztcblxuXG4gICAgLyoqXG4gICAgICogVGVsbHMgdXMgaWYgdGhlIGFjdGlvbiBzaG91bGQgYmUgcmVuZGVyZWQgb24gdGhlIGxlZnQgb3IgcmlnaHQgc2lkZVxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBhbGlnbjogc3RyaW5nID0gJ3JpZ2h0JztcblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBzcGVjaWFsIGlkZW50aWZpZXIgYW5kIHdoZW4gdXNlZCB3ZSBwdXNoIGV4dHJhIHN0YWNrIHByb3BlcnR5IGluIG9yZGVyIHRvIGdldCBzb21lXG4gICAgICogYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRoYXQgYXJlIHByaW1hcmlseSByZWxhdGVkIHRvIHR5cGUgb2YgYWN0aW9ucyB0aGF0IGNhbiBiZSB2aXNpYmxlIG9yXG4gICAgICogZW5hYmxlZFxuICAgICAqXG4gICAgICogRS5nLiB3ZSBjYW4gc2F5IHdlIHdhbnQgb25seSBvYmplY3QgSW5zdGFuY2UgYmFzZWQgYnV0dG9uc1xuICAgICAqXG4gICAgICogYGBgXG4gICAgICogIEB0cmFpdD1JbnN0YW5jZUFjdGlvbkJ1dHRvbnMge1xuICAgICAqICAgICAgICAgIHZpc2libGU6dHJ1ZTtcbiAgICAgKiAgICAgICAgICBjb21wb25lbnQ6TWV0YUFjdGlvbkxpc3RDb21wb25lbnQ7XG4gICAgICogICAgICAgICAgYmluZGluZ3M6e1xuICAgICAqICAgICAgICAgICAgICByZW5kZXJBczpidXR0b25zO1xuICAgICAqICAgICAgICAgICAgICBhbGlnbjpyaWdodDtcbiAgICAgKiAgICAgICAgICAgICAgZmlsdGVyQWN0aW9uczppbnN0YW5jZTtcbiAgICAgKiAgICAgICAgICAgfTtcbiAgICAgKiAgICAgICAgICAgZWxlbWVudENsYXNzOlwibC1hY3Rpb24tYnV0dG9uc1wiO1xuICAgICAqICAgICAgfVxuICAgICAqXG4gICAgICogIGBgYFxuICAgICAqXG4gICAgICogV2hlbiB0aGlzIHRyYWl0IGlzIHVzZWQgd2UgcHVzaCBmaWx0ZXJBY3Rpb24gPSBpbnN0YW5jZSBhbmQgaXQgd2lsbCBnaXZlIHVzIGJhY2tcbiAgICAgKlxuICAgICAqICBgYGBcbiAgICAgKiAgZmlsdGVyQWN0aW9ucz1pbnN0YW5jZSB7XG4gICAgICogICAgICAgICAgdmlzaWJsZToke3Byb3BlcnRpZXMuaXNJbnN0YW5jZUFjdGlvbiA9PSB0cnVlfVxuICAgICAqICAgICAgfVxuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBXaGljaCBjYW4gYmUgdXNlZCB0byBzaG93IG9yIGhpZGUgYnV0dG9uIGlmIGUuZy4gb2JqZWN0IGluc3RhbmNlIGlzIHNlbGVjdGVkIG9yIGF2YWlsYWJsZVxuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgZmlsdGVyQWN0aW9uczogc3RyaW5nO1xuXG5cbiAgICAvKipcbiAgICAgKiBKdXN0IHN0b3JlcyBtYXBwaW5nIGJldHdlZW4gYWN0aW9uIGFuZCBjb250ZXh0IGFuZCBhY3Rpb24gYW5kIEl0ZW1Qcm9wZXJ0aWVzLiBTbyBldmVyeXRpbWVcbiAgICAgKlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfYWN0aW9uc0J5Q2F0ZWdvcnk6IE1hcDxzdHJpbmcsIEl0ZW1Qcm9wZXJ0aWVzW10+O1xuICAgIHByb3RlY3RlZCBfYWN0aW9uc0J5TmFtZTogTWFwPHN0cmluZywgSXRlbVByb3BlcnRpZXM+O1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCAgYWN0aW9uIGdyb3VwcyByZXRyaWV2ZWQgZnJvbSBjdXJyZW50IENvbnRleHRcbiAgICAgKi9cbiAgICBjYXRlZ29yaWVzOiBJdGVtUHJvcGVydGllc1tdO1xuXG4gICAgLyoqXG4gICAgICogV2hlbiBBY3Rpb25NZW51IHRyYWl0IGlzIHVzZWQgdGhpcyBpcyB0aGUgbWVudSBtb2RlbCB0aGF0IGRlZmluZXMgd2hhdCBpdGVtcyBhcmUgYXZhaWxhYmxlXG4gICAgICovXG4gICAgbWVudU1vZGVsOiBNZW51SXRlbUNvbW1hbmRbXTtcblxuICAgIC8qKlxuICAgICAqIE1hcCBsaW5raW5nIHRoZSBuYW1lIG9mIHRoZSBsYXlvdXQgdG8gdGhlIGFjdHVhbCBjb250ZXh0LiBXZSBuZWVkIHRoaXMgd2hlbiB3ZSBuZWVkXG4gICAgICogdG8gYWNjZXNzIGN1cnJlbnQgY29udGVudC5cbiAgICAgKlxuICAgICAqL1xuICAgIF9jb250ZXh0TWFwOiBNYXAgPHN0cmluZywgQ29udGV4dD4gPSBuZXcgTWFwPHN0cmluZywgQ29udGV4dD4oKTtcblxuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9tZXRhQ29udGV4dDogTWV0YUNvbnRleHRDb21wb25lbnQsIHB1YmxpYyBlbnY6IEVudmlyb25tZW50KVxuICAgIHtcbiAgICAgICAgc3VwZXIoZW52LCBfbWV0YUNvbnRleHQpO1xuXG4gICAgfVxuXG5cbiAgICAvLyBwcm90ZWN0ZWQgdXBkYXRlTWV0YSgpOiBhbnlcbiAgICAvLyB7XG4gICAgLy8gICAgIC8vIHRvZG86IHJlcGxhY2UgaXQgd2l0aCBFdmVudEVtbWl0dGVyLlxuICAgIC8vICAgICB0aGlzLl9hY3Rpb25zQnlDYXRlZ29yeSA9IG51bGw7XG4gICAgLy8gICAgIHRoaXMuX2FjdGlvbnNCeU5hbWUgPSBudWxsO1xuICAgIC8vICAgICByZXR1cm4gc3VwZXIudXBkYXRlTWV0YSgpO1xuICAgIC8vIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWQgYW5kIHN0b3JlcyBjdXJyZW50IGFjdGlvbiBjYXRlZ29yaWVzIGF2YWlsYWJsZSB0byBjdXJyZW50IENvbnRleHRcbiAgICAgKlxuICAgICAqL1xuICAgIGFjdGlvbkNhdGVnb3JpZXMoKTogSXRlbVByb3BlcnRpZXNbXVxuICAgIHtcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5fYWN0aW9uc0J5Q2F0ZWdvcnkpIHx8IGlzQmxhbmsodGhpcy5fYWN0aW9uc0J5TmFtZSkpIHtcblxuICAgICAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmZpbHRlckFjdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnNldCgnZmlsdGVyQWN0aW9ucycsIHRoaXMuZmlsdGVyQWN0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBtZXRhOiBVSU1ldGEgPSA8VUlNZXRhPiB0aGlzLmNvbnRleHQubWV0YTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5wdXNoKCk7XG5cbiAgICAgICAgICAgIHRoaXMubWVudU1vZGVsID0gW107XG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25zQnlDYXRlZ29yeSA9IG5ldyBNYXA8c3RyaW5nLCBJdGVtUHJvcGVydGllc1tdPigpO1xuICAgICAgICAgICAgdGhpcy5fYWN0aW9uc0J5TmFtZSA9IG5ldyBNYXA8c3RyaW5nLCBJdGVtUHJvcGVydGllcz4oKTtcbiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IG1ldGEuYWN0aW9uc0J5Q2F0ZWdvcnkodGhpcy5jb250ZXh0LCB0aGlzLl9hY3Rpb25zQnlDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBVSU1ldGEuQWN0aW9uWm9uZXMpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnBvcCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9hY3Rpb25zQnlDYXRlZ29yeS5mb3JFYWNoKCh2OiBJdGVtUHJvcGVydGllc1tdLCBrOiBzdHJpbmcpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdi5mb3JFYWNoKChpdGVtOiBJdGVtUHJvcGVydGllcykgPT4gdGhpcy5fYWN0aW9uc0J5TmFtZS5zZXQoaXRlbS5uYW1lLCBpdGVtKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNhdGVnb3JpZXM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEFjdGlvbiBiZWxvbmdpbmcgdG8gY3VycmVudCBjYXRlZ29yeS4uXG4gICAgICpcbiAgICAgKi9cbiAgICBhY3Rpb25zKGNhdGVnb3J5OiBJdGVtUHJvcGVydGllcyk6IEl0ZW1Qcm9wZXJ0aWVzW11cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb25zQnlDYXRlZ29yeS5nZXQoY2F0ZWdvcnkubmFtZSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFdoZW4gYWN0aW9uIGNsaWNrZWQgdGhpcyBtZXRob2QgZGVsZWdhdGVzIGl0IGludG8gbWV0YSBsYXllciB0byBiZSBleGVjdXRlZC5cbiAgICAgKlxuICAgICAqL1xuICAgIGFjdGlvbkNsaWNrZWQoYWN0aW9uOiBhbnkpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuX2NvbnRleHRNYXAuZ2V0KGFjdGlvbik7XG4gICAgICAgIGxldCBtZXRhOiBVSU1ldGEgPSA8VUlNZXRhPiBjb250ZXh0Lm1ldGE7XG5cbiAgICAgICAgbWV0YS5maXJlQWN0aW9uRnJvbVByb3BzKHRoaXMuX2FjdGlvbnNCeU5hbWUuZ2V0KGFjdGlvbiksIDxVSUNvbnRleHQ+IGNvbnRleHQpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQSBob29rIHVzZWQgdG8gc3RvcmUgdGhlIG1vc3QgY3VycmVudCBjb250ZXh0IGZvciBlYWNoIGFjdGlvbi5cbiAgICAgKlxuICAgICAqL1xuICAgIG9uQWZ0ZXJDb250ZXh0U2V0KGFjdGlvbk5hbWU6IHN0cmluZyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBhQ29udGV4dCA9IHRoaXMuX21ldGFDb250ZXh0LmFjdGl2ZUNvbnRleHQoKS5zbmFwc2hvdCgpLmh5ZHJhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLl9jb250ZXh0TWFwLnNldChhY3Rpb25OYW1lLCBhQ29udGV4dCk7XG5cblxuICAgICAgICBpZiAodGhpcy5yZW5kZXJBcyA9PT0gJ21lbnUnKSB7XG4gICAgICAgICAgICB0aGlzLnBvcHVsYXRlTWVudShhY3Rpb25OYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQSBob29rIHVzZWQgdG8gc3RvcmUgdGhlIG1vc3QgY3VycmVudCBjb250ZXh0IGZvciBlYWNoIGFjdGlvbi5cbiAgICAgKlxuICAgICAqL1xuICAgIG9uQ29udGV4dENoYW5nZWQoY2hhbmdlOiBzdHJpbmcpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZygnQ2hhbmdlZCA9ICcgKyBjaGFuZ2UpO1xuICAgIH1cblxuICAgIGxhYmVsKGFjdGlvbk5hbWU6IHN0cmluZyk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgbGV0IGNvbnRleHQ6IENvbnRleHQgPSB0aGlzLl9jb250ZXh0TWFwLmdldChhY3Rpb25OYW1lKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmFQcm9wZXJ0aWVzKGNvbnRleHQsIFVJTWV0YS5LZXlMYWJlbCk7XG4gICAgfVxuXG4gICAgaXNBY3Rpb25EaXNhYmxlZChhY3Rpb25OYW1lOiBzdHJpbmcpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgY29udGV4dDogQ29udGV4dCA9IHRoaXMuX2NvbnRleHRNYXAuZ2V0KGFjdGlvbk5hbWUpO1xuICAgICAgICByZXR1cm4gaXNQcmVzZW50KGNvbnRleHQpID8gIWNvbnRleHQuYm9vbGVhblByb3BlcnR5Rm9yS2V5KCdlbmFibGVkJywgZmFsc2UpIDogdHJ1ZTtcbiAgICB9XG5cbiAgICBhbGlnblJpZ2h0KCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmFsaWduID09PSAncmlnaHQnO1xuICAgIH1cblxuICAgIHN0eWxlKGFjdGlvbk5hbWU6IHN0cmluZyk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgbGV0IGNvbnRleHQ6IENvbnRleHQgPSB0aGlzLl9jb250ZXh0TWFwLmdldChhY3Rpb25OYW1lKTtcbiAgICAgICAgbGV0IHN0eWxlID0gc3VwZXIuYVByb3BlcnRpZXMoY29udGV4dCwgJ2J1dHRvblN0eWxlJyk7XG5cbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudChzdHlsZSkgPyBzdHlsZSA6IHRoaXMuZGVmYXVsdFN0eWxlO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBwb3B1bGF0ZU1lbnUoYWN0aW9uTmFtZTogc3RyaW5nKTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IGxhYmVsID0gdGhpcy5sYWJlbChhY3Rpb25OYW1lKTtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5tZW51TW9kZWwuZmluZEluZGV4KFxuICAgICAgICAgICAgKGl0ZW06IE1lbnVJdGVtQ29tbWFuZCkgPT4gaXRlbS5hY3Rpb25OYW1lID09PSBhY3Rpb25OYW1lKTtcblxuICAgICAgICBsZXQgaXRlbUNvbW1hbmQ6IE1lbnVJdGVtQ29tbWFuZCA9IHtcbiAgICAgICAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgICAgICAgIGFjdGlvbk5hbWU6IGFjdGlvbk5hbWUsXG4gICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5pc0FjdGlvbkRpc2FibGVkKGFjdGlvbk5hbWUpLFxuICAgICAgICAgICAgY29tbWFuZDogKGV2ZW50OiBhbnkpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25DbGlja2VkKGV2ZW50Lml0ZW0uYWN0aW9uTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMubWVudU1vZGVsLnB1c2goaXRlbUNvbW1hbmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tZW51TW9kZWxbaW5kZXhdID0gaXRlbUNvbW1hbmQ7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEJhc2VkIG9uIG9yaWdpbmFsIHdvcms6IE1ldGFVSTogQ3JhaWcgRmVkZXJpZ2hpICgyMDA4KVxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnQsIElucHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7QmFzZUNvbXBvbmVudH0gZnJvbSAnQGFyaWJhdWkvY29tcG9uZW50cyc7XG5pbXBvcnQge0Vudmlyb25tZW50LCBpc1ByZXNlbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtBY3RpdmF0ZWRSb3V0ZX0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7VUlNZXRhfSBmcm9tICcuLi8uLi9jb3JlL3VpbWV0YSc7XG5cblxuLyoqXG4gKiBEZWZhdWx0IGhvbWVQYWdlIGltcGxlbWVudGF0aW9uIGZvciBhIE1vZHVsZS4gSnVzdCBsaWtlIG9uIHRoZSBleGFtcGxlIGJlbGxvdyB3aGVuIHdlIGRlZmluZSBhXG4gKiBtb2R1bGUgd2l0aG91dCBhIGhvbWVQYWdlIHRoaXMgTWV0YUhvbWVQYWdlQ29tcG9uZW50IHdpbGwgYmUgdXNlZC5cbiAqXG4gKiBgYGBcbiAqXG4gKiAgIEBtb2R1bGU9SG9tZSB7XG4gKiAgICAgICBsYWJlbDpcIk15IEhvbWVcIjtcbiAqICAgICAgIHBhZ2VUaXRsZTpcIllvdSBhcmUgbm93IG9uIEhvbWVwYWdlXCI7XG4gKlxuICogICAgICAgQGxheW91dD1Ub2RheSB7XG4gKiAgICAgICAgICBhZnRlcjp6VG9wO1xuICogICAgICAgICAgbGFiZWw6IFwiU2FsZXMgR3JhcGhcIjtcbiAqICAgICAgICAgIGNvbXBvbmVudDpTYWxlc0dyYXBoQ29tcG9uZW50O1xuICogICAgIH1cbiAqICB9XG4gKlxuICogYGBgXG4gKiBPciB5b3UgY2FuIGRlY2lkZSBub3QgdG8gdXNlIHRoaXMgTWV0YUhvbWVQYWdlIGFuZCBQcm92aWRlIHlvdXIgb3duIGUuZzpcbiAqXG4gKiBgYGBcbiAqICBAbW9kdWxlPVByb2R1Y3RzIHtcbiAqICAgICAgbGFiZWw6XCJQcm9kdWN0cyBmb3IgU29tZXRoaWdcIjtcbiAqICAgICAgcGFnZVRpdGxlOlwiWW91IGFyZSBub3cgb24gUHJvZHVjdHNcIjtcbiAqICAgICAgaG9tZVBhZ2U6UHJvZHVjdENvbnRlbnRDb21wb25lbnQ7XG4gKiAgfVxuICpcbiAqIGBgYFxuICpcbiAqXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnbS1ob21lLXBhZ2UnLFxuICAgIHRlbXBsYXRlVXJsOiAnbWV0YS1ob21lLnBhZ2UuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydtZXRhLWhvbWUucGFnZS5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIE1ldGFIb21lUGFnZUNvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnRcbntcblxuICAgIEBJbnB1dCgpXG4gICAgbW9kdWxlOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZW52OiBFbnZpcm9ubWVudCwgcHJpdmF0ZSBhY3RpdmF0ZWRSb3V0ZTogQWN0aXZhdGVkUm91dGUpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBUaGlzIHBhZ2UgaXMgdHJpZ2dlcmVkIGJ5IHJvdXRlciBhbmQgd2UgZXhwZWN0IGEgbW9kdWxlIHRvIGJlIHBhc3NlZCBpbiBieSByb3V0aW5nXG4gICAgICogcGFyYW1zXG4gICAgICpcbiAgICAgKi9cbiAgICBuZ09uSW5pdCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xuXG4gICAgICAgIGxldCByb3V0ZVBhcmFtcyA9IHRoaXMuYWN0aXZhdGVkUm91dGUuc25hcHNob3QucGFyYW1zO1xuICAgICAgICBpZiAoaXNQcmVzZW50KHJvdXRlUGFyYW1zKSAmJiBpc1ByZXNlbnQocm91dGVQYXJhbXNbVUlNZXRhLktleU1vZHVsZV0pKSB7XG4gICAgICAgICAgICB0aGlzLm1vZHVsZSA9IHJvdXRlUGFyYW1zW1VJTWV0YS5LZXlNb2R1bGVdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFzTW9kdWxlKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBpc1ByZXNlbnQodGhpcy5tb2R1bGUpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEJhc2VkIG9uIG9yaWdpbmFsIHdvcms6IE1ldGFVSTogQ3JhaWcgRmVkZXJpZ2hpICgyMDA4KVxuICpcbiAqL1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtFbnZpcm9ubWVudCwgaXNQcmVzZW50fSBmcm9tICdAYXJpYmF1aS9jb3JlJztcbmltcG9ydCB7TWV0YUxheW91dH0gZnJvbSAnLi4vbWV0YS1sYXlvdXQnO1xuaW1wb3J0IHtNZXRhQ29udGV4dENvbXBvbmVudH0gZnJvbSAnLi4vLi4vY29yZS9tZXRhLWNvbnRleHQvbWV0YS1jb250ZXh0LmNvbXBvbmVudCc7XG5pbXBvcnQge1VJTWV0YX0gZnJvbSAnLi4vLi4vY29yZS91aW1ldGEnO1xuaW1wb3J0IHtDb250ZXh0fSBmcm9tICcuLi8uLi9jb3JlL2NvbnRleHQnO1xuaW1wb3J0IHtJdGVtUHJvcGVydGllc30gZnJvbSAnLi4vLi4vY29yZS9pdGVtLXByb3BlcnRpZXMnO1xuXG5cbi8qKlxuICpcbiAqIERlZmluZXMgNCBzaXplcyBmb3IgdGhlIHBvcnRsZXQgc2l6ZVxuICpcbiAqL1xuY29uc3QgUG9ydGxldFNpemVzOiB7W2s6IHN0cmluZ106IHN0cmluZ30gPSB7XG4gICAgJ3NtYWxsJzogJ3VpLW1kLTMnLFxuICAgICdtZWRpdW0nOiAndWktbWQtNCcsXG4gICAgJ3dpZGUnOiAndWktbWQtNicsXG4gICAgJ2xhcmdlJzogJ3VpLW1kLTEyJ1xufTtcblxuLyoqXG4gKiBTaW1wbGUgRGFzaGJvYXJkIGltcGxlbWVudGF0aW9uIGZvciB0aGUgaG9tZVBhZ2UuIEp1c3QgbGlrZSB3ZSBzdXBwb3J0IGluc2lkZSBNZXRhRm9ybVRhYmxlXG4gKiBkaWZmZXJlbnQgem9uZXMgYW5kIGRpc3RyaWJ1dGUgZmllbGRzIHRvIHRoZW0sIHdlIGRvIHRoZSBzYW1lIHdpdGggZGVmaW5lZCBsYXlvdXRzLlxuICpcbiAqIFRoaXMgZGFzaGJvYXJkIHN1cHBvcnRzIDMgem9uZXMuXG4gKlxuICogICAgelRvYzogVGhpcyBpcyB0aGUgcGxhY2Ugd2hlcmUgdXN1YWxseSBhbGwgdGhlIGFjdGlvbnMgb3IgMm5kIGxldmVsIG5hdmlnYXRpb24gd2lsbCBnb1xuICogICAgelRvcCx6Qm90dG9tOiBpcyB3aGVyZSB0aGUgcG9ydGxldHMgYXJlIHJlbmRlcmVkLlxuICpcbiAqXG4gKiBUbyBkaXN0cmlidXRlIGxheW91dHMgdG8gZGlmZmVyZW50IHpvbmVzIDpcbiAqXG4gKiBgYGBcbiAqICAgICAgIEBtb2R1bGU9SG9tZSB7XG4gKiAgICAgICAgICAgbGFiZWw6XCJNeSBIb21lXCI7XG4gKiAgICAgICAgICAgcGFnZVRpdGxlOlwiWW91IGFyZSBub3cgb24gSG9tZXBhZ2VcIjtcbiAqXG4gKlxuICogICAgICAgICAgIEBsYXlvdXQ9VG9kYXkge1xuICogICAgICAgICAgICAgIGFmdGVyOnpUb3A7XG4gKiAgICAgICAgICAgICAgbGFiZWw6IFwiU2FsZXMgR3JhcGhcIjtcbiAqICAgICAgICAgICAgICBjb21wb25lbnQ6U2FsZXNHcmFwaENvbXBvbmVudDtcbiAqXG4gKiAgICAgICAgICAgfVxuICpcbiAqICAgICAgICAgICBAbGF5b3V0PVNwb3J0IHtcbiAqICAgICAgICAgICAgICBhZnRlcjpUb2RheTtcbiAqICAgICAgICAgICAgICBsYWJlbDogXCJTcG9ydCB0b2RheSFcIjtcbiAqICAgICAgICAgICAgICBjb21wb25lbnQ6U3RyaW5nQ29tcG9uZW50O1xuICogICAgICAgICAgICAgIGJpbmRpbmdzOnt2YWx1ZTpcIlRoZSBUZXhhcyBUZWNoIHF1YXJ0ZXJiYWNrIGFycml2ZWQgYXQgIFwiIH1cbiAqXG4gKiAgICAgICAgICAgfVxuICpcbiAqIGBgYFxuICpcbiAqICBvciBQdXNoIGFjdGlvbnMgdG8gdGhlIHpUb2Mgem9uZTpcbiAqXG4gKiBgYGBcbiAqICAgICAgIEBtb2R1bGU9SG9tZSB7XG4gKiAgICAgICAgICAgbGFiZWw6XCJNeSBIb21lXCI7XG4gKiAgICAgICAgICAgcGFnZVRpdGxlOlwiWW91IGFyZSBub3cgb24gSG9tZXBhZ2VcIjtcbiAqXG4gKlxuICogICAgICAgICAgIEBsYXlvdXQ9VG9kYXkge1xuICogICAgICAgICAgICAgIGFmdGVyOnpUb3A7XG4gKiAgICAgICAgICAgICAgbGFiZWw6IFwiU2FsZXMgR3JhcGhcIjtcbiAqICAgICAgICAgICAgICBjb21wb25lbnQ6U2FsZXNHcmFwaENvbXBvbmVudDtcbiAqXG4gKiAgICAgICAgICAgfVxuICpcbiAqICAgICAgICAgICAgQGxheW91dD1BY3Rpb25zI0FjdGlvbkxpbmtzIHtcbiAqICAgICAgICAgICAgICAgbGFiZWw6JFthMDA0XUFjdGlvbnM7XG4gKiAgICAgICAgICAgICAgICBhZnRlcjp6VG9jO1xuICogICAgICAgICAgICB9XG4gKlxuICpcbiAqICAgICAgICAgICBAYWN0aW9uQ2F0ZWdvcnk9Q3JlYXRlIHtcbiAqICAgICAgICAgICAgICBAYWN0aW9uPU5ld0Jsb2cjcGFnZUFjdGlvbiB7IHBhZ2VOYW1lOmJsb2dQYWdlO31cbiAqICAgICAgICAgICAgICBAYWN0aW9uPU5ld0NoYXJ0I3BhZ2VBY3Rpb24geyBwYWdlTmFtZTpjaGFydFBhZ2U7fVxuICogICAgICAgICAgIH1cbiAqXG4gKiB9XG4gKlxuICpcbiAqXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHRlbXBsYXRlVXJsOiAnbWV0YWRhc2hib2FyZC1sYXlvdXQuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWydtZXRhZGFzaGJvYXJkLWxheW91dC5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIE1ldGFEYXNoYm9hcmRMYXlvdXRDb21wb25lbnQgZXh0ZW5kcyBNZXRhTGF5b3V0XG57XG5cbiAgICAvKipcbiAgICAgKiBOZXcgZGVmaW5lZCB6b25lIGZvciBBY3Rpb25zXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0aWMgWm9uZVRvYyA9ICd6VG9jJztcbiAgICBzdGF0aWMgWm9uZXNUQiA9IFtcbiAgICAgICAgTWV0YURhc2hib2FyZExheW91dENvbXBvbmVudC5ab25lVG9jLCBVSU1ldGEuWm9uZVRvcCxcbiAgICAgICAgVUlNZXRhLlpvbmVCb3R0b21cbiAgICBdO1xuXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBpZiBzaWRlYmFyIGlzIGNvbGxhcHNlZCBvciBleHBhbmRlZFxuICAgICAqXG4gICAgICovXG4gICAgYWN0aXZlTWVudTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBNb2R1bGUgbmFtZVxuICAgICAqXG4gICAgICovXG4gICAgZGFzaGJvYXJkTmFtZTogc3RyaW5nID0gJyc7XG5cbiAgICBjb25zdHJ1Y3RvcihtZXRhQ29udGV4dDogTWV0YUNvbnRleHRDb21wb25lbnQsIGVudjogRW52aXJvbm1lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihtZXRhQ29udGV4dCwgZW52KTtcbiAgICB9XG5cblxuICAgIG5nT25Jbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLm5nT25Jbml0KCk7XG5cbiAgICAgICAgdGhpcy5kYXNoYm9hcmROYW1lID0gdGhpcy5sYWJlbCgpO1xuICAgIH1cblxuICAgIHRvZ2dsZU1lbnUoZXZlbnQ6IGFueSlcbiAgICB7XG4gICAgICAgIHRoaXMuYWN0aXZlTWVudSA9ICF0aGlzLmFjdGl2ZU1lbnU7XG4gICAgfVxuXG4gICAgem9uZXMoKTogc3RyaW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBNZXRhRGFzaGJvYXJkTGF5b3V0Q29tcG9uZW50LlpvbmVzVEI7XG4gICAgfVxuXG4gICAgdG9wTGF5b3V0cygpOiBJdGVtUHJvcGVydGllc1tdXG4gICAge1xuICAgICAgICBsZXQgdG9wcyA9IHRoaXMubGF5b3V0c0J5Wm9uZXMuZ2V0KFVJTWV0YS5ab25lVG9wKTtcblxuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRvcHMpID8gdG9wcyA6IFtdO1xuICAgIH1cblxuICAgIHBvcnRsZXRXaWR0aChuYW1lOiBzdHJpbmcpOiBhbnlcbiAgICB7XG4gICAgICAgIGxldCBsQ29udGV4dDogQ29udGV4dCA9IHRoaXMuY29udGV4dE1hcC5nZXQobmFtZSk7XG4gICAgICAgIGxldCB3aWR0aCA9IGxDb250ZXh0LnByb3BlcnR5Rm9yS2V5KCdwb3J0bGV0V2lkdGgnKTtcbiAgICAgICAgcmV0dXJuIGlzUHJlc2VudCh3aWR0aCkgJiYgaXNQcmVzZW50KFBvcnRsZXRTaXplc1t3aWR0aF0pID8gUG9ydGxldFNpemVzW3dpZHRoXSA6XG4gICAgICAgICAgICAndWktbWQtNCc7XG4gICAgfVxuXG4gICAgYm90dG9tTGF5b3V0cygpOiBJdGVtUHJvcGVydGllc1tdXG4gICAge1xuICAgICAgICBsZXQgYm90dG9tID0gdGhpcy5sYXlvdXRzQnlab25lcy5nZXQoVUlNZXRhLlpvbmVCb3R0b20pO1xuXG4gICAgICAgIHJldHVybiBpc1ByZXNlbnQoYm90dG9tKSA/IGJvdHRvbSA6IFtdO1xuICAgIH1cblxuXG4gICAgelRvY0xheW91dHMoKTogSXRlbVByb3BlcnRpZXNbXVxuICAgIHtcbiAgICAgICAgbGV0IGJvdHRvbSA9IHRoaXMubGF5b3V0c0J5Wm9uZXMuZ2V0KE1ldGFEYXNoYm9hcmRMYXlvdXRDb21wb25lbnQuWm9uZVRvYyk7XG4gICAgICAgIHJldHVybiBpc1ByZXNlbnQoYm90dG9tKSA/IGJvdHRvbSA6IFtdO1xuICAgIH1cblxuXG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBTQVAgQXJpYmFcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKiBCYXNlZCBvbiBvcmlnaW5hbCB3b3JrOiBNZXRhVUk6IENyYWlnIEZlZGVyaWdoaSAoMjAwOClcbiAqXG4gKi9cbmltcG9ydCB7QWZ0ZXJWaWV3SW5pdCwgQ29tcG9uZW50LCBRdWVyeUxpc3QsIFZpZXdDaGlsZHJlbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Vudmlyb25tZW50LCBpc0JsYW5rLCBpc1ByZXNlbnR9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtNZXRhTGF5b3V0fSBmcm9tICcuLi9tZXRhLWxheW91dCc7XG5pbXBvcnQge1xuICAgIE1ldGFDb250ZXh0Q29tcG9uZW50LFxuICAgIE1ldGFVSUFjdGlvbkV2ZW50XG59IGZyb20gJy4uLy4uL2NvcmUvbWV0YS1jb250ZXh0L21ldGEtY29udGV4dC5jb21wb25lbnQnO1xuaW1wb3J0IHtDb250ZXh0fSBmcm9tICcuLi8uLi9jb3JlL2NvbnRleHQnO1xuaW1wb3J0IHtTZWN0aW9uQ29tcG9uZW50fSBmcm9tICdAYXJpYmF1aS9jb21wb25lbnRzJztcbmltcG9ydCB7SXRlbVByb3BlcnRpZXN9IGZyb20gJy4uLy4uL2NvcmUvaXRlbS1wcm9wZXJ0aWVzJztcblxuLyoqXG4gKiBNZXRhU2VjdGlvbiByZW5kZXJzIGxpc3Qgb2Ygc2VjdGlvbnMgZGVmaW5lZCBieSBAdHJhaXQgaW5zaWRlIFdpZGdldHNSdWxlcy4gSXQgdXNlcyBsYXlvdXRzIHRvXG4gKiBzdHJ1Y3R1cmUgdGhlIGxpc3QuXG4gKlxuICogYGBgXG4gKiAgbGF5b3V0IHtcbiAqICAgICAgIEB0cmFpdD1TZWN0aW9ucyB7IHZpc2libGU6dHJ1ZTsgY29tcG9uZW50Ok1ldGFTZWN0aW9uc0NvbXBvbmVudCB9XG4gKiAgfVxuICpcbiAqIGBgYFxuICpcbiAqIGFuZCBjYW4gYmUgdXNlZCBhcyA6XG4gKlxuICogYGBgXG4gKiAgICAgbGF5b3V0PVJmeERldGFpbExheW91dCNTZWN0aW9ucyB7XG4gKlxuICogICAgICAgICBAbGF5b3V0PUhlYWRlciNGb3JtIHtcbiAqICAgICAgICAgICAgIHRyYWl0OmxhYmVsc09uVG9wO1xuICogICAgICAgICAgICAgem9uZVBhdGg6SGVhZGVyO1xuICpcbiAqICAgICAgICAgICAgIGJpbmRpbmdzOiB7XG4gKiAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246JG9iamVjdC5oZWFkZXIuZGVzY3JpcHRpb247XG4gKiAgICAgICAgICAgICB9XG4gKiAgICAgICAgIH1cbiAqICAgICAgICAgQGxheW91dD1MaW5lSXRlbXMge1xuICogICAgICAgICAgICAgY29tcG9uZW50OlJmeExpbmVJdGVtc0NvbXBvbmVudDtcbiAqICAgICAgICAgICAgIGJpbmRpbmdzOiB7XG4gKiAgICAgICAgICAgICAgICAgcmZ4RXZlbnQ6JG9iamVjdDtcbiAqICAgICAgICAgICAgIH1cbiAqICAgICAgICAgfVxuICogICAgICAgICBAbGF5b3V0PVBhcnRpY2lwYW50cyB7XG4gKiAgICAgICAgICAgICBjb21wb25lbnQ6UmZ4UGFydGljaXBhbnRzQ29tcG9uZW50O1xuICogICAgICAgICAgICAgYmluZGluZ3M6IHtcbiAqICAgICAgICAgICAgICAgICByZnhFdmVudDokb2JqZWN0O1xuICogICAgICAgICAgICAgfVxuICogICAgICAgICB9XG4gKiAgICAgfVxuICpcbiAqXG4gKiAgICAgY2xhc3M9UmZ4RXZlbnRIZWFkZXIge1xuICogICAgICAgICB6Tm9uZSA9PiAqO1xuICogICAgICAgICBIZWFkZXIuekxlZnQgPT4gcmVxdWVzdGVyID0+IHJlZ2lvbiA9PiBuZWVkQnk7XG4gKiAgICAgfVxuICogYGBgXG4gKiBJbiBhYm92ZSBleGFtcGxlIHdlIGhhdmUgZmlyc3Qgc2VjdGlvbiB3aXRoIEZvcm0gd2hlcmUgUmZ4RXZlbnRIZWFkZXIgc2VuZHMgaXRzIGZpZWxkc1xuICogYW5kIHNldmVyYWwgb3RoZXIgc2VjdGlvbnMgd2l0aCBjdXN0b20gY29tcG9uZW50LlxuICpcbiAqXG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHRlbXBsYXRlVXJsOiAnbWV0YS1zZWN0aW9ucy5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ21ldGEtc2VjdGlvbnMuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBNZXRhU2VjdGlvbnNDb21wb25lbnQgZXh0ZW5kcyBNZXRhTGF5b3V0IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdFxue1xuICAgIC8qKlxuICAgICAqIENvbGxlY3QgbGlzdCBvZiBzZWN0aW9ucyB0aGF0IGFyZSByZW5kZXJlZCBzbyB3ZSBjYW4gdXNlIHRoZW0gbGF0ZXIgb24gd2hlbiBicm9hZGNhc3RpbmdcbiAgICAgKiBhbiBldmVudCB0byBhcHBsaWNhdGlvbi4gSW4gc29tZSBjYXNlIGp1c3QgbGlrZSB0aGlzIHlvdSBuZWVkIHRvIGhhdmUgYSByZWZlcmVuY2VcbiAgICAgKiB0byB0aGUgY29tcG9uZW50XG4gICAgICovXG4gICAgQFZpZXdDaGlsZHJlbihTZWN0aW9uQ29tcG9uZW50KVxuICAgIHZpZXdTZWN0aW9uczogUXVlcnlMaXN0PFNlY3Rpb25Db21wb25lbnQ+O1xuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBzZWN0aW9uIHJlYWQgZnJvbSBRdWVyeUxpc3QgYWZ0ZXIgdmlldyBpcyBpbml0aWFsaXplZFxuICAgICAqL1xuICAgIHNlY3Rpb25zOiBTZWN0aW9uQ29tcG9uZW50W107XG5cblxuICAgIHNlY3Rpb25PcGVyYXRpb25zOiB7W25hbWU6IHN0cmluZ106IHN0cmluZ30gPSB7fTtcblxuXG4gICAgcHJpdmF0ZSBvbkNvbXBsZXRlU3Vic2NyaXB0aW9uczoge1tuYW1lOiBzdHJpbmddOiBTZWN0aW9uQ29tcG9uZW50fSA9IHt9O1xuXG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX21ldGFDb250ZXh0OiBNZXRhQ29udGV4dENvbXBvbmVudCwgcHVibGljIGVudjogRW52aXJvbm1lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihfbWV0YUNvbnRleHQsIGVudik7XG5cbiAgICB9XG5cblxuICAgIG5nT25Jbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLm5nT25Jbml0KCk7XG5cbiAgICAgICAgdGhpcy5hbGxMYXlvdXRzLmZvckVhY2goKHZhbHVlOiBJdGVtUHJvcGVydGllcykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zZWN0aW9uT3BlcmF0aW9uc1t2YWx1ZS5uYW1lXSA9ICd2aWV3JztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbmdEb0NoZWNrKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLm5nRG9DaGVjaygpO1xuXG5cbiAgICB9XG5cbiAgICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zZWN0aW9ucyA9IFsuLi50aGlzLnZpZXdTZWN0aW9ucy50b0FycmF5KCldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjdGlvbiBoYW5kbGVyIHRvIGJyb2FkY2FzdCBldmVudCBvdXRzaWRlIHNvIGl0IGNhbiBiZSBoYW5kbGVkIGJ5IHRoZSBhcHBsaWNhdGlvblxuICAgICAqXG4gICAgICovXG4gICAgb25BY3Rpb24obmFtZTogc3RyaW5nLCBzZWN0aW9uSW5kZXg6IG51bWJlciwgY254TmFtZTogc3RyaW5nLCBldmVudDogYW55KTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IHNlY3Rpb24gPSB0aGlzLnNlY3Rpb25zW3NlY3Rpb25JbmRleF07XG4gICAgICAgIGlmICh0aGlzLmVudi5oYXNWYWx1ZSgncGFyZW50LWNueCcpKSB7XG4gICAgICAgICAgICBsZXQgY254OiBNZXRhQ29udGV4dENvbXBvbmVudCA9IHRoaXMuZW52LmdldFZhbHVlKCdwYXJlbnQtY254Jyk7XG5cbiAgICAgICAgICAgIGNueC5vbkFjdGlvbi5lbWl0KG5ldyBNZXRhVUlBY3Rpb25FdmVudChzZWN0aW9uLCBuYW1lLCBjbnhOYW1lLFxuICAgICAgICAgICAgICAgIGV2ZW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmFtZSA9PT0gJ29uRWRpdCcgJiYgc2VjdGlvbi5lZGl0U3RhdGUgJiYgc2VjdGlvbi5lZGl0TW9kZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25PcGVyYXRpb25zW2NueE5hbWVdID0gJ2VkaXQnO1xuXG4gICAgICAgICAgICBpZiAoaXNCbGFuayh0aGlzLm9uQ29tcGxldGVTdWJzY3JpcHRpb25zW2NueE5hbWVdKSkge1xuICAgICAgICAgICAgICAgIHNlY3Rpb24ub25FZGl0aW5nQ29tcGxldGUuc3Vic2NyaWJlKCh2YWx1ZTogYW55KSA9PlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25PcGVyYXRpb25zW2NueE5hbWVdID0gJ3ZpZXcnXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGVTdWJzY3JpcHRpb25zW2NueE5hbWVdID0gc2VjdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFJldHJpZXZlcyBhIHByb3BlcnR5IGZyb20gdGhlIGN1cnJlbnQgY29udGV4dFxuICAgICAqXG4gICAgICovXG4gICAgc2VjdGlvblByb3AocHJvcE5hbWU6IHN0cmluZywgY254TmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsOiBhbnkpOiBhbnlcbiAgICB7XG4gICAgICAgIGxldCBsQ29udGV4dDogQ29udGV4dCA9IHRoaXMuY29udGV4dE1hcC5nZXQoY254TmFtZSk7XG4gICAgICAgIHJldHVybiAoaXNQcmVzZW50KGxDb250ZXh0KSAmJiBpc1ByZXNlbnQobENvbnRleHQucHJvcGVydHlGb3JLZXkocHJvcE5hbWUpKSkgP1xuICAgICAgICAgICAgbENvbnRleHQucHJvcGVydHlGb3JLZXkocHJvcE5hbWUpIDogZGVmYXVsdFZhbDtcbiAgICB9XG5cblxuICAgIG5nT25EZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLm5nT25EZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5hbGxMYXlvdXRzLmZvckVhY2goKHZhbHVlOiBJdGVtUHJvcGVydGllcykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLm9uQ29tcGxldGVTdWJzY3JpcHRpb25zW3ZhbHVlLm5hbWVdKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZVN1YnNjcmlwdGlvbnNbdmFsdWUubmFtZV0ub25FZGl0aW5nQ29tcGxldGUudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgU0FQIEFyaWJhXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogQmFzZWQgb24gb3JpZ2luYWwgd29yazogTWV0YVVJOiBDcmFpZyBGZWRlcmlnaGkgKDIwMDgpXG4gKlxuICovXG5pbXBvcnQge0NvbXBvbmVudCwgSW5wdXR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtFbnZpcm9ubWVudCwgaXNCbGFuaywgaXNTdHJpbmdNYXB9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtCYXNlQ29tcG9uZW50fSBmcm9tICdAYXJpYmF1aS9jb21wb25lbnRzJztcblxuXG4vKipcbiAqIEp1c3QgbGlrZSBNZXRhQ29udGVudFBhZ2UgdGhpcyBjb21wb25lbnRzIHJlbmRlcnMgbWV0YSBjb250ZXh0IGRldGFpbHMgYnV0IGVtYmVkZGVkIGFzIHNvbWVcbiAqIGlubGluZSBjb21wb25lbnQuIE5vdCBhIHBhZ2Ugd2l0aCBwYWdlIGxldmVsIGJ1dHRvbnNcbiAqXG4gKlxuICogVG9kbzogV2UgZG9udCByZWFsbHkgbmVlZCB0aGlzIGNvbXBvbmVudCB3ZSB3ZSBpbiB0aGUgZnV0dXJlIGV4dGVuZHMgTWV0YUluY2x1ZGVDb21wb25lbnQgdG9cbiAqIHN1cHBvcnQgYXdjb250ZW50RWxlbWVudDpcbiAqXG4gKiBgYGBcbiAqICB7XG4gKiAgICAgIGNvbXBvbmVudDpNZXRhQ29udGV4dENvbXBvbmVudDtcbiAqICAgICAgYmluZGluZ3M6IHtcbiAqICAgICAgICAgIG9iamVjdDokdmFsdWU7XG4gKiAgICAgICAgICBsYXlvdXQ6SW5zcGVjdDtcbiAqICAgICAgICAgIG9wZXJhdGlvbjp2aWV3O1xuICogICAgICAgICAgYXdjb250ZW50RWxlbWVudDpNZXRhSW5jbHVkZUNvbXBvbm5ldERpcmVjdGl2ZTtcbiAqICAgICAgfVxuICpcbiAqICB9XG4gKlxuICogIGBgYFxuICpcbiAqICBUaGlzIHdvdWxkIGluc3RhbnRpYXRlIHJpZ2h0IG1ldGEgY29udGV4dCBqdXN0IGxpa2UgdGhpcyBjbGFzcy5cbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdtLWNvbnRlbnQtZGV0YWlsJyxcbiAgICB0ZW1wbGF0ZVVybDogJ21ldGEtb2JqZWN0LWRldGFpbC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ21ldGEtb2JqZWN0LWRldGFpbC5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIE1ldGFPYmplY3REZXRhaWxDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50XG57XG5cbiAgICAvKipcbiAgICAgKiBPYmplY3QgZGV0YWlsIHRvIGJlIHJlbmRlcmVkXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBvYmplY3Q6IGFueTtcblxuICAgIC8qKlxuICAgICAqIEZvciB0aGUgZGV0YWlsIHZpZXcgd2UgYWx3YXlzIHVzZSByZWFkIG9ubHkgY29udGVudFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgb3BlcmF0aW9uOiBzdHJpbmcgPSAndmlldyc7XG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGxheW91dFxuICAgICAqXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBsYXlvdXQ6IHN0cmluZyA9ICdJbnNwZWN0JztcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcmVkIG9iamVjdCBkZXRhaWwgY2FuIGhhdmUgYSBzZWN0aW9uIGxhYmVsXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBsYWJlbDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGVudjogRW52aXJvbm1lbnQpXG4gICAge1xuICAgICAgICBzdXBlcihlbnYpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KClcbiAgICB7XG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMub2JqZWN0KSB8fCAhaXNTdHJpbmdNYXAodGhpcy5vYmplY3QpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZW5kZXIgcHJpbWl0aXZlIHZhbHVlcyBhcyBvYmplY3QgZGV0YWlscyEnKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG5cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKi9cbmltcG9ydCB7TmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge01ldGFJbmNsdWRlQ29tcG9uZW50RGlyZWN0aXZlfSBmcm9tICcuL21ldGEtaW5jbHVkZS5kaXJlY3RpdmUnO1xuaW1wb3J0IHtNZXRhRm9ybUNvbXBvbmVudH0gZnJvbSAnLi9tZXRhLWZvcm0vbWV0YS1mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQge01ldGFGb3JtVGFibGVDb21wb25lbnR9IGZyb20gJy4vbWV0YS1mb3JtL21ldGEtZm9ybS10YWJsZS9tZXRhLWZvcm0tdGFibGUuY29tcG9uZW50JztcbmltcG9ydCB7TWV0YUZvcm1Sb3dDb21wb25lbnR9IGZyb20gJy4vbWV0YS1mb3JtL21ldGEtZm9ybS1yb3cvbWV0YS1mb3JtLXJvdy5jb21wb25lbnQnO1xuaW1wb3J0IHtOb01ldGFDb21wb25lbnR9IGZyb20gJy4vbm8tbWV0YS9uby1tZXRhLmNvbXBvbmVudCc7XG5pbXBvcnQge01ldGFDb250ZW50UGFnZUNvbXBvbmVudH0gZnJvbSAnLi9tZXRhLWNvbnRlbnQtcGFnZS9tZXRhLWNvbnRlbnQtcGFnZS5jb21wb25lbnQnO1xuaW1wb3J0IHtNZXRhRWxlbWVudExpc3RDb21wb25lbnR9IGZyb20gJy4vbWV0YS1lbGVtZW50LWxpc3QvbWV0YS1lbGVtZW50LWxpc3QuY29tcG9uZW50JztcbmltcG9ydCB7TWV0YUFjdGlvbkxpc3RDb21wb25lbnR9IGZyb20gJy4vbWV0YS1hY3Rpb24tbGlzdC9tZXRhLWFjdGlvbi1saXN0LmNvbXBvbmVudCc7XG5pbXBvcnQge01ldGFIb21lUGFnZUNvbXBvbmVudH0gZnJvbSAnLi9tZXRhLWhvbWUtcGFnZS9tZXRhLWhvbWUucGFnZS5jb21wb25lbnQnO1xuaW1wb3J0IHtNZXRhRGFzaGJvYXJkTGF5b3V0Q29tcG9uZW50fSBmcm9tICcuL21ldGEtZGFzaGJvYXJkL21ldGFkYXNoYm9hcmQtbGF5b3V0LmNvbXBvbmVudCc7XG5pbXBvcnQge0FXTWV0YUNvcmVNb2R1bGV9IGZyb20gJy4uL2NvcmUvbWV0YS1jb3JlLm1vZHVsZSc7XG5pbXBvcnQge0FyaWJhQ29tcG9uZW50c01vZHVsZX0gZnJvbSAnQGFyaWJhdWkvY29tcG9uZW50cyc7XG5pbXBvcnQge01ldGFTZWN0aW9uc0NvbXBvbmVudH0gZnJvbSAnLi9tZXRhLXNlY3Rpb24vbWV0YS1zZWN0aW9ucy5jb21wb25lbnQnO1xuaW1wb3J0IHtBcmliYUNvcmVNb2R1bGV9IGZyb20gJ0BhcmliYXVpL2NvcmUnO1xuaW1wb3J0IHtNZXRhT2JqZWN0RGV0YWlsQ29tcG9uZW50fSBmcm9tICcuL21ldGEtb2JqZWN0LWRldGFpbC9tZXRhLW9iamVjdC1kZXRhaWwuY29tcG9uZW50JztcblxuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBNZXRhSW5jbHVkZUNvbXBvbmVudERpcmVjdGl2ZSxcbiAgICAgICAgTWV0YUZvcm1Db21wb25lbnQsXG4gICAgICAgIE1ldGFGb3JtVGFibGVDb21wb25lbnQsXG4gICAgICAgIE1ldGFGb3JtUm93Q29tcG9uZW50LFxuICAgICAgICBOb01ldGFDb21wb25lbnQsXG4gICAgICAgIE1ldGFDb250ZW50UGFnZUNvbXBvbmVudCxcbiAgICAgICAgTWV0YUVsZW1lbnRMaXN0Q29tcG9uZW50LFxuICAgICAgICBNZXRhQWN0aW9uTGlzdENvbXBvbmVudCxcbiAgICAgICAgTWV0YUhvbWVQYWdlQ29tcG9uZW50LFxuICAgICAgICBNZXRhRGFzaGJvYXJkTGF5b3V0Q29tcG9uZW50LFxuICAgICAgICBNZXRhU2VjdGlvbnNDb21wb25lbnQsXG4gICAgICAgIE1ldGFPYmplY3REZXRhaWxDb21wb25lbnQsXG4gICAgXSxcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGUsXG4gICAgICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gICAgICAgIEFXTWV0YUNvcmVNb2R1bGUsXG4gICAgICAgIEFyaWJhQ29yZU1vZHVsZSxcbiAgICAgICAgQXJpYmFDb21wb25lbnRzTW9kdWxlXG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgTWV0YUZvcm1Db21wb25lbnQsXG4gICAgICAgIE1ldGFGb3JtVGFibGVDb21wb25lbnQsXG4gICAgICAgIE1ldGFGb3JtUm93Q29tcG9uZW50LFxuICAgICAgICBOb01ldGFDb21wb25lbnQsXG4gICAgICAgIE1ldGFDb250ZW50UGFnZUNvbXBvbmVudCxcbiAgICAgICAgTWV0YUNvbnRlbnRQYWdlQ29tcG9uZW50LFxuICAgICAgICBNZXRhRWxlbWVudExpc3RDb21wb25lbnQsXG4gICAgICAgIE1ldGFBY3Rpb25MaXN0Q29tcG9uZW50LFxuICAgICAgICBNZXRhSG9tZVBhZ2VDb21wb25lbnQsXG4gICAgICAgIE1ldGFEYXNoYm9hcmRMYXlvdXRDb21wb25lbnQsXG4gICAgICAgIE1ldGFTZWN0aW9uc0NvbXBvbmVudCxcbiAgICAgICAgTWV0YU9iamVjdERldGFpbENvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBNZXRhSW5jbHVkZUNvbXBvbmVudERpcmVjdGl2ZSxcbiAgICAgICAgTWV0YUZvcm1Db21wb25lbnQsXG4gICAgICAgIE1ldGFGb3JtVGFibGVDb21wb25lbnQsXG4gICAgICAgIE1ldGFGb3JtUm93Q29tcG9uZW50LFxuICAgICAgICBOb01ldGFDb21wb25lbnQsXG4gICAgICAgIE1ldGFDb250ZW50UGFnZUNvbXBvbmVudCxcbiAgICAgICAgTWV0YUNvbnRlbnRQYWdlQ29tcG9uZW50LFxuICAgICAgICBNZXRhRWxlbWVudExpc3RDb21wb25lbnQsXG4gICAgICAgIE1ldGFBY3Rpb25MaXN0Q29tcG9uZW50LFxuICAgICAgICBNZXRhSG9tZVBhZ2VDb21wb25lbnQsXG4gICAgICAgIE1ldGFEYXNoYm9hcmRMYXlvdXRDb21wb25lbnQsXG4gICAgICAgIE1ldGFTZWN0aW9uc0NvbXBvbmVudCxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGUsXG4gICAgICAgIEFyaWJhQ29yZU1vZHVsZSxcbiAgICAgICAgQXJpYmFDb21wb25lbnRzTW9kdWxlLFxuICAgICAgICBNZXRhT2JqZWN0RGV0YWlsQ29tcG9uZW50XG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEFXTWV0YUxheW91dE1vZHVsZVxue1xufVxuXG5cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKi9cbmltcG9ydCB7TmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtSb3V0ZXJNb2R1bGUsIFJvdXRlc30gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7TWV0YUNvbnRlbnRQYWdlQ29tcG9uZW50fSBmcm9tICcuL2xheW91dC9tZXRhLWNvbnRlbnQtcGFnZS9tZXRhLWNvbnRlbnQtcGFnZS5jb21wb25lbnQnO1xuXG5jb25zdCByb3V0ZXM6IFJvdXRlcyA9IFtcbiAgICB7cGF0aDogJ2NvbnRleHQnLCBjb21wb25lbnQ6IE1ldGFDb250ZW50UGFnZUNvbXBvbmVudH1cbl07XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW1xuICAgICAgICBSb3V0ZXJNb2R1bGUuZm9yQ2hpbGQocm91dGVzKVxuICAgIF0sXG4gICAgZXhwb3J0czogW1JvdXRlck1vZHVsZV0sXG4gICAgcHJvdmlkZXJzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBBcmliYU1ldGFVSVJvdXRpbmdNb2R1bGVcbntcbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFNBUCBBcmliYVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqXG4gKi9cbmltcG9ydCB7QVBQX0lOSVRJQUxJWkVSLCBJbmplY3RvciwgTmdNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1VJTWV0YX0gZnJvbSAnLi9jb3JlL3VpbWV0YSc7XG5pbXBvcnQge1J1bGVMb2FkZXJTZXJ2aWNlfSBmcm9tICcuL2NvcmUvcnVsZS1sb2FkZXIuc2VydmljZSc7XG5pbXBvcnQgKiBhcyBzeXNNZXRhQ29tcG9uZW50cyBmcm9tICcuL2VudHJ5LWNvbXBvbmVudHMnO1xuaW1wb3J0IHtBcmliYU1ldGFVSVJvdXRpbmdNb2R1bGV9IGZyb20gJy4vYXJpYmEtbWV0YXVpLXJvdXRpbmcubW9kdWxlJztcbmltcG9ydCB7QVdNZXRhQ29yZU1vZHVsZX0gZnJvbSAnLi9jb3JlL21ldGEtY29yZS5tb2R1bGUnO1xuaW1wb3J0IHtBV01ldGFMYXlvdXRNb2R1bGV9IGZyb20gJy4vbGF5b3V0L21ldGEtbGF5b3V0Lm1vZHVsZSc7XG5cblxuLyoqXG4gKiBUaGlzIG1vZHVsZSBjb250YWlucyBldmVyeXRoaW5nIG5lZWRzIHRvIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCBVSSBiYXNlZCBvbiBtZXRhUnVsZXNcbiAqIFNpbmNlIHdlIGFyZSB1c2luZyBwcmltZU5HLCBjaGVjayBBcmliYUNvbXBvbmVudCBpZiBpdHMgYWxyZWFkeSBpbXBvcnRlZCBzbyB5b3UgZG9udCBoYXZlXG4gKiBpbXBvcnQgaXQgYWdhaW4uXG4gKlxuICovXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBBcmliYU1ldGFVSVJvdXRpbmdNb2R1bGUsXG4gICAgICAgIEFXTWV0YUNvcmVNb2R1bGUsXG4gICAgICAgIEFXTWV0YUxheW91dE1vZHVsZVxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBBV01ldGFDb3JlTW9kdWxlLFxuICAgICAgICBBV01ldGFMYXlvdXRNb2R1bGVcbiAgICBdLFxuICAgIHByb3ZpZGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgICAncHJvdmlkZSc6IEFQUF9JTklUSUFMSVpFUixcbiAgICAgICAgICAgICd1c2VGYWN0b3J5JzogaW5pdE1ldGFVSSxcbiAgICAgICAgICAgICdkZXBzJzogW0luamVjdG9yXSxcbiAgICAgICAgICAgICdtdWx0aSc6IHRydWUsXG4gICAgICAgIH0sXG4gICAgXSxcbn0pXG5leHBvcnQgY2xhc3MgQXJpYmFNZXRhVUlNb2R1bGVcbntcblxuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICB9XG59XG5cbi8qKlxuICpcbiAqIEVudHJ5IGZhY3RvcnkgbWV0aG9kIHRoYXQgaW5pdGlhbGl6ZSBUaGUgTUVUQVVJIGxheWVyIGFuZCBoZXJlIHdlIGxvYWQgV2lkZ2V0c1J1bGVzLm9zcyBhcyB3ZWxsXG4gKiBhcyBQZXJzaXN0ZW5jZSBSdWxlcy5cbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0TWV0YVVJKGluamVjdG9yOiBJbmplY3RvcilcbntcbiAgICBsZXQgaW5pdEZjZSA9IGZ1bmN0aW9uIGluaXQoaW5qOiBJbmplY3RvcilcbiAgICB7XG4gICAgICAgIGxldCBwcm9taXNlOiBQcm9taXNlPGFueT4gPSBuZXcgUHJvbWlzZSgocmVzb2x2ZTogYW55KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbWV0YVVJID0gVUlNZXRhLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgIC8vIGFjY2VzcyBzZXJ2aWNlcyBsYXppbHkgd2hlbiB0aGV5IGFyZSBuZWVkZWQgYW5kIGluaXRpYWxpemVkIGFzIHdvcmthcm91bmQgZm9yXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xNjg1M1xuICAgICAgICAgICAgbWV0YVVJLmluamVjdG9yID0gaW5qO1xuXG4gICAgICAgICAgICBtZXRhVUkucmVnaXN0ZXJMb2FkZXIobmV3IFJ1bGVMb2FkZXJTZXJ2aWNlKCkpO1xuICAgICAgICAgICAgbWV0YVVJLmxvYWREZWZhdWx0UnVsZUZpbGVzKHN5c01ldGFDb21wb25lbnRzKTtcblxuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG4gICAgcmV0dXJuIGluaXRGY2UuYmluZChpbml0RmNlLCBpbmplY3Rvcik7XG59XG5cbiJdLCJuYW1lcyI6WyJ0c2xpYl8xLl9fZXh0ZW5kcyIsInRzbGliXzEuX192YWx1ZXMiLCJDb2xsZWN0aW9ucy5EaWN0aW9uYXJ5IiwiQ29sbGVjdGlvbnMudXRpbCIsImNsYXNzTmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUF3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

/***/ }),

/***/ "../playground/src/app/domain/address.ts":
/*!***********************************************!*\
  !*** ../playground/src/app/domain/address.ts ***!
  \***********************************************/
/*! exports provided: Address */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Address", function() { return Address; });
/* harmony import */ var _aribaui_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aribaui/core */ "../../dist/@aribaui/core/fesm5/aribaui-core.js");
/**
 *
 * @license
 * Copyright 2017 SAP Ariba
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

var Address = /** @class */ (function () {
    function Address(fullName, street, city, zip, country) {
        this.fullName = fullName;
        this.street = street;
        this.city = city;
        this.zip = zip;
        this.country = country;
    }
    Address.prototype.getTypes = function () {
        return {
            fullName: String,
            street: String,
            city: String,
            zip: String,
            country: String
        };
    };
    /**
     * Used by MetaUI
     *
     */
    Address.prototype.$proto = function () {
        return new Address('1', '2', '3', '4', 'a');
    };
    Address.prototype.className = function () {
        return 'Address';
    };
    Address.prototype.clone = function (data) {
        if (data === void 0) { data = {}; }
        return new Address(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_0__["isPresent"])(data.fullName) ? data.fullName : this.fullName, Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_0__["isPresent"])(data.street) ? data.street : this.street, Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_0__["isPresent"])(data.city) ? data.city : this.city, Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_0__["isPresent"])(data.zip) ? data.zip : this.zip, Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_0__["isPresent"])(data.country) ? data.country : this.country);
    };
    return Address;
}());



/***/ }),

/***/ "../playground/src/app/domain/approver-user.ts":
/*!*****************************************************!*\
  !*** ../playground/src/app/domain/approver-user.ts ***!
  \*****************************************************/
/*! exports provided: ApproverUser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApproverUser", function() { return ApproverUser; });
var ApproverUser = /** @class */ (function () {
    function ApproverUser(id, firstName, lastName, age) {
        this.id = id;
        this.firstName = firstName;
        this.lastName = lastName;
        this.age = age;
    }
    ApproverUser.prototype.displayKey = function () {
        return this.toString();
    };
    ApproverUser.prototype.identity = function () {
        return this.id;
    };
    ApproverUser.prototype.getTypes = function () {
        //
        return {
            id: String,
            firstName: String,
            lastName: String,
            age: Number
        };
    };
    ApproverUser.prototype.toString = function () {
        return this.firstName + ' ' + this.lastName + '(' + this.age + ')';
    };
    ApproverUser.prototype.$proto = function () {
        return new ApproverUser('1', 's', 's', 1);
    };
    ApproverUser.prototype.className = function () {
        return 'ApproverUser';
    };
    return ApproverUser;
}());



/***/ }),

/***/ "../playground/src/app/domain/carrentalrequest.ts":
/*!********************************************************!*\
  !*** ../playground/src/app/domain/carrentalrequest.ts ***!
  \********************************************************/
/*! exports provided: CarRentalRequest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CarRentalRequest", function() { return CarRentalRequest; });
/* harmony import */ var _approver_user__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./approver-user */ "../playground/src/app/domain/approver-user.ts");
/* harmony import */ var _aribaui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aribaui/components */ "../../dist/@aribaui/components/fesm5/aribaui-components.js");
/**
 *
 * @license
 * Copyright 2017 SAP Ariba
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */


var CarRentalRequest = /** @class */ (function () {
    function CarRentalRequest(firstName, lastName, driverLicenseNumber, pickupDate, dropOffDate, pickupLocation, dropOffLocation, carType, extras, approvers, note, drivingSkills, requester, price) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.driverLicenseNumber = driverLicenseNumber;
        this.pickupDate = pickupDate;
        this.dropOffDate = dropOffDate;
        this.pickupLocation = pickupLocation;
        this.dropOffLocation = dropOffLocation;
        this.carType = carType;
        this.extras = extras;
        this.approvers = approvers;
        this.note = note;
        this.drivingSkills = drivingSkills;
        this.requester = requester;
        this.price = price;
    }
    CarRentalRequest.prototype.$proto = function () {
        return new CarRentalRequest('1', 's', 's', new Date(), new Date(), 's', 's', ['a'], ['a'], [new _approver_user__WEBPACK_IMPORTED_MODULE_0__["ApproverUser"]('1', '', '', 1)], 'a', 'OK', new _approver_user__WEBPACK_IMPORTED_MODULE_0__["ApproverUser"]('1', '', '', 1), new _aribaui_components__WEBPACK_IMPORTED_MODULE_1__["Money"](100));
    };
    CarRentalRequest.prototype.identity = function () {
        return this.lastName;
    };
    CarRentalRequest.prototype.className = function () {
        return 'CarRentalRequest';
    };
    CarRentalRequest.prototype.getTypes = function () {
        return {
            firstName: String,
            lastName: String,
            driverLicenseNumber: String,
            pickupDate: Date,
            dropOffDate: Date,
            pickupLocation: String,
            dropOffLocation: String,
            carType: String,
            extras: String,
            approvers: _approver_user__WEBPACK_IMPORTED_MODULE_0__["ApproverUser"],
            note: String,
            drivingSkills: String,
            requester: _approver_user__WEBPACK_IMPORTED_MODULE_0__["ApproverUser"],
            price: _aribaui_components__WEBPACK_IMPORTED_MODULE_1__["Money"]
        };
    };
    return CarRentalRequest;
}());



/***/ }),

/***/ "../playground/src/app/domain/form-request.ts":
/*!****************************************************!*\
  !*** ../playground/src/app/domain/form-request.ts ***!
  \****************************************************/
/*! exports provided: FormRequest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormRequest", function() { return FormRequest; });
/* harmony import */ var _aribaui_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aribaui/core */ "../../dist/@aribaui/core/fesm5/aribaui-core.js");
/* harmony import */ var _aribaui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aribaui/components */ "../../dist/@aribaui/components/fesm5/aribaui-components.js");
/* harmony import */ var _approver_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./approver-user */ "../playground/src/app/domain/approver-user.ts");
/**
 *
 * @license
 * Copyright 2017 SAP Ariba
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */



var FormRequest = /** @class */ (function () {
    function FormRequest(firstName, lastName, driverLicenseNumber, pickupDate, dropOffDate, pickupLocation, dropOffLocation, carType, extras, approver, note, price) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.driverLicenseNumber = driverLicenseNumber;
        this.pickupDate = pickupDate;
        this.dropOffDate = dropOffDate;
        this.pickupLocation = pickupLocation;
        this.dropOffLocation = dropOffLocation;
        this.carType = carType;
        this.extras = extras;
        this.approver = approver;
        this.note = note;
        this.price = price;
        this.uniqueName = '1';
    }
    FormRequest.create = function (copy) {
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_0__["isPresent"])(copy.price)) {
            copy.price = new _aribaui_components__WEBPACK_IMPORTED_MODULE_1__["Money"](copy.price.amount, copy.price.currency);
        }
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_0__["isPresent"])(copy.approver)) {
            var a = copy.approver;
            copy.approver = new _approver_user__WEBPACK_IMPORTED_MODULE_2__["ApproverUser"](a.id, a.firstName, a.lastName, a.age);
        }
        return new FormRequest(copy.firstName, copy.lastName, copy.driverLicenseNumber, new Date(copy.pickupDate), new Date(copy.dropOffDate), copy.pickupLocation, copy.dropOffLocation, copy.carType, copy.extras, copy.approver, copy.note, copy.price);
    };
    FormRequest.prototype.identity = function () {
        return this.lastName;
    };
    FormRequest.prototype.getTypes = function () {
        return {
            firstName: String,
            lastName: String,
            driverLicenseNumber: String,
            pickupDate: Date,
            dropOffDate: Date,
            pickupLocation: String,
            dropOffLocation: String,
            carType: String,
            extras: String,
            approver: _approver_user__WEBPACK_IMPORTED_MODULE_2__["ApproverUser"],
            note: _aribaui_components__WEBPACK_IMPORTED_MODULE_1__["Money"],
            price: _aribaui_components__WEBPACK_IMPORTED_MODULE_1__["Money"]
        };
    };
    FormRequest.prototype.$proto = function () {
        return new FormRequest('1', 's', 's', new Date(), new Date(), 's', 's', ['a'], ['a'], new _approver_user__WEBPACK_IMPORTED_MODULE_2__["ApproverUser"]('1', '', '', 1), 'a', new _aribaui_components__WEBPACK_IMPORTED_MODULE_1__["Money"](100));
    };
    FormRequest.prototype.className = function () {
        return 'FormRequest';
    };
    return FormRequest;
}());



/***/ }),

/***/ "../playground/src/app/domain/index.ts":
/*!*********************************************!*\
  !*** ../playground/src/app/domain/index.ts ***!
  \*********************************************/
/*! exports provided: CarRentalRequest, FormRequest, ApproverUser, Invoice, InvHeader, Order */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _carrentalrequest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./carrentalrequest */ "../playground/src/app/domain/carrentalrequest.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CarRentalRequest", function() { return _carrentalrequest__WEBPACK_IMPORTED_MODULE_0__["CarRentalRequest"]; });

/* harmony import */ var _form_request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./form-request */ "../playground/src/app/domain/form-request.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormRequest", function() { return _form_request__WEBPACK_IMPORTED_MODULE_1__["FormRequest"]; });

/* harmony import */ var _approver_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./approver-user */ "../playground/src/app/domain/approver-user.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ApproverUser", function() { return _approver_user__WEBPACK_IMPORTED_MODULE_2__["ApproverUser"]; });

/* harmony import */ var _invoice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./invoice */ "../playground/src/app/domain/invoice.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Invoice", function() { return _invoice__WEBPACK_IMPORTED_MODULE_3__["Invoice"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InvHeader", function() { return _invoice__WEBPACK_IMPORTED_MODULE_3__["InvHeader"]; });

/* harmony import */ var _order__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./order */ "../playground/src/app/domain/order.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Order", function() { return _order__WEBPACK_IMPORTED_MODULE_4__["Order"]; });

/**
 *
 * @license
 * Copyright 2017 SAP Ariba
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
/**
 * This folder is here only for internal usage.
 */







/***/ }),

/***/ "../playground/src/app/domain/invoice.ts":
/*!***********************************************!*\
  !*** ../playground/src/app/domain/invoice.ts ***!
  \***********************************************/
/*! exports provided: Invoice, InvHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Invoice", function() { return Invoice; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InvHeader", function() { return InvHeader; });
var Invoice = /** @class */ (function () {
    function Invoice(uniqueName, itemName, itemPrice, itemDescription, supplier, requestor, header) {
        this.uniqueName = uniqueName;
        this.itemName = itemName;
        this.itemPrice = itemPrice;
        this.itemDescription = itemDescription;
        this.supplier = supplier;
        this.requestor = requestor;
        this.header = header;
        this.uniqueName = 'Inv123';
        this.header = new InvHeader();
    }
    Invoice.prototype.identity = function () {
        return this.uniqueName;
    };
    Invoice.prototype.getTypes = function () {
        return {
            uniqueName: String,
            itemName: String,
            itemPrice: String,
            itemDescription: String,
            supplier: String,
            requestor: String,
            header: InvHeader
        };
    };
    /**
     * Used by MetaUI
     *
     */
    Invoice.prototype.$proto = function () {
        var inv = new Invoice();
        inv.uniqueName = '6';
        inv.itemName = 'iPhone 8';
        inv.itemDescription = 'iPhone 8, 16gb';
        inv.supplier = 'Apple Inc.';
        inv.itemPrice = '123.11';
        inv.requestor = 'Dan John';
        inv.header = new InvHeader();
        return inv;
    };
    Invoice.prototype.className = function () {
        return 'Invoice';
    };
    return Invoice;
}());

var InvHeader = /** @class */ (function () {
    function InvHeader(uniqueName, value, value2) {
        this.uniqueName = uniqueName;
        this.value = value;
        this.value2 = value2;
        this.uniqueName = uniqueName;
        this.value = value;
        this.value2 = value2;
    }
    InvHeader.prototype.$proto = function () {
        return new InvHeader('1', '1', '1');
    };
    InvHeader.prototype.getTypes = function () {
        return {
            uniqueName: String,
            value: String,
            value2: String
        };
    };
    InvHeader.prototype.className = function () {
        return 'InvHeader';
    };
    InvHeader.prototype.clone = function () {
        return new InvHeader(this.uniqueName, this.value, this.value2);
    };
    return InvHeader;
}());



/***/ }),

/***/ "../playground/src/app/domain/order.ts":
/*!*********************************************!*\
  !*** ../playground/src/app/domain/order.ts ***!
  \*********************************************/
/*! exports provided: Order */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Order", function() { return Order; });
/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user */ "../playground/src/app/domain/user.ts");
/* harmony import */ var _aribaui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aribaui/components */ "../../dist/@aribaui/components/fesm5/aribaui-components.js");
/* harmony import */ var _address__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./address */ "../playground/src/app/domain/address.ts");



var Order = /** @class */ (function () {
    function Order(uniqueName, name, orderDate, state, requestor, totalAmount, billingAddress, shippingAddress, description) {
        this.uniqueName = uniqueName;
        this.name = name;
        this.orderDate = orderDate;
        this.state = state;
        this.requestor = requestor;
        this.totalAmount = totalAmount;
        this.billingAddress = billingAddress;
        this.shippingAddress = shippingAddress;
        this.description = description;
        this.uniqueName = 'PO20180001';
    }
    Order.prototype.identity = function () {
        return this.uniqueName;
    };
    Order.prototype.getTypes = function () {
        return {
            uniqueName: String,
            name: String,
            requestor: _user__WEBPACK_IMPORTED_MODULE_0__["User"],
            totalAmount: _aribaui_components__WEBPACK_IMPORTED_MODULE_1__["Money"],
            billingAddress: _address__WEBPACK_IMPORTED_MODULE_2__["Address"],
            shippingAddress: _address__WEBPACK_IMPORTED_MODULE_2__["Address"],
            description: String
        };
    };
    /**
     * Used by MetaUI
     *
     */
    Order.prototype.$proto = function () {
        var po = new Order('PO20180001', 'iPhone 11 5d touch', new Date(), 'Ordering', new _user__WEBPACK_IMPORTED_MODULE_0__["User"]('Frank', 'Kolar'), new _aribaui_components__WEBPACK_IMPORTED_MODULE_1__["Money"](1000, 'USD'), new _address__WEBPACK_IMPORTED_MODULE_2__["Address"]('a', 'b', 'c', 'd', 's'), new _address__WEBPACK_IMPORTED_MODULE_2__["Address"]('a', 'b', 'c', 'd', 's'), 'iPhone 11 5d touch 2T storage');
        return po;
    };
    Order.prototype.className = function () {
        return 'Order';
    };
    return Order;
}());



/***/ }),

/***/ "../playground/src/app/domain/user.ts":
/*!********************************************!*\
  !*** ../playground/src/app/domain/user.ts ***!
  \********************************************/
/*! exports provided: User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });
var User = /** @class */ (function () {
    function User(uniqueName, firstName, lastName, age, dob) {
        this.uniqueName = uniqueName;
        this.firstName = firstName;
        this.lastName = lastName;
        this.age = age;
        this.dob = dob;
    }
    User.prototype.identity = function () {
        return this.uniqueName;
    };
    User.prototype.getTypes = function () {
        return {
            uniqueName: String,
            age: Number,
            firstName: String,
            lastName: String,
            dob: Date
        };
    };
    /**
     * Used by MetaUI
     *
     */
    User.prototype.$proto = function () {
        var user = new User();
        user.uniqueName = '6';
        user.age = 1;
        user.firstName = 'a';
        user.lastName = 'a';
        user.dob = new Date();
        return user;
    };
    User.prototype.className = function () {
        return 'User';
    };
    User.prototype.displayKey = function () {
        return this.toString();
    };
    User.prototype.toString = function () {
        return this.firstName + ' ' + this.lastName;
    };
    return User;
}());



/***/ }),

/***/ "./$$_lazy_route_resource lazy recursive":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: ModuleRoutes, AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModuleRoutes", function() { return ModuleRoutes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _html_way_form_html_way_form_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./html-way-form/html-way-form.component */ "./src/app/html-way-form/html-way-form.component.ts");
/* harmony import */ var _metaui_way_form_metaui_way_form_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./metaui-way-form/metaui-way-form.component */ "./src/app/metaui-way-form/metaui-way-form.component.ts");
/* harmony import */ var _metaui_way_form2_metaui_way_form2_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./metaui-way-form2/metaui-way-form2.component */ "./src/app/metaui-way-form2/metaui-way-form2.component.ts");
/* harmony import */ var _component_way_form_component_way_form_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./component-way-form/component-way-form.component */ "./src/app/component-way-form/component-way-form.component.ts");
/* harmony import */ var _metaui_way_module_metaui_way_module_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./metaui-way-module/metaui-way-module.component */ "./src/app/metaui-way-module/metaui-way-module.component.ts");
/* harmony import */ var _metaui_way_module_product_content_product_content_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./metaui-way-module/product-content/product-content.component */ "./src/app/metaui-way-module/product-content/product-content.component.ts");
/* harmony import */ var _aribaui_metaui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @aribaui/metaui */ "../../dist/@aribaui/metaui/fesm5/aribaui-metaui.js");
/* harmony import */ var _metaui_way_module_sources_sources_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./metaui-way-module/sources/sources.component */ "./src/app/metaui-way-module/sources/sources.component.ts");
/* harmony import */ var _metaui_way_nesting_metaui_way_nesting_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./metaui-way-nesting/metaui-way-nesting.component */ "./src/app/metaui-way-nesting/metaui-way-nesting.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











var ModuleRoutes = [
    {
        path: '', redirectTo: '/html', pathMatch: 'full'
    },
    { path: 'html', component: _html_way_form_html_way_form_component__WEBPACK_IMPORTED_MODULE_2__["HtmlWayFormComponent"] },
    { path: 'component', component: _component_way_form_component_way_form_component__WEBPACK_IMPORTED_MODULE_5__["ComponentWayFormComponent"] },
    { path: 'metaui', component: _metaui_way_form_metaui_way_form_component__WEBPACK_IMPORTED_MODULE_3__["MetauiWayFormComponent"] },
    { path: 'metaui2', component: _metaui_way_form2_metaui_way_form2_component__WEBPACK_IMPORTED_MODULE_4__["MetauiWayForm2Component"] },
    { path: 'metaui3', component: _metaui_way_nesting_metaui_way_nesting_component__WEBPACK_IMPORTED_MODULE_10__["MetauiWayNestingComponent"] },
    {
        path: 'module', component: _metaui_way_module_metaui_way_module_component__WEBPACK_IMPORTED_MODULE_6__["MetauiWayModuleComponent"],
        children: [
            { path: 'home', component: _aribaui_metaui__WEBPACK_IMPORTED_MODULE_8__["MetaHomePageComponent"] },
            { path: 'products', component: _metaui_way_module_product_content_product_content_component__WEBPACK_IMPORTED_MODULE_7__["ProductContentComponent"] },
            { path: 'sources', component: _metaui_way_module_sources_sources_component__WEBPACK_IMPORTED_MODULE_9__["SourcesComponent"] }
        ]
    }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(ModuleRoutes)
            ],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]],
            providers: []
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<aw-object-page-wrapper\n    [title]=\"'UI Evolution'\"\n    [currentState]=\"currState\"\n    [objectStates]=\"states\"\n    [objectStatusLabel]=\"'Current page'\"\n    [objectStatus]=\"statusName[currentIndex]\">\n\n    <aw-page-actions>\n\n    </aw-page-actions>\n\n    <ng-template #pageActions>\n        <aw-page-actions>\n            <aw-button [style]=\"'secondary'\" (action)=\"prev()\">Previous</aw-button>\n            <aw-button [style]=\"'primary'\" (action)=\"next()\">Next</aw-button>\n        </aw-page-actions>\n    </ng-template>\n\n    <aw-page-content>\n        <router-outlet></router-outlet>\n    </aw-page-content>\n\n</aw-object-page-wrapper>\n"

/***/ }),

/***/ "./src/app/app.component.scss":
/*!************************************!*\
  !*** ./src/app/app.component.scss ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".title {\n  font-size: 30px;\n  font-weight: bold; }\n\n.nav-buttons {\n  padding-top: 15px;\n  float: right; }\n\n.evoImg {\n  position: fixed;\n  right: 55px;\n  top: 0px;\n  width: auto;\n  height: 150px; }\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _aribaui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aribaui/components */ "../../dist/@aribaui/components/fesm5/aribaui-components.js");
/* harmony import */ var _dymamic_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dymamic-components */ "./src/app/dymamic-components.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _aribaui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @aribaui/core */ "../../dist/@aribaui/core/fesm5/aribaui-core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AppComponent = /** @class */ (function () {
    function AppComponent(componentRegistry, router, notifications) {
        this.router = router;
        this.notifications = notifications;
        this.states = ['html', 'component', 'metaui', 'metaui2', 'metaui3', 'module'];
        this.statusName = ['basic html', 'with component', 'basic metaui', 'metaUI stack',
            'metaUI nesting', 'modules'];
        this.currState = 'html';
        this.evolutions = ['/html', '/component', '/metaui', '/metaui2', '/metaui3', '/module'];
        this.currentIndex = 0;
        componentRegistry.registerTypes(_dymamic_components__WEBPACK_IMPORTED_MODULE_2__);
        this.currRoute = this.evolutions[0];
        this.notifications.subscribe('app:error', function (error) {
            console.log('App Error: ', error);
        });
    }
    AppComponent.prototype.ngOnInit = function () {
    };
    AppComponent.prototype.next = function () {
        this.currentIndex++;
        if (this.currentIndex > this.evolutions.length - 1) {
            this.currentIndex = 0;
        }
        this.currRoute = this.evolutions[this.currentIndex];
        this.currState = this.currRoute.substring(1);
        this.router.navigate([this.currRoute]);
    };
    AppComponent.prototype.prev = function () {
        this.currentIndex--;
        if (this.currentIndex < 0) {
            this.currentIndex = this.evolutions.length - 1;
        }
        this.currRoute = this.evolutions[this.currentIndex];
        this.currState = this.currRoute.substring(1);
        this.router.navigate([this.currRoute]);
    };
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.scss */ "./src/app/app.component.scss")]
        }),
        __metadata("design:paramtypes", [_aribaui_components__WEBPACK_IMPORTED_MODULE_1__["ComponentRegistry"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _aribaui_core__WEBPACK_IMPORTED_MODULE_4__["Notifications"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "../../node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "../../node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _aribaui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @aribaui/core */ "../../dist/@aribaui/core/fesm5/aribaui-core.js");
/* harmony import */ var _aribaui_metaui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @aribaui/metaui */ "../../dist/@aribaui/metaui/fesm5/aribaui-metaui.js");
/* harmony import */ var _aribaui_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @aribaui/components */ "../../dist/@aribaui/components/fesm5/aribaui-components.js");
/* harmony import */ var _html_way_form_html_way_form_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./html-way-form/html-way-form.component */ "./src/app/html-way-form/html-way-form.component.ts");
/* harmony import */ var _component_way_form_component_way_form_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./component-way-form/component-way-form.component */ "./src/app/component-way-form/component-way-form.component.ts");
/* harmony import */ var _metaui_way_form_metaui_way_form_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./metaui-way-form/metaui-way-form.component */ "./src/app/metaui-way-form/metaui-way-form.component.ts");
/* harmony import */ var _metaui_way_form2_metaui_way_form2_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./metaui-way-form2/metaui-way-form2.component */ "./src/app/metaui-way-form2/metaui-way-form2.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _metaui_way_module_metaui_way_module_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./metaui-way-module/metaui-way-module.component */ "./src/app/metaui-way-module/metaui-way-module.component.ts");
/* harmony import */ var _metaui_way_module_sales_graph_sales_graph_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./metaui-way-module/sales-graph/sales-graph.component */ "./src/app/metaui-way-module/sales-graph/sales-graph.component.ts");
/* harmony import */ var _metaui_way_module_product_content_product_content_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./metaui-way-module/product-content/product-content.component */ "./src/app/metaui-way-module/product-content/product-content.component.ts");
/* harmony import */ var _metaui_way_module_sources_sources_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./metaui-way-module/sources/sources.component */ "./src/app/metaui-way-module/sources/sources.component.ts");
/* harmony import */ var _user_rules__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./user-rules */ "./src/app/user-rules.ts");
/* harmony import */ var primeng_panel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! primeng/panel */ "../../node_modules/primeng/panel.js");
/* harmony import */ var primeng_panel__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(primeng_panel__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var primeng_primeng__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! primeng/primeng */ "../../node_modules/primeng/primeng.js");
/* harmony import */ var primeng_primeng__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(primeng_primeng__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/platform-browser/animations */ "../../node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _metaui_way_nesting_metaui_way_nesting_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./metaui-way-nesting/metaui-way-nesting.component */ "./src/app/metaui-way-nesting/metaui-way-nesting.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





















var AppModule = /** @class */ (function () {
    function AppModule(appConfig) {
        // mandatory - you need to register user's defined rules and types since there is no
        // introspection in js
        this.appConfig = appConfig;
        var rules = appConfig.get('metaui.rules.user-rules') || [];
        rules.push(_user_rules__WEBPACK_IMPORTED_MODULE_16__);
        appConfig.set('metaui.rules.user-rules', rules);
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_3__["AppComponent"],
                _html_way_form_html_way_form_component__WEBPACK_IMPORTED_MODULE_7__["HtmlWayFormComponent"],
                _component_way_form_component_way_form_component__WEBPACK_IMPORTED_MODULE_8__["ComponentWayFormComponent"],
                _metaui_way_form_metaui_way_form_component__WEBPACK_IMPORTED_MODULE_9__["MetauiWayFormComponent"],
                _metaui_way_form2_metaui_way_form2_component__WEBPACK_IMPORTED_MODULE_10__["MetauiWayForm2Component"],
                _metaui_way_module_metaui_way_module_component__WEBPACK_IMPORTED_MODULE_12__["MetauiWayModuleComponent"],
                _metaui_way_module_sales_graph_sales_graph_component__WEBPACK_IMPORTED_MODULE_13__["SalesGraphComponent"],
                _metaui_way_module_product_content_product_content_component__WEBPACK_IMPORTED_MODULE_14__["ProductContentComponent"],
                _metaui_way_module_sources_sources_component__WEBPACK_IMPORTED_MODULE_15__["SourcesComponent"],
                _metaui_way_nesting_metaui_way_nesting_component__WEBPACK_IMPORTED_MODULE_20__["MetauiWayNestingComponent"]
            ],
            imports: [
                _app_routing_module__WEBPACK_IMPORTED_MODULE_11__["AppRoutingModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_19__["BrowserAnimationsModule"],
                _aribaui_core__WEBPACK_IMPORTED_MODULE_4__["AribaCoreModule"].forRoot({}),
                _aribaui_components__WEBPACK_IMPORTED_MODULE_6__["AribaComponentsModule"].forRoot(),
                primeng_primeng__WEBPACK_IMPORTED_MODULE_18__["CodeHighlighterModule"],
                _aribaui_components__WEBPACK_IMPORTED_MODULE_6__["AribaComponentsModule"],
                _aribaui_metaui__WEBPACK_IMPORTED_MODULE_5__["AribaMetaUIModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                primeng_panel__WEBPACK_IMPORTED_MODULE_17__["PanelModule"]
            ],
            entryComponents: [
                _html_way_form_html_way_form_component__WEBPACK_IMPORTED_MODULE_7__["HtmlWayFormComponent"],
                _component_way_form_component_way_form_component__WEBPACK_IMPORTED_MODULE_8__["ComponentWayFormComponent"],
                _metaui_way_form_metaui_way_form_component__WEBPACK_IMPORTED_MODULE_9__["MetauiWayFormComponent"],
                _metaui_way_form2_metaui_way_form2_component__WEBPACK_IMPORTED_MODULE_10__["MetauiWayForm2Component"],
                _metaui_way_module_metaui_way_module_component__WEBPACK_IMPORTED_MODULE_12__["MetauiWayModuleComponent"],
                _metaui_way_module_sales_graph_sales_graph_component__WEBPACK_IMPORTED_MODULE_13__["SalesGraphComponent"],
                _metaui_way_module_product_content_product_content_component__WEBPACK_IMPORTED_MODULE_14__["ProductContentComponent"],
                _metaui_way_module_sources_sources_component__WEBPACK_IMPORTED_MODULE_15__["SourcesComponent"]
            ],
            providers: [],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_3__["AppComponent"]]
        }),
        __metadata("design:paramtypes", [_aribaui_core__WEBPACK_IMPORTED_MODULE_4__["AppConfig"]])
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/component-way-form/component-way-form.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/component-way-form/component-way-form.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p-panel header=\"My First Component Form\" [toggleable]=\"false\">\n\n    <aw-form-table>\n\n        <aw-form-row [label]=\"'User Id'\">\n            <aw-input-field [type]=\"'string'\" [name]=\"'id'\"\n                            [(ngModel)]=\"userObject.uniqueName\"></aw-input-field>\n        </aw-form-row>\n\n        <aw-form-row [label]=\"'First Name'\">\n            <aw-input-field [type]=\"'string'\" [name]=\"'firstName'\"\n                            [(ngModel)]=\"userObject.firstName\"></aw-input-field>\n        </aw-form-row>\n\n        <aw-form-row [label]=\"'Last Name'\">\n            <aw-input-field [type]=\"'string'\" [name]=\"'lastName'\"\n                            [(ngModel)]=\"userObject.lastName\"></aw-input-field>\n        </aw-form-row>\n\n        <aw-form-row [label]=\"'Age'\">\n            <aw-input-field [type]=\"'number'\" [name]=\"'age'\"\n                            [(ngModel)]=\"userObject.age\"></aw-input-field>\n        </aw-form-row>\n\n        <aw-form-row [label]=\"'Date of birth'\">\n            <aw-date-time name=\"startDate\" [(ngModel)]=\"userObject.dob\"\n                          [showTime]=\"false\">\n            </aw-date-time>\n\n        </aw-form-row>\n    </aw-form-table>\n</p-panel>\n\n\n<pre>\n    <code class=\"language-markup\" pCode>\n     &lt;w-form-table&gt;\n        &lt;aw-form-row [label]=\"'User Id'\"&gt;\n            &lt;aw-input-field [type]=\"'string'\" [name]=\"'id'\"\n                            [(ngModel)]=\"userObject.uniqueName\"&gt;&lt;/aw-input-field&gt;\n        &lt;/aw-form-row&gt;\n\n        &lt;aw-form-row [label]=\"'First Name'\"&gt;\n            &lt;aw-input-field [type]=\"'string'\" [name]=\"'firstName'\"\n                            [(ngModel)]=\"userObject.firstName\"&gt;&lt;/aw-input-field&gt;\n        &lt;/aw-form-row&gt;\n\n        &lt;aw-form-row [label]=\"'Last Name'\"&gt;\n            &lt;aw-input-field [type]=\"'string'\" [name]=\"'lastName'\"\n                            [(ngModel)]=\"userObject.lastName\"&gt;&lt;/aw-input-field&gt;\n        &lt;/aw-form-row&gt;\n\n        &lt;aw-form-row [label]=\"'Age'\"&gt;\n            &lt;aw-input-field [type]=\"'number'\" [name]=\"'age'\"\n                            [(ngModel)]=\"userObject.age\"&gt;&lt;/aw-input-field&gt;\n        &lt;/aw-form-row&gt;\n\n        &lt;aw-form-row [label]=\"'Date of birth'\"&gt;\n            &lt;aw-date-time name=\"startDate\" [(ngModel)]=\"userObject.dob\"\n                          [showTime]=\"false\"&gt;\n            &lt;/aw-date-time&gt;\n\n        &lt;/aw-form-row&gt;\n    &lt;/w-form-table&gt;\n\n    </code>\n</pre>\n"

/***/ }),

/***/ "./src/app/component-way-form/component-way-form.component.scss":
/*!**********************************************************************!*\
  !*** ./src/app/component-way-form/component-way-form.component.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component-way-form/component-way-form.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/component-way-form/component-way-form.component.ts ***!
  \********************************************************************/
/*! exports provided: ComponentWayFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentWayFormComponent", function() { return ComponentWayFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/user */ "./src/app/model/user.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ComponentWayFormComponent = /** @class */ (function () {
    function ComponentWayFormComponent() {
    }
    ComponentWayFormComponent.prototype.ngOnInit = function () {
        this.userObject = new _model_user__WEBPACK_IMPORTED_MODULE_1__["User"]('ppan', 'Peter', 'Pan', 8, new Date());
    };
    ComponentWayFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-component-way-form',
            template: __webpack_require__(/*! ./component-way-form.component.html */ "./src/app/component-way-form/component-way-form.component.html"),
            styles: [__webpack_require__(/*! ./component-way-form.component.scss */ "./src/app/component-way-form/component-way-form.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], ComponentWayFormComponent);
    return ComponentWayFormComponent;
}());



/***/ }),

/***/ "./src/app/dymamic-components.ts":
/*!***************************************!*\
  !*** ./src/app/dymamic-components.ts ***!
  \***************************************/
/*! exports provided: ComponentWayFormComponent, MetauiWayFormComponent, HtmlWayFormComponent, MetauiWayForm2Component, MetauiWayModuleComponent, SalesGraphComponent, ProductContentComponent, SourcesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _component_way_form_component_way_form_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./component-way-form/component-way-form.component */ "./src/app/component-way-form/component-way-form.component.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ComponentWayFormComponent", function() { return _component_way_form_component_way_form_component__WEBPACK_IMPORTED_MODULE_0__["ComponentWayFormComponent"]; });

/* harmony import */ var _metaui_way_form_metaui_way_form_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./metaui-way-form/metaui-way-form.component */ "./src/app/metaui-way-form/metaui-way-form.component.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetauiWayFormComponent", function() { return _metaui_way_form_metaui_way_form_component__WEBPACK_IMPORTED_MODULE_1__["MetauiWayFormComponent"]; });

/* harmony import */ var _html_way_form_html_way_form_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./html-way-form/html-way-form.component */ "./src/app/html-way-form/html-way-form.component.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HtmlWayFormComponent", function() { return _html_way_form_html_way_form_component__WEBPACK_IMPORTED_MODULE_2__["HtmlWayFormComponent"]; });

/* harmony import */ var _metaui_way_form2_metaui_way_form2_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./metaui-way-form2/metaui-way-form2.component */ "./src/app/metaui-way-form2/metaui-way-form2.component.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetauiWayForm2Component", function() { return _metaui_way_form2_metaui_way_form2_component__WEBPACK_IMPORTED_MODULE_3__["MetauiWayForm2Component"]; });

/* harmony import */ var _metaui_way_module_metaui_way_module_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./metaui-way-module/metaui-way-module.component */ "./src/app/metaui-way-module/metaui-way-module.component.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetauiWayModuleComponent", function() { return _metaui_way_module_metaui_way_module_component__WEBPACK_IMPORTED_MODULE_4__["MetauiWayModuleComponent"]; });

/* harmony import */ var _metaui_way_module_sales_graph_sales_graph_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./metaui-way-module/sales-graph/sales-graph.component */ "./src/app/metaui-way-module/sales-graph/sales-graph.component.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SalesGraphComponent", function() { return _metaui_way_module_sales_graph_sales_graph_component__WEBPACK_IMPORTED_MODULE_5__["SalesGraphComponent"]; });

/* harmony import */ var _metaui_way_module_product_content_product_content_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./metaui-way-module/product-content/product-content.component */ "./src/app/metaui-way-module/product-content/product-content.component.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ProductContentComponent", function() { return _metaui_way_module_product_content_product_content_component__WEBPACK_IMPORTED_MODULE_6__["ProductContentComponent"]; });

/* harmony import */ var _metaui_way_module_sources_sources_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./metaui-way-module/sources/sources.component */ "./src/app/metaui-way-module/sources/sources.component.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SourcesComponent", function() { return _metaui_way_module_sources_sources_component__WEBPACK_IMPORTED_MODULE_7__["SourcesComponent"]; });











/***/ }),

/***/ "./src/app/html-way-form/html-way-form.component.html":
/*!************************************************************!*\
  !*** ./src/app/html-way-form/html-way-form.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"ui-panel ui-widget ui-widget-content ui-corner-all\">\n    <div class=\"ui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all\">\n        <span class=\"ui-panel-title\">My First Pure HTML Page</span>\n    </div>\n    <div class=\"ui-panel-content-wrapper\">\n        <div class=\"ui-panel-content ui-widget-content\">\n\n            <form class=\"w-form-table ui-g ui-fluid\" novalidate>\n\n                <div class=\"ui-g-12 ui-g-nopad\">\n                    <div class=\"ui-g\">\n                        <div class=\"ui-g-12\">\n                            <div class=\"w-form-row ui-g\">\n                                <div class=\"control-label ui-g-12 ui-md-3\">\n                                    <label>User Id:</label>\n                                </div>\n                                <div class=\"ui-g-12 ui-md-6\">\n                                    <input pInputText\n                                           name=\"userId\"\n                                           [(ngModel)]=\"userObject.uniqueName\"\n                                           type=\"text\"\n                                           class=\"w-text-field\"\n                                           placeholder=\"user id\">\n\n                                    <div class=\"ui-g\">\n                                        <small *ngIf=\"hasErrors()\"\n                                               class=\"ui-g-12 ui-message ui-messages-error ui-corner-all\">\n                                            {{ errorMsg }}\n                                        </small>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class=\"w-form-row ui-g\">\n                                <div class=\"control-label ui-g-12 ui-md-3\">\n                                    <label>First Name:</label>\n                                </div>\n                                <div class=\"ui-g-12 ui-md-6\">\n                                    <input pInputText\n                                           name=\"firstName\"\n                                           [(ngModel)]=\"userObject.firstName\"\n                                           type=\"text\"\n                                           class=\"w-text-field\"\n                                           placeholder=\"First Name\">\n\n                                    <div class=\"ui-g\">\n                                        <small *ngIf=\"hasErrors()\"\n                                               class=\"ui-g-12 ui-message ui-messages-error ui-corner-all\">\n                                            {{ errorMsg }}\n                                        </small>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class=\"w-form-row ui-g\">\n\n                                <div class=\"control-label ui-g-12 ui-md-3\">\n                                    <label>Last Name:</label>\n                                </div>\n                                <div class=\"ui-g-12 ui-md-6\">\n\n                                    <input pInputText\n                                           name=\"lastName\"\n                                           [(ngModel)]=\"userObject.lastName\"\n                                           type=\"text\"\n                                           class=\"w-text-field\"\n                                           placeholder=\"Last Name\">\n\n                                    <div class=\"ui-g\">\n                                        <small *ngIf=\"hasErrors()\"\n                                               class=\"ui-g-12 ui-message ui-messages-error ui-corner-all\">\n                                            {{ errorMsg }}\n                                        </small>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class=\"w-form-row ui-g\">\n\n                                <div class=\"control-label ui-g-12 ui-md-3\">\n                                    <label>Age: </label>\n                                </div>\n                                <div class=\"ui-g-12 ui-md-6\">\n\n                                    <input pInputText\n                                           name=\"age\"\n                                           [(ngModel)]=\"userObject.age\"\n                                           class=\"w-text-field\"\n                                           placeholder=\"Last Name\">\n\n                                    <div class=\"ui-g\">\n                                        <small *ngIf=\"hasErrors()\"\n                                               class=\"ui-g-12 ui-message ui-messages-error ui-corner-all\">\n                                            {{ errorMsg }}\n                                        </small>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class=\"w-form-row ui-g\">\n\n                                <div class=\"control-label ui-g-12 ui-md-3\">\n                                    <label>Date of birth: </label>\n                                </div>\n                                <div class=\"ui-g-12 ui-md-6\">\n                                    <aw-date-time name=\"dob\" [(ngModel)]=\"userObject.dob\"\n                                                  [showTime]=\"false\">\n                                    </aw-date-time>\n\n                                    <div class=\"ui-g\">\n                                        <small *ngIf=\"hasErrors()\"\n                                               class=\"ui-g-12 ui-message ui-messages-error ui-corner-all\">\n                                            {{ errorMsg }}\n                                        </small>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n\n\n<pre>\n    <code class=\"language-markup\" pCode>\n        &lt;div class=\"ui-panel ui-widget ui-widget-content ui-corner-all\"&gt;\n                <div class=\"ui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all\"&gt;\n                    &lt;span class=\"ui-panel-title\"&gt;My First Pure HTML Page&lt;/span&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"ui-panel-content-wrapper\"&gt;\n                    &lt;div class=\"ui-panel-content ui-widget-content\"&gt;\n\n                        &lt;form class=\"w-form-table ui-g ui-fluid\" novalidate&gt;\n\n                            &lt;div class=\"ui-g-12 ui-g-nopad\"&gt;\n                                &lt;div class=\"ui-g\"&gt;\n                                    &lt;div class=\"ui-g-12\"&gt;\n                                        &lt;div class=\"w-form-row ui-g\"&gt;\n                                            &lt;div class=\"control-label ui-g-12 ui-md-3\"&gt;\n                                                &lt;label&gt;User Id:&lt;/label&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=\"ui-g-12 ui-md-6\"&gt;\n                                                &lt;input pInputText\n                                                       name=\"userId\"\n                                                       [(ngModel)]=\"userObject.uniqueName\"\n                                                       type=\"text\"\n                                                       class=\"w-text-field\"\n                                                       placeholder=\"user id\"&gt;\n\n                                                &lt;div class=\"ui-g\"&gt;\n                                                    &lt;small *ngIf=\"hasErrors()\"\n                                                           class=\"ui-g-12 ui-message ui-messages-error ui-corner-all\"&gt;\n                                                        {{ errorMsg }}\n                                                    &lt;/small&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n\n                                        &lt;div class=\"w-form-row ui-g\"&gt;\n                                            &lt;div class=\"control-label ui-g-12 ui-md-3\"&gt;\n                                                &lt;label&gt;First Name:&lt;/label&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=\"ui-g-12 ui-md-6\"&gt;\n                                                &lt;input pInputText\n                                                       name=\"firstName\"\n                                                       [(ngModel)]=\"userObject.firstName\"\n                                                       type=\"text\"\n                                                       class=\"w-text-field\"\n                                                       placeholder=\"First Name\"&gt;\n\n                                                &lt;div class=\"ui-g\"&gt;\n                                                    &lt;small *ngIf=\"hasErrors()\"\n                                                           class=\"ui-g-12 ui-message ui-messages-error ui-corner-all\"&gt;\n                                                        {{ errorMsg }}\n                                                    &lt;/small&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n\n                                        &lt;div class=\"w-form-row ui-g\"&gt;\n\n                                            &lt;div class=\"control-label ui-g-12 ui-md-3\"&gt;\n                                                &lt;label&gt;Last Name:&lt;/label&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=\"ui-g-12 ui-md-6\"&gt;\n\n                                                &lt;input pInputText\n                                                       name=\"lastName\"\n                                                       [(ngModel)]=\"userObject.lastName\"\n                                                       type=\"text\"\n                                                       class=\"w-text-field\"\n                                                       placeholder=\"Last Name\"&gt;\n\n                                                &lt;div class=\"ui-g\"&gt;\n                                                    &lt;small *ngIf=\"hasErrors()\"\n                                                           class=\"ui-g-12 ui-message ui-messages-error ui-corner-all\"&gt;\n                                                        {{ errorMsg }}\n                                                    &lt;/small&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n\n                                        &lt;div class=\"w-form-row ui-g\"&gt;\n\n                                            &lt;div class=\"control-label ui-g-12 ui-md-3\"&gt;\n                                                &lt;label&gt;Age: &lt;/label&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=\"ui-g-12 ui-md-6\"&gt;\n\n                                                &lt;input pInputText\n                                                       name=\"age\"\n                                                       [(ngModel)]=\"userObject.age\"\n                                                       class=\"w-text-field\"\n                                                       placeholder=\"Last Name\"&gt;\n\n                                                &lt;div class=\"ui-g\"&gt;\n                                                    &lt;small *ngIf=\"hasErrors()\"\n                                                           class=\"ui-g-12 ui-message ui-messages-error ui-corner-all\"&gt;\n                                                        {{ errorMsg }}\n                                                    &lt;/small&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n\n                                        &lt;div class=\"w-form-row ui-g\"&gt;\n\n                                            &lt;div class=\"control-label ui-g-12 ui-md-3\"&gt;\n                                                &lt;label&gt;Date of birth: &lt;/label&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=\"ui-g-12 ui-md-6\"&gt;\n                                                &lt;aw-date-time name=\"dob\" [(ngModel)]=\"userObject.dob\"\n                                                              [showTime]=\"false\"&gt;\n                                                &lt;/aw-date-time&gt;\n\n                                                &lt;div class=\"ui-g\"&gt;\n                                                    &lt;small *ngIf=\"hasErrors()\"\n                                                           class=\"ui-g-12 ui-message ui-messages-error ui-corner-all\"&gt;\n                                                        {{ errorMsg }}\n                                                    &lt;/small&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/form&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n    </code>\n</pre>\n\n\n\n\n\n"

/***/ }),

/***/ "./src/app/html-way-form/html-way-form.component.scss":
/*!************************************************************!*\
  !*** ./src/app/html-way-form/html-way-form.component.scss ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/html-way-form/html-way-form.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/html-way-form/html-way-form.component.ts ***!
  \**********************************************************/
/*! exports provided: HtmlWayFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HtmlWayFormComponent", function() { return HtmlWayFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/user */ "./src/app/model/user.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var HtmlWayFormComponent = /** @class */ (function () {
    function HtmlWayFormComponent() {
        this.errorMsg = '';
    }
    HtmlWayFormComponent.prototype.ngOnInit = function () {
        this.userObject = new _model_user__WEBPACK_IMPORTED_MODULE_1__["User"]('ppan', 'Peter', 'Pan', 8, new Date());
    };
    HtmlWayFormComponent.prototype.hasErrors = function () {
        return false;
    };
    HtmlWayFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-html-way-form',
            template: __webpack_require__(/*! ./html-way-form.component.html */ "./src/app/html-way-form/html-way-form.component.html"),
            styles: [__webpack_require__(/*! ./html-way-form.component.scss */ "./src/app/html-way-form/html-way-form.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], HtmlWayFormComponent);
    return HtmlWayFormComponent;
}());



/***/ }),

/***/ "./src/app/metaui-way-form/metaui-way-form.component.html":
/*!****************************************************************!*\
  !*** ./src/app/metaui-way-form/metaui-way-form.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p-panel header=\"My First MetaUI\" [toggleable]=\"false\">\n\n\n    <m-context [object]=\"userObject\" operation=\"edit\" layout=\"Inspect\">\n        <m-include-component></m-include-component>\n    </m-context>\n\n</p-panel>\n\n\n<div class=\"ui-g\">\n    <div class=\"ui-g-12 ui-md-6\">\n<pre>\n<code class=\"language-markup\" pCode>\n&lt;m-context [object]=\"userObject\" operation=\"edit\"\n    layout=\"Inspect\"&gt;\n    &lt;m-include-component&gt;&lt;/m-include-component&gt;\n&lt;/m-context&gt;\n</code>\n</pre>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n<pre>\n<code class=\"language-javascript\" pCode>\n\nclass=User &#123;\n    zLeft => uniqueName => firstName => lastName => age => dob;\n&#125;\n\n\n</code>\n</pre>\n\n    </div>\n</div>\n\n\n\n\n"

/***/ }),

/***/ "./src/app/metaui-way-form/metaui-way-form.component.scss":
/*!****************************************************************!*\
  !*** ./src/app/metaui-way-form/metaui-way-form.component.scss ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/metaui-way-form/metaui-way-form.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/metaui-way-form/metaui-way-form.component.ts ***!
  \**************************************************************/
/*! exports provided: MetauiWayFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetauiWayFormComponent", function() { return MetauiWayFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/user */ "./src/app/model/user.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var MetauiWayFormComponent = /** @class */ (function () {
    function MetauiWayFormComponent() {
    }
    MetauiWayFormComponent.prototype.ngOnInit = function () {
        this.userObject = new _model_user__WEBPACK_IMPORTED_MODULE_1__["User"]('ppan', 'Peter', 'Pan', 8, new Date());
    };
    MetauiWayFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-metaui-way-form',
            template: __webpack_require__(/*! ./metaui-way-form.component.html */ "./src/app/metaui-way-form/metaui-way-form.component.html"),
            styles: [__webpack_require__(/*! ./metaui-way-form.component.scss */ "./src/app/metaui-way-form/metaui-way-form.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], MetauiWayFormComponent);
    return MetauiWayFormComponent;
}());



/***/ }),

/***/ "./src/app/metaui-way-form2/metaui-way-form2.component.html":
/*!******************************************************************!*\
  !*** ./src/app/metaui-way-form2/metaui-way-form2.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p-panel header=\"MetaUI with custom layout and actions. 2 stacked layouts and two actions. \" [toggleable]=\"false\">\n\n    <m-context [object]=\"user\" operation=\"edit\" layout=\"Inspect2\">\n        <m-include-component></m-include-component>\n    </m-context>\n\n</p-panel>\n\n\n<div class=\"ui-g\">\n    <div class=\"ui-g-12 ui-md-6\">\n<pre>\n<code class=\"language-markup\" pCode>\n&lt;m-context [object]=\"userObject\" operation=\"edit\"\n    layout=\"Inspect2\"&gt;\n    &lt;m-include-component&gt;&lt;/m-include-component&gt;\n&lt;/m-context&gt;\n</code>\n</pre>\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n<pre>\n<code class=\"language-javascript\" pCode>\nlayout=Inspect2&#35;Stack &#123;\n    &#64;layout=MenuTop&#35;ActionButtons &#123;  &#125;\n\n   &#64;layout=First&#35;Form &#123;  &#125;\n\n&#125;\n\nobject &#64;action=update  &#123;\n     actionResults:$&#123; object.firstName = \"Mr.\" +  object.firstName &#125;;\n     visible: $&#123; properties.editing &#125;;\n&#125;\n\n\nobject &#64;action=Save  &#123;\n     label: \"My Save\";\n     actionResults:$&#123; object.firstName = \"Ms.\" +  object.firstName &#125;;\n     visible: $&#123; properties.editing &#125;;\n     buttonStyle:info;\n&#125;\n\n</code>\n</pre>\n\n    </div>\n</div>\n\n\n\n\n\n\n"

/***/ }),

/***/ "./src/app/metaui-way-form2/metaui-way-form2.component.scss":
/*!******************************************************************!*\
  !*** ./src/app/metaui-way-form2/metaui-way-form2.component.scss ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/metaui-way-form2/metaui-way-form2.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/metaui-way-form2/metaui-way-form2.component.ts ***!
  \****************************************************************/
/*! exports provided: MetauiWayForm2Component */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetauiWayForm2Component", function() { return MetauiWayForm2Component; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/user */ "./src/app/model/user.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var MetauiWayForm2Component = /** @class */ (function () {
    function MetauiWayForm2Component() {
    }
    MetauiWayForm2Component.prototype.ngOnInit = function () {
        this.user = new _model_user__WEBPACK_IMPORTED_MODULE_1__["User"]('pp', 'Peter', 'Pan', 8, new Date());
    };
    MetauiWayForm2Component = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-metaui-way-form2',
            template: __webpack_require__(/*! ./metaui-way-form2.component.html */ "./src/app/metaui-way-form2/metaui-way-form2.component.html"),
            styles: [__webpack_require__(/*! ./metaui-way-form2.component.scss */ "./src/app/metaui-way-form2/metaui-way-form2.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], MetauiWayForm2Component);
    return MetauiWayForm2Component;
}());



/***/ }),

/***/ "./src/app/metaui-way-module/metaui-way-module.component.html":
/*!********************************************************************!*\
  !*** ./src/app/metaui-way-module/metaui-way-module.component.html ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"meta-demo-page\">\n    <p-tabMenu [model]=\"items\"></p-tabMenu>\n\n\n    <div class=\"module-content\">\n        <router-outlet></router-outlet>\n    </div>\n\n</div>\n"

/***/ }),

/***/ "./src/app/metaui-way-module/metaui-way-module.component.scss":
/*!********************************************************************!*\
  !*** ./src/app/metaui-way-module/metaui-way-module.component.scss ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "::ng-deep .ui-tabmenu {\n  background-color: transparent;\n  border-top-width: 0;\n  border-left-width: 0;\n  border-right-width: 0; }\n\n::ng-deep .ui-tabmenu-nav {\n  border-width: 0;\n  background-color: transparent; }\n"

/***/ }),

/***/ "./src/app/metaui-way-module/metaui-way-module.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/metaui-way-module/metaui-way-module.component.ts ***!
  \******************************************************************/
/*! exports provided: MetauiWayModuleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetauiWayModuleComponent", function() { return MetauiWayModuleComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _aribaui_metaui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aribaui/metaui */ "../../dist/@aribaui/metaui/fesm5/aribaui-metaui.js");
/* harmony import */ var _aribaui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aribaui/core */ "../../dist/@aribaui/core/fesm5/aribaui-core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "../../node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var MetauiWayModuleComponent = /** @class */ (function () {
    function MetauiWayModuleComponent(rs, activatedRoute) {
        this.rs = rs;
        this.activatedRoute = activatedRoute;
        this.tabName = 'Home';
    }
    MetauiWayModuleComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.items = [];
        var uiMeta = _aribaui_metaui__WEBPACK_IMPORTED_MODULE_1__["UIMeta"].getInstance();
        this._moduleInfo = uiMeta.computeModuleInfo();
        if (Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_2__["isPresent"])(this._moduleInfo) && this._moduleInfo.modules.length > 0) {
            this._moduleInfo.modules.forEach(function (module) {
                var item = {
                    label: uiMeta.currentModuleLabel(module.name),
                    moduleName: module.name,
                    routePath: "/" + module.name.toLowerCase(),
                    command: function (event) {
                        _this.tabChanged(event);
                    }
                };
                _this.items.push(item);
            });
            this._selectedModule = this._moduleInfo.modules[0];
            uiMeta.gotoModule(this._selectedModule, "/" + this.activatedRoute.snapshot.url
                .map(function (segment) { return segment.path; }).join('/'));
        }
    };
    MetauiWayModuleComponent.prototype.tabChanged = function (event) {
        this.tabName = event.item.label;
        this._selectedModule = this._moduleInfo.moduleByNames.get(event.item.moduleName);
        var uiMeta = _aribaui_metaui__WEBPACK_IMPORTED_MODULE_1__["UIMeta"].getInstance();
        uiMeta.gotoModule(this._selectedModule, "/" + this.activatedRoute.snapshot.url.map(function (segment) { return segment.path; }).join('/'));
    };
    MetauiWayModuleComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'metaui-way-module',
            template: __webpack_require__(/*! ./metaui-way-module.component.html */ "./src/app/metaui-way-module/metaui-way-module.component.html"),
            styles: [__webpack_require__(/*! ./metaui-way-module.component.scss */ "./src/app/metaui-way-module/metaui-way-module.component.scss")]
        }),
        __metadata("design:paramtypes", [_aribaui_core__WEBPACK_IMPORTED_MODULE_2__["RoutingService"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]])
    ], MetauiWayModuleComponent);
    return MetauiWayModuleComponent;
}());



/***/ }),

/***/ "./src/app/metaui-way-module/product-content/product-content.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/metaui-way-module/product-content/product-content.component.ts ***!
  \********************************************************************************/
/*! exports provided: ProductContentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProductContentComponent", function() { return ProductContentComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ProductContentComponent = /** @class */ (function () {
    function ProductContentComponent() {
    }
    ProductContentComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'product-content',
            template: "<h3>This is my Custom Product Page</h3>\n\n    <p>\n        This page has only simple H3 and paragraphs that has only some coppied text from\n        news server.\n    </p>\n\n\n    <p>\n        Whereas this seems to be promising, this approach suffers from drawbacks and isn\u2019t the\n        recommended one by the Angular team. The main drawback is that it prevents us from\n        using offline compile to precompile component templates. Using a custom decorator\n        for components also prevents external tools from detecting that they are actually\n        components.\n        In this article, we will describe another approach based on the component composition\n        based on components and attribute directives. We will deal with the way to implement\n        it, its advantages and limitations.\n    </p>\n\n    "
        })
    ], ProductContentComponent);
    return ProductContentComponent;
}());



/***/ }),

/***/ "./src/app/metaui-way-module/sales-graph/sales-graph.component.scss":
/*!**************************************************************************!*\
  !*** ./src/app/metaui-way-module/sales-graph/sales-graph.component.scss ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".module-content {\n  padding: 10px; }\n"

/***/ }),

/***/ "./src/app/metaui-way-module/sales-graph/sales-graph.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/metaui-way-module/sales-graph/sales-graph.component.ts ***!
  \************************************************************************/
/*! exports provided: SalesGraphComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SalesGraphComponent", function() { return SalesGraphComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _aribaui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aribaui/components */ "../../dist/@aribaui/components/fesm5/aribaui-components.js");
/* harmony import */ var _aribaui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aribaui/core */ "../../dist/@aribaui/core/fesm5/aribaui-core.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var SalesGraphComponent = /** @class */ (function (_super) {
    __extends(SalesGraphComponent, _super);
    function SalesGraphComponent(env) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        return _this;
    }
    SalesGraphComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            template: "<img src=\"assets/images/sales.png\" width=\"100%\"/> ",
            styles: [__webpack_require__(/*! ./sales-graph.component.scss */ "./src/app/metaui-way-module/sales-graph/sales-graph.component.scss")]
        }),
        __metadata("design:paramtypes", [_aribaui_core__WEBPACK_IMPORTED_MODULE_2__["Environment"]])
    ], SalesGraphComponent);
    return SalesGraphComponent;
}(_aribaui_components__WEBPACK_IMPORTED_MODULE_1__["BaseComponent"]));



/***/ }),

/***/ "./src/app/metaui-way-module/sources/sources.component.html":
/*!******************************************************************!*\
  !*** ./src/app/metaui-way-module/sources/sources.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<pre>\n<code class=\"language-typescript\" pCode>\n@module=Home &#123;\n    label:\"My Home\";\n    pageTitle:\"You are now on Homepage\";\n\n    @layout=Today &#123;\n       after:zTop;\n       label: \"Sales Graph\";\n       component:SalesGraphComponent;\n    &#125;\n\n    @layout=Sport &#123;\n       after:Today;\n       label: \"Sport today!\";\n       component:StringComponent;\n       bindings:&#123;value:\" ...... \" &#125;\n    &#125;\n\n\n     @layout=Tech &#123;\n           after:Sport;\n           label: \"Tech News\";\n           component:StringComponent;\n           bindings:&#123;value:\" ...... \" &#125;\n     &#125;\n\n     @layout=MessageBoard &#123;\n        after:zBottom;\n        label: \"Message Board\";\n        component:StringComponent;\n        portletWidth:large\n        bindings:&#123;value:\" ...... \" &#125;\n     &#125;\n\n&#125;\n\n\n\n@module=Products &#123;\n    pageTitle:\"You are now on Products\";\n    homePage:ProductContentComponent;\n&#125;\n\n\n@module=Sources &#123;\n    label:\"Sources for Module\";\n    homePage:SourcesComponent;\n\n&#125;\n</code>\n</pre>\n"

/***/ }),

/***/ "./src/app/metaui-way-module/sources/sources.component.scss":
/*!******************************************************************!*\
  !*** ./src/app/metaui-way-module/sources/sources.component.scss ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/metaui-way-module/sources/sources.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/metaui-way-module/sources/sources.component.ts ***!
  \****************************************************************/
/*! exports provided: SourcesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SourcesComponent", function() { return SourcesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _aribaui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aribaui/components */ "../../dist/@aribaui/components/fesm5/aribaui-components.js");
/* harmony import */ var _aribaui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aribaui/core */ "../../dist/@aribaui/core/fesm5/aribaui-core.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var SourcesComponent = /** @class */ (function (_super) {
    __extends(SourcesComponent, _super);
    function SourcesComponent(env) {
        var _this = _super.call(this, env) || this;
        _this.env = env;
        return _this;
    }
    SourcesComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            template: __webpack_require__(/*! ./sources.component.html */ "./src/app/metaui-way-module/sources/sources.component.html"),
            styles: [__webpack_require__(/*! ./sources.component.scss */ "./src/app/metaui-way-module/sources/sources.component.scss")]
        }),
        __metadata("design:paramtypes", [_aribaui_core__WEBPACK_IMPORTED_MODULE_2__["Environment"]])
    ], SourcesComponent);
    return SourcesComponent;
}(_aribaui_components__WEBPACK_IMPORTED_MODULE_1__["BaseComponent"]));



/***/ }),

/***/ "./src/app/metaui-way-nesting/metaui-way-nesting.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/metaui-way-nesting/metaui-way-nesting.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p-panel header=\"MetaUI with complex nesting, rendering full object structure. \" [toggleable]=\"false\">\n\n    <div class=\" ui-g\">\n        <div class=\"ui-g-12 with-border\">\n            <m-context [object]=\"myPO\" operation=\"view\" layout=\"Inspect\">\n                <m-include-component></m-include-component>\n            </m-context>\n        </div>\n    </div>\n\n</p-panel>\n\n\n<div class=\"ui-g\">\n    <div class=\"ui-g-12 ui-md-6\">\n        html\n        <pre>\n            <code class=\"language-markup\" pCode>\n    &lt;m-context [object]=\"myPO\" operation=\"view\" layout=\"Inspect\"&gt;\n            &lt;m-include-component&gt;&lt;/m-include-component&gt;\n    &lt;/m-context&gt;\n            </code>\n        </pre>\n        <hr/>\n        <br/>\n        typescript\n        <pre>\n            <code class=\"language-javascript\" pCode>\n    export class Order implements Entity &#123;\n\n        constructor(public uniqueName?: string,\n                    public name?: string,\n                    public orderDate?: Date,\n                    public state?: String,\n                    public requestor?: User,\n                    public totalAmount?: Money,\n                    public billingAddress?: Address,\n                    public shippingAddress?: Address,\n                    public description?: string) &#123;\n            this.uniqueName = 'PO20180001';\n        &#125;\n\n\n        identity(): string &#123;\n            return this.uniqueName;\n        &#125;\n\n\n        getTypes(): any &#123;\n            return &#123;\n                uniqueName: String,\n                name: String,\n                requestor: User,\n                totalAmount: Money,\n                billingAddress: Address,\n                shippingAddress: Address,\n                description: String\n\n            &#125;;\n        &#125;\n        ...\n    &#125;\n            </code>\n        </pre>\n\n    </div>\n    <div class=\"ui-g-12 ui-md-6\">\n        oss\n        <pre>\n            <code class=\"language-javascript\" pCode>\n/**\n    Rules can work also with nested object where you can\n    define how they should be rendered.\n\n     You can easily define this on system level so it automatically\n     render nested form for each object\n*/\nclass=Order &#123;\n     @field=title#derived &#123;\n        type:String;\n        value:$&#123;\"Purchase Order: \" + object.name &#125;;\n        bindings:&#123;\n            useNoLabelLayout:true;\n        &#125;\n        wrapperComponent:GenericContainerComponent;\n        wrapperBindings: &#123; tagName:h2; &#125;\n     &#125;\n     field=uniqueName &#123;\n        label:\"PO #\"\n     &#125;\n     field=description &#123;\n        bindings: &#123;\n            styleClass: 'u-description';\n        &#125;\n     &#125;\n     field=requestor#asHover &#123;\n        label: \"Buyer\";\n     &#125;\n\n    zNone => *;\n    zTop => title;\n    zLeft => uniqueName => requestor => totalAmount => orderDate => state;\n    zRight => shippingAddress#asObject => billingAddress#asObject;\n    zBottom => description;\n&#125;\n\n\nclass=Address &#123;\n\n  field=fullName &#123;\n    label: \"Name\";\n  &#125;\n\n  @field=zipCity#derived &#123;\n       label: \"Zip, City\";\n       type:String;\n       value:$ &#123;object.zip  + \", \" + object.city&#125;;\n   &#125;\n\n   zNone => *;\n   zLeft => fullName => street => zipCity;\n&#125;\n\n\n\n\n\n            </code>\n\n        </pre>\n\n    </div>\n</div>\n\n\n\n\n\n"

/***/ }),

/***/ "./src/app/metaui-way-nesting/metaui-way-nesting.component.scss":
/*!**********************************************************************!*\
  !*** ./src/app/metaui-way-nesting/metaui-way-nesting.component.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/deep/ .u-description {\n  background-color: #f9f9f9;\n  border: 1px solid #f2f2f2;\n  padding: 5px; }\n  /deep/ .u-description .w-string-field {\n    background-color: #f9f9f9;\n    line-height: 18px !important; }\n  .with-border {\n  border: 1px solid #f2f2f2;\n  margin: 15px 5px;\n  box-shadow: 3px 3px 4px #ccc; }\n  /deep/ .section-label .control-value {\n  background-color: #e9e9e9; }\n"

/***/ }),

/***/ "./src/app/metaui-way-nesting/metaui-way-nesting.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/metaui-way-nesting/metaui-way-nesting.component.ts ***!
  \********************************************************************/
/*! exports provided: MetauiWayNestingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetauiWayNestingComponent", function() { return MetauiWayNestingComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _playground_src_app_domain__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../playground/src/app/domain */ "../playground/src/app/domain/index.ts");
/* harmony import */ var _aribaui_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aribaui/components */ "../../dist/@aribaui/components/fesm5/aribaui-components.js");
/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/user */ "./src/app/model/user.ts");
/* harmony import */ var _model_address__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/address */ "./src/app/model/address.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * This is 1:1 copy from the playground as I though it might be good to place it as a next
 * next to show besides rendering flat object structure as can also do this.
 */
var MetauiWayNestingComponent = /** @class */ (function () {
    function MetauiWayNestingComponent() {
    }
    MetauiWayNestingComponent.prototype.ngOnInit = function () {
        this.myPO = new _playground_src_app_domain__WEBPACK_IMPORTED_MODULE_1__["Order"]('PO20180001', 'iPhone 11 5d touch', new Date(), 'Shipping', new _model_user__WEBPACK_IMPORTED_MODULE_3__["User"]('zchapple', 'Zack', 'Chapple'), new _aribaui_components__WEBPACK_IMPORTED_MODULE_2__["Money"](1000, 'USD'), new _model_address__WEBPACK_IMPORTED_MODULE_4__["Address"]('Frank Kolar', 'Davey Glen 111', 'Foster City', '94404', 'US'), new _model_address__WEBPACK_IMPORTED_MODULE_4__["Address"]('Frank Kolar', 'Zelena 400', 'Prague', '14000', 'Czech republic'), 'The iPhone X is intended to showcase what Apple considers technology of ' +
            'the future, specifically adopting OLED screen technology for the first time in iPhone ' +
            'history, as well as using a glass and stainless-steel form factor, offering wireless ' +
            'charging, and removing the home button in favor of introducing a new bezel-less design, ' +
            'almost removing all the bezels in the smartphone and not having a "chin", unlike many ' +
            'Android phones');
    };
    MetauiWayNestingComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-metaui-way-nesting',
            template: __webpack_require__(/*! ./metaui-way-nesting.component.html */ "./src/app/metaui-way-nesting/metaui-way-nesting.component.html"),
            styles: [__webpack_require__(/*! ./metaui-way-nesting.component.scss */ "./src/app/metaui-way-nesting/metaui-way-nesting.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], MetauiWayNestingComponent);
    return MetauiWayNestingComponent;
}());



/***/ }),

/***/ "./src/app/model/address.ts":
/*!**********************************!*\
  !*** ./src/app/model/address.ts ***!
  \**********************************/
/*! exports provided: Address */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Address", function() { return Address; });
/* harmony import */ var _aribaui_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aribaui/core */ "../../dist/@aribaui/core/fesm5/aribaui-core.js");
/**
 *
 * @license
 * Copyright 2017 SAP Ariba
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

var Address = /** @class */ (function () {
    function Address(fullName, street, city, zip, country) {
        this.fullName = fullName;
        this.street = street;
        this.city = city;
        this.zip = zip;
        this.country = country;
    }
    Address.prototype.getTypes = function () {
        return {
            fullName: String,
            street: String,
            city: String,
            zip: String,
            country: String
        };
    };
    /**
     * Used by MetaUI
     *
     */
    Address.prototype.$proto = function () {
        return new Address('1', '2', '3', '4', 'a');
    };
    Address.prototype.className = function () {
        return 'Address';
    };
    Address.prototype.clone = function (data) {
        if (data === void 0) { data = {}; }
        return new Address(Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_0__["isPresent"])(data.fullName) ? data.fullName : this.fullName, Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_0__["isPresent"])(data.street) ? data.street : this.street, Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_0__["isPresent"])(data.city) ? data.city : this.city, Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_0__["isPresent"])(data.zip) ? data.zip : this.zip, Object(_aribaui_core__WEBPACK_IMPORTED_MODULE_0__["isPresent"])(data.country) ? data.country : this.country);
    };
    return Address;
}());



/***/ }),

/***/ "./src/app/model/user.ts":
/*!*******************************!*\
  !*** ./src/app/model/user.ts ***!
  \*******************************/
/*! exports provided: User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });
var User = /** @class */ (function () {
    function User(uniqueName, firstName, lastName, age, dob) {
        this.uniqueName = uniqueName;
        this.firstName = firstName;
        this.lastName = lastName;
        this.age = age;
        this.dob = dob;
    }
    User.prototype.identity = function () {
        return this.uniqueName;
    };
    User.prototype.getTypes = function () {
        return {
            uniqueName: String,
            age: Number,
            firstName: String,
            lastName: String,
            dob: Date
        };
    };
    /**
     * Used by MetaUI
     *
     */
    User.prototype.$proto = function () {
        var user = new User();
        user.uniqueName = '6';
        user.age = 1;
        user.firstName = 'a';
        user.lastName = 'a';
        user.dob = new Date();
        return user;
    };
    User.prototype.className = function () {
        return 'User';
    };
    User.prototype.displayKey = function () {
        return this.toString();
    };
    User.prototype.toString = function () {
        return this.firstName + ' ' + this.lastName;
    };
    return User;
}());



/***/ }),

/***/ "./src/app/rules/index.ts":
/*!********************************!*\
  !*** ./src/app/rules/index.ts ***!
  \********************************/
/*! exports provided: ApplicationRule, UserRule, OrderRule, AddressRule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ts_ApplicationOSS__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ts/ApplicationOSS */ "./src/app/rules/ts/ApplicationOSS.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ApplicationRule", function() { return _ts_ApplicationOSS__WEBPACK_IMPORTED_MODULE_0__["ApplicationRule"]; });

/* harmony import */ var _ts_UserOSS__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ts/UserOSS */ "./src/app/rules/ts/UserOSS.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserRule", function() { return _ts_UserOSS__WEBPACK_IMPORTED_MODULE_1__["UserRule"]; });

/* harmony import */ var _ts_OrderOSS__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ts/OrderOSS */ "./src/app/rules/ts/OrderOSS.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "OrderRule", function() { return _ts_OrderOSS__WEBPACK_IMPORTED_MODULE_2__["OrderRule"]; });

/* harmony import */ var _ts_AddressOSS__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ts/AddressOSS */ "./src/app/rules/ts/AddressOSS.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AddressRule", function() { return _ts_AddressOSS__WEBPACK_IMPORTED_MODULE_3__["AddressRule"]; });







/***/ }),

/***/ "./src/app/rules/ts/AddressOSS.ts":
/*!****************************************!*\
  !*** ./src/app/rules/ts/AddressOSS.ts ***!
  \****************************************/
/*! exports provided: AddressRule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddressRule", function() { return AddressRule; });
/**
 *  This is generated file. Do not edit !!
 *
 *  @formatter:off
 *
 */
/* tslint:disable */
var AddressRule = {
    oss: [
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Address',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Address',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'fullName',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'label': 'Name'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Address',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Address',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'zipCity',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'trait': 'derived',
                'label': 'Zip, City',
                'type': 'String',
                'value': {
                    't': 'Expr',
                    'v': 'object.zip + ", " + object.city'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Address',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Address',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'zNone'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Address',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Address',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'fullName',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'zLeft'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Address',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'street',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'fullName'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Address',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'zipCity',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'street'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Address',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        }
    ]
};
/* tslint:disable */
/**
 *  @formatter:on
 *
 */


/***/ }),

/***/ "./src/app/rules/ts/ApplicationOSS.ts":
/*!********************************************!*\
  !*** ./src/app/rules/ts/ApplicationOSS.ts ***!
  \********************************************/
/*! exports provided: ApplicationRule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApplicationRule", function() { return ApplicationRule; });
/**
 *  This is generated file. Do not edit !!
 *
 *  @formatter:off
 *
 */
/* tslint:disable */
var ApplicationRule = {
    oss: [
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': 'Home',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'pageTitle': 'You are now on Homepage',
                'label': 'My Home'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': 'Home',
                    '_isDecl': true
                },
                {
                    '_key': 'layout',
                    '_value': 'Today',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'SalesGraphComponent',
                'after': 'zTop',
                'label': 'Sales Graph'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': 'Home',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': 'Home',
                    '_isDecl': true
                },
                {
                    '_key': 'layout',
                    '_value': 'Sport',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'StringComponent',
                'bindings': {
                    'value': 'The Texas Tech quarterback <br/><br/><br/><br/><br/><br/><br/><br/>\n                        off a long day of measuring and team interviews and psychological testing '
                },
                'after': 'Today',
                'label': 'Sport today!'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': 'Home',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': 'Home',
                    '_isDecl': true
                },
                {
                    '_key': 'layout',
                    '_value': 'Tech',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'StringComponent',
                'bindings': {
                    'value': 'The most positive trend here is the addition of sensors to <br/><br/><br/><br/><br/>\n                        <br/><br/> don’t secure their phones well or at all '
                },
                'after': 'Sport',
                'label': 'Tech News'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': 'Home',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': 'Home',
                    '_isDecl': true
                },
                {
                    '_key': 'layout',
                    '_value': 'MessageBoard',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'component': 'StringComponent',
                'portletWidth': 'large',
                'bindings': {
                    'value': '<b>Message from PR</b><br/>\n                    The most positive trend here is the addition of sensors to even low-end Android phones that unlock the device after\n                    detecting the user’s fingerprint. <br/> Why? Too many people don’t secure their phones well or at all '
                },
                'after': 'zBottom',
                'label': 'Message Board'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': 'Home',
                    '_isDecl': true
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': 'Products',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'pageTitle': 'You are now on Products',
                'homePage': 'ProductContentComponent'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'module',
                    '_value': 'Sources',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'label': 'Sources for Module',
                'homePage': 'SourcesComponent'
            },
            '_rank': 0
        }
    ]
};
/* tslint:disable */
/**
 *  @formatter:on
 *
 */


/***/ }),

/***/ "./src/app/rules/ts/OrderOSS.ts":
/*!**************************************!*\
  !*** ./src/app/rules/ts/OrderOSS.ts ***!
  \**************************************/
/*! exports provided: OrderRule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OrderRule", function() { return OrderRule; });
/**
 *  This is generated file. Do not edit !!
 *
 *  @formatter:off
 *
 */
/* tslint:disable */
var OrderRule = {
    oss: [
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'title',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'wrapperComponent': 'GenericContainerComponent',
                'wrapperBindings': {
                    'tagName': 'h2'
                },
                'bindings': {
                    'useNoLabelLayout': true
                },
                'trait': 'derived',
                'type': 'String',
                'value': {
                    't': 'Expr',
                    'v': '"Purchase Order: " + object.name'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'uniqueName',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'label': 'PO #'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'description',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'bindings': {
                    'styleClass': 'u-description'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'requestor',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'trait': 'asHover',
                'label': 'Buyer'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'zNone'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'title',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'zTop'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'uniqueName',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'zLeft'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'requestor',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'uniqueName'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'totalAmount',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'requestor'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'orderDate',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'totalAmount'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'state',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'orderDate'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'shippingAddress',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'trait': 'asObject',
                'after': 'zRight'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'billingAddress',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'trait': 'asObject',
                'after': 'shippingAddress'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'description',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'zBottom'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'Order',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        }
    ]
};
/* tslint:disable */
/**
 *  @formatter:on
 *
 */


/***/ }),

/***/ "./src/app/rules/ts/UserOSS.ts":
/*!*************************************!*\
  !*** ./src/app/rules/ts/UserOSS.ts ***!
  \*************************************/
/*! exports provided: UserRule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserRule", function() { return UserRule; });
/**
 *  This is generated file. Do not edit !!
 *
 *  @formatter:off
 *
 */
/* tslint:disable */
var UserRule = {
    oss: [
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'uniqueName',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'label': 'User Id'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'zNone'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'uniqueName',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'zLeft'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'firstName',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'uniqueName'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'lastName',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'firstName'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'age',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'lastName'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'dob',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'age'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'Inspect2',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'trait': 'Stack'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'Inspect2',
                    '_isDecl': false
                },
                {
                    '_key': 'layout',
                    '_value': 'MenuTop',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'trait': 'ActionButtons'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'Inspect2',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'Inspect2',
                    '_isDecl': false
                },
                {
                    '_key': 'layout',
                    '_value': 'First',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'trait': 'Form'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'layout',
                    '_value': 'Inspect2',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'object',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'action',
                    '_value': 'update',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'visible': {
                    't': 'Expr',
                    'v': 'properties.editing'
                },
                'actionResults': {
                    't': 'Expr',
                    'v': 'object.firstName = ("Mr." + object.firstName)'
                }
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'object',
                    '_value': '*',
                    '_isDecl': false
                },
                {
                    '_key': 'action',
                    '_value': 'Save',
                    '_isDecl': true
                }
            ],
            '_properties': {
                'visible': {
                    't': 'Expr',
                    'v': 'properties.editing'
                },
                'buttonStyle': 'info',
                'actionResults': {
                    't': 'Expr',
                    'v': 'object.firstName = ("Ms." + object.firstName)'
                },
                'label': 'My Save'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'group',
                    '_value': 'ObjectDetail',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'group',
                    '_value': 'ObjectDetail',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                },
                {
                    '_key': 'layout',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'trait': 'labelsOnTop'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'group',
                    '_value': 'ObjectDetail',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'group',
                    '_value': 'ObjectDetail',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'uniqueName',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'label': 'User Id'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'group',
                    '_value': 'ObjectDetail',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'group',
                    '_value': 'ObjectDetail',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': '*',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'zNone'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'group',
                    '_value': 'ObjectDetail',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'group',
                    '_value': 'ObjectDetail',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'uniqueName',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'zLeft'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'group',
                    '_value': 'ObjectDetail',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'firstName',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'uniqueName'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'group',
                    '_value': 'ObjectDetail',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                },
                {
                    '_key': 'field',
                    '_value': 'lastName',
                    '_isDecl': false
                }
            ],
            '_properties': {
                'after': 'firstName'
            },
            '_rank': 0
        },
        {
            '_selectors': [
                {
                    '_key': 'group',
                    '_value': 'ObjectDetail',
                    '_isDecl': false
                },
                {
                    '_key': 'class',
                    '_value': 'User',
                    '_isDecl': false
                }
            ],
            '_rank': 0
        }
    ]
};
/* tslint:disable */
/**
 *  @formatter:on
 *
 */


/***/ }),

/***/ "./src/app/user-rules.ts":
/*!*******************************!*\
  !*** ./src/app/user-rules.ts ***!
  \*******************************/
/*! exports provided: ApplicationRule, UserRule, OrderRule, AddressRule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _rules__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rules */ "./src/app/rules/index.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ApplicationRule", function() { return _rules__WEBPACK_IMPORTED_MODULE_0__["ApplicationRule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserRule", function() { return _rules__WEBPACK_IMPORTED_MODULE_0__["UserRule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "OrderRule", function() { return _rules__WEBPACK_IMPORTED_MODULE_0__["OrderRule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AddressRule", function() { return _rules__WEBPACK_IMPORTED_MODULE_0__["AddressRule"]; });




/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false
};
/*
 * In development mode, to ignore zone related error stack frames such as
 * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can
 * import the following file, but please comment it out in production mode
 * because it will have performance impact when throw error
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "../../node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "../../node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/fkolar/Documents/projects/MetaUI/modules/metaui-evolution/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map